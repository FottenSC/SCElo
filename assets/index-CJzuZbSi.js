var iP=Object.defineProperty;var nP=(e,t,r)=>t in e?iP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _s=(e,t,r)=>nP(e,typeof t!="symbol"?t+"":t,r);function sP(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function oP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var a_={exports:{}},ug={},l_={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=Symbol.for("react.element"),aP=Symbol.for("react.portal"),lP=Symbol.for("react.fragment"),cP=Symbol.for("react.strict_mode"),dP=Symbol.for("react.profiler"),uP=Symbol.for("react.provider"),hP=Symbol.for("react.context"),fP=Symbol.for("react.forward_ref"),pP=Symbol.for("react.suspense"),gP=Symbol.for("react.memo"),mP=Symbol.for("react.lazy"),j1=Symbol.iterator;function vP(e){return e===null||typeof e!="object"?null:(e=j1&&e[j1]||e["@@iterator"],typeof e=="function"?e:null)}var c_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d_=Object.assign,u_={};function Dc(e,t,r){this.props=e,this.context=t,this.refs=u_,this.updater=r||c_}Dc.prototype.isReactComponent={};Dc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function h_(){}h_.prototype=Dc.prototype;function $0(e,t,r){this.props=e,this.context=t,this.refs=u_,this.updater=r||c_}var B0=$0.prototype=new h_;B0.constructor=$0;d_(B0,Dc.prototype);B0.isPureReactComponent=!0;var N1=Array.isArray,f_=Object.prototype.hasOwnProperty,z0={current:null},p_={key:!0,ref:!0,__self:!0,__source:!0};function g_(e,t,r){var i,s={},a=null,c=null;if(t!=null)for(i in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)f_.call(t,i)&&!p_.hasOwnProperty(i)&&(s[i]=t[i]);var f=arguments.length-2;if(f===1)s.children=r;else if(1<f){for(var v=Array(f),x=0;x<f;x++)v[x]=arguments[x+2];s.children=v}if(e&&e.defaultProps)for(i in f=e.defaultProps,f)s[i]===void 0&&(s[i]=f[i]);return{$$typeof:Wu,type:e,key:a,ref:c,props:s,_owner:z0.current}}function xP(e,t){return{$$typeof:Wu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function F0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wu}function yP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var P1=/\/+/g;function ox(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yP(""+e.key):t.toString(36)}function dp(e,t,r,i,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Wu:case aP:c=!0}}if(c)return c=e,s=s(c),e=i===""?"."+ox(c,0):i,N1(s)?(r="",e!=null&&(r=e.replace(P1,"$&/")+"/"),dp(s,t,r,"",function(x){return x})):s!=null&&(F0(s)&&(s=xP(s,r+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(P1,"$&/")+"/")+e)),t.push(s)),1;if(c=0,i=i===""?".":i+":",N1(e))for(var f=0;f<e.length;f++){a=e[f];var v=i+ox(a,f);c+=dp(a,t,r,v,s)}else if(v=vP(e),typeof v=="function")for(e=v.call(e),f=0;!(a=e.next()).done;)a=a.value,v=i+ox(a,f++),c+=dp(a,t,r,v,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Of(e,t,r){if(e==null)return e;var i=[],s=0;return dp(e,i,"","",function(a){return t.call(r,a,s++)}),i}function bP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yi={current:null},up={transition:null},wP={ReactCurrentDispatcher:yi,ReactCurrentBatchConfig:up,ReactCurrentOwner:z0};function m_(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:Of,forEach:function(e,t,r){Of(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Of(e,function(){t++}),t},toArray:function(e){return Of(e,function(t){return t})||[]},only:function(e){if(!F0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pt.Component=Dc;Pt.Fragment=lP;Pt.Profiler=dP;Pt.PureComponent=$0;Pt.StrictMode=cP;Pt.Suspense=pP;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP;Pt.act=m_;Pt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=d_({},e.props),s=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=z0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(v in t)f_.call(t,v)&&!p_.hasOwnProperty(v)&&(i[v]=t[v]===void 0&&f!==void 0?f[v]:t[v])}var v=arguments.length-2;if(v===1)i.children=r;else if(1<v){f=Array(v);for(var x=0;x<v;x++)f[x]=arguments[x+2];i.children=f}return{$$typeof:Wu,type:e.type,key:s,ref:a,props:i,_owner:c}};Pt.createContext=function(e){return e={$$typeof:hP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uP,_context:e},e.Consumer=e};Pt.createElement=g_;Pt.createFactory=function(e){var t=g_.bind(null,e);return t.type=e,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(e){return{$$typeof:fP,render:e}};Pt.isValidElement=F0;Pt.lazy=function(e){return{$$typeof:mP,_payload:{_status:-1,_result:e},_init:bP}};Pt.memo=function(e,t){return{$$typeof:gP,type:e,compare:t===void 0?null:t}};Pt.startTransition=function(e){var t=up.transition;up.transition={};try{e()}finally{up.transition=t}};Pt.unstable_act=m_;Pt.useCallback=function(e,t){return yi.current.useCallback(e,t)};Pt.useContext=function(e){return yi.current.useContext(e)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(e){return yi.current.useDeferredValue(e)};Pt.useEffect=function(e,t){return yi.current.useEffect(e,t)};Pt.useId=function(){return yi.current.useId()};Pt.useImperativeHandle=function(e,t,r){return yi.current.useImperativeHandle(e,t,r)};Pt.useInsertionEffect=function(e,t){return yi.current.useInsertionEffect(e,t)};Pt.useLayoutEffect=function(e,t){return yi.current.useLayoutEffect(e,t)};Pt.useMemo=function(e,t){return yi.current.useMemo(e,t)};Pt.useReducer=function(e,t,r){return yi.current.useReducer(e,t,r)};Pt.useRef=function(e){return yi.current.useRef(e)};Pt.useState=function(e){return yi.current.useState(e)};Pt.useSyncExternalStore=function(e,t,r){return yi.current.useSyncExternalStore(e,t,r)};Pt.useTransition=function(){return yi.current.useTransition()};Pt.version="18.3.1";l_.exports=Pt;var T=l_.exports;const Fr=Vo(T),W0=sP({__proto__:null,default:Fr},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kP=T,SP=Symbol.for("react.element"),_P=Symbol.for("react.fragment"),CP=Object.prototype.hasOwnProperty,EP=kP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TP={key:!0,ref:!0,__self:!0,__source:!0};function v_(e,t,r){var i,s={},a=null,c=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(i in t)CP.call(t,i)&&!TP.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:SP,type:e,key:a,ref:c,props:s,_owner:EP.current}}ug.Fragment=_P;ug.jsx=v_;ug.jsxs=v_;a_.exports=ug;var h=a_.exports,dy={},x_={exports:{}},Vi={},y_={exports:{}},b_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(pe,Te){var $e=pe.length;pe.push(Te);e:for(;0<$e;){var Ye=$e-1>>>1,Se=pe[Ye];if(0<s(Se,Te))pe[Ye]=Te,pe[$e]=Se,$e=Ye;else break e}}function r(pe){return pe.length===0?null:pe[0]}function i(pe){if(pe.length===0)return null;var Te=pe[0],$e=pe.pop();if($e!==Te){pe[0]=$e;e:for(var Ye=0,Se=pe.length,Ve=Se>>>1;Ye<Ve;){var et=2*(Ye+1)-1,tt=pe[et],Ee=et+1,Pe=pe[Ee];if(0>s(tt,$e))Ee<Se&&0>s(Pe,tt)?(pe[Ye]=Pe,pe[Ee]=$e,Ye=Ee):(pe[Ye]=tt,pe[et]=$e,Ye=et);else if(Ee<Se&&0>s(Pe,$e))pe[Ye]=Pe,pe[Ee]=$e,Ye=Ee;else break e}}return Te}function s(pe,Te){var $e=pe.sortIndex-Te.sortIndex;return $e!==0?$e:pe.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var v=[],x=[],S=1,C=null,N=3,B=!1,U=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(pe){for(var Te=r(x);Te!==null;){if(Te.callback===null)i(x);else if(Te.startTime<=pe)i(x),Te.sortIndex=Te.expirationTime,t(v,Te);else break;Te=r(x)}}function q(pe){if(D=!1,O(pe),!U)if(r(v)!==null)U=!0,ie(ae);else{var Te=r(x);Te!==null&&me(q,Te.startTime-pe)}}function ae(pe,Te){U=!1,D&&(D=!1,I(J),J=-1),B=!0;var $e=N;try{for(O(Te),C=r(v);C!==null&&(!(C.expirationTime>Te)||pe&&!Ie());){var Ye=C.callback;if(typeof Ye=="function"){C.callback=null,N=C.priorityLevel;var Se=Ye(C.expirationTime<=Te);Te=e.unstable_now(),typeof Se=="function"?C.callback=Se:C===r(v)&&i(v),O(Te)}else i(v);C=r(v)}if(C!==null)var Ve=!0;else{var et=r(x);et!==null&&me(q,et.startTime-Te),Ve=!1}return Ve}finally{C=null,N=$e,B=!1}}var te=!1,le=null,J=-1,be=5,ke=-1;function Ie(){return!(e.unstable_now()-ke<be)}function he(){if(le!==null){var pe=e.unstable_now();ke=pe;var Te=!0;try{Te=le(!0,pe)}finally{Te?_e():(te=!1,le=null)}}else te=!1}var _e;if(typeof j=="function")_e=function(){j(he)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Je=Oe.port2;Oe.port1.onmessage=he,_e=function(){Je.postMessage(null)}}else _e=function(){R(he,0)};function ie(pe){le=pe,te||(te=!0,_e())}function me(pe,Te){J=R(function(){pe(e.unstable_now())},Te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(pe){pe.callback=null},e.unstable_continueExecution=function(){U||B||(U=!0,ie(ae))},e.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<pe?Math.floor(1e3/pe):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(pe){switch(N){case 1:case 2:case 3:var Te=3;break;default:Te=N}var $e=N;N=Te;try{return pe()}finally{N=$e}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(pe,Te){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var $e=N;N=pe;try{return Te()}finally{N=$e}},e.unstable_scheduleCallback=function(pe,Te,$e){var Ye=e.unstable_now();switch(typeof $e=="object"&&$e!==null?($e=$e.delay,$e=typeof $e=="number"&&0<$e?Ye+$e:Ye):$e=Ye,pe){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=$e+Se,pe={id:S++,callback:Te,priorityLevel:pe,startTime:$e,expirationTime:Se,sortIndex:-1},$e>Ye?(pe.sortIndex=$e,t(x,pe),r(v)===null&&pe===r(x)&&(D?(I(J),J=-1):D=!0,me(q,$e-Ye))):(pe.sortIndex=Se,t(v,pe),U||B||(U=!0,ie(ae))),pe},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(pe){var Te=N;return function(){var $e=N;N=Te;try{return pe.apply(this,arguments)}finally{N=$e}}}})(b_);y_.exports=b_;var AP=y_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MP=T,Gi=AP;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w_=new Set,bu={};function Za(e,t){Sc(e,t),Sc(e+"Capture",t)}function Sc(e,t){for(bu[e]=t,e=0;e<t.length;e++)w_.add(t[e])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uy=Object.prototype.hasOwnProperty,jP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O1={},R1={};function NP(e){return uy.call(R1,e)?!0:uy.call(O1,e)?!1:jP.test(e)?R1[e]=!0:(O1[e]=!0,!1)}function PP(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OP(e,t,r,i){if(t===null||typeof t>"u"||PP(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bi(e,t,r,i,s,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ei[e]=new bi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ei[t]=new bi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ei[e]=new bi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ei[e]=new bi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ei[e]=new bi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ei[e]=new bi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ei[e]=new bi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ei[e]=new bi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ei[e]=new bi(e,5,!1,e.toLowerCase(),null,!1,!1)});var U0=/[\-:]([a-z])/g;function H0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U0,H0);ei[t]=new bi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U0,H0);ei[t]=new bi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U0,H0);ei[t]=new bi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ei[e]=new bi(e,1,!1,e.toLowerCase(),null,!1,!1)});ei.xlinkHref=new bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ei[e]=new bi(e,1,!1,e.toLowerCase(),null,!0,!0)});function G0(e,t,r,i){var s=ei.hasOwnProperty(t)?ei[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OP(t,r,s,i)&&(r=null),i||s===null?NP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,i=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var Ws=MP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rf=Symbol.for("react.element"),Zl=Symbol.for("react.portal"),Ql=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),hy=Symbol.for("react.profiler"),k_=Symbol.for("react.provider"),S_=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),fy=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),Y0=Symbol.for("react.memo"),_o=Symbol.for("react.lazy"),__=Symbol.for("react.offscreen"),L1=Symbol.iterator;function $d(e){return e===null||typeof e!="object"?null:(e=L1&&e[L1]||e["@@iterator"],typeof e=="function"?e:null)}var dr=Object.assign,ax;function ru(e){if(ax===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ax=t&&t[1]||""}return`
`+ax+e}var lx=!1;function cx(e,t){if(!e||lx)return"";lx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var i=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){i=x}e.call(t.prototype)}else{try{throw Error()}catch(x){i=x}e()}}catch(x){if(x&&i&&typeof x.stack=="string"){for(var s=x.stack.split(`
`),a=i.stack.split(`
`),c=s.length-1,f=a.length-1;1<=c&&0<=f&&s[c]!==a[f];)f--;for(;1<=c&&0<=f;c--,f--)if(s[c]!==a[f]){if(c!==1||f!==1)do if(c--,f--,0>f||s[c]!==a[f]){var v=`
`+s[c].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=c&&0<=f);break}}}finally{lx=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ru(e):""}function RP(e){switch(e.tag){case 5:return ru(e.type);case 16:return ru("Lazy");case 13:return ru("Suspense");case 19:return ru("SuspenseList");case 0:case 2:case 15:return e=cx(e.type,!1),e;case 11:return e=cx(e.type.render,!1),e;case 1:return e=cx(e.type,!0),e;default:return""}}function gy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ql:return"Fragment";case Zl:return"Portal";case hy:return"Profiler";case V0:return"StrictMode";case fy:return"Suspense";case py:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S_:return(e.displayName||"Context")+".Consumer";case k_:return(e._context.displayName||"Context")+".Provider";case X0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y0:return t=e.displayName||null,t!==null?t:gy(e.type)||"Memo";case _o:t=e._payload,e=e._init;try{return gy(e(t))}catch{}}return null}function LP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gy(t);case 8:return t===V0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IP(e){var t=C_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){i=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(c){i=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lf(e){e._valueTracker||(e._valueTracker=IP(e))}function E_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=C_(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Tp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function my(e,t){var r=t.checked;return dr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function I1(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Fo(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T_(e,t){t=t.checked,t!=null&&G0(e,"checked",t,!1)}function vy(e,t){T_(e,t);var r=Fo(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xy(e,t.type,r):t.hasOwnProperty("defaultValue")&&xy(e,t.type,Fo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function D1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xy(e,t,r){(t!=="number"||Tp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var iu=Array.isArray;function hc(e,t,r,i){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Fo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function yy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return dr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ue(92));if(iu(r)){if(1<r.length)throw Error(Ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fo(r)}}function A_(e,t){var r=Fo(t.value),i=Fo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function B1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function M_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function by(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?M_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var If,j_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(If=If||document.createElement("div"),If.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=If.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DP=["Webkit","ms","Moz","O"];Object.keys(lu).forEach(function(e){DP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lu[t]=lu[e]})});function N_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lu.hasOwnProperty(e)&&lu[e]?(""+t).trim():t+"px"}function P_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=N_(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,s):e[r]=s}}var $P=dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wy(e,t){if(t){if($P[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function ky(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sy=null;function q0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _y=null,fc=null,pc=null;function z1(e){if(e=Gu(e)){if(typeof _y!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=mg(t),_y(e.stateNode,e.type,t))}}function O_(e){fc?pc?pc.push(e):pc=[e]:fc=e}function R_(){if(fc){var e=fc,t=pc;if(pc=fc=null,z1(e),t)for(e=0;e<t.length;e++)z1(t[e])}}function L_(e,t){return e(t)}function I_(){}var dx=!1;function D_(e,t,r){if(dx)return e(t,r);dx=!0;try{return L_(e,t,r)}finally{dx=!1,(fc!==null||pc!==null)&&(I_(),R_())}}function ku(e,t){var r=e.stateNode;if(r===null)return null;var i=mg(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ue(231,t,typeof r));return r}var Cy=!1;if(Rs)try{var Bd={};Object.defineProperty(Bd,"passive",{get:function(){Cy=!0}}),window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{Cy=!1}function BP(e,t,r,i,s,a,c,f,v){var x=Array.prototype.slice.call(arguments,3);try{t.apply(r,x)}catch(S){this.onError(S)}}var cu=!1,Ap=null,Mp=!1,Ey=null,zP={onError:function(e){cu=!0,Ap=e}};function FP(e,t,r,i,s,a,c,f,v){cu=!1,Ap=null,BP.apply(zP,arguments)}function WP(e,t,r,i,s,a,c,f,v){if(FP.apply(this,arguments),cu){if(cu){var x=Ap;cu=!1,Ap=null}else throw Error(Ue(198));Mp||(Mp=!0,Ey=x)}}function Qa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function F1(e){if(Qa(e)!==e)throw Error(Ue(188))}function UP(e){var t=e.alternate;if(!t){if(t=Qa(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var r=e,i=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return F1(s),e;if(a===i)return F1(s),t;a=a.sibling}throw Error(Ue(188))}if(r.return!==i.return)r=s,i=a;else{for(var c=!1,f=s.child;f;){if(f===r){c=!0,r=s,i=a;break}if(f===i){c=!0,i=s,r=a;break}f=f.sibling}if(!c){for(f=a.child;f;){if(f===r){c=!0,r=a,i=s;break}if(f===i){c=!0,i=a,r=s;break}f=f.sibling}if(!c)throw Error(Ue(189))}}if(r.alternate!==i)throw Error(Ue(190))}if(r.tag!==3)throw Error(Ue(188));return r.stateNode.current===r?e:t}function B_(e){return e=UP(e),e!==null?z_(e):null}function z_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=z_(e);if(t!==null)return t;e=e.sibling}return null}var F_=Gi.unstable_scheduleCallback,W1=Gi.unstable_cancelCallback,HP=Gi.unstable_shouldYield,GP=Gi.unstable_requestPaint,vr=Gi.unstable_now,VP=Gi.unstable_getCurrentPriorityLevel,K0=Gi.unstable_ImmediatePriority,W_=Gi.unstable_UserBlockingPriority,jp=Gi.unstable_NormalPriority,XP=Gi.unstable_LowPriority,U_=Gi.unstable_IdlePriority,hg=null,os=null;function YP(e){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(hg,e,void 0,(e.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:ZP,qP=Math.log,KP=Math.LN2;function ZP(e){return e>>>=0,e===0?32:31-(qP(e)/KP|0)|0}var Df=64,$f=4194304;function nu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Np(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes,c=r&268435455;if(c!==0){var f=c&~s;f!==0?i=nu(f):(a&=c,a!==0&&(i=nu(a)))}else c=r&~s,c!==0?i=nu(c):a!==0&&(i=nu(a));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Ln(t),s=1<<r,i|=e[r],t&=~s;return i}function QP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JP(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-Ln(a),f=1<<c,v=s[c];v===-1?(!(f&r)||f&i)&&(s[c]=QP(f,t)):v<=t&&(e.expiredLanes|=f),a&=~f}}function Ty(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function H_(){var e=Df;return Df<<=1,!(Df&4194240)&&(Df=64),e}function ux(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Uu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ln(t),e[t]=r}function eO(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ln(r),a=1<<s;t[s]=0,i[s]=-1,e[s]=-1,r&=~a}}function Z0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Ln(r),s=1<<i;s&t|e[i]&t&&(e[i]|=t),r&=~s}}var Ft=0;function G_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var V_,Q0,X_,Y_,q_,Ay=!1,Bf=[],Po=null,Oo=null,Ro=null,Su=new Map,_u=new Map,Eo=[],tO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U1(e,t){switch(e){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":Su.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(t.pointerId)}}function zd(e,t,r,i,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Gu(t),t!==null&&Q0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rO(e,t,r,i,s){switch(t){case"focusin":return Po=zd(Po,e,t,r,i,s),!0;case"dragenter":return Oo=zd(Oo,e,t,r,i,s),!0;case"mouseover":return Ro=zd(Ro,e,t,r,i,s),!0;case"pointerover":var a=s.pointerId;return Su.set(a,zd(Su.get(a)||null,e,t,r,i,s)),!0;case"gotpointercapture":return a=s.pointerId,_u.set(a,zd(_u.get(a)||null,e,t,r,i,s)),!0}return!1}function K_(e){var t=Ma(e.target);if(t!==null){var r=Qa(t);if(r!==null){if(t=r.tag,t===13){if(t=$_(r),t!==null){e.blockedOn=t,q_(e.priority,function(){X_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=My(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Sy=i,r.target.dispatchEvent(i),Sy=null}else return t=Gu(r),t!==null&&Q0(t),e.blockedOn=r,!1;t.shift()}return!0}function H1(e,t,r){hp(e)&&r.delete(t)}function iO(){Ay=!1,Po!==null&&hp(Po)&&(Po=null),Oo!==null&&hp(Oo)&&(Oo=null),Ro!==null&&hp(Ro)&&(Ro=null),Su.forEach(H1),_u.forEach(H1)}function Fd(e,t){e.blockedOn===t&&(e.blockedOn=null,Ay||(Ay=!0,Gi.unstable_scheduleCallback(Gi.unstable_NormalPriority,iO)))}function Cu(e){function t(s){return Fd(s,e)}if(0<Bf.length){Fd(Bf[0],e);for(var r=1;r<Bf.length;r++){var i=Bf[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Po!==null&&Fd(Po,e),Oo!==null&&Fd(Oo,e),Ro!==null&&Fd(Ro,e),Su.forEach(t),_u.forEach(t),r=0;r<Eo.length;r++)i=Eo[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Eo.length&&(r=Eo[0],r.blockedOn===null);)K_(r),r.blockedOn===null&&Eo.shift()}var gc=Ws.ReactCurrentBatchConfig,Pp=!0;function nO(e,t,r,i){var s=Ft,a=gc.transition;gc.transition=null;try{Ft=1,J0(e,t,r,i)}finally{Ft=s,gc.transition=a}}function sO(e,t,r,i){var s=Ft,a=gc.transition;gc.transition=null;try{Ft=4,J0(e,t,r,i)}finally{Ft=s,gc.transition=a}}function J0(e,t,r,i){if(Pp){var s=My(e,t,r,i);if(s===null)wx(e,t,i,Op,r),U1(e,i);else if(rO(s,e,t,r,i))i.stopPropagation();else if(U1(e,i),t&4&&-1<tO.indexOf(e)){for(;s!==null;){var a=Gu(s);if(a!==null&&V_(a),a=My(e,t,r,i),a===null&&wx(e,t,i,Op,r),a===s)break;s=a}s!==null&&i.stopPropagation()}else wx(e,t,i,null,r)}}var Op=null;function My(e,t,r,i){if(Op=null,e=q0(i),e=Ma(e),e!==null)if(t=Qa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Op=e,null}function Z_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VP()){case K0:return 1;case W_:return 4;case jp:case XP:return 16;case U_:return 536870912;default:return 16}default:return 16}}var Mo=null,eb=null,fp=null;function Q_(){if(fp)return fp;var e,t=eb,r=t.length,i,s="value"in Mo?Mo.value:Mo.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var c=r-e;for(i=1;i<=c&&t[r-i]===s[a-i];i++);return fp=s.slice(e,1<i?1-i:void 0)}function pp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zf(){return!0}function G1(){return!1}function Xi(e){function t(r,i,s,a,c){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(r=e[f],this[f]=r?r(a):a[f]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zf:G1,this.isPropagationStopped=G1,this}return dr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zf)},persist:function(){},isPersistent:zf}),t}var $c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tb=Xi($c),Hu=dr({},$c,{view:0,detail:0}),oO=Xi(Hu),hx,fx,Wd,fg=dr({},Hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wd&&(Wd&&e.type==="mousemove"?(hx=e.screenX-Wd.screenX,fx=e.screenY-Wd.screenY):fx=hx=0,Wd=e),hx)},movementY:function(e){return"movementY"in e?e.movementY:fx}}),V1=Xi(fg),aO=dr({},fg,{dataTransfer:0}),lO=Xi(aO),cO=dr({},Hu,{relatedTarget:0}),px=Xi(cO),dO=dr({},$c,{animationName:0,elapsedTime:0,pseudoElement:0}),uO=Xi(dO),hO=dr({},$c,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fO=Xi(hO),pO=dr({},$c,{data:0}),X1=Xi(pO),gO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vO[e])?!!t[e]:!1}function rb(){return xO}var yO=dr({},Hu,{key:function(e){if(e.key){var t=gO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rb,charCode:function(e){return e.type==="keypress"?pp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bO=Xi(yO),wO=dr({},fg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y1=Xi(wO),kO=dr({},Hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rb}),SO=Xi(kO),_O=dr({},$c,{propertyName:0,elapsedTime:0,pseudoElement:0}),CO=Xi(_O),EO=dr({},fg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TO=Xi(EO),AO=[9,13,27,32],ib=Rs&&"CompositionEvent"in window,du=null;Rs&&"documentMode"in document&&(du=document.documentMode);var MO=Rs&&"TextEvent"in window&&!du,J_=Rs&&(!ib||du&&8<du&&11>=du),q1=" ",K1=!1;function eC(e,t){switch(e){case"keyup":return AO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jl=!1;function jO(e,t){switch(e){case"compositionend":return tC(t);case"keypress":return t.which!==32?null:(K1=!0,q1);case"textInput":return e=t.data,e===q1&&K1?null:e;default:return null}}function NO(e,t){if(Jl)return e==="compositionend"||!ib&&eC(e,t)?(e=Q_(),fp=eb=Mo=null,Jl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J_&&t.locale!=="ko"?null:t.data;default:return null}}var PO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PO[e.type]:t==="textarea"}function rC(e,t,r,i){O_(i),t=Rp(t,"onChange"),0<t.length&&(r=new tb("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var uu=null,Eu=null;function OO(e){fC(e,0)}function pg(e){var t=rc(e);if(E_(t))return e}function RO(e,t){if(e==="change")return t}var iC=!1;if(Rs){var gx;if(Rs){var mx="oninput"in document;if(!mx){var Q1=document.createElement("div");Q1.setAttribute("oninput","return;"),mx=typeof Q1.oninput=="function"}gx=mx}else gx=!1;iC=gx&&(!document.documentMode||9<document.documentMode)}function J1(){uu&&(uu.detachEvent("onpropertychange",nC),Eu=uu=null)}function nC(e){if(e.propertyName==="value"&&pg(Eu)){var t=[];rC(t,Eu,e,q0(e)),D_(OO,t)}}function LO(e,t,r){e==="focusin"?(J1(),uu=t,Eu=r,uu.attachEvent("onpropertychange",nC)):e==="focusout"&&J1()}function IO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pg(Eu)}function DO(e,t){if(e==="click")return pg(t)}function $O(e,t){if(e==="input"||e==="change")return pg(t)}function BO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:BO;function Tu(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!uy.call(t,s)||!Dn(e[s],t[s]))return!1}return!0}function ek(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tk(e,t){var r=ek(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ek(r)}}function sC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oC(){for(var e=window,t=Tp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Tp(e.document)}return t}function nb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zO(e){var t=oC(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&sC(r.ownerDocument.documentElement,r)){if(i!==null&&nb(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!e.extend&&a>i&&(s=i,i=a,a=s),s=tk(r,a);var c=tk(r,i);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FO=Rs&&"documentMode"in document&&11>=document.documentMode,ec=null,jy=null,hu=null,Ny=!1;function rk(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ny||ec==null||ec!==Tp(i)||(i=ec,"selectionStart"in i&&nb(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),hu&&Tu(hu,i)||(hu=i,i=Rp(jy,"onSelect"),0<i.length&&(t=new tb("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=ec)))}function Ff(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var tc={animationend:Ff("Animation","AnimationEnd"),animationiteration:Ff("Animation","AnimationIteration"),animationstart:Ff("Animation","AnimationStart"),transitionend:Ff("Transition","TransitionEnd")},vx={},aC={};Rs&&(aC=document.createElement("div").style,"AnimationEvent"in window||(delete tc.animationend.animation,delete tc.animationiteration.animation,delete tc.animationstart.animation),"TransitionEvent"in window||delete tc.transitionend.transition);function gg(e){if(vx[e])return vx[e];if(!tc[e])return e;var t=tc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in aC)return vx[e]=t[r];return e}var lC=gg("animationend"),cC=gg("animationiteration"),dC=gg("animationstart"),uC=gg("transitionend"),hC=new Map,ik="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xo(e,t){hC.set(e,t),Za(t,[e])}for(var xx=0;xx<ik.length;xx++){var yx=ik[xx],WO=yx.toLowerCase(),UO=yx[0].toUpperCase()+yx.slice(1);Xo(WO,"on"+UO)}Xo(lC,"onAnimationEnd");Xo(cC,"onAnimationIteration");Xo(dC,"onAnimationStart");Xo("dblclick","onDoubleClick");Xo("focusin","onFocus");Xo("focusout","onBlur");Xo(uC,"onTransitionEnd");Sc("onMouseEnter",["mouseout","mouseover"]);Sc("onMouseLeave",["mouseout","mouseover"]);Sc("onPointerEnter",["pointerout","pointerover"]);Sc("onPointerLeave",["pointerout","pointerover"]);Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Za("onBeforeInput",["compositionend","keypress","textInput","paste"]);Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HO=new Set("cancel close invalid load scroll toggle".split(" ").concat(su));function nk(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,WP(i,t,void 0,e),e.currentTarget=null}function fC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],s=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var c=i.length-1;0<=c;c--){var f=i[c],v=f.instance,x=f.currentTarget;if(f=f.listener,v!==a&&s.isPropagationStopped())break e;nk(s,f,x),a=v}else for(c=0;c<i.length;c++){if(f=i[c],v=f.instance,x=f.currentTarget,f=f.listener,v!==a&&s.isPropagationStopped())break e;nk(s,f,x),a=v}}}if(Mp)throw e=Ey,Mp=!1,Ey=null,e}function Zt(e,t){var r=t[Iy];r===void 0&&(r=t[Iy]=new Set);var i=e+"__bubble";r.has(i)||(pC(t,e,2,!1),r.add(i))}function bx(e,t,r){var i=0;t&&(i|=4),pC(r,e,i,t)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function Au(e){if(!e[Wf]){e[Wf]=!0,w_.forEach(function(r){r!=="selectionchange"&&(HO.has(r)||bx(r,!1,e),bx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wf]||(t[Wf]=!0,bx("selectionchange",!1,t))}}function pC(e,t,r,i){switch(Z_(t)){case 1:var s=nO;break;case 4:s=sO;break;default:s=J0}r=s.bind(null,t,r,e),s=void 0,!Cy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function wx(e,t,r,i,s){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var c=i.tag;if(c===3||c===4){var f=i.stateNode.containerInfo;if(f===s||f.nodeType===8&&f.parentNode===s)break;if(c===4)for(c=i.return;c!==null;){var v=c.tag;if((v===3||v===4)&&(v=c.stateNode.containerInfo,v===s||v.nodeType===8&&v.parentNode===s))return;c=c.return}for(;f!==null;){if(c=Ma(f),c===null)return;if(v=c.tag,v===5||v===6){i=a=c;continue e}f=f.parentNode}}i=i.return}D_(function(){var x=a,S=q0(r),C=[];e:{var N=hC.get(e);if(N!==void 0){var B=tb,U=e;switch(e){case"keypress":if(pp(r)===0)break e;case"keydown":case"keyup":B=bO;break;case"focusin":U="focus",B=px;break;case"focusout":U="blur",B=px;break;case"beforeblur":case"afterblur":B=px;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=V1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=lO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=SO;break;case lC:case cC:case dC:B=uO;break;case uC:B=CO;break;case"scroll":B=oO;break;case"wheel":B=TO;break;case"copy":case"cut":case"paste":B=fO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Y1}var D=(t&4)!==0,R=!D&&e==="scroll",I=D?N!==null?N+"Capture":null:N;D=[];for(var j=x,O;j!==null;){O=j;var q=O.stateNode;if(O.tag===5&&q!==null&&(O=q,I!==null&&(q=ku(j,I),q!=null&&D.push(Mu(j,q,O)))),R)break;j=j.return}0<D.length&&(N=new B(N,U,null,r,S),C.push({event:N,listeners:D}))}}if(!(t&7)){e:{if(N=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",N&&r!==Sy&&(U=r.relatedTarget||r.fromElement)&&(Ma(U)||U[Ls]))break e;if((B||N)&&(N=S.window===S?S:(N=S.ownerDocument)?N.defaultView||N.parentWindow:window,B?(U=r.relatedTarget||r.toElement,B=x,U=U?Ma(U):null,U!==null&&(R=Qa(U),U!==R||U.tag!==5&&U.tag!==6)&&(U=null)):(B=null,U=x),B!==U)){if(D=V1,q="onMouseLeave",I="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(D=Y1,q="onPointerLeave",I="onPointerEnter",j="pointer"),R=B==null?N:rc(B),O=U==null?N:rc(U),N=new D(q,j+"leave",B,r,S),N.target=R,N.relatedTarget=O,q=null,Ma(S)===x&&(D=new D(I,j+"enter",U,r,S),D.target=O,D.relatedTarget=R,q=D),R=q,B&&U)t:{for(D=B,I=U,j=0,O=D;O;O=Ll(O))j++;for(O=0,q=I;q;q=Ll(q))O++;for(;0<j-O;)D=Ll(D),j--;for(;0<O-j;)I=Ll(I),O--;for(;j--;){if(D===I||I!==null&&D===I.alternate)break t;D=Ll(D),I=Ll(I)}D=null}else D=null;B!==null&&sk(C,N,B,D,!1),U!==null&&R!==null&&sk(C,R,U,D,!0)}}e:{if(N=x?rc(x):window,B=N.nodeName&&N.nodeName.toLowerCase(),B==="select"||B==="input"&&N.type==="file")var ae=RO;else if(Z1(N))if(iC)ae=$O;else{ae=IO;var te=LO}else(B=N.nodeName)&&B.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(ae=DO);if(ae&&(ae=ae(e,x))){rC(C,ae,r,S);break e}te&&te(e,N,x),e==="focusout"&&(te=N._wrapperState)&&te.controlled&&N.type==="number"&&xy(N,"number",N.value)}switch(te=x?rc(x):window,e){case"focusin":(Z1(te)||te.contentEditable==="true")&&(ec=te,jy=x,hu=null);break;case"focusout":hu=jy=ec=null;break;case"mousedown":Ny=!0;break;case"contextmenu":case"mouseup":case"dragend":Ny=!1,rk(C,r,S);break;case"selectionchange":if(FO)break;case"keydown":case"keyup":rk(C,r,S)}var le;if(ib)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Jl?eC(e,r)&&(J="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(J="onCompositionStart");J&&(J_&&r.locale!=="ko"&&(Jl||J!=="onCompositionStart"?J==="onCompositionEnd"&&Jl&&(le=Q_()):(Mo=S,eb="value"in Mo?Mo.value:Mo.textContent,Jl=!0)),te=Rp(x,J),0<te.length&&(J=new X1(J,e,null,r,S),C.push({event:J,listeners:te}),le?J.data=le:(le=tC(r),le!==null&&(J.data=le)))),(le=MO?jO(e,r):NO(e,r))&&(x=Rp(x,"onBeforeInput"),0<x.length&&(S=new X1("onBeforeInput","beforeinput",null,r,S),C.push({event:S,listeners:x}),S.data=le))}fC(C,t)})}function Mu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rp(e,t){for(var r=t+"Capture",i=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ku(e,r),a!=null&&i.unshift(Mu(e,a,s)),a=ku(e,t),a!=null&&i.push(Mu(e,a,s))),e=e.return}return i}function Ll(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sk(e,t,r,i,s){for(var a=t._reactName,c=[];r!==null&&r!==i;){var f=r,v=f.alternate,x=f.stateNode;if(v!==null&&v===i)break;f.tag===5&&x!==null&&(f=x,s?(v=ku(r,a),v!=null&&c.unshift(Mu(r,v,f))):s||(v=ku(r,a),v!=null&&c.push(Mu(r,v,f)))),r=r.return}c.length!==0&&e.push({event:t,listeners:c})}var GO=/\r\n?/g,VO=/\u0000|\uFFFD/g;function ok(e){return(typeof e=="string"?e:""+e).replace(GO,`
`).replace(VO,"")}function Uf(e,t,r){if(t=ok(t),ok(e)!==t&&r)throw Error(Ue(425))}function Lp(){}var Py=null,Oy=null;function Ry(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ly=typeof setTimeout=="function"?setTimeout:void 0,XO=typeof clearTimeout=="function"?clearTimeout:void 0,ak=typeof Promise=="function"?Promise:void 0,YO=typeof queueMicrotask=="function"?queueMicrotask:typeof ak<"u"?function(e){return ak.resolve(null).then(e).catch(qO)}:Ly;function qO(e){setTimeout(function(){throw e})}function kx(e,t){var r=t,i=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){e.removeChild(s),Cu(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);Cu(t)}function Lo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bc=Math.random().toString(36).slice(2),is="__reactFiber$"+Bc,ju="__reactProps$"+Bc,Ls="__reactContainer$"+Bc,Iy="__reactEvents$"+Bc,KO="__reactListeners$"+Bc,ZO="__reactHandles$"+Bc;function Ma(e){var t=e[is];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ls]||r[is]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lk(e);e!==null;){if(r=e[is])return r;e=lk(e)}return t}e=r,r=e.parentNode}return null}function Gu(e){return e=e[is]||e[Ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function mg(e){return e[ju]||null}var Dy=[],ic=-1;function Yo(e){return{current:e}}function Qt(e){0>ic||(e.current=Dy[ic],Dy[ic]=null,ic--)}function qt(e,t){ic++,Dy[ic]=e.current,e.current=t}var Wo={},li=Yo(Wo),ji=Yo(!1),La=Wo;function _c(e,t){var r=e.type.contextTypes;if(!r)return Wo;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ni(e){return e=e.childContextTypes,e!=null}function Ip(){Qt(ji),Qt(li)}function ck(e,t,r){if(li.current!==Wo)throw Error(Ue(168));qt(li,t),qt(ji,r)}function gC(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(Ue(108,LP(e)||"Unknown",s));return dr({},r,i)}function Dp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wo,La=li.current,qt(li,e),qt(ji,ji.current),!0}function dk(e,t,r){var i=e.stateNode;if(!i)throw Error(Ue(169));r?(e=gC(e,t,La),i.__reactInternalMemoizedMergedChildContext=e,Qt(ji),Qt(li),qt(li,e)):Qt(ji),qt(ji,r)}var As=null,vg=!1,Sx=!1;function mC(e){As===null?As=[e]:As.push(e)}function QO(e){vg=!0,mC(e)}function qo(){if(!Sx&&As!==null){Sx=!0;var e=0,t=Ft;try{var r=As;for(Ft=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}As=null,vg=!1}catch(s){throw As!==null&&(As=As.slice(e+1)),F_(K0,qo),s}finally{Ft=t,Sx=!1}}return null}var nc=[],sc=0,$p=null,Bp=0,un=[],hn=0,Ia=null,js=1,Ns="";function Sa(e,t){nc[sc++]=Bp,nc[sc++]=$p,$p=e,Bp=t}function vC(e,t,r){un[hn++]=js,un[hn++]=Ns,un[hn++]=Ia,Ia=e;var i=js;e=Ns;var s=32-Ln(i)-1;i&=~(1<<s),r+=1;var a=32-Ln(t)+s;if(30<a){var c=s-s%5;a=(i&(1<<c)-1).toString(32),i>>=c,s-=c,js=1<<32-Ln(t)+s|r<<s|i,Ns=a+e}else js=1<<a|r<<s|i,Ns=e}function sb(e){e.return!==null&&(Sa(e,1),vC(e,1,0))}function ob(e){for(;e===$p;)$p=nc[--sc],nc[sc]=null,Bp=nc[--sc],nc[sc]=null;for(;e===Ia;)Ia=un[--hn],un[hn]=null,Ns=un[--hn],un[hn]=null,js=un[--hn],un[hn]=null}var Ui=null,Wi=null,rr=!1,On=null;function xC(e,t){var r=fn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ui=e,Wi=Lo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ui=e,Wi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ia!==null?{id:js,overflow:Ns}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ui=e,Wi=null,!0):!1;default:return!1}}function $y(e){return(e.mode&1)!==0&&(e.flags&128)===0}function By(e){if(rr){var t=Wi;if(t){var r=t;if(!uk(e,t)){if($y(e))throw Error(Ue(418));t=Lo(r.nextSibling);var i=Ui;t&&uk(e,t)?xC(i,r):(e.flags=e.flags&-4097|2,rr=!1,Ui=e)}}else{if($y(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,rr=!1,Ui=e}}}function hk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ui=e}function Hf(e){if(e!==Ui)return!1;if(!rr)return hk(e),rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ry(e.type,e.memoizedProps)),t&&(t=Wi)){if($y(e))throw yC(),Error(Ue(418));for(;t;)xC(e,t),t=Lo(t.nextSibling)}if(hk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Wi=Lo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Wi=null}}else Wi=Ui?Lo(e.stateNode.nextSibling):null;return!0}function yC(){for(var e=Wi;e;)e=Lo(e.nextSibling)}function Cc(){Wi=Ui=null,rr=!1}function ab(e){On===null?On=[e]:On.push(e)}var JO=Ws.ReactCurrentBatchConfig;function Ud(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ue(309));var i=r.stateNode}if(!i)throw Error(Ue(147,e));var s=i,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var f=s.refs;c===null?delete f[a]:f[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ue(284));if(!r._owner)throw Error(Ue(290,e))}return e}function Gf(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fk(e){var t=e._init;return t(e._payload)}function bC(e){function t(I,j){if(e){var O=I.deletions;O===null?(I.deletions=[j],I.flags|=16):O.push(j)}}function r(I,j){if(!e)return null;for(;j!==null;)t(I,j),j=j.sibling;return null}function i(I,j){for(I=new Map;j!==null;)j.key!==null?I.set(j.key,j):I.set(j.index,j),j=j.sibling;return I}function s(I,j){return I=Bo(I,j),I.index=0,I.sibling=null,I}function a(I,j,O){return I.index=O,e?(O=I.alternate,O!==null?(O=O.index,O<j?(I.flags|=2,j):O):(I.flags|=2,j)):(I.flags|=1048576,j)}function c(I){return e&&I.alternate===null&&(I.flags|=2),I}function f(I,j,O,q){return j===null||j.tag!==6?(j=jx(O,I.mode,q),j.return=I,j):(j=s(j,O),j.return=I,j)}function v(I,j,O,q){var ae=O.type;return ae===Ql?S(I,j,O.props.children,q,O.key):j!==null&&(j.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===_o&&fk(ae)===j.type)?(q=s(j,O.props),q.ref=Ud(I,j,O),q.return=I,q):(q=wp(O.type,O.key,O.props,null,I.mode,q),q.ref=Ud(I,j,O),q.return=I,q)}function x(I,j,O,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==O.containerInfo||j.stateNode.implementation!==O.implementation?(j=Nx(O,I.mode,q),j.return=I,j):(j=s(j,O.children||[]),j.return=I,j)}function S(I,j,O,q,ae){return j===null||j.tag!==7?(j=Ra(O,I.mode,q,ae),j.return=I,j):(j=s(j,O),j.return=I,j)}function C(I,j,O){if(typeof j=="string"&&j!==""||typeof j=="number")return j=jx(""+j,I.mode,O),j.return=I,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Rf:return O=wp(j.type,j.key,j.props,null,I.mode,O),O.ref=Ud(I,null,j),O.return=I,O;case Zl:return j=Nx(j,I.mode,O),j.return=I,j;case _o:var q=j._init;return C(I,q(j._payload),O)}if(iu(j)||$d(j))return j=Ra(j,I.mode,O,null),j.return=I,j;Gf(I,j)}return null}function N(I,j,O,q){var ae=j!==null?j.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ae!==null?null:f(I,j,""+O,q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Rf:return O.key===ae?v(I,j,O,q):null;case Zl:return O.key===ae?x(I,j,O,q):null;case _o:return ae=O._init,N(I,j,ae(O._payload),q)}if(iu(O)||$d(O))return ae!==null?null:S(I,j,O,q,null);Gf(I,O)}return null}function B(I,j,O,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number")return I=I.get(O)||null,f(j,I,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Rf:return I=I.get(q.key===null?O:q.key)||null,v(j,I,q,ae);case Zl:return I=I.get(q.key===null?O:q.key)||null,x(j,I,q,ae);case _o:var te=q._init;return B(I,j,O,te(q._payload),ae)}if(iu(q)||$d(q))return I=I.get(O)||null,S(j,I,q,ae,null);Gf(j,q)}return null}function U(I,j,O,q){for(var ae=null,te=null,le=j,J=j=0,be=null;le!==null&&J<O.length;J++){le.index>J?(be=le,le=null):be=le.sibling;var ke=N(I,le,O[J],q);if(ke===null){le===null&&(le=be);break}e&&le&&ke.alternate===null&&t(I,le),j=a(ke,j,J),te===null?ae=ke:te.sibling=ke,te=ke,le=be}if(J===O.length)return r(I,le),rr&&Sa(I,J),ae;if(le===null){for(;J<O.length;J++)le=C(I,O[J],q),le!==null&&(j=a(le,j,J),te===null?ae=le:te.sibling=le,te=le);return rr&&Sa(I,J),ae}for(le=i(I,le);J<O.length;J++)be=B(le,I,J,O[J],q),be!==null&&(e&&be.alternate!==null&&le.delete(be.key===null?J:be.key),j=a(be,j,J),te===null?ae=be:te.sibling=be,te=be);return e&&le.forEach(function(Ie){return t(I,Ie)}),rr&&Sa(I,J),ae}function D(I,j,O,q){var ae=$d(O);if(typeof ae!="function")throw Error(Ue(150));if(O=ae.call(O),O==null)throw Error(Ue(151));for(var te=ae=null,le=j,J=j=0,be=null,ke=O.next();le!==null&&!ke.done;J++,ke=O.next()){le.index>J?(be=le,le=null):be=le.sibling;var Ie=N(I,le,ke.value,q);if(Ie===null){le===null&&(le=be);break}e&&le&&Ie.alternate===null&&t(I,le),j=a(Ie,j,J),te===null?ae=Ie:te.sibling=Ie,te=Ie,le=be}if(ke.done)return r(I,le),rr&&Sa(I,J),ae;if(le===null){for(;!ke.done;J++,ke=O.next())ke=C(I,ke.value,q),ke!==null&&(j=a(ke,j,J),te===null?ae=ke:te.sibling=ke,te=ke);return rr&&Sa(I,J),ae}for(le=i(I,le);!ke.done;J++,ke=O.next())ke=B(le,I,J,ke.value,q),ke!==null&&(e&&ke.alternate!==null&&le.delete(ke.key===null?J:ke.key),j=a(ke,j,J),te===null?ae=ke:te.sibling=ke,te=ke);return e&&le.forEach(function(he){return t(I,he)}),rr&&Sa(I,J),ae}function R(I,j,O,q){if(typeof O=="object"&&O!==null&&O.type===Ql&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Rf:e:{for(var ae=O.key,te=j;te!==null;){if(te.key===ae){if(ae=O.type,ae===Ql){if(te.tag===7){r(I,te.sibling),j=s(te,O.props.children),j.return=I,I=j;break e}}else if(te.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===_o&&fk(ae)===te.type){r(I,te.sibling),j=s(te,O.props),j.ref=Ud(I,te,O),j.return=I,I=j;break e}r(I,te);break}else t(I,te);te=te.sibling}O.type===Ql?(j=Ra(O.props.children,I.mode,q,O.key),j.return=I,I=j):(q=wp(O.type,O.key,O.props,null,I.mode,q),q.ref=Ud(I,j,O),q.return=I,I=q)}return c(I);case Zl:e:{for(te=O.key;j!==null;){if(j.key===te)if(j.tag===4&&j.stateNode.containerInfo===O.containerInfo&&j.stateNode.implementation===O.implementation){r(I,j.sibling),j=s(j,O.children||[]),j.return=I,I=j;break e}else{r(I,j);break}else t(I,j);j=j.sibling}j=Nx(O,I.mode,q),j.return=I,I=j}return c(I);case _o:return te=O._init,R(I,j,te(O._payload),q)}if(iu(O))return U(I,j,O,q);if($d(O))return D(I,j,O,q);Gf(I,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,j!==null&&j.tag===6?(r(I,j.sibling),j=s(j,O),j.return=I,I=j):(r(I,j),j=jx(O,I.mode,q),j.return=I,I=j),c(I)):r(I,j)}return R}var Ec=bC(!0),wC=bC(!1),zp=Yo(null),Fp=null,oc=null,lb=null;function cb(){lb=oc=Fp=null}function db(e){var t=zp.current;Qt(zp),e._currentValue=t}function zy(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function mc(e,t){Fp=e,lb=oc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mi=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(lb!==e)if(e={context:e,memoizedValue:t,next:null},oc===null){if(Fp===null)throw Error(Ue(308));oc=e,Fp.dependencies={lanes:0,firstContext:e}}else oc=oc.next=e;return t}var ja=null;function ub(e){ja===null?ja=[e]:ja.push(e)}function kC(e,t,r,i){var s=t.interleaved;return s===null?(r.next=r,ub(t)):(r.next=s.next,s.next=r),t.interleaved=r,Is(e,i)}function Is(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Co=!1;function hb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Io(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Rt&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Is(e,r)}return s=i.interleaved,s===null?(t.next=t,ub(i)):(t.next=s.next,s.next=t),i.interleaved=t,Is(e,r)}function gp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Z0(e,r)}}function pk(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=c:a=a.next=c,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wp(e,t,r,i){var s=e.updateQueue;Co=!1;var a=s.firstBaseUpdate,c=s.lastBaseUpdate,f=s.shared.pending;if(f!==null){s.shared.pending=null;var v=f,x=v.next;v.next=null,c===null?a=x:c.next=x,c=v;var S=e.alternate;S!==null&&(S=S.updateQueue,f=S.lastBaseUpdate,f!==c&&(f===null?S.firstBaseUpdate=x:f.next=x,S.lastBaseUpdate=v))}if(a!==null){var C=s.baseState;c=0,S=x=v=null,f=a;do{var N=f.lane,B=f.eventTime;if((i&N)===N){S!==null&&(S=S.next={eventTime:B,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var U=e,D=f;switch(N=t,B=r,D.tag){case 1:if(U=D.payload,typeof U=="function"){C=U.call(B,C,N);break e}C=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=D.payload,N=typeof U=="function"?U.call(B,C,N):U,N==null)break e;C=dr({},C,N);break e;case 2:Co=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,N=s.effects,N===null?s.effects=[f]:N.push(f))}else B={eventTime:B,lane:N,tag:f.tag,payload:f.payload,callback:f.callback,next:null},S===null?(x=S=B,v=C):S=S.next=B,c|=N;if(f=f.next,f===null){if(f=s.shared.pending,f===null)break;N=f,f=N.next,N.next=null,s.lastBaseUpdate=N,s.shared.pending=null}}while(!0);if(S===null&&(v=C),s.baseState=v,s.firstBaseUpdate=x,s.lastBaseUpdate=S,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);$a|=c,e.lanes=c,e.memoizedState=C}}function gk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(Ue(191,s));s.call(i)}}}var Vu={},as=Yo(Vu),Nu=Yo(Vu),Pu=Yo(Vu);function Na(e){if(e===Vu)throw Error(Ue(174));return e}function fb(e,t){switch(qt(Pu,t),qt(Nu,e),qt(as,Vu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:by(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=by(t,e)}Qt(as),qt(as,t)}function Tc(){Qt(as),Qt(Nu),Qt(Pu)}function _C(e){Na(Pu.current);var t=Na(as.current),r=by(t,e.type);t!==r&&(qt(Nu,e),qt(as,r))}function pb(e){Nu.current===e&&(Qt(as),Qt(Nu))}var ar=Yo(0);function Up(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _x=[];function gb(){for(var e=0;e<_x.length;e++)_x[e]._workInProgressVersionPrimary=null;_x.length=0}var mp=Ws.ReactCurrentDispatcher,Cx=Ws.ReactCurrentBatchConfig,Da=0,lr=null,Or=null,zr=null,Hp=!1,fu=!1,Ou=0,eR=0;function ri(){throw Error(Ue(321))}function mb(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dn(e[r],t[r]))return!1;return!0}function vb(e,t,r,i,s,a){if(Da=a,lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mp.current=e===null||e.memoizedState===null?nR:sR,e=r(i,s),fu){a=0;do{if(fu=!1,Ou=0,25<=a)throw Error(Ue(301));a+=1,zr=Or=null,t.updateQueue=null,mp.current=oR,e=r(i,s)}while(fu)}if(mp.current=Gp,t=Or!==null&&Or.next!==null,Da=0,zr=Or=lr=null,Hp=!1,t)throw Error(Ue(300));return e}function xb(){var e=Ou!==0;return Ou=0,e}function es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?lr.memoizedState=zr=e:zr=zr.next=e,zr}function vn(){if(Or===null){var e=lr.alternate;e=e!==null?e.memoizedState:null}else e=Or.next;var t=zr===null?lr.memoizedState:zr.next;if(t!==null)zr=t,Or=e;else{if(e===null)throw Error(Ue(310));Or=e,e={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},zr===null?lr.memoizedState=zr=e:zr=zr.next=e}return zr}function Ru(e,t){return typeof t=="function"?t(e):t}function Ex(e){var t=vn(),r=t.queue;if(r===null)throw Error(Ue(311));r.lastRenderedReducer=e;var i=Or,s=i.baseQueue,a=r.pending;if(a!==null){if(s!==null){var c=s.next;s.next=a.next,a.next=c}i.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,i=i.baseState;var f=c=null,v=null,x=a;do{var S=x.lane;if((Da&S)===S)v!==null&&(v=v.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),i=x.hasEagerState?x.eagerState:e(i,x.action);else{var C={lane:S,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};v===null?(f=v=C,c=i):v=v.next=C,lr.lanes|=S,$a|=S}x=x.next}while(x!==null&&x!==a);v===null?c=i:v.next=f,Dn(i,t.memoizedState)||(Mi=!0),t.memoizedState=i,t.baseState=c,t.baseQueue=v,r.lastRenderedState=i}if(e=r.interleaved,e!==null){s=e;do a=s.lane,lr.lanes|=a,$a|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Tx(e){var t=vn(),r=t.queue;if(r===null)throw Error(Ue(311));r.lastRenderedReducer=e;var i=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var c=s=s.next;do a=e(a,c.action),c=c.next;while(c!==s);Dn(a,t.memoizedState)||(Mi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,i]}function CC(){}function EC(e,t){var r=lr,i=vn(),s=t(),a=!Dn(i.memoizedState,s);if(a&&(i.memoizedState=s,Mi=!0),i=i.queue,yb(MC.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||zr!==null&&zr.memoizedState.tag&1){if(r.flags|=2048,Lu(9,AC.bind(null,r,i,s,t),void 0,null),Wr===null)throw Error(Ue(349));Da&30||TC(r,t,s)}return s}function TC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function AC(e,t,r,i){t.value=r,t.getSnapshot=i,jC(t)&&NC(e)}function MC(e,t,r){return r(function(){jC(t)&&NC(e)})}function jC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dn(e,r)}catch{return!0}}function NC(e){var t=Is(e,1);t!==null&&In(t,e,1,-1)}function mk(e){var t=es();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:e},t.queue=e,e=e.dispatch=iR.bind(null,lr,e),[t.memoizedState,e]}function Lu(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function PC(){return vn().memoizedState}function vp(e,t,r,i){var s=es();lr.flags|=e,s.memoizedState=Lu(1|t,r,void 0,i===void 0?null:i)}function xg(e,t,r,i){var s=vn();i=i===void 0?null:i;var a=void 0;if(Or!==null){var c=Or.memoizedState;if(a=c.destroy,i!==null&&mb(i,c.deps)){s.memoizedState=Lu(t,r,a,i);return}}lr.flags|=e,s.memoizedState=Lu(1|t,r,a,i)}function vk(e,t){return vp(8390656,8,e,t)}function yb(e,t){return xg(2048,8,e,t)}function OC(e,t){return xg(4,2,e,t)}function RC(e,t){return xg(4,4,e,t)}function LC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IC(e,t,r){return r=r!=null?r.concat([e]):null,xg(4,4,LC.bind(null,t,e),r)}function bb(){}function DC(e,t){var r=vn();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&mb(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function $C(e,t){var r=vn();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&mb(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function BC(e,t,r){return Da&21?(Dn(r,t)||(r=H_(),lr.lanes|=r,$a|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mi=!0),e.memoizedState=r)}function tR(e,t){var r=Ft;Ft=r!==0&&4>r?r:4,e(!0);var i=Cx.transition;Cx.transition={};try{e(!1),t()}finally{Ft=r,Cx.transition=i}}function zC(){return vn().memoizedState}function rR(e,t,r){var i=$o(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},FC(e))WC(t,r);else if(r=kC(e,t,r,i),r!==null){var s=mi();In(r,e,i,s),UC(r,t,i)}}function iR(e,t,r){var i=$o(e),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(FC(e))WC(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,f=a(c,r);if(s.hasEagerState=!0,s.eagerState=f,Dn(f,c)){var v=t.interleaved;v===null?(s.next=s,ub(t)):(s.next=v.next,v.next=s),t.interleaved=s;return}}catch{}finally{}r=kC(e,t,s,i),r!==null&&(s=mi(),In(r,e,i,s),UC(r,t,i))}}function FC(e){var t=e.alternate;return e===lr||t!==null&&t===lr}function WC(e,t){fu=Hp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function UC(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Z0(e,r)}}var Gp={readContext:mn,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useInsertionEffect:ri,useLayoutEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useMutableSource:ri,useSyncExternalStore:ri,useId:ri,unstable_isNewReconciler:!1},nR={readContext:mn,useCallback:function(e,t){return es().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:vk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vp(4194308,4,LC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vp(4194308,4,e,t)},useInsertionEffect:function(e,t){return vp(4,2,e,t)},useMemo:function(e,t){var r=es();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=es();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=rR.bind(null,lr,e),[i.memoizedState,e]},useRef:function(e){var t=es();return e={current:e},t.memoizedState=e},useState:mk,useDebugValue:bb,useDeferredValue:function(e){return es().memoizedState=e},useTransition:function(){var e=mk(!1),t=e[0];return e=tR.bind(null,e[1]),es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=lr,s=es();if(rr){if(r===void 0)throw Error(Ue(407));r=r()}else{if(r=t(),Wr===null)throw Error(Ue(349));Da&30||TC(i,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,vk(MC.bind(null,i,a,e),[e]),i.flags|=2048,Lu(9,AC.bind(null,i,a,r,t),void 0,null),r},useId:function(){var e=es(),t=Wr.identifierPrefix;if(rr){var r=Ns,i=js;r=(i&~(1<<32-Ln(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ou++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sR={readContext:mn,useCallback:DC,useContext:mn,useEffect:yb,useImperativeHandle:IC,useInsertionEffect:OC,useLayoutEffect:RC,useMemo:$C,useReducer:Ex,useRef:PC,useState:function(){return Ex(Ru)},useDebugValue:bb,useDeferredValue:function(e){var t=vn();return BC(t,Or.memoizedState,e)},useTransition:function(){var e=Ex(Ru)[0],t=vn().memoizedState;return[e,t]},useMutableSource:CC,useSyncExternalStore:EC,useId:zC,unstable_isNewReconciler:!1},oR={readContext:mn,useCallback:DC,useContext:mn,useEffect:yb,useImperativeHandle:IC,useInsertionEffect:OC,useLayoutEffect:RC,useMemo:$C,useReducer:Tx,useRef:PC,useState:function(){return Tx(Ru)},useDebugValue:bb,useDeferredValue:function(e){var t=vn();return Or===null?t.memoizedState=e:BC(t,Or.memoizedState,e)},useTransition:function(){var e=Tx(Ru)[0],t=vn().memoizedState;return[e,t]},useMutableSource:CC,useSyncExternalStore:EC,useId:zC,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=dr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fy(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:dr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yg={isMounted:function(e){return(e=e._reactInternals)?Qa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=mi(),s=$o(e),a=Ps(i,s);a.payload=t,r!=null&&(a.callback=r),t=Io(e,a,s),t!==null&&(In(t,e,s,i),gp(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=mi(),s=$o(e),a=Ps(i,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Io(e,a,s),t!==null&&(In(t,e,s,i),gp(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mi(),i=$o(e),s=Ps(r,i);s.tag=2,t!=null&&(s.callback=t),t=Io(e,s,i),t!==null&&(In(t,e,i,r),gp(t,e,i))}};function xk(e,t,r,i,s,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,c):t.prototype&&t.prototype.isPureReactComponent?!Tu(r,i)||!Tu(s,a):!0}function HC(e,t,r){var i=!1,s=Wo,a=t.contextType;return typeof a=="object"&&a!==null?a=mn(a):(s=Ni(t)?La:li.current,i=t.contextTypes,a=(i=i!=null)?_c(e,s):Wo),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yg,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function yk(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&yg.enqueueReplaceState(t,t.state,null)}function Wy(e,t,r,i){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},hb(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=mn(a):(a=Ni(t)?La:li.current,s.context=_c(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fy(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yg.enqueueReplaceState(s,s.state,null),Wp(e,r,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ac(e,t){try{var r="",i=t;do r+=RP(i),i=i.return;while(i);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ax(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Uy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var aR=typeof WeakMap=="function"?WeakMap:Map;function GC(e,t,r){r=Ps(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Xp||(Xp=!0,Jy=i),Uy(e,t)},r}function VC(e,t,r){r=Ps(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;r.payload=function(){return i(s)},r.callback=function(){Uy(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Uy(e,t),typeof i!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),r}function bk(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new aR;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(r)||(s.add(r),e=wR.bind(null,e,t,r),t.then(e,e))}function wk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kk(e,t,r,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ps(-1,1),t.tag=2,Io(r,t,1))),r.lanes|=1),e)}var lR=Ws.ReactCurrentOwner,Mi=!1;function pi(e,t,r,i){t.child=e===null?wC(t,null,r,i):Ec(t,e.child,r,i)}function Sk(e,t,r,i,s){r=r.render;var a=t.ref;return mc(t,s),i=vb(e,t,r,i,a,s),r=xb(),e!==null&&!Mi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(rr&&r&&sb(t),t.flags|=1,pi(e,t,i,s),t.child)}function _k(e,t,r,i,s){if(e===null){var a=r.type;return typeof a=="function"&&!Ab(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,XC(e,t,a,i,s)):(e=wp(r.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var c=a.memoizedProps;if(r=r.compare,r=r!==null?r:Tu,r(c,i)&&e.ref===t.ref)return Ds(e,t,s)}return t.flags|=1,e=Bo(a,i),e.ref=t.ref,e.return=t,t.child=e}function XC(e,t,r,i,s){if(e!==null){var a=e.memoizedProps;if(Tu(a,i)&&e.ref===t.ref)if(Mi=!1,t.pendingProps=i=a,(e.lanes&s)!==0)e.flags&131072&&(Mi=!0);else return t.lanes=e.lanes,Ds(e,t,s)}return Hy(e,t,r,i,s)}function YC(e,t,r){var i=t.pendingProps,s=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(lc,zi),zi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(lc,zi),zi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:r,qt(lc,zi),zi|=i}else a!==null?(i=a.baseLanes|r,t.memoizedState=null):i=r,qt(lc,zi),zi|=i;return pi(e,t,s,r),t.child}function qC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Hy(e,t,r,i,s){var a=Ni(r)?La:li.current;return a=_c(t,a),mc(t,s),r=vb(e,t,r,i,a,s),i=xb(),e!==null&&!Mi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(rr&&i&&sb(t),t.flags|=1,pi(e,t,r,s),t.child)}function Ck(e,t,r,i,s){if(Ni(r)){var a=!0;Dp(t)}else a=!1;if(mc(t,s),t.stateNode===null)xp(e,t),HC(t,r,i),Wy(t,r,i,s),i=!0;else if(e===null){var c=t.stateNode,f=t.memoizedProps;c.props=f;var v=c.context,x=r.contextType;typeof x=="object"&&x!==null?x=mn(x):(x=Ni(r)?La:li.current,x=_c(t,x));var S=r.getDerivedStateFromProps,C=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function";C||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==i||v!==x)&&yk(t,c,i,x),Co=!1;var N=t.memoizedState;c.state=N,Wp(t,i,c,s),v=t.memoizedState,f!==i||N!==v||ji.current||Co?(typeof S=="function"&&(Fy(t,r,S,i),v=t.memoizedState),(f=Co||xk(t,r,f,i,N,v,x))?(C||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=v),c.props=i,c.state=v,c.context=x,i=f):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{c=t.stateNode,SC(e,t),f=t.memoizedProps,x=t.type===t.elementType?f:jn(t.type,f),c.props=x,C=t.pendingProps,N=c.context,v=r.contextType,typeof v=="object"&&v!==null?v=mn(v):(v=Ni(r)?La:li.current,v=_c(t,v));var B=r.getDerivedStateFromProps;(S=typeof B=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==C||N!==v)&&yk(t,c,i,v),Co=!1,N=t.memoizedState,c.state=N,Wp(t,i,c,s);var U=t.memoizedState;f!==C||N!==U||ji.current||Co?(typeof B=="function"&&(Fy(t,r,B,i),U=t.memoizedState),(x=Co||xk(t,r,x,i,N,U,v)||!1)?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(i,U,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(i,U,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=U),c.props=i,c.state=U,c.context=v,i=x):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),i=!1)}return Gy(e,t,r,i,a,s)}function Gy(e,t,r,i,s,a){qC(e,t);var c=(t.flags&128)!==0;if(!i&&!c)return s&&dk(t,r,!1),Ds(e,t,a);i=t.stateNode,lR.current=t;var f=c&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&c?(t.child=Ec(t,e.child,null,a),t.child=Ec(t,null,f,a)):pi(e,t,f,a),t.memoizedState=i.state,s&&dk(t,r,!0),t.child}function KC(e){var t=e.stateNode;t.pendingContext?ck(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ck(e,t.context,!1),fb(e,t.containerInfo)}function Ek(e,t,r,i,s){return Cc(),ab(s),t.flags|=256,pi(e,t,r,i),t.child}var Vy={dehydrated:null,treeContext:null,retryLane:0};function Xy(e){return{baseLanes:e,cachePool:null,transitions:null}}function ZC(e,t,r){var i=t.pendingProps,s=ar.current,a=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(s&2)!==0),f?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qt(ar,s&1),e===null)return By(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=kg(c,i,0,null),e=Ra(e,i,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Xy(r),t.memoizedState=Vy,e):wb(t,c));if(s=e.memoizedState,s!==null&&(f=s.dehydrated,f!==null))return cR(e,t,c,i,f,s,r);if(a){a=i.fallback,c=t.mode,s=e.child,f=s.sibling;var v={mode:"hidden",children:i.children};return!(c&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=v,t.deletions=null):(i=Bo(s,v),i.subtreeFlags=s.subtreeFlags&14680064),f!==null?a=Bo(f,a):(a=Ra(a,c,r,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=e.child.memoizedState,c=c===null?Xy(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~r,t.memoizedState=Vy,i}return a=e.child,e=a.sibling,i=Bo(a,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function wb(e,t){return t=kg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vf(e,t,r,i){return i!==null&&ab(i),Ec(t,e.child,null,r),e=wb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cR(e,t,r,i,s,a,c){if(r)return t.flags&256?(t.flags&=-257,i=Ax(Error(Ue(422))),Vf(e,t,c,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=i.fallback,s=t.mode,i=kg({mode:"visible",children:i.children},s,0,null),a=Ra(a,s,c,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,t.mode&1&&Ec(t,e.child,null,c),t.child.memoizedState=Xy(c),t.memoizedState=Vy,a);if(!(t.mode&1))return Vf(e,t,c,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var f=i.dgst;return i=f,a=Error(Ue(419)),i=Ax(a,i,void 0),Vf(e,t,c,i)}if(f=(c&e.childLanes)!==0,Mi||f){if(i=Wr,i!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|c)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Is(e,s),In(i,e,s,-1))}return Tb(),i=Ax(Error(Ue(421))),Vf(e,t,c,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kR.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Wi=Lo(s.nextSibling),Ui=t,rr=!0,On=null,e!==null&&(un[hn++]=js,un[hn++]=Ns,un[hn++]=Ia,js=e.id,Ns=e.overflow,Ia=t),t=wb(t,i.children),t.flags|=4096,t)}function Tk(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),zy(e.return,t,r)}function Mx(e,t,r,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=r,a.tailMode=s)}function QC(e,t,r){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(pi(e,t,i.children,r),i=ar.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tk(e,r,t);else if(e.tag===19)Tk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(qt(ar,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Up(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Mx(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Up(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Mx(t,!0,r,null,a);break;case"together":Mx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ds(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,r=Bo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Bo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dR(e,t,r){switch(t.tag){case 3:KC(t),Cc();break;case 5:_C(t);break;case 1:Ni(t.type)&&Dp(t);break;case 4:fb(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;qt(zp,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(qt(ar,ar.current&1),t.flags|=128,null):r&t.child.childLanes?ZC(e,t,r):(qt(ar,ar.current&1),e=Ds(e,t,r),e!==null?e.sibling:null);qt(ar,ar.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return QC(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qt(ar,ar.current),i)break;return null;case 22:case 23:return t.lanes=0,YC(e,t,r)}return Ds(e,t,r)}var JC,Yy,eE,tE;JC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yy=function(){};eE=function(e,t,r,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Na(as.current);var a=null;switch(r){case"input":s=my(e,s),i=my(e,i),a=[];break;case"select":s=dr({},s,{value:void 0}),i=dr({},i,{value:void 0}),a=[];break;case"textarea":s=yy(e,s),i=yy(e,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Lp)}wy(r,i);var c;r=null;for(x in s)if(!i.hasOwnProperty(x)&&s.hasOwnProperty(x)&&s[x]!=null)if(x==="style"){var f=s[x];for(c in f)f.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(bu.hasOwnProperty(x)?a||(a=[]):(a=a||[]).push(x,null));for(x in i){var v=i[x];if(f=s!=null?s[x]:void 0,i.hasOwnProperty(x)&&v!==f&&(v!=null||f!=null))if(x==="style")if(f){for(c in f)!f.hasOwnProperty(c)||v&&v.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in v)v.hasOwnProperty(c)&&f[c]!==v[c]&&(r||(r={}),r[c]=v[c])}else r||(a||(a=[]),a.push(x,r)),r=v;else x==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,f=f?f.__html:void 0,v!=null&&f!==v&&(a=a||[]).push(x,v)):x==="children"?typeof v!="string"&&typeof v!="number"||(a=a||[]).push(x,""+v):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(bu.hasOwnProperty(x)?(v!=null&&x==="onScroll"&&Zt("scroll",e),a||f===v||(a=[])):(a=a||[]).push(x,v))}r&&(a=a||[]).push("style",r);var x=a;(t.updateQueue=x)&&(t.flags|=4)}};tE=function(e,t,r,i){r!==i&&(t.flags|=4)};function Hd(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ii(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function uR(e,t,r){var i=t.pendingProps;switch(ob(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(t),null;case 1:return Ni(t.type)&&Ip(),ii(t),null;case 3:return i=t.stateNode,Tc(),Qt(ji),Qt(li),gb(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Hf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(r0(On),On=null))),Yy(e,t),ii(t),null;case 5:pb(t);var s=Na(Pu.current);if(r=t.type,e!==null&&t.stateNode!=null)eE(e,t,r,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(Ue(166));return ii(t),null}if(e=Na(as.current),Hf(t)){i=t.stateNode,r=t.type;var a=t.memoizedProps;switch(i[is]=t,i[ju]=a,e=(t.mode&1)!==0,r){case"dialog":Zt("cancel",i),Zt("close",i);break;case"iframe":case"object":case"embed":Zt("load",i);break;case"video":case"audio":for(s=0;s<su.length;s++)Zt(su[s],i);break;case"source":Zt("error",i);break;case"img":case"image":case"link":Zt("error",i),Zt("load",i);break;case"details":Zt("toggle",i);break;case"input":I1(i,a),Zt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Zt("invalid",i);break;case"textarea":$1(i,a),Zt("invalid",i)}wy(r,a),s=null;for(var c in a)if(a.hasOwnProperty(c)){var f=a[c];c==="children"?typeof f=="string"?i.textContent!==f&&(a.suppressHydrationWarning!==!0&&Uf(i.textContent,f,e),s=["children",f]):typeof f=="number"&&i.textContent!==""+f&&(a.suppressHydrationWarning!==!0&&Uf(i.textContent,f,e),s=["children",""+f]):bu.hasOwnProperty(c)&&f!=null&&c==="onScroll"&&Zt("scroll",i)}switch(r){case"input":Lf(i),D1(i,a,!0);break;case"textarea":Lf(i),B1(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Lp)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=M_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=c.createElement(r,{is:i.is}):(e=c.createElement(r),r==="select"&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,r),e[is]=t,e[ju]=i,JC(e,t,!1,!1),t.stateNode=e;e:{switch(c=ky(r,i),r){case"dialog":Zt("cancel",e),Zt("close",e),s=i;break;case"iframe":case"object":case"embed":Zt("load",e),s=i;break;case"video":case"audio":for(s=0;s<su.length;s++)Zt(su[s],e);s=i;break;case"source":Zt("error",e),s=i;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),s=i;break;case"details":Zt("toggle",e),s=i;break;case"input":I1(e,i),s=my(e,i),Zt("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=dr({},i,{value:void 0}),Zt("invalid",e);break;case"textarea":$1(e,i),s=yy(e,i),Zt("invalid",e);break;default:s=i}wy(r,s),f=s;for(a in f)if(f.hasOwnProperty(a)){var v=f[a];a==="style"?P_(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&j_(e,v)):a==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&wu(e,v):typeof v=="number"&&wu(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(bu.hasOwnProperty(a)?v!=null&&a==="onScroll"&&Zt("scroll",e):v!=null&&G0(e,a,v,c))}switch(r){case"input":Lf(e),D1(e,i,!1);break;case"textarea":Lf(e),B1(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Fo(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?hc(e,!!i.multiple,a,!1):i.defaultValue!=null&&hc(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Lp)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ii(t),null;case 6:if(e&&t.stateNode!=null)tE(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Ue(166));if(r=Na(Pu.current),Na(as.current),Hf(t)){if(i=t.stateNode,r=t.memoizedProps,i[is]=t,(a=i.nodeValue!==r)&&(e=Ui,e!==null))switch(e.tag){case 3:Uf(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uf(i.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[is]=t,t.stateNode=i}return ii(t),null;case 13:if(Qt(ar),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rr&&Wi!==null&&t.mode&1&&!(t.flags&128))yC(),Cc(),t.flags|=98560,a=!1;else if(a=Hf(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(Ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[is]=t}else Cc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ii(t),a=!1}else On!==null&&(r0(On),On=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||ar.current&1?Lr===0&&(Lr=3):Tb())),t.updateQueue!==null&&(t.flags|=4),ii(t),null);case 4:return Tc(),Yy(e,t),e===null&&Au(t.stateNode.containerInfo),ii(t),null;case 10:return db(t.type._context),ii(t),null;case 17:return Ni(t.type)&&Ip(),ii(t),null;case 19:if(Qt(ar),a=t.memoizedState,a===null)return ii(t),null;if(i=(t.flags&128)!==0,c=a.rendering,c===null)if(i)Hd(a,!1);else{if(Lr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Up(e),c!==null){for(t.flags|=128,Hd(a,!1),i=c.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)a=r,e=i,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qt(ar,ar.current&1|2),t.child}e=e.sibling}a.tail!==null&&vr()>Mc&&(t.flags|=128,i=!0,Hd(a,!1),t.lanes=4194304)}else{if(!i)if(e=Up(c),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!rr)return ii(t),null}else 2*vr()-a.renderingStartTime>Mc&&r!==1073741824&&(t.flags|=128,i=!0,Hd(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(r=a.last,r!==null?r.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=vr(),t.sibling=null,r=ar.current,qt(ar,i?r&1|2:r&1),t):(ii(t),null);case 22:case 23:return Eb(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?zi&1073741824&&(ii(t),t.subtreeFlags&6&&(t.flags|=8192)):ii(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function hR(e,t){switch(ob(t),t.tag){case 1:return Ni(t.type)&&Ip(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tc(),Qt(ji),Qt(li),gb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pb(t),null;case 13:if(Qt(ar),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Cc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qt(ar),null;case 4:return Tc(),null;case 10:return db(t.type._context),null;case 22:case 23:return Eb(),null;case 24:return null;default:return null}}var Xf=!1,oi=!1,fR=typeof WeakSet=="function"?WeakSet:Set,st=null;function ac(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){fr(e,t,i)}else r.current=null}function qy(e,t,r){try{r()}catch(i){fr(e,t,i)}}var Ak=!1;function pR(e,t){if(Py=Pp,e=oC(),nb(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var c=0,f=-1,v=-1,x=0,S=0,C=e,N=null;t:for(;;){for(var B;C!==r||s!==0&&C.nodeType!==3||(f=c+s),C!==a||i!==0&&C.nodeType!==3||(v=c+i),C.nodeType===3&&(c+=C.nodeValue.length),(B=C.firstChild)!==null;)N=C,C=B;for(;;){if(C===e)break t;if(N===r&&++x===s&&(f=c),N===a&&++S===i&&(v=c),(B=C.nextSibling)!==null)break;C=N,N=C.parentNode}C=B}r=f===-1||v===-1?null:{start:f,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oy={focusedElem:e,selectionRange:r},Pp=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){t=st;try{var U=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var D=U.memoizedProps,R=U.memoizedState,I=t.stateNode,j=I.getSnapshotBeforeUpdate(t.elementType===t.type?D:jn(t.type,D),R);I.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(q){fr(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}return U=Ak,Ak=!1,U}function pu(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&qy(t,r,a)}s=s.next}while(s!==i)}}function bg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Ky(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function rE(e){var t=e.alternate;t!==null&&(e.alternate=null,rE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[is],delete t[ju],delete t[Iy],delete t[KO],delete t[ZO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iE(e){return e.tag===5||e.tag===3||e.tag===4}function Mk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zy(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Lp));else if(i!==4&&(e=e.child,e!==null))for(Zy(e,t,r),e=e.sibling;e!==null;)Zy(e,t,r),e=e.sibling}function Qy(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Qy(e,t,r),e=e.sibling;e!==null;)Qy(e,t,r),e=e.sibling}var qr=null,Nn=!1;function vo(e,t,r){for(r=r.child;r!==null;)nE(e,t,r),r=r.sibling}function nE(e,t,r){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(hg,r)}catch{}switch(r.tag){case 5:oi||ac(r,t);case 6:var i=qr,s=Nn;qr=null,vo(e,t,r),qr=i,Nn=s,qr!==null&&(Nn?(e=qr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qr.removeChild(r.stateNode));break;case 18:qr!==null&&(Nn?(e=qr,r=r.stateNode,e.nodeType===8?kx(e.parentNode,r):e.nodeType===1&&kx(e,r),Cu(e)):kx(qr,r.stateNode));break;case 4:i=qr,s=Nn,qr=r.stateNode.containerInfo,Nn=!0,vo(e,t,r),qr=i,Nn=s;break;case 0:case 11:case 14:case 15:if(!oi&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&qy(r,t,c),s=s.next}while(s!==i)}vo(e,t,r);break;case 1:if(!oi&&(ac(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(f){fr(r,t,f)}vo(e,t,r);break;case 21:vo(e,t,r);break;case 22:r.mode&1?(oi=(i=oi)||r.memoizedState!==null,vo(e,t,r),oi=i):vo(e,t,r);break;default:vo(e,t,r)}}function jk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fR),t.forEach(function(i){var s=SR.bind(null,e,i);r.has(i)||(r.add(i),i.then(s,s))})}}function An(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var a=e,c=t,f=c;e:for(;f!==null;){switch(f.tag){case 5:qr=f.stateNode,Nn=!1;break e;case 3:qr=f.stateNode.containerInfo,Nn=!0;break e;case 4:qr=f.stateNode.containerInfo,Nn=!0;break e}f=f.return}if(qr===null)throw Error(Ue(160));nE(a,c,s),qr=null,Nn=!1;var v=s.alternate;v!==null&&(v.return=null),s.return=null}catch(x){fr(s,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sE(t,e),t=t.sibling}function sE(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(t,e),Qn(e),i&4){try{pu(3,e,e.return),bg(3,e)}catch(D){fr(e,e.return,D)}try{pu(5,e,e.return)}catch(D){fr(e,e.return,D)}}break;case 1:An(t,e),Qn(e),i&512&&r!==null&&ac(r,r.return);break;case 5:if(An(t,e),Qn(e),i&512&&r!==null&&ac(r,r.return),e.flags&32){var s=e.stateNode;try{wu(s,"")}catch(D){fr(e,e.return,D)}}if(i&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,c=r!==null?r.memoizedProps:a,f=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{f==="input"&&a.type==="radio"&&a.name!=null&&T_(s,a),ky(f,c);var x=ky(f,a);for(c=0;c<v.length;c+=2){var S=v[c],C=v[c+1];S==="style"?P_(s,C):S==="dangerouslySetInnerHTML"?j_(s,C):S==="children"?wu(s,C):G0(s,S,C,x)}switch(f){case"input":vy(s,a);break;case"textarea":A_(s,a);break;case"select":var N=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var B=a.value;B!=null?hc(s,!!a.multiple,B,!1):N!==!!a.multiple&&(a.defaultValue!=null?hc(s,!!a.multiple,a.defaultValue,!0):hc(s,!!a.multiple,a.multiple?[]:"",!1))}s[ju]=a}catch(D){fr(e,e.return,D)}}break;case 6:if(An(t,e),Qn(e),i&4){if(e.stateNode===null)throw Error(Ue(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(D){fr(e,e.return,D)}}break;case 3:if(An(t,e),Qn(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Cu(t.containerInfo)}catch(D){fr(e,e.return,D)}break;case 4:An(t,e),Qn(e);break;case 13:An(t,e),Qn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(_b=vr())),i&4&&jk(e);break;case 22:if(S=r!==null&&r.memoizedState!==null,e.mode&1?(oi=(x=oi)||S,An(t,e),oi=x):An(t,e),Qn(e),i&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!S&&e.mode&1)for(st=e,S=e.child;S!==null;){for(C=st=S;st!==null;){switch(N=st,B=N.child,N.tag){case 0:case 11:case 14:case 15:pu(4,N,N.return);break;case 1:ac(N,N.return);var U=N.stateNode;if(typeof U.componentWillUnmount=="function"){i=N,r=N.return;try{t=i,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch(D){fr(i,r,D)}}break;case 5:ac(N,N.return);break;case 22:if(N.memoizedState!==null){Pk(C);continue}}B!==null?(B.return=N,st=B):Pk(C)}S=S.sibling}e:for(S=null,C=e;;){if(C.tag===5){if(S===null){S=C;try{s=C.stateNode,x?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(f=C.stateNode,v=C.memoizedProps.style,c=v!=null&&v.hasOwnProperty("display")?v.display:null,f.style.display=N_("display",c))}catch(D){fr(e,e.return,D)}}}else if(C.tag===6){if(S===null)try{C.stateNode.nodeValue=x?"":C.memoizedProps}catch(D){fr(e,e.return,D)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;S===C&&(S=null),C=C.return}S===C&&(S=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:An(t,e),Qn(e),i&4&&jk(e);break;case 21:break;default:An(t,e),Qn(e)}}function Qn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(iE(r)){var i=r;break e}r=r.return}throw Error(Ue(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(wu(s,""),i.flags&=-33);var a=Mk(e);Qy(e,a,s);break;case 3:case 4:var c=i.stateNode.containerInfo,f=Mk(e);Zy(e,f,c);break;default:throw Error(Ue(161))}}catch(v){fr(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gR(e,t,r){st=e,oE(e)}function oE(e,t,r){for(var i=(e.mode&1)!==0;st!==null;){var s=st,a=s.child;if(s.tag===22&&i){var c=s.memoizedState!==null||Xf;if(!c){var f=s.alternate,v=f!==null&&f.memoizedState!==null||oi;f=Xf;var x=oi;if(Xf=c,(oi=v)&&!x)for(st=s;st!==null;)c=st,v=c.child,c.tag===22&&c.memoizedState!==null?Ok(s):v!==null?(v.return=c,st=v):Ok(s);for(;a!==null;)st=a,oE(a),a=a.sibling;st=s,Xf=f,oi=x}Nk(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,st=a):Nk(e)}}function Nk(e){for(;st!==null;){var t=st;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:oi||bg(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!oi)if(r===null)i.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:jn(t.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gk(t,a,i);break;case 3:var c=t.updateQueue;if(c!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gk(t,c,r)}break;case 5:var f=t.stateNode;if(r===null&&t.flags&4){r=f;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var S=x.memoizedState;if(S!==null){var C=S.dehydrated;C!==null&&Cu(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}oi||t.flags&512&&Ky(t)}catch(N){fr(t,t.return,N)}}if(t===e){st=null;break}if(r=t.sibling,r!==null){r.return=t.return,st=r;break}st=t.return}}function Pk(e){for(;st!==null;){var t=st;if(t===e){st=null;break}var r=t.sibling;if(r!==null){r.return=t.return,st=r;break}st=t.return}}function Ok(e){for(;st!==null;){var t=st;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bg(4,t)}catch(v){fr(t,r,v)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(v){fr(t,s,v)}}var a=t.return;try{Ky(t)}catch(v){fr(t,a,v)}break;case 5:var c=t.return;try{Ky(t)}catch(v){fr(t,c,v)}}}catch(v){fr(t,t.return,v)}if(t===e){st=null;break}var f=t.sibling;if(f!==null){f.return=t.return,st=f;break}st=t.return}}var mR=Math.ceil,Vp=Ws.ReactCurrentDispatcher,kb=Ws.ReactCurrentOwner,pn=Ws.ReactCurrentBatchConfig,Rt=0,Wr=null,Er=null,Jr=0,zi=0,lc=Yo(0),Lr=0,Iu=null,$a=0,wg=0,Sb=0,gu=null,Ti=null,_b=0,Mc=1/0,Es=null,Xp=!1,Jy=null,Do=null,Yf=!1,jo=null,Yp=0,mu=0,e0=null,yp=-1,bp=0;function mi(){return Rt&6?vr():yp!==-1?yp:yp=vr()}function $o(e){return e.mode&1?Rt&2&&Jr!==0?Jr&-Jr:JO.transition!==null?(bp===0&&(bp=H_()),bp):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:Z_(e.type)),e):1}function In(e,t,r,i){if(50<mu)throw mu=0,e0=null,Error(Ue(185));Uu(e,r,i),(!(Rt&2)||e!==Wr)&&(e===Wr&&(!(Rt&2)&&(wg|=r),Lr===4&&To(e,Jr)),Pi(e,i),r===1&&Rt===0&&!(t.mode&1)&&(Mc=vr()+500,vg&&qo()))}function Pi(e,t){var r=e.callbackNode;JP(e,t);var i=Np(e,e===Wr?Jr:0);if(i===0)r!==null&&W1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&W1(r),t===1)e.tag===0?QO(Rk.bind(null,e)):mC(Rk.bind(null,e)),YO(function(){!(Rt&6)&&qo()}),r=null;else{switch(G_(i)){case 1:r=K0;break;case 4:r=W_;break;case 16:r=jp;break;case 536870912:r=U_;break;default:r=jp}r=pE(r,aE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function aE(e,t){if(yp=-1,bp=0,Rt&6)throw Error(Ue(327));var r=e.callbackNode;if(vc()&&e.callbackNode!==r)return null;var i=Np(e,e===Wr?Jr:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=qp(e,i);else{t=i;var s=Rt;Rt|=2;var a=cE();(Wr!==e||Jr!==t)&&(Es=null,Mc=vr()+500,Oa(e,t));do try{yR();break}catch(f){lE(e,f)}while(!0);cb(),Vp.current=a,Rt=s,Er!==null?t=0:(Wr=null,Jr=0,t=Lr)}if(t!==0){if(t===2&&(s=Ty(e),s!==0&&(i=s,t=t0(e,s))),t===1)throw r=Iu,Oa(e,0),To(e,i),Pi(e,vr()),r;if(t===6)To(e,i);else{if(s=e.current.alternate,!(i&30)&&!vR(s)&&(t=qp(e,i),t===2&&(a=Ty(e),a!==0&&(i=a,t=t0(e,a))),t===1))throw r=Iu,Oa(e,0),To(e,i),Pi(e,vr()),r;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(Ue(345));case 2:_a(e,Ti,Es);break;case 3:if(To(e,i),(i&130023424)===i&&(t=_b+500-vr(),10<t)){if(Np(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){mi(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ly(_a.bind(null,e,Ti,Es),t);break}_a(e,Ti,Es);break;case 4:if(To(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var c=31-Ln(i);a=1<<c,c=t[c],c>s&&(s=c),i&=~a}if(i=s,i=vr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*mR(i/1960))-i,10<i){e.timeoutHandle=Ly(_a.bind(null,e,Ti,Es),i);break}_a(e,Ti,Es);break;case 5:_a(e,Ti,Es);break;default:throw Error(Ue(329))}}}return Pi(e,vr()),e.callbackNode===r?aE.bind(null,e):null}function t0(e,t){var r=gu;return e.current.memoizedState.isDehydrated&&(Oa(e,t).flags|=256),e=qp(e,t),e!==2&&(t=Ti,Ti=r,t!==null&&r0(t)),e}function r0(e){Ti===null?Ti=e:Ti.push.apply(Ti,e)}function vR(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],a=s.getSnapshot;s=s.value;try{if(!Dn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function To(e,t){for(t&=~Sb,t&=~wg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ln(t),i=1<<r;e[r]=-1,t&=~i}}function Rk(e){if(Rt&6)throw Error(Ue(327));vc();var t=Np(e,0);if(!(t&1))return Pi(e,vr()),null;var r=qp(e,t);if(e.tag!==0&&r===2){var i=Ty(e);i!==0&&(t=i,r=t0(e,i))}if(r===1)throw r=Iu,Oa(e,0),To(e,t),Pi(e,vr()),r;if(r===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_a(e,Ti,Es),Pi(e,vr()),null}function Cb(e,t){var r=Rt;Rt|=1;try{return e(t)}finally{Rt=r,Rt===0&&(Mc=vr()+500,vg&&qo())}}function Ba(e){jo!==null&&jo.tag===0&&!(Rt&6)&&vc();var t=Rt;Rt|=1;var r=pn.transition,i=Ft;try{if(pn.transition=null,Ft=1,e)return e()}finally{Ft=i,pn.transition=r,Rt=t,!(Rt&6)&&qo()}}function Eb(){zi=lc.current,Qt(lc)}function Oa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,XO(r)),Er!==null)for(r=Er.return;r!==null;){var i=r;switch(ob(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ip();break;case 3:Tc(),Qt(ji),Qt(li),gb();break;case 5:pb(i);break;case 4:Tc();break;case 13:Qt(ar);break;case 19:Qt(ar);break;case 10:db(i.type._context);break;case 22:case 23:Eb()}r=r.return}if(Wr=e,Er=e=Bo(e.current,null),Jr=zi=t,Lr=0,Iu=null,Sb=wg=$a=0,Ti=gu=null,ja!==null){for(t=0;t<ja.length;t++)if(r=ja[t],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,a=r.pending;if(a!==null){var c=a.next;a.next=s,i.next=c}r.pending=i}ja=null}return e}function lE(e,t){do{var r=Er;try{if(cb(),mp.current=Gp,Hp){for(var i=lr.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Hp=!1}if(Da=0,zr=Or=lr=null,fu=!1,Ou=0,kb.current=null,r===null||r.return===null){Lr=1,Iu=t,Er=null;break}e:{var a=e,c=r.return,f=r,v=t;if(t=Jr,f.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var x=v,S=f,C=S.tag;if(!(S.mode&1)&&(C===0||C===11||C===15)){var N=S.alternate;N?(S.updateQueue=N.updateQueue,S.memoizedState=N.memoizedState,S.lanes=N.lanes):(S.updateQueue=null,S.memoizedState=null)}var B=wk(c);if(B!==null){B.flags&=-257,kk(B,c,f,a,t),B.mode&1&&bk(a,x,t),t=B,v=x;var U=t.updateQueue;if(U===null){var D=new Set;D.add(v),t.updateQueue=D}else U.add(v);break e}else{if(!(t&1)){bk(a,x,t),Tb();break e}v=Error(Ue(426))}}else if(rr&&f.mode&1){var R=wk(c);if(R!==null){!(R.flags&65536)&&(R.flags|=256),kk(R,c,f,a,t),ab(Ac(v,f));break e}}a=v=Ac(v,f),Lr!==4&&(Lr=2),gu===null?gu=[a]:gu.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=GC(a,v,t);pk(a,I);break e;case 1:f=v;var j=a.type,O=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Do===null||!Do.has(O)))){a.flags|=65536,t&=-t,a.lanes|=t;var q=VC(a,f,t);pk(a,q);break e}}a=a.return}while(a!==null)}uE(r)}catch(ae){t=ae,Er===r&&r!==null&&(Er=r=r.return);continue}break}while(!0)}function cE(){var e=Vp.current;return Vp.current=Gp,e===null?Gp:e}function Tb(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Wr===null||!($a&268435455)&&!(wg&268435455)||To(Wr,Jr)}function qp(e,t){var r=Rt;Rt|=2;var i=cE();(Wr!==e||Jr!==t)&&(Es=null,Oa(e,t));do try{xR();break}catch(s){lE(e,s)}while(!0);if(cb(),Rt=r,Vp.current=i,Er!==null)throw Error(Ue(261));return Wr=null,Jr=0,Lr}function xR(){for(;Er!==null;)dE(Er)}function yR(){for(;Er!==null&&!HP();)dE(Er)}function dE(e){var t=fE(e.alternate,e,zi);e.memoizedProps=e.pendingProps,t===null?uE(e):Er=t,kb.current=null}function uE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=hR(r,t),r!==null){r.flags&=32767,Er=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lr=6,Er=null;return}}else if(r=uR(r,t,zi),r!==null){Er=r;return}if(t=t.sibling,t!==null){Er=t;return}Er=t=e}while(t!==null);Lr===0&&(Lr=5)}function _a(e,t,r){var i=Ft,s=pn.transition;try{pn.transition=null,Ft=1,bR(e,t,r,i)}finally{pn.transition=s,Ft=i}return null}function bR(e,t,r,i){do vc();while(jo!==null);if(Rt&6)throw Error(Ue(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(eO(e,a),e===Wr&&(Er=Wr=null,Jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yf||(Yf=!0,pE(jp,function(){return vc(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=pn.transition,pn.transition=null;var c=Ft;Ft=1;var f=Rt;Rt|=4,kb.current=null,pR(e,r),sE(r,e),zO(Oy),Pp=!!Py,Oy=Py=null,e.current=r,gR(r),GP(),Rt=f,Ft=c,pn.transition=a}else e.current=r;if(Yf&&(Yf=!1,jo=e,Yp=s),a=e.pendingLanes,a===0&&(Do=null),YP(r.stateNode),Pi(e,vr()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(Xp)throw Xp=!1,e=Jy,Jy=null,e;return Yp&1&&e.tag!==0&&vc(),a=e.pendingLanes,a&1?e===e0?mu++:(mu=0,e0=e):mu=0,qo(),null}function vc(){if(jo!==null){var e=G_(Yp),t=pn.transition,r=Ft;try{if(pn.transition=null,Ft=16>e?16:e,jo===null)var i=!1;else{if(e=jo,jo=null,Yp=0,Rt&6)throw Error(Ue(331));var s=Rt;for(Rt|=4,st=e.current;st!==null;){var a=st,c=a.child;if(st.flags&16){var f=a.deletions;if(f!==null){for(var v=0;v<f.length;v++){var x=f[v];for(st=x;st!==null;){var S=st;switch(S.tag){case 0:case 11:case 15:pu(8,S,a)}var C=S.child;if(C!==null)C.return=S,st=C;else for(;st!==null;){S=st;var N=S.sibling,B=S.return;if(rE(S),S===x){st=null;break}if(N!==null){N.return=B,st=N;break}st=B}}}var U=a.alternate;if(U!==null){var D=U.child;if(D!==null){U.child=null;do{var R=D.sibling;D.sibling=null,D=R}while(D!==null)}}st=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,st=c;else e:for(;st!==null;){if(a=st,a.flags&2048)switch(a.tag){case 0:case 11:case 15:pu(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,st=I;break e}st=a.return}}var j=e.current;for(st=j;st!==null;){c=st;var O=c.child;if(c.subtreeFlags&2064&&O!==null)O.return=c,st=O;else e:for(c=j;st!==null;){if(f=st,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:bg(9,f)}}catch(ae){fr(f,f.return,ae)}if(f===c){st=null;break e}var q=f.sibling;if(q!==null){q.return=f.return,st=q;break e}st=f.return}}if(Rt=s,qo(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(hg,e)}catch{}i=!0}return i}finally{Ft=r,pn.transition=t}}return!1}function Lk(e,t,r){t=Ac(r,t),t=GC(e,t,1),e=Io(e,t,1),t=mi(),e!==null&&(Uu(e,1,t),Pi(e,t))}function fr(e,t,r){if(e.tag===3)Lk(e,e,r);else for(;t!==null;){if(t.tag===3){Lk(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Do===null||!Do.has(i))){e=Ac(r,e),e=VC(t,e,1),t=Io(t,e,1),e=mi(),t!==null&&(Uu(t,1,e),Pi(t,e));break}}t=t.return}}function wR(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=mi(),e.pingedLanes|=e.suspendedLanes&r,Wr===e&&(Jr&r)===r&&(Lr===4||Lr===3&&(Jr&130023424)===Jr&&500>vr()-_b?Oa(e,0):Sb|=r),Pi(e,t)}function hE(e,t){t===0&&(e.mode&1?(t=$f,$f<<=1,!($f&130023424)&&($f=4194304)):t=1);var r=mi();e=Is(e,t),e!==null&&(Uu(e,t,r),Pi(e,r))}function kR(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),hE(e,r)}function SR(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(Ue(314))}i!==null&&i.delete(t),hE(e,r)}var fE;fE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ji.current)Mi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Mi=!1,dR(e,t,r);Mi=!!(e.flags&131072)}else Mi=!1,rr&&t.flags&1048576&&vC(t,Bp,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;xp(e,t),e=t.pendingProps;var s=_c(t,li.current);mc(t,r),s=vb(null,t,i,e,s,r);var a=xb();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(i)?(a=!0,Dp(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hb(t),s.updater=yg,t.stateNode=s,s._reactInternals=t,Wy(t,i,e,r),t=Gy(null,t,i,!0,a,r)):(t.tag=0,rr&&a&&sb(t),pi(null,t,s,r),t=t.child),t;case 16:i=t.elementType;e:{switch(xp(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=CR(i),e=jn(i,e),s){case 0:t=Hy(null,t,i,e,r);break e;case 1:t=Ck(null,t,i,e,r);break e;case 11:t=Sk(null,t,i,e,r);break e;case 14:t=_k(null,t,i,jn(i.type,e),r);break e}throw Error(Ue(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:jn(i,s),Hy(e,t,i,s,r);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:jn(i,s),Ck(e,t,i,s,r);case 3:e:{if(KC(t),e===null)throw Error(Ue(387));i=t.pendingProps,a=t.memoizedState,s=a.element,SC(e,t),Wp(t,i,null,r);var c=t.memoizedState;if(i=c.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ac(Error(Ue(423)),t),t=Ek(e,t,i,r,s);break e}else if(i!==s){s=Ac(Error(Ue(424)),t),t=Ek(e,t,i,r,s);break e}else for(Wi=Lo(t.stateNode.containerInfo.firstChild),Ui=t,rr=!0,On=null,r=wC(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cc(),i===s){t=Ds(e,t,r);break e}pi(e,t,i,r)}t=t.child}return t;case 5:return _C(t),e===null&&By(t),i=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,c=s.children,Ry(i,s)?c=null:a!==null&&Ry(i,a)&&(t.flags|=32),qC(e,t),pi(e,t,c,r),t.child;case 6:return e===null&&By(t),null;case 13:return ZC(e,t,r);case 4:return fb(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ec(t,null,i,r):pi(e,t,i,r),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:jn(i,s),Sk(e,t,i,s,r);case 7:return pi(e,t,t.pendingProps,r),t.child;case 8:return pi(e,t,t.pendingProps.children,r),t.child;case 12:return pi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,a=t.memoizedProps,c=s.value,qt(zp,i._currentValue),i._currentValue=c,a!==null)if(Dn(a.value,c)){if(a.children===s.children&&!ji.current){t=Ds(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var f=a.dependencies;if(f!==null){c=a.child;for(var v=f.firstContext;v!==null;){if(v.context===i){if(a.tag===1){v=Ps(-1,r&-r),v.tag=2;var x=a.updateQueue;if(x!==null){x=x.shared;var S=x.pending;S===null?v.next=v:(v.next=S.next,S.next=v),x.pending=v}}a.lanes|=r,v=a.alternate,v!==null&&(v.lanes|=r),zy(a.return,r,t),f.lanes|=r;break}v=v.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(Ue(341));c.lanes|=r,f=c.alternate,f!==null&&(f.lanes|=r),zy(c,r,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}pi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,mc(t,r),s=mn(s),i=i(s),t.flags|=1,pi(e,t,i,r),t.child;case 14:return i=t.type,s=jn(i,t.pendingProps),s=jn(i.type,s),_k(e,t,i,s,r);case 15:return XC(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:jn(i,s),xp(e,t),t.tag=1,Ni(i)?(e=!0,Dp(t)):e=!1,mc(t,r),HC(t,i,s),Wy(t,i,s,r),Gy(null,t,i,!0,e,r);case 19:return QC(e,t,r);case 22:return YC(e,t,r)}throw Error(Ue(156,t.tag))};function pE(e,t){return F_(e,t)}function _R(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,r,i){return new _R(e,t,r,i)}function Ab(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CR(e){if(typeof e=="function")return Ab(e)?1:0;if(e!=null){if(e=e.$$typeof,e===X0)return 11;if(e===Y0)return 14}return 2}function Bo(e,t){var r=e.alternate;return r===null?(r=fn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function wp(e,t,r,i,s,a){var c=2;if(i=e,typeof e=="function")Ab(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Ql:return Ra(r.children,s,a,t);case V0:c=8,s|=8;break;case hy:return e=fn(12,r,t,s|2),e.elementType=hy,e.lanes=a,e;case fy:return e=fn(13,r,t,s),e.elementType=fy,e.lanes=a,e;case py:return e=fn(19,r,t,s),e.elementType=py,e.lanes=a,e;case __:return kg(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k_:c=10;break e;case S_:c=9;break e;case X0:c=11;break e;case Y0:c=14;break e;case _o:c=16,i=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=fn(c,r,t,s),t.elementType=e,t.type=i,t.lanes=a,t}function Ra(e,t,r,i){return e=fn(7,e,i,t),e.lanes=r,e}function kg(e,t,r,i){return e=fn(22,e,i,t),e.elementType=__,e.lanes=r,e.stateNode={isHidden:!1},e}function jx(e,t,r){return e=fn(6,e,null,t),e.lanes=r,e}function Nx(e,t,r){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ER(e,t,r,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ux(0),this.expirationTimes=ux(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ux(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mb(e,t,r,i,s,a,c,f,v){return e=new ER(e,t,r,f,v),t===1?(t=1,a===!0&&(t|=8)):t=0,a=fn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hb(a),e}function TR(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zl,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function gE(e){if(!e)return Wo;e=e._reactInternals;e:{if(Qa(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var r=e.type;if(Ni(r))return gC(e,r,t)}return t}function mE(e,t,r,i,s,a,c,f,v){return e=Mb(r,i,!0,e,s,a,c,f,v),e.context=gE(null),r=e.current,i=mi(),s=$o(r),a=Ps(i,s),a.callback=t??null,Io(r,a,s),e.current.lanes=s,Uu(e,s,i),Pi(e,i),e}function Sg(e,t,r,i){var s=t.current,a=mi(),c=$o(s);return r=gE(r),t.context===null?t.context=r:t.pendingContext=r,t=Ps(a,c),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Io(s,t,c),e!==null&&(In(e,s,c,a),gp(e,s,c)),c}function Kp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ik(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jb(e,t){Ik(e,t),(e=e.alternate)&&Ik(e,t)}function AR(){return null}var vE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nb(e){this._internalRoot=e}_g.prototype.render=Nb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));Sg(e,t,null,null)};_g.prototype.unmount=Nb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ba(function(){Sg(null,e,null,null)}),t[Ls]=null}};function _g(e){this._internalRoot=e}_g.prototype.unstable_scheduleHydration=function(e){if(e){var t=Y_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Eo.length&&t!==0&&t<Eo[r].priority;r++);Eo.splice(r,0,e),r===0&&K_(e)}};function Pb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dk(){}function MR(e,t,r,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var x=Kp(c);a.call(x)}}var c=mE(t,i,e,0,null,!1,!1,"",Dk);return e._reactRootContainer=c,e[Ls]=c.current,Au(e.nodeType===8?e.parentNode:e),Ba(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var f=i;i=function(){var x=Kp(v);f.call(x)}}var v=Mb(e,0,!1,null,null,!1,!1,"",Dk);return e._reactRootContainer=v,e[Ls]=v.current,Au(e.nodeType===8?e.parentNode:e),Ba(function(){Sg(t,v,r,i)}),v}function Eg(e,t,r,i,s){var a=r._reactRootContainer;if(a){var c=a;if(typeof s=="function"){var f=s;s=function(){var v=Kp(c);f.call(v)}}Sg(t,c,e,s)}else c=MR(r,t,e,s,i);return Kp(c)}V_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=nu(t.pendingLanes);r!==0&&(Z0(t,r|1),Pi(t,vr()),!(Rt&6)&&(Mc=vr()+500,qo()))}break;case 13:Ba(function(){var i=Is(e,1);if(i!==null){var s=mi();In(i,e,1,s)}}),jb(e,1)}};Q0=function(e){if(e.tag===13){var t=Is(e,134217728);if(t!==null){var r=mi();In(t,e,134217728,r)}jb(e,134217728)}};X_=function(e){if(e.tag===13){var t=$o(e),r=Is(e,t);if(r!==null){var i=mi();In(r,e,t,i)}jb(e,t)}};Y_=function(){return Ft};q_=function(e,t){var r=Ft;try{return Ft=e,t()}finally{Ft=r}};_y=function(e,t,r){switch(t){case"input":if(vy(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var s=mg(i);if(!s)throw Error(Ue(90));E_(i),vy(i,s)}}}break;case"textarea":A_(e,r);break;case"select":t=r.value,t!=null&&hc(e,!!r.multiple,t,!1)}};L_=Cb;I_=Ba;var jR={usingClientEntryPoint:!1,Events:[Gu,rc,mg,O_,R_,Cb]},Gd={findFiberByHostInstance:Ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NR={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=B_(e),e===null?null:e.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||AR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qf.isDisabled&&qf.supportsFiber)try{hg=qf.inject(NR),os=qf}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jR;Vi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pb(t))throw Error(Ue(200));return TR(e,t,null,r)};Vi.createRoot=function(e,t){if(!Pb(e))throw Error(Ue(299));var r=!1,i="",s=vE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Mb(e,1,!1,null,null,r,!1,i,s),e[Ls]=t.current,Au(e.nodeType===8?e.parentNode:e),new Nb(t)};Vi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=B_(t),e=e===null?null:e.stateNode,e};Vi.flushSync=function(e){return Ba(e)};Vi.hydrate=function(e,t,r){if(!Cg(t))throw Error(Ue(200));return Eg(null,e,t,!0,r)};Vi.hydrateRoot=function(e,t,r){if(!Pb(e))throw Error(Ue(405));var i=r!=null&&r.hydratedSources||null,s=!1,a="",c=vE;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),t=mE(t,null,e,1,r??null,s,!1,a,c),e[Ls]=t.current,Au(e),i)for(e=0;e<i.length;e++)r=i[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _g(t)};Vi.render=function(e,t,r){if(!Cg(t))throw Error(Ue(200));return Eg(null,e,t,!1,r)};Vi.unmountComponentAtNode=function(e){if(!Cg(e))throw Error(Ue(40));return e._reactRootContainer?(Ba(function(){Eg(null,null,e,!1,function(){e._reactRootContainer=null,e[Ls]=null})}),!0):!1};Vi.unstable_batchedUpdates=Cb;Vi.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Cg(r))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return Eg(e,t,r,!1,i)};Vi.version="18.3.1-next-f1338f8080-20240426";function xE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xE)}catch(e){console.error(e)}}xE(),x_.exports=Vi;var zc=x_.exports;const PR=Vo(zc);var yE,$k=zc;yE=dy.createRoot=$k.createRoot,dy.hydrateRoot=$k.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Du.apply(this,arguments)}var No;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(No||(No={}));const Bk="popstate";function OR(e){e===void 0&&(e={});function t(s,a){let{pathname:c="/",search:f="",hash:v=""}=Ja(s.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),i0("",{pathname:c,search:f,hash:v},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let c=s.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let v=s.location.href,x=v.indexOf("#");f=x===-1?v:v.slice(0,x)}return f+"#"+(typeof a=="string"?a:Zp(a))}function i(s,a){Ob(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return LR(t,r,i,e)}function cr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ob(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RR(){return Math.random().toString(36).substr(2,8)}function zk(e,t){return{usr:e.state,key:e.key,idx:t}}function i0(e,t,r,i){return r===void 0&&(r=null),Du({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ja(t):t,{state:r,key:t&&t.key||i||RR()})}function Zp(e){let{pathname:t="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Ja(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function LR(e,t,r,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,c=s.history,f=No.Pop,v=null,x=S();x==null&&(x=0,c.replaceState(Du({},c.state,{idx:x}),""));function S(){return(c.state||{idx:null}).idx}function C(){f=No.Pop;let R=S(),I=R==null?null:R-x;x=R,v&&v({action:f,location:D.location,delta:I})}function N(R,I){f=No.Push;let j=i0(D.location,R,I);r&&r(j,R),x=S()+1;let O=zk(j,x),q=D.createHref(j);try{c.pushState(O,"",q)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;s.location.assign(q)}a&&v&&v({action:f,location:D.location,delta:1})}function B(R,I){f=No.Replace;let j=i0(D.location,R,I);r&&r(j,R),x=S();let O=zk(j,x),q=D.createHref(j);c.replaceState(O,"",q),a&&v&&v({action:f,location:D.location,delta:0})}function U(R){let I=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof R=="string"?R:Zp(R);return j=j.replace(/ $/,"%20"),cr(I,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,I)}let D={get action(){return f},get location(){return e(s,c)},listen(R){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(Bk,C),v=R,()=>{s.removeEventListener(Bk,C),v=null}},createHref(R){return t(s,R)},createURL:U,encodeLocation(R){let I=U(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:N,replace:B,go(R){return c.go(R)}};return D}var Fk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fk||(Fk={}));function IR(e,t,r){return r===void 0&&(r="/"),DR(e,t,r)}function DR(e,t,r,i){let s=typeof t=="string"?Ja(t):t,a=jc(s.pathname||"/",r);if(a==null)return null;let c=bE(e);$R(c);let f=null;for(let v=0;f==null&&v<c.length;++v){let x=qR(a);f=XR(c[v],x)}return f}function bE(e,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i="");let s=(a,c,f)=>{let v={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};v.relativePath.startsWith("/")&&(cr(v.relativePath.startsWith(i),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(i.length));let x=zo([i,v.relativePath]),S=r.concat(v);a.children&&a.children.length>0&&(cr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),bE(a.children,t,S,x)),!(a.path==null&&!a.index)&&t.push({path:x,score:GR(x,a.index),routesMeta:S})};return e.forEach((a,c)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,c);else for(let v of wE(a.path))s(a,c,v)}),t}function wE(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let c=wE(i.join("/")),f=[];return f.push(...c.map(v=>v===""?a:[a,v].join("/"))),s&&f.push(...c),f.map(v=>e.startsWith("/")&&v===""?"/":v)}function $R(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:VR(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const BR=/^:[\w-]+$/,zR=3,FR=2,WR=1,UR=10,HR=-2,Wk=e=>e==="*";function GR(e,t){let r=e.split("/"),i=r.length;return r.some(Wk)&&(i+=HR),t&&(i+=FR),r.filter(s=>!Wk(s)).reduce((s,a)=>s+(BR.test(a)?zR:a===""?WR:UR),i)}function VR(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function XR(e,t,r){let{routesMeta:i}=e,s={},a="/",c=[];for(let f=0;f<i.length;++f){let v=i[f],x=f===i.length-1,S=a==="/"?t:t.slice(a.length)||"/",C=n0({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},S),N=v.route;if(!C)return null;Object.assign(s,C.params),c.push({params:s,pathname:zo([a,C.pathname]),pathnameBase:JR(zo([a,C.pathnameBase])),route:N}),C.pathnameBase!=="/"&&(a=zo([a,C.pathnameBase]))}return c}function n0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=YR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:i.reduce((x,S,C)=>{let{paramName:N,isOptional:B}=S;if(N==="*"){let D=f[C]||"";c=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const U=f[C];return B&&!U?x[N]=void 0:x[N]=(U||"").replace(/%2F/g,"/"),x},{}),pathname:a,pathnameBase:c,pattern:e}}function YR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ob(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,v)=>(i.push({paramName:f,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function qR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ob(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function KR(e,t){t===void 0&&(t="/");let{pathname:r,search:i="",hash:s=""}=typeof e=="string"?Ja(e):e;return{pathname:r?r.startsWith("/")?r:ZR(r,t):t,search:eL(i),hash:tL(s)}}function ZR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Px(e,t,r,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Rb(e,t){let r=QR(e);return t?r.map((i,s)=>s===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function Lb(e,t,r,i){i===void 0&&(i=!1);let s;typeof e=="string"?s=Ja(e):(s=Du({},e),cr(!s.pathname||!s.pathname.includes("?"),Px("?","pathname","search",s)),cr(!s.pathname||!s.pathname.includes("#"),Px("#","pathname","hash",s)),cr(!s.search||!s.search.includes("#"),Px("#","search","hash",s)));let a=e===""||s.pathname==="",c=a?"/":s.pathname,f;if(c==null)f=r;else{let C=t.length-1;if(!i&&c.startsWith("..")){let N=c.split("/");for(;N[0]==="..";)N.shift(),C-=1;s.pathname=N.join("/")}f=C>=0?t[C]:"/"}let v=KR(s,f),x=c&&c!=="/"&&c.endsWith("/"),S=(a||c===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(x||S)&&(v.pathname+="/"),v}const zo=e=>e.join("/").replace(/\/\/+/g,"/"),JR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kE=["post","put","patch","delete"];new Set(kE);const iL=["get",...kE];new Set(iL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},$u.apply(this,arguments)}const Tg=T.createContext(null),SE=T.createContext(null),Us=T.createContext(null),Ag=T.createContext(null),Hs=T.createContext({outlet:null,matches:[],isDataRoute:!1}),_E=T.createContext(null);function nL(e,t){let{relative:r}=t===void 0?{}:t;Fc()||cr(!1);let{basename:i,navigator:s}=T.useContext(Us),{hash:a,pathname:c,search:f}=Mg(e,{relative:r}),v=c;return i!=="/"&&(v=c==="/"?i:zo([i,c])),s.createHref({pathname:v,search:f,hash:a})}function Fc(){return T.useContext(Ag)!=null}function el(){return Fc()||cr(!1),T.useContext(Ag).location}function CE(e){T.useContext(Us).static||T.useLayoutEffect(e)}function Ib(){let{isDataRoute:e}=T.useContext(Hs);return e?vL():sL()}function sL(){Fc()||cr(!1);let e=T.useContext(Tg),{basename:t,future:r,navigator:i}=T.useContext(Us),{matches:s}=T.useContext(Hs),{pathname:a}=el(),c=JSON.stringify(Rb(s,r.v7_relativeSplatPath)),f=T.useRef(!1);return CE(()=>{f.current=!0}),T.useCallback(function(x,S){if(S===void 0&&(S={}),!f.current)return;if(typeof x=="number"){i.go(x);return}let C=Lb(x,JSON.parse(c),a,S.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:zo([t,C.pathname])),(S.replace?i.replace:i.push)(C,S.state,S)},[t,i,c,a,e])}function EE(){let{matches:e}=T.useContext(Hs),t=e[e.length-1];return t?t.params:{}}function Mg(e,t){let{relative:r}=t===void 0?{}:t,{future:i}=T.useContext(Us),{matches:s}=T.useContext(Hs),{pathname:a}=el(),c=JSON.stringify(Rb(s,i.v7_relativeSplatPath));return T.useMemo(()=>Lb(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function oL(e,t){return aL(e,t)}function aL(e,t,r,i){Fc()||cr(!1);let{navigator:s}=T.useContext(Us),{matches:a}=T.useContext(Hs),c=a[a.length-1],f=c?c.params:{};c&&c.pathname;let v=c?c.pathnameBase:"/";c&&c.route;let x=el(),S;if(t){var C;let R=typeof t=="string"?Ja(t):t;v==="/"||(C=R.pathname)!=null&&C.startsWith(v)||cr(!1),S=R}else S=x;let N=S.pathname||"/",B=N;if(v!=="/"){let R=v.replace(/^\//,"").split("/");B="/"+N.replace(/^\//,"").split("/").slice(R.length).join("/")}let U=IR(e,{pathname:B}),D=hL(U&&U.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:zo([v,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?v:zo([v,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,r,i);return t&&D?T.createElement(Ag.Provider,{value:{location:$u({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:No.Pop}},D):D}function lL(){let e=mL(),t=rL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:s},r):null,null)}const cL=T.createElement(lL,null);class dL extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?T.createElement(Hs.Provider,{value:this.props.routeContext},T.createElement(_E.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uL(e){let{routeContext:t,match:r,children:i}=e,s=T.useContext(Tg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(Hs.Provider,{value:t},i)}function hL(e,t,r,i){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),i===void 0&&(i=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=i)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,f=(s=r)==null?void 0:s.errors;if(f!=null){let S=c.findIndex(C=>C.route.id&&(f==null?void 0:f[C.route.id])!==void 0);S>=0||cr(!1),c=c.slice(0,Math.min(c.length,S+1))}let v=!1,x=-1;if(r&&i&&i.v7_partialHydration)for(let S=0;S<c.length;S++){let C=c[S];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(x=S),C.route.id){let{loaderData:N,errors:B}=r,U=C.route.loader&&N[C.route.id]===void 0&&(!B||B[C.route.id]===void 0);if(C.route.lazy||U){v=!0,x>=0?c=c.slice(0,x+1):c=[c[0]];break}}}return c.reduceRight((S,C,N)=>{let B,U=!1,D=null,R=null;r&&(B=f&&C.route.id?f[C.route.id]:void 0,D=C.route.errorElement||cL,v&&(x<0&&N===0?(xL("route-fallback"),U=!0,R=null):x===N&&(U=!0,R=C.route.hydrateFallbackElement||null)));let I=t.concat(c.slice(0,N+1)),j=()=>{let O;return B?O=D:U?O=R:C.route.Component?O=T.createElement(C.route.Component,null):C.route.element?O=C.route.element:O=S,T.createElement(uL,{match:C,routeContext:{outlet:S,matches:I,isDataRoute:r!=null},children:O})};return r&&(C.route.ErrorBoundary||C.route.errorElement||N===0)?T.createElement(dL,{location:r.location,revalidation:r.revalidation,component:D,error:B,children:j(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):j()},null)}var TE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(TE||{}),AE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(AE||{});function fL(e){let t=T.useContext(Tg);return t||cr(!1),t}function pL(e){let t=T.useContext(SE);return t||cr(!1),t}function gL(e){let t=T.useContext(Hs);return t||cr(!1),t}function ME(e){let t=gL(),r=t.matches[t.matches.length-1];return r.route.id||cr(!1),r.route.id}function mL(){var e;let t=T.useContext(_E),r=pL(),i=ME();return t!==void 0?t:(e=r.errors)==null?void 0:e[i]}function vL(){let{router:e}=fL(TE.UseNavigateStable),t=ME(AE.UseNavigateStable),r=T.useRef(!1);return CE(()=>{r.current=!0}),T.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,$u({fromRouteId:t},a)))},[e,t])}const Uk={};function xL(e,t,r){Uk[e]||(Uk[e]=!0)}function yL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jE(e){let{to:t,replace:r,state:i,relative:s}=e;Fc()||cr(!1);let{future:a,static:c}=T.useContext(Us),{matches:f}=T.useContext(Hs),{pathname:v}=el(),x=Ib(),S=Lb(t,Rb(f,a.v7_relativeSplatPath),v,s==="path"),C=JSON.stringify(S);return T.useEffect(()=>x(JSON.parse(C),{replace:r,state:i,relative:s}),[x,C,s,r,i]),null}function Bi(e){cr(!1)}function bL(e){let{basename:t="/",children:r=null,location:i,navigationType:s=No.Pop,navigator:a,static:c=!1,future:f}=e;Fc()&&cr(!1);let v=t.replace(/^\/*/,"/"),x=T.useMemo(()=>({basename:v,navigator:a,static:c,future:$u({v7_relativeSplatPath:!1},f)}),[v,f,a,c]);typeof i=="string"&&(i=Ja(i));let{pathname:S="/",search:C="",hash:N="",state:B=null,key:U="default"}=i,D=T.useMemo(()=>{let R=jc(S,v);return R==null?null:{location:{pathname:R,search:C,hash:N,state:B,key:U},navigationType:s}},[v,S,C,N,B,U,s]);return D==null?null:T.createElement(Us.Provider,{value:x},T.createElement(Ag.Provider,{children:r,value:D}))}function wL(e){let{children:t,location:r}=e;return oL(s0(t),r)}new Promise(()=>{});function s0(e,t){t===void 0&&(t=[]);let r=[];return T.Children.forEach(e,(i,s)=>{if(!T.isValidElement(i))return;let a=[...t,s];if(i.type===T.Fragment){r.push.apply(r,s0(i.props.children,a));return}i.type!==Bi&&cr(!1),!i.props.index||!i.props.children||cr(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=s0(i.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Qp.apply(this,arguments)}function NE(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SL(e,t){return e.button===0&&(!t||t==="_self")&&!kL(e)}function o0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let i=e[r];return t.concat(Array.isArray(i)?i.map(s=>[r,s]):[[r,i]])},[]))}function _L(e,t){let r=o0(e);return t&&t.forEach((i,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const CL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EL=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],TL="6";try{window.__reactRouterVersion=TL}catch{}const AL=T.createContext({isTransitioning:!1}),ML="startTransition",Hk=W0[ML];function jL(e){let{basename:t,children:r,future:i,window:s}=e,a=T.useRef();a.current==null&&(a.current=OR({window:s,v5Compat:!0}));let c=a.current,[f,v]=T.useState({action:c.action,location:c.location}),{v7_startTransition:x}=i||{},S=T.useCallback(C=>{x&&Hk?Hk(()=>v(C)):v(C)},[v,x]);return T.useLayoutEffect(()=>c.listen(S),[c,S]),T.useEffect(()=>yL(i),[i]),T.createElement(bL,{basename:t,children:r,location:f.location,navigationType:f.action,navigator:c,future:i})}const NL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tr=T.forwardRef(function(t,r){let{onClick:i,relative:s,reloadDocument:a,replace:c,state:f,target:v,to:x,preventScrollReset:S,viewTransition:C}=t,N=NE(t,CL),{basename:B}=T.useContext(Us),U,D=!1;if(typeof x=="string"&&PL.test(x)&&(U=x,NL))try{let O=new URL(window.location.href),q=x.startsWith("//")?new URL(O.protocol+x):new URL(x),ae=jc(q.pathname,B);q.origin===O.origin&&ae!=null?x=ae+q.search+q.hash:D=!0}catch{}let R=nL(x,{relative:s}),I=RL(x,{replace:c,state:f,target:v,preventScrollReset:S,relative:s,viewTransition:C});function j(O){i&&i(O),O.defaultPrevented||I(O)}return T.createElement("a",Qp({},N,{href:U||R,onClick:D||a?i:j,ref:r,target:v}))}),xo=T.forwardRef(function(t,r){let{"aria-current":i="page",caseSensitive:s=!1,className:a="",end:c=!1,style:f,to:v,viewTransition:x,children:S}=t,C=NE(t,EL),N=Mg(v,{relative:C.relative}),B=el(),U=T.useContext(SE),{navigator:D,basename:R}=T.useContext(Us),I=U!=null&&LL(N)&&x===!0,j=D.encodeLocation?D.encodeLocation(N).pathname:N.pathname,O=B.pathname,q=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;s||(O=O.toLowerCase(),q=q?q.toLowerCase():null,j=j.toLowerCase()),q&&R&&(q=jc(q,R)||q);const ae=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let te=O===j||!c&&O.startsWith(j)&&O.charAt(ae)==="/",le=q!=null&&(q===j||!c&&q.startsWith(j)&&q.charAt(j.length)==="/"),J={isActive:te,isPending:le,isTransitioning:I},be=te?i:void 0,ke;typeof a=="function"?ke=a(J):ke=[a,te?"active":null,le?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof f=="function"?f(J):f;return T.createElement(Tr,Qp({},C,{"aria-current":be,className:ke,ref:r,style:Ie,to:v,viewTransition:x}),typeof S=="function"?S(J):S)});var a0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(a0||(a0={}));var Gk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gk||(Gk={}));function OL(e){let t=T.useContext(Tg);return t||cr(!1),t}function RL(e,t){let{target:r,replace:i,state:s,preventScrollReset:a,relative:c,viewTransition:f}=t===void 0?{}:t,v=Ib(),x=el(),S=Mg(e,{relative:c});return T.useCallback(C=>{if(SL(C,r)){C.preventDefault();let N=i!==void 0?i:Zp(x)===Zp(S);v(e,{replace:N,state:s,preventScrollReset:a,relative:c,viewTransition:f})}},[x,v,S,i,s,r,e,a,c,f])}function PE(e){let t=T.useRef(o0(e)),r=T.useRef(!1),i=el(),s=T.useMemo(()=>_L(i.search,r.current?null:t.current),[i.search]),a=Ib(),c=T.useCallback((f,v)=>{const x=o0(typeof f=="function"?f(s):f);r.current=!0,a("?"+x,v)},[a,s]);return[s,c]}function LL(e,t){t===void 0&&(t={});let r=T.useContext(AL);r==null&&cr(!1);let{basename:i}=OL(a0.useViewTransitionState),s=Mg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=jc(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=jc(r.nextLocation.pathname,i)||r.nextLocation.pathname;return n0(s.pathname,c)!=null||n0(s.pathname,a)!=null}var IL=typeof Element<"u",DL=typeof Map=="function",$L=typeof Set=="function",BL=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function kp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!kp(e[i],t[i]))return!1;return!0}var a;if(DL&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(i=a.next()).done;)if(!t.has(i.value[0]))return!1;for(a=e.entries();!(i=a.next()).done;)if(!kp(i.value[1],t.get(i.value[0])))return!1;return!0}if($L&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(i=a.next()).done;)if(!t.has(i.value[0]))return!1;return!0}if(BL&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;if(IL&&e instanceof Element)return!1;for(i=r;i--!==0;)if(!((s[i]==="_owner"||s[i]==="__v"||s[i]==="__o")&&e.$$typeof)&&!kp(e[s[i]],t[s[i]]))return!1;return!0}return e!==e&&t!==t}var zL=function(t,r){try{return kp(t,r)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}};const FL=Vo(zL);var WL=function(e,t,r,i,s,a,c,f){if(!e){var v;if(t===void 0)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var x=[r,i,s,a,c,f],S=0;v=new Error(t.replace(/%s/g,function(){return x[S++]})),v.name="Invariant Violation"}throw v.framesToPop=1,v}},UL=WL;const Vk=Vo(UL);var HL=function(t,r,i,s){var a=i?i.call(s,t,r):void 0;if(a!==void 0)return!!a;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var c=Object.keys(t),f=Object.keys(r);if(c.length!==f.length)return!1;for(var v=Object.prototype.hasOwnProperty.bind(r),x=0;x<c.length;x++){var S=c[x];if(!v(S))return!1;var C=t[S],N=r[S];if(a=i?i.call(s,C,N,S):void 0,a===!1||a===void 0&&C!==N)return!1}return!0};const GL=Vo(HL);var OE=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(OE||{}),Ox={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Xk=Object.values(OE),Db={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},VL=Object.entries(Db).reduce((e,[t,r])=>(e[r]=t,e),{}),Rn="data-rh",xc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},yc=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const i=e[r];if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}return null},XL=e=>{let t=yc(e,"title");const r=yc(e,xc.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const i=yc(e,xc.DEFAULT_TITLE);return t||i||void 0},YL=e=>yc(e,xc.ON_CHANGE_CLIENT_STATE)||(()=>{}),Rx=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,i)=>({...r,...i}),{}),qL=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,i)=>{if(!r.length){const s=Object.keys(i);for(let a=0;a<s.length;a+=1){const f=s[a].toLowerCase();if(e.indexOf(f)!==-1&&i[f])return r.concat(i)}}return r},[]),KL=e=>console&&typeof console.warn=="function"&&console.warn(e),Vd=(e,t,r)=>{const i={};return r.filter(s=>Array.isArray(s[e])?!0:(typeof s[e]<"u"&&KL(`Helmet: ${e} should be of type "Array". Instead found type "${typeof s[e]}"`),!1)).map(s=>s[e]).reverse().reduce((s,a)=>{const c={};a.filter(v=>{let x;const S=Object.keys(v);for(let N=0;N<S.length;N+=1){const B=S[N],U=B.toLowerCase();t.indexOf(U)!==-1&&!(x==="rel"&&v[x].toLowerCase()==="canonical")&&!(U==="rel"&&v[U].toLowerCase()==="stylesheet")&&(x=U),t.indexOf(B)!==-1&&(B==="innerHTML"||B==="cssText"||B==="itemprop")&&(x=B)}if(!x||!v[x])return!1;const C=v[x].toLowerCase();return i[x]||(i[x]={}),c[x]||(c[x]={}),i[x][C]?!1:(c[x][C]=!0,!0)}).reverse().forEach(v=>s.push(v));const f=Object.keys(c);for(let v=0;v<f.length;v+=1){const x=f[v],S={...i[x],...c[x]};i[x]=S}return s},[]).reverse()},ZL=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},QL=e=>({baseTag:qL(["href"],e),bodyAttributes:Rx("bodyAttributes",e),defer:yc(e,xc.DEFER),encode:yc(e,xc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Rx("htmlAttributes",e),linkTags:Vd("link",["rel","href"],e),metaTags:Vd("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Vd("noscript",["innerHTML"],e),onChangeClientState:YL(e),scriptTags:Vd("script",["src","innerHTML"],e),styleTags:Vd("style",["cssText"],e),title:XL(e),titleAttributes:Rx("titleAttributes",e),prioritizeSeoTags:ZL(e,xc.PRIORITIZE_SEO_TAGS)}),RE=e=>Array.isArray(e)?e.join(""):e,JL=(e,t)=>{const r=Object.keys(e);for(let i=0;i<r.length;i+=1)if(t[r[i]]&&t[r[i]].includes(e[r[i]]))return!0;return!1},Lx=(e,t)=>Array.isArray(e)?e.reduce((r,i)=>(JL(i,t)?r.priority.push(i):r.default.push(i),r),{priority:[],default:[]}):{default:e,priority:[]},Yk=(e,t)=>({...e,[t]:void 0}),eI=["noscript","script","style"],l0=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),LE=e=>Object.keys(e).reduce((t,r)=>{const i=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${i}`:i},""),tI=(e,t,r,i)=>{const s=LE(r),a=RE(t);return s?`<${e} ${Rn}="true" ${s}>${l0(a,i)}</${e}>`:`<${e} ${Rn}="true">${l0(a,i)}</${e}>`},rI=(e,t,r=!0)=>t.reduce((i,s)=>{const a=s,c=Object.keys(a).filter(x=>!(x==="innerHTML"||x==="cssText")).reduce((x,S)=>{const C=typeof a[S]>"u"?S:`${S}="${l0(a[S],r)}"`;return x?`${x} ${C}`:C},""),f=a.innerHTML||a.cssText||"",v=eI.indexOf(e)===-1;return`${i}<${e} ${Rn}="true" ${c}${v?"/>":`>${f}</${e}>`}`},""),IE=(e,t={})=>Object.keys(e).reduce((r,i)=>{const s=Db[i];return r[s||i]=e[i],r},t),iI=(e,t,r)=>{const i={key:t,[Rn]:!0},s=IE(r,i);return[Fr.createElement("title",s,t)]},Sp=(e,t)=>t.map((r,i)=>{const s={key:i,[Rn]:!0};return Object.keys(r).forEach(a=>{const f=Db[a]||a;if(f==="innerHTML"||f==="cssText"){const v=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:v}}else s[f]=r[a]}),Fr.createElement(e,s)}),dn=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>iI(e,t.title,t.titleAttributes),toString:()=>tI(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>IE(t),toString:()=>LE(t)};default:return{toComponent:()=>Sp(e,t),toString:()=>rI(e,t,r)}}},nI=({metaTags:e,linkTags:t,scriptTags:r,encode:i})=>{const s=Lx(e,Ox.meta),a=Lx(t,Ox.link),c=Lx(r,Ox.script);return{priorityMethods:{toComponent:()=>[...Sp("meta",s.priority),...Sp("link",a.priority),...Sp("script",c.priority)],toString:()=>`${dn("meta",s.priority,i)} ${dn("link",a.priority,i)} ${dn("script",c.priority,i)}`},metaTags:s.default,linkTags:a.default,scriptTags:c.default}},sI=e=>{const{baseTag:t,bodyAttributes:r,encode:i=!0,htmlAttributes:s,noscriptTags:a,styleTags:c,title:f="",titleAttributes:v,prioritizeSeoTags:x}=e;let{linkTags:S,metaTags:C,scriptTags:N}=e,B={toComponent:()=>{},toString:()=>""};return x&&({priorityMethods:B,linkTags:S,metaTags:C,scriptTags:N}=nI(e)),{priority:B,base:dn("base",t,i),bodyAttributes:dn("bodyAttributes",r,i),htmlAttributes:dn("htmlAttributes",s,i),link:dn("link",S,i),meta:dn("meta",C,i),noscript:dn("noscript",a,i),script:dn("script",N,i),style:dn("style",c,i),title:dn("title",{title:f,titleAttributes:v},i)}},c0=sI,Kf=[],DE=!!(typeof window<"u"&&window.document&&window.document.createElement),d0=class{constructor(e,t){_s(this,"instances",[]);_s(this,"canUseDOM",DE);_s(this,"context");_s(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Kf:this.instances,add:e=>{(this.canUseDOM?Kf:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Kf:this.instances).indexOf(e);(this.canUseDOM?Kf:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=c0({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},oI={},$E=Fr.createContext(oI),Pa,BE=(Pa=class extends T.Component{constructor(r){super(r);_s(this,"helmetData");this.helmetData=new d0(this.props.context||{},Pa.canUseDOM)}render(){return Fr.createElement($E.Provider,{value:this.helmetData.value},this.props.children)}},_s(Pa,"canUseDOM",DE),Pa),Il=(e,t)=>{const r=document.head||document.querySelector("head"),i=r.querySelectorAll(`${e}[${Rn}]`),s=[].slice.call(i),a=[];let c;return t&&t.length&&t.forEach(f=>{const v=document.createElement(e);for(const x in f)if(Object.prototype.hasOwnProperty.call(f,x))if(x==="innerHTML")v.innerHTML=f.innerHTML;else if(x==="cssText")v.styleSheet?v.styleSheet.cssText=f.cssText:v.appendChild(document.createTextNode(f.cssText));else{const S=x,C=typeof f[S]>"u"?"":f[S];v.setAttribute(x,C)}v.setAttribute(Rn,"true"),s.some((x,S)=>(c=S,v.isEqualNode(x)))?s.splice(c,1):a.push(v)}),s.forEach(f=>{var v;return(v=f.parentNode)==null?void 0:v.removeChild(f)}),a.forEach(f=>r.appendChild(f)),{oldTags:s,newTags:a}},u0=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const i=r.getAttribute(Rn),s=i?i.split(","):[],a=[...s],c=Object.keys(t);for(const f of c){const v=t[f]||"";r.getAttribute(f)!==v&&r.setAttribute(f,v),s.indexOf(f)===-1&&s.push(f);const x=a.indexOf(f);x!==-1&&a.splice(x,1)}for(let f=a.length-1;f>=0;f-=1)r.removeAttribute(a[f]);s.length===a.length?r.removeAttribute(Rn):r.getAttribute(Rn)!==c.join(",")&&r.setAttribute(Rn,c.join(","))},aI=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=RE(e)),u0("title",t)},qk=(e,t)=>{const{baseTag:r,bodyAttributes:i,htmlAttributes:s,linkTags:a,metaTags:c,noscriptTags:f,onChangeClientState:v,scriptTags:x,styleTags:S,title:C,titleAttributes:N}=e;u0("body",i),u0("html",s),aI(C,N);const B={baseTag:Il("base",r),linkTags:Il("link",a),metaTags:Il("meta",c),noscriptTags:Il("noscript",f),scriptTags:Il("script",x),styleTags:Il("style",S)},U={},D={};Object.keys(B).forEach(R=>{const{newTags:I,oldTags:j}=B[R];I.length&&(U[R]=I),j.length&&(D[R]=B[R].oldTags)}),t&&t(),v(e,U,D)},Xd=null,lI=e=>{Xd&&cancelAnimationFrame(Xd),e.defer?Xd=requestAnimationFrame(()=>{qk(e,()=>{Xd=null})}):(qk(e),Xd=null)},cI=lI,Kk=class extends T.Component{constructor(){super(...arguments);_s(this,"rendered",!1)}shouldComponentUpdate(t){return!GL(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let i=null;const s=QL(t.get().map(a=>{const c={...a.props};return delete c.context,c}));BE.canUseDOM?cI(s):c0&&(i=c0(s)),r(i)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},cy,dI=(cy=class extends T.Component{shouldComponentUpdate(e){return!FL(Yk(this.props,"helmetData"),Yk(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,i){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,i)}]}}mapObjectTypeChildren(e,t,r,i){switch(e.type){case"title":return{...t,[e.type]:i,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(i=>{r={...r,[i]:e[i]}}),r}warnOnInvalidChildren(e,t){return Vk(Xk.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Xk.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Vk(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return Fr.Children.forEach(e,i=>{if(!i||!i.props)return;const{children:s,...a}=i.props,c=Object.keys(a).reduce((v,x)=>(v[VL[x]||x]=a[x],v),{});let{type:f}=i;switch(typeof f=="symbol"?f=f.toString():this.warnOnInvalidChildren(i,s),f){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(i,r,c,s);break;default:t=this.mapObjectTypeChildren(i,t,c,s);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:i}=t;if(e&&(r=this.mapChildrenToProps(e,r)),i&&!(i instanceof d0)){const s=i;i=new d0(s.context,!0),delete r.helmetData}return i?Fr.createElement(Kk,{...r,context:i.value}):Fr.createElement($E.Consumer,null,s=>Fr.createElement(Kk,{...r,context:s}))}},_s(cy,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),cy);function gn(e,t){const r=T.useRef(null),i="OFC";T.useEffect(()=>{r.current===null&&(r.current=document.title);const s=e==null?void 0:e.trim();return document.title=s?`${i} - ${s}`:i,()=>{if(r.current!==null){const a=s?`${i} - ${s}`:i;document.title===a&&(document.title=r.current)}}},[e,t==null?void 0:t.preserveOnUnmount])}function zE(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=zE(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function FE(){for(var e,t,r=0,i="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=zE(e))&&(i&&(i+=" "),i+=t);return i}const $b="-",uI=e=>{const t=fI(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:c=>{const f=c.split($b);return f[0]===""&&f.length!==1&&f.shift(),WE(f,t)||hI(c)},getConflictingClassGroupIds:(c,f)=>{const v=r[c]||[];return f&&i[c]?[...v,...i[c]]:v}}},WE=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),s=i?WE(e.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join($b);return(c=t.validators.find(({validator:f})=>f(a)))==null?void 0:c.classGroupId},Zk=/^\[(.+)\]$/,hI=e=>{if(Zk.test(e)){const t=Zk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},fI=e=>{const{theme:t,prefix:r}=e,i={nextPart:new Map,validators:[]};return gI(Object.entries(e.classGroups),r).forEach(([a,c])=>{h0(c,i,a,t)}),i},h0=(e,t,r,i)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Qk(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(pI(s)){h0(s(i),t,r,i);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,c])=>{h0(c,Qk(t,a),r,i)})})},Qk=(e,t)=>{let r=e;return t.split($b).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},pI=e=>e.isThemeGetter,gI=(e,t)=>t?e.map(([r,i])=>{const s=i.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,f])=>[t+c,f])):a);return[r,s]}):e,mI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,i=new Map;const s=(a,c)=>{r.set(a,c),t++,t>e&&(t=0,i=r,r=new Map)};return{get(a){let c=r.get(a);if(c!==void 0)return c;if((c=i.get(a))!==void 0)return s(a,c),c},set(a,c){r.has(a)?r.set(a,c):s(a,c)}}},UE="!",vI=e=>{const{separator:t,experimentalParseClassName:r}=e,i=t.length===1,s=t[0],a=t.length,c=f=>{const v=[];let x=0,S=0,C;for(let R=0;R<f.length;R++){let I=f[R];if(x===0){if(I===s&&(i||f.slice(R,R+a)===t)){v.push(f.slice(S,R)),S=R+a;continue}if(I==="/"){C=R;continue}}I==="["?x++:I==="]"&&x--}const N=v.length===0?f:f.substring(S),B=N.startsWith(UE),U=B?N.substring(1):N,D=C&&C>S?C-S:void 0;return{modifiers:v,hasImportantModifier:B,baseClassName:U,maybePostfixModifierPosition:D}};return r?f=>r({className:f,parseClassName:c}):c},xI=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(i=>{i[0]==="["?(t.push(...r.sort(),i),r=[]):r.push(i)}),t.push(...r.sort()),t},yI=e=>({cache:mI(e.cacheSize),parseClassName:vI(e),...uI(e)}),bI=/\s+/,wI=(e,t)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:s}=t,a=[],c=e.trim().split(bI);let f="";for(let v=c.length-1;v>=0;v-=1){const x=c[v],{modifiers:S,hasImportantModifier:C,baseClassName:N,maybePostfixModifierPosition:B}=r(x);let U=!!B,D=i(U?N.substring(0,B):N);if(!D){if(!U){f=x+(f.length>0?" "+f:f);continue}if(D=i(N),!D){f=x+(f.length>0?" "+f:f);continue}U=!1}const R=xI(S).join(":"),I=C?R+UE:R,j=I+D;if(a.includes(j))continue;a.push(j);const O=s(D,U);for(let q=0;q<O.length;++q){const ae=O[q];a.push(I+ae)}f=x+(f.length>0?" "+f:f)}return f};function kI(){let e=0,t,r,i="";for(;e<arguments.length;)(t=arguments[e++])&&(r=HE(t))&&(i&&(i+=" "),i+=r);return i}const HE=e=>{if(typeof e=="string")return e;let t,r="";for(let i=0;i<e.length;i++)e[i]&&(t=HE(e[i]))&&(r&&(r+=" "),r+=t);return r};function SI(e,...t){let r,i,s,a=c;function c(v){const x=t.reduce((S,C)=>C(S),e());return r=yI(x),i=r.cache.get,s=r.cache.set,a=f,f(v)}function f(v){const x=i(v);if(x)return x;const S=wI(v,r);return s(v,S),S}return function(){return a(kI.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},GE=/^\[(?:([a-z-]+):)?(.+)\]$/i,_I=/^\d+\/\d+$/,CI=new Set(["px","full","screen"]),EI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cs=e=>bc(e)||CI.has(e)||_I.test(e),yo=e=>Wc(e,"length",$I),bc=e=>!!e&&!Number.isNaN(Number(e)),Ix=e=>Wc(e,"number",bc),Yd=e=>!!e&&Number.isInteger(Number(e)),NI=e=>e.endsWith("%")&&bc(e.slice(0,-1)),Et=e=>GE.test(e),bo=e=>EI.test(e),PI=new Set(["length","size","percentage"]),OI=e=>Wc(e,PI,VE),RI=e=>Wc(e,"position",VE),LI=new Set(["image","url"]),II=e=>Wc(e,LI,zI),DI=e=>Wc(e,"",BI),qd=()=>!0,Wc=(e,t,r)=>{const i=GE.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):r(i[2]):!1},$I=e=>TI.test(e)&&!AI.test(e),VE=()=>!1,BI=e=>MI.test(e),zI=e=>jI.test(e),FI=()=>{const e=Kt("colors"),t=Kt("spacing"),r=Kt("blur"),i=Kt("brightness"),s=Kt("borderColor"),a=Kt("borderRadius"),c=Kt("borderSpacing"),f=Kt("borderWidth"),v=Kt("contrast"),x=Kt("grayscale"),S=Kt("hueRotate"),C=Kt("invert"),N=Kt("gap"),B=Kt("gradientColorStops"),U=Kt("gradientColorStopPositions"),D=Kt("inset"),R=Kt("margin"),I=Kt("opacity"),j=Kt("padding"),O=Kt("saturate"),q=Kt("scale"),ae=Kt("sepia"),te=Kt("skew"),le=Kt("space"),J=Kt("translate"),be=()=>["auto","contain","none"],ke=()=>["auto","hidden","clip","visible","scroll"],Ie=()=>["auto",Et,t],he=()=>[Et,t],_e=()=>["",Cs,yo],Oe=()=>["auto",bc,Et],Je=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>["start","end","center","between","around","evenly","stretch"],Te=()=>["","0",Et],$e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ye=()=>[bc,Et];return{cacheSize:500,separator:":",theme:{colors:[qd],spacing:[Cs,yo],blur:["none","",bo,Et],brightness:Ye(),borderColor:[e],borderRadius:["none","","full",bo,Et],borderSpacing:he(),borderWidth:_e(),contrast:Ye(),grayscale:Te(),hueRotate:Ye(),invert:Te(),gap:he(),gradientColorStops:[e],gradientColorStopPositions:[NI,yo],inset:Ie(),margin:Ie(),opacity:Ye(),padding:he(),saturate:Ye(),scale:Ye(),sepia:Te(),skew:Ye(),space:he(),translate:he()},classGroups:{aspect:[{aspect:["auto","square","video",Et]}],container:["container"],columns:[{columns:[bo]}],"break-after":[{"break-after":$e()}],"break-before":[{"break-before":$e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Je(),Et]}],overflow:[{overflow:ke()}],"overflow-x":[{"overflow-x":ke()}],"overflow-y":[{"overflow-y":ke()}],overscroll:[{overscroll:be()}],"overscroll-x":[{"overscroll-x":be()}],"overscroll-y":[{"overscroll-y":be()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[D]}],"inset-x":[{"inset-x":[D]}],"inset-y":[{"inset-y":[D]}],start:[{start:[D]}],end:[{end:[D]}],top:[{top:[D]}],right:[{right:[D]}],bottom:[{bottom:[D]}],left:[{left:[D]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yd,Et]}],basis:[{basis:Ie()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Et]}],grow:[{grow:Te()}],shrink:[{shrink:Te()}],order:[{order:["first","last","none",Yd,Et]}],"grid-cols":[{"grid-cols":[qd]}],"col-start-end":[{col:["auto",{span:["full",Yd,Et]},Et]}],"col-start":[{"col-start":Oe()}],"col-end":[{"col-end":Oe()}],"grid-rows":[{"grid-rows":[qd]}],"row-start-end":[{row:["auto",{span:[Yd,Et]},Et]}],"row-start":[{"row-start":Oe()}],"row-end":[{"row-end":Oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Et]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...pe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...pe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...pe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[le]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[le]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Et,t]}],"min-w":[{"min-w":[Et,t,"min","max","fit"]}],"max-w":[{"max-w":[Et,t,"none","full","min","max","fit","prose",{screen:[bo]},bo]}],h:[{h:[Et,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Et,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Et,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Et,t,"auto","min","max","fit"]}],"font-size":[{text:["base",bo,yo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ix]}],"font-family":[{font:[qd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Et]}],"line-clamp":[{"line-clamp":["none",bc,Ix]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cs,Et]}],"list-image":[{"list-image":["none",Et]}],"list-style-type":[{list:["none","disc","decimal",Et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cs,yo]}],"underline-offset":[{"underline-offset":["auto",Cs,Et]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:he()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Je(),RI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},II]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[U]}],"gradient-via-pos":[{via:[U]}],"gradient-to-pos":[{to:[U]}],"gradient-from":[{from:[B]}],"gradient-via":[{via:[B]}],"gradient-to":[{to:[B]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[Cs,Et]}],"outline-w":[{outline:[Cs,yo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_e()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[Cs,yo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bo,DI]}],"shadow-color":[{shadow:[qd]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",bo,Et]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[S]}],invert:[{invert:[C]}],saturate:[{saturate:[O]}],sepia:[{sepia:[ae]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[S]}],"backdrop-invert":[{"backdrop-invert":[C]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Et]}],duration:[{duration:Ye()}],ease:[{ease:["linear","in","out","in-out",Et]}],delay:[{delay:Ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",Et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Yd,Et]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[te]}],"skew-y":[{"skew-y":[te]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Et]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Et]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":he()}],"scroll-mx":[{"scroll-mx":he()}],"scroll-my":[{"scroll-my":he()}],"scroll-ms":[{"scroll-ms":he()}],"scroll-me":[{"scroll-me":he()}],"scroll-mt":[{"scroll-mt":he()}],"scroll-mr":[{"scroll-mr":he()}],"scroll-mb":[{"scroll-mb":he()}],"scroll-ml":[{"scroll-ml":he()}],"scroll-p":[{"scroll-p":he()}],"scroll-px":[{"scroll-px":he()}],"scroll-py":[{"scroll-py":he()}],"scroll-ps":[{"scroll-ps":he()}],"scroll-pe":[{"scroll-pe":he()}],"scroll-pt":[{"scroll-pt":he()}],"scroll-pr":[{"scroll-pr":he()}],"scroll-pb":[{"scroll-pb":he()}],"scroll-pl":[{"scroll-pl":he()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Et]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Cs,yo,Ix]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WI=SI(FI);function gt(...e){return WI(FE(e))}const pr=T.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:gt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));pr.displayName="Card";const Kr=({className:e,...t})=>h.jsx("div",{className:gt("flex flex-col space-y-1.5 p-6",e),...t}),Zr=({className:e,...t})=>h.jsx("h3",{className:gt("text-2xl font-semibold leading-none tracking-tight",e),...t}),gi=({className:e,...t})=>h.jsx("p",{className:gt("text-sm text-muted-foreground",e),...t}),xr=({className:e,...t})=>h.jsx("div",{className:gt("p-6 pt-0",e),...t}),Uc=e=>{let t=0;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);t=(t<<5)-t+i,t=t&t}return Math.abs(t)},XE=(e,t)=>Math.floor(e/Math.pow(10,t)%10),f0=(e,t)=>!(XE(e,t)%2),si=(e,t,r)=>{const i=e%t;return r&&XE(e,r)%2===0?-i:i},za=(e,t,r)=>t[e%r],UI=e=>{e.slice(0,1)==="#"&&(e=e.slice(1));const t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),i=parseInt(e.substr(4,2),16);return(t*299+r*587+i*114)/1e3>=128?"#000000":"#FFFFFF"},HI=4,Xt=80;function GI(e,t){const r=Uc(e),i=t&&t.length;return Array.from({length:HI},(s,a)=>({color:za(r+a,t,i),translateX:si(r*(a+1),Xt/2-(a+17),1),translateY:si(r*(a+1),Xt/2-(a+17),2),rotate:si(r*(a+1),360),isSquare:f0(r,2)}))}const Jk=({name:e,colors:t,title:r,square:i,size:s,...a})=>{const c=GI(e,t),f=T.useId();return h.jsxs("svg",{viewBox:"0 0 "+Xt+" "+Xt,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:f,maskUnits:"userSpaceOnUse",x:0,y:0,width:Xt,height:Xt,children:h.jsx("rect",{width:Xt,height:Xt,rx:i?void 0:Xt*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${f})`,children:[h.jsx("rect",{width:Xt,height:Xt,fill:c[0].color}),h.jsx("rect",{x:(Xt-60)/2,y:(Xt-20)/2,width:Xt,height:c[1].isSquare?Xt:Xt/8,fill:c[1].color,transform:"translate("+c[1].translateX+" "+c[1].translateY+") rotate("+c[1].rotate+" "+Xt/2+" "+Xt/2+")"}),h.jsx("circle",{cx:Xt/2,cy:Xt/2,fill:c[2].color,r:Xt/5,transform:"translate("+c[2].translateX+" "+c[2].translateY+")"}),h.jsx("line",{x1:0,y1:Xt/2,x2:Xt,y2:Xt/2,strokeWidth:2,stroke:c[3].color,transform:"translate("+c[3].translateX+" "+c[3].translateY+") rotate("+c[3].rotate+" "+Xt/2+" "+Xt/2+")"})]})]})},ya=90,VI=5;function XI(e,t){const r=Uc(e),i=t&&t.length,s=Array.from({length:VI},(c,f)=>za(r+f,t,i)),a=[];return a[0]=s[0],a[1]=s[1],a[2]=s[1],a[3]=s[2],a[4]=s[2],a[5]=s[3],a[6]=s[3],a[7]=s[0],a[8]=s[4],a}const YI=({name:e,colors:t,title:r,square:i,size:s,...a})=>{const c=XI(e,t),f=Fr.useId();return h.jsxs("svg",{viewBox:"0 0 "+ya+" "+ya,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:f,maskUnits:"userSpaceOnUse",x:0,y:0,width:ya,height:ya,children:h.jsx("rect",{width:ya,height:ya,rx:i?void 0:ya*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${f})`,children:[h.jsx("path",{d:"M0 0h90v45H0z",fill:c[0]}),h.jsx("path",{d:"M0 45h90v45H0z",fill:c[1]}),h.jsx("path",{d:"M83 45a38 38 0 00-76 0h76z",fill:c[2]}),h.jsx("path",{d:"M83 45a38 38 0 01-76 0h76z",fill:c[3]}),h.jsx("path",{d:"M77 45a32 32 0 10-64 0h64z",fill:c[4]}),h.jsx("path",{d:"M77 45a32 32 0 11-64 0h64z",fill:c[5]}),h.jsx("path",{d:"M71 45a26 26 0 00-52 0h52z",fill:c[6]}),h.jsx("path",{d:"M71 45a26 26 0 01-52 0h52z",fill:c[7]}),h.jsx("circle",{cx:45,cy:45,r:23,fill:c[8]})]})]})},qI=64,ba=80;function KI(e,t){const r=Uc(e),i=t&&t.length;return Array.from({length:qI},(s,a)=>za(r%(a+1),t,i))}const ZI=({name:e,colors:t,title:r,square:i,size:s,...a})=>{const c=KI(e,t),f=T.useId();return h.jsxs("svg",{viewBox:"0 0 "+ba+" "+ba,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:f,"mask-type":"alpha",maskUnits:"userSpaceOnUse",x:0,y:0,width:ba,height:ba,children:h.jsx("rect",{width:ba,height:ba,rx:i?void 0:ba*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${f})`,children:[h.jsx("rect",{width:10,height:10,fill:c[0]}),h.jsx("rect",{x:20,width:10,height:10,fill:c[1]}),h.jsx("rect",{x:40,width:10,height:10,fill:c[2]}),h.jsx("rect",{x:60,width:10,height:10,fill:c[3]}),h.jsx("rect",{x:10,width:10,height:10,fill:c[4]}),h.jsx("rect",{x:30,width:10,height:10,fill:c[5]}),h.jsx("rect",{x:50,width:10,height:10,fill:c[6]}),h.jsx("rect",{x:70,width:10,height:10,fill:c[7]}),h.jsx("rect",{y:10,width:10,height:10,fill:c[8]}),h.jsx("rect",{y:20,width:10,height:10,fill:c[9]}),h.jsx("rect",{y:30,width:10,height:10,fill:c[10]}),h.jsx("rect",{y:40,width:10,height:10,fill:c[11]}),h.jsx("rect",{y:50,width:10,height:10,fill:c[12]}),h.jsx("rect",{y:60,width:10,height:10,fill:c[13]}),h.jsx("rect",{y:70,width:10,height:10,fill:c[14]}),h.jsx("rect",{x:20,y:10,width:10,height:10,fill:c[15]}),h.jsx("rect",{x:20,y:20,width:10,height:10,fill:c[16]}),h.jsx("rect",{x:20,y:30,width:10,height:10,fill:c[17]}),h.jsx("rect",{x:20,y:40,width:10,height:10,fill:c[18]}),h.jsx("rect",{x:20,y:50,width:10,height:10,fill:c[19]}),h.jsx("rect",{x:20,y:60,width:10,height:10,fill:c[20]}),h.jsx("rect",{x:20,y:70,width:10,height:10,fill:c[21]}),h.jsx("rect",{x:40,y:10,width:10,height:10,fill:c[22]}),h.jsx("rect",{x:40,y:20,width:10,height:10,fill:c[23]}),h.jsx("rect",{x:40,y:30,width:10,height:10,fill:c[24]}),h.jsx("rect",{x:40,y:40,width:10,height:10,fill:c[25]}),h.jsx("rect",{x:40,y:50,width:10,height:10,fill:c[26]}),h.jsx("rect",{x:40,y:60,width:10,height:10,fill:c[27]}),h.jsx("rect",{x:40,y:70,width:10,height:10,fill:c[28]}),h.jsx("rect",{x:60,y:10,width:10,height:10,fill:c[29]}),h.jsx("rect",{x:60,y:20,width:10,height:10,fill:c[30]}),h.jsx("rect",{x:60,y:30,width:10,height:10,fill:c[31]}),h.jsx("rect",{x:60,y:40,width:10,height:10,fill:c[32]}),h.jsx("rect",{x:60,y:50,width:10,height:10,fill:c[33]}),h.jsx("rect",{x:60,y:60,width:10,height:10,fill:c[34]}),h.jsx("rect",{x:60,y:70,width:10,height:10,fill:c[35]}),h.jsx("rect",{x:10,y:10,width:10,height:10,fill:c[36]}),h.jsx("rect",{x:10,y:20,width:10,height:10,fill:c[37]}),h.jsx("rect",{x:10,y:30,width:10,height:10,fill:c[38]}),h.jsx("rect",{x:10,y:40,width:10,height:10,fill:c[39]}),h.jsx("rect",{x:10,y:50,width:10,height:10,fill:c[40]}),h.jsx("rect",{x:10,y:60,width:10,height:10,fill:c[41]}),h.jsx("rect",{x:10,y:70,width:10,height:10,fill:c[42]}),h.jsx("rect",{x:30,y:10,width:10,height:10,fill:c[43]}),h.jsx("rect",{x:30,y:20,width:10,height:10,fill:c[44]}),h.jsx("rect",{x:30,y:30,width:10,height:10,fill:c[45]}),h.jsx("rect",{x:30,y:40,width:10,height:10,fill:c[46]}),h.jsx("rect",{x:30,y:50,width:10,height:10,fill:c[47]}),h.jsx("rect",{x:30,y:60,width:10,height:10,fill:c[48]}),h.jsx("rect",{x:30,y:70,width:10,height:10,fill:c[49]}),h.jsx("rect",{x:50,y:10,width:10,height:10,fill:c[50]}),h.jsx("rect",{x:50,y:20,width:10,height:10,fill:c[51]}),h.jsx("rect",{x:50,y:30,width:10,height:10,fill:c[52]}),h.jsx("rect",{x:50,y:40,width:10,height:10,fill:c[53]}),h.jsx("rect",{x:50,y:50,width:10,height:10,fill:c[54]}),h.jsx("rect",{x:50,y:60,width:10,height:10,fill:c[55]}),h.jsx("rect",{x:50,y:70,width:10,height:10,fill:c[56]}),h.jsx("rect",{x:70,y:10,width:10,height:10,fill:c[57]}),h.jsx("rect",{x:70,y:20,width:10,height:10,fill:c[58]}),h.jsx("rect",{x:70,y:30,width:10,height:10,fill:c[59]}),h.jsx("rect",{x:70,y:40,width:10,height:10,fill:c[60]}),h.jsx("rect",{x:70,y:50,width:10,height:10,fill:c[61]}),h.jsx("rect",{x:70,y:60,width:10,height:10,fill:c[62]}),h.jsx("rect",{x:70,y:70,width:10,height:10,fill:c[63]})]})]})},hr=36;function QI(e,t){const r=Uc(e),i=t&&t.length,s=za(r,t,i),a=si(r,10,1),c=a<5?a+hr/9:a,f=si(r,10,2),v=f<5?f+hr/9:f;return{wrapperColor:s,faceColor:UI(s),backgroundColor:za(r+13,t,i),wrapperTranslateX:c,wrapperTranslateY:v,wrapperRotate:si(r,360),wrapperScale:1+si(r,hr/12)/10,isMouthOpen:f0(r,2),isCircle:f0(r,1),eyeSpread:si(r,5),mouthSpread:si(r,3),faceRotate:si(r,10,3),faceTranslateX:c>hr/6?c/2:si(r,8,1),faceTranslateY:v>hr/6?v/2:si(r,7,2)}}const eS=({name:e,colors:t,title:r,square:i,size:s,...a})=>{const c=QI(e,t),f=T.useId();return h.jsxs("svg",{viewBox:"0 0 "+hr+" "+hr,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:f,maskUnits:"userSpaceOnUse",x:0,y:0,width:hr,height:hr,children:h.jsx("rect",{width:hr,height:hr,rx:i?void 0:hr*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${f})`,children:[h.jsx("rect",{width:hr,height:hr,fill:c.backgroundColor}),h.jsx("rect",{x:"0",y:"0",width:hr,height:hr,transform:"translate("+c.wrapperTranslateX+" "+c.wrapperTranslateY+") rotate("+c.wrapperRotate+" "+hr/2+" "+hr/2+") scale("+c.wrapperScale+")",fill:c.wrapperColor,rx:c.isCircle?hr:hr/6}),h.jsxs("g",{transform:"translate("+c.faceTranslateX+" "+c.faceTranslateY+") rotate("+c.faceRotate+" "+hr/2+" "+hr/2+")",children:[c.isMouthOpen?h.jsx("path",{d:"M15 "+(19+c.mouthSpread)+"c2 1 4 1 6 0",stroke:c.faceColor,fill:"none",strokeLinecap:"round"}):h.jsx("path",{d:"M13,"+(19+c.mouthSpread)+" a1,0.75 0 0,0 10,0",fill:c.faceColor}),h.jsx("rect",{x:14-c.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:c.faceColor}),h.jsx("rect",{x:20+c.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:c.faceColor})]})]})]})},JI=4,Ci=80;function eD(e,t){const r=Uc(e),i=t&&t.length;return Array.from({length:JI},(s,a)=>za(r+a,t,i))}const tD=({name:e,colors:t,title:r,square:i,size:s,...a})=>{const c=eD(e,t),f=e.replace(/\s/g,""),v=T.useId();return h.jsxs("svg",{viewBox:"0 0 "+Ci+" "+Ci,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:v,maskUnits:"userSpaceOnUse",x:0,y:0,width:Ci,height:Ci,children:h.jsx("rect",{width:Ci,height:Ci,rx:i?void 0:Ci*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${v})`,children:[h.jsx("path",{fill:"url(#gradient_paint0_linear_"+f+")",d:"M0 0h80v40H0z"}),h.jsx("path",{fill:"url(#gradient_paint1_linear_"+f+")",d:"M0 40h80v40H0z"})]}),h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"gradient_paint0_linear_"+f,x1:Ci/2,y1:0,x2:Ci/2,y2:Ci/2,gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{stopColor:c[0]}),h.jsx("stop",{offset:1,stopColor:c[1]})]}),h.jsxs("linearGradient",{id:"gradient_paint1_linear_"+f,x1:Ci/2,y1:Ci/2,x2:Ci/2,y2:Ci,gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{stopColor:c[2]}),h.jsx("stop",{offset:1,stopColor:c[3]})]})]})]})},rD=3,ni=80;function iD(e,t){const r=Uc(e),i=t&&t.length;return Array.from({length:rD},(s,a)=>({color:za(r+a,t,i),translateX:si(r*(a+1),ni/10,1),translateY:si(r*(a+1),ni/10,2),scale:1.2+si(r*(a+1),ni/20)/10,rotate:si(r*(a+1),360,1)}))}const YE=({name:e,colors:t,title:r,square:i,size:s,...a})=>{const c=iD(e,t),f=T.useId();return h.jsxs("svg",{viewBox:"0 0 "+ni+" "+ni,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:f,maskUnits:"userSpaceOnUse",x:0,y:0,width:ni,height:ni,children:h.jsx("rect",{width:ni,height:ni,rx:i?void 0:ni*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${f})`,children:[h.jsx("rect",{width:ni,height:ni,fill:c[0].color}),h.jsx("path",{filter:`url(#filter_${f})`,d:"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z",fill:c[1].color,transform:"translate("+c[1].translateX+" "+c[1].translateY+") rotate("+c[1].rotate+" "+ni/2+" "+ni/2+") scale("+c[2].scale+")"}),h.jsx("path",{filter:`url(#filter_${f})`,style:{mixBlendMode:"overlay"},d:"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z",fill:c[2].color,transform:"translate("+c[2].translateX+" "+c[2].translateY+") rotate("+c[2].rotate+" "+ni/2+" "+ni/2+") scale("+c[2].scale+")"})]}),h.jsx("defs",{children:h.jsxs("filter",{id:`filter_${f}`,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[h.jsx("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),h.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),h.jsx("feGaussianBlur",{stdDeviation:7,result:"effect1_foregroundBlur"})]})})]})},nD={pixel:ZI,bauhaus:Jk,ring:YI,beam:eS,sunset:tD,marble:YE,geometric:eS,abstract:Jk},sD=({variant:e="marble",colors:t=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"],name:r="Clara Barton",title:i=!1,size:s="40px",square:a=!1,...c})=>{const f=nD[e]||YE;return h.jsx(f,{colors:t,name:r,title:i,size:s,square:a,...c})},tS=new Map,qE=new Set;function Bb(e,t=48,r="default"){if(!e)return"";const i=`${e}-${t}`,s=tS.get(i);if(s)return s;if(qE.has(e))return"";const c=`https://unavatar.io/twitter/${e.startsWith("@")?e.slice(1):e}?size=${t}&fallback=false&format=jpeg&quality=80`;return tS.set(i,c),c}function oD(e){if(e){const t=e.startsWith("@")?e.slice(1):e;qE.add(t),console.warn(`[Avatar] Failed to load Twitter avatar for: @${t}`)}}const aD="modulepreload",lD=function(e){return"/"+e},rS={},Xu=function(t,r,i){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(r.map(v=>{if(v=lD(v),v in rS)return;rS[v]=!0;const x=v.endsWith(".css"),S=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const C=document.createElement("link");if(C.rel=x?"stylesheet":aD,x||(C.as="script"),C.crossOrigin="",C.href=v,f&&C.setAttribute("nonce",f),document.head.appendChild(C),x)return new Promise((N,B)=>{C.addEventListener("load",N),C.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${v}`)))})}))}function a(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return s.then(c=>{for(const f of c||[])f.status==="rejected"&&a(f.reason);return t().catch(a)})},cD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xu(async()=>{const{default:i}=await Promise.resolve().then(()=>Hc);return{default:i}},void 0).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)};class zb extends Error{constructor(t,r="FunctionsError",i){super(t),this.name=r,this.context=i}}class iS extends zb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nS extends zb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sS extends zb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var p0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(p0||(p0={}));var dD=function(e,t,r,i){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(S){try{x(i.next(S))}catch(C){c(C)}}function v(S){try{x(i.throw(S))}catch(C){c(C)}}function x(S){S.done?a(S.value):s(S.value).then(f,v)}x((i=i.apply(e,t||[])).next())})};class uD{constructor(t,{headers:r={},customFetch:i,region:s=p0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=cD(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var i;return dD(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:c,signal:f}=r;let v={},{region:x}=r;x||(x=this.region);const S=new URL(`${this.url}/${t}`);x&&x!=="any"&&(v["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let C;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",C=c):typeof c=="string"?(v["Content-Type"]="text/plain",C=c):typeof FormData<"u"&&c instanceof FormData?C=c:(v["Content-Type"]="application/json",C=JSON.stringify(c)));const N=yield this.fetch(S.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),s),body:C,signal:f}).catch(R=>{throw R.name==="AbortError"?R:new iS(R)}),B=N.headers.get("x-relay-error");if(B&&B==="true")throw new nS(N);if(!N.ok)throw new sS(N);let U=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),D;return U==="application/json"?D=yield N.json():U==="application/octet-stream"?D=yield N.blob():U==="text/event-stream"?D=N:U==="multipart/form-data"?D=yield N.formData():D=yield N.text(),{data:D,error:null,response:N}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new iS(s)}:{data:null,error:s,response:s instanceof sS||s instanceof nS?s.context:void 0}}})}}var Ai={},Fb={},jg={},Yu={},Ng={},Pg={},hD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nc=hD();const fD=Nc.fetch,KE=Nc.fetch.bind(Nc),ZE=Nc.Headers,pD=Nc.Request,gD=Nc.Response,Hc=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZE,Request:pD,Response:gD,default:KE,fetch:fD},Symbol.toStringTag,{value:"Module"})),mD=oP(Hc);var Og={};Object.defineProperty(Og,"__esModule",{value:!0});let vD=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Og.default=vD;var QE=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pg,"__esModule",{value:!0});const xD=QE(mD),yD=QE(Og);let bD=class{constructor(t){var r,i;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(i=t.isMaybeSingle)!==null&&i!==void 0?i:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=xD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var c,f,v,x;let S=null,C=null,N=null,B=a.status,U=a.statusText;if(a.ok){if(this.method!=="HEAD"){const j=await a.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?C=j:C=JSON.parse(j))}const R=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),I=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");R&&I&&I.length>1&&(N=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(S={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,N=null,B=406,U="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const R=await a.text();try{S=JSON.parse(R),Array.isArray(S)&&a.status===404&&(C=[],S=null,B=200,U="OK")}catch{a.status===404&&R===""?(B=204,U="No Content"):S={message:R}}if(S&&this.isMaybeSingle&&(!((x=S==null?void 0:S.details)===null||x===void 0)&&x.includes("0 rows"))&&(S=null,B=200,U="OK"),S&&this.shouldThrowOnError)throw new yD.default(S)}return{error:S,data:C,count:N,status:B,statusText:U}});return this.shouldThrowOnError||(s=s.catch(a=>{var c,f,v;return{error:{message:`${(c=a==null?void 0:a.name)!==null&&c!==void 0?c:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(f=a==null?void 0:a.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(v=a==null?void 0:a.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Pg.default=bD;var wD=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ng,"__esModule",{value:!0});const kD=wD(Pg);let SD=class extends kD.default{select(t){let r=!1;const i=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:i,foreignTable:s,referencedTable:a=s}={}){const c=a?`${a}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${t}.${r?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:i,referencedTable:s=i}={}){const a=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(c,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:i=!1,buffers:s=!1,wal:a=!1,format:c="text"}={}){var f;const v=[t?"analyze":null,r?"verbose":null,i?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),x=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${x}"; options=${v};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ng.default=SD;var _D=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yu,"__esModule",{value:!0});const CD=_D(Ng);let ED=class extends CD.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const i=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:i,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${a}fts${c}.${r}`),this}match(t){return Object.entries(t).forEach(([r,i])=>{this.url.searchParams.append(r,`eq.${i}`)}),this}not(t,r,i){return this.url.searchParams.append(t,`not.${r}.${i}`),this}or(t,{foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,i){return this.url.searchParams.append(t,`${r}.${i}`),this}};Yu.default=ED;var TD=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jg,"__esModule",{value:!0});const Kd=TD(Yu);let AD=class{constructor(t,{headers:r={},schema:i,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=i,this.fetch=s}select(t,{head:r=!1,count:i}={}){const s=r?"HEAD":"GET";let a=!1;const c=(t??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join("");return this.url.searchParams.set("select",c),i&&this.headers.append("Prefer",`count=${i}`),new Kd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:i=!0}={}){var s;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((f,v)=>f.concat(Object.keys(v)),[]);if(c.length>0){const f=[...new Set(c)].map(v=>`"${v}"`);this.url.searchParams.set("columns",f.join(","))}}return new Kd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:i=!1,count:s,defaultToNull:a=!0}={}){var c;const f="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const v=t.reduce((x,S)=>x.concat(Object.keys(S)),[]);if(v.length>0){const x=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",x.join(","))}}return new Kd.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(t,{count:r}={}){var i;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Kd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:t}={}){var r;const i="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Kd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};jg.default=AD;var JE=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fb,"__esModule",{value:!0});const MD=JE(jg),jD=JE(Yu);let ND=class eT{constructor(t,{headers:r={},schema:i,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=i,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new MD.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new eT(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:i=!1,get:s=!1,count:a}={}){var c;let f;const v=new URL(`${this.url}/rpc/${t}`);let x;i||s?(f=i?"HEAD":"GET",Object.entries(r).filter(([C,N])=>N!==void 0).map(([C,N])=>[C,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([C,N])=>{v.searchParams.append(C,N)})):(f="POST",x=r);const S=new Headers(this.headers);return a&&S.set("Prefer",`count=${a}`),new jD.default({method:f,url:v,headers:S,schema:this.schemaName,body:x,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};Fb.default=ND;var Gc=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.PostgrestError=Ai.PostgrestBuilder=Ai.PostgrestTransformBuilder=Ai.PostgrestFilterBuilder=Ai.PostgrestQueryBuilder=Ai.PostgrestClient=void 0;const tT=Gc(Fb);Ai.PostgrestClient=tT.default;const rT=Gc(jg);Ai.PostgrestQueryBuilder=rT.default;const iT=Gc(Yu);Ai.PostgrestFilterBuilder=iT.default;const nT=Gc(Ng);Ai.PostgrestTransformBuilder=nT.default;const sT=Gc(Pg);Ai.PostgrestBuilder=sT.default;const oT=Gc(Og);Ai.PostgrestError=oT.default;var PD=Ai.default={PostgrestClient:tT.default,PostgrestQueryBuilder:rT.default,PostgrestFilterBuilder:iT.default,PostgrestTransformBuilder:nT.default,PostgrestBuilder:sT.default,PostgrestError:oT.default};const{PostgrestClient:OD,PostgrestQueryBuilder:cU,PostgrestFilterBuilder:dU,PostgrestTransformBuilder:uU,PostgrestBuilder:hU,PostgrestError:fU}=PD;class RD{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const i=this.getWebSocketConstructor();return new i(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const LD="2.15.5",ID=`realtime-js/${LD}`,DD="1.0.0",g0=1e4,$D=1e3,BD=100;var vu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vu||(vu={}));var Pr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pr||(Pr={}));var Pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pn||(Pn={}));var m0;(function(e){e.websocket="websocket"})(m0||(m0={}));var Aa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Aa||(Aa={}));class zD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,r,i)}_decodeBroadcast(t,r,i){const s=r.getUint8(1),a=r.getUint8(2);let c=this.HEADER_LENGTH+2;const f=i.decode(t.slice(c,c+s));c=c+s;const v=i.decode(t.slice(c,c+a));c=c+a;const x=JSON.parse(i.decode(t.slice(c,t.byteLength)));return{ref:null,topic:f,event:v,payload:x}}}class aT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const oS=(e,t,r={})=>{var i;const s=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((a,c)=>(a[c]=FD(c,e,t,s),a),{})},FD=(e,t,r,i)=>{const s=t.find(f=>f.name===e),a=s==null?void 0:s.type,c=r[e];return a&&!i.includes(a)?lT(a,c):v0(c)},lT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return GD(t,r)}switch(e){case Yt.bool:return WD(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return UD(t);case Yt.json:case Yt.jsonb:return HD(t);case Yt.timestamp:return VD(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return v0(t);default:return v0(t)}},v0=e=>e,WD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},HD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},GD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(f=>lT(t,f))}return e},VD=e=>typeof e=="string"?e.replace(" ","T"):e,cT=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Dx{constructor(t,r,i={},s=g0){this.channel=t,this.event=r,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var i;return this._hasReceived(t)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var aS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(aS||(aS={}));class xu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xu.syncState(this.state,s,a,c),this.pendingDiffs.forEach(v=>{this.state=xu.syncDiff(this.state,v,a,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},s=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xu.syncDiff(this.state,s,a,c),f())}),this.onJoin((s,a,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:c})}),this.onLeave((s,a,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,i,s){const a=this.cloneDeep(t),c=this.transformState(r),f={},v={};return this.map(a,(x,S)=>{c[x]||(v[x]=S)}),this.map(c,(x,S)=>{const C=a[x];if(C){const N=S.map(R=>R.presence_ref),B=C.map(R=>R.presence_ref),U=S.filter(R=>B.indexOf(R.presence_ref)<0),D=C.filter(R=>N.indexOf(R.presence_ref)<0);U.length>0&&(f[x]=U),D.length>0&&(v[x]=D)}else f[x]=S}),this.syncDiff(a,{joins:f,leaves:v},i,s)}static syncDiff(t,r,i,s){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(a,(f,v)=>{var x;const S=(x=t[f])!==null&&x!==void 0?x:[];if(t[f]=this.cloneDeep(v),S.length>0){const C=t[f].map(B=>B.presence_ref),N=S.filter(B=>C.indexOf(B.presence_ref)<0);t[f].unshift(...N)}i(f,S,v)}),this.map(c,(f,v)=>{let x=t[f];if(!x)return;const S=v.map(C=>C.presence_ref);x=x.filter(C=>S.indexOf(C.presence_ref)<0),t[f]=x,s(f,x,v),x.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(i=>r(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,i)=>{const s=t[i];return"metas"in s?r[i]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[i]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lS||(lS={}));var yu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yu||(yu={}));var Ts;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ts||(Ts={}));class Wb{constructor(t,r={config:{}},i){this.topic=t,this.params=r,this.socket=i,this.bindings={},this.state=Pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Dx(this,Pn.join,this.params,this.timeout),this.rejoinTimer=new aT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new xu(this),this.broadcastEndpointURL=cT(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var i,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Pr.closed){const{config:{broadcast:c,presence:f,private:v}}=this.params,x=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(B=>B.filter))!==null&&s!==void 0?s:[],S=!!this.bindings[yu.PRESENCE]&&this.bindings[yu.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,C={},N={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:S}),postgres_changes:x,private:v};this.socket.accessTokenValue&&(C.access_token=this.socket.accessTokenValue),this._onError(B=>t==null?void 0:t(Ts.CHANNEL_ERROR,B)),this._onClose(()=>t==null?void 0:t(Ts.CLOSED)),this.updateJoinPayload(Object.assign({config:N},C)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:B})=>{var U;if(this.socket.setAuth(),B===void 0){t==null||t(Ts.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,R=(U=D==null?void 0:D.length)!==null&&U!==void 0?U:0,I=[];for(let j=0;j<R;j++){const O=D[j],{filter:{event:q,schema:ae,table:te,filter:le}}=O,J=B&&B[j];if(J&&J.event===q&&J.schema===ae&&J.table===te&&J.filter===le)I.push(Object.assign(Object.assign({},O),{id:J.id}));else{this.unsubscribe(),this.state=Pr.errored,t==null||t(Ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t(Ts.SUBSCRIBED);return}}).receive("error",B=>{this.state=Pr.errored,t==null||t(Ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(B).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,i){return this.state===Pr.joined&&t===yu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,i)}async send(t,r={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:c}=t,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=x.body)===null||s===void 0?void 0:s.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,f,v;const x=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((v=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||v===void 0)&&v.ack)&&a("ok"),x.receive("ok",()=>a("ok")),x.receive("error",()=>a("error")),x.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Dx(this,Pn.leave,{},t),i.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pr.closed,this.bindings={}}async _fetchWithTimeout(t,r,i){const s=new AbortController,a=setTimeout(()=>s.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),c}_push(t,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Dx(this,t,r,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>BD){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,i){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,i){var s,a;const c=t.toLocaleLowerCase(),{close:f,error:v,leave:x,join:S}=Pn;if(i&&[f,v,x,S].indexOf(c)>=0&&i!==this._joinRef())return;let N=this._onMessage(c,r,i);if(r&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(B=>{var U,D,R;return((U=B.filter)===null||U===void 0?void 0:U.event)==="*"||((R=(D=B.filter)===null||D===void 0?void 0:D.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(B=>B.callback(N,i)):(a=this.bindings[c])===null||a===void 0||a.filter(B=>{var U,D,R,I,j,O;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in B){const q=B.id,ae=(U=B.filter)===null||U===void 0?void 0:U.event;return q&&((D=r.ids)===null||D===void 0?void 0:D.includes(q))&&(ae==="*"||(ae==null?void 0:ae.toLocaleLowerCase())===((R=r.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const q=(j=(I=B==null?void 0:B.filter)===null||I===void 0?void 0:I.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return q==="*"||q===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return B.type.toLocaleLowerCase()===c}).map(B=>{if(typeof N=="object"&&"ids"in N){const U=N.data,{schema:D,table:R,commit_timestamp:I,type:j,errors:O}=U;N=Object.assign(Object.assign({},{schema:D,table:R,commit_timestamp:I,eventType:j,new:{},old:{},errors:O}),this._getPayloadRecords(U))}B.callback(N,i)})}_isClosed(){return this.state===Pr.closed}_isJoined(){return this.state===Pr.joined}_isJoining(){return this.state===Pr.joining}_isLeaving(){return this.state===Pr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,i){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:i};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Wb.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const i in t)if(t[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pn.close,{},t)}_onError(t){this._on(Pn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=oS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=oS(t.columns,t.old_record)),r}}const $x=()=>{},Zf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XD=[1e3,2e3,5e3,1e4],YD=1e4,qD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KD{constructor(t,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=g0,this.transport=null,this.heartbeatIntervalMs=Zf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$x,this.ref=0,this.reconnectTimer=null,this.logger=$x,this.conn=null,this.sendBuffer=[],this.serializer=new zD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...c)=>Xu(async()=>{const{default:f}=await Promise.resolve().then(()=>Hc);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...c)=>a(...c)},!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${m0.websocket}`,this.httpEndpoint=cT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DD}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,i){this.logger(t,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case vu.connecting:return Aa.Connecting;case vu.open:return Aa.Open;case vu.closing:return Aa.Closing;default:return Aa.Closed}}isConnected(){return this.connectionState()===Aa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===i);if(s)return s;{const a=new Wb(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:i,payload:s,ref:a}=t,c=()=>{this.encode(t,f=>{var v;(v=this.conn)===null||v===void 0||v.send(f)})};this.log("push",`${r} ${i} (${a})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($D,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Zf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(x){this.log("error","error in heartbeat callback",x)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:a,ref:c}=r,f=c?`(${c})`:"",v=a.status||"";this.log("receive",`${v} ${i} ${s} ${f}`.trim(),a),this.channels.filter(x=>x._isMember(i)).forEach(x=>x._trigger(s,a,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${i}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const i=new Blob([qD],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:ID};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Pn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new aT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,i,s,a,c,f,v,x,S;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:g0,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Zf.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t==null?void 0:t.heartbeatCallback)!==null&&f!==void 0?f:$x,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=t==null?void 0:t.reconnectAfterMs)!==null&&v!==void 0?v:C=>XD[C-1]||YD,this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:(C,N)=>N(JSON.stringify(C)),this.decode=(S=t==null?void 0:t.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ub extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _r(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ZD extends Ub{constructor(t,r,i){super(t),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class x0 extends Ub{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var QD=function(e,t,r,i){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(S){try{x(i.next(S))}catch(C){c(C)}}function v(S){try{x(i.throw(S))}catch(C){c(C)}}function x(S){S.done?a(S.value):s(S.value).then(f,v)}x((i=i.apply(e,t||[])).next())})};const dT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xu(async()=>{const{default:i}=await Promise.resolve().then(()=>Hc);return{default:i}},void 0).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)},JD=()=>QD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xu(()=>Promise.resolve().then(()=>Hc),void 0)).Response:Response}),y0=e=>{if(Array.isArray(e))return e.map(r=>y0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,i])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=y0(i)}),t},e5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var tl=function(e,t,r,i){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(S){try{x(i.next(S))}catch(C){c(C)}}function v(S){try{x(i.throw(S))}catch(C){c(C)}}function x(S){S.done?a(S.value):s(S.value).then(f,v)}x((i=i.apply(e,t||[])).next())})};const Bx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t5=(e,t,r)=>tl(void 0,void 0,void 0,function*(){const i=yield JD();e instanceof i&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,c=(s==null?void 0:s.statusCode)||a+"";t(new ZD(Bx(s),a,c))}).catch(s=>{t(new x0(Bx(s),s))}):t(new x0(Bx(e),e))}),r5=(e,t,r,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!i?s:(e5(i)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(i)):s.body=i,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function qu(e,t,r,i,s,a){return tl(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,r5(t,i,s,a)).then(v=>{if(!v.ok)throw v;return i!=null&&i.noResolveJson?v:v.json()}).then(v=>c(v)).catch(v=>t5(v,f,i))})})}function Jp(e,t,r,i){return tl(this,void 0,void 0,function*(){return qu(e,"GET",t,r,i)})}function ts(e,t,r,i,s){return tl(this,void 0,void 0,function*(){return qu(e,"POST",t,i,s,r)})}function b0(e,t,r,i,s){return tl(this,void 0,void 0,function*(){return qu(e,"PUT",t,i,s,r)})}function i5(e,t,r,i){return tl(this,void 0,void 0,function*(){return qu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function uT(e,t,r,i,s){return tl(this,void 0,void 0,function*(){return qu(e,"DELETE",t,i,s,r)})}var n5=function(e,t,r,i){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(S){try{x(i.next(S))}catch(C){c(C)}}function v(S){try{x(i.throw(S))}catch(C){c(C)}}function x(S){S.done?a(S.value):s(S.value).then(f,v)}x((i=i.apply(e,t||[])).next())})};class s5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return n5(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}}var o5=function(e,t,r,i){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(S){try{x(i.next(S))}catch(C){c(C)}}function v(S){try{x(i.throw(S))}catch(C){c(C)}}function x(S){S.done?a(S.value):s(S.value).then(f,v)}x((i=i.apply(e,t||[])).next())})};class a5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new s5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return o5(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}}var Ei=function(e,t,r,i){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(S){try{x(i.next(S))}catch(C){c(C)}}function v(S){try{x(i.throw(S))}catch(C){c(C)}}function x(S){S.done?a(S.value):s(S.value).then(f,v)}x((i=i.apply(e,t||[])).next())})};const l5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class c5{constructor(t,r={},i,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=i,this.fetch=dT(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,i,s){return Ei(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},cS),s);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const v=c.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),v&&a.append("metadata",this.encodeMetadata(v)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",c.cacheControl),v&&a.append("metadata",this.encodeMetadata(v))):(a=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,v&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),s!=null&&s.headers&&(f=Object.assign(Object.assign({},f),s.headers));const x=this._removeEmptyFolders(r),S=this._getFinalPath(x),C=yield(t=="PUT"?b0:ts)(this.fetch,`${this.url}/object/${S}`,a,Object.assign({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:x,id:C.Id,fullPath:C.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}})}upload(t,r,i){return Ei(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,i)})}uploadToSignedUrl(t,r,i,s){return Ei(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let v;const x=Object.assign({upsert:cS.upsert},s),S=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&i instanceof Blob?(v=new FormData,v.append("cacheControl",x.cacheControl),v.append("",i)):typeof FormData<"u"&&i instanceof FormData?(v=i,v.append("cacheControl",x.cacheControl)):(v=i,S["cache-control"]=`max-age=${x.cacheControl}`,S["content-type"]=x.contentType);const C=yield b0(this.fetch,f.toString(),v,{headers:S});return{data:{path:a,fullPath:C.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(_r(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(t,r){return Ei(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield ts(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),c=new URL(this.url+a.url),f=c.searchParams.get("token");if(!f)throw new Ub("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}update(t,r,i){return Ei(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,i)})}move(t,r,i){return Ei(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}copy(t,r,i){return Ei(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,i){return Ei(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield ts(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,i){return Ei(this,void 0,void 0,function*(){try{const s=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=a?`?${a}`:"",f=this._getFinalPath(t),v=()=>Jp(this.fetch,`${this.url}/${s}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new a5(v,this.shouldThrowOnError)}info(t){return Ei(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const i=yield Jp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:y0(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}exists(t){return Ei(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield i5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i)&&i instanceof x0){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,r){const i=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const f=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});v!==""&&s.push(v);let x=s.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${x}`)}}}remove(t){return Ei(this,void 0,void 0,function*(){try{return{data:yield uT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}list(t,r,i){return Ei(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},l5),r),{prefix:t||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}listV2(t,r){return Ei(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield ts(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const d5="2.12.2",u5={"X-Client-Info":`storage-js/${d5}`};var Dl=function(e,t,r,i){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(S){try{x(i.next(S))}catch(C){c(C)}}function v(S){try{x(i.throw(S))}catch(C){c(C)}}function x(S){S.done?a(S.value):s(S.value).then(f,v)}x((i=i.apply(e,t||[])).next())})};class h5{constructor(t,r={},i,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},u5),r),this.fetch=dT(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Dl(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}getBucket(t){return Dl(this,void 0,void 0,function*(){try{return{data:yield Jp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Dl(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Dl(this,void 0,void 0,function*(){try{return{data:yield b0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_r(i))return{data:null,error:i};throw i}})}emptyBucket(t){return Dl(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Dl(this,void 0,void 0,function*(){try{return{data:yield uT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}}class f5 extends h5{constructor(t,r={},i,s){super(t,r,i,s)}from(t){return new c5(this.url,this.headers,t,this.fetch)}}const p5="2.58.0";let ou="";typeof Deno<"u"?ou="deno":typeof document<"u"?ou="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ou="react-native":ou="node";const g5={"X-Client-Info":`supabase-js-${ou}/${p5}`},m5={headers:g5},v5={schema:"public"},x5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y5={};var b5=function(e,t,r,i){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(S){try{x(i.next(S))}catch(C){c(C)}}function v(S){try{x(i.throw(S))}catch(C){c(C)}}function x(S){S.done?a(S.value):s(S.value).then(f,v)}x((i=i.apply(e,t||[])).next())})};const w5=e=>{let t;return e?t=e:typeof fetch>"u"?t=KE:t=fetch,(...r)=>t(...r)},k5=()=>typeof Headers>"u"?ZE:Headers,S5=(e,t,r)=>{const i=w5(r),s=k5();return(a,c)=>b5(void 0,void 0,void 0,function*(){var f;const v=(f=yield t())!==null&&f!==void 0?f:e;let x=new s(c==null?void 0:c.headers);return x.has("apikey")||x.set("apikey",e),x.has("Authorization")||x.set("Authorization",`Bearer ${v}`),i(a,Object.assign(Object.assign({},c),{headers:x}))})};var _5=function(e,t,r,i){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(S){try{x(i.next(S))}catch(C){c(C)}}function v(S){try{x(i.throw(S))}catch(C){c(C)}}function x(S){S.done?a(S.value):s(S.value).then(f,v)}x((i=i.apply(e,t||[])).next())})};function C5(e){return e.endsWith("/")?e:e+"/"}function E5(e,t){var r,i;const{db:s,auth:a,realtime:c,global:f}=e,{db:v,auth:x,realtime:S,global:C}=t,N={db:Object.assign(Object.assign({},v),s),auth:Object.assign(Object.assign({},x),a),realtime:Object.assign(Object.assign({},S),c),storage:{},global:Object.assign(Object.assign(Object.assign({},C),f),{headers:Object.assign(Object.assign({},(r=C==null?void 0:C.headers)!==null&&r!==void 0?r:{}),(i=f==null?void 0:f.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>_5(this,void 0,void 0,function*(){return""})};return e.accessToken?N.accessToken=e.accessToken:delete N.accessToken,N}function T5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(C5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hT="2.72.0",Vl=30*1e3,w0=3,zx=w0*Vl,A5="http://localhost:9999",M5="supabase.auth.token",j5={"X-Client-Info":`gotrue-js/${hT}`},k0="X-Supabase-Api-Version",fT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,P5=10*60*1e3;class Hb extends Error{constructor(t,r,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function St(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class O5 extends Hb{constructor(t,r,i){super(t,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function R5(e){return St(e)&&e.name==="AuthApiError"}class pT extends Hb{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ko extends Hb{constructor(t,r,i,s){super(t,i,s),this.name=r,this.status=i}}class ko extends Ko{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L5(e){return St(e)&&e.name==="AuthSessionMissingError"}class Zd extends Ko{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qf extends Ko{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jf extends Ko{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I5(e){return St(e)&&e.name==="AuthImplicitGrantRedirectError"}class dS extends Ko{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class S0 extends Ko{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Fx(e){return St(e)&&e.name==="AuthRetryableFetchError"}class uS extends Ko{constructor(t,r,i){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class _0 extends Ko{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const eg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hS=` 	
\r=`.split(""),D5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hS.length;t+=1)e[hS[t].charCodeAt(0)]=-2;for(let t=0;t<eg.length;t+=1)e[eg[t].charCodeAt(0)]=t;return e})();function fS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(eg[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(eg[i]),t.queuedBits-=6}}function gT(e,t,r){const i=D5[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pS(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=c=>{z5(c,i,r)};for(let c=0;c<e.length;c+=1)gT(e.charCodeAt(c),s,a);return t.join("")}function $5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function B5(e,t){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}$5(i,t)}}function z5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let i=1;i<6;i+=1)if(!(e>>7-i&1)){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function F5(e){const t=[],r={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)gT(e.charCodeAt(s),r,i);return new Uint8Array(t)}function W5(e){const t=[];return B5(e,r=>t.push(r)),new Uint8Array(t)}function U5(e){const t=[],r={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>fS(s,r,i)),fS(null,r,i),t.join("")}function H5(e){return Math.round(Date.now()/1e3)+e}function G5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const cn=()=>typeof window<"u"&&typeof document<"u",wa={tested:!1,writable:!1},mT=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wa.tested)return wa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wa.tested=!0,wa.writable=!0}catch{wa.tested=!0,wa.writable=!1}return wa.writable};function V5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((i,s)=>{t[s]=i}),t}const vT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xu(async()=>{const{default:i}=await Promise.resolve().then(()=>Hc);return{default:i}},void 0).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)},X5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ka=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wo=async(e,t)=>{await e.removeItem(t)};class Rg{constructor(){this.promise=new Rg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Rg.promiseConstructor=Promise;function Wx(e){const t=e.split(".");if(t.length!==3)throw new _0("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!N5.test(t[i]))throw new _0("JWT not in base64url format");return{header:JSON.parse(pS(t[0])),payload:JSON.parse(pS(t[1])),signature:F5(t[2]),raw:{header:t[0],payload:t[1]}}}async function Y5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function q5(e,t){return new Promise((i,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){i(c);return}}catch(c){if(!t(a,c)){s(c);return}}})()})}function K5(e){return("0"+e.toString(16)).substr(-2)}function Z5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,K5).join("")}async function Q5(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(i);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function J5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Q5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $l(e,t,r=!1){const i=Z5();let s=i;r&&(s+="/PASSWORD_RECOVERY"),await Xl(e,`${t}-code-verifier`,s);const a=await J5(i);return[a,i===a?"plain":"s256"]}const e3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function t3(e){const t=e.headers.get(k0);if(!t||!t.match(e3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function r3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function i3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const n3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bl(e){if(!n3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ux(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gS(e){return JSON.parse(JSON.stringify(e))}var s3=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};const Ca=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),o3=[502,503,504];async function mS(e){var t;if(!X5(e))throw new S0(Ca(e),0);if(o3.includes(e.status))throw new S0(Ca(e),e.status);let r;try{r=await e.json()}catch(a){throw new pT(Ca(a),a)}let i;const s=t3(e);if(s&&s.getTime()>=fT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new uS(Ca(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new ko}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new uS(Ca(r),e.status,r.weak_password.reasons);throw new O5(Ca(r),e.status||500,i)}const a3=(e,t,r,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),r))};async function jt(e,t,r,i){var s;const a=Object.assign({},i==null?void 0:i.headers);a[k0]||(a[k0]=fT["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const c=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",v=await l3(e,t,r+f,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(v):{data:Object.assign({},v),error:null}}async function l3(e,t,r,i,s,a){const c=a3(t,i,s,a);let f;try{f=await e(r,Object.assign({},c))}catch(v){throw console.error(v),new S0(Ca(v),0)}if(f.ok||await mS(f),i!=null&&i.noResolveJson)return f;try{return await f.json()}catch(v){await mS(v)}}function Jn(e){var t;let r=null;h3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=H5(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:i},error:null}}function vS(e){const t=Jn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ao(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function c3(e){return{data:e,error:null}}function d3(e){const{action_link:t,email_otp:r,hashed_token:i,redirect_to:s,verification_type:a}=e,c=s3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:i,redirect_to:s,verification_type:a},v=Object.assign({},c);return{data:{properties:f,user:v},error:null}}function u3(e){return e}function h3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hx=["global","local","others"];var f3=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};class p3{constructor({url:t="",headers:r={},fetch:i}){this.url=t,this.headers=r,this.fetch=vT(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Hx[0]){if(Hx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hx.join(", ")}`);try{return await jt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(St(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,r={}){try{return await jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ao})}catch(i){if(St(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:r}=t,i=f3(t,["options"]),s=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:d3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(St(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await jt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ao})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,i,s,a,c,f,v;try{const x={nextPage:null,lastPage:0,total:0},S=await jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:u3});if(S.error)throw S.error;const C=await S.json(),N=(c=S.headers.get("x-total-count"))!==null&&c!==void 0?c:0,B=(v=(f=S.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&v!==void 0?v:[];return B.length>0&&(B.forEach(U=>{const D=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(U.split(";")[1].split("=")[1]);x[`${R}Page`]=D}),x.total=parseInt(N)),{data:Object.assign(Object.assign({},C),x),error:null}}catch(x){if(St(x))return{data:{users:[]},error:x};throw x}}async getUserById(t){Bl(t);try{return await jt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ao})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Bl(t);try{return await jt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ao})}catch(i){if(St(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,r=!1){Bl(t);try{return await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ao})}catch(i){if(St(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Bl(t.userId);try{const{data:r,error:i}=await jt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:i}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Bl(t.userId),Bl(t.id);try{return{data:await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}}function xS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function g3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zl={debug:!!(globalThis&&mT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class m3 extends xT{}async function v3(e,t,r){zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),zl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new m3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function yT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function x3(e){return parseInt(e,16)}function y3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function b3(e){var t;const{chainId:r,domain:i,expirationTime:s,issuedAt:a=new Date,nonce:c,notBefore:f,requestId:v,resources:x,scheme:S,uri:C,version:N}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!C)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const B=yT(e.address),U=S?`${S}://${i}`:i,D=e.statement?`${e.statement}
`:"",R=`${U} wants you to sign in with your Ethereum account:
${B}

${D}`;let I=`URI: ${C}
Version: ${N}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(s&&(I+=`
Expiration Time: ${s.toISOString()}`),f&&(I+=`
Not Before: ${f.toISOString()}`),v&&(I+=`
Request ID: ${v}`),x){let j=`
Resources:`;for(const O of x){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);j+=`
- ${O}`}I+=j}return`${R}
${I}`}g3();const w3={url:A5,storageKey:M5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yS(e,t,r){return await r()}const Fl={};class Bu{constructor(t){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bu.nextInstanceID,Bu.nextInstanceID+=1,this.instanceID>0&&cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},w3),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new p3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vT(s.fetch),this.lock=s.lock||yS,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:cn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=v3:this.lock=yS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:mT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xS(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=xS(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Fl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Fl[this.storageKey]=Object.assign(Object.assign({},Fl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Fl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fl[this.storageKey]=Object.assign(Object.assign({},Fl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hT}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=V5(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),cn()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),I5(a)){const v=(t=a.details)===null||t===void 0?void 0:t.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:f}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return St(r)?{error:r}:{error:new pT("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,s;try{const a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Jn}),{data:c,error:f}=a;if(f||!c)return{data:{user:null,session:null},error:f};const v=c.session,x=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:x,session:v},error:null}}catch(a){if(St(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,i,s;try{let a;if("email"in t){const{email:S,password:C,options:N}=t;let B=null,U=null;this.flowType==="pkce"&&([B,U]=await $l(this.storage,this.storageKey)),a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:S,password:C,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:B,code_challenge_method:U},xform:Jn})}else if("phone"in t){const{phone:S,password:C,options:N}=t;a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:C,data:(i=N==null?void 0:N.data)!==null&&i!==void 0?i:{},channel:(s=N==null?void 0:N.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:Jn})}else throw new Qf("You must provide either an email or phone number and a password");const{data:c,error:f}=a;if(f||!c)return{data:{user:null,session:null},error:f};const v=c.session,x=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:x,session:v},error:null}}catch(a){if(St(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:f}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vS})}else if("phone"in t){const{phone:a,password:c,options:f}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vS})}else throw new Qf("You must provide either an email or phone number and a password");const{data:i,error:s}=r;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Zd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,i,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,s,a,c,f,v,x,S,C,N;let B,U;if("message"in t)B=t.message,U=t.signature;else{const{chain:D,wallet:R,statement:I,options:j}=t;let O;if(cn())if(typeof R=="object")O=R;else{const be=window;if("ethereum"in be&&typeof be.ethereum=="object"&&"request"in be.ethereum&&typeof be.ethereum.request=="function")O=be.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=R}const q=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href),ae=await O.request({method:"eth_requestAccounts"}).then(be=>be).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=yT(ae[0]);let le=(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!le){const be=await O.request({method:"eth_chainId"});le=x3(be)}const J={domain:q.host,address:te,statement:I,uri:q.href,version:"1",chainId:le,nonce:(s=j==null?void 0:j.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(v=j==null?void 0:j.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(x=j==null?void 0:j.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(S=j==null?void 0:j.signInWithEthereum)===null||S===void 0?void 0:S.resources};B=b3(J),U=await O.request({method:"personal_sign",params:[y3(B),te]})}try{const{data:D,error:R}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:B,signature:U},!((C=t.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(N=t.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Jn});if(R)throw R;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new Zd}:(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:R})}catch(D){if(St(D))return{data:{user:null,session:null},error:D};throw D}}async signInWithSolana(t){var r,i,s,a,c,f,v,x,S,C,N,B;let U,D;if("message"in t)U=t.message,D=t.signature;else{const{chain:R,wallet:I,statement:j,options:O}=t;let q;if(cn())if(typeof I=="object")q=I;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))q=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=I}const ae=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){const te=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),j?{statement:j}:null));let le;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")le=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)le=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in le&&"signature"in le&&(typeof le.signedMessage=="string"||le.signedMessage instanceof Uint8Array)&&le.signature instanceof Uint8Array)U=typeof le.signedMessage=="string"?le.signedMessage:new TextDecoder().decode(le.signedMessage),D=le.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${ae.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(s=(i=O==null?void 0:O.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=O==null?void 0:O.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((v=O==null?void 0:O.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((x=O==null?void 0:O.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((C=(S=O==null?void 0:O.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||C===void 0)&&C.length?["Resources",...O.signInWithSolana.resources.map(le=>`- ${le}`)]:[]].join(`
`);const te=await q.signMessage(new TextEncoder().encode(U),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=te}}try{const{data:R,error:I}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:U5(D)},!((N=t.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(B=t.options)===null||B===void 0?void 0:B.captchaToken}}:null),xform:Jn});if(I)throw I;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new Zd}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:I})}catch(R){if(St(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(t){const r=await ka(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(r??"").split("/");try{const{data:a,error:c}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Jn});if(await wo(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Zd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:c})}catch(a){if(St(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:i,token:s,access_token:a,nonce:c}=t,f=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jn}),{data:v,error:x}=f;return x?{data:{user:null,session:null},error:x}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Zd}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:x})}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,i,s,a,c;try{if("email"in t){const{email:f,options:v}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await $l(this.storage,this.storageKey));const{error:C}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},create_user:(i=v==null?void 0:v.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:S},redirectTo:v==null?void 0:v.emailRedirectTo});return{data:{user:null,session:null},error:C}}if("phone"in t){const{phone:f,options:v}=t,{data:x,error:S}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},create_user:(a=v==null?void 0:v.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(c=v==null?void 0:v.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:S}}throw new Qf("You must provide either an email or phone number.")}catch(f){if(St(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var r,i;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Jn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const v=c.session,x=c.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:x,session:v},error:null}}catch(s){if(St(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,i,s;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await $l(this.storage,this.storageKey)),await jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:c3})}catch(a){if(St(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new ko;const{error:s}=await jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(St(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:a}=t,{error:c}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:i,type:s,options:a}=t,{data:c,error:f}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new Qf("You must provide either an email or phone number and a type")}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ka(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<zx:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await ka(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Ux()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(v,x,S)=>(!c&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,x,S))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ao}):await this._useSession(async r=>{var i,s,a;const{data:c,error:f}=r;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ko}:await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Ao})})}catch(r){if(St(r))return L5(r)&&(await this._removeSession(),await wo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{const{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new ko;const c=s.session;let f=null,v=null;this.flowType==="pkce"&&t.email!=null&&([f,v]=await $l(this.storage,this.storageKey));const{data:x,error:S}=await jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:v}),jwt:c.access_token,xform:Ao});if(S)throw S;return c.user=x.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(St(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ko;const r=Date.now()/1e3;let i=r,s=!0,a=null;const{payload:c}=Wx(t.access_token);if(c.exp&&(i=c.exp,s=i<=r),s){const{session:f,error:v}=await this._callRefreshToken(t.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!f)return{data:{user:null,session:null},error:null};a=f}else{const{data:f,error:v}=await this._getUser(t.access_token);if(v)throw v;a={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(St(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new ko;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!cn())throw new Jf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dS("No code detected.");const{data:j,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:c,expires_in:f,expires_at:v,token_type:x}=t;if(!a||!f||!c||!x)throw new Jf("No session defined in URL");const S=Math.round(Date.now()/1e3),C=parseInt(f);let N=S+C;v&&(N=parseInt(v));const B=N-S;B*1e3<=Vl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${B}s, should have been closer to ${C}s`);const U=N-C;S-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,N,S):S-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,N,S);const{data:D,error:R}=await this._getUser(a);if(R)throw R;const I={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:C,expires_at:N,refresh_token:c,token_type:x,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(i){if(St(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ka(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:s,error:a}=r;if(a)return{error:a};const c=(i=s.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(R5(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await wo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=G5(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,s;try{const{data:{session:a},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await $l(this.storage,this.storageKey,!0));try{return await jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(St(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:i,error:s}=await this._useSession(async a=>{var c,f,v,x,S;const{data:C,error:N}=a;if(N)throw N;const B=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(v=t.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await jt(this.fetch,"GET",B,{headers:this.headers,jwt:(S=(x=C.session)===null||x===void 0?void 0:x.access_token)!==null&&S!==void 0?S:void 0})});if(s)throw s;return cn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(St(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,s;const{data:a,error:c}=r;if(c)throw c;return await jt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await q5(async s=>(s>0&&await Y5(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jn})),(s,a)=>{const c=200*Math.pow(2,s);return a&&Fx(a)&&Date.now()+c-i<Vl})}catch(i){if(this._debug(r,"error",i),St(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),cn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await ka(this.storage,this.storageKey);if(s&&this.userStorage){let c=await ka(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await Xl(this.userStorage,this.storageKey+"-user",c)),s.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Ux()}else if(s&&!s.user&&!s.user){const c=await ka(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(s.user=c.user,await wo(this.storage,this.storageKey+"-user"),await Xl(this.storage,this.storageKey,s)):s.user=Ux()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zx;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${zx}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),Fx(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(s.access_token);!f&&(c!=null&&c.user)?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new ko;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Rg;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new ko;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const f={session:a.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(a){if(this._debug(s,"error",a),St(a)){const c={session:null,error:a};return Fx(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(v){a.push(v)}});if(await Promise.all(c),a.length>0){for(let f=0;f<a.length;f+=1)console.error(a[f]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Xl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=gS(s);await Xl(this.storage,this.storageKey,a)}else{const s=gS(r);await Xl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await wo(this.storage,this.storageKey),await wo(this.storage,this.storageKey+"-code-verifier"),await wo(this.storage,this.storageKey+"-user"),this.userStorage&&await wo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/Vl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vl}ms, refresh threshold is ${w0} ticks`),s<=w0&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){const s=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,c]=await $l(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(f.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;const{data:s,error:a}=r;return a?{data:null,error:a}:await jt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,s;const{data:a,error:c}=r;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:v,error:x}=await jt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return x?{data:null,error:x}:(t.factorType==="totp"&&(!((s=v==null?void 0:v.totp)===null||s===void 0)&&s.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:c,error:f}=await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(r){if(St(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:a}=r;return a?{data:null,error:a}:await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(St(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=(t==null?void 0:t.factors)||[],s=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,i;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Wx(s.access_token);let f=null;c.aal&&(f=c.aal);let v=f;((i=(r=s.user.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(v="aal2");const S=c.amr||[];return{data:{currentLevel:f,nextLevel:v,currentAuthenticationMethods:S},error:null}}))}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(f=>f.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(f=>f.kid===t),i&&this.jwks_cached_at+P5>s)return i;const{data:a,error:c}=await jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(f=>f.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){const{data:B,error:U}=await this.getSession();if(U||!B.session)return{data:null,error:U};i=B.session.access_token}const{header:s,payload:a,signature:c,raw:{header:f,payload:v}}=Wx(i);r!=null&&r.allowExpired||r3(a.exp);const x=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!x){const{error:B}=await this.getUser(i);if(B)throw B;return{data:{claims:a,header:s,signature:c},error:null}}const S=i3(s.alg),C=await crypto.subtle.importKey("jwk",x,S,!0,["verify"]);if(!await crypto.subtle.verify(S,C,c,W5(`${f}.${v}`)))throw new _0("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(St(i))return{data:null,error:i};throw i}}}Bu.nextInstanceID=0;const k3=Bu;class S3 extends k3{constructor(t){super(t)}}var _3=function(e,t,r,i){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(S){try{x(i.next(S))}catch(C){c(C)}}function v(S){try{x(i.throw(S))}catch(C){c(C)}}function x(S){S.done?a(S.value):s(S.value).then(f,v)}x((i=i.apply(e,t||[])).next())})};class C3{constructor(t,r,i){var s,a,c;this.supabaseUrl=t,this.supabaseKey=r;const f=T5(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const v=`sb-${f.hostname.split(".")[0]}-auth-token`,x={db:v5,realtime:y5,auth:Object.assign(Object.assign({},x5),{storageKey:v}),global:m5},S=E5(i??{},x);this.storageKey=(s=S.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=S.global.headers)!==null&&a!==void 0?a:{},S.accessToken?(this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(C,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=S.auth)!==null&&c!==void 0?c:{},this.headers,S.global.fetch),this.fetch=S5(r,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},S.realtime)),this.rest=new OD(new URL("rest/v1",f).href,{headers:this.headers,schema:S.db.schema,fetch:this.fetch}),this.storage=new f5(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),S.accessToken||this._listenForAuthEvents()}get functions(){return new uD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},i={}){return this.rest.rpc(t,r,i)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return _3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:i,storage:s,userStorage:a,storageKey:c,flowType:f,lock:v,debug:x},S,C){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S3({url:this.authUrl.href,headers:Object.assign(Object.assign({},N),S),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:i,storage:s,userStorage:a,flowType:f,lock:v,debug:x,fetch:C,hasCustomAuthorizationHeader:Object.keys(this.headers).some(B=>B.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new KD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,r,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const E3=(e,t,r)=>new C3(e,t,r);function T3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}T3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const A3="http://127.0.0.1:54321",M3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0",Ge=E3(A3,M3),bT=T.createContext(null);function j3(){const e=T.useContext(bT);if(!e)throw new Error("useAvatarCache must be used within an AvatarCacheProvider");return e}const rs=new Map,Yl=new Map;async function Gx(e,t=96){const r=e.toLowerCase();if(rs.has(r))return rs.get(r);if(Yl.has(r))return Yl.get(r);const i=Bb(e,t);if(!i)return null;const s=new Promise(a=>{const c=new Image;c.crossOrigin="anonymous",c.onload=()=>{rs.set(r,i),Yl.delete(r),a(i)},c.onerror=()=>{Yl.delete(r),a(null)},c.src=i});return Yl.set(r,s),s}function N3({children:e}){const[t,r]=T.useState(rs),[i,s]=T.useState(!1);T.useEffect(()=>{let x=!1;async function S(){try{const{data:C,error:N}=await Ge.from("players").select("twitter").not("twitter","is",null);if(N||!C||x)return;const B=[...new Set(C.map(R=>R.twitter).filter(R=>!!R))],U=5,D=100;for(let R=0;R<B.length&&!x;R+=U){const I=B.slice(R,R+U);await Promise.all(I.map(j=>Gx(j))),x||r(new Map(rs)),R+U<B.length&&await new Promise(j=>setTimeout(j,D))}x||s(!0)}catch(C){console.warn("Failed to preload avatars:",C),x||s(!0)}}return S(),()=>{x=!0}},[]);const a=T.useCallback(x=>rs.has(x.toLowerCase()),[]),c=T.useCallback((x,S=96)=>{if(!x)return null;const C=x.toLowerCase();return rs.has(C)?rs.get(C):(Gx(x,S).then(()=>{}),Bb(x,S))},[]),f=T.useCallback(x=>{const S=x.toLowerCase();rs.delete(S),Yl.delete(S),Gx(x).then(()=>{r(new Map(rs))})},[]),v=T.useMemo(()=>({avatarCache:t,isCached:a,getCachedUrl:c,isPreloaded:i,refreshAvatar:f}),[t,a,c,i,f]);return h.jsx(bT.Provider,{value:v,children:e})}function $s({name:e,twitter:t,size:r=40,className:i,variant:s="beam",colors:a=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"]}){const[c,f]=T.useState(!1),{getCachedUrl:v}=j3(),x=t&&!c,S=t?v(t,r*2)||Bb(t,r*2):null;return h.jsx("div",{className:gt("relative overflow-hidden rounded-full shrink-0",i),style:{width:r,height:r},children:x?h.jsx("img",{src:S,alt:e,className:"h-full w-full object-cover",onError:()=>f(!0)}):h.jsx(sD,{size:r,name:e,variant:s,colors:a})})}function bS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Fa(...e){return t=>{let r=!1;const i=e.map(s=>{const a=bS(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():bS(e[s],null)}}}}function ir(...e){return T.useCallback(Fa(...e),e)}function Wa(e){const t=O3(e),r=T.forwardRef((i,s)=>{const{children:a,...c}=i,f=T.Children.toArray(a),v=f.find(L3);if(v){const x=v.props.children,S=f.map(C=>C===v?T.Children.count(x)>1?T.Children.only(null):T.isValidElement(x)?x.props.children:null:C);return h.jsx(t,{...c,ref:s,children:T.isValidElement(x)?T.cloneElement(x,void 0,S):null})}return h.jsx(t,{...c,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var P3=Wa("Slot");function O3(e){const t=T.forwardRef((r,i)=>{const{children:s,...a}=r;if(T.isValidElement(s)){const c=D3(s),f=I3(a,s.props);return s.type!==T.Fragment&&(f.ref=i?Fa(i,c):c),T.cloneElement(s,f)}return T.Children.count(s)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var R3=Symbol("radix.slottable");function L3(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===R3}function I3(e,t){const r={...t};for(const i in t){const s=e[i],a=t[i];/^on[A-Z]/.test(i)?s&&a?r[i]=(...f)=>{const v=a(...f);return s(...f),v}:s&&(r[i]=s):i==="style"?r[i]={...s,...a}:i==="className"&&(r[i]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function D3(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const wS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kS=FE,wT=(e,t)=>r=>{var i;if((t==null?void 0:t.variants)==null)return kS(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,c=Object.keys(s).map(x=>{const S=r==null?void 0:r[x],C=a==null?void 0:a[x];if(S===null)return null;const N=wS(S)||wS(C);return s[x][N]}),f=r&&Object.entries(r).reduce((x,S)=>{let[C,N]=S;return N===void 0||(x[C]=N),x},{}),v=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((x,S)=>{let{class:C,className:N,...B}=S;return Object.entries(B).every(U=>{let[D,R]=U;return Array.isArray(R)?R.includes({...a,...f}[D]):{...a,...f}[D]===R})?[...x,C,N]:x},[]);return kS(e,c,v,r==null?void 0:r.class,r==null?void 0:r.className)},$3=wT("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background text-foreground hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_t=T.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...s},a)=>{const c=i?P3:"button";return h.jsx(c,{className:gt($3({variant:t,size:r,className:e})),ref:a,...s})});_t.displayName="Button";function Gb({currentPage:e,totalPages:t,onPageChange:r,itemsPerPage:i,totalItems:s}){const a=(e-1)*i+1,c=Math.min(e*i,s),f=()=>{const v=[];if(t<=7)for(let x=1;x<=t;x++)v.push(x);else{v.push(1),e>3&&v.push("...");const x=Math.max(2,e-1),S=Math.min(t-1,e+1);for(let C=x;C<=S;C++)v.push(C);e<t-2&&v.push("..."),v.push(t)}return v};return t<=1?null:h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-2",children:[h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",a," to ",c," of ",s," results"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_t,{variant:"outline",size:"sm",onClick:()=>r(e-1),disabled:e===1,children:"Previous"}),h.jsx("div",{className:"flex items-center gap-1",children:f().map((v,x)=>typeof v=="number"?h.jsx(_t,{variant:e===v?"default":"outline",size:"sm",onClick:()=>r(v),className:"w-10",children:v},x):h.jsx("span",{className:"px-2 text-muted-foreground",children:v},x))}),h.jsx(_t,{variant:"outline",size:"sm",onClick:()=>r(e+1),disabled:e===t,children:"Next"})]})]})}async function Vb(){try{const{data:e,error:t}=await Ge.from("players").select("id, name, twitter, created, rating, rd, volatility, peak_rating, peak_rating_date, has_played_this_season").order("rating",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchPlayers failed:",e),[]}}async function kT(){try{const{data:e,error:t}=await Ge.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchMatches failed:",e),[]}}async function B3(){try{const{data:e,error:t}=await Ge.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).not("winner_id","is",null).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchCompletedMatches failed:",e),[]}}async function z3(){try{const{data:e,error:t}=await Ge.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).is("winner_id",null).order("match_order",{ascending:!0});if(t)throw t;return e??[]}catch(e){return console.warn("fetchUpcomingMatches failed:",e),[]}}async function F3(){try{const{data:e,error:t}=await Ge.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").not("winner_id","is",null).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchAllCompletedMatches failed:",e),[]}}async function Ku(){try{const{data:e,error:t}=await Ge.from("events").select("*").order("event_date",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchEvents failed:",e),[]}}async function W3(){try{const{data:e,error:t}=await Ge.from("events").select("*").gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0});if(t)throw t;return e??[]}catch(e){return console.warn("fetchUpcomingEvents failed:",e),[]}}function Lg(){const[e,t]=T.useState(null),[r,i]=T.useState(null),[s,a]=T.useState(null);return T.useEffect(()=>{let f=!0;return(async()=>{try{const[v,x]=await Promise.all([Vb(),B3()]);if(!f)return;t(v),i(x)}catch(v){if(!f)return;a(v.message)}})(),()=>{f=!1}},[]),{players:e??[],matches:r??[],loading:e===null||r===null,error:s}}const Qr=T.forwardRef(({className:e,type:t="text",...r},i)=>h.jsx("input",{type:t,className:gt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r}));Qr.displayName="Input";/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ST=(...e)=>e.filter((t,r,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:c,...f},v)=>T.createElement("svg",{ref:v,...H3,width:t,height:t,stroke:e,strokeWidth:i?Number(r)*24/Number(t):r,className:ST("lucide",s),...f},[...c.map(([x,S])=>T.createElement(x,S)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(e,t)=>{const r=T.forwardRef(({className:i,...s},a)=>T.createElement(G3,{ref:a,iconNode:t,className:ST(`lucide-${U3(e)}`,i),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],cc=Jt("ArrowDown",V3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ep=Jt("ArrowUpDown",X3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],dc=Jt("ArrowUp",Y3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],K3=Jt("Calendar",q3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_T=Jt("Check",Z3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],CT=Jt("ChevronDown",Q3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],e$=Jt("ChevronUp",J3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],r$=Jt("ChevronsUpDown",t$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],n$=Jt("CircleAlert",i$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],SS=Jt("CircleCheck",s$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],_S=Jt("Clock",o$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ET=Jt("ExternalLink",a$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],c$=Jt("Menu",l$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],u$=Jt("Moon",d$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Xb=Jt("Pencil",h$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yb=Jt("Plus",f$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ig=Jt("RefreshCw",p$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],m$=Jt("Search",g$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]],x$=Jt("SunMedium",v$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],qb=Jt("Trash2",y$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],w$=Jt("TrendingUp",b$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],TT=Jt("Trophy",k$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],AT=Jt("Undo2",S$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kb=Jt("X",_$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],MT=Jt("Youtube",C$);function CS(e,[t,r]){return Math.min(r,Math.max(t,e))}function Mt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function E$(e,t){const r=T.createContext(t),i=a=>{const{children:c,...f}=a,v=T.useMemo(()=>f,Object.values(f));return h.jsx(r.Provider,{value:v,children:c})};i.displayName=e+"Provider";function s(a){const c=T.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[i,s]}function Zo(e,t=[]){let r=[];function i(a,c){const f=T.createContext(c),v=r.length;r=[...r,c];const x=C=>{var I;const{scope:N,children:B,...U}=C,D=((I=N==null?void 0:N[e])==null?void 0:I[v])||f,R=T.useMemo(()=>U,Object.values(U));return h.jsx(D.Provider,{value:R,children:B})};x.displayName=a+"Provider";function S(C,N){var D;const B=((D=N==null?void 0:N[e])==null?void 0:D[v])||f,U=T.useContext(B);if(U)return U;if(c!==void 0)return c;throw new Error(`\`${C}\` must be used within \`${a}\``)}return[x,S]}const s=()=>{const a=r.map(c=>T.createContext(c));return function(f){const v=(f==null?void 0:f[e])||a;return T.useMemo(()=>({[`__scope${e}`]:{...f,[e]:v}}),[f,v])}};return s.scopeName=e,[i,T$(s,...t)]}function T$(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const c=i.reduce((f,{useScope:v,scopeName:x})=>{const C=v(a)[`__scope${x}`];return{...f,...C}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function jT(e){const t=e+"CollectionProvider",[r,i]=Zo(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=D=>{const{scope:R,children:I}=D,j=Fr.useRef(null),O=Fr.useRef(new Map).current;return h.jsx(s,{scope:R,itemMap:O,collectionRef:j,children:I})};c.displayName=t;const f=e+"CollectionSlot",v=Wa(f),x=Fr.forwardRef((D,R)=>{const{scope:I,children:j}=D,O=a(f,I),q=ir(R,O.collectionRef);return h.jsx(v,{ref:q,children:j})});x.displayName=f;const S=e+"CollectionItemSlot",C="data-radix-collection-item",N=Wa(S),B=Fr.forwardRef((D,R)=>{const{scope:I,children:j,...O}=D,q=Fr.useRef(null),ae=ir(R,q),te=a(S,I);return Fr.useEffect(()=>(te.itemMap.set(q,{ref:q,...O}),()=>void te.itemMap.delete(q))),h.jsx(N,{[C]:"",ref:ae,children:j})});B.displayName=S;function U(D){const R=a(e+"CollectionConsumer",D);return Fr.useCallback(()=>{const j=R.collectionRef.current;if(!j)return[];const O=Array.from(j.querySelectorAll(`[${C}]`));return Array.from(R.itemMap.values()).sort((te,le)=>O.indexOf(te.ref.current)-O.indexOf(le.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:c,Slot:x,ItemSlot:B},U,i]}var A$=T.createContext(void 0);function Zb(e){const t=T.useContext(A$);return e||t||"ltr"}var M$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yt=M$.reduce((e,t)=>{const r=Wa(`Primitive.${t}`),i=T.forwardRef((s,a)=>{const{asChild:c,...f}=s,v=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(v,{...f,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function j$(e,t){e&&zc.flushSync(()=>e.dispatchEvent(t))}function Bs(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...r)=>{var i;return(i=t.current)==null?void 0:i.call(t,...r)},[])}function N$(e,t=globalThis==null?void 0:globalThis.document){const r=Bs(e);T.useEffect(()=>{const i=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[r,t])}var P$="DismissableLayer",C0="dismissableLayer.update",O$="dismissableLayer.pointerDownOutside",R$="dismissableLayer.focusOutside",ES,NT=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dg=T.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:c,onDismiss:f,...v}=e,x=T.useContext(NT),[S,C]=T.useState(null),N=(S==null?void 0:S.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,B]=T.useState({}),U=ir(t,le=>C(le)),D=Array.from(x.layers),[R]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),I=D.indexOf(R),j=S?D.indexOf(S):-1,O=x.layersWithOutsidePointerEventsDisabled.size>0,q=j>=I,ae=D$(le=>{const J=le.target,be=[...x.branches].some(ke=>ke.contains(J));!q||be||(s==null||s(le),c==null||c(le),le.defaultPrevented||f==null||f())},N),te=$$(le=>{const J=le.target;[...x.branches].some(ke=>ke.contains(J))||(a==null||a(le),c==null||c(le),le.defaultPrevented||f==null||f())},N);return N$(le=>{j===x.layers.size-1&&(i==null||i(le),!le.defaultPrevented&&f&&(le.preventDefault(),f()))},N),T.useEffect(()=>{if(S)return r&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(ES=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(S)),x.layers.add(S),TS(),()=>{r&&x.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=ES)}},[S,N,r,x]),T.useEffect(()=>()=>{S&&(x.layers.delete(S),x.layersWithOutsidePointerEventsDisabled.delete(S),TS())},[S,x]),T.useEffect(()=>{const le=()=>B({});return document.addEventListener(C0,le),()=>document.removeEventListener(C0,le)},[]),h.jsx(yt.div,{...v,ref:U,style:{pointerEvents:O?q?"auto":"none":void 0,...e.style},onFocusCapture:Mt(e.onFocusCapture,te.onFocusCapture),onBlurCapture:Mt(e.onBlurCapture,te.onBlurCapture),onPointerDownCapture:Mt(e.onPointerDownCapture,ae.onPointerDownCapture)})});Dg.displayName=P$;var L$="DismissableLayerBranch",I$=T.forwardRef((e,t)=>{const r=T.useContext(NT),i=T.useRef(null),s=ir(t,i);return T.useEffect(()=>{const a=i.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),h.jsx(yt.div,{...e,ref:s})});I$.displayName=L$;function D$(e,t=globalThis==null?void 0:globalThis.document){const r=Bs(e),i=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const a=f=>{if(f.target&&!i.current){let v=function(){PT(O$,r,x,{discrete:!0})};const x={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=v,t.addEventListener("click",s.current,{once:!0})):v()}else t.removeEventListener("click",s.current);i.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}function $$(e,t=globalThis==null?void 0:globalThis.document){const r=Bs(e),i=T.useRef(!1);return T.useEffect(()=>{const s=a=>{a.target&&!i.current&&PT(R$,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function TS(){const e=new CustomEvent(C0);document.dispatchEvent(e)}function PT(e,t,r,{discrete:i}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),i?j$(s,a):s.dispatchEvent(a)}var Vx=0;function Qb(){T.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??AS()),document.body.insertAdjacentElement("beforeend",e[1]??AS()),Vx++,()=>{Vx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vx--}},[])}function AS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xx="focusScope.autoFocusOnMount",Yx="focusScope.autoFocusOnUnmount",MS={bubbles:!1,cancelable:!0},B$="FocusScope",$g=T.forwardRef((e,t)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...c}=e,[f,v]=T.useState(null),x=Bs(s),S=Bs(a),C=T.useRef(null),N=ir(t,D=>v(D)),B=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(i){let D=function(O){if(B.paused||!f)return;const q=O.target;f.contains(q)?C.current=q:So(C.current,{select:!0})},R=function(O){if(B.paused||!f)return;const q=O.relatedTarget;q!==null&&(f.contains(q)||So(C.current,{select:!0}))},I=function(O){if(document.activeElement===document.body)for(const ae of O)ae.removedNodes.length>0&&So(f)};document.addEventListener("focusin",D),document.addEventListener("focusout",R);const j=new MutationObserver(I);return f&&j.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",D),document.removeEventListener("focusout",R),j.disconnect()}}},[i,f,B.paused]),T.useEffect(()=>{if(f){NS.add(B);const D=document.activeElement;if(!f.contains(D)){const I=new CustomEvent(Xx,MS);f.addEventListener(Xx,x),f.dispatchEvent(I),I.defaultPrevented||(z$(G$(OT(f)),{select:!0}),document.activeElement===D&&So(f))}return()=>{f.removeEventListener(Xx,x),setTimeout(()=>{const I=new CustomEvent(Yx,MS);f.addEventListener(Yx,S),f.dispatchEvent(I),I.defaultPrevented||So(D??document.body,{select:!0}),f.removeEventListener(Yx,S),NS.remove(B)},0)}}},[f,x,S,B]);const U=T.useCallback(D=>{if(!r&&!i||B.paused)return;const R=D.key==="Tab"&&!D.altKey&&!D.ctrlKey&&!D.metaKey,I=document.activeElement;if(R&&I){const j=D.currentTarget,[O,q]=F$(j);O&&q?!D.shiftKey&&I===q?(D.preventDefault(),r&&So(O,{select:!0})):D.shiftKey&&I===O&&(D.preventDefault(),r&&So(q,{select:!0})):I===j&&D.preventDefault()}},[r,i,B.paused]);return h.jsx(yt.div,{tabIndex:-1,...c,ref:N,onKeyDown:U})});$g.displayName=B$;function z$(e,{select:t=!1}={}){const r=document.activeElement;for(const i of e)if(So(i,{select:t}),document.activeElement!==r)return}function F$(e){const t=OT(e),r=jS(t,e),i=jS(t.reverse(),e);return[r,i]}function OT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jS(e,t){for(const r of e)if(!W$(r,{upTo:t}))return r}function W$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function U$(e){return e instanceof HTMLInputElement&&"select"in e}function So(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&U$(e)&&t&&e.select()}}var NS=H$();function H$(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=PS(e,t),e.unshift(t)},remove(t){var r;e=PS(e,t),(r=e[0])==null||r.resume()}}}function PS(e,t){const r=[...e],i=r.indexOf(t);return i!==-1&&r.splice(i,1),r}function G$(e){return e.filter(t=>t.tagName!=="A")}var Ir=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},V$=W0[" useId ".trim().toString()]||(()=>{}),X$=0;function vi(e){const[t,r]=T.useState(V$());return Ir(()=>{r(i=>i??String(X$++))},[e]),t?`radix-${t}`:""}const Y$=["top","right","bottom","left"],Uo=Math.min,Fi=Math.max,tg=Math.round,tp=Math.floor,ls=e=>({x:e,y:e}),q$={left:"right",right:"left",bottom:"top",top:"bottom"},K$={start:"end",end:"start"};function E0(e,t,r){return Fi(e,Uo(t,r))}function zs(e,t){return typeof e=="function"?e(t):e}function Fs(e){return e.split("-")[0]}function Vc(e){return e.split("-")[1]}function Jb(e){return e==="x"?"y":"x"}function ew(e){return e==="y"?"height":"width"}const Z$=new Set(["top","bottom"]);function ss(e){return Z$.has(Fs(e))?"y":"x"}function tw(e){return Jb(ss(e))}function Q$(e,t,r){r===void 0&&(r=!1);const i=Vc(e),s=tw(e),a=ew(s);let c=s==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=rg(c)),[c,rg(c)]}function J$(e){const t=rg(e);return[T0(e),t,T0(t)]}function T0(e){return e.replace(/start|end/g,t=>K$[t])}const OS=["left","right"],RS=["right","left"],e4=["top","bottom"],t4=["bottom","top"];function r4(e,t,r){switch(e){case"top":case"bottom":return r?t?RS:OS:t?OS:RS;case"left":case"right":return t?e4:t4;default:return[]}}function i4(e,t,r,i){const s=Vc(e);let a=r4(Fs(e),r==="start",i);return s&&(a=a.map(c=>c+"-"+s),t&&(a=a.concat(a.map(T0)))),a}function rg(e){return e.replace(/left|right|bottom|top/g,t=>q$[t])}function n4(e){return{top:0,right:0,bottom:0,left:0,...e}}function RT(e){return typeof e!="number"?n4(e):{top:e,right:e,bottom:e,left:e}}function ig(e){const{x:t,y:r,width:i,height:s}=e;return{width:i,height:s,top:r,left:t,right:t+i,bottom:r+s,x:t,y:r}}function LS(e,t,r){let{reference:i,floating:s}=e;const a=ss(t),c=tw(t),f=ew(c),v=Fs(t),x=a==="y",S=i.x+i.width/2-s.width/2,C=i.y+i.height/2-s.height/2,N=i[f]/2-s[f]/2;let B;switch(v){case"top":B={x:S,y:i.y-s.height};break;case"bottom":B={x:S,y:i.y+i.height};break;case"right":B={x:i.x+i.width,y:C};break;case"left":B={x:i.x-s.width,y:C};break;default:B={x:i.x,y:i.y}}switch(Vc(t)){case"start":B[c]-=N*(r&&x?-1:1);break;case"end":B[c]+=N*(r&&x?-1:1);break}return B}const s4=async(e,t,r)=>{const{placement:i="bottom",strategy:s="absolute",middleware:a=[],platform:c}=r,f=a.filter(Boolean),v=await(c.isRTL==null?void 0:c.isRTL(t));let x=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:S,y:C}=LS(x,i,v),N=i,B={},U=0;for(let D=0;D<f.length;D++){const{name:R,fn:I}=f[D],{x:j,y:O,data:q,reset:ae}=await I({x:S,y:C,initialPlacement:i,placement:N,strategy:s,middlewareData:B,rects:x,platform:c,elements:{reference:e,floating:t}});S=j??S,C=O??C,B={...B,[R]:{...B[R],...q}},ae&&U<=50&&(U++,typeof ae=="object"&&(ae.placement&&(N=ae.placement),ae.rects&&(x=ae.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):ae.rects),{x:S,y:C}=LS(x,N,v)),D=-1)}return{x:S,y:C,placement:N,strategy:s,middlewareData:B}};async function zu(e,t){var r;t===void 0&&(t={});const{x:i,y:s,platform:a,rects:c,elements:f,strategy:v}=e,{boundary:x="clippingAncestors",rootBoundary:S="viewport",elementContext:C="floating",altBoundary:N=!1,padding:B=0}=zs(t,e),U=RT(B),R=f[N?C==="floating"?"reference":"floating":C],I=ig(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(R)))==null||r?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(f.floating)),boundary:x,rootBoundary:S,strategy:v})),j=C==="floating"?{x:i,y:s,width:c.floating.width,height:c.floating.height}:c.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f.floating)),q=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},ae=ig(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:j,offsetParent:O,strategy:v}):j);return{top:(I.top-ae.top+U.top)/q.y,bottom:(ae.bottom-I.bottom+U.bottom)/q.y,left:(I.left-ae.left+U.left)/q.x,right:(ae.right-I.right+U.right)/q.x}}const o4=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:s,rects:a,platform:c,elements:f,middlewareData:v}=t,{element:x,padding:S=0}=zs(e,t)||{};if(x==null)return{};const C=RT(S),N={x:r,y:i},B=tw(s),U=ew(B),D=await c.getDimensions(x),R=B==="y",I=R?"top":"left",j=R?"bottom":"right",O=R?"clientHeight":"clientWidth",q=a.reference[U]+a.reference[B]-N[B]-a.floating[U],ae=N[B]-a.reference[B],te=await(c.getOffsetParent==null?void 0:c.getOffsetParent(x));let le=te?te[O]:0;(!le||!await(c.isElement==null?void 0:c.isElement(te)))&&(le=f.floating[O]||a.floating[U]);const J=q/2-ae/2,be=le/2-D[U]/2-1,ke=Uo(C[I],be),Ie=Uo(C[j],be),he=ke,_e=le-D[U]-Ie,Oe=le/2-D[U]/2+J,Je=E0(he,Oe,_e),ie=!v.arrow&&Vc(s)!=null&&Oe!==Je&&a.reference[U]/2-(Oe<he?ke:Ie)-D[U]/2<0,me=ie?Oe<he?Oe-he:Oe-_e:0;return{[B]:N[B]+me,data:{[B]:Je,centerOffset:Oe-Je-me,...ie&&{alignmentOffset:me}},reset:ie}}}),a4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:s,middlewareData:a,rects:c,initialPlacement:f,platform:v,elements:x}=t,{mainAxis:S=!0,crossAxis:C=!0,fallbackPlacements:N,fallbackStrategy:B="bestFit",fallbackAxisSideDirection:U="none",flipAlignment:D=!0,...R}=zs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const I=Fs(s),j=ss(f),O=Fs(f)===f,q=await(v.isRTL==null?void 0:v.isRTL(x.floating)),ae=N||(O||!D?[rg(f)]:J$(f)),te=U!=="none";!N&&te&&ae.push(...i4(f,D,U,q));const le=[f,...ae],J=await zu(t,R),be=[];let ke=((i=a.flip)==null?void 0:i.overflows)||[];if(S&&be.push(J[I]),C){const Oe=Q$(s,c,q);be.push(J[Oe[0]],J[Oe[1]])}if(ke=[...ke,{placement:s,overflows:be}],!be.every(Oe=>Oe<=0)){var Ie,he;const Oe=(((Ie=a.flip)==null?void 0:Ie.index)||0)+1,Je=le[Oe];if(Je&&(!(C==="alignment"?j!==ss(Je):!1)||ke.every(pe=>ss(pe.placement)===j?pe.overflows[0]>0:!0)))return{data:{index:Oe,overflows:ke},reset:{placement:Je}};let ie=(he=ke.filter(me=>me.overflows[0]<=0).sort((me,pe)=>me.overflows[1]-pe.overflows[1])[0])==null?void 0:he.placement;if(!ie)switch(B){case"bestFit":{var _e;const me=(_e=ke.filter(pe=>{if(te){const Te=ss(pe.placement);return Te===j||Te==="y"}return!0}).map(pe=>[pe.placement,pe.overflows.filter(Te=>Te>0).reduce((Te,$e)=>Te+$e,0)]).sort((pe,Te)=>pe[1]-Te[1])[0])==null?void 0:_e[0];me&&(ie=me);break}case"initialPlacement":ie=f;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function IS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function DS(e){return Y$.some(t=>e[t]>=0)}const l4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:i="referenceHidden",...s}=zs(e,t);switch(i){case"referenceHidden":{const a=await zu(t,{...s,elementContext:"reference"}),c=IS(a,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:DS(c)}}}case"escaped":{const a=await zu(t,{...s,altBoundary:!0}),c=IS(a,r.floating);return{data:{escapedOffsets:c,escaped:DS(c)}}}default:return{}}}}},LT=new Set(["left","top"]);async function c4(e,t){const{placement:r,platform:i,elements:s}=e,a=await(i.isRTL==null?void 0:i.isRTL(s.floating)),c=Fs(r),f=Vc(r),v=ss(r)==="y",x=LT.has(c)?-1:1,S=a&&v?-1:1,C=zs(t,e);let{mainAxis:N,crossAxis:B,alignmentAxis:U}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:C.mainAxis||0,crossAxis:C.crossAxis||0,alignmentAxis:C.alignmentAxis};return f&&typeof U=="number"&&(B=f==="end"?U*-1:U),v?{x:B*S,y:N*x}:{x:N*x,y:B*S}}const d4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:s,y:a,placement:c,middlewareData:f}=t,v=await c4(t,e);return c===((r=f.offset)==null?void 0:r.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:s+v.x,y:a+v.y,data:{...v,placement:c}}}}},u4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:s}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:f={fn:R=>{let{x:I,y:j}=R;return{x:I,y:j}}},...v}=zs(e,t),x={x:r,y:i},S=await zu(t,v),C=ss(Fs(s)),N=Jb(C);let B=x[N],U=x[C];if(a){const R=N==="y"?"top":"left",I=N==="y"?"bottom":"right",j=B+S[R],O=B-S[I];B=E0(j,B,O)}if(c){const R=C==="y"?"top":"left",I=C==="y"?"bottom":"right",j=U+S[R],O=U-S[I];U=E0(j,U,O)}const D=f.fn({...t,[N]:B,[C]:U});return{...D,data:{x:D.x-r,y:D.y-i,enabled:{[N]:a,[C]:c}}}}}},h4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:s,rects:a,middlewareData:c}=t,{offset:f=0,mainAxis:v=!0,crossAxis:x=!0}=zs(e,t),S={x:r,y:i},C=ss(s),N=Jb(C);let B=S[N],U=S[C];const D=zs(f,t),R=typeof D=="number"?{mainAxis:D,crossAxis:0}:{mainAxis:0,crossAxis:0,...D};if(v){const O=N==="y"?"height":"width",q=a.reference[N]-a.floating[O]+R.mainAxis,ae=a.reference[N]+a.reference[O]-R.mainAxis;B<q?B=q:B>ae&&(B=ae)}if(x){var I,j;const O=N==="y"?"width":"height",q=LT.has(Fs(s)),ae=a.reference[C]-a.floating[O]+(q&&((I=c.offset)==null?void 0:I[C])||0)+(q?0:R.crossAxis),te=a.reference[C]+a.reference[O]+(q?0:((j=c.offset)==null?void 0:j[C])||0)-(q?R.crossAxis:0);U<ae?U=ae:U>te&&(U=te)}return{[N]:B,[C]:U}}}},f4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,i;const{placement:s,rects:a,platform:c,elements:f}=t,{apply:v=()=>{},...x}=zs(e,t),S=await zu(t,x),C=Fs(s),N=Vc(s),B=ss(s)==="y",{width:U,height:D}=a.floating;let R,I;C==="top"||C==="bottom"?(R=C,I=N===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(I=C,R=N==="end"?"top":"bottom");const j=D-S.top-S.bottom,O=U-S.left-S.right,q=Uo(D-S[R],j),ae=Uo(U-S[I],O),te=!t.middlewareData.shift;let le=q,J=ae;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(J=O),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(le=j),te&&!N){const ke=Fi(S.left,0),Ie=Fi(S.right,0),he=Fi(S.top,0),_e=Fi(S.bottom,0);B?J=U-2*(ke!==0||Ie!==0?ke+Ie:Fi(S.left,S.right)):le=D-2*(he!==0||_e!==0?he+_e:Fi(S.top,S.bottom))}await v({...t,availableWidth:J,availableHeight:le});const be=await c.getDimensions(f.floating);return U!==be.width||D!==be.height?{reset:{rects:!0}}:{}}}};function Bg(){return typeof window<"u"}function Xc(e){return IT(e)?(e.nodeName||"").toLowerCase():"#document"}function Hi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function us(e){var t;return(t=(IT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function IT(e){return Bg()?e instanceof Node||e instanceof Hi(e).Node:!1}function $n(e){return Bg()?e instanceof Element||e instanceof Hi(e).Element:!1}function ds(e){return Bg()?e instanceof HTMLElement||e instanceof Hi(e).HTMLElement:!1}function $S(e){return!Bg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hi(e).ShadowRoot}const p4=new Set(["inline","contents"]);function Zu(e){const{overflow:t,overflowX:r,overflowY:i,display:s}=Bn(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!p4.has(s)}const g4=new Set(["table","td","th"]);function m4(e){return g4.has(Xc(e))}const v4=[":popover-open",":modal"];function zg(e){return v4.some(t=>{try{return e.matches(t)}catch{return!1}})}const x4=["transform","translate","scale","rotate","perspective"],y4=["transform","translate","scale","rotate","perspective","filter"],b4=["paint","layout","strict","content"];function rw(e){const t=iw(),r=$n(e)?Bn(e):e;return x4.some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||y4.some(i=>(r.willChange||"").includes(i))||b4.some(i=>(r.contain||"").includes(i))}function w4(e){let t=Ho(e);for(;ds(t)&&!Pc(t);){if(rw(t))return t;if(zg(t))return null;t=Ho(t)}return null}function iw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const k4=new Set(["html","body","#document"]);function Pc(e){return k4.has(Xc(e))}function Bn(e){return Hi(e).getComputedStyle(e)}function Fg(e){return $n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ho(e){if(Xc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$S(e)&&e.host||us(e);return $S(t)?t.host:t}function DT(e){const t=Ho(e);return Pc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ds(t)&&Zu(t)?t:DT(t)}function Fu(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=DT(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),c=Hi(s);if(a){const f=A0(c);return t.concat(c,c.visualViewport||[],Zu(s)?s:[],f&&r?Fu(f):[])}return t.concat(s,Fu(s,[],r))}function A0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $T(e){const t=Bn(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=ds(e),a=s?e.offsetWidth:r,c=s?e.offsetHeight:i,f=tg(r)!==a||tg(i)!==c;return f&&(r=a,i=c),{width:r,height:i,$:f}}function nw(e){return $n(e)?e:e.contextElement}function wc(e){const t=nw(e);if(!ds(t))return ls(1);const r=t.getBoundingClientRect(),{width:i,height:s,$:a}=$T(t);let c=(a?tg(r.width):r.width)/i,f=(a?tg(r.height):r.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const S4=ls(0);function BT(e){const t=Hi(e);return!iw()||!t.visualViewport?S4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _4(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Hi(e)?!1:t}function Ua(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=nw(e);let c=ls(1);t&&(i?$n(i)&&(c=wc(i)):c=wc(e));const f=_4(a,r,i)?BT(a):ls(0);let v=(s.left+f.x)/c.x,x=(s.top+f.y)/c.y,S=s.width/c.x,C=s.height/c.y;if(a){const N=Hi(a),B=i&&$n(i)?Hi(i):i;let U=N,D=A0(U);for(;D&&i&&B!==U;){const R=wc(D),I=D.getBoundingClientRect(),j=Bn(D),O=I.left+(D.clientLeft+parseFloat(j.paddingLeft))*R.x,q=I.top+(D.clientTop+parseFloat(j.paddingTop))*R.y;v*=R.x,x*=R.y,S*=R.x,C*=R.y,v+=O,x+=q,U=Hi(D),D=A0(U)}}return ig({width:S,height:C,x:v,y:x})}function Wg(e,t){const r=Fg(e).scrollLeft;return t?t.left+r:Ua(us(e)).left+r}function zT(e,t){const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-Wg(e,r),s=r.top+t.scrollTop;return{x:i,y:s}}function C4(e){let{elements:t,rect:r,offsetParent:i,strategy:s}=e;const a=s==="fixed",c=us(i),f=t?zg(t.floating):!1;if(i===c||f&&a)return r;let v={scrollLeft:0,scrollTop:0},x=ls(1);const S=ls(0),C=ds(i);if((C||!C&&!a)&&((Xc(i)!=="body"||Zu(c))&&(v=Fg(i)),ds(i))){const B=Ua(i);x=wc(i),S.x=B.x+i.clientLeft,S.y=B.y+i.clientTop}const N=c&&!C&&!a?zT(c,v):ls(0);return{width:r.width*x.x,height:r.height*x.y,x:r.x*x.x-v.scrollLeft*x.x+S.x+N.x,y:r.y*x.y-v.scrollTop*x.y+S.y+N.y}}function E4(e){return Array.from(e.getClientRects())}function T4(e){const t=us(e),r=Fg(e),i=e.ownerDocument.body,s=Fi(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Fi(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let c=-r.scrollLeft+Wg(e);const f=-r.scrollTop;return Bn(i).direction==="rtl"&&(c+=Fi(t.clientWidth,i.clientWidth)-s),{width:s,height:a,x:c,y:f}}const BS=25;function A4(e,t){const r=Hi(e),i=us(e),s=r.visualViewport;let a=i.clientWidth,c=i.clientHeight,f=0,v=0;if(s){a=s.width,c=s.height;const S=iw();(!S||S&&t==="fixed")&&(f=s.offsetLeft,v=s.offsetTop)}const x=Wg(i);if(x<=0){const S=i.ownerDocument,C=S.body,N=getComputedStyle(C),B=S.compatMode==="CSS1Compat"&&parseFloat(N.marginLeft)+parseFloat(N.marginRight)||0,U=Math.abs(i.clientWidth-C.clientWidth-B);U<=BS&&(a-=U)}else x<=BS&&(a+=x);return{width:a,height:c,x:f,y:v}}const M4=new Set(["absolute","fixed"]);function j4(e,t){const r=Ua(e,!0,t==="fixed"),i=r.top+e.clientTop,s=r.left+e.clientLeft,a=ds(e)?wc(e):ls(1),c=e.clientWidth*a.x,f=e.clientHeight*a.y,v=s*a.x,x=i*a.y;return{width:c,height:f,x:v,y:x}}function zS(e,t,r){let i;if(t==="viewport")i=A4(e,r);else if(t==="document")i=T4(us(e));else if($n(t))i=j4(t,r);else{const s=BT(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ig(i)}function FT(e,t){const r=Ho(e);return r===t||!$n(r)||Pc(r)?!1:Bn(r).position==="fixed"||FT(r,t)}function N4(e,t){const r=t.get(e);if(r)return r;let i=Fu(e,[],!1).filter(f=>$n(f)&&Xc(f)!=="body"),s=null;const a=Bn(e).position==="fixed";let c=a?Ho(e):e;for(;$n(c)&&!Pc(c);){const f=Bn(c),v=rw(c);!v&&f.position==="fixed"&&(s=null),(a?!v&&!s:!v&&f.position==="static"&&!!s&&M4.has(s.position)||Zu(c)&&!v&&FT(e,c))?i=i.filter(S=>S!==c):s=f,c=Ho(c)}return t.set(e,i),i}function P4(e){let{element:t,boundary:r,rootBoundary:i,strategy:s}=e;const c=[...r==="clippingAncestors"?zg(t)?[]:N4(t,this._c):[].concat(r),i],f=c[0],v=c.reduce((x,S)=>{const C=zS(t,S,s);return x.top=Fi(C.top,x.top),x.right=Uo(C.right,x.right),x.bottom=Uo(C.bottom,x.bottom),x.left=Fi(C.left,x.left),x},zS(t,f,s));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function O4(e){const{width:t,height:r}=$T(e);return{width:t,height:r}}function R4(e,t,r){const i=ds(t),s=us(t),a=r==="fixed",c=Ua(e,!0,a,t);let f={scrollLeft:0,scrollTop:0};const v=ls(0);function x(){v.x=Wg(s)}if(i||!i&&!a)if((Xc(t)!=="body"||Zu(s))&&(f=Fg(t)),i){const B=Ua(t,!0,a,t);v.x=B.x+t.clientLeft,v.y=B.y+t.clientTop}else s&&x();a&&!i&&s&&x();const S=s&&!i&&!a?zT(s,f):ls(0),C=c.left+f.scrollLeft-v.x-S.x,N=c.top+f.scrollTop-v.y-S.y;return{x:C,y:N,width:c.width,height:c.height}}function qx(e){return Bn(e).position==="static"}function FS(e,t){if(!ds(e)||Bn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return us(e)===r&&(r=r.ownerDocument.body),r}function WT(e,t){const r=Hi(e);if(zg(e))return r;if(!ds(e)){let s=Ho(e);for(;s&&!Pc(s);){if($n(s)&&!qx(s))return s;s=Ho(s)}return r}let i=FS(e,t);for(;i&&m4(i)&&qx(i);)i=FS(i,t);return i&&Pc(i)&&qx(i)&&!rw(i)?r:i||w4(e)||r}const L4=async function(e){const t=this.getOffsetParent||WT,r=this.getDimensions,i=await r(e.floating);return{reference:R4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function I4(e){return Bn(e).direction==="rtl"}const D4={convertOffsetParentRelativeRectToViewportRelativeRect:C4,getDocumentElement:us,getClippingRect:P4,getOffsetParent:WT,getElementRects:L4,getClientRects:E4,getDimensions:O4,getScale:wc,isElement:$n,isRTL:I4};function UT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $4(e,t){let r=null,i;const s=us(e);function a(){var f;clearTimeout(i),(f=r)==null||f.disconnect(),r=null}function c(f,v){f===void 0&&(f=!1),v===void 0&&(v=1),a();const x=e.getBoundingClientRect(),{left:S,top:C,width:N,height:B}=x;if(f||t(),!N||!B)return;const U=tp(C),D=tp(s.clientWidth-(S+N)),R=tp(s.clientHeight-(C+B)),I=tp(S),O={rootMargin:-U+"px "+-D+"px "+-R+"px "+-I+"px",threshold:Fi(0,Uo(1,v))||1};let q=!0;function ae(te){const le=te[0].intersectionRatio;if(le!==v){if(!q)return c();le?c(!1,le):i=setTimeout(()=>{c(!1,1e-7)},1e3)}le===1&&!UT(x,e.getBoundingClientRect())&&c(),q=!1}try{r=new IntersectionObserver(ae,{...O,root:s.ownerDocument})}catch{r=new IntersectionObserver(ae,O)}r.observe(e)}return c(!0),a}function B4(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:v=!1}=i,x=nw(e),S=s||a?[...x?Fu(x):[],...Fu(t)]:[];S.forEach(I=>{s&&I.addEventListener("scroll",r,{passive:!0}),a&&I.addEventListener("resize",r)});const C=x&&f?$4(x,r):null;let N=-1,B=null;c&&(B=new ResizeObserver(I=>{let[j]=I;j&&j.target===x&&B&&(B.unobserve(t),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var O;(O=B)==null||O.observe(t)})),r()}),x&&!v&&B.observe(x),B.observe(t));let U,D=v?Ua(e):null;v&&R();function R(){const I=Ua(e);D&&!UT(D,I)&&r(),D=I,U=requestAnimationFrame(R)}return r(),()=>{var I;S.forEach(j=>{s&&j.removeEventListener("scroll",r),a&&j.removeEventListener("resize",r)}),C==null||C(),(I=B)==null||I.disconnect(),B=null,v&&cancelAnimationFrame(U)}}const z4=d4,F4=u4,W4=a4,U4=f4,H4=l4,WS=o4,G4=h4,V4=(e,t,r)=>{const i=new Map,s={platform:D4,...r},a={...s.platform,_c:i};return s4(e,t,{...s,platform:a})};var X4=typeof document<"u",Y4=function(){},_p=X4?T.useLayoutEffect:Y4;function ng(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!ng(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){const a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!ng(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function HT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function US(e,t){const r=HT(e);return Math.round(t*r)/r}function Kx(e){const t=T.useRef(e);return _p(()=>{t.current=e}),t}function q4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:s,elements:{reference:a,floating:c}={},transform:f=!0,whileElementsMounted:v,open:x}=e,[S,C]=T.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[N,B]=T.useState(i);ng(N,i)||B(i);const[U,D]=T.useState(null),[R,I]=T.useState(null),j=T.useCallback(pe=>{pe!==te.current&&(te.current=pe,D(pe))},[]),O=T.useCallback(pe=>{pe!==le.current&&(le.current=pe,I(pe))},[]),q=a||U,ae=c||R,te=T.useRef(null),le=T.useRef(null),J=T.useRef(S),be=v!=null,ke=Kx(v),Ie=Kx(s),he=Kx(x),_e=T.useCallback(()=>{if(!te.current||!le.current)return;const pe={placement:t,strategy:r,middleware:N};Ie.current&&(pe.platform=Ie.current),V4(te.current,le.current,pe).then(Te=>{const $e={...Te,isPositioned:he.current!==!1};Oe.current&&!ng(J.current,$e)&&(J.current=$e,zc.flushSync(()=>{C($e)}))})},[N,t,r,Ie,he]);_p(()=>{x===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,C(pe=>({...pe,isPositioned:!1})))},[x]);const Oe=T.useRef(!1);_p(()=>(Oe.current=!0,()=>{Oe.current=!1}),[]),_p(()=>{if(q&&(te.current=q),ae&&(le.current=ae),q&&ae){if(ke.current)return ke.current(q,ae,_e);_e()}},[q,ae,_e,ke,be]);const Je=T.useMemo(()=>({reference:te,floating:le,setReference:j,setFloating:O}),[j,O]),ie=T.useMemo(()=>({reference:q,floating:ae}),[q,ae]),me=T.useMemo(()=>{const pe={position:r,left:0,top:0};if(!ie.floating)return pe;const Te=US(ie.floating,S.x),$e=US(ie.floating,S.y);return f?{...pe,transform:"translate("+Te+"px, "+$e+"px)",...HT(ie.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Te,top:$e}},[r,f,ie.floating,S.x,S.y]);return T.useMemo(()=>({...S,update:_e,refs:Je,elements:ie,floatingStyles:me}),[S,_e,Je,ie,me])}const K4=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:s}=typeof e=="function"?e(r):e;return i&&t(i)?i.current!=null?WS({element:i.current,padding:s}).fn(r):{}:i?WS({element:i,padding:s}).fn(r):{}}}},Z4=(e,t)=>({...z4(e),options:[e,t]}),Q4=(e,t)=>({...F4(e),options:[e,t]}),J4=(e,t)=>({...G4(e),options:[e,t]}),eB=(e,t)=>({...W4(e),options:[e,t]}),tB=(e,t)=>({...U4(e),options:[e,t]}),rB=(e,t)=>({...H4(e),options:[e,t]}),iB=(e,t)=>({...K4(e),options:[e,t]});var nB="Arrow",GT=T.forwardRef((e,t)=>{const{children:r,width:i=10,height:s=5,...a}=e;return h.jsx(yt.svg,{...a,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});GT.displayName=nB;var sB=GT;function oB(e){const[t,r]=T.useState(void 0);return Ir(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let c,f;if("borderBoxSize"in a){const v=a.borderBoxSize,x=Array.isArray(v)?v[0]:v;c=x.inlineSize,f=x.blockSize}else c=e.offsetWidth,f=e.offsetHeight;r({width:c,height:f})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else r(void 0)},[e]),t}var sw="Popper",[VT,Ug]=Zo(sw),[aB,XT]=VT(sw),YT=e=>{const{__scopePopper:t,children:r}=e,[i,s]=T.useState(null);return h.jsx(aB,{scope:t,anchor:i,onAnchorChange:s,children:r})};YT.displayName=sw;var qT="PopperAnchor",KT=T.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:i,...s}=e,a=XT(qT,r),c=T.useRef(null),f=ir(t,c),v=T.useRef(null);return T.useEffect(()=>{const x=v.current;v.current=(i==null?void 0:i.current)||c.current,x!==v.current&&a.onAnchorChange(v.current)}),i?null:h.jsx(yt.div,{...s,ref:f})});KT.displayName=qT;var ow="PopperContent",[lB,cB]=VT(ow),ZT=T.forwardRef((e,t)=>{var Pe,ot,ut,vt,ft,kt;const{__scopePopper:r,side:i="bottom",sideOffset:s=0,align:a="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:v=!0,collisionBoundary:x=[],collisionPadding:S=0,sticky:C="partial",hideWhenDetached:N=!1,updatePositionStrategy:B="optimized",onPlaced:U,...D}=e,R=XT(ow,r),[I,j]=T.useState(null),O=ir(t,Ze=>j(Ze)),[q,ae]=T.useState(null),te=oB(q),le=(te==null?void 0:te.width)??0,J=(te==null?void 0:te.height)??0,be=i+(a!=="center"?"-"+a:""),ke=typeof S=="number"?S:{top:0,right:0,bottom:0,left:0,...S},Ie=Array.isArray(x)?x:[x],he=Ie.length>0,_e={padding:ke,boundary:Ie.filter(uB),altBoundary:he},{refs:Oe,floatingStyles:Je,placement:ie,isPositioned:me,middlewareData:pe}=q4({strategy:"fixed",placement:be,whileElementsMounted:(...Ze)=>B4(...Ze,{animationFrame:B==="always"}),elements:{reference:R.anchor},middleware:[Z4({mainAxis:s+J,alignmentAxis:c}),v&&Q4({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?J4():void 0,..._e}),v&&eB({..._e}),tB({..._e,apply:({elements:Ze,rects:Dr,availableWidth:Ur,availableHeight:Yi})=>{const{width:ci,height:Hr}=Dr.reference,qi=Ze.floating.style;qi.setProperty("--radix-popper-available-width",`${Ur}px`),qi.setProperty("--radix-popper-available-height",`${Yi}px`),qi.setProperty("--radix-popper-anchor-width",`${ci}px`),qi.setProperty("--radix-popper-anchor-height",`${Hr}px`)}}),q&&iB({element:q,padding:f}),hB({arrowWidth:le,arrowHeight:J}),N&&rB({strategy:"referenceHidden",..._e})]}),[Te,$e]=e2(ie),Ye=Bs(U);Ir(()=>{me&&(Ye==null||Ye())},[me,Ye]);const Se=(Pe=pe.arrow)==null?void 0:Pe.x,Ve=(ot=pe.arrow)==null?void 0:ot.y,et=((ut=pe.arrow)==null?void 0:ut.centerOffset)!==0,[tt,Ee]=T.useState();return Ir(()=>{I&&Ee(window.getComputedStyle(I).zIndex)},[I]),h.jsx("div",{ref:Oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Je,transform:me?Je.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(vt=pe.transformOrigin)==null?void 0:vt.x,(ft=pe.transformOrigin)==null?void 0:ft.y].join(" "),...((kt=pe.hide)==null?void 0:kt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(lB,{scope:r,placedSide:Te,onArrowChange:ae,arrowX:Se,arrowY:Ve,shouldHideArrow:et,children:h.jsx(yt.div,{"data-side":Te,"data-align":$e,...D,ref:O,style:{...D.style,animation:me?void 0:"none"}})})})});ZT.displayName=ow;var QT="PopperArrow",dB={top:"bottom",right:"left",bottom:"top",left:"right"},JT=T.forwardRef(function(t,r){const{__scopePopper:i,...s}=t,a=cB(QT,i),c=dB[a.placedSide];return h.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:h.jsx(sB,{...s,ref:r,style:{...s.style,display:"block"}})})});JT.displayName=QT;function uB(e){return e!==null}var hB=e=>({name:"transformOrigin",options:e,fn(t){var R,I,j;const{placement:r,rects:i,middlewareData:s}=t,c=((R=s.arrow)==null?void 0:R.centerOffset)!==0,f=c?0:e.arrowWidth,v=c?0:e.arrowHeight,[x,S]=e2(r),C={start:"0%",center:"50%",end:"100%"}[S],N=(((I=s.arrow)==null?void 0:I.x)??0)+f/2,B=(((j=s.arrow)==null?void 0:j.y)??0)+v/2;let U="",D="";return x==="bottom"?(U=c?C:`${N}px`,D=`${-v}px`):x==="top"?(U=c?C:`${N}px`,D=`${i.floating.height+v}px`):x==="right"?(U=`${-v}px`,D=c?C:`${B}px`):x==="left"&&(U=`${i.floating.width+v}px`,D=c?C:`${B}px`),{data:{x:U,y:D}}}});function e2(e){const[t,r="center"]=e.split("-");return[t,r]}var t2=YT,aw=KT,r2=ZT,i2=JT,fB="Portal",Hg=T.forwardRef((e,t)=>{var f;const{container:r,...i}=e,[s,a]=T.useState(!1);Ir(()=>a(!0),[]);const c=r||s&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?PR.createPortal(h.jsx(yt.div,{...i,ref:t}),c):null});Hg.displayName=fB;var pB=W0[" useInsertionEffect ".trim().toString()]||Ir;function Oc({prop:e,defaultProp:t,onChange:r=()=>{},caller:i}){const[s,a,c]=gB({defaultProp:t,onChange:r}),f=e!==void 0,v=f?e:s;{const S=T.useRef(e!==void 0);T.useEffect(()=>{const C=S.current;C!==f&&console.warn(`${i} is changing from ${C?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),S.current=f},[f,i])}const x=T.useCallback(S=>{var C;if(f){const N=mB(S)?S(e):S;N!==e&&((C=c.current)==null||C.call(c,N))}else a(S)},[f,e,a,c]);return[v,x]}function gB({defaultProp:e,onChange:t}){const[r,i]=T.useState(e),s=T.useRef(r),a=T.useRef(t);return pB(()=>{a.current=t},[t]),T.useEffect(()=>{var c;s.current!==r&&((c=a.current)==null||c.call(a,r),s.current=r)},[r,s]),[r,i,a]}function mB(e){return typeof e=="function"}function vB(e){const t=T.useRef({value:e,previous:e});return T.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var n2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xB="VisuallyHidden",yB=T.forwardRef((e,t)=>h.jsx(yt.span,{...e,ref:t,style:{...n2,...e.style}}));yB.displayName=xB;var bB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wl=new WeakMap,rp=new WeakMap,ip={},Zx=0,s2=function(e){return e&&(e.host||s2(e.parentNode))},wB=function(e,t){return t.map(function(r){if(e.contains(r))return r;var i=s2(r);return i&&e.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},kB=function(e,t,r,i){var s=wB(t,Array.isArray(e)?e:[e]);ip[r]||(ip[r]=new WeakMap);var a=ip[r],c=[],f=new Set,v=new Set(s),x=function(C){!C||f.has(C)||(f.add(C),x(C.parentNode))};s.forEach(x);var S=function(C){!C||v.has(C)||Array.prototype.forEach.call(C.children,function(N){if(f.has(N))S(N);else try{var B=N.getAttribute(i),U=B!==null&&B!=="false",D=(Wl.get(N)||0)+1,R=(a.get(N)||0)+1;Wl.set(N,D),a.set(N,R),c.push(N),D===1&&U&&rp.set(N,!0),R===1&&N.setAttribute(r,"true"),U||N.setAttribute(i,"true")}catch(I){console.error("aria-hidden: cannot operate on ",N,I)}})};return S(t),f.clear(),Zx++,function(){c.forEach(function(C){var N=Wl.get(C)-1,B=a.get(C)-1;Wl.set(C,N),a.set(C,B),N||(rp.has(C)||C.removeAttribute(i),rp.delete(C)),B||C.removeAttribute(r)}),Zx--,Zx||(Wl=new WeakMap,Wl=new WeakMap,rp=new WeakMap,ip={})}},lw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=bB(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live], script"))),kB(i,s,r,"aria-hidden")):function(){return null}},ns=function(){return ns=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ns.apply(this,arguments)};function o2(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r}function SB(e,t,r){if(r||arguments.length===2)for(var i=0,s=t.length,a;i<s;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}var Cp="right-scroll-bar-position",Ep="width-before-scroll-bar",_B="with-scroll-bars-hidden",CB="--removed-body-scroll-bar-size";function Qx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EB(e,t){var r=T.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(i){var s=r.value;s!==i&&(r.value=i,r.callback(i,s))}}}})[0];return r.callback=t,r.facade}var TB=typeof window<"u"?T.useLayoutEffect:T.useEffect,HS=new WeakMap;function AB(e,t){var r=EB(null,function(i){return e.forEach(function(s){return Qx(s,i)})});return TB(function(){var i=HS.get(r);if(i){var s=new Set(i),a=new Set(e),c=r.current;s.forEach(function(f){a.has(f)||Qx(f,null)}),a.forEach(function(f){s.has(f)||Qx(f,c)})}HS.set(r,e)},[e]),r}function MB(e){return e}function jB(e,t){t===void 0&&(t=MB);var r=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,i);return r.push(c),function(){r=r.filter(function(f){return f!==c})}},assignSyncMedium:function(a){for(i=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(f){return a(f)},filter:function(){return r}}},assignMedium:function(a){i=!0;var c=[];if(r.length){var f=r;r=[],f.forEach(a),c=r}var v=function(){var S=c;c=[],S.forEach(a)},x=function(){return Promise.resolve().then(v)};x(),r={push:function(S){c.push(S),x()},filter:function(S){return c=c.filter(S),r}}}};return s}function NB(e){e===void 0&&(e={});var t=jB(null);return t.options=ns({async:!0,ssr:!1},e),t}var a2=function(e){var t=e.sideCar,r=o2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return T.createElement(i,ns({},r))};a2.isSideCarExport=!0;function PB(e,t){return e.useMedium(t),a2}var l2=NB(),Jx=function(){},Gg=T.forwardRef(function(e,t){var r=T.useRef(null),i=T.useState({onScrollCapture:Jx,onWheelCapture:Jx,onTouchMoveCapture:Jx}),s=i[0],a=i[1],c=e.forwardProps,f=e.children,v=e.className,x=e.removeScrollBar,S=e.enabled,C=e.shards,N=e.sideCar,B=e.noRelative,U=e.noIsolation,D=e.inert,R=e.allowPinchZoom,I=e.as,j=I===void 0?"div":I,O=e.gapMode,q=o2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ae=N,te=AB([r,t]),le=ns(ns({},q),s);return T.createElement(T.Fragment,null,S&&T.createElement(ae,{sideCar:l2,removeScrollBar:x,shards:C,noRelative:B,noIsolation:U,inert:D,setCallbacks:a,allowPinchZoom:!!R,lockRef:r,gapMode:O}),c?T.cloneElement(T.Children.only(f),ns(ns({},le),{ref:te})):T.createElement(j,ns({},le,{className:v,ref:te}),f))});Gg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gg.classNames={fullWidth:Ep,zeroRight:Cp};var OB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=OB();return t&&e.setAttribute("nonce",t),e}function LB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function IB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var DB=function(){var e=0,t=null;return{add:function(r){e==0&&(t=RB())&&(LB(t,r),IB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$B=function(){var e=DB();return function(t,r){T.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},c2=function(){var e=$B(),t=function(r){var i=r.styles,s=r.dynamic;return e(i,s),null};return t},BB={left:0,top:0,right:0,gap:0},ey=function(e){return parseInt(e||"",10)||0},zB=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ey(r),ey(i),ey(s)]},FB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return BB;var t=zB(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},WB=c2(),kc="data-scroll-locked",UB=function(e,t,r,i){var s=e.left,a=e.top,c=e.right,f=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(_B,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(kc,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cp,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Ep,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Cp," .").concat(Cp,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Ep," .").concat(Ep,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(kc,`] {
    `).concat(CB,": ").concat(f,`px;
  }
`)},GS=function(){var e=parseInt(document.body.getAttribute(kc)||"0",10);return isFinite(e)?e:0},HB=function(){T.useEffect(function(){return document.body.setAttribute(kc,(GS()+1).toString()),function(){var e=GS()-1;e<=0?document.body.removeAttribute(kc):document.body.setAttribute(kc,e.toString())}},[])},GB=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;HB();var a=T.useMemo(function(){return FB(s)},[s]);return T.createElement(WB,{styles:UB(a,!t,s,r?"":"!important")})},M0=!1;if(typeof window<"u")try{var np=Object.defineProperty({},"passive",{get:function(){return M0=!0,!0}});window.addEventListener("test",np,np),window.removeEventListener("test",np,np)}catch{M0=!1}var Ul=M0?{passive:!1}:!1,VB=function(e){return e.tagName==="TEXTAREA"},d2=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!VB(e)&&r[t]==="visible")},XB=function(e){return d2(e,"overflowY")},YB=function(e){return d2(e,"overflowX")},VS=function(e,t){var r=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=u2(e,i);if(s){var a=h2(e,i),c=a[1],f=a[2];if(c>f)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},qB=function(e){var t=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[t,r,i]},KB=function(e){var t=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[t,r,i]},u2=function(e,t){return e==="v"?XB(t):YB(t)},h2=function(e,t){return e==="v"?qB(t):KB(t)},ZB=function(e,t){return e==="h"&&t==="rtl"?-1:1},QB=function(e,t,r,i,s){var a=ZB(e,window.getComputedStyle(t).direction),c=a*i,f=r.target,v=t.contains(f),x=!1,S=c>0,C=0,N=0;do{if(!f)break;var B=h2(e,f),U=B[0],D=B[1],R=B[2],I=D-R-a*U;(U||I)&&u2(e,f)&&(C+=I,N+=U);var j=f.parentNode;f=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!v&&f!==document.body||v&&(t.contains(f)||t===f));return(S&&Math.abs(C)<1||!S&&Math.abs(N)<1)&&(x=!0),x},sp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},XS=function(e){return[e.deltaX,e.deltaY]},YS=function(e){return e&&"current"in e?e.current:e},JB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ez=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tz=0,Hl=[];function rz(e){var t=T.useRef([]),r=T.useRef([0,0]),i=T.useRef(),s=T.useState(tz++)[0],a=T.useState(c2)[0],c=T.useRef(e);T.useEffect(function(){c.current=e},[e]),T.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var D=SB([e.lockRef.current],(e.shards||[]).map(YS),!0).filter(Boolean);return D.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),D.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var f=T.useCallback(function(D,R){if("touches"in D&&D.touches.length===2||D.type==="wheel"&&D.ctrlKey)return!c.current.allowPinchZoom;var I=sp(D),j=r.current,O="deltaX"in D?D.deltaX:j[0]-I[0],q="deltaY"in D?D.deltaY:j[1]-I[1],ae,te=D.target,le=Math.abs(O)>Math.abs(q)?"h":"v";if("touches"in D&&le==="h"&&te.type==="range")return!1;var J=VS(le,te);if(!J)return!0;if(J?ae=le:(ae=le==="v"?"h":"v",J=VS(le,te)),!J)return!1;if(!i.current&&"changedTouches"in D&&(O||q)&&(i.current=ae),!ae)return!0;var be=i.current||ae;return QB(be,R,D,be==="h"?O:q)},[]),v=T.useCallback(function(D){var R=D;if(!(!Hl.length||Hl[Hl.length-1]!==a)){var I="deltaY"in R?XS(R):sp(R),j=t.current.filter(function(ae){return ae.name===R.type&&(ae.target===R.target||R.target===ae.shadowParent)&&JB(ae.delta,I)})[0];if(j&&j.should){R.cancelable&&R.preventDefault();return}if(!j){var O=(c.current.shards||[]).map(YS).filter(Boolean).filter(function(ae){return ae.contains(R.target)}),q=O.length>0?f(R,O[0]):!c.current.noIsolation;q&&R.cancelable&&R.preventDefault()}}},[]),x=T.useCallback(function(D,R,I,j){var O={name:D,delta:R,target:I,should:j,shadowParent:iz(I)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(q){return q!==O})},1)},[]),S=T.useCallback(function(D){r.current=sp(D),i.current=void 0},[]),C=T.useCallback(function(D){x(D.type,XS(D),D.target,f(D,e.lockRef.current))},[]),N=T.useCallback(function(D){x(D.type,sp(D),D.target,f(D,e.lockRef.current))},[]);T.useEffect(function(){return Hl.push(a),e.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:N}),document.addEventListener("wheel",v,Ul),document.addEventListener("touchmove",v,Ul),document.addEventListener("touchstart",S,Ul),function(){Hl=Hl.filter(function(D){return D!==a}),document.removeEventListener("wheel",v,Ul),document.removeEventListener("touchmove",v,Ul),document.removeEventListener("touchstart",S,Ul)}},[]);var B=e.removeScrollBar,U=e.inert;return T.createElement(T.Fragment,null,U?T.createElement(a,{styles:ez(s)}):null,B?T.createElement(GB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function iz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nz=PB(l2,rz);var Vg=T.forwardRef(function(e,t){return T.createElement(Gg,ns({},e,{ref:t,sideCar:nz}))});Vg.classNames=Gg.classNames;var sz=[" ","Enter","ArrowUp","ArrowDown"],oz=[" ","Enter"],Ha="Select",[Xg,Yg,az]=jT(Ha),[Yc]=Zo(Ha,[az,Ug]),qg=Ug(),[lz,Qo]=Yc(Ha),[cz,dz]=Yc(Ha),f2=e=>{const{__scopeSelect:t,children:r,open:i,defaultOpen:s,onOpenChange:a,value:c,defaultValue:f,onValueChange:v,dir:x,name:S,autoComplete:C,disabled:N,required:B,form:U}=e,D=qg(t),[R,I]=T.useState(null),[j,O]=T.useState(null),[q,ae]=T.useState(!1),te=Zb(x),[le,J]=Oc({prop:i,defaultProp:s??!1,onChange:a,caller:Ha}),[be,ke]=Oc({prop:c,defaultProp:f,onChange:v,caller:Ha}),Ie=T.useRef(null),he=R?U||!!R.closest("form"):!0,[_e,Oe]=T.useState(new Set),Je=Array.from(_e).map(ie=>ie.props.value).join(";");return h.jsx(t2,{...D,children:h.jsxs(lz,{required:B,scope:t,trigger:R,onTriggerChange:I,valueNode:j,onValueNodeChange:O,valueNodeHasChildren:q,onValueNodeHasChildrenChange:ae,contentId:vi(),value:be,onValueChange:ke,open:le,onOpenChange:J,dir:te,triggerPointerDownPosRef:Ie,disabled:N,children:[h.jsx(Xg.Provider,{scope:t,children:h.jsx(cz,{scope:e.__scopeSelect,onNativeOptionAdd:T.useCallback(ie=>{Oe(me=>new Set(me).add(ie))},[]),onNativeOptionRemove:T.useCallback(ie=>{Oe(me=>{const pe=new Set(me);return pe.delete(ie),pe})},[]),children:r})}),he?h.jsxs(D2,{"aria-hidden":!0,required:B,tabIndex:-1,name:S,autoComplete:C,value:be,onChange:ie=>ke(ie.target.value),disabled:N,form:U,children:[be===void 0?h.jsx("option",{value:""}):null,Array.from(_e)]},Je):null]})})};f2.displayName=Ha;var p2="SelectTrigger",g2=T.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:i=!1,...s}=e,a=qg(r),c=Qo(p2,r),f=c.disabled||i,v=ir(t,c.onTriggerChange),x=Yg(r),S=T.useRef("touch"),[C,N,B]=B2(D=>{const R=x().filter(O=>!O.disabled),I=R.find(O=>O.value===c.value),j=z2(R,D,I);j!==void 0&&c.onValueChange(j.value)}),U=D=>{f||(c.onOpenChange(!0),B()),D&&(c.triggerPointerDownPosRef.current={x:Math.round(D.pageX),y:Math.round(D.pageY)})};return h.jsx(aw,{asChild:!0,...a,children:h.jsx(yt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":$2(c.value)?"":void 0,...s,ref:v,onClick:Mt(s.onClick,D=>{D.currentTarget.focus(),S.current!=="mouse"&&U(D)}),onPointerDown:Mt(s.onPointerDown,D=>{S.current=D.pointerType;const R=D.target;R.hasPointerCapture(D.pointerId)&&R.releasePointerCapture(D.pointerId),D.button===0&&D.ctrlKey===!1&&D.pointerType==="mouse"&&(U(D),D.preventDefault())}),onKeyDown:Mt(s.onKeyDown,D=>{const R=C.current!=="";!(D.ctrlKey||D.altKey||D.metaKey)&&D.key.length===1&&N(D.key),!(R&&D.key===" ")&&sz.includes(D.key)&&(U(),D.preventDefault())})})})});g2.displayName=p2;var m2="SelectValue",v2=T.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:s,children:a,placeholder:c="",...f}=e,v=Qo(m2,r),{onValueNodeHasChildrenChange:x}=v,S=a!==void 0,C=ir(t,v.onValueNodeChange);return Ir(()=>{x(S)},[x,S]),h.jsx(yt.span,{...f,ref:C,style:{pointerEvents:"none"},children:$2(v.value)?h.jsx(h.Fragment,{children:c}):a})});v2.displayName=m2;var uz="SelectIcon",x2=T.forwardRef((e,t)=>{const{__scopeSelect:r,children:i,...s}=e;return h.jsx(yt.span,{"aria-hidden":!0,...s,ref:t,children:i||""})});x2.displayName=uz;var hz="SelectPortal",y2=e=>h.jsx(Hg,{asChild:!0,...e});y2.displayName=hz;var Ga="SelectContent",b2=T.forwardRef((e,t)=>{const r=Qo(Ga,e.__scopeSelect),[i,s]=T.useState();if(Ir(()=>{s(new DocumentFragment)},[]),!r.open){const a=i;return a?zc.createPortal(h.jsx(w2,{scope:e.__scopeSelect,children:h.jsx(Xg.Slot,{scope:e.__scopeSelect,children:h.jsx("div",{children:e.children})})}),a):null}return h.jsx(k2,{...e,ref:t})});b2.displayName=Ga;var Mn=10,[w2,Jo]=Yc(Ga),fz="SelectContentImpl",pz=Wa("SelectContent.RemoveScroll"),k2=T.forwardRef((e,t)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:c,side:f,sideOffset:v,align:x,alignOffset:S,arrowPadding:C,collisionBoundary:N,collisionPadding:B,sticky:U,hideWhenDetached:D,avoidCollisions:R,...I}=e,j=Qo(Ga,r),[O,q]=T.useState(null),[ae,te]=T.useState(null),le=ir(t,Pe=>q(Pe)),[J,be]=T.useState(null),[ke,Ie]=T.useState(null),he=Yg(r),[_e,Oe]=T.useState(!1),Je=T.useRef(!1);T.useEffect(()=>{if(O)return lw(O)},[O]),Qb();const ie=T.useCallback(Pe=>{const[ot,...ut]=he().map(kt=>kt.ref.current),[vt]=ut.slice(-1),ft=document.activeElement;for(const kt of Pe)if(kt===ft||(kt==null||kt.scrollIntoView({block:"nearest"}),kt===ot&&ae&&(ae.scrollTop=0),kt===vt&&ae&&(ae.scrollTop=ae.scrollHeight),kt==null||kt.focus(),document.activeElement!==ft))return},[he,ae]),me=T.useCallback(()=>ie([J,O]),[ie,J,O]);T.useEffect(()=>{_e&&me()},[_e,me]);const{onOpenChange:pe,triggerPointerDownPosRef:Te}=j;T.useEffect(()=>{if(O){let Pe={x:0,y:0};const ot=vt=>{var ft,kt;Pe={x:Math.abs(Math.round(vt.pageX)-(((ft=Te.current)==null?void 0:ft.x)??0)),y:Math.abs(Math.round(vt.pageY)-(((kt=Te.current)==null?void 0:kt.y)??0))}},ut=vt=>{Pe.x<=10&&Pe.y<=10?vt.preventDefault():O.contains(vt.target)||pe(!1),document.removeEventListener("pointermove",ot),Te.current=null};return Te.current!==null&&(document.addEventListener("pointermove",ot),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ot),document.removeEventListener("pointerup",ut,{capture:!0})}}},[O,pe,Te]),T.useEffect(()=>{const Pe=()=>pe(!1);return window.addEventListener("blur",Pe),window.addEventListener("resize",Pe),()=>{window.removeEventListener("blur",Pe),window.removeEventListener("resize",Pe)}},[pe]);const[$e,Ye]=B2(Pe=>{const ot=he().filter(ft=>!ft.disabled),ut=ot.find(ft=>ft.ref.current===document.activeElement),vt=z2(ot,Pe,ut);vt&&setTimeout(()=>vt.ref.current.focus())}),Se=T.useCallback((Pe,ot,ut)=>{const vt=!Je.current&&!ut;(j.value!==void 0&&j.value===ot||vt)&&(be(Pe),vt&&(Je.current=!0))},[j.value]),Ve=T.useCallback(()=>O==null?void 0:O.focus(),[O]),et=T.useCallback((Pe,ot,ut)=>{const vt=!Je.current&&!ut;(j.value!==void 0&&j.value===ot||vt)&&Ie(Pe)},[j.value]),tt=i==="popper"?j0:S2,Ee=tt===j0?{side:f,sideOffset:v,align:x,alignOffset:S,arrowPadding:C,collisionBoundary:N,collisionPadding:B,sticky:U,hideWhenDetached:D,avoidCollisions:R}:{};return h.jsx(w2,{scope:r,content:O,viewport:ae,onViewportChange:te,itemRefCallback:Se,selectedItem:J,onItemLeave:Ve,itemTextRefCallback:et,focusSelectedItem:me,selectedItemText:ke,position:i,isPositioned:_e,searchRef:$e,children:h.jsx(Vg,{as:pz,allowPinchZoom:!0,children:h.jsx($g,{asChild:!0,trapped:j.open,onMountAutoFocus:Pe=>{Pe.preventDefault()},onUnmountAutoFocus:Mt(s,Pe=>{var ot;(ot=j.trigger)==null||ot.focus({preventScroll:!0}),Pe.preventDefault()}),children:h.jsx(Dg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:Pe=>Pe.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:h.jsx(tt,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:Pe=>Pe.preventDefault(),...I,...Ee,onPlaced:()=>Oe(!0),ref:le,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:Mt(I.onKeyDown,Pe=>{const ot=Pe.ctrlKey||Pe.altKey||Pe.metaKey;if(Pe.key==="Tab"&&Pe.preventDefault(),!ot&&Pe.key.length===1&&Ye(Pe.key),["ArrowUp","ArrowDown","Home","End"].includes(Pe.key)){let vt=he().filter(ft=>!ft.disabled).map(ft=>ft.ref.current);if(["ArrowUp","End"].includes(Pe.key)&&(vt=vt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Pe.key)){const ft=Pe.target,kt=vt.indexOf(ft);vt=vt.slice(kt+1)}setTimeout(()=>ie(vt)),Pe.preventDefault()}})})})})})})});k2.displayName=fz;var gz="SelectItemAlignedPosition",S2=T.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:i,...s}=e,a=Qo(Ga,r),c=Jo(Ga,r),[f,v]=T.useState(null),[x,S]=T.useState(null),C=ir(t,le=>S(le)),N=Yg(r),B=T.useRef(!1),U=T.useRef(!0),{viewport:D,selectedItem:R,selectedItemText:I,focusSelectedItem:j}=c,O=T.useCallback(()=>{if(a.trigger&&a.valueNode&&f&&x&&D&&R&&I){const le=a.trigger.getBoundingClientRect(),J=x.getBoundingClientRect(),be=a.valueNode.getBoundingClientRect(),ke=I.getBoundingClientRect();if(a.dir!=="rtl"){const ft=ke.left-J.left,kt=be.left-ft,Ze=le.left-kt,Dr=le.width+Ze,Ur=Math.max(Dr,J.width),Yi=window.innerWidth-Mn,ci=CS(kt,[Mn,Math.max(Mn,Yi-Ur)]);f.style.minWidth=Dr+"px",f.style.left=ci+"px"}else{const ft=J.right-ke.right,kt=window.innerWidth-be.right-ft,Ze=window.innerWidth-le.right-kt,Dr=le.width+Ze,Ur=Math.max(Dr,J.width),Yi=window.innerWidth-Mn,ci=CS(kt,[Mn,Math.max(Mn,Yi-Ur)]);f.style.minWidth=Dr+"px",f.style.right=ci+"px"}const Ie=N(),he=window.innerHeight-Mn*2,_e=D.scrollHeight,Oe=window.getComputedStyle(x),Je=parseInt(Oe.borderTopWidth,10),ie=parseInt(Oe.paddingTop,10),me=parseInt(Oe.borderBottomWidth,10),pe=parseInt(Oe.paddingBottom,10),Te=Je+ie+_e+pe+me,$e=Math.min(R.offsetHeight*5,Te),Ye=window.getComputedStyle(D),Se=parseInt(Ye.paddingTop,10),Ve=parseInt(Ye.paddingBottom,10),et=le.top+le.height/2-Mn,tt=he-et,Ee=R.offsetHeight/2,Pe=R.offsetTop+Ee,ot=Je+ie+Pe,ut=Te-ot;if(ot<=et){const ft=Ie.length>0&&R===Ie[Ie.length-1].ref.current;f.style.bottom="0px";const kt=x.clientHeight-D.offsetTop-D.offsetHeight,Ze=Math.max(tt,Ee+(ft?Ve:0)+kt+me),Dr=ot+Ze;f.style.height=Dr+"px"}else{const ft=Ie.length>0&&R===Ie[0].ref.current;f.style.top="0px";const Ze=Math.max(et,Je+D.offsetTop+(ft?Se:0)+Ee)+ut;f.style.height=Ze+"px",D.scrollTop=ot-et+D.offsetTop}f.style.margin=`${Mn}px 0`,f.style.minHeight=$e+"px",f.style.maxHeight=he+"px",i==null||i(),requestAnimationFrame(()=>B.current=!0)}},[N,a.trigger,a.valueNode,f,x,D,R,I,a.dir,i]);Ir(()=>O(),[O]);const[q,ae]=T.useState();Ir(()=>{x&&ae(window.getComputedStyle(x).zIndex)},[x]);const te=T.useCallback(le=>{le&&U.current===!0&&(O(),j==null||j(),U.current=!1)},[O,j]);return h.jsx(vz,{scope:r,contentWrapper:f,shouldExpandOnScrollRef:B,onScrollButtonChange:te,children:h.jsx("div",{ref:v,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:h.jsx(yt.div,{...s,ref:C,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});S2.displayName=gz;var mz="SelectPopperPosition",j0=T.forwardRef((e,t)=>{const{__scopeSelect:r,align:i="start",collisionPadding:s=Mn,...a}=e,c=qg(r);return h.jsx(r2,{...c,...a,ref:t,align:i,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});j0.displayName=mz;var[vz,cw]=Yc(Ga,{}),N0="SelectViewport",_2=T.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:i,...s}=e,a=Jo(N0,r),c=cw(N0,r),f=ir(t,a.onViewportChange),v=T.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),h.jsx(Xg.Slot,{scope:r,children:h.jsx(yt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Mt(s.onScroll,x=>{const S=x.currentTarget,{contentWrapper:C,shouldExpandOnScrollRef:N}=c;if(N!=null&&N.current&&C){const B=Math.abs(v.current-S.scrollTop);if(B>0){const U=window.innerHeight-Mn*2,D=parseFloat(C.style.minHeight),R=parseFloat(C.style.height),I=Math.max(D,R);if(I<U){const j=I+B,O=Math.min(U,j),q=j-O;C.style.height=O+"px",C.style.bottom==="0px"&&(S.scrollTop=q>0?q:0,C.style.justifyContent="flex-end")}}}v.current=S.scrollTop})})})]})});_2.displayName=N0;var C2="SelectGroup",[xz,yz]=Yc(C2),bz=T.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,s=vi();return h.jsx(xz,{scope:r,id:s,children:h.jsx(yt.div,{role:"group","aria-labelledby":s,...i,ref:t})})});bz.displayName=C2;var E2="SelectLabel",T2=T.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,s=yz(E2,r);return h.jsx(yt.div,{id:s.id,...i,ref:t})});T2.displayName=E2;var sg="SelectItem",[wz,A2]=Yc(sg),M2=T.forwardRef((e,t)=>{const{__scopeSelect:r,value:i,disabled:s=!1,textValue:a,...c}=e,f=Qo(sg,r),v=Jo(sg,r),x=f.value===i,[S,C]=T.useState(a??""),[N,B]=T.useState(!1),U=ir(t,j=>{var O;return(O=v.itemRefCallback)==null?void 0:O.call(v,j,i,s)}),D=vi(),R=T.useRef("touch"),I=()=>{s||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(wz,{scope:r,value:i,disabled:s,textId:D,isSelected:x,onItemTextChange:T.useCallback(j=>{C(O=>O||((j==null?void 0:j.textContent)??"").trim())},[]),children:h.jsx(Xg.ItemSlot,{scope:r,value:i,disabled:s,textValue:S,children:h.jsx(yt.div,{role:"option","aria-labelledby":D,"data-highlighted":N?"":void 0,"aria-selected":x&&N,"data-state":x?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:U,onFocus:Mt(c.onFocus,()=>B(!0)),onBlur:Mt(c.onBlur,()=>B(!1)),onClick:Mt(c.onClick,()=>{R.current!=="mouse"&&I()}),onPointerUp:Mt(c.onPointerUp,()=>{R.current==="mouse"&&I()}),onPointerDown:Mt(c.onPointerDown,j=>{R.current=j.pointerType}),onPointerMove:Mt(c.onPointerMove,j=>{var O;R.current=j.pointerType,s?(O=v.onItemLeave)==null||O.call(v):R.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Mt(c.onPointerLeave,j=>{var O;j.currentTarget===document.activeElement&&((O=v.onItemLeave)==null||O.call(v))}),onKeyDown:Mt(c.onKeyDown,j=>{var q;((q=v.searchRef)==null?void 0:q.current)!==""&&j.key===" "||(oz.includes(j.key)&&I(),j.key===" "&&j.preventDefault())})})})})});M2.displayName=sg;var au="SelectItemText",j2=T.forwardRef((e,t)=>{const{__scopeSelect:r,className:i,style:s,...a}=e,c=Qo(au,r),f=Jo(au,r),v=A2(au,r),x=dz(au,r),[S,C]=T.useState(null),N=ir(t,I=>C(I),v.onItemTextChange,I=>{var j;return(j=f.itemTextRefCallback)==null?void 0:j.call(f,I,v.value,v.disabled)}),B=S==null?void 0:S.textContent,U=T.useMemo(()=>h.jsx("option",{value:v.value,disabled:v.disabled,children:B},v.value),[v.disabled,v.value,B]),{onNativeOptionAdd:D,onNativeOptionRemove:R}=x;return Ir(()=>(D(U),()=>R(U)),[D,R,U]),h.jsxs(h.Fragment,{children:[h.jsx(yt.span,{id:v.textId,...a,ref:N}),v.isSelected&&c.valueNode&&!c.valueNodeHasChildren?zc.createPortal(a.children,c.valueNode):null]})});j2.displayName=au;var N2="SelectItemIndicator",P2=T.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return A2(N2,r).isSelected?h.jsx(yt.span,{"aria-hidden":!0,...i,ref:t}):null});P2.displayName=N2;var P0="SelectScrollUpButton",O2=T.forwardRef((e,t)=>{const r=Jo(P0,e.__scopeSelect),i=cw(P0,e.__scopeSelect),[s,a]=T.useState(!1),c=ir(t,i.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let f=function(){const x=v.scrollTop>0;a(x)};const v=r.viewport;return f(),v.addEventListener("scroll",f),()=>v.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),s?h.jsx(L2,{...e,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:v}=r;f&&v&&(f.scrollTop=f.scrollTop-v.offsetHeight)}}):null});O2.displayName=P0;var O0="SelectScrollDownButton",R2=T.forwardRef((e,t)=>{const r=Jo(O0,e.__scopeSelect),i=cw(O0,e.__scopeSelect),[s,a]=T.useState(!1),c=ir(t,i.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let f=function(){const x=v.scrollHeight-v.clientHeight,S=Math.ceil(v.scrollTop)<x;a(S)};const v=r.viewport;return f(),v.addEventListener("scroll",f),()=>v.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),s?h.jsx(L2,{...e,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:v}=r;f&&v&&(f.scrollTop=f.scrollTop+v.offsetHeight)}}):null});R2.displayName=O0;var L2=T.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:i,...s}=e,a=Jo("SelectScrollButton",r),c=T.useRef(null),f=Yg(r),v=T.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return T.useEffect(()=>()=>v(),[v]),Ir(()=>{var S;const x=f().find(C=>C.ref.current===document.activeElement);(S=x==null?void 0:x.ref.current)==null||S.scrollIntoView({block:"nearest"})},[f]),h.jsx(yt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Mt(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:Mt(s.onPointerMove,()=>{var x;(x=a.onItemLeave)==null||x.call(a),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:Mt(s.onPointerLeave,()=>{v()})})}),kz="SelectSeparator",I2=T.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e;return h.jsx(yt.div,{"aria-hidden":!0,...i,ref:t})});I2.displayName=kz;var R0="SelectArrow",Sz=T.forwardRef((e,t)=>{const{__scopeSelect:r,...i}=e,s=qg(r),a=Qo(R0,r),c=Jo(R0,r);return a.open&&c.position==="popper"?h.jsx(i2,{...s,...i,ref:t}):null});Sz.displayName=R0;var _z="SelectBubbleInput",D2=T.forwardRef(({__scopeSelect:e,value:t,...r},i)=>{const s=T.useRef(null),a=ir(i,s),c=vB(t);return T.useEffect(()=>{const f=s.current;if(!f)return;const v=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(v,"value").set;if(c!==t&&S){const C=new Event("change",{bubbles:!0});S.call(f,t),f.dispatchEvent(C)}},[c,t]),h.jsx(yt.select,{...r,style:{...n2,...r.style},ref:a,defaultValue:t})});D2.displayName=_z;function $2(e){return e===""||e===void 0}function B2(e){const t=Bs(e),r=T.useRef(""),i=T.useRef(0),s=T.useCallback(c=>{const f=r.current+c;t(f),function v(x){r.current=x,window.clearTimeout(i.current),x!==""&&(i.current=window.setTimeout(()=>v(""),1e3))}(f)},[t]),a=T.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,s,a]}function z2(e,t,r){const s=t.length>1&&Array.from(t).every(x=>x===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let c=Cz(e,Math.max(a,0));s.length===1&&(c=c.filter(x=>x!==r));const v=c.find(x=>x.textValue.toLowerCase().startsWith(s.toLowerCase()));return v!==r?v:void 0}function Cz(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var Ez=f2,F2=g2,Tz=v2,Az=x2,Mz=y2,W2=b2,jz=_2,U2=T2,H2=M2,Nz=j2,Pz=P2,G2=O2,V2=R2,X2=I2;const Kg=Ez,Zg=Tz,Qu=T.forwardRef(({className:e,children:t,...r},i)=>h.jsxs(F2,{ref:i,className:gt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,h.jsx(Az,{asChild:!0,children:h.jsx(CT,{className:"h-4 w-4 opacity-50"})})]}));Qu.displayName=F2.displayName;const Y2=T.forwardRef(({className:e,...t},r)=>h.jsx(G2,{ref:r,className:gt("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(e$,{className:"h-4 w-4"})}));Y2.displayName=G2.displayName;const q2=T.forwardRef(({className:e,...t},r)=>h.jsx(V2,{ref:r,className:gt("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(CT,{className:"h-4 w-4"})}));q2.displayName=V2.displayName;const Ju=T.forwardRef(({className:e,children:t,position:r="popper",...i},s)=>h.jsx(Mz,{children:h.jsxs(W2,{ref:s,className:gt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...i,children:[h.jsx(Y2,{}),h.jsx(jz,{className:gt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),h.jsx(q2,{})]})}));Ju.displayName=W2.displayName;const Oz=T.forwardRef(({className:e,...t},r)=>h.jsx(U2,{ref:r,className:gt("px-2 py-1.5 text-sm font-semibold",e),...t}));Oz.displayName=U2.displayName;const Os=T.forwardRef(({className:e,children:t,...r},i)=>h.jsxs(H2,{ref:i,className:gt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[h.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Pz,{children:h.jsx(_T,{className:"h-4 w-4"})})}),h.jsx(Nz,{children:t})]}));Os.displayName=H2.displayName;const Rz=T.forwardRef(({className:e,...t},r)=>h.jsx(X2,{ref:r,className:gt("-mx-1 my-1 h-px bg-muted",e),...t}));Rz.displayName=X2.displayName;async function Lz(){try{const{data:e,error:t}=await Ge.from("seasons").select("*").eq("status","active").single();if(t&&t.code!=="PGRST116")throw t;return e||null}catch(e){return console.error("Failed to fetch active season:",e),null}}async function qc(){try{const{data:e,error:t}=await Ge.from("seasons").select("*").order("id",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Failed to fetch seasons:",e),[]}}async function Iz(e="Active Season",t){try{t==null||t("Fetching current active season...");const{data:r,error:i}=await Ge.from("seasons").select("*").eq("status","active").single();if(i)throw i;if(!r)throw new Error("Active season not found");console.log(` Current season: ${r.name}`),t==null||t("Fetching active players...");const{data:s,error:a}=await Ge.from("players").select("*").not("rating","is",null);if(a)throw a;console.log(` Found ${(s==null?void 0:s.length)||0} active players`),t==null||t("Counting matches...");const{data:c,error:f}=await Ge.from("matches").select("id").eq("season_id",0);if(f)throw f;console.log(` Found ${(c==null?void 0:c.length)||0} matches in season`),t==null||t("Determining new season ID...");const{data:v,error:x}=await Ge.from("seasons").select("id").gt("id",0).order("id",{ascending:!1}).limit(1).single();if(x&&x.code!=="PGRST116")throw x;const S=((v==null?void 0:v.id)||0)+1;if(console.log(` Next season ID: ${S}`),t==null||t("Creating player snapshots..."),s&&s.length>0){const I=s.sort((O,q)=>q.rating-O.rating).map((O,q)=>({season_id:S,player_id:O.id,final_rating:O.rating,final_rd:O.rd,final_volatility:O.volatility,matches_played_count:O.matches_played||0,peak_rating:O.peak_rating,peak_rating_date:O.peak_rating_date,final_rank:q+1})),{error:j}=await Ge.from("season_player_snapshots").insert(I);if(j)throw j;console.log(` Created ${I.length} snapshots`)}t==null||t("Archiving old season...");const{error:C}=await Ge.from("seasons").delete().eq("status","active");if(C)throw C;const{error:N}=await Ge.from("seasons").insert({id:S,name:r.name,status:"archived",start_date:r.start_date,end_date:new Date().toISOString(),description:r.description});if(N)throw N;console.log(` Season ${S} archived`),t==null||t("Updating matches...");const{error:B}=await Ge.from("matches").update({season_id:S}).eq("season_id",0);if(B)throw B;t==null||t("Updating rating events...");const{error:U}=await Ge.from("rating_events").update({season_id:S}).eq("season_id",0);if(U)throw U;console.log(" Updated matches and events"),t==null||t("Creating new active season...");const{error:D}=await Ge.from("seasons").insert({id:0,name:e,status:"active",start_date:new Date().toISOString(),description:"Current active season - use id=0 to reference this"});if(D)throw D;console.log(" New active season created (id = 0)"),t==null||t("Resetting player ratings...");const{error:R}=await Ge.from("players").update({rating:null,rd:null,volatility:null}).neq("id",0);if(R)throw R;return console.log(" All player ratings reset"),t==null||t("Season transition complete!"),{success:!0,newSeasonId:S}}catch(r){const i=r instanceof Error?r.message:String(r);return console.error(" Failed to archive season:",r),{success:!1,error:i}}}async function Dz(e){try{const{data:t,error:r}=await Ge.from("season_player_snapshots").select("*, player:players(id, name)").eq("season_id",e).order("final_rank");if(r)throw r;return t||[]}catch(t){return console.error(`Failed to fetch season ${e} leaderboard:`,t),[]}}async function $z(e,t){try{if(t==null||t("Starting season activation..."),e<=0)throw new Error("Cannot activate the current active season or invalid season ID");t==null||t("Fetching target season...");const{data:r,error:i}=await Ge.from("seasons").select("*").eq("id",e).single();if(i||!r)throw new Error("Target season not found");if(r.status==="active")throw new Error("Season is already active");console.log(` Activating season: ${r.name}`),t==null||t("Fetching current active season...");const{data:s,error:a}=await Ge.from("seasons").select("*").eq("status","active").single();if(a||!s)throw new Error("Current active season not found");console.log(` Current active season: ${s.name}`),t==null||t("Determining new IDs...");const{data:c}=await Ge.from("seasons").select("id").gt("id",0).order("id",{ascending:!1}).limit(1).single(),f=((c==null?void 0:c.id)||0)+1;console.log(` Current active season will get ID: ${f}`),t==null||t("Archiving current active season...");const{error:v}=await Ge.from("seasons").update({id:f,status:"archived",end_date:new Date().toISOString()}).eq("status","active");if(v)throw v;console.log(` Current active season archived with ID ${f}`),t==null||t("Updating current season matches...");const{error:x}=await Ge.from("matches").update({season_id:f}).eq("season_id",0);if(x)throw x;t==null||t("Updating current season rating events...");const{error:S}=await Ge.from("rating_events").update({season_id:f}).eq("season_id",0);if(S)throw S;console.log(" Matches and events updated"),t==null||t("Restoring player ratings from season snapshots...");const{data:C,error:N}=await Ge.from("season_player_snapshots").select("*").eq("season_id",e);if(N)throw N;if(C&&C.length>0){for(const R of C){const{error:I}=await Ge.from("players").update({rating:R.final_rating,rd:R.final_rd,volatility:R.final_volatility}).eq("id",R.player_id);I&&console.warn(` Failed to update player ${R.player_id}:`,I)}console.log(` Restored ratings for ${C.length} players`)}t==null||t("Converting target season to active...");const{error:B}=await Ge.from("seasons").update({id:0,status:"active",end_date:null}).eq("id",e);if(B)throw B;console.log(" Target season is now active"),t==null||t("Updating target season matches...");const{error:U}=await Ge.from("matches").update({season_id:0}).eq("season_id",e);if(U)throw U;t==null||t("Updating target season rating events...");const{error:D}=await Ge.from("rating_events").update({season_id:0}).eq("season_id",e);if(D)throw D;return console.log(" All matches and events restored for active season"),t==null||t("Season activation complete!"),{success:!0}}catch(r){const i=r instanceof Error?r.message:String(r);return console.error(" Failed to activate season:",r),{success:!1,error:i}}}const Qd=25;function qS(e,t=0){return e.toLocaleString(void 0,{maximumFractionDigits:t,minimumFractionDigits:t})}function Bz(){gn("Leaderboard");const{players:e,matches:t,loading:r,error:i}=Lg(),[s,a]=PE(),[c,f]=T.useState([]),[v,x]=T.useState(null),[S,C]=T.useState([]),[N,B]=T.useState(!1);T.useEffect(()=>{(async()=>{const ie=await qc();f(ie);const me=ie.find(pe=>pe.status==="active");me&&x(me.id)})()},[]),T.useEffect(()=>{const ie=c.find(pe=>pe.status==="active"),me=ie&&v===ie.id;!v||me||(async()=>{B(!0);const pe=await Dz(v);C(pe),B(!1)})()},[v,c]);const[U,D]=T.useState(()=>{const ie=s.get("page");return ie?parseInt(ie,10):1}),[R,I]=T.useState(()=>s.get("search")||""),[j,O]=T.useState(()=>{const ie=s.get("sort");return ie&&["rating","rd","matches","name"].includes(ie)?ie:"rating"}),[q,ae]=T.useState(()=>{const ie=s.get("dir");return ie==="asc"||ie==="desc"?ie:"desc"});T.useEffect(()=>{const ie=new URLSearchParams;U!==1&&ie.set("page",U.toString()),R&&ie.set("search",R),j!=="rating"&&ie.set("sort",j),q!=="desc"&&ie.set("dir",q);const me=ie.toString(),pe=s.toString();me!==pe&&a(ie)},[U,R,j,q,a,s]);const te=T.useMemo(()=>{const ie=c.find(pe=>pe.status==="active"),me=ie&&v===ie.id;return v===null?{players:e.filter(pe=>pe.rating!==null&&pe.rd!==null&&pe.volatility!==null),isArchived:!1,isAllSeasons:!0}:me?{players:e.filter(pe=>pe.has_played_this_season&&pe.rating!==null&&pe.rd!==null&&pe.volatility!==null),isArchived:!1,isAllSeasons:!1}:{players:S.map(pe=>{var Te;return{id:pe.player_id,name:((Te=pe.player)==null?void 0:Te.name)||`Player ${pe.player_id}`,rating:pe.final_rating,rd:pe.final_rd,volatility:pe.final_volatility,matches_played:pe.matches_played_count,peak_rating:pe.peak_rating,peak_rating_date:pe.peak_rating_date}}),isArchived:!0,isAllSeasons:!1}},[v,c,e,S,t]),{rankedPlayers:le,playerMatchCounts:J,playerRankings:be}=T.useMemo(()=>{const ie=te.players,me=new Map;if(!te.isArchived&&t)for(const Te of t)me.set(Te.player1_id,(me.get(Te.player1_id)??0)+1),me.set(Te.player2_id,(me.get(Te.player2_id)??0)+1);else if(te.isArchived)for(const Te of ie)me.set(Te.id,Te.matches_played||0);const pe=new Map;return ie.forEach((Te,$e)=>{pe.set(Te.id,$e+1)}),{rankedPlayers:ie,playerMatchCounts:me,playerRankings:pe}},[te,t]),ke=T.useMemo(()=>{let ie=le.filter(me=>me.rating!==null&&me.rd!==null&&me.volatility!==null);if(R.trim()){const me=R.trim().toLowerCase();ie=ie.filter(pe=>pe.name.toLowerCase().includes(me))}return ie},[le,R]),Ie=T.useMemo(()=>{const ie=[...ke];return ie.sort((me,pe)=>{const Te=J.get(me.id)??0,$e=J.get(pe.id)??0;let Ye=0;switch(j){case"rating":Ye=(me.rating??0)-(pe.rating??0);break;case"rd":Ye=(me.rd??0)-(pe.rd??0);break;case"matches":Ye=Te-$e;break;case"name":Ye=me.name.localeCompare(pe.name);break}return q==="asc"?Ye:-Ye}),ie},[ke,j,q,J]),he=ie=>{j===ie?ae(me=>me==="asc"?"desc":"asc"):(O(ie),ae(ie==="name"?"asc":"desc")),D(1)},_e=Math.ceil(Ie.length/Qd),Oe=T.useMemo(()=>{const ie=(U-1)*Qd,me=ie+Qd;return Ie.slice(ie,me)},[Ie,U]),Je=ie=>{const me=Oe[ie];return me?be.get(me.id)??0:0};return U>_e&&_e>0&&D(1),h.jsxs("section",{className:"space-y-8",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-primary/30 pb-4",children:[h.jsx("h1",{className:"text-4xl font-heading font-bold text-primary drop-shadow-[0_0_10px_rgba(234,179,8,0.3)] uppercase tracking-widest",children:"Leaderboard"}),h.jsx("div",{className:"h-1 w-24 bg-primary/50 rounded-full"})]}),r&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),i&&h.jsxs("div",{className:"text-destructive text-center py-8 font-heading",children:["Error loading data: ",i]}),!r&&!i&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 bg-card/50 p-4 rounded-lg border border-border/30 backdrop-blur-sm",children:[h.jsx("div",{className:"w-full md:w-auto flex-1",children:h.jsxs(Kg,{value:v===null?"all":v.toString(),onValueChange:ie=>x(ie==="all"?null:parseInt(ie,10)),children:[h.jsx(Qu,{className:"w-full bg-background/50 border-primary/30 focus:ring-primary/50",children:h.jsx(Zg,{placeholder:"Select a season"})}),h.jsxs(Ju,{children:[h.jsx(Os,{value:"all",children:"All seasons"}),c.filter(ie=>ie.status==="active").map(ie=>h.jsx(Os,{value:ie.id.toString(),children:ie.name},ie.id)),c.filter(ie=>ie.status==="archived").sort((ie,me)=>ie.id-me.id).map(ie=>h.jsxs(Os,{value:ie.id.toString(),children:[ie.name," (Archived)"]},ie.id))]})]})}),h.jsx("div",{className:"w-full md:w-auto flex-1",children:h.jsx(Qr,{placeholder:"Search warrior",value:R,onChange:ie=>{D(1),I(ie.target.value)},className:"w-full bg-background/50 border-primary/30 focus:ring-primary/50"})})]}),N&&h.jsx("p",{className:"text-muted-foreground text-center italic",children:"Loading season data..."}),h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(Kr,{className:"border-b border-border/30 bg-muted/20",children:h.jsxs(Zr,{className:"font-heading uppercase tracking-widest text-lg flex items-center gap-2",children:[h.jsx("span",{className:"text-primary",children:""})," Current Standings"]})}),h.jsx(xr,{className:"p-0",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{className:"text-left text-muted-foreground bg-muted/30 font-heading uppercase tracking-wider text-xs",children:h.jsxs("tr",{children:[!te.isAllSeasons&&h.jsx("th",{className:"py-3 px-4 w-20 text-center",children:"Rank"}),h.jsx("th",{className:"py-3 px-4",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors",onClick:()=>he("name"),children:[h.jsx("span",{className:"hidden sm:inline",children:"Warrior"}),h.jsx("span",{className:"sm:hidden",children:"Name"}),j==="name"?q==="asc"?h.jsx(dc,{size:14}):h.jsx(cc,{size:14}):h.jsx(ep,{size:14,className:"opacity-50"})]})}),!te.isAllSeasons&&h.jsx("th",{className:"py-3 px-4 text-right",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors ml-auto",onClick:()=>he("rating"),children:[h.jsx("span",{className:"hidden sm:inline",children:"Rating"}),h.jsx("span",{className:"sm:hidden",children:"Rtng"}),j==="rating"?q==="asc"?h.jsx(dc,{size:14}):h.jsx(cc,{size:14}):h.jsx(ep,{size:14,className:"opacity-50"})]})}),!te.isAllSeasons&&h.jsx("th",{className:"py-3 px-4 text-right hidden sm:table-cell",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors ml-auto",onClick:()=>he("rd"),title:"Rating Deviation",children:[h.jsx("span",{children:"Deviation"}),j==="rd"?q==="asc"?h.jsx(dc,{size:14}):h.jsx(cc,{size:14}):h.jsx(ep,{size:14,className:"opacity-50"})]})}),h.jsx("th",{className:"py-3 px-4 text-right hidden sm:table-cell",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors ml-auto",onClick:()=>he("matches"),children:[h.jsx("span",{children:"Battles"}),j==="matches"?q==="asc"?h.jsx(dc,{size:14}):h.jsx(cc,{size:14}):h.jsx(ep,{size:14,className:"opacity-50"})]})})]})}),h.jsx("tbody",{className:"divide-y divide-border/20",children:Ie.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:te.isAllSeasons?2:5,className:"py-12 text-center text-muted-foreground font-heading italic",children:R?`No warriors found matching "${R}"`:"No warriors found."})}):Oe.map((ie,me)=>{const pe=Je(me),Te=J.get(ie.id)??0,$e=!te.isAllSeasons&&pe<=3;return h.jsxs("tr",{className:`group transition-colors hover:bg-primary/5 ${$e?"bg-primary/5":""}`,children:[!te.isAllSeasons&&h.jsx("td",{className:"py-3 px-4 text-center",children:h.jsxs("div",{className:`font-heading font-bold text-base ${pe===1?"text-yellow-500 drop-shadow-[0_0_5px_rgba(234,179,8,0.5)]":pe===2?"text-gray-300 drop-shadow-[0_0_5px_rgba(209,213,219,0.5)]":pe===3?"text-amber-700 drop-shadow-[0_0_5px_rgba(180,83,9,0.5)]":"text-muted-foreground"}`,children:["#",pe]})}),h.jsx("td",{className:"py-3 px-4",children:h.jsxs(Tr,{className:"flex items-center gap-3 group/link",to:`/players/${ie.id}`,children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:`absolute inset-0 rounded-full blur-sm opacity-0 group-hover/link:opacity-100 transition-opacity ${!te.isAllSeasons&&pe===1?"bg-yellow-500/50":"bg-primary/30"}`}),h.jsx($s,{name:ie.name,twitter:ie.twitter,size:40,className:`h-10 w-10 border-2 relative z-10 transition-colors ${te.isAllSeasons?"border-border group-hover/link:border-primary":pe===1?"border-yellow-500":pe===2?"border-gray-300":pe===3?"border-amber-700":"border-border group-hover/link:border-primary"}`})]}),h.jsx("span",{className:`font-heading font-bold text-base transition-colors ${!te.isAllSeasons&&pe<=3?"text-foreground":"text-foreground/90 group-hover/link:text-primary"}`,children:ie.name})]})}),!te.isAllSeasons&&h.jsx("td",{className:"py-3 px-4 text-right font-mono font-bold text-lg text-primary",children:qS(ie.rating??0,0)}),!te.isAllSeasons&&h.jsx("td",{className:"py-3 px-4 text-right hidden sm:table-cell text-muted-foreground font-mono",children:qS(ie.rd??0,0)}),h.jsx("td",{className:"py-3 px-4 text-right hidden sm:table-cell text-foreground font-bold",children:Te})]},ie.id)})})]})})})]})]}),!r&&Ie.length>Qd&&h.jsx(Gb,{currentPage:U,totalPages:_e,onPageChange:D,itemsPerPage:Qd,totalItems:Ie.length})]})}var KS=1,zz=.9,Fz=.8,Wz=.17,ty=.1,ry=.999,Uz=.9999,Hz=.99,Gz=/[\\\/_+.#"@\[\(\{&]/,Vz=/[\\\/_+.#"@\[\(\{&]/g,Xz=/[\s-]/,K2=/[\s-]/g;function L0(e,t,r,i,s,a,c){if(a===t.length)return s===e.length?KS:Hz;var f=`${s},${a}`;if(c[f]!==void 0)return c[f];for(var v=i.charAt(a),x=r.indexOf(v,s),S=0,C,N,B,U;x>=0;)C=L0(e,t,r,i,x+1,a+1,c),C>S&&(x===s?C*=KS:Gz.test(e.charAt(x-1))?(C*=Fz,B=e.slice(s,x-1).match(Vz),B&&s>0&&(C*=Math.pow(ry,B.length))):Xz.test(e.charAt(x-1))?(C*=zz,U=e.slice(s,x-1).match(K2),U&&s>0&&(C*=Math.pow(ry,U.length))):(C*=Wz,s>0&&(C*=Math.pow(ry,x-s))),e.charAt(x)!==t.charAt(a)&&(C*=Uz)),(C<ty&&r.charAt(x-1)===i.charAt(a+1)||i.charAt(a+1)===i.charAt(a)&&r.charAt(x-1)!==i.charAt(a))&&(N=L0(e,t,r,i,x+1,a+2,c),N*ty>C&&(C=N*ty)),C>S&&(S=C),x=r.indexOf(v,x+1);return c[f]=S,S}function ZS(e){return e.toLowerCase().replace(K2," ")}function Yz(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,L0(e,t,ZS(e),ZS(t),0,0,{})}function qz(e,t){return T.useReducer((r,i)=>t[r][i]??r,e)}var rl=e=>{const{present:t,children:r}=e,i=Kz(t),s=typeof r=="function"?r({present:i.isPresent}):T.Children.only(r),a=ir(i.ref,Zz(s));return typeof r=="function"||i.isPresent?T.cloneElement(s,{ref:a}):null};rl.displayName="Presence";function Kz(e){const[t,r]=T.useState(),i=T.useRef(null),s=T.useRef(e),a=T.useRef("none"),c=e?"mounted":"unmounted",[f,v]=qz(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const x=op(i.current);a.current=f==="mounted"?x:"none"},[f]),Ir(()=>{const x=i.current,S=s.current;if(S!==e){const N=a.current,B=op(x);e?v("MOUNT"):B==="none"||(x==null?void 0:x.display)==="none"?v("UNMOUNT"):v(S&&N!==B?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,v]),Ir(()=>{if(t){let x;const S=t.ownerDocument.defaultView??window,C=B=>{const D=op(i.current).includes(CSS.escape(B.animationName));if(B.target===t&&D&&(v("ANIMATION_END"),!s.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",x=S.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},N=B=>{B.target===t&&(a.current=op(i.current))};return t.addEventListener("animationstart",N),t.addEventListener("animationcancel",C),t.addEventListener("animationend",C),()=>{S.clearTimeout(x),t.removeEventListener("animationstart",N),t.removeEventListener("animationcancel",C),t.removeEventListener("animationend",C)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:T.useCallback(x=>{i.current=x?getComputedStyle(x):null,r(x)},[])}}function op(e){return(e==null?void 0:e.animationName)||"none"}function Zz(e){var i,s;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Qg="Dialog",[Z2]=Zo(Qg),[Qz,zn]=Z2(Qg),Q2=e=>{const{__scopeDialog:t,children:r,open:i,defaultOpen:s,onOpenChange:a,modal:c=!0}=e,f=T.useRef(null),v=T.useRef(null),[x,S]=Oc({prop:i,defaultProp:s??!1,onChange:a,caller:Qg});return h.jsx(Qz,{scope:t,triggerRef:f,contentRef:v,contentId:vi(),titleId:vi(),descriptionId:vi(),open:x,onOpenChange:S,onOpenToggle:T.useCallback(()=>S(C=>!C),[S]),modal:c,children:r})};Q2.displayName=Qg;var J2="DialogTrigger",Jz=T.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,s=zn(J2,r),a=ir(t,s.triggerRef);return h.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hw(s.open),...i,ref:a,onClick:Mt(e.onClick,s.onOpenToggle)})});Jz.displayName=J2;var dw="DialogPortal",[eF,eA]=Z2(dw,{forceMount:void 0}),tA=e=>{const{__scopeDialog:t,forceMount:r,children:i,container:s}=e,a=zn(dw,t);return h.jsx(eF,{scope:t,forceMount:r,children:T.Children.map(i,c=>h.jsx(rl,{present:r||a.open,children:h.jsx(Hg,{asChild:!0,container:s,children:c})}))})};tA.displayName=dw;var og="DialogOverlay",rA=T.forwardRef((e,t)=>{const r=eA(og,e.__scopeDialog),{forceMount:i=r.forceMount,...s}=e,a=zn(og,e.__scopeDialog);return a.modal?h.jsx(rl,{present:i||a.open,children:h.jsx(rF,{...s,ref:t})}):null});rA.displayName=og;var tF=Wa("DialogOverlay.RemoveScroll"),rF=T.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,s=zn(og,r);return h.jsx(Vg,{as:tF,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(yt.div,{"data-state":hw(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Va="DialogContent",iA=T.forwardRef((e,t)=>{const r=eA(Va,e.__scopeDialog),{forceMount:i=r.forceMount,...s}=e,a=zn(Va,e.__scopeDialog);return h.jsx(rl,{present:i||a.open,children:a.modal?h.jsx(iF,{...s,ref:t}):h.jsx(nF,{...s,ref:t})})});iA.displayName=Va;var iF=T.forwardRef((e,t)=>{const r=zn(Va,e.__scopeDialog),i=T.useRef(null),s=ir(t,r.contentRef,i);return T.useEffect(()=>{const a=i.current;if(a)return lw(a)},[]),h.jsx(nA,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mt(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Mt(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0;(c.button===2||f)&&a.preventDefault()}),onFocusOutside:Mt(e.onFocusOutside,a=>a.preventDefault())})}),nF=T.forwardRef((e,t)=>{const r=zn(Va,e.__scopeDialog),i=T.useRef(!1),s=T.useRef(!1);return h.jsx(nA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,f;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(i.current||(f=r.triggerRef.current)==null||f.focus(),a.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:a=>{var v,x;(v=e.onInteractOutside)==null||v.call(e,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=a.target;((x=r.triggerRef.current)==null?void 0:x.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),nA=T.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,...c}=e,f=zn(Va,r),v=T.useRef(null),x=ir(t,v);return Qb(),h.jsxs(h.Fragment,{children:[h.jsx($g,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:a,children:h.jsx(Dg,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":hw(f.open),...c,ref:x,onDismiss:()=>f.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(sF,{titleId:f.titleId}),h.jsx(aF,{contentRef:v,descriptionId:f.descriptionId})]})]})}),uw="DialogTitle",sA=T.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,s=zn(uw,r);return h.jsx(yt.h2,{id:s.titleId,...i,ref:t})});sA.displayName=uw;var oA="DialogDescription",aA=T.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,s=zn(oA,r);return h.jsx(yt.p,{id:s.descriptionId,...i,ref:t})});aA.displayName=oA;var lA="DialogClose",cA=T.forwardRef((e,t)=>{const{__scopeDialog:r,...i}=e,s=zn(lA,r);return h.jsx(yt.button,{type:"button",...i,ref:t,onClick:Mt(e.onClick,()=>s.onOpenChange(!1))})});cA.displayName=lA;function hw(e){return e?"open":"closed"}var dA="DialogTitleWarning",[pU,uA]=E$(dA,{contentName:Va,titleName:uw,docsSlug:"dialog"}),sF=({titleId:e})=>{const t=uA(dA),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return T.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},oF="DialogDescriptionWarning",aF=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uA(oF).contentName}}.`;return T.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},hA=Q2,fA=tA,fw=rA,pw=iA,pA=sA,gA=aA,lF=cA,Jd='[cmdk-group=""]',iy='[cmdk-group-items=""]',cF='[cmdk-group-heading=""]',mA='[cmdk-item=""]',QS=`${mA}:not([aria-disabled="true"])`,I0="cmdk-item-select",ql="data-value",dF=(e,t,r)=>Yz(e,t,r),vA=T.createContext(void 0),eh=()=>T.useContext(vA),xA=T.createContext(void 0),gw=()=>T.useContext(xA),yA=T.createContext(void 0),bA=T.forwardRef((e,t)=>{let r=Kl(()=>{var Se,Ve;return{search:"",value:(Ve=(Se=e.value)!=null?Se:e.defaultValue)!=null?Ve:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=Kl(()=>new Set),s=Kl(()=>new Map),a=Kl(()=>new Map),c=Kl(()=>new Set),f=wA(e),{label:v,children:x,value:S,onValueChange:C,filter:N,shouldFilter:B,loop:U,disablePointerSelection:D=!1,vimBindings:R=!0,...I}=e,j=vi(),O=vi(),q=vi(),ae=T.useRef(null),te=wF();Xa(()=>{if(S!==void 0){let Se=S.trim();r.current.value=Se,le.emit()}},[S]),Xa(()=>{te(6,_e)},[]);let le=T.useMemo(()=>({subscribe:Se=>(c.current.add(Se),()=>c.current.delete(Se)),snapshot:()=>r.current,setState:(Se,Ve,et)=>{var tt,Ee,Pe,ot;if(!Object.is(r.current[Se],Ve)){if(r.current[Se]=Ve,Se==="search")he(),ke(),te(1,Ie);else if(Se==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ut=document.getElementById(q);ut?ut.focus():(tt=document.getElementById(j))==null||tt.focus()}if(te(7,()=>{var ut;r.current.selectedItemId=(ut=Oe())==null?void 0:ut.id,le.emit()}),et||te(5,_e),((Ee=f.current)==null?void 0:Ee.value)!==void 0){let ut=Ve??"";(ot=(Pe=f.current).onValueChange)==null||ot.call(Pe,ut);return}}le.emit()}},emit:()=>{c.current.forEach(Se=>Se())}}),[]),J=T.useMemo(()=>({value:(Se,Ve,et)=>{var tt;Ve!==((tt=a.current.get(Se))==null?void 0:tt.value)&&(a.current.set(Se,{value:Ve,keywords:et}),r.current.filtered.items.set(Se,be(Ve,et)),te(2,()=>{ke(),le.emit()}))},item:(Se,Ve)=>(i.current.add(Se),Ve&&(s.current.has(Ve)?s.current.get(Ve).add(Se):s.current.set(Ve,new Set([Se]))),te(3,()=>{he(),ke(),r.current.value||Ie(),le.emit()}),()=>{a.current.delete(Se),i.current.delete(Se),r.current.filtered.items.delete(Se);let et=Oe();te(4,()=>{he(),(et==null?void 0:et.getAttribute("id"))===Se&&Ie(),le.emit()})}),group:Se=>(s.current.has(Se)||s.current.set(Se,new Set),()=>{a.current.delete(Se),s.current.delete(Se)}),filter:()=>f.current.shouldFilter,label:v||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:j,inputId:q,labelId:O,listInnerRef:ae}),[]);function be(Se,Ve){var et,tt;let Ee=(tt=(et=f.current)==null?void 0:et.filter)!=null?tt:dF;return Se?Ee(Se,r.current.search,Ve):0}function ke(){if(!r.current.search||f.current.shouldFilter===!1)return;let Se=r.current.filtered.items,Ve=[];r.current.filtered.groups.forEach(tt=>{let Ee=s.current.get(tt),Pe=0;Ee.forEach(ot=>{let ut=Se.get(ot);Pe=Math.max(ut,Pe)}),Ve.push([tt,Pe])});let et=ae.current;Je().sort((tt,Ee)=>{var Pe,ot;let ut=tt.getAttribute("id"),vt=Ee.getAttribute("id");return((Pe=Se.get(vt))!=null?Pe:0)-((ot=Se.get(ut))!=null?ot:0)}).forEach(tt=>{let Ee=tt.closest(iy);Ee?Ee.appendChild(tt.parentElement===Ee?tt:tt.closest(`${iy} > *`)):et.appendChild(tt.parentElement===et?tt:tt.closest(`${iy} > *`))}),Ve.sort((tt,Ee)=>Ee[1]-tt[1]).forEach(tt=>{var Ee;let Pe=(Ee=ae.current)==null?void 0:Ee.querySelector(`${Jd}[${ql}="${encodeURIComponent(tt[0])}"]`);Pe==null||Pe.parentElement.appendChild(Pe)})}function Ie(){let Se=Je().find(et=>et.getAttribute("aria-disabled")!=="true"),Ve=Se==null?void 0:Se.getAttribute(ql);le.setState("value",Ve||void 0)}function he(){var Se,Ve,et,tt;if(!r.current.search||f.current.shouldFilter===!1){r.current.filtered.count=i.current.size;return}r.current.filtered.groups=new Set;let Ee=0;for(let Pe of i.current){let ot=(Ve=(Se=a.current.get(Pe))==null?void 0:Se.value)!=null?Ve:"",ut=(tt=(et=a.current.get(Pe))==null?void 0:et.keywords)!=null?tt:[],vt=be(ot,ut);r.current.filtered.items.set(Pe,vt),vt>0&&Ee++}for(let[Pe,ot]of s.current)for(let ut of ot)if(r.current.filtered.items.get(ut)>0){r.current.filtered.groups.add(Pe);break}r.current.filtered.count=Ee}function _e(){var Se,Ve,et;let tt=Oe();tt&&(((Se=tt.parentElement)==null?void 0:Se.firstChild)===tt&&((et=(Ve=tt.closest(Jd))==null?void 0:Ve.querySelector(cF))==null||et.scrollIntoView({block:"nearest"})),tt.scrollIntoView({block:"nearest"}))}function Oe(){var Se;return(Se=ae.current)==null?void 0:Se.querySelector(`${mA}[aria-selected="true"]`)}function Je(){var Se;return Array.from(((Se=ae.current)==null?void 0:Se.querySelectorAll(QS))||[])}function ie(Se){let Ve=Je()[Se];Ve&&le.setState("value",Ve.getAttribute(ql))}function me(Se){var Ve;let et=Oe(),tt=Je(),Ee=tt.findIndex(ot=>ot===et),Pe=tt[Ee+Se];(Ve=f.current)!=null&&Ve.loop&&(Pe=Ee+Se<0?tt[tt.length-1]:Ee+Se===tt.length?tt[0]:tt[Ee+Se]),Pe&&le.setState("value",Pe.getAttribute(ql))}function pe(Se){let Ve=Oe(),et=Ve==null?void 0:Ve.closest(Jd),tt;for(;et&&!tt;)et=Se>0?yF(et,Jd):bF(et,Jd),tt=et==null?void 0:et.querySelector(QS);tt?le.setState("value",tt.getAttribute(ql)):me(Se)}let Te=()=>ie(Je().length-1),$e=Se=>{Se.preventDefault(),Se.metaKey?Te():Se.altKey?pe(1):me(1)},Ye=Se=>{Se.preventDefault(),Se.metaKey?ie(0):Se.altKey?pe(-1):me(-1)};return T.createElement(yt.div,{ref:t,tabIndex:-1,...I,"cmdk-root":"",onKeyDown:Se=>{var Ve;(Ve=I.onKeyDown)==null||Ve.call(I,Se);let et=Se.nativeEvent.isComposing||Se.keyCode===229;if(!(Se.defaultPrevented||et))switch(Se.key){case"n":case"j":{R&&Se.ctrlKey&&$e(Se);break}case"ArrowDown":{$e(Se);break}case"p":case"k":{R&&Se.ctrlKey&&Ye(Se);break}case"ArrowUp":{Ye(Se);break}case"Home":{Se.preventDefault(),ie(0);break}case"End":{Se.preventDefault(),Te();break}case"Enter":{Se.preventDefault();let tt=Oe();if(tt){let Ee=new Event(I0);tt.dispatchEvent(Ee)}}}}},T.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:SF},v),Jg(e,Se=>T.createElement(xA.Provider,{value:le},T.createElement(vA.Provider,{value:J},Se))))}),uF=T.forwardRef((e,t)=>{var r,i;let s=vi(),a=T.useRef(null),c=T.useContext(yA),f=eh(),v=wA(e),x=(i=(r=v.current)==null?void 0:r.forceMount)!=null?i:c==null?void 0:c.forceMount;Xa(()=>{if(!x)return f.item(s,c==null?void 0:c.id)},[x]);let S=kA(s,a,[e.value,e.children,a],e.keywords),C=gw(),N=Go(te=>te.value&&te.value===S.current),B=Go(te=>x||f.filter()===!1?!0:te.search?te.filtered.items.get(s)>0:!0);T.useEffect(()=>{let te=a.current;if(!(!te||e.disabled))return te.addEventListener(I0,U),()=>te.removeEventListener(I0,U)},[B,e.onSelect,e.disabled]);function U(){var te,le;D(),(le=(te=v.current).onSelect)==null||le.call(te,S.current)}function D(){C.setState("value",S.current,!0)}if(!B)return null;let{disabled:R,value:I,onSelect:j,forceMount:O,keywords:q,...ae}=e;return T.createElement(yt.div,{ref:Fa(a,t),...ae,id:s,"cmdk-item":"",role:"option","aria-disabled":!!R,"aria-selected":!!N,"data-disabled":!!R,"data-selected":!!N,onPointerMove:R||f.getDisablePointerSelection()?void 0:D,onClick:R?void 0:U},e.children)}),hF=T.forwardRef((e,t)=>{let{heading:r,children:i,forceMount:s,...a}=e,c=vi(),f=T.useRef(null),v=T.useRef(null),x=vi(),S=eh(),C=Go(B=>s||S.filter()===!1?!0:B.search?B.filtered.groups.has(c):!0);Xa(()=>S.group(c),[]),kA(c,f,[e.value,e.heading,v]);let N=T.useMemo(()=>({id:c,forceMount:s}),[s]);return T.createElement(yt.div,{ref:Fa(f,t),...a,"cmdk-group":"",role:"presentation",hidden:C?void 0:!0},r&&T.createElement("div",{ref:v,"cmdk-group-heading":"","aria-hidden":!0,id:x},r),Jg(e,B=>T.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?x:void 0},T.createElement(yA.Provider,{value:N},B))))}),fF=T.forwardRef((e,t)=>{let{alwaysRender:r,...i}=e,s=T.useRef(null),a=Go(c=>!c.search);return!r&&!a?null:T.createElement(yt.div,{ref:Fa(s,t),...i,"cmdk-separator":"",role:"separator"})}),pF=T.forwardRef((e,t)=>{let{onValueChange:r,...i}=e,s=e.value!=null,a=gw(),c=Go(x=>x.search),f=Go(x=>x.selectedItemId),v=eh();return T.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),T.createElement(yt.input,{ref:t,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":v.listId,"aria-labelledby":v.labelId,"aria-activedescendant":f,id:v.inputId,type:"text",value:s?e.value:c,onChange:x=>{s||a.setState("search",x.target.value),r==null||r(x.target.value)}})}),gF=T.forwardRef((e,t)=>{let{children:r,label:i="Suggestions",...s}=e,a=T.useRef(null),c=T.useRef(null),f=Go(x=>x.selectedItemId),v=eh();return T.useEffect(()=>{if(c.current&&a.current){let x=c.current,S=a.current,C,N=new ResizeObserver(()=>{C=requestAnimationFrame(()=>{let B=x.offsetHeight;S.style.setProperty("--cmdk-list-height",B.toFixed(1)+"px")})});return N.observe(x),()=>{cancelAnimationFrame(C),N.unobserve(x)}}},[]),T.createElement(yt.div,{ref:Fa(a,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":i,id:v.listId},Jg(e,x=>T.createElement("div",{ref:Fa(c,v.listInnerRef),"cmdk-list-sizer":""},x)))}),mF=T.forwardRef((e,t)=>{let{open:r,onOpenChange:i,overlayClassName:s,contentClassName:a,container:c,...f}=e;return T.createElement(hA,{open:r,onOpenChange:i},T.createElement(fA,{container:c},T.createElement(fw,{"cmdk-overlay":"",className:s}),T.createElement(pw,{"aria-label":e.label,"cmdk-dialog":"",className:a},T.createElement(bA,{ref:t,...f}))))}),vF=T.forwardRef((e,t)=>Go(r=>r.filtered.count===0)?T.createElement(yt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),xF=T.forwardRef((e,t)=>{let{progress:r,children:i,label:s="Loading...",...a}=e;return T.createElement(yt.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Jg(e,c=>T.createElement("div",{"aria-hidden":!0},c)))}),Oi=Object.assign(bA,{List:gF,Item:uF,Input:pF,Group:hF,Separator:fF,Dialog:mF,Empty:vF,Loading:xF});function yF(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function bF(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function wA(e){let t=T.useRef(e);return Xa(()=>{t.current=e}),t}var Xa=typeof window>"u"?T.useEffect:T.useLayoutEffect;function Kl(e){let t=T.useRef();return t.current===void 0&&(t.current=e()),t}function Go(e){let t=gw(),r=()=>e(t.snapshot());return T.useSyncExternalStore(t.subscribe,r,r)}function kA(e,t,r,i=[]){let s=T.useRef(),a=eh();return Xa(()=>{var c;let f=(()=>{var x;for(let S of r){if(typeof S=="string")return S.trim();if(typeof S=="object"&&"current"in S)return S.current?(x=S.current.textContent)==null?void 0:x.trim():s.current}})(),v=i.map(x=>x.trim());a.value(e,f,v),(c=t.current)==null||c.setAttribute(ql,f),s.current=f}),s}var wF=()=>{let[e,t]=T.useState(),r=Kl(()=>new Map);return Xa(()=>{r.current.forEach(i=>i()),r.current=new Map},[e]),(i,s)=>{r.current.set(i,s),t({})}};function kF(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Jg({asChild:e,children:t},r){return e&&T.isValidElement(t)?T.cloneElement(kF(t),{ref:t.ref},r(t.props.children)):r(t)}var SF={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Rc=hA,_F=fA,SA=T.forwardRef(({className:e,...t},r)=>h.jsx(fw,{ref:r,className:gt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));SA.displayName=fw.displayName;const Ya=T.forwardRef(({className:e,children:t,...r},i)=>h.jsxs(_F,{children:[h.jsx(SA,{}),h.jsxs(pw,{ref:i,className:gt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,h.jsxs(lF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(Kb,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ya.displayName=pw.displayName;const qa=({className:e,...t})=>h.jsx("div",{className:gt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});qa.displayName="DialogHeader";const th=({className:e,...t})=>h.jsx("div",{className:gt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});th.displayName="DialogFooter";const Ka=T.forwardRef(({className:e,...t},r)=>h.jsx(pA,{ref:r,className:gt("text-lg font-semibold leading-none tracking-tight",e),...t}));Ka.displayName=pA.displayName;const rh=T.forwardRef(({className:e,...t},r)=>h.jsx(gA,{ref:r,className:gt("text-sm text-muted-foreground",e),...t}));rh.displayName=gA.displayName;const _A=T.forwardRef(({className:e,...t},r)=>h.jsx(Oi,{ref:r,className:gt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));_A.displayName=Oi.displayName;const CA=T.forwardRef(({className:e,...t},r)=>h.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[h.jsx(m$,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),h.jsx(Oi.Input,{ref:r,className:gt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));CA.displayName=Oi.Input.displayName;const EA=T.forwardRef(({className:e,...t},r)=>h.jsx(Oi.List,{ref:r,className:gt("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));EA.displayName=Oi.List.displayName;const TA=T.forwardRef((e,t)=>h.jsx(Oi.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));TA.displayName=Oi.Empty.displayName;const AA=T.forwardRef(({className:e,...t},r)=>h.jsx(Oi.Group,{ref:r,className:gt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));AA.displayName=Oi.Group.displayName;const CF=T.forwardRef(({className:e,...t},r)=>h.jsx(Oi.Separator,{ref:r,className:gt("-mx-1 h-px bg-border",e),...t}));CF.displayName=Oi.Separator.displayName;const MA=T.forwardRef(({className:e,...t},r)=>h.jsx(Oi.Item,{ref:r,className:gt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",e),...t}));MA.displayName=Oi.Item.displayName;var em="Popover",[jA]=Zo(em,[Ug]),ih=Ug(),[EF,ea]=jA(em),NA=e=>{const{__scopePopover:t,children:r,open:i,defaultOpen:s,onOpenChange:a,modal:c=!1}=e,f=ih(t),v=T.useRef(null),[x,S]=T.useState(!1),[C,N]=Oc({prop:i,defaultProp:s??!1,onChange:a,caller:em});return h.jsx(t2,{...f,children:h.jsx(EF,{scope:t,contentId:vi(),triggerRef:v,open:C,onOpenChange:N,onOpenToggle:T.useCallback(()=>N(B=>!B),[N]),hasCustomAnchor:x,onCustomAnchorAdd:T.useCallback(()=>S(!0),[]),onCustomAnchorRemove:T.useCallback(()=>S(!1),[]),modal:c,children:r})})};NA.displayName=em;var PA="PopoverAnchor",TF=T.forwardRef((e,t)=>{const{__scopePopover:r,...i}=e,s=ea(PA,r),a=ih(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:f}=s;return T.useEffect(()=>(c(),()=>f()),[c,f]),h.jsx(aw,{...a,...i,ref:t})});TF.displayName=PA;var OA="PopoverTrigger",RA=T.forwardRef((e,t)=>{const{__scopePopover:r,...i}=e,s=ea(OA,r),a=ih(r),c=ir(t,s.triggerRef),f=h.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":BA(s.open),...i,ref:c,onClick:Mt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?f:h.jsx(aw,{asChild:!0,...a,children:f})});RA.displayName=OA;var mw="PopoverPortal",[AF,MF]=jA(mw,{forceMount:void 0}),LA=e=>{const{__scopePopover:t,forceMount:r,children:i,container:s}=e,a=ea(mw,t);return h.jsx(AF,{scope:t,forceMount:r,children:h.jsx(rl,{present:r||a.open,children:h.jsx(Hg,{asChild:!0,container:s,children:i})})})};LA.displayName=mw;var Lc="PopoverContent",IA=T.forwardRef((e,t)=>{const r=MF(Lc,e.__scopePopover),{forceMount:i=r.forceMount,...s}=e,a=ea(Lc,e.__scopePopover);return h.jsx(rl,{present:i||a.open,children:a.modal?h.jsx(NF,{...s,ref:t}):h.jsx(PF,{...s,ref:t})})});IA.displayName=Lc;var jF=Wa("PopoverContent.RemoveScroll"),NF=T.forwardRef((e,t)=>{const r=ea(Lc,e.__scopePopover),i=T.useRef(null),s=ir(t,i),a=T.useRef(!1);return T.useEffect(()=>{const c=i.current;if(c)return lw(c)},[]),h.jsx(Vg,{as:jF,allowPinchZoom:!0,children:h.jsx(DA,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mt(e.onCloseAutoFocus,c=>{var f;c.preventDefault(),a.current||(f=r.triggerRef.current)==null||f.focus()}),onPointerDownOutside:Mt(e.onPointerDownOutside,c=>{const f=c.detail.originalEvent,v=f.button===0&&f.ctrlKey===!0,x=f.button===2||v;a.current=x},{checkForDefaultPrevented:!1}),onFocusOutside:Mt(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),PF=T.forwardRef((e,t)=>{const r=ea(Lc,e.__scopePopover),i=T.useRef(!1),s=T.useRef(!1);return h.jsx(DA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,f;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(i.current||(f=r.triggerRef.current)==null||f.focus(),a.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:a=>{var v,x;(v=e.onInteractOutside)==null||v.call(e,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=a.target;((x=r.triggerRef.current)==null?void 0:x.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),DA=T.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:v,onFocusOutside:x,onInteractOutside:S,...C}=e,N=ea(Lc,r),B=ih(r);return Qb(),h.jsx($g,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:a,children:h.jsx(Dg,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:S,onEscapeKeyDown:f,onPointerDownOutside:v,onFocusOutside:x,onDismiss:()=>N.onOpenChange(!1),children:h.jsx(r2,{"data-state":BA(N.open),role:"dialog",id:N.contentId,...B,...C,ref:t,style:{...C.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$A="PopoverClose",OF=T.forwardRef((e,t)=>{const{__scopePopover:r,...i}=e,s=ea($A,r);return h.jsx(yt.button,{type:"button",...i,ref:t,onClick:Mt(e.onClick,()=>s.onOpenChange(!1))})});OF.displayName=$A;var RF="PopoverArrow",LF=T.forwardRef((e,t)=>{const{__scopePopover:r,...i}=e,s=ih(r);return h.jsx(i2,{...s,...i,ref:t})});LF.displayName=RF;function BA(e){return e?"open":"closed"}var IF=NA,DF=RA,$F=LA,zA=IA;const BF=IF,zF=DF,FA=T.forwardRef(({className:e,align:t="center",sideOffset:r=4,...i},s)=>h.jsx($F,{children:h.jsx(zA,{ref:s,align:t,sideOffset:r,className:gt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i})}));FA.displayName=zA.displayName;function Ms({options:e,value:t,onValueChange:r,placeholder:i="Select option...",searchPlaceholder:s="Search...",emptyText:a="No option found.",className:c}){const[f,v]=T.useState(!1),x=e.find(S=>S.value===t);return h.jsxs(BF,{open:f,onOpenChange:v,children:[h.jsx(zF,{asChild:!0,children:h.jsxs(_t,{variant:"outline",role:"combobox","aria-expanded":f,className:gt("w-full justify-between",c),children:[x?x.label:i,h.jsx(r$,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),h.jsx(FA,{className:"w-full p-0",align:"start",children:h.jsxs(_A,{children:[h.jsx(CA,{placeholder:s}),h.jsxs(EA,{children:[h.jsx(TA,{children:a}),h.jsx(AA,{children:e.map(S=>h.jsxs(MA,{value:S.label,keywords:[S.label,S.value],onSelect:()=>{r(S.value),v(!1)},children:[h.jsx(_T,{className:gt("mr-2 h-4 w-4",t===S.value?"opacity-100":"opacity-0")}),S.label]},S.value))})]})]})})]})}const ag=.5,lg=173.7178;function ny(e){return 1/Math.sqrt(1+3*e*e/(Math.PI*Math.PI))}function sy(e,t,r){return 1/(1+Math.exp(-r*(e-t)))}function ap(e){return{mu:(e.rating-1500)/lg,phi:e.rd/lg,sigma:e.vol}}function FF(e,t,r){return{rating:e*lg+1500,rd:t*lg,vol:r}}function JS(e,t){if(t.length===0)return e;const{mu:r,phi:i,sigma:s}=ap(e),c=1/t.reduce((ae,te)=>{const le=ap(te.opponent),J=ny(le.phi),be=sy(r,le.mu,J);return ae+J*J*be*(1-be)},0),f=c*t.reduce((ae,te)=>{const le=ap(te.opponent),J=ny(le.phi),be=sy(r,le.mu,J);return ae+J*(te.score-be)},0),v=Math.log(s*s),x=1e-6;let S=v,C;if(f*f>i*i+c)C=Math.log(Math.max(f*f-i*i-c,x));else{let ae=1;const te=1e3;for(;lp(v-ae*ag,f,i,c,v)<0&&ae<te;)ae++;if(ae>=te)return e;C=v-ae*ag}let N=lp(S,f,i,c,v),B=lp(C,f,i,c,v),U=0;const D=100;for(;Math.abs(C-S)>x&&U<D;){const ae=S+(S-C)*N/(B-N),te=lp(ae,f,i,c,v);te*B<0?(S=C,N=B):N/=2,C=ae,B=te,U++}if(U>=D||!isFinite(S))return e;const R=Math.exp(S/2),I=Math.sqrt(i*i+R*R),j=1/Math.sqrt(1/(I*I)+1/c),O=r+j*j*t.reduce((ae,te)=>{const le=ap(te.opponent),J=ny(le.phi),be=sy(r,le.mu,J);return ae+J*(te.score-be)},0),q=FF(O,j,R);return!isFinite(q.rating)||!isFinite(q.rd)||!isFinite(q.vol)?e:q}function lp(e,t,r,i,s){const a=Math.exp(e),c=a*(t*t-r*r-i-a),f=2*(r*r+i+a)*(r*r+i+a);return c/f-(e-s)/(ag*ag)}function e_(e,t){const r=e.rating??1500,i={rating:r,rd:e.rd??350,vol:e.volatility??.06},s={rating:t.rating??1500,rd:t.rd??350,vol:t.volatility??.06},a=JS(i,[{opponent:s,score:1}]),c=a.rating-r,f=JS(i,[{opponent:s,score:0}]),v=f.rating-r;return{winRatingChange:c,loseRatingChange:v,winNewRating:a.rating,loseNewRating:f.rating}}function WF(e,t){return{player1:e_(e,t),player2:e_(t,e)}}function uc(e){return`${e>=0?"+":""}${e.toFixed(1)}`}const WA=T.createContext(void 0);function vw(){const e=T.useContext(WA);if(!e)throw new Error("useMatchModal must be used within MatchModalProvider");return e}function UF({children:e}){const[t,r]=T.useState(null),i=T.useCallback(c=>{r(c)},[]),s=T.useCallback(()=>{r(null)},[]),a=T.useMemo(()=>({matchId:t,openMatch:i,closeMatch:s}),[t,i,s]);return h.jsx(WA.Provider,{value:a,children:e})}function oy(e){return e.includes("youtube.com")||e.includes("youtu.be")?h.jsx(MT,{size:14}):e.includes("twitch.tv")?h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",className:"inline-block",children:h.jsx("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})}):h.jsx(ET,{size:14})}function UA({match:e,player1:t,player2:r,showMatchNumber:i,matchNumber:s,event:a,showEventLink:c=!1,showLinksInHeader:f=!1}){const{openMatch:v}=vw(),x=e.winner_id!==null,S=e.winner_id===e.player1_id,C=c&&a||e.vod_link;return h.jsxs("div",{className:"group relative p-4 border border-border/40 rounded-lg space-y-3 bg-card/40 backdrop-blur-sm hover:bg-card/60 transition-all duration-300 hover:border-primary/50 hover:shadow-[0_0_15px_rgba(var(--primary-rgb),0.2)] overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-transparent via-primary/0 to-transparent group-hover:via-primary/50 transition-all duration-500"}),(i||f&&C)&&h.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap border-b border-white/5 pb-2 mb-2",children:[h.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f&&C&&h.jsxs(h.Fragment,{children:[c&&a&&h.jsx(Tr,{className:"text-primary hover:text-primary/80 hover:underline inline-flex items-center gap-1 font-heading font-bold tracking-wide transition-colors",to:`/events/${a.id}`,children:a.title}),e.vod_link&&!i&&h.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 hover:underline inline-flex items-center gap-1 font-bold transition-colors",children:[oy(e.vod_link),"Watch"]})]}),i&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-xs font-heading font-bold uppercase tracking-widest text-muted-foreground",children:["Match ",s]}),x&&h.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-green-500 px-1.5 py-0.5 bg-green-500/10 rounded border border-green-500/20",children:"Completed"})]})]}),i&&e.vod_link&&h.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 hover:underline inline-flex items-center gap-1 text-xs font-bold uppercase tracking-wider transition-colors",children:[oy(e.vod_link),"Watch"]})]}),h.jsxs("div",{className:`relative flex items-center justify-between p-2 rounded-md transition-colors ${x&&S?"bg-gradient-to-r from-yellow-500/10 to-transparent border-l-2 border-yellow-500":"hover:bg-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsx($s,{name:t.name,twitter:t.twitter,size:48,className:`h-12 w-12 shrink-0 border-2 ${x&&S?"border-yellow-500 shadow-[0_0_10px_rgba(234,179,8,0.3)]":"border-border"}`}),h.jsxs("div",{className:"min-w-0",children:[h.jsx(Tr,{to:`/players/${t.id}`,className:"group/player",children:h.jsxs("div",{className:`font-heading font-bold text-lg flex items-center gap-2 flex-wrap transition-colors ${x&&S?"text-yellow-500":"text-foreground group-hover/player:text-primary"}`,children:[x&&S&&h.jsx("span",{className:"text-yellow-500",children:""}),h.jsx("span",{className:"truncate",children:t.name})]})}),h.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:["Rating: ",t.rating===null?"Unrated":Math.round(t.rating)]})]})]}),x&&h.jsx("div",{className:"text-sm font-bold font-mono shrink-0",children:h.jsx("span",{className:e.rating_change_p1&&e.rating_change_p1>=0?"text-green-500":"text-red-500",children:e.rating_change_p1!==null&&e.rating_change_p1!==void 0?uc(e.rating_change_p1):""})})]}),x?h.jsxs("button",{onClick:()=>v(e.id),className:"relative flex items-center justify-center gap-4 font-heading font-black cursor-pointer w-full py-1 hover:scale-105 transition-transform",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 hover:opacity-100 transition-opacity"}),h.jsx("span",{className:S?"text-yellow-500 text-3xl drop-shadow-[0_0_10px_rgba(234,179,8,0.5)]":"text-muted-foreground text-2xl",children:e.player1_score??"?"}),h.jsx("span",{className:"text-muted-foreground/50 text-xl",children:"-"}),h.jsx("span",{className:S?"text-muted-foreground text-2xl":"text-yellow-500 text-3xl drop-shadow-[0_0_10px_rgba(234,179,8,0.5)]",children:e.player2_score??"?"})]}):h.jsx("div",{className:"flex items-center justify-center py-2",children:h.jsx("span",{className:"text-2xl font-heading font-black text-transparent bg-clip-text bg-gradient-to-b from-muted-foreground to-muted-foreground/50 italic pr-1",children:"VS"})}),h.jsxs("div",{className:`relative flex items-center justify-between p-2 rounded-md transition-colors ${x&&!S?"bg-gradient-to-r from-yellow-500/10 to-transparent border-l-2 border-yellow-500":"hover:bg-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsx($s,{name:r.name,twitter:r.twitter,size:48,className:`h-12 w-12 shrink-0 border-2 ${x&&!S?"border-yellow-500 shadow-[0_0_10px_rgba(234,179,8,0.3)]":"border-border"}`}),h.jsxs("div",{className:"min-w-0",children:[h.jsx(Tr,{to:`/players/${r.id}`,className:"group/player",children:h.jsxs("div",{className:`font-heading font-bold text-lg flex items-center gap-2 flex-wrap transition-colors ${x&&!S?"text-yellow-500":"text-foreground group-hover/player:text-primary"}`,children:[x&&!S&&h.jsx("span",{className:"text-yellow-500",children:""}),h.jsx("span",{className:"truncate",children:r.name})]})}),h.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:["Rating: ",r.rating===null?"Unrated":Math.round(r.rating)]})]})]}),x&&h.jsx("div",{className:"text-sm font-bold font-mono shrink-0",children:h.jsx("span",{className:e.rating_change_p2&&e.rating_change_p2>=0?"text-green-500":"text-red-500",children:e.rating_change_p2!==null&&e.rating_change_p2!==void 0?uc(e.rating_change_p2):""})})]}),!f&&!i&&C&&h.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs font-bold uppercase tracking-wider text-muted-foreground border-t border-white/5 pt-3 mt-2",children:[c&&a&&h.jsxs(Tr,{className:"text-primary hover:text-primary/80 hover:underline inline-flex items-center gap-1 transition-colors",to:`/events/${a.id}`,children:["Event: ",a.title]}),e.vod_link&&h.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 hover:underline inline-flex items-center gap-1 transition-colors",children:[oy(e.vod_link),"Watch"]})]})]})}const eu=25;function HF(){gn("Matches");const{players:e,matches:t,loading:r}=Lg(),[i,s]=PE(),[a,c]=T.useState([]),[f,v]=T.useState([]),[x,S]=T.useState(()=>{const te=i.get("season");if(te===null||te==="all")return null;const le=parseInt(te,10);return Number.isFinite(le)?le:null}),[C,N]=T.useState(()=>i.get("search")||""),[B,U]=T.useState(()=>{const te=i.get("page");return te?parseInt(te,10):1});T.useEffect(()=>{const te=new URLSearchParams;B!==1&&te.set("page",B.toString()),C&&te.set("search",C),x!==null?te.set("season",String(x)):te.set("season","all");const le=te.toString(),J=i.toString();le!==J&&s(te)},[B,C,x,s,i]),T.useEffect(()=>{let te=!0;return(async()=>{const le=await Ku();te&&c(le)})(),()=>{te=!1}},[]),T.useEffect(()=>{let te=!0;return(async()=>{const le=await qc();te&&v(le)})(),()=>{te=!1}},[]);const D=new Map(e.map(te=>[te.id,te])),R=new Map(a.map(te=>[te.id,te])),j=[...t].sort((te,le)=>le.id-te.id).filter(te=>{var ke,Ie;const le=((ke=D.get(te.player1_id))==null?void 0:ke.name)??"",J=((Ie=D.get(te.player2_id))==null?void 0:Ie.name)??"",be=C.toLowerCase();return le.toLowerCase().includes(be)||J.toLowerCase().includes(be)}),O=x===null?j:j.filter(te=>te.season_id===x),q=Math.ceil(O.length/eu),ae=T.useMemo(()=>{const te=(B-1)*eu,le=te+eu;return O.slice(te,le)},[O,B]);return T.useEffect(()=>{U(1)},[C]),T.useEffect(()=>{U(1)},[x]),h.jsxs("section",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary/80 to-primary/50 drop-shadow-sm",children:"Matches"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg",children:"Battle history and upcoming bouts."})]}),r&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center bg-card/30 p-4 rounded-lg border border-border/40 backdrop-blur-sm",children:[h.jsx("div",{className:"max-w-md w-full",children:h.jsx(Qr,{placeholder:"Filter by player name...",value:C,onChange:te=>N(te.target.value),className:"bg-background/50 border-primary/30 focus:ring-primary/50 font-body"})}),h.jsx("div",{className:"w-full sm:w-64",children:h.jsx(Ms,{value:x===null?"all":String(x),onValueChange:te=>{S(te==="all"?null:parseInt(te,10))},placeholder:"Select season...",searchPlaceholder:"Search seasons...",options:[{value:"all",label:"All seasons"},...f.filter(te=>te.status==="active").map(te=>({value:String(te.id),label:`${te.name} (Active)`})),...f.filter(te=>te.status==="archived").sort((te,le)=>te.id-le.id).map(te=>({value:String(te.id),label:`${te.name} (Archived)`}))],className:"w-full"})})]}),ae.length===0?h.jsx(pr,{className:"bg-card/40 backdrop-blur-sm border-border/40",children:h.jsxs(xr,{className:"py-12 flex flex-col items-center justify-center text-center",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("p",{className:"text-muted-foreground font-heading uppercase tracking-wider text-lg",children:C?`No matches found for "${C}"`:"No matches found"})]})}):h.jsx("div",{className:"space-y-4",children:ae.map(te=>{const le=D.get(te.player1_id),J=D.get(te.player2_id),be=te.event_id?R.get(te.event_id):null;return!le||!J?null:h.jsx(UA,{match:te,player1:le,player2:J,event:be,showEventLink:!0,showLinksInHeader:!0},te.id)})}),O.length>eu&&h.jsx("div",{className:"flex justify-center pt-8",children:h.jsx(Gb,{currentPage:B,totalPages:q,onPageChange:U,itemsPerPage:eu,totalItems:O.length})})]})}function GF(){gn("Events");const[e,t]=T.useState([]),[r,i]=T.useState([]),[s,a]=T.useState(!0);T.useEffect(()=>{let f=!0;return(async()=>{const[v,x]=await Promise.all([Ku(),kT()]);f&&(t(v),i(x),a(!1))})(),()=>{f=!1}},[]);const c=T.useMemo(()=>e.length?e.map(f=>{const v=r.filter(S=>S.event_id===f.id),x=v.filter(S=>S.winner_id!==null);return{...f,matchCount:v.length,completedCount:x.length}}):[],[e,r]);return s?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Events"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]}):c.length===0?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Events"}),h.jsx(pr,{children:h.jsx(xr,{className:"pt-6",children:h.jsx("p",{className:"text-muted-foreground",children:"No events found."})})})]}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary/80 to-primary/50 drop-shadow-sm",children:"Events"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg max-w-2xl",children:"Upcoming tournaments and past battle records."})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.map(f=>{const v=new Date(f.event_date)<new Date;return h.jsx(Tr,{to:`/events/${f.id}`,className:"group block h-full",children:h.jsxs(pr,{className:"h-full bg-card/40 backdrop-blur-sm border-border/40 hover:bg-card/60 hover:border-primary/50 transition-all duration-300 hover:shadow-[0_0_20px_rgba(var(--primary-rgb),0.15)] overflow-hidden relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/0 to-transparent group-hover:via-primary/50 transition-all duration-500"}),h.jsxs(Kr,{className:"pb-3",children:[h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsx(Zr,{className:"font-heading text-xl font-bold tracking-wide group-hover:text-primary transition-colors line-clamp-2",children:f.title}),v?h.jsx("span",{className:"shrink-0 text-[10px] font-bold uppercase tracking-widest text-muted-foreground px-2 py-1 bg-muted/50 rounded border border-border/50",children:"Past"}):h.jsx("span",{className:"shrink-0 text-[10px] font-bold uppercase tracking-widest text-green-500 px-2 py-1 bg-green-500/10 rounded border border-green-500/20 animate-pulse",children:"Upcoming"})]}),h.jsx(gi,{className:"font-mono text-xs uppercase tracking-wider mt-1",children:new Date(f.event_date).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),h.jsxs(xr,{children:[f.description&&h.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2 border-l-2 border-primary/20 pl-3 italic",children:f.description}),h.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Matches"}),h.jsx("span",{className:"font-heading font-bold text-lg",children:f.matchCount})]}),f.matchCount>0&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Completed"}),h.jsx("span",{className:"font-heading font-bold text-lg text-primary",children:f.completedCount})]})]}),f.stream_url&&h.jsx("div",{className:`text-xs font-bold uppercase tracking-wider flex items-center gap-1 ${v?"text-muted-foreground":"text-red-500"}`,children:v?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""})," VOD"]}):h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"relative flex h-2 w-2 mr-1",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),"Live"]})})]})]})]})},f.id)})})]})}function VF(){const{id:e}=EE(),[t,r]=T.useState([]),[i,s]=T.useState(null),[a,c]=T.useState([]),[f,v]=T.useState(!0);T.useEffect(()=>{let C=!0;return(async()=>{const[N,B,U]=await Promise.all([Vb(),Ku(),kT()]);if(!C)return;r(N);const D=B.find(R=>R.id===Number(e));s(D||null),c(U.filter(R=>R.event_id===Number(e))),v(!1)})(),()=>{C=!1}},[e]);const x=T.useMemo(()=>{if(!t.length||!a.length)return[];const C=new Map(t.map(N=>[N.id,N]));return a.map(N=>({...N,player1:C.get(N.player1_id),player2:C.get(N.player2_id)})).sort((N,B)=>(N.match_order??0)-(B.match_order??0))},[t,a]);if(f)return gn("Event"),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsx(Tr,{to:"/events",children:h.jsx(_t,{variant:"outline",size:"sm",children:" Back to Events"})})}),h.jsx("h1",{className:"text-3xl font-bold",children:"Loading..."})]});if(!i)return gn("Event Not Found"),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsx(Tr,{to:"/events",children:h.jsx(_t,{variant:"outline",size:"sm",children:" Back to Events"})})}),h.jsx("h1",{className:"text-3xl font-bold",children:"Event Not Found"}),h.jsx("p",{className:"text-muted-foreground",children:"The event you're looking for doesn't exist."})]});const S=new Date(i.event_date)<new Date;return gn(`Event - ${i.title}`),h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsx(Tr,{to:"/events",children:h.jsx(_t,{variant:"ghost",size:"sm",className:"hover:bg-primary/10 hover:text-primary transition-colors font-heading uppercase tracking-wider font-bold",children:" Back to Events"})})}),h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(Kr,{className:"border-b border-border/30 bg-muted/20 relative z-10",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-4",children:[h.jsxs("div",{children:[h.jsxs(Zr,{className:"flex items-center gap-3 font-heading text-3xl font-bold tracking-wide text-primary drop-shadow-md",children:[i.title,S&&h.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground px-2 py-1 bg-muted/50 rounded border border-border/50",children:"Past Event"})]}),h.jsx(gi,{className:"font-body text-lg mt-1",children:new Date(i.event_date).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})}),i.description&&h.jsx("p",{className:"text-sm text-muted-foreground mt-4 max-w-2xl leading-relaxed border-l-2 border-primary/30 pl-4 italic",children:i.description})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[i.stream_url&&h.jsxs("a",{href:i.stream_url,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-all shadow-lg hover:shadow-primary/25 font-heading font-bold uppercase tracking-wider text-sm text-center flex items-center justify-center gap-2",children:[h.jsx("span",{className:"text-lg",children:""})," ",S?"Stream VOD":"Watch Stream"]}),i.vod_link&&h.jsxs("a",{href:i.vod_link,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-all shadow-lg hover:shadow-red-600/25 font-heading font-bold uppercase tracking-wider text-sm text-center flex items-center justify-center gap-2",children:[h.jsx("span",{className:"text-lg",children:""})," Event VOD"]})]})]})}),h.jsx(xr,{className:"p-6 relative z-10",children:x.length===0?h.jsx("div",{className:"text-center py-12 border-2 border-dashed border-border/30 rounded-lg bg-card/30",children:h.jsx("p",{className:"text-muted-foreground font-heading uppercase tracking-wider",children:"No matches scheduled for this event yet."})}):h.jsx("div",{className:"space-y-4",children:x.map((C,N)=>{const{player1:B,player2:U}=C;return!B||!U?h.jsx("div",{className:"p-4 border border-border/40 rounded-lg bg-card/30 backdrop-blur-sm",children:h.jsxs("p",{className:"text-muted-foreground italic",children:["Match ",N+1,": Player data not found"]})},C.id):h.jsx(UA,{match:C,player1:B,player2:U,event:i,showMatchNumber:!0,matchNumber:N+1,showEventLink:!1},C.id)})})}),h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 pointer-events-none"})]})]})}function XF(){return gn("Profile"),h.jsx("div",{className:"container py-20 flex justify-center",children:h.jsxs("div",{className:"max-w-md w-full bg-card/80 backdrop-blur-xl border border-border/60 shadow-[0_0_50px_rgba(0,0,0,0.5)] rounded-lg p-8 text-center relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent"}),h.jsx("h2",{className:"text-3xl font-heading font-bold text-primary mb-4",children:"Profile"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg",children:"Coming soon."}),h.jsx("div",{className:"mt-8 h-1 w-16 bg-primary/30 mx-auto rounded-full"})]})})}var HA={exports:{}};(function(e,t){(function(r,i){e.exports=i(T)})(typeof self<"u"?self:xi,function(r){return function(i){function s(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};return i[c].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var a={};return s.m=i,s.c=a,s.d=function(c,f,v){s.o(c,f)||Object.defineProperty(c,f,{configurable:!1,enumerable:!0,get:v})},s.n=function(c){var f=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(f,"a",f),f},s.o=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)},s.p="",s(s.s=0)}([function(i,s,a){function c(){return c=Object.assign?Object.assign.bind():function(j){for(var O=1;O<arguments.length;O++){var q=arguments[O];for(var ae in q)Object.prototype.hasOwnProperty.call(q,ae)&&(j[ae]=q[ae])}return j},c.apply(this,arguments)}function f(j){return C(j)||S(j)||x(j)||v()}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(j,O){if(j){if(typeof j=="string")return N(j,O);var q=Object.prototype.toString.call(j).slice(8,-1);return q==="Object"&&j.constructor&&(q=j.constructor.name),q==="Map"||q==="Set"?Array.from(j):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?N(j,O):void 0}}function S(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function C(j){if(Array.isArray(j))return N(j)}function N(j,O){(O==null||O>j.length)&&(O=j.length);for(var q=0,ae=new Array(O);q<O;q++)ae[q]=j[q];return ae}function B(j){"@babel/helpers - typeof";return(B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(j)}Object.defineProperty(s,"__esModule",{value:!0}),a.d(s,"HighchartsReact",function(){return I});var U=a(1),D=a.n(U),R=typeof window<"u"?U.useLayoutEffect:U.useEffect,I=Object(U.memo)(Object(U.forwardRef)(function(j,O){var q=Object(U.useRef)(),ae=Object(U.useRef)(),te=Object(U.useRef)(j.constructorType),le=Object(U.useRef)(j.highcharts);return R(function(){function J(){var ke=j.highcharts||(typeof window>"u"?"undefined":B(window))==="object"&&window.Highcharts,Ie=j.constructorType||"chart";ke?ke[Ie]?j.options?ae.current=ke[Ie](q.current,j.options,j.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(ae.current){if(j.allowChartUpdate!==!1)if(j.constructorType!==te.current||j.highcharts!==le.current)te.current=j.constructorType,le.current=j.highcharts,J();else if(!j.immutable&&ae.current){var be;(be=ae.current).update.apply(be,[j.options].concat(f(j.updateArgs||[!0,!0])))}else J()}else J()},[j.options,j.allowChartUpdate,j.updateArgs,j.containerProps,j.highcharts,j.constructorType]),R(function(){return function(){ae.current&&(ae.current.destroy(),ae.current=null)}},[]),Object(U.useImperativeHandle)(O,function(){return{get chart(){return ae.current},container:q}},[]),D.a.createElement("div",c({},j.containerProps,{ref:q}))}));s.default=I},function(i,s){i.exports=r}])})})(HA);var YF=HA.exports;const qF=Vo(YF);var GA={exports:{}};(function(e,t){(function(r,i){r._Highcharts=i(),e.exports=r._Highcharts})(typeof window>"u"?xi:window,()=>(()=>{var A1;let r,i;var s,a,c,f,v,x,S,C,N,B,U,D,R,I,j,O,q,ae,te={};te.d=(b,n)=>{for(var o in n)te.o(n,o)&&!te.o(b,o)&&Object.defineProperty(b,o,{enumerable:!0,get:n[o]})},te.o=(b,n)=>Object.prototype.hasOwnProperty.call(b,n);var le={};te.d(le,{default:()=>rP}),function(b){var n,o,l,d,u,p,g;b.SVG_NS="http://www.w3.org/2000/svg",b.product="Highcharts",b.version="12.4.0",b.win=typeof window<"u"?window:{},b.doc=b.win.document,b.svg=!!((l=(o=(n=b.doc)==null?void 0:n.createElementNS)==null?void 0:o.call(n,b.SVG_NS,"svg"))!=null&&l.createSVGRect),b.pageLang=(p=(u=(d=b.doc)==null?void 0:d.documentElement)==null?void 0:u.closest("[lang]"))==null?void 0:p.lang,b.userAgent=((g=b.win.navigator)==null?void 0:g.userAgent)||"",b.isChrome=b.win.chrome,b.isFirefox=b.userAgent.indexOf("Firefox")!==-1,b.isMS=/(edge|msie|trident)/i.test(b.userAgent)&&!b.win.opera,b.isSafari=!b.isChrome&&b.userAgent.indexOf("Safari")!==-1,b.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(b.userAgent),b.isWebKit=b.userAgent.indexOf("AppleWebKit")!==-1,b.deg2rad=2*Math.PI/360,b.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],b.noop=function(){},b.supportsPassiveEvents=function(){let m=!1;if(!b.isMS){let y=Object.defineProperty({},"passive",{get:function(){m=!0}});b.win.addEventListener&&b.win.removeEventListener&&(b.win.addEventListener("testPassive",b.noop,y),b.win.removeEventListener("testPassive",b.noop,y))}return m}(),b.charts=[],b.composed=[],b.dateFormats={},b.seriesTypes={},b.symbolSizes={},b.chartCount=0}(s||(s={}));let J=s,{charts:be,doc:ke,win:Ie}=J;function he(b,n,o,l){let d=n?"Highcharts error":"Highcharts warning";b===32&&(b=`${d}: Deprecated member`);let u=Te(b),p=u?`${d} #${b}: www.highcharts.com/errors/${b}/`:b.toString();if(l!==void 0){let g="";u&&(p+="?"),ut(l,function(m,y){g+=`
 - ${y}: ${m}`,u&&(p+=encodeURI(y)+"="+encodeURI(m))}),p+=g}ft(J,"displayError",{chart:o,code:b,message:p,params:l},function(){if(n)throw Error(p);Ie.console&&he.messages.indexOf(p)===-1&&console.warn(p)}),he.messages.push(p)}function _e(b,n){return parseInt(b,n||10)}function Oe(b){return typeof b=="string"}function Je(b){let n=Object.prototype.toString.call(b);return n==="[object Array]"||n==="[object Array Iterator]"}function ie(b,n){return!!b&&typeof b=="object"&&(!n||!Je(b))}function me(b){return ie(b)&&typeof b.nodeType=="number"}function pe(b){let n=b==null?void 0:b.constructor;return!!(ie(b,!0)&&!me(b)&&(n!=null&&n.name)&&n.name!=="Object")}function Te(b){return typeof b=="number"&&!isNaN(b)&&b<1/0&&b>-1/0}function $e(b){return b!=null}function Ye(b,n,o){let l,d=Oe(n)&&!$e(o),u=(p,g)=>{$e(p)?b.setAttribute(g,p):d?(l=b.getAttribute(g))||g!=="class"||(l=b.getAttribute(g+"Name")):b.removeAttribute(g)};return Oe(n)?u(o,n):ut(n,u),l}function Se(b){return Je(b)?b:[b]}function Ve(b,n){let o;for(o in b||(b={}),n)b[o]=n[o];return b}function et(){let b=arguments,n=b.length;for(let o=0;o<n;o++){let l=b[o];if(l!=null)return l}}function tt(b,n){Ve(b.style,n)}function Ee(b){return Math.pow(10,Math.floor(Math.log(b)/Math.LN10))}function Pe(b,n){return b>1e14?b:parseFloat(b.toPrecision(n||14))}(he||(he={})).messages=[],Math.easeInOutSine=function(b){return-.5*(Math.cos(Math.PI*b)-1)};let ot=Array.prototype.find?function(b,n){return b.find(n)}:function(b,n){let o,l=b.length;for(o=0;o<l;o++)if(n(b[o],o))return b[o]};function ut(b,n,o){for(let l in b)Object.hasOwnProperty.call(b,l)&&n.call(o||b[l],b[l],l,b)}function vt(b,n,o){function l(p,g){let m=b.removeEventListener;m&&m.call(b,p,g,!1)}function d(p){let g,m;b.nodeName&&(n?(g={})[n]=!0:g=p,ut(g,function(y,_){if(p[_])for(m=p[_].length;m--;)l(_,p[_][m].fn)}))}let u=typeof b=="function"&&b.prototype||b;if(Object.hasOwnProperty.call(u,"hcEvents")){let p=u.hcEvents;if(n){let g=p[n]||[];o?(p[n]=g.filter(function(m){return o!==m.fn}),l(n,o)):(d(p),p[n]=[])}else d(p),delete u.hcEvents}}function ft(b,n,o,l){if(o=o||{},(ke==null?void 0:ke.createEvent)&&(b.dispatchEvent||b.fireEvent&&b!==J)){let d=ke.createEvent("Events");d.initEvent(n,!0,!0),o=Ve(d,o),b.dispatchEvent?b.dispatchEvent(o):b.fireEvent(n,o)}else if(b.hcEvents){o.target||Ve(o,{preventDefault:function(){o.defaultPrevented=!0},target:b,type:n});let d=[],u=b,p=!1;for(;u.hcEvents;)Object.hasOwnProperty.call(u,"hcEvents")&&u.hcEvents[n]&&(d.length&&(p=!0),d.unshift.apply(d,u.hcEvents[n])),u=Object.getPrototypeOf(u);p&&d.sort((g,m)=>g.order-m.order),d.forEach(g=>{g.fn.call(b,o)===!1&&o.preventDefault()})}l&&!o.defaultPrevented&&l.call(b,o)}let kt=function(){let b=Math.random().toString(36).substring(2,9)+"-",n=0;return function(){return"highcharts-"+(r?"":b)+n++}}();Ie.jQuery&&(Ie.jQuery.fn.highcharts=function(){let b=[].slice.call(arguments);if(this[0])return b[0]?(new J[Oe(b[0])?b.shift():"Chart"](this[0],b[0],b[1]),this):be[Ye(this[0],"data-highcharts-chart")]});let Ze={addEvent:function(b,n,o,l={}){let d=typeof b=="function"&&b.prototype||b;Object.hasOwnProperty.call(d,"hcEvents")||(d.hcEvents={});let u=d.hcEvents;J.Point&&b instanceof J.Point&&b.series&&b.series.chart&&(b.series.chart.runTrackerClick=!0);let p=b.addEventListener;p&&p.call(b,n,o,!!J.supportsPassiveEvents&&{passive:l.passive===void 0?n.indexOf("touch")!==-1:l.passive,capture:!1}),u[n]||(u[n]=[]);let g={fn:o,order:typeof l.order=="number"?l.order:1/0};return u[n].push(g),u[n].sort((m,y)=>m.order-y.order),function(){vt(b,n,o)}},arrayMax:function(b){let n=b.length,o=b[0];for(;n--;)b[n]>o&&(o=b[n]);return o},arrayMin:function(b){let n=b.length,o=b[0];for(;n--;)b[n]<o&&(o=b[n]);return o},attr:Ye,clamp:function(b,n,o){return b>n?b<o?b:o:n},clearTimeout:function(b){$e(b)&&clearTimeout(b)},correctFloat:Pe,createElement:function(b,n,o,l,d){let u=ke.createElement(b);return n&&Ve(u,n),d&&tt(u,{padding:"0",border:"none",margin:"0"}),o&&tt(u,o),l&&l.appendChild(u),u},crisp:function(b,n=0,o){let l=n%2/2,d=o?-1:1;return(Math.round(b*d-l)+l)*d},css:tt,defined:$e,destroyObjectProperties:function(b,n,o){ut(b,function(l,d){l!==n&&(l!=null&&l.destroy)&&l.destroy(),(l!=null&&l.destroy||!o)&&delete b[d]})},diffObjects:function(b,n,o,l){let d={};return function u(p,g,m,y){let _=o?g:p;ut(p,function(w,E){if(!y&&l&&l.indexOf(E)>-1&&g[E]){w=Se(w),m[E]=[];for(let A=0;A<Math.max(w.length,g[E].length);A++)g[E][A]&&(w[A]===void 0?m[E][A]=g[E][A]:(m[E][A]={},u(w[A],g[E][A],m[E][A],y+1)))}else ie(w,!0)&&!w.nodeType?(m[E]=Je(w)?[]:{},u(w,g[E]||{},m[E],y+1),Object.keys(m[E]).length===0&&(E!=="colorAxis"||y!==0)&&delete m[E]):(p[E]!==g[E]||E in p&&!(E in g))&&E!=="__proto__"&&E!=="constructor"&&(m[E]=_[E])})}(b,n,d,0),d},discardElement:function(b){var n;(n=b==null?void 0:b.parentElement)==null||n.removeChild(b)},erase:function(b,n){let o=b.length;for(;o--;)if(b[o]===n){b.splice(o,1);break}},error:he,extend:Ve,extendClass:function(b,n){let o=function(){};return o.prototype=new b,Ve(o.prototype,n),o},find:ot,fireEvent:ft,getAlignFactor:(b="")=>({center:.5,right:1,middle:.5,bottom:1})[b]||0,getClosestDistance:function(b,n){let o,l,d,u=!n;return b.forEach(p=>{if(p.length>1)for(d=p.length-1;d>0;d--)(l=p[d]-p[d-1])<0&&!u?(n==null||n(),n=void 0):l&&(o===void 0||l<o)&&(o=l)}),o},getMagnitude:Ee,getNestedProperty:function(b,n){let o=b.split(".");for(;o.length&&$e(n);){let l=o.shift();if(l===void 0||l==="__proto__")return;if(l==="this"){let u;return ie(n)&&(u=n["@this"]),u??n}let d=n[l.replace(/[\\'"]/g,"")];if(!$e(d)||typeof d=="function"||typeof d.nodeType=="number"||d===Ie)return;n=d}return n},getStyle:function b(n,o,l){var p;let d;if(o==="width"){let g=Math.min(n.offsetWidth,n.scrollWidth),m=(p=n.getBoundingClientRect)==null?void 0:p.call(n).width;return m<g&&m>=g-1&&(g=Math.floor(m)),Math.max(0,g-(b(n,"padding-left",!0)||0)-(b(n,"padding-right",!0)||0))}if(o==="height")return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(b(n,"padding-top",!0)||0)-(b(n,"padding-bottom",!0)||0));let u=Ie.getComputedStyle(n,void 0);return u&&(d=u.getPropertyValue(o),et(l,o!=="opacity")&&(d=_e(d))),d},insertItem:function(b,n){let o,l=b.options.index,d=n.length;for(o=b.options.isInternal?d:0;o<d+1;o++)if(!n[o]||Te(l)&&l<et(n[o].options.index,n[o]._i)||n[o].options.isInternal){n.splice(o,0,b);break}return o},isArray:Je,isClass:pe,isDOMElement:me,isFunction:function(b){return typeof b=="function"},isNumber:Te,isObject:ie,isString:Oe,merge:function(b,...n){let o,l=[b,...n],d={},u=function(g,m){return typeof g!="object"&&(g={}),ut(m,function(y,_){_!=="__proto__"&&_!=="constructor"&&(!ie(y,!0)||pe(y)||me(y)?g[_]=m[_]:g[_]=u(g[_]||{},y))}),g};b===!0&&(d=l[1],l=Array.prototype.slice.call(l,2));let p=l.length;for(o=0;o<p;o++)d=u(d,l[o]);return d},normalizeTickInterval:function(b,n,o,l,d){let u,p=b;o=et(o,Ee(b));let g=b/o;for(!n&&(n=d?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],l===!1&&(o===1?n=n.filter(function(m){return m%1==0}):o<=.1&&(n=[1/o]))),u=0;u<n.length&&(p=n[u],(!d||!(p*o>=b))&&(d||!(g<=(n[u]+(n[u+1]||n[u]))/2)));u++);return Pe(p*o,-Math.round(Math.log(.001)/Math.LN10))},objectEach:ut,offset:function(b){let n=ke.documentElement,o=b.parentElement||b.parentNode?b.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:o.top+(Ie.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(Ie.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:o.width,height:o.height}},pad:function(b,n,o){return Array((n||2)+1-String(b).replace("-","").length).join(o||"0")+b},pick:et,pInt:_e,pushUnique:function(b,n){return 0>b.indexOf(n)&&!!b.push(n)},relativeLength:function(b,n,o){return/%$/.test(b)?n*parseFloat(b)/100+(o||0):parseFloat(b)},removeEvent:vt,replaceNested:function(b,...n){let o,l;do for(l of(o=b,n))b=b.replace(l[0],l[1]);while(b!==o);return b},splat:Se,stableSort:function(b,n){let o,l,d=b.length;for(l=0;l<d;l++)b[l].safeI=l;for(b.sort(function(u,p){return(o=n(u,p))===0?u.safeI-p.safeI:o}),l=0;l<d;l++)delete b[l].safeI},syncTimeout:function(b,n,o){return n>0?setTimeout(b,n,o):(b.call(0,o),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(b){return Oe(b)?b.substring(0,1).toUpperCase()+b.substring(1):String(b)},uniqueKey:kt,useSerialIds:function(b){return r=et(b,r)},wrap:function(b,n,o){let l=b[n];b[n]=function(){let d=arguments,u=this;return o.apply(this,[function(){return l.apply(u,arguments.length?arguments:d)}].concat([].slice.call(arguments)))}}},{pageLang:Dr,win:Ur}=J,{defined:Yi,error:ci,extend:Hr,isNumber:qi,isObject:Kc,isString:ta,merge:om,objectEach:am,pad:Fn,splat:sh,timeUnits:il,ucfirst:Zc}=Ze,oh=J.isSafari&&Ur.Intl&&!Ur.Intl.DateTimeFormat.prototype.formatRange,ah=b=>b.main===void 0,lm=class{constructor(b,n){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Ur.Date,this.update(b),this.lang=n}update(b={}){this.dTLCache={},this.options=b=om(!0,this.options,b);let{timezoneOffset:n,useUTC:o,locale:l}=b;this.Date=b.Date||Ur.Date||Date;let d=b.timezone;Yi(o)&&(d=o?"UTC":void 0),n&&n%60==0&&(d="Etc/GMT"+(n>0?"+":"")+n/60),this.variableTimezone=d!=="UTC"&&(d==null?void 0:d.indexOf("Etc/GMT"))!==0,this.timezone=d,this.lang&&l&&(this.lang.locale=l),["months","shortMonths","weekdays","shortWeekdays"].forEach(u=>{let p=/months/i.test(u),g=/short/.test(u),m={timeZone:"UTC"};m[p?"month":"weekday"]=g?"short":"long",this[u]=(p?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(y=>this.dateFormat(m,(p?31:1)*24*36e5*y))})}toParts(b){let[n,o,l,d,u,p,g]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},b,"es").split(/(?:, | |\/|:)/g);return[d,l-1,o,u,p,g,Math.floor(Number(b)||0)%1e3,"DLMXJVS".indexOf(n)].map(Number)}dateTimeFormat(b,n,o=this.options.locale||Dr){let l=JSON.stringify(b)+o;ta(b)&&(b=this.str2dtf(b));let d=this.dTLCache[l];if(!d){b.timeZone??(b.timeZone=this.timezone);try{d=new Intl.DateTimeFormat(o,b)}catch(u){/Invalid time zone/i.test(u.message)?(ci(34),b.timeZone="UTC",d=new Intl.DateTimeFormat(o,b)):ci(u.message,!1)}}return this.dTLCache[l]=d,(d==null?void 0:d.format(n))||""}str2dtf(b,n={}){let o={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(o).forEach(l=>{b.indexOf(l)!==-1&&Hr(n,o[l])}),n}makeTime(b,n,o=1,l=0,d,u,p){let g=this.Date.UTC(b,n,o,l,d||0,u||0,p||0);if(this.timezone!=="UTC"){let m=this.getTimezoneOffset(g);if(g+=m,[2,3,8,9,10,11].indexOf(n)!==-1&&(l<5||l>20)){let y=this.getTimezoneOffset(g);m!==y?g+=y-m:m-36e5!==this.getTimezoneOffset(g-36e5)||oh||(g-=36e5)}}return g}parse(b){if(!ta(b))return b??void 0;let n=(b=b.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(b),o=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(b);n||o||(b+="Z");let l=Date.parse(b);if(qi(l))return l+(!n||o?this.getTimezoneOffset(l):0)}getTimezoneOffset(b){if(this.timezone!=="UTC"){let[n,o,l,d,u=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},b,"en").split(/(GMT|:)/).map(Number),p=-(60*(l+u/60)*6e4);if(qi(p))return p}return 0}dateFormat(b,n,o){let l=this.lang;if(!Yi(n)||isNaN(n))return(l==null?void 0:l.invalidDate)||"";if(ta(b=b??"%Y-%m-%d %H:%M:%S")){let d,u=/%\[([a-zA-Z]+)\]/g;for(;d=u.exec(b);)b=b.replace(d[0],this.dateTimeFormat(d[1],n,l==null?void 0:l.locale))}if(ta(b)&&b.indexOf("%")!==-1){let d=this,[u,p,g,m,y,_,w,E]=this.toParts(n),A=(l==null?void 0:l.weekdays)||this.weekdays,L=(l==null?void 0:l.shortWeekdays)||this.shortWeekdays,F=(l==null?void 0:l.months)||this.months,z=(l==null?void 0:l.shortMonths)||this.shortMonths;am(Hr({a:L?L[E]:A[E].substr(0,3),A:A[E],d:Fn(g),e:Fn(g,2," "),w:E,v:(l==null?void 0:l.weekFrom)??"",b:z[p],B:F[p],m:Fn(p+1),o:p+1,y:u.toString().substr(2,2),Y:u,H:Fn(m),k:m,I:Fn(m%12||12),l:m%12||12,M:Fn(y),p:m<12?"AM":"PM",P:m<12?"am":"pm",S:Fn(_),L:Fn(w,3)},J.dateFormats),function($,G){if(ta(b))for(;b.indexOf("%"+G)!==-1;)b=b.replace("%"+G,typeof $=="function"?$.call(d,n):$)})}else if(Kc(b)){let d=(this.getTimezoneOffset(n)||0)/36e5,u=this.timezone||"Etc/GMT"+(d>=0?"+":"")+d,{prefix:p="",suffix:g=""}=b;b=p+this.dateTimeFormat(Hr({timeZone:u},b),n)+g}return o?Zc(b):b}resolveDTLFormat(b){return Kc(b,!0)?Kc(b,!0)&&ah(b)?{main:b}:b:{main:(b=sh(b))[0],from:b[1],to:b[2]}}getDateFormat(b,n,o,l){let d=this.dateFormat("%m-%d %H:%M:%S.%L",n),u="01-01 00:00:00.000",p={millisecond:15,second:12,minute:9,hour:6,day:3},g="millisecond",m=g;for(g in il){if(b&&b===il.week&&+this.dateFormat("%w",n)===o&&d.substr(6)===u.substr(6)){g="week";break}if(b&&il[g]>b){g=m;break}if(p[g]&&d.substr(p[g])!==u.substr(p[g]))break;g!=="week"&&(m=g)}return this.resolveDTLFormat(l[g]).main}},{defined:lh,extend:Qc,timeUnits:nr}=Ze,Jc=class extends lm{getTimeTicks(b,n,o,l){let d=this,u=[],p={},{count:g=1,unitRange:m}=b,[y,_,w,E,A,L]=d.toParts(n),F=(n||0)%1e3,z;if(l??(l=1),lh(n)){if(F=m>=nr.second?0:g*Math.floor(F/g),m>=nr.second&&(L=m>=nr.minute?0:g*Math.floor(L/g)),m>=nr.minute&&(A=m>=nr.hour?0:g*Math.floor(A/g)),m>=nr.hour&&(E=m>=nr.day?0:g*Math.floor(E/g)),m>=nr.day&&(w=m>=nr.month?1:Math.max(1,g*Math.floor(w/g))),m>=nr.month&&(_=m>=nr.year?0:g*Math.floor(_/g)),m>=nr.year&&(y-=y%g),m===nr.week){g&&(n=d.makeTime(y,_,w,E,A,L,F));let X=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},n,"es"),ge="DLMXJVS".indexOf(X);w+=-ge+l+(ge<l?-7:0)}n=d.makeTime(y,_,w,E,A,L,F),d.variableTimezone&&lh(o)&&(z=o-n>4*nr.month||d.getTimezoneOffset(n)!==d.getTimezoneOffset(o));let $=n,G=1;for(;$<o;)u.push($),m===nr.year?$=d.makeTime(y+G*g,0):m===nr.month?$=d.makeTime(y,_+G*g):z&&(m===nr.day||m===nr.week)?$=d.makeTime(y,_,w+G*g*(m===nr.day?1:7)):z&&m===nr.hour&&g>1?$=d.makeTime(y,_,w,E+G*g):$+=m*g,G++;u.push($),m<=nr.hour&&u.length<1e4&&u.forEach(X=>{X%18e5==0&&d.dateFormat("%H%M%S%L",X)==="000000000"&&(p[X]="day")})}return u.info=Qc(b,{higherRanks:p,totalRange:m*g}),u}},{isTouchDevice:cm}=J,{fireEvent:di,merge:dm}=Ze,xn={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:b=>Math.sqrt(1-Math.pow(b-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:cm?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},ra=new Jc(xn.time,xn.lang),Ri={defaultOptions:xn,defaultTime:ra,getOptions:function(){return xn},setOptions:function(b){var n;return di(J,"setOptions",{options:b}),dm(!0,xn,b),b.time&&ra.update(xn.time),b.lang&&"locale"in b.lang&&ra.update({locale:b.lang.locale}),(n=b.lang)!=null&&n.chartTitle&&(xn.title={...xn.title,text:b.lang.chartTitle}),xn}},{win:kw}=J,{isNumber:nl,isString:um,merge:hm,pInt:Gr,defined:ch}=Ze,ed=(b,n,o)=>`color-mix(in srgb,${b},${n} ${100*o}%)`,sl=b=>um(b)&&!!b&&b!=="none";class Wt{static parse(n){return n?new Wt(n):Wt.None}constructor(n){let o,l,d,u;this.rgba=[NaN,NaN,NaN,NaN],this.input=n;let p=J.Color;if(p&&p!==Wt)return new p(n);if(typeof n=="object"&&n.stops!==void 0)this.stops=n.stops.map(g=>new Wt(g[1]));else if(typeof n=="string")for(this.input=n=Wt.names[n.toLowerCase()]||n,d=Wt.parsers.length;d--&&!l;)(o=(u=Wt.parsers[d]).regex.exec(n))&&(l=u.parse(o));l&&(this.rgba=l)}get(n){let o=this.input,l=this.rgba;if(this.output)return this.output;if(typeof o=="object"&&this.stops!==void 0){let d=hm(o);return d.stops=[].slice.call(d.stops),this.stops.forEach((u,p)=>{d.stops[p]=[d.stops[p][0],u.get(n)]}),d}return l&&nl(l[0])?n!=="rgb"&&(n||l[3]!==1)?n==="a"?`${l[3]}`:"rgba("+l.join(",")+")":"rgb("+l[0]+","+l[1]+","+l[2]+")":o}brighten(n){let o=this.rgba;if(this.stops)this.stops.forEach(function(l){l.brighten(n)});else if(nl(n)&&n!==0)if(nl(o[0]))for(let l=0;l<3;l++)o[l]+=Gr(255*n),o[l]<0&&(o[l]=0),o[l]>255&&(o[l]=255);else Wt.useColorMix&&sl(this.input)&&(this.output=ed(this.input,n>0?"white":"black",Math.abs(n)));return this}setOpacity(n){return this.rgba[3]=n,this}tweenTo(n,o){let l=this.rgba,d=n.rgba;if(!nl(l[0])||!nl(d[0]))return Wt.useColorMix&&sl(this.input)&&sl(n.input)&&o<.99?ed(this.input,n.input,o):n.input||"none";let u=d[3]!==1||l[3]!==1,p=(m,y)=>m+(l[y]-m)*(1-o),g=d.slice(0,3).map(p).map(Math.round);return u&&g.push(p(d[3],3)),(u?"rgba(":"rgb(")+g.join(",")+")"}}Wt.names={white:"#ffffff",black:"#000000"},Wt.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(b){return[Gr(b[1]),Gr(b[2]),Gr(b[3]),parseFloat(b[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(b){return[Gr(b[1]),Gr(b[2]),Gr(b[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(b){return[Gr(b[1]+b[1],16),Gr(b[2]+b[2],16),Gr(b[3]+b[3],16),ch(b[4])?Gr(b[4]+b[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(b){return[Gr(b[1],16),Gr(b[2],16),Gr(b[3],16),ch(b[4])?Gr(b[4],16)/255:1]}}],Wt.useColorMix=(A1=kw.CSS)==null?void 0:A1.supports("color","color-mix(in srgb,red,blue 9%)"),Wt.None=new Wt("");let{parse:dh}=Wt,{win:fm}=J,{isNumber:td,objectEach:pm}=Ze;class Vr{constructor(n,o,l){this.pos=NaN,this.options=o,this.elem=n,this.prop=l}dSetter(){let n=this.paths,o=n==null?void 0:n[0],l=n==null?void 0:n[1],d=this.now||0,u=[];if(d!==1&&o&&l)if(o.length===l.length&&d<1)for(let p=0;p<l.length;p++){let g=o[p],m=l[p],y=[];for(let _=0;_<m.length;_++){let w=g[_],E=m[_];td(w)&&td(E)&&(m[0]!=="A"||_!==4&&_!==5)?y[_]=w+d*(E-w):y[_]=E}u.push(y)}else u=l;else u=this.toD||[];this.elem.attr("d",u,void 0,!0)}update(){let n=this.elem,o=this.prop,l=this.now,d=this.options.step;this[o+"Setter"]?this[o+"Setter"]():n.attr?n.element&&n.attr(o,l,null,!0):n.style[o]=l+this.unit,d&&d.call(n,l,this)}run(n,o,l){let d=this,u=d.options,p=function(y){return!p.stopped&&d.step(y)},g=fm.requestAnimationFrame||function(y){setTimeout(y,13)},m=function(){for(let y=0;y<Vr.timers.length;y++)Vr.timers[y]()||Vr.timers.splice(y--,1);Vr.timers.length&&g(m)};n!==o||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=n,this.end=o,this.unit=l,this.now=this.start,this.pos=0,p.elem=this.elem,p.prop=this.prop,p()&&Vr.timers.push(p)===1&&g(m)):(delete u.curAnim[this.prop],u.complete&&Object.keys(u.curAnim).length===0&&u.complete.call(this.elem))}step(n){let o,l,d=+new Date,u=this.options,p=this.elem,g=u.complete,m=u.duration,y=u.curAnim;return p.attr&&!p.element?o=!1:n||d>=m+this.startTime?(this.now=this.end,this.pos=1,this.update(),y[this.prop]=!0,l=!0,pm(y,function(_){_!==!0&&(l=!1)}),l&&g&&g.call(p),o=!1):(this.pos=u.easing((d-this.startTime)/m),this.now=this.start+(this.end-this.start)*this.pos,this.update(),o=!0),o}initPath(n,o,l){let d=n.startX,u=n.endX,p=l.slice(),g=n.isArea,m=g?2:1,y=o&&l.length>o.length&&l.hasStackedCliffs,_,w,E,A,L=o==null?void 0:o.slice();if(!L||y)return[p,p];function F($,G){for(;$.length<w;){let X=$[0],ge=G[w-$.length];if(ge&&X[0]==="M"&&(ge[0]==="C"?$[0]=["C",X[1],X[2],X[1],X[2],X[1],X[2]]:$[0]=["L",X[1],X[2]]),$.unshift(X),g){let de=$.pop();$.push($[$.length-1],de)}}}function z($){for(;$.length<w;){let G=$[Math.floor($.length/m)-1].slice();if(G[0]==="C"&&(G[1]=G[5],G[2]=G[6]),g){let X=$[Math.floor($.length/m)].slice();$.splice($.length/2,0,G,X)}else $.push(G)}}if(d&&u&&u.length){for(E=0;E<d.length;E++)if(d[E]===u[0]){_=E;break}else if(d[0]===u[u.length-d.length+E]){_=E,A=!0;break}else if(d[d.length-1]===u[u.length-d.length+E]){_=d.length-E;break}_===void 0&&(L=[])}return L.length&&td(_)&&(w=p.length+_*m,A?(F(L,p),z(p)):(F(p,L),z(L))),[L,p]}fillSetter(){Vr.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,dh(this.start).tweenTo(dh(this.end),this.pos),void 0,!0)}}Vr.timers=[];let{defined:uh,getStyle:gm,isArray:mm,isNumber:vm,isObject:rd,merge:ia,objectEach:hh,pick:hs}=Ze;function ol(b){return rd(b)?ia({duration:500,defer:0},b):{duration:500*!!b,defer:0}}function fh(b,n){let o=Vr.timers.length;for(;o--;)Vr.timers[o].elem!==b||n&&n!==Vr.timers[o].prop||(Vr.timers[o].stopped=!0)}let Ar={animate:function(b,n,o){let l,d="",u,p,g;rd(o)||(g=arguments,o={duration:g[2],easing:g[3],complete:g[4]}),vm(o.duration)||(o.duration=400),o.easing=typeof o.easing=="function"?o.easing:Math[o.easing]||Math.easeInOutSine,o.curAnim=ia(n),hh(n,function(m,y){fh(b,y),p=new Vr(b,o,y),u=void 0,y==="d"&&mm(n.d)?(p.paths=p.initPath(b,b.pathArray,n.d),p.toD=n.d,l=0,u=1):b.attr?l=b.attr(y):(l=parseFloat(gm(b,y))||0,y!=="opacity"&&(d="px")),u||(u=m),typeof u=="string"&&u.match("px")&&(u=u.replace(/px/g,"")),p.run(l,u,d)})},animObject:ol,getDeferredAnimation:function(b,n,o){let l=ol(n),d=o?[o]:b.series,u=0,p=0;return d.forEach(g=>{let m=ol(g.options.animation);u=rd(n)&&uh(n.defer)?l.defer:Math.max(u,m.duration+m.defer),p=Math.min(l.duration,m.duration)}),b.renderer.forExport&&(u=0),{defer:Math.max(0,u-p),duration:Math.min(u,p)}},setAnimation:function(b,n){n.renderer.globalAnimation=hs(b,n.options.chart.animation,!0)},stop:fh},{SVG_NS:na,win:ph}=J,{attr:xm,createElement:ym,css:fs,error:sa,isFunction:gh,isString:mh,objectEach:vh,splat:oa}=Ze,{trustedTypes:al}=ph,Wn=al&&gh(al.createPolicy)&&al.createPolicy("highcharts",{createHTML:b=>b}),bm=Wn?Wn.createHTML(""):"";class Ut{static filterUserAttributes(n){return vh(n,(o,l)=>{let d=!0;Ut.allowedAttributes.indexOf(l)===-1&&(d=!1),["background","dynsrc","href","lowsrc","src"].indexOf(l)!==-1&&(d=mh(o)&&Ut.allowedReferences.some(u=>o.indexOf(u)===0)),d||(sa(33,!1,void 0,{"Invalid attribute in config":`${l}`}),delete n[l]),mh(o)&&n[l]&&(n[l]=o.replace(/</g,"&lt;"))}),n}static parseStyle(n){return n.split(";").reduce((o,l)=>{let d=l.split(":").map(p=>p.trim()),u=d.shift();return u&&d.length&&(o[u.replace(/-([a-z])/g,p=>p[1].toUpperCase())]=d.join(":")),o},{})}static setElementHTML(n,o){n.innerHTML=Ut.emptyHTML,o&&new Ut(o).addToDOM(n)}constructor(n){this.nodes=typeof n=="string"?this.parseMarkup(n):n}addToDOM(n){return function o(l,d){let u;return oa(l).forEach(function(p){let g,m=p.tagName,y=p.textContent?J.doc.createTextNode(p.textContent):void 0,_=Ut.bypassHTMLFiltering;if(m)if(m==="#text")g=y;else if(Ut.allowedTags.indexOf(m)!==-1||_){let w=m==="svg"?na:d.namespaceURI||na,E=J.doc.createElementNS(w,m),A=p.attributes||{};vh(p,function(L,F){F!=="tagName"&&F!=="attributes"&&F!=="children"&&F!=="style"&&F!=="textContent"&&(A[F]=L)}),xm(E,_?A:Ut.filterUserAttributes(A)),p.style&&fs(E,p.style),y&&E.appendChild(y),o(p.children||[],E),g=E}else sa(33,!1,void 0,{"Invalid tagName in config":m});g&&d.appendChild(g),u=g}),u}(this.nodes,n)}parseMarkup(n){let o,l=[];n=n.trim().replace(/ style=(["'])/g," data-style=$1");try{o=new DOMParser().parseFromString(Wn?Wn.createHTML(n):n,"text/html")}catch{}if(!o){let u=ym("div");u.innerHTML=n,o={body:u}}let d=(u,p)=>{let g=u.nodeName.toLowerCase(),m={tagName:g};g==="#text"&&(m.textContent=u.textContent||"");let y=u.attributes;if(y){let _={};[].forEach.call(y,w=>{w.name==="data-style"?m.style=Ut.parseStyle(w.value):_[w.name]=w.value}),m.attributes=_}if(u.childNodes.length){let _=[];[].forEach.call(u.childNodes,w=>{d(w,_)}),_.length&&(m.children=_)}p.push(m)};return[].forEach.call(o.body.childNodes,u=>d(u,l)),l}}Ut.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Ut.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Ut.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Ut.emptyHTML=bm,Ut.bypassHTMLFiltering=!1;let{defaultOptions:Un,defaultTime:xh}=Ri,{pageLang:wm}=J,{extend:id,getNestedProperty:km,isArray:yh,isNumber:yr,isObject:bh,isString:ll,pick:Gs,ucfirst:Sm}=Ze,yn={add:(b,n)=>b+n,divide:(b,n)=>n!==0?b/n:"",eq:(b,n)=>b==n,each:function(b){let n=arguments[arguments.length-1];return!!yh(b)&&b.map((o,l)=>Vs(n.body,id(bh(o)?o:{"@this":o},{"@index":l,"@first":l===0,"@last":l===b.length-1}))).join("")},ge:(b,n)=>b>=n,gt:(b,n)=>b>n,if:b=>!!b,le:(b,n)=>b<=n,lt:(b,n)=>b<n,multiply:(b,n)=>b*n,ne:(b,n)=>b!=n,subtract:(b,n)=>b-n,ucfirst:Sm,unless:b=>!b},wh={},kh=b=>/^["'].+["']$/.test(b);function Vs(b="",n,o){var z;let l=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,d=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,u=[],p=/f$/,g=/\.(\d)/,m=((z=o==null?void 0:o.options)==null?void 0:z.lang)||Un.lang,y=(o==null?void 0:o.time)||xh,_=(o==null?void 0:o.numberFormatter)||nd.bind(o),w=($="")=>{let G;return $==="true"||$!=="false"&&((G=Number($)).toString()===$?G:kh($)?$.slice(1,-1):km($,n))},E,A,L=0,F;for(;(E=l.exec(b))!==null;){let $=E,G=d.exec(E[1]);G&&(E=G,F=!0),A!=null&&A.isBlock||(A={ctx:n,expression:E[1],find:E[0],isBlock:E[1].charAt(0)==="#",start:E.index,startInner:E.index+E[0].length,length:E[0].length});let X=(A.isBlock?$:E)[1].split(" ")[0].replace("#","");yn[X]&&(A.isBlock&&X===A.fn&&L++,A.fn||(A.fn=X));let ge=E[1]==="else";if(A.isBlock&&A.fn&&(E[1]===`/${A.fn}`||ge))if(L)!ge&&L--;else{let de=A.startInner,fe=b.substr(de,E.index-de);A.body===void 0?(A.body=fe,A.startInner=E.index+E[0].length):A.elseBody=fe,A.find+=fe+E[0],ge||(u.push(A),A=void 0)}else A.isBlock||u.push(A);if(G&&!(A!=null&&A.isBlock))break}return u.forEach($=>{let G,X,{body:ge,elseBody:de,expression:fe,fn:ye}=$;if(ye){let ve=[$],xe=[],Ae=fe.length,je=0,Fe;for(X=0;X<=Ae;X++){let He=fe.charAt(X);Fe||He!=='"'&&He!=="'"?Fe===He&&(Fe=""):Fe=He,Fe||He!==" "&&X!==Ae||(xe.push(fe.substr(je,X-je)),je=X+1)}for(X=yn[ye].length;X--;)ve.unshift(w(xe[X+1]));G=yn[ye].apply(n,ve),$.isBlock&&typeof G=="boolean"&&(G=Vs(G?ge:de,n,o))}else{let ve=kh(fe)?[fe]:fe.split(":"),xe=(G=w(ve.shift()||""))%1!=0;if(typeof G=="number"&&(ve.length||xe)){let Ae=ve.join(":");if(p.test(Ae)||xe){let je=parseInt((Ae.match(g)||["","-1"])[1],10);G!==null&&(G=_(G,je,m.decimalPoint,Ae.indexOf(",")>-1?m.thousandsSep:""))}else G=y.dateFormat(Ae,G)}d.lastIndex=0,d.test($.find)&&ll(G)&&(G=`"${G}"`)}b=b.replace($.find,Gs(G,""))}),F?Vs(b,n,o):b}function nd(b,n,o,l){var F;n*=1;let d,u,[p,g]=(b=+b||0).toString().split("e").map(Number),m=((F=this==null?void 0:this.options)==null?void 0:F.lang)||Un.lang,y=(b.toString().split(".")[1]||"").split("e")[0].length,_=n,w={};o??(o=m.decimalPoint),l??(l=m.thousandsSep),n===-1?n=Math.min(y,20):yr(n)?n&&g<0&&((u=n+g)>=0?(p=+p.toExponential(u).split("e")[0],n=u):(p=Math.floor(p),b=n<20?+(p*Math.pow(10,g)).toFixed(n):0,g=0)):n=2,g&&(n??(n=2),b=p),yr(n)&&n>=0&&(w.minimumFractionDigits=n,w.maximumFractionDigits=n),l===""&&(w.useGrouping=!1);let E=l||o,A=E?"en":(this==null?void 0:this.locale)||m.locale||wm,L=JSON.stringify(w)+A;return d=(wh[L]??(wh[L]=new Intl.NumberFormat(A,w))).format(b),E&&(d=d.replace(/([,\.])/g,"_$1").replace(/_\,/g,l??",").replace("_.",o??".")),(n||+d!=0)&&(!(g<0)||_)||(d="0"),g&&+d!=0&&(d+="e"+(g<0?"":"+")+g),d}let sr={dateFormat:function(b,n,o){return xh.dateFormat(b,n,o)},format:Vs,helpers:yn,numberFormat:nd};(function(b){let n;b.rendererTypes={},b.getRendererType=function(o=n){return b.rendererTypes[o]||b.rendererTypes[n]},b.registerRendererType=function(o,l,d){b.rendererTypes[o]=l,(!n||d)&&(n=o,J.Renderer=l)}})(a||(a={}));let Ki=a,{clamp:ui,pick:cl,pushUnique:Sh,stableSort:Xs}=Ze;(c||(c={})).distribute=function b(n,o,l){let d=n,u=d.reducedLen||o,p=(X,ge)=>X.target-ge.target,g=[],m=n.length,y=[],_=g.push,w,E,A,L=!0,F,z,$=0,G;for(w=m;w--;)$+=n[w].size;if($>u){for(Xs(n,(X,ge)=>(ge.rank||0)-(X.rank||0)),A=(G=n[0].rank===n[n.length-1].rank)?m/2:-1,E=G?A:m-1;A&&$>u;)F=n[w=Math.floor(E)],Sh(y,w)&&($-=F.size),E+=A,G&&E>=n.length&&(A/=2,E=A);y.sort((X,ge)=>ge-X).forEach(X=>_.apply(g,n.splice(X,1)))}for(Xs(n,p),n=n.map(X=>({size:X.size,targets:[X.target],align:cl(X.align,.5)}));L;){for(w=n.length;w--;)F=n[w],z=(Math.min.apply(0,F.targets)+Math.max.apply(0,F.targets))/2,F.pos=ui(z-F.size*F.align,0,o-F.size);for(w=n.length,L=!1;w--;)w>0&&n[w-1].pos+n[w-1].size>n[w].pos&&(n[w-1].size+=n[w].size,n[w-1].targets=n[w-1].targets.concat(n[w].targets),n[w-1].align=.5,n[w-1].pos+n[w-1].size>o&&(n[w-1].pos=o-n[w-1].size),n.splice(w,1),L=!0)}return _.apply(d,g),w=0,n.some(X=>{let ge=0;return(X.targets||[]).some(()=>(d[w].pos=X.pos+ge,l!==void 0&&Math.abs(d[w].pos-d[w].target)>l?(d.slice(0,w+1).forEach(de=>delete de.pos),d.reducedLen=(d.reducedLen||o)-.1*o,d.reducedLen>.1*o&&b(d,o,l),!0):(ge+=d[w].size,w++,!1)))}),Xs(d,p),d};let ps=c,{animate:_m,animObject:_h,stop:dl}=Ar,{deg2rad:Ys,doc:Zi,svg:Ch,SVG_NS:Qi,win:ul,isFirefox:Cm}=J,{addEvent:Ji,attr:sd,createElement:od,crisp:qs,css:Eh,defined:en,erase:ad,extend:gs,fireEvent:hl,getAlignFactor:ld,isArray:Hn,isFunction:Th,isNumber:Ah,isObject:Ks,isString:Mh,merge:fl,objectEach:Zs,pick:Li,pInt:pl,pushUnique:Em,replaceNested:Tm,syncTimeout:Am,uniqueKey:cd}=Ze;class gr{_defaultGetter(n){let o=Li(this[n+"Value"],this[n],this.element?this.element.getAttribute(n):null,0);return/^-?[\d\.]+$/.test(o)&&(o=parseFloat(o)),o}_defaultSetter(n,o,l){l.setAttribute(o,n)}add(n){let o,l=this.renderer,d=this.element;return n&&(this.parentGroup=n),this.textStr!==void 0&&this.element.nodeName==="text"&&l.buildText(this),this.added=!0,(!n||n.handleZ||this.zIndex)&&(o=this.zIndexSetter()),o||(n?n.element:l.box).appendChild(d),this.onAdd&&this.onAdd(),this}addClass(n,o){let l=o?"":this.attr("class")||"";return(n=(n||"").split(/ /g).reduce(function(d,u){return l.indexOf(u)===-1&&d.push(u),d},l?[l]:[]).join(" "))!==l&&this.attr("class",n),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(n,o,l,d=!0){let u=this.renderer,p=u.alignedObjects,g=!!n;n?(this.alignOptions=n,this.alignByTranslate=o,this.alignTo=l):(n=this.alignOptions||{},o=this.alignByTranslate,l=this.alignTo);let m=!l||Mh(l)?l||"renderer":void 0;m&&(g&&Em(p,this),l=void 0);let y=Li(l,u[m],u),_=(y.x||0)+(n.x||0)+((y.width||0)-(n.width||0))*ld(n.align),w=(y.y||0)+(n.y||0)+((y.height||0)-(n.height||0))*ld(n.verticalAlign),E={"text-align":n==null?void 0:n.align};return E[o?"translateX":"x"]=Math.round(_),E[o?"translateY":"y"]=Math.round(w),d&&(this[this.placed?"animate":"attr"](E),this.placed=!0),this.alignAttr=E,this}alignSetter(n){let o={left:"start",center:"middle",right:"end"};o[n]&&(this.alignValue=n,this.element.setAttribute("text-anchor",o[n]))}animate(n,o,l){let d=_h(Li(o,this.renderer.globalAnimation,!0)),u=d.defer;return Zi.hidden&&(d.duration=0),d.duration!==0?(l&&(d.complete=l),Am(()=>{this.element&&_m(this,n,d)},u)):(this.attr(n,void 0,l||d.complete),Zs(n,function(p,g){d.step&&d.step.call(this,p,{prop:g,pos:1,elem:this})},this)),this}applyTextOutline(n){let o=this.element;n.indexOf("contrast")!==-1&&(n=n.replace(/contrast/g,this.renderer.getContrast(o.style.fill)));let l=n.indexOf(" "),d=n.substring(l+1),u=n.substring(0,l);if(u&&u!=="none"&&J.svg){this.fakeTS=!0,u=u.replace(/(^[\d\.]+)(.*?)$/g,function(_,w,E){return 2*Number(w)+E}),this.removeTextOutline();let p=Zi.createElementNS(Qi,"tspan");sd(p,{class:"highcharts-text-outline",fill:d,stroke:d,"stroke-width":u,"stroke-linejoin":"round"});let g=o.querySelector("textPath")||o;[].forEach.call(g.childNodes,_=>{let w=_.cloneNode(!0);w.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(E=>w.removeAttribute(E)),p.appendChild(w)});let m=0;[].forEach.call(g.querySelectorAll("text tspan"),_=>{m+=Number(_.getAttribute("dy"))});let y=Zi.createElementNS(Qi,"tspan");y.textContent="",sd(y,{x:Number(o.getAttribute("x")),dy:-m}),p.appendChild(y),g.insertBefore(p,g.firstChild)}}attr(n,o,l,d){let{element:u}=this,p=gr.symbolCustomAttribs,g,m,y=this,_;return typeof n=="string"&&o!==void 0&&(g=n,(n={})[g]=o),typeof n=="string"?y=(this[n+"Getter"]||this._defaultGetter).call(this,n,u):(Zs(n,function(w,E){_=!1,d||dl(this,E),this.symbolName&&p.indexOf(E)!==-1&&(m||(this.symbolAttr(n),m=!0),_=!0),this.rotation&&(E==="x"||E==="y")&&(this.doTransform=!0),_||(this[E+"Setter"]||this._defaultSetter).call(this,w,E,u)},this),this.afterSetters()),l&&l.call(this),y}clip(n){if(n&&!n.clipPath){let o=cd()+"-",l=this.renderer.createElement("clipPath").attr({id:o}).add(this.renderer.defs);gs(n,{clipPath:l,id:o,count:0}),n.add(l)}return this.attr("clip-path",n?`url(${this.renderer.url}#${n.id})`:"none")}crisp(n,o){o=Math.round(o||n.strokeWidth||0);let l=n.x||this.x||0,d=n.y||this.y||0,u=(n.width||this.width||0)+l,p=(n.height||this.height||0)+d,g=qs(l,o),m=qs(d,o);return gs(n,{x:g,y:m,width:qs(u,o)-g,height:qs(p,o)-m}),en(n.strokeWidth)&&(n.strokeWidth=o),n}complexColor(n,o,l){let d=this.renderer,u,p,g,m,y,_,w,E,A,L,F=[],z;hl(this.renderer,"complexColor",{args:arguments},function(){if(n.radialGradient?p="radialGradient":n.linearGradient&&(p="linearGradient"),p){if(g=n[p],y=d.gradients,_=n.stops,A=l.radialReference,Hn(g)&&(n[p]=g={x1:g[0],y1:g[1],x2:g[2],y2:g[3],gradientUnits:"userSpaceOnUse"}),p==="radialGradient"&&A&&!en(g.gradientUnits)&&(m=g,g=fl(g,d.getRadialAttr(A,m),{gradientUnits:"userSpaceOnUse"})),Zs(g,function($,G){G!=="id"&&F.push(G,$)}),Zs(_,function($){F.push($)}),y[F=F.join(",")])L=y[F].attr("id");else{g.id=L=cd();let $=y[F]=d.createElement(p).attr(g).add(d.defs);$.radAttr=m,$.stops=[],_.forEach(function(G){G[1].indexOf("rgba")===0?(w=(u=Wt.parse(G[1])).get("rgb"),E=u.get("a")):(w=G[1],E=1);let X=d.createElement("stop").attr({offset:G[0],"stop-color":w,"stop-opacity":E}).add($);$.stops.push(X)})}z="url("+d.url+"#"+L+")",l.setAttribute(o,z),l.gradient=F,n.toString=function(){return z}}})}css(n){let o=this.styles,l={},d=this.element,u,p=!o;if(o&&Zs(n,function(g,m){o&&o[m]!==g&&(l[m]=g,p=!0)}),p){o&&(n=gs(o,l)),n.width===null||n.width==="auto"?delete this.textWidth:d.nodeName.toLowerCase()==="text"&&n.width&&(u=this.textWidth=pl(n.width)),gs(this.styles,n),u&&!Ch&&this.renderer.forExport&&delete n.width;let g=Cm&&n.fontSize||null;g&&(Ah(g)||/^\d+$/.test(g))&&(n.fontSize+="px");let m=fl(n);d.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(y=>m&&delete m[y]),m.color&&(m.fill=m.color,delete m.color)),Eh(d,m)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),n.textOutline&&this.applyTextOutline(n.textOutline)),this}dashstyleSetter(n){let o,l=this["stroke-width"];if(l==="inherit"&&(l=1),n){let d=(n=n.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(o=d.length;o--;)d[o]=""+pl(d[o])*Li(l,NaN);n=d.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",n)}}destroy(){let n=this,o=n.element||{},l=n.renderer,d=o.ownerSVGElement,u=o.nodeName==="SPAN"&&n.parentGroup||void 0,p,g;if(o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=o.point=null,dl(n),n.clipPath&&d){let m=n.clipPath;[].forEach.call(d.querySelectorAll("[clip-path],[CLIP-PATH]"),function(y){y.getAttribute("clip-path").indexOf(m.element.id)>-1&&y.removeAttribute("clip-path")}),n.clipPath=m.destroy()}if(n.stops){for(g=0;g<n.stops.length;g++)n.stops[g].destroy();n.stops.length=0,n.stops=void 0}for(n.safeRemoveChild(o);u!=null&&u.div&&u.div.childNodes.length===0;)p=u.parentGroup,n.safeRemoveChild(u.div),delete u.div,u=p;n.alignOptions&&ad(l.alignedObjects,n),Zs(n,(m,y)=>{var _,w,E;(((_=n[y])==null?void 0:_.parentGroup)===n||["connector","foreignObject"].indexOf(y)!==-1)&&((E=(w=n[y])==null?void 0:w.destroy)==null||E.call(w)),delete n[y]})}dSetter(n,o,l){Hn(n)&&(typeof n[0]=="string"&&(n=this.renderer.pathToSegments(n)),this.pathArray=n,n=n.reduce((d,u,p)=>u!=null&&u.join?(p?d+" ":"")+u.join(" "):(u||"").toString(),"")),/(NaN| {2}|^$)/.test(n)&&(n="M 0 0"),this[o]!==n&&(l.setAttribute(o,n),this[o]=n)}fillSetter(n,o,l){typeof n=="string"?l.setAttribute(o,n):n&&this.complexColor(n,o,l)}hrefSetter(n,o,l){l.setAttributeNS("http://www.w3.org/1999/xlink",o,n)}getBBox(n,o){let l,d,u,p,{alignValue:g,element:m,renderer:y,styles:_,textStr:w}=this,{cache:E,cacheKeys:A}=y,L=m.namespaceURI===this.SVG_NS,F=Li(o,this.rotation,0),z=y.styledMode?m&&gr.prototype.getStyle.call(m,"font-size"):_.fontSize;if(en(w)&&((p=w.toString()).indexOf("<")===-1&&(p=p.replace(/\d/g,"0")),p+=["",y.rootFontSize,z,F,this.textWidth,g,_.lineClamp,_.textOverflow,_.fontWeight].join(",")),p&&!n&&(l=E[p]),!l||l.polygon){if(L||y.forExport){try{u=this.fakeTS&&function(G){let X=m.querySelector(".highcharts-text-outline");X&&Eh(X,{display:G})},Th(u)&&u("none"),l=m.getBBox?gs({},m.getBBox()):{width:m.offsetWidth,height:m.offsetHeight,x:0,y:0},Th(u)&&u("")}catch{}(!l||l.width<0)&&(l={x:0,y:0,width:0,height:0})}else l=this.htmlGetBBox();d=l.height,L&&(l.height=d={"11px,17":14,"13px,20":16}[`${z||""},${Math.round(d)}`]||d),F&&(l=this.getRotatedBox(l,F));let $={bBox:l};hl(this,"afterGetBBox",$),l=$.bBox}if(p&&(w===""||l.height>0)){for(;A.length>250;)delete E[A.shift()];E[p]||A.push(p),E[p]=l}return l}getRotatedBox(n,o){let{x:l,y:d,width:u,height:p}=n,{alignValue:g,translateY:m,rotationOriginX:y=0,rotationOriginY:_=0}=this,w=ld(g),E=Number(this.element.getAttribute("y")||0)-(m?0:d),A=o*Ys,L=(o-90)*Ys,F=Math.cos(A),z=Math.sin(A),$=u*F,G=u*z,X=Math.cos(L),ge=Math.sin(L),[[de,fe],[ye,ve]]=[y,_].map(Nt=>[Nt-Nt*F,Nt*z]),xe=l+w*(u-$)+de+ve+E*X,Ae=xe+$,je=Ae-p*X,Fe=je-$,He=d+E-w*G-fe+ye+E*ge,it=He+G,Qe=it-p*ge,lt=Qe-G,Ke=Math.min(xe,Ae,je,Fe),ct=Math.min(He,it,Qe,lt),wt=Math.max(xe,Ae,je,Fe)-Ke,At=Math.max(He,it,Qe,lt)-ct;return{x:Ke,y:ct,width:wt,height:At,polygon:[[xe,He],[Ae,it],[je,Qe],[Fe,lt]]}}getStyle(n){return ul.getComputedStyle(this.element||this,"").getPropertyValue(n)}hasClass(n){return(""+this.attr("class")).split(" ").indexOf(n)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(n,o){this.onEvents={},this.opacity=1,this.SVG_NS=Qi,this.element=o==="span"||o==="body"?od(o):Zi.createElementNS(this.SVG_NS,o),this.renderer=n,this.styles={},hl(this,"afterInit")}on(n,o){let{onEvents:l}=this;return l[n]&&l[n](),l[n]=Ji(this.element,n,o),this}opacitySetter(n,o,l){let d=Number(Number(n).toFixed(3));this.opacity=d,l.setAttribute(o,d)}reAlign(){var n;(n=this.alignOptions)!=null&&n.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(n){return this.attr("class",(""+this.attr("class")).replace(Mh(n)?RegExp(`(^| )${n}( |$)`):n," ").replace(/ +/g," ").trim())}removeTextOutline(){let n=this.element.querySelector("tspan.highcharts-text-outline");n&&this.safeRemoveChild(n)}safeRemoveChild(n){let o=n.parentNode;o&&o.removeChild(n)}setRadialReference(n){let o=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=n,o!=null&&o.radAttr&&o.animate(this.renderer.getRadialAttr(n,o.radAttr)),this}shadow(n){var u;let{renderer:o}=this,l=fl(((u=this.parentGroup)==null?void 0:u.rotation)===90?{offsetX:-1,offsetY:-1}:{},Ks(n)?n:{}),d=o.shadowDefinition(l);return this.attr({filter:n?`url(${o.url}#${d})`:"none"})}show(n=!0){return this.attr({visibility:n?"inherit":"visible"})}"stroke-widthSetter"(n,o,l){this[o]=n,l.setAttribute(o,n)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let n=this.getStyle("stroke-width"),o=0,l;return/px$/.test(n)?o=pl(n):n!==""&&(sd(l=Zi.createElementNS(Qi,"rect"),{width:n,"stroke-width":0}),this.element.parentNode.appendChild(l),o=l.getBBox().width,l.parentNode.removeChild(l)),o}symbolAttr(n){let o=this;gr.symbolCustomAttribs.forEach(function(l){o[l]=Li(n[l],o[l])}),o.attr({d:o.renderer.symbols[o.symbolName](o.x,o.y,o.width,o.height,o)})}textSetter(n){n!==this.textStr&&(delete this.textPxLength,this.textStr=n,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(n){let o=this.element,l=o.getElementsByTagName("title")[0]||Zi.createElementNS(this.SVG_NS,"title");o.insertBefore?o.insertBefore(l,o.firstChild):o.appendChild(l),l.textContent=Tm(Li(n,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let n=this.element;return n.parentNode.appendChild(n),this}translate(n,o){return this.attr({translateX:n,translateY:o})}updateTransform(n="transform"){let{element:o,foreignObject:l,matrix:d,padding:u,rotation:p=0,rotationOriginX:g,rotationOriginY:m,scaleX:y,scaleY:_,text:w,translateX:E=0,translateY:A=0}=this,L=["translate("+E+","+A+")"];en(d)&&L.push("matrix("+d.join(",")+")"),p&&(L.push("rotate("+p+" "+(g??o.getAttribute("x")??this.x??0)+" "+(m??o.getAttribute("y")??this.y??0)+")"),(w==null?void 0:w.element.tagName)!=="SPAN"||w!=null&&w.foreignObject||w.attr({rotation:p,rotationOriginX:(g||0)-u,rotationOriginY:(m||0)-u})),(en(y)||en(_))&&L.push("scale("+Li(y,1)+" "+Li(_,1)+")"),L.length&&!(w||this).textPath&&((l==null?void 0:l.element)||o).setAttribute(n,L.join(" "))}visibilitySetter(n,o,l){n==="inherit"?l.removeAttribute(o):this[o]!==n&&l.setAttribute(o,n),this[o]=n}xGetter(n){return this.element.nodeName==="circle"&&(n==="x"?n="cx":n==="y"&&(n="cy")),this._defaultGetter(n)}zIndexSetter(n,o){let l=this.renderer,d=this.parentGroup,u=(d||l).element||l.box,p=this.element,g=u===l.box,m,y,_,w=!1,E,A=this.added,L;if(en(n)?(p.setAttribute("data-z-index",n),n*=1,this[o]===n&&(A=!1)):en(this[o])&&p.removeAttribute("data-z-index"),this[o]=n,A){for((n=this.zIndex)&&d&&(d.handleZ=!0),L=(m=u.childNodes).length-1;L>=0&&!w;L--)E=!en(_=(y=m[L]).getAttribute("data-z-index")),y!==p&&(n<0&&E&&!g&&!L?(u.insertBefore(p,m[L]),w=!0):(pl(_)<=n||E&&(!en(n)||n>=0))&&(u.insertBefore(p,m[L+1]),w=!0));w||(u.insertBefore(p,m[3*!!g]),w=!0)}return w}}gr.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],gr.prototype.strokeSetter=gr.prototype.fillSetter,gr.prototype.yGetter=gr.prototype.xGetter,gr.prototype.matrixSetter=gr.prototype.rotationOriginXSetter=gr.prototype.rotationOriginYSetter=gr.prototype.rotationSetter=gr.prototype.scaleXSetter=gr.prototype.scaleYSetter=gr.prototype.translateXSetter=gr.prototype.translateYSetter=gr.prototype.verticalAlignSetter=function(b,n){this[n]=b,this.doTransform=!0};let tn=gr,{defined:jh,extend:Mm,getAlignFactor:Nh,isNumber:Qs,merge:jm,pick:Js,removeEvent:gl}=Ze;class Gn extends tn{constructor(n,o,l,d,u,p,g,m,y,_){let w;super(n,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=o,this.x=l,this.y=d,this.anchorX=p,this.anchorY=g,this.baseline=y,this.className=_,this.addClass(_==="button"?"highcharts-no-tooltip":"highcharts-label"),_&&this.addClass("highcharts-"+_),this.text=n.text(void 0,0,0,m).attr({zIndex:1}),typeof u=="string"&&((w=/^url\((.*?)\)$/.test(u))||this.renderer.symbols[u])&&(this.symbolKey=u),this.bBox=Gn.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=n.styledMode||w,this.deferredAttr={},this.alignFactor=0}alignSetter(n){let o=Nh(n);this.textAlign=n,o!==this.alignFactor&&(this.alignFactor=o,this.bBox&&Qs(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(n,o){this.anchorX=n,this.boxAttr(o,Math.round(n)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(n,o){this.anchorY=n,this.boxAttr(o,n-this.ySetting)}boxAttr(n,o){this.box?this.box.attr(n,o):this.deferredAttr[n]=o}css(n){if(n){let o={};n=jm(n),Gn.textProps.forEach(l=>{n[l]!==void 0&&(o[l]=n[l],delete n[l])}),this.text.css(o),"fontSize"in o||"fontWeight"in o?this.updateTextPadding():("width"in o||"textOverflow"in o)&&this.updateBoxSize()}return tn.prototype.css.call(this,n)}destroy(){gl(this.element,"mouseenter"),gl(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),tn.prototype.destroy.call(this)}fillSetter(n,o){n&&(this.needsBox=!0),this.fill=n,this.boxAttr(o,n)}getBBox(n,o){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:l,height:d=0,translateX:u=0,translateY:p=0,width:g=0}=this,m=Js(this.paddingLeft,l),y=o??(this.rotation||0),_={width:g,height:d,x:u+this.bBox.x-m,y:p+this.bBox.y-l+this.baselineOffset};return y&&(_=this.getRotatedBox(_,y)),_}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(n){this.heightSetting=n,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Js(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&jh(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(n,o){Qs(n)?n!==this[o]&&(this[o]=n,this.updateTextPadding()):this[o]=void 0}rSetter(n,o){this.boxAttr(o,n)}strokeSetter(n,o){this.stroke=n,this.boxAttr(o,n)}"stroke-widthSetter"(n,o){n&&(this.needsBox=!0),this["stroke-width"]=n,this.boxAttr(o,n)}"text-alignSetter"(n){this.textAlign=this["text-align"]=n,this.updateTextPadding()}textSetter(n){n!==void 0&&this.text.attr({text:n}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let n,o=this.text,l={},d=this.padding,u=this.bBox=(!Qs(this.widthSetting)||!Qs(this.heightSetting)||this.textAlign)&&jh(o.textStr)?o.getBBox(void 0,0):Gn.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||u.height||0)+2*d;let p=this.renderer.fontMetrics(o);if(this.baselineOffset=d+Math.min((this.text.firstLineMetrics||p).b,u.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-p.h)/2),this.needsBox&&!o.textPath){if(!this.box){let g=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();g.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),g.add(this)}l.x=n=this.getCrispAdjust(),l.y=(this.baseline?-this.baselineOffset:0)+n,l.width=Math.round(this.width),l.height=Math.round(this.height),this.box.attr(Mm(l,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let n=this.text,o=n.styles.textAlign||this.textAlign;if(!n.textPath){this.updateBoxSize();let l=this.baseline?0:this.baselineOffset,d=(this.paddingLeft??this.padding)+Nh(o)*(this.widthSetting??this.bBox.width);(d!==n.x||l!==n.y)&&(n.attr({align:o,x:d}),l!==void 0&&n.attr("y",l)),n.x=d,n.y=l}}widthSetter(n){this.widthSetting=Qs(n)?n:void 0,this.doUpdate=!0}getPaddedWidth(){let n=this.padding,o=Js(this.paddingLeft,n),l=Js(this.paddingRight,n);return(this.widthSetting||this.bBox.width||0)+o+l}xSetter(n){this.x=n,this.alignFactor&&(n-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(n),this.attr("translateX",this.xSetting)}ySetter(n){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(n),this.attr("translateY",this.ySetting)}}Gn.emptyBBox={width:0,height:0,x:0,y:0},Gn.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Ii,isNumber:aa,pick:hi}=Ze;function rn(b,n,o,l,d){let u=[];if(d){let p=d.start||0,g=d.end||0,m=hi(d.r,o),y=hi(d.r,l||o),_=2e-4/(d.borderRadius?1:Math.max(m,1)),w=Math.abs(g-p-2*Math.PI)<_;w&&(p=Math.PI/2,g=2.5*Math.PI-_);let E=d.innerR,A=hi(d.open,w),L=Math.cos(p),F=Math.sin(p),z=Math.cos(g),$=Math.sin(g),G=hi(d.longArc,g-p-Math.PI<_?0:1),X=["A",m,y,0,G,hi(d.clockwise,1),b+m*z,n+y*$];X.params={start:p,end:g,cx:b,cy:n},u.push(["M",b+m*L,n+y*F],X),Ii(E)&&((X=["A",E,E,0,G,Ii(d.clockwise)?1-d.clockwise:0,b+E*L,n+E*F]).params={start:g,end:p,cx:b,cy:n},u.push(A?["M",b+E*z,n+E*$]:["L",b+E*z,n+E*$],X)),A||u.push(["Z"])}return u}function Ph(b,n,o,l,d){return d!=null&&d.r?dd(b,n,o,l,d):[["M",b,n],["L",b+o,n],["L",b+o,n+l],["L",b,n+l],["Z"]]}function dd(b,n,o,l,d){let u=(d==null?void 0:d.r)||0;return[["M",b+u,n],["L",b+o-u,n],["A",u,u,0,0,1,b+o,n+u],["L",b+o,n+l-u],["A",u,u,0,0,1,b+o-u,n+l],["L",b+u,n+l],["A",u,u,0,0,1,b,n+l-u],["L",b,n+u],["A",u,u,0,0,1,b+u,n],["Z"]]}let Oh={arc:rn,callout:function(b,n,o,l,d){let u=Math.min((d==null?void 0:d.r)||0,o,l),p=u+6,g=d==null?void 0:d.anchorX,m=(d==null?void 0:d.anchorY)||0,y=dd(b,n,o,l,{r:u});if(!aa(g)||g<o&&g>0&&m<l&&m>0)return y;if(b+g>o-p)if(m>n+p&&m<n+l-p)y.splice(3,1,["L",b+o,m-6],["L",b+o+6,m],["L",b+o,m+6],["L",b+o,n+l-u]);else if(g<o){let _=m<n+p,w=_?n:n+l;y.splice(_?2:5,0,["L",g,m],["L",b+o-u,w])}else y.splice(3,1,["L",b+o,l/2],["L",g,m],["L",b+o,l/2],["L",b+o,n+l-u]);else if(b+g<p)if(m>n+p&&m<n+l-p)y.splice(7,1,["L",b,m+6],["L",b-6,m],["L",b,m-6],["L",b,n+u]);else if(g>0){let _=m<n+p,w=_?n:n+l;y.splice(_?1:6,0,["L",g,m],["L",b+u,w])}else y.splice(7,1,["L",b,l/2],["L",g,m],["L",b,l/2],["L",b,n+u]);else m>l&&g<o-p?y.splice(5,1,["L",g+6,n+l],["L",g,n+l+6],["L",g-6,n+l],["L",b+u,n+l]):m<0&&g>p&&y.splice(1,1,["L",g-6,n],["L",g,n-6],["L",g+6,n],["L",o-u,n]);return y},circle:function(b,n,o,l){return rn(b+o/2,n+l/2,o/2,l/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(b,n,o,l){return[["M",b+o/2,n],["L",b+o,n+l/2],["L",b+o/2,n+l],["L",b,n+l/2],["Z"]]},rect:Ph,roundedRect:dd,square:Ph,triangle:function(b,n,o,l){return[["M",b+o/2,n],["L",b+o,n+l],["L",b,n+l],["Z"]]},"triangle-down":function(b,n,o,l){return[["M",b,n],["L",b+o,n],["L",b+o/2,n+l],["Z"]]}},{doc:ml,SVG_NS:eo,win:$r}=J,{attr:la,extend:Vn,fireEvent:Nm,isString:nn,objectEach:Pm,pick:Rh}=Ze,ms=(b,n)=>b.substring(0,n)+"",Om=class{constructor(b){let n=b.styles;this.renderer=b.renderer,this.svgElement=b,this.width=b.textWidth,this.textLineHeight=n==null?void 0:n.lineHeight,this.textOutline=n==null?void 0:n.textOutline,this.ellipsis=(n==null?void 0:n.textOverflow)==="ellipsis",this.lineClamp=n==null?void 0:n.lineClamp,this.noWrap=(n==null?void 0:n.whiteSpace)==="nowrap"}buildSVG(){let b=this.svgElement,n=b.element,o=b.renderer,l=Rh(b.textStr,"").toString(),d=l.indexOf("<")!==-1,u=n.childNodes,p=!b.added&&o.box,g=[l,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,b.getStyle("font-size"),b.styles.lineClamp,this.width].join(",");if(g!==b.textCache){b.textCache=g,delete b.actualWidth;for(let m=u.length;m--;)n.removeChild(u[m]);if(d||this.ellipsis||this.width||b.textPath||l.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(l))){if(l!==""){p&&p.appendChild(n);let m=new Ut(l);this.modifyTree(m.nodes),m.addToDOM(n),this.modifyDOM(),this.ellipsis&&(n.textContent||"").indexOf("")!==-1&&b.attr("title",this.unescapeEntities(b.textStr||"",["&lt;","&gt;"])),p&&p.removeChild(n)}}else n.appendChild(ml.createTextNode(this.unescapeEntities(l)));nn(this.textOutline)&&b.applyTextOutline&&b.applyTextOutline(this.textOutline)}}modifyDOM(){let b,n=this.svgElement,o=la(n.element,"x");for(n.firstLineMetrics=void 0;(b=n.element.firstChild)&&/^[\s\u200B]*$/.test(b.textContent||" ");)n.element.removeChild(b);[].forEach.call(n.element.querySelectorAll("tspan.highcharts-br"),(p,g)=>{p.nextSibling&&p.previousSibling&&(g===0&&p.previousSibling.nodeType===1&&(n.firstLineMetrics=n.renderer.fontMetrics(p.previousSibling)),la(p,{dy:this.getLineHeight(p.nextSibling),x:o}))});let l=this.width||0;if(!l)return;let d=(p,g)=>{var F;let m=p.textContent||"",y=m.replace(/([^\^])-/g,"$1- ").split(" "),_=!this.noWrap&&(y.length>1||n.element.childNodes.length>1),w=this.getLineHeight(g),E=Math.max(0,l-.8*w),A=0,L=n.actualWidth;if(_){let z=[],$=[];for(;g.firstChild&&g.firstChild!==p;)$.push(g.firstChild),g.removeChild(g.firstChild);for(;y.length;)if(y.length&&!this.noWrap&&A>0&&(z.push(p.textContent||""),p.textContent=y.join(" ").replace(/- /g,"-")),this.truncate(p,void 0,y,A===0&&L||0,l,E,(G,X)=>y.slice(0,X).join(" ").replace(/- /g,"-")),L=n.actualWidth,A++,this.lineClamp&&A>=this.lineClamp){y.length&&(this.truncate(p,p.textContent||"",void 0,0,l,E,ms),p.textContent=((F=p.textContent)==null?void 0:F.replace("",""))+"");break}$.forEach(G=>{g.insertBefore(G,p)}),z.forEach(G=>{g.insertBefore(ml.createTextNode(G),p);let X=ml.createElementNS(eo,"tspan");X.textContent="",la(X,{dy:w,x:o}),g.insertBefore(X,p)})}else this.ellipsis&&m&&this.truncate(p,m,void 0,0,l,E,ms)},u=p=>{[].slice.call(p.childNodes).forEach(g=>{g.nodeType===$r.Node.TEXT_NODE?d(g,p):(g.className.baseVal.indexOf("highcharts-br")!==-1&&(n.actualWidth=0),u(g))})};u(n.element)}getLineHeight(b){let n=b.nodeType===$r.Node.TEXT_NODE?b.parentElement:b;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(n||this.svgElement.element).h}modifyTree(b){let n=(o,l)=>{let{attributes:d={},children:u,style:p={},tagName:g}=o,m=this.renderer.styledMode;if(g==="b"||g==="strong"?m?d.class="highcharts-strong":p.fontWeight="bold":(g==="i"||g==="em")&&(m?d.class="highcharts-emphasized":p.fontStyle="italic"),p!=null&&p.color&&(p.fill=p.color),g==="br"){d.class="highcharts-br",o.textContent="";let y=b[l+1];y!=null&&y.textContent&&(y.textContent=y.textContent.replace(/^ +/gm,""))}else g==="a"&&u&&u.some(y=>y.tagName==="#text")&&(o.children=[{children:u,tagName:"tspan"}]);g!=="#text"&&g!=="a"&&(o.tagName="tspan"),Vn(o,{attributes:d,style:p}),u&&u.filter(y=>y.tagName!=="#text").forEach(n)};b.forEach(n),Nm(this.svgElement,"afterModifyTree",{nodes:b})}truncate(b,n,o,l,d,u,p){let g,m,y=this.svgElement,{rotation:_}=y,w=[],E=o&&!l?1:0,A=(n||o||"").length,L=A;o||(d=u);let F=function(z,$){let G=$||z,X=b.parentNode;if(X&&w[G]===void 0&&X.getSubStringLength)try{w[G]=l+X.getSubStringLength(0,o?G+1:G)}catch{}return w[G]};if(y.rotation=0,l+(m=F(b.textContent.length))>d){for(;E<=A;)L=Math.ceil((E+A)/2),o&&(g=p(o,L)),m=F(L,g&&g.length-1),E===A?E=A+1:m>d?A=L-1:E=L;A===0?b.textContent="":n&&A===n.length-1||(b.textContent=g||p(n||o,L)),this.ellipsis&&m>d&&this.truncate(b,b.textContent||"",void 0,0,d,u,ms)}o&&o.splice(0,L),y.actualWidth=m,y.rotation=_}unescapeEntities(b,n){return Pm(this.renderer.escapes,function(o,l){n&&n.indexOf(o)!==-1||(b=b.toString().replace(RegExp(o,"g"),l))}),b}},{defaultOptions:Lh}=Ri,{charts:Rm,deg2rad:ud,doc:to,isFirefox:Xn,isMS:Ih,isWebKit:Dh,noop:hd,SVG_NS:Lm,symbolSizes:fd,win:sn}=J,{addEvent:vl,attr:bn,createElement:wn,crisp:pd,css:ro,defined:Yn,destroyObjectProperties:gd,extend:qn,isArray:Im,isNumber:Kn,isObject:io,isString:$h,merge:md,pick:vd,pInt:xd,replaceNested:Dm,uniqueKey:$m}=Ze;class xl{constructor(n,o,l,d,u,p,g){let m,y;this.x=0,this.y=0;let _=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),w=_.element;g||_.css(this.getStyle(d||{})),n.appendChild(w),bn(n,"dir","ltr"),n.innerHTML.indexOf("xmlns")===-1&&bn(w,"xmlns",this.SVG_NS),this.box=w,this.boxWrapper=_,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(to.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=p,this.forExport=u,this.styledMode=g,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=_.getStyle("font-size"),this.setSize(o,l,!1),Xn&&n.getBoundingClientRect&&((m=function(){ro(n,{left:0,top:0}),y=n.getBoundingClientRect(),ro(n,{left:Math.ceil(y.left)-y.left+"px",top:Math.ceil(y.top)-y.top+"px"})})(),this.unSubPixelFix=vl(sn,"resize",m))}definition(n){return new Ut([n]).addToDOM(this.defs.element)}getReferenceURL(){if((Xn||Dh)&&to.getElementsByTagName("base").length){if(!Yn(i)){let n=$m(),o=new Ut([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:n},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${n})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(to.body);ro(o,{position:"fixed",top:0,left:0,zIndex:9e5});let l=to.elementFromPoint(6,6);i=(l==null?void 0:l.id)==="hitme",to.body.removeChild(o)}if(i)return Dm(sn.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(n){return this.style=qn({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},n),this.style}setStyle(n){this.boxWrapper.css(this.getStyle(n))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let n=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),gd(this.gradients||{}),this.gradients=null,this.defs=n.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(n){return new this.Element(this,n)}getRadialAttr(n,o){return{cx:n[0]-n[2]/2+(o.cx||0)*n[2],cy:n[1]-n[2]/2+(o.cy||0)*n[2],r:(o.r||0)*n[2]}}shadowDefinition(n){let o=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(n).map(d=>`${d}-${n[d]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),l=md({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},n);return this.defs.element.querySelector(`#${o}`)||this.definition({tagName:"filter",attributes:{id:o,filterUnits:l.filterUnits},children:this.getShadowFilterContent(l)}),o}getShadowFilterContent(n){return[{tagName:"feDropShadow",attributes:{dx:n.offsetX,dy:n.offsetY,"flood-color":n.color,"flood-opacity":Math.min(5*n.opacity,1),stdDeviation:n.width/2}}]}buildText(n){new Om(n).buildSVG()}getContrast(n){if(n==="transparent")return"#000000";let o=Wt.parse(n).rgba,l=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Kn(o[0])||!Wt.useColorMix){let d=o.map(p=>{let g=p/255;return g<=.04?g/12.92:Math.pow((g+.055)/1.055,2.4)}),u=.2126*d[0]+.7152*d[1]+.0722*d[2];return 1.05/(u+.05)>(u+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+n+" srgb"+l+l+l+")"}button(n,o,l,d,u={},p,g,m,y,_){let w=this.label(n,o,l,y,void 0,void 0,_,void 0,"button"),E=this.styledMode,A=arguments,L=0;u=md(Lh.global.buttonTheme,u),E&&(delete u.fill,delete u.stroke,delete u["stroke-width"]);let F=u.states||{},z=u.style||{};delete u.states,delete u.style;let $=[Ut.filterUserAttributes(u)],G=[z];return E||["hover","select","disabled"].forEach((X,ge)=>{$.push(md($[0],Ut.filterUserAttributes(A[ge+5]||F[X]||{}))),G.push($[ge+1].style),delete $[ge+1].style}),vl(w.element,Ih?"mouseover":"mouseenter",function(){L!==3&&w.setState(1)}),vl(w.element,Ih?"mouseout":"mouseleave",function(){L!==3&&w.setState(L)}),w.setState=(X=0)=>{if(X!==1&&(w.state=L=X),w.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][X]),!E){w.attr($[X]);let ge=G[X];io(ge)&&w.css(ge)}},w.attr($[0]),!E&&(w.css(qn({cursor:"default"},z)),_&&w.text.css({pointerEvents:"none"})),w.on("touchstart",X=>X.stopPropagation()).on("click",function(X){L!==3&&(d==null||d.call(w,X))})}crispLine(n,o){let[l,d]=n;return Yn(l[1])&&l[1]===d[1]&&(l[1]=d[1]=pd(l[1],o)),Yn(l[2])&&l[2]===d[2]&&(l[2]=d[2]=pd(l[2],o)),n}path(n){let o=this.styledMode?{}:{fill:"none"};return Im(n)?o.d=n:io(n)&&qn(o,n),this.createElement("path").attr(o)}circle(n,o,l){let d=io(n)?n:n===void 0?{}:{x:n,y:o,r:l},u=this.createElement("circle");return u.xSetter=u.ySetter=function(p,g,m){m.setAttribute("c"+g,p)},u.attr(d)}arc(n,o,l,d,u,p){let g;io(n)?(o=(g=n).y,l=g.r,d=g.innerR,u=g.start,p=g.end,n=g.x):g={innerR:d,start:u,end:p};let m=this.symbol("arc",n,o,l,l,g);return m.r=l,m}rect(n,o,l,d,u,p){let g=io(n)?n:n===void 0?{}:{x:n,y:o,r:u,width:Math.max(l||0,0),height:Math.max(d||0,0)},m=this.createElement("rect");return this.styledMode||(p!==void 0&&(g["stroke-width"]=p,qn(g,m.crisp(g))),g.fill="none"),m.rSetter=function(y,_,w){m.r=y,bn(w,{rx:y,ry:y})},m.rGetter=function(){return m.r||0},m.attr(g)}roundedRect(n){return this.symbol("roundedRect").attr(n)}setSize(n,o,l){this.width=n,this.height=o,this.boxWrapper.animate({width:n,height:o},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:vd(l,!0)?void 0:0}),this.alignElements()}g(n){let o=this.createElement("g");return n?o.attr({class:"highcharts-"+n}):o}image(n,o,l,d,u,p){let g={preserveAspectRatio:"none"};Kn(o)&&(g.x=o),Kn(l)&&(g.y=l),Kn(d)&&(g.width=d),Kn(u)&&(g.height=u);let m=this.createElement("image").attr(g),y=function(_){m.attr({href:n}),p.call(m,_)};if(p){m.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let _=new sn.Image;vl(_,"load",y),_.src=n,_.complete&&y({})}else m.attr({href:n});return m}symbol(n,o,l,d,u,p){var z,$;let g,m,y,_,w=this,E=/^url\((.*?)\)$/,A=E.test(n),L=!A&&(this.symbols[n]?n:"circle"),F=L&&this.symbols[L];if(F)typeof o=="number"&&(m=F.call(this.symbols,o||0,l||0,d||0,u||0,p)),g=this.path(m),w.styledMode||g.attr("fill","none"),qn(g,{symbolName:L||void 0,x:o,y:l,width:d,height:u}),p&&qn(g,p);else if(A){y=n.match(E)[1];let G=g=this.image(y);G.imgwidth=vd(p==null?void 0:p.width,(z=fd[y])==null?void 0:z.width),G.imgheight=vd(p==null?void 0:p.height,($=fd[y])==null?void 0:$.height),_=X=>X.attr({width:X.width,height:X.height}),["width","height"].forEach(X=>{G[`${X}Setter`]=function(ge,de){this[de]=ge;let{alignByTranslate:fe,element:ye,width:ve,height:xe,imgwidth:Ae,imgheight:je}=this,Fe=de==="width"?Ae:je,He=1;p&&p.backgroundSize==="within"&&ve&&xe&&Ae&&je?(He=Math.min(ve/Ae,xe/je),bn(ye,{width:Math.round(Ae*He),height:Math.round(je*He)})):ye&&Fe&&ye.setAttribute(de,Fe),!fe&&Ae&&je&&this.translate(((ve||0)-Ae*He)/2,((xe||0)-je*He)/2)}}),Yn(o)&&G.attr({x:o,y:l}),G.isImg=!0,G.symbolUrl=n,Yn(G.imgwidth)&&Yn(G.imgheight)?_(G):(G.attr({width:0,height:0}),wn("img",{onload:function(){let X=Rm[w.chartIndex];this.width===0&&(ro(this,{position:"absolute",top:"-999em"}),to.body.appendChild(this)),fd[y]={width:this.width,height:this.height},G.imgwidth=this.width,G.imgheight=this.height,G.element&&_(G),this.parentNode&&this.parentNode.removeChild(this),w.imgCount--,w.imgCount||!X||X.hasLoaded||X.onload()},src:y}),this.imgCount++)}return g}clipRect(n,o,l,d){return this.rect(n,o,l,d,0)}text(n,o,l,d){let u={};if(d&&(this.allowHTML||!this.forExport))return this.html(n,o,l);u.x=Math.round(o||0),l&&(u.y=Math.round(l)),Yn(n)&&(u.text=n);let p=this.createElement("text").attr(u);return d&&(!this.forExport||this.allowHTML)||(p.xSetter=function(g,m,y){let _=y.getElementsByTagName("tspan"),w=y.getAttribute(m);for(let E=0,A;E<_.length;E++)(A=_[E]).getAttribute(m)===w&&A.setAttribute(m,g);y.setAttribute(m,g)}),p}fontMetrics(n){let o=Kn(n)?n:xd(tn.prototype.getStyle.call(n,"font-size")||0),l=o<24?o+3:Math.round(1.2*o),d=Math.round(.8*l);return{h:l,b:d,f:o}}rotCorr(n,o,l){let d=n;return o&&l&&(d=Math.max(d*Math.cos(o*ud),4)),{x:-n/3*Math.sin(o*ud),y:d}}pathToSegments(n){let o=[],l=[],d={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let u=0;u<n.length;u++)$h(l[0])&&Kn(n[u])&&l.length===d[l[0].toUpperCase()]&&n.splice(u,0,l[0].replace("M","L").replace("m","l")),typeof n[u]=="string"&&(l.length&&o.push(l.slice(0)),l.length=0),l.push(n[u]);return o.push(l.slice(0)),o}label(n,o,l,d,u,p,g,m,y){return new Gn(this,n,o,l,d,u,p,g,m,y)}alignElements(){this.alignedObjects.forEach(n=>n.align())}}qn(xl.prototype,{Element:tn,SVG_NS:Lm,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Oh,draw:hd}),Ki.registerRendererType("svg",xl,!0);let{composed:Bh,isFirefox:zh}=J,{attr:Fh,css:kn,createElement:Bm,defined:Wh,extend:zm,getAlignFactor:Fm,isNumber:on,pInt:Wm,pushUnique:yd}=Ze;function yl(b,n,o){var d;let l=(d=this.div)==null?void 0:d.style;tn.prototype[`${n}Setter`].call(this,b,n,o),l&&(o.style[n]=l[n]=b)}let Um=(b,n)=>{var o;if(!b.div){let l=Fh(b.element,"class"),d=b.css,u=Bm("div",l?{className:l}:void 0,{position:"absolute",left:`${b.translateX||0}px`,top:`${b.translateY||0}px`,...b.styles,display:b.display,opacity:b.opacity,visibility:b.visibility},((o=b.parentGroup)==null?void 0:o.div)||n);b.classSetter=(p,g,m)=>{m.setAttribute("class",p),u.className=p},b.translateXSetter=b.translateYSetter=(p,g)=>{b[g]=p,u.style[g==="translateX"?"left":"top"]=`${p}px`,b.doTransform=!0},b.scaleXSetter=b.scaleYSetter=(p,g)=>{b[g]=p,b.doTransform=!0},b.opacitySetter=b.visibilitySetter=yl,b.css=p=>(d.call(b,p),p.cursor&&(u.style.cursor=p.cursor),p.pointerEvents&&(u.style.pointerEvents=p.pointerEvents),b),b.on=function(){return tn.prototype.on.apply({element:u,onEvents:b.onEvents},arguments),b},b.div=u}return b.div};class vs extends tn{static compose(n){yd(Bh,this.compose)&&(n.prototype.html=function(o,l,d){return new vs(this,"span").attr({text:o,x:Math.round(l),y:Math.round(d)})})}constructor(n,o){super(n,o),vs.useForeignObject?this.foreignObject=n.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...n.styledMode?{}:{fontFamily:n.style.fontFamily,fontSize:n.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(n,o,l){this.xCorr=-n*l,this.yCorr=-o}css(n){let o,{element:l}=this,d=l.tagName==="SPAN"&&n&&"width"in n,u=d&&n.width;return d&&(delete n.width,this.textWidth=Wm(u)||void 0,o=!0),(n==null?void 0:n.textOverflow)==="ellipsis"&&(n.overflow="hidden",n.whiteSpace="nowrap"),n!=null&&n.lineClamp&&(n.display="-webkit-box",n.WebkitLineClamp=n.lineClamp,n.WebkitBoxOrient="vertical",n.overflow="hidden"),on(Number(n==null?void 0:n.fontSize))&&(n.fontSize+="px"),zm(this.styles,n),kn(l,n),o&&this.updateTransform(),this}htmlGetBBox(){let{element:n}=this;return{x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}}updateTransform(){var G;if(!this.added){this.alignOnAdd=!0;return}let{element:n,foreignObject:o,oldTextWidth:l,renderer:d,rotation:u,rotationOriginX:p,rotationOriginY:g,scaleX:m,scaleY:y,styles:{display:_="inline-block",whiteSpace:w},textAlign:E="left",textWidth:A,translateX:L=0,translateY:F=0,x:z=0,y:$=0}=this;if(o||kn(n,{marginLeft:`${L}px`,marginTop:`${F}px`}),n.tagName==="SPAN"){let X,ge=[u,E,n.innerHTML,A,this.textAlign].join(","),de=-(((G=this.parentGroup)==null?void 0:G.padding)*1)||0;if(A!==l){let xe=this.textPxLength?this.textPxLength:(kn(n,{width:"",whiteSpace:w||"nowrap"}),n.offsetWidth),Ae=A||0,je=!d.styledMode&&n.style.textOverflow===""&&n.style.webkitLineClamp;(Ae>l||xe>Ae||je)&&(/[\-\s\u00AD]/.test(n.textContent||n.innerText)||n.style.textOverflow==="ellipsis")&&(kn(n,{width:(u||m||xe>Ae||je)&&on(A)?A+"px":"auto",display:_,whiteSpace:w||"normal"}),this.oldTextWidth=A)}o&&(kn(n,{display:"inline-block",verticalAlign:"top"}),o.attr({width:d.width,height:d.height})),ge!==this.cTT&&(X=d.fontMetrics(n).b,Wh(u)&&!o&&(u!==(this.oldRotation||0)||E!==this.oldAlign)&&kn(n,{transform:`rotate(${u}deg)`,transformOrigin:`${de}% ${de}px`}),this.getSpanCorrection(!Wh(u)&&!this.textWidth&&this.textPxLength||n.offsetWidth,X,Fm(E)));let{xCorr:fe=0,yCorr:ye=0}=this,ve={left:`${z+fe}px`,top:`${$+ye}px`,textAlign:E,transformOrigin:`${(p??z)-fe-z-de}px ${(g??$)-ye-$-de}px`};(m||y)&&(ve.transform=`scale(${m??1},${y??1})`),o?(super.updateTransform(),on(z)&&on($)?(o.attr({x:z+fe,y:$+ye,width:n.offsetWidth+3,height:n.offsetHeight,"transform-origin":n.getAttribute("transform-origin")||"0 0"}),kn(n,{display:_,textAlign:E})):zh&&o.attr({width:0,height:0})):kn(n,ve),this.cTT=ge,this.oldRotation=u,this.oldAlign=E}}add(n){let{foreignObject:o,renderer:l}=this,d=l.box.parentNode,u=[];if(o)o.add(n),super.add(l.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(o));else{let p;if(this.parentGroup=n,n&&!(p=n.div)){let g=n;for(;g;)u.push(g),g=g.parentGroup;for(let m of u.reverse())p=Um(m,d)}(p||d).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(n){n!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Ut.setElementHTML(this.element,n??""),this.textStr=n,this.doTransform=!0)}alignSetter(n){this.alignValue=this.textAlign=n,this.doTransform=!0}xSetter(n,o){this[o]=n,this.doTransform=!0}}let xs=vs.prototype;xs.visibilitySetter=xs.opacitySetter=yl,xs.ySetter=xs.rotationSetter=xs.rotationOriginXSetter=xs.rotationOriginYSetter=xs.xSetter,function(b){b.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},b.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:n}=this.axis.chart;return n(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(f||(f={}));let Hm=f,{addEvent:Gm,isFunction:Vm,objectEach:Xm,removeEvent:Ym}=Ze;(v||(v={})).registerEventOptions=function(b,n){b.eventOptions=b.eventOptions||{},Xm(n.events,function(o,l){b.eventOptions[l]!==o&&(b.eventOptions[l]&&(Ym(b,l,b.eventOptions[l]),delete b.eventOptions[l]),Vm(o)&&(b.eventOptions[l]=o,Gm(b,l,o,{order:0})))})};let bl=v,{deg2rad:bd}=J,{clamp:qm,correctFloat:wl,defined:wd,destroyObjectProperties:kd,extend:Uh,fireEvent:ca,getAlignFactor:Km,isNumber:kl,merge:Zm,objectEach:Hh,pick:Di}=Ze,no=class{constructor(b,n,o,l,d){this.isNew=!0,this.isNewLabel=!0,this.axis=b,this.pos=n,this.type=o||"",this.parameters=d||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,ca(this,"init"),o||l||this.addLabel()}addLabel(){var ye,ve;let b=this,n=b.axis,o=n.options,l=n.chart,d=n.categories,u=n.logarithmic,p=n.names,g=b.pos,m=Di((ye=b.options)==null?void 0:ye.labels,o.labels),y=n.tickPositions,_=g===y[0],w=g===y[y.length-1],E=(!m.step||m.step===1)&&n.tickInterval===1,A=y.info,L=b.label,F,z,$,G=this.parameters.category||(d?Di(d[g],p[g],g):g);u&&kl(G)&&(G=wl(u.lin2log(G))),n.dateTime&&(A?F=(z=l.time.resolveDTLFormat(o.dateTimeLabelFormats[!((ve=o.grid)!=null&&ve.enabled)&&A.higherRanks[g]||A.unitName])).main:kl(G)&&(F=n.dateTime.getXDateFormat(G,o.dateTimeLabelFormats||{}))),b.isFirst=_,b.isLast=w;let X={axis:n,chart:l,dateTimeLabelFormat:F,isFirst:_,isLast:w,pos:g,tick:b,tickPositionInfo:A,value:G};ca(this,"labelFormat",X);let ge=xe=>m.formatter?m.formatter.call(xe,xe):m.format?(xe.text=n.defaultLabelFormatter.call(xe),sr.format(m.format,xe,l)):n.defaultLabelFormatter.call(xe),de=ge.call(X,X),fe=z==null?void 0:z.list;fe?b.shortenLabel=function(){for($=0;$<fe.length;$++)if(Uh(X,{dateTimeLabelFormat:fe[$]}),L.attr({text:ge.call(X,X)}),L.getBBox().width<n.getSlotWidth(b)-2*(m.padding||0))return;L.attr({text:""})}:b.shortenLabel=void 0,E&&n._addedPlotLB&&b.moveLabel(de,m),wd(L)||b.movedLabel?L&&L.textStr!==de&&!E&&(!L.textWidth||m.style.width||L.styles.width||L.css({width:null}),L.attr({text:de}),L.textPxLength=L.getBBox().width):(b.label=L=b.createLabel(de,m),b.rotation=0)}createLabel(b,n,o){let l=this.axis,{renderer:d,styledMode:u}=l.chart,p=n.style.whiteSpace,g=wd(b)&&n.enabled?d.text(b,o==null?void 0:o.x,o==null?void 0:o.y,n.useHTML).add(l.labelGroup):void 0;return g&&(u||g.css(Zm(n.style)),g.textPxLength=g.getBBox().width,!u&&p&&g.css({whiteSpace:p})),g}destroy(){kd(this,this.axis)}getPosition(b,n,o,l){let d=this.axis,u=d.chart,p=l&&u.oldChartHeight||u.chartHeight,g={x:b?wl(d.translate(n+o,void 0,void 0,l)+d.transB):d.left+d.offset+(d.opposite?(l&&u.oldChartWidth||u.chartWidth)-d.right-d.left:0),y:b?p-d.bottom+d.offset-(d.opposite?d.height:0):wl(p-d.translate(n+o,void 0,void 0,l)-d.transB)};return g.y=qm(g.y,-1e9,1e9),ca(this,"afterGetPosition",{pos:g}),g}getLabelPosition(b,n,o,l,d,u,p,g){let m,y,_=this.axis,w=_.transA,E=_.isLinked&&_.linkedParent?_.linkedParent.reversed:_.reversed,A=_.staggerLines,L=_.tickRotCorr||{x:0,y:0},F=l||_.reserveSpaceDefault?0:-_.labelOffset*(_.labelAlign==="center"?.5:1),z=d.distance,$={};return m=_.side===0?o.rotation?-z:-o.getBBox().height:_.side===2?L.y+z:Math.cos(o.rotation*bd)*(L.y-o.getBBox(!1,0).height/2),wd(d.y)&&(m=_.side===0&&_.horiz?d.y+m:d.y),b=b+Di(d.x,[0,1,0,-1][_.side]*z)+F+L.x-(u&&l?u*w*(E?-1:1):0),n=n+m-(u&&!l?u*w*(E?1:-1):0),A&&(y=p/(g||1)%A,_.opposite&&(y=A-y-1),n+=y*(_.labelOffset/A)),$.x=b,$.y=Math.round(n),ca(this,"afterGetLabelPosition",{pos:$,tickmarkOffset:u,index:p}),$}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(b,n,o,l,d=!1,u){return u.crispLine([["M",b,n],["L",b+(d?0:-o),n+(d?o:0)]],l)}handleOverflow(b){var z;let n=this.axis,o=n.options.labels,l=b.x,d=n.chart.chartWidth,u=n.chart.spacing,p=Di(n.labelLeft,Math.min(n.pos,u[3])),g=Di(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,d-u[1])),m=this.label,y=this.rotation,_=Km(n.labelAlign||m.attr("align")),w=m.getBBox().width,E=n.getSlotWidth(this),A=E,L=1,F;y||o.overflow!=="justify"?y<0&&l-_*w<p?F=Math.round(l/Math.cos(y*bd)-p):y>0&&l+_*w>g&&(F=Math.round((d-l)/Math.cos(y*bd))):(l-_*w<p?A=b.x+A*(1-_)-p:l+(1-_)*w>g&&(A=g-b.x+A*_,L=-1),(A=Math.min(E,A))<E&&n.labelAlign==="center"&&(b.x+=L*(E-A-_*(E-Math.min(w,A)))),(w>A||n.autoRotation&&((z=m==null?void 0:m.styles)!=null&&z.width))&&(F=A)),F&&m&&(this.shortenLabel?this.shortenLabel():m.css(Uh({},{width:Math.floor(F)+"px",lineClamp:+!n.isRadial})))}moveLabel(b,n){let o=this,l=o.label,d=o.axis,u=!1,p;l&&l.textStr===b?(o.movedLabel=l,u=!0,delete o.label):Hh(d.ticks,function(g){u||g.isNew||g===o||!g.label||g.label.textStr!==b||(o.movedLabel=g.label,u=!0,g.labelPos=o.movedLabel.xy,delete g.label)}),!u&&(o.labelPos||l)&&(p=o.labelPos||l.xy,o.movedLabel=o.createLabel(b,n,p),o.movedLabel&&o.movedLabel.attr({opacity:0}))}render(b,n,o){var L;let l=this.axis,d=l.horiz,u=this.pos,p=Di(this.tickmarkOffset,l.tickmarkOffset),g=this.getPosition(d,u,p,n),m=g.x,y=g.y,_=l.pos,w=_+l.len,E=d?m:y,A=Di(o,(L=this.label)==null?void 0:L.newOpacity,1);!l.chart.polar&&(wl(E)<_||E>w)&&(o=0),o??(o=1),this.isActive=!0,this.renderGridLine(n,o),this.renderMark(g,o),this.renderLabel(g,n,A,b),this.isNew=!1,ca(this,"afterRender")}renderGridLine(b,n){let o=this.axis,l=o.options,d={},u=this.pos,p=this.type,g=Di(this.tickmarkOffset,o.tickmarkOffset),m=o.chart.renderer,y=this.gridLine,_,w=l.gridLineWidth,E=l.gridLineColor,A=l.gridLineDashStyle;this.type==="minor"&&(w=l.minorGridLineWidth,E=l.minorGridLineColor,A=l.minorGridLineDashStyle),y||(o.chart.styledMode||(d.stroke=E,d["stroke-width"]=w||0,d.dashstyle=A),p||(d.zIndex=1),b&&(n=0),this.gridLine=y=m.path().attr(d).addClass("highcharts-"+(p?p+"-":"")+"grid-line").add(o.gridGroup)),y&&(_=o.getPlotLinePath({value:u+g,lineWidth:y.strokeWidth(),force:"pass",old:b,acrossPanes:!1}))&&y[b||this.isNew?"attr":"animate"]({d:_,opacity:n})}renderMark(b,n){let o=this.axis,l=o.options,d=o.chart.renderer,u=this.type,p=o.tickSize(u?u+"Tick":"tick"),g=b.x,m=b.y,y=Di(l[u!=="minor"?"tickWidth":"minorTickWidth"],!u&&o.isXAxis?1:0),_=l[u!=="minor"?"tickColor":"minorTickColor"],w=this.mark,E=!w;p&&(o.opposite&&(p[0]=-p[0]),!w&&(this.mark=w=d.path().addClass("highcharts-"+(u?u+"-":"")+"tick").add(o.axisGroup),o.chart.styledMode||w.attr({stroke:_,"stroke-width":y})),w[E?"attr":"animate"]({d:this.getMarkPath(g,m,p[0],w.strokeWidth(),o.horiz,d),opacity:n}))}renderLabel(b,n,o,l){let d=this.axis,u=d.horiz,p=d.options,g=this.label,m=p.labels,y=m.step,_=Di(this.tickmarkOffset,d.tickmarkOffset),w=b.x,E=b.y,A=!0;g&&kl(w)&&(g.xy=b=this.getLabelPosition(w,E,g,u,m,_,l,y),(!this.isFirst||this.isLast||p.showFirstLabel)&&(!this.isLast||this.isFirst||p.showLastLabel)?!u||m.step||m.rotation||n||o===0||this.handleOverflow(b):A=!1,y&&l%y&&(A=!1),A&&kl(b.y)?(b.opacity=o,g[this.isNewLabel?"attr":"animate"](b).show(!0),this.isNewLabel=!1):(g.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let b=this.label,n=this.axis;b&&!this.isNew&&(b.animate({opacity:0},void 0,b.destroy),delete this.label),n.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:Qm}=Ar,{xAxis:Gh,yAxis:Jm}=Hm,{defaultOptions:Sl}=Ri,{registerEventOptions:ev}=bl,{deg2rad:tv}=J,{arrayMax:ys,arrayMin:rv,clamp:Sd,correctFloat:br,defined:Bt,destroyObjectProperties:Vh,erase:Xh,error:wr,extend:bs,fireEvent:Gt,getClosestDistance:so,insertItem:ti,isArray:Yh,isNumber:dt,isString:qh,merge:_l,normalizeTickInterval:an,objectEach:da,pick:bt,relativeLength:ua,removeEvent:oo,splat:Kh,syncTimeout:iv}=Ze,Zh=(b,n)=>an(n,void 0,void 0,bt(b.options.allowDecimals,n<.5||b.tickAmount!==void 0),!!b.tickAmount);bs(Sl,{xAxis:Gh,yAxis:_l(Gh,Jm)});class ws{constructor(n,o,l){this.init(n,o,l)}init(n,o,l=this.coll){let d=l==="xAxis",u=this.isZAxis||(n.inverted?!d:d);this.chart=n,this.horiz=u,this.isXAxis=d,this.coll=l,Gt(this,"init",{userOptions:o}),this.opposite=bt(o.opposite,this.opposite),this.side=bt(o.side,this.side,u?2*!this.opposite:this.opposite?1:3),this.setOptions(o);let p=this.options,g=p.labels;this.type??(this.type=p.type||"linear"),this.uniqueNames??(this.uniqueNames=p.uniqueNames??!0),Gt(this,"afterSetType"),this.userOptions=o,this.minPixelPadding=0,this.reversed=bt(p.reversed,this.reversed),this.visible=p.visible,this.zoomEnabled=p.zoomEnabled,this.hasNames=this.type==="category"||p.categories===!0,this.categories=Yh(p.categories)&&p.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Bt(p.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=p.minRange||p.maxZoom,this.range=p.range,this.offset=p.offset||0,this.max=void 0,this.min=void 0;let m=bt(p.crosshair,Kh(n.options.tooltip.crosshairs)[+!d]);this.crosshair=m===!0?{}:m,n.axes.indexOf(this)===-1&&(d?n.axes.splice(n.xAxis.length,0,this):n.axes.push(this),ti(this,n[this.coll])),n.orderItems(this.coll),this.series=this.series||[],n.inverted&&!this.isZAxis&&d&&!Bt(this.reversed)&&(this.reversed=!0),this.labelRotation=dt(g.rotation)?g.rotation:void 0,ev(this,p),Gt(this,"afterInit")}setOptions(n){let o=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=_l(o,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Sl[this.coll],n),Gt(this,"afterSetOptions",{userOptions:n})}defaultLabelFormatter(){let n=this.axis,{numberFormatter:o}=this.chart,l=dt(this.value)?this.value:NaN,d=n.chart.time,u=n.categories,p=this.dateTimeLabelFormat,g=Sl.lang,m=g.numericSymbols,y=g.numericSymbolMagnitude||1e3,_=n.logarithmic?Math.abs(l):n.tickInterval,w=m==null?void 0:m.length,E,A;if(u)A=`${this.value}`;else if(p)A=d.dateFormat(p,l,!0);else if(w&&m&&_>=1e3)for(;w--&&A===void 0;)_>=(E=Math.pow(y,w+1))&&10*l%E==0&&m[w]!==null&&l!==0&&(A=o(l/E,-1)+m[w]);return A===void 0&&(A=Math.abs(l)>=1e4?o(l,-1):o(l,-1,void 0,"")),A}getSeriesExtremes(){let n,o=this;Gt(this,"getSeriesExtremes",null,function(){o.hasVisibleSeries=!1,o.dataMin=o.dataMax=o.threshold=void 0,o.softThreshold=!o.isXAxis,o.series.forEach(l=>{if(l.reserveSpace()){let d=l.options,u,p=d.threshold,g,m;if(o.hasVisibleSeries=!0,o.positiveValuesOnly&&0>=(p||0)&&(p=void 0),o.isXAxis)(u=l.getColumn("x")).length&&(u=o.logarithmic?u.filter(y=>y>0):u,g=(n=l.getXExtremes(u)).min,m=n.max,dt(g)||g instanceof Date||(u=u.filter(dt),g=(n=l.getXExtremes(u)).min,m=n.max),u.length&&(o.dataMin=Math.min(bt(o.dataMin,g),g),o.dataMax=Math.max(bt(o.dataMax,m),m)));else{let y=l.applyExtremes();dt(y.dataMin)&&(g=y.dataMin,o.dataMin=Math.min(bt(o.dataMin,g),g)),dt(y.dataMax)&&(m=y.dataMax,o.dataMax=Math.max(bt(o.dataMax,m),m)),Bt(p)&&(o.threshold=p),(!d.softThreshold||o.positiveValuesOnly)&&(o.softThreshold=!1)}}})}),Gt(this,"afterGetSeriesExtremes")}translate(n,o,l,d,u,p){var F;let g=this.linkedParent||this,m=d&&g.old?g.old.min:g.min;if(!dt(m))return NaN;let y=g.minPixelPadding,_=(g.isOrdinal||((F=g.brokenAxis)==null?void 0:F.hasBreaks)||g.logarithmic&&u)&&!!g.lin2val,w=1,E=0,A=d&&g.old?g.old.transA:g.transA,L=0;return A||(A=g.transA),l&&(w*=-1,E=g.len),g.reversed&&(w*=-1,E-=w*(g.sector||g.len)),o?(L=(n=n*w+E-y)/A+m,_&&(L=g.lin2val(L))):(_&&(n=g.val2lin(n)),L=w*(n-m)*A+E+w*y+(dt(p)?A*p:0),g.isRadial||(L=br(L))),L}toPixels(n,o){var l;return this.translate(((l=this.chart)==null?void 0:l.time.parse(n))??NaN,!1,!this.horiz,void 0,!0)+(o?0:this.pos)}toValue(n,o){return this.translate(n-(o?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(n){let o=this,l=o.chart,d=o.left,u=o.top,p=n.old,g=n.value,m=n.lineWidth,y=p&&l.oldChartHeight||l.chartHeight,_=p&&l.oldChartWidth||l.chartWidth,w=o.transB,E=n.translatedValue,A=n.force,L,F,z,$,G;function X(de,fe,ye){return A!=="pass"&&(de<fe||de>ye)&&(A?de=Sd(de,fe,ye):G=!0),de}let ge={value:g,lineWidth:m,old:p,force:A,acrossPanes:n.acrossPanes,translatedValue:E};return Gt(this,"getPlotLinePath",ge,function(de){L=z=(E=Sd(E=bt(E,o.translate(g,void 0,void 0,p)),-1e9,1e9))+w,F=$=y-E-w,dt(E)?o.horiz?(F=u,$=y-o.bottom+(o.options.isInternal?0:l.scrollablePixelsY||0),L=z=X(L,d,d+o.width)):(L=d,z=_-o.right+(l.scrollablePixelsX||0),F=$=X(F,u,u+o.height)):(G=!0,A=!1),de.path=G&&!A?void 0:l.renderer.crispLine([["M",L,F],["L",z,$]],m||1)}),ge.path}getLinearTickPositions(n,o,l){let d,u,p,g=br(Math.floor(o/n)*n),m=br(Math.ceil(l/n)*n),y=[];if(br(g+n)===g&&(p=20),this.single)return[o];for(d=g;d<=m&&(y.push(d),(d=br(d+n,p))!==u);)u=d;return y}getMinorTickInterval(){let{minorTicks:n,minorTickInterval:o}=this.options;return n===!0?bt(o,"auto"):n!==!1?o:void 0}getMinorTickPositions(){var _;let n=this.options,o=this.tickPositions,l=this.minorTickInterval,d=this.pointRangePadding||0,u=(this.min||0)-d,p=(this.max||0)+d,g=(_=this.brokenAxis)!=null&&_.hasBreaks?this.brokenAxis.unitLength:p-u,m=[],y;if(g&&g/l<this.len/3){let w=this.logarithmic;if(w)this.paddedTicks.forEach(function(E,A,L){A&&m.push.apply(m,w.getLogTickPositions(l,L[A-1],L[A],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")m=m.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(l),u,p,n.startOfWeek));else for(y=u+(o[0]-u)%l;y<=p&&y!==m[0];y+=l)m.push(y)}return m.length!==0&&this.trimTicks(m),m}adjustForMinRange(){let n=this.options,o=this.logarithmic,l=this.chart.time,{max:d,min:u,minRange:p}=this,g,m,y,_;this.isXAxis&&p===void 0&&!o&&(p=Bt(n.min)||Bt(n.max)||Bt(n.floor)||Bt(n.ceiling)?null:Math.min(5*(so(this.series.map(w=>{let E=w.getColumn("x");return w.xIncrement?E.slice(0,2):E}))||0),this.dataMax-this.dataMin)),dt(d)&&dt(u)&&dt(p)&&d-u<p&&(m=this.dataMax-this.dataMin>=p,g=(p-d+u)/2,y=[u-g,l.parse(n.min)??u-g],m&&(y[2]=o?o.log2lin(this.dataMin):this.dataMin),_=[(u=ys(y))+p,l.parse(n.max)??u+p],m&&(_[2]=o?o.log2lin(this.dataMax):this.dataMax),(d=rv(_))-u<p&&(y[0]=d-p,y[1]=l.parse(n.min)??d-p,u=ys(y))),this.minRange=p,this.min=u,this.max=d}getClosest(){let n,o;if(this.categories)o=1;else{let l=[];this.series.forEach(function(d){let u=d.closestPointRange,p=d.getColumn("x");p.length===1?l.push(p[0]):d.sorted&&Bt(u)&&d.reserveSpace()&&(o=Bt(o)?Math.min(o,u):u)}),l.length&&(l.sort((d,u)=>d-u),n=so([l]))}return n&&o?Math.min(n,o):n||o}nameToX(n){let o=Yh(this.options.categories),l=o?this.categories:this.names,d=n.options.x,u;return n.series.requireSorting=!1,Bt(d)||(d=this.uniqueNames&&l?o?l.indexOf(n.name):bt(l.keys[n.name],-1):n.series.autoIncrement()),d===-1?!o&&l&&(u=l.length):dt(d)&&(u=d),u!==void 0?(this.names[u]=n.name,this.names.keys[n.name]=u):n.x&&(u=n.x),u}updateNames(){let n=this,o=this.names;o.length>0&&(Object.keys(o.keys).forEach(function(l){delete o.keys[l]}),o.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(l=>{l.xIncrement=null,(!l.points||l.isDirtyData)&&(n.max=Math.max(n.max||0,l.dataTable.rowCount-1),l.processData(),l.generatePoints());let d=l.getColumn("x").slice();l.data.forEach((u,p)=>{let g=d[p];u!=null&&u.options&&u.name!==void 0&&(g=n.nameToX(u))!==void 0&&g!==u.x&&(d[p]=u.x=g)}),l.dataTable.setColumn("x",d)}))}setAxisTranslation(){var E;let n=this,o=n.max-n.min,l=n.linkedParent,d=!!n.categories,u=n.isXAxis,p=n.axisPointRange||0,g,m=0,y=0,_,w=n.transA;(u||d||p)&&(g=n.getClosest(),l?(m=l.minPointOffset,y=l.pointRangePadding):n.series.forEach(function(A){let L=d?1:u?bt(A.options.pointRange,g,0):n.axisPointRange||0,F=A.options.pointPlacement;if(p=Math.max(p,L),!n.single||d){let z=A.is("xrange")?!u:u;m=Math.max(m,z&&qh(F)?0:L/2),y=Math.max(y,z&&F==="on"?0:L)}}),_=(E=n.ordinal)!=null&&E.slope&&g?n.ordinal.slope/g:1,n.minPointOffset=m*=_,n.pointRangePadding=y*=_,n.pointRange=Math.min(p,n.single&&d?1:o),u&&(n.closestPointRange=g)),n.translationSlope=n.transA=w=n.staticScale||n.len/(o+y||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=w*m,Gt(this,"afterSetAxisTranslation")}minFromRange(){let{max:n,min:o}=this;return dt(n)&&dt(o)&&n-o||void 0}setTickInterval(n){var Qe,lt,Ke,ct;let{categories:o,chart:l,dataMax:d,dataMin:u,dateTime:p,isXAxis:g,logarithmic:m,options:y,softThreshold:_}=this,w=l.time,E=dt(this.threshold)?this.threshold:void 0,A=this.minRange||0,{ceiling:L,floor:F,linkedTo:z,softMax:$,softMin:G}=y,X=dt(z)&&((Qe=l[this.coll])==null?void 0:Qe[z]),ge=y.tickPixelInterval,de=y.maxPadding,fe=y.minPadding,ye=0,ve,xe=dt(y.tickInterval)&&y.tickInterval>=0?y.tickInterval:void 0,Ae,je,Fe,He;if(p||o||X||this.getTickAmount(),Fe=bt(this.userMin,w.parse(y.min)),He=bt(this.userMax,w.parse(y.max)),X?(this.linkedParent=X,ve=X.getExtremes(),this.min=bt(ve.min,ve.dataMin),this.max=bt(ve.max,ve.dataMax),this.type!==X.type&&wr(11,!0,l)):(_&&Bt(E)&&dt(d)&&dt(u)&&(u>=E?(Ae=E,fe=0):d<=E&&(je=E,de=0)),this.min=bt(Fe,Ae,u),this.max=bt(He,je,d)),dt(this.max)&&dt(this.min)&&(m&&(this.positiveValuesOnly&&!n&&0>=Math.min(this.min,bt(u,this.min))&&wr(10,!0,l),this.min=br(m.log2lin(this.min),16),this.max=br(m.log2lin(this.max),16)),this.range&&dt(u)&&(this.userMin=this.min=Fe=Math.max(u,this.minFromRange()||0),this.userMax=He=this.max,this.range=void 0)),Gt(this,"foundExtremes"),this.adjustForMinRange(),dt(this.min)&&dt(this.max)){if(!dt(this.userMin)&&dt(G)&&G<this.min&&(this.min=Fe=G),!dt(this.userMax)&&dt($)&&$>this.max&&(this.max=He=$),o||this.axisPointRange||(lt=this.stacking)!=null&&lt.usePercentage||X||(ye=this.max-this.min)&&(!Bt(Fe)&&fe&&(this.min-=ye*fe),!Bt(He)&&de&&(this.max+=ye*de)),!dt(this.userMin)&&dt(F)&&(this.min=Math.max(this.min,F)),!dt(this.userMax)&&dt(L)&&(this.max=Math.min(this.max,L)),_&&dt(u)&&dt(d)){let wt=E||0;!Bt(Fe)&&this.min<wt&&u>=wt?this.min=y.minRange?Math.min(wt,this.max-A):wt:!Bt(He)&&this.max>wt&&d<=wt&&(this.max=y.minRange?Math.max(wt,this.min+A):wt)}!l.polar&&this.min>this.max&&(Bt(y.min)?this.max=this.min:Bt(y.max)&&(this.min=this.max)),ye=this.max-this.min}if(this.min!==this.max&&dt(this.min)&&dt(this.max)?X&&!xe&&ge===X.options.tickPixelInterval?this.tickInterval=xe=X.tickInterval:this.tickInterval=bt(xe,this.tickAmount?ye/Math.max(this.tickAmount-1,1):void 0,o?1:ye*ge/Math.max(this.len,ge)):this.tickInterval=1,g&&!n){let wt=this.min!==((Ke=this.old)==null?void 0:Ke.min)||this.max!==((ct=this.old)==null?void 0:ct.max);this.series.forEach(function(At){var Nt;At.forceCrop=(Nt=At.forceCropping)==null?void 0:Nt.call(At),At.processData(wt)}),Gt(this,"postProcessData",{hasExtremesChanged:wt})}this.setAxisTranslation(),Gt(this,"initialAxisTranslation"),this.pointRange&&!xe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let it=bt(y.minTickInterval,p&&!this.series.some(wt=>!wt.sorted)?this.closestPointRange:0);!xe&&it&&this.tickInterval<it&&(this.tickInterval=it),p||m||xe||(this.tickInterval=Zh(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var _,w;let n=this.options,o=n.tickPositions,l=n.tickPositioner,d=this.getMinorTickInterval(),u=!this.isPanning,p=u&&n.startOnTick,g=u&&n.endOnTick,m=[],y;if(this.tickmarkOffset=this.categories&&n.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Bt(this.min)&&!this.tickAmount&&(this.min%1==0||n.allowDecimals!==!1),o)m=o.slice();else if(dt(this.min)&&dt(this.max)){if(!((_=this.ordinal)!=null&&_.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))m=[this.min,this.max],wr(19,!1,this.chart);else if(this.dateTime)m=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,(w=this.ordinal)==null?void 0:w.positions,this.closestPointRange,!0);else if(this.logarithmic)m=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let E=this.tickInterval,A=E;for(;A<=2*E&&(m=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&m.length>this.tickAmount);)this.tickInterval=Zh(this,A*=1.1)}m.length>this.len&&(m=[m[0],m[m.length-1]])[0]===m[1]&&(m.length=1),l&&(this.tickPositions=m,(y=l.apply(this,[this.min,this.max]))&&(m=y))}this.tickPositions=m,this.minorTickInterval=d==="auto"&&this.tickInterval?this.tickInterval/n.minorTicksPerMajor:d,this.paddedTicks=m.slice(0),this.trimTicks(m,p,g),!this.isLinked&&dt(this.min)&&dt(this.max)&&(this.single&&m.length<2&&!this.categories&&!this.series.some(E=>E.is("heatmap")&&E.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),o||y||this.adjustTickAmount()),Gt(this,"afterSetTickPositions")}trimTicks(n,o,l){let d=n[0],u=n[n.length-1],p=!this.isOrdinal&&this.minPointOffset||0;if(Gt(this,"trimTicks"),!this.isLinked||!this.grid){if(o&&d!==-1/0)this.min=d;else for(;this.min-p>n[0];)n.shift();if(l)this.max=u;else for(;this.max+p<n[n.length-1];)n.pop();n.length===0&&Bt(d)&&!this.options.tickPositions&&n.push((u+d)/2)}}alignToOthers(){let n,o=this,l=o.chart,d=[this],u=o.options,p=l.options.chart,g=this.coll==="yAxis"&&p.alignThresholds,m=[];if(o.thresholdAlignment=void 0,(p.alignTicks!==!1&&u.alignTicks||g)&&u.startOnTick!==!1&&u.endOnTick!==!1&&!o.logarithmic){let y=w=>{let{horiz:E,options:A}=w;return[E?A.left:A.top,A.width,A.height,A.pane].join(",")},_=y(this);l[this.coll].forEach(function(w){let{series:E}=w;E.length&&E.some(A=>A.visible)&&w!==o&&y(w)===_&&(n=!0,d.push(w))})}if(n&&g){d.forEach(_=>{let w=_.getThresholdAlignment(o);dt(w)&&m.push(w)});let y=m.length>1?m.reduce((_,w)=>_+=w,0)/m.length:void 0;d.forEach(_=>{_.thresholdAlignment=y})}return n}getThresholdAlignment(n){if((!dt(this.dataMin)||this!==n&&this.series.some(o=>o.isDirty||o.isDirtyData))&&this.getSeriesExtremes(),dt(this.threshold)){let o=Sd((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(o=1-o),o}}getTickAmount(){let n=this.options,o=n.tickPixelInterval,l=n.tickAmount;Bt(n.tickInterval)||l||!(this.len<o)||this.isRadial||this.logarithmic||!n.startOnTick||!n.endOnTick||(l=2),!l&&this.alignToOthers()&&(l=Math.ceil(this.len/o)+1),l<4&&(this.finalTickAmt=l,l=5),this.tickAmount=l}adjustTickAmount(){let n=this,{finalTickAmt:o,max:l,min:d,options:u,tickPositions:p,tickAmount:g,thresholdAlignment:m}=n,y=p==null?void 0:p.length,_=bt(n.threshold,n.softThreshold?0:null),w,E,A=n.tickInterval,L,F=()=>p.push(br(p[p.length-1]+A)),z=()=>p.unshift(br(p[0]-A));if(dt(m)&&(L=m<.5?Math.ceil(m*(g-1)):Math.floor(m*(g-1)),u.reversed&&(L=g-1-L)),n.hasData()&&dt(d)&&dt(l)){let $=()=>{n.transA*=(y-1)/(g-1),n.min=u.startOnTick?p[0]:Math.min(d,p[0]),n.max=u.endOnTick?p[p.length-1]:Math.max(l,p[p.length-1])};if(dt(L)&&dt(n.threshold)){for(;p[L]!==_||p.length!==g||p[0]>d||p[p.length-1]<l;){for(p.length=0,p.push(n.threshold);p.length<g;)p[L]===void 0||p[L]>n.threshold?z():F();if(A>8*n.tickInterval)break;A*=2}$()}else if(y<g){for(;p.length<g;)p.length%2||d===_?F():z();$()}if(Bt(o)){for(E=w=p.length;E--;)(o===3&&E%2==1||o<=2&&E>0&&E<w-1)&&p.splice(E,1);n.finalTickAmt=void 0}}}setScale(){var p,g,m,y,_;let{coll:n,stacking:o}=this,l=!1,d=!1;this.series.forEach(w=>{var E;l=l||w.isDirtyData||w.isDirty,d=d||((E=w.xAxis)==null?void 0:E.isDirty)||!1}),this.setAxisSize();let u=this.len!==((p=this.old)==null?void 0:p.len);u||l||d||this.isLinked||this.forceRedraw||this.userMin!==((g=this.old)==null?void 0:g.userMin)||this.userMax!==((m=this.old)==null?void 0:m.userMax)||this.alignToOthers()?(o&&n==="yAxis"&&o.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),o&&n==="xAxis"&&o.buildStacks(),this.isDirty||(this.isDirty=u||this.min!==((y=this.old)==null?void 0:y.min)||this.max!==((_=this.old)==null?void 0:_.max))):o&&o.cleanStacks(),l&&delete this.allExtremes,Gt(this,"afterSetScale")}setExtremes(n,o,l=!0,d,u){let p=this.chart;this.series.forEach(g=>{delete g.kdTree}),n=p.time.parse(n),o=p.time.parse(o),Gt(this,"setExtremes",u=bs(u,{min:n,max:o}),g=>{this.userMin=g.min,this.userMax=g.max,this.eventArgs=g,l&&p.redraw(d)})}setAxisSize(){let n=this.chart,o=this.options,l=o.offsets||[0,0,0,0],d=this.horiz,u=this.width=Math.round(ua(bt(o.width,n.plotWidth-l[3]+l[1]),n.plotWidth)),p=this.height=Math.round(ua(bt(o.height,n.plotHeight-l[0]+l[2]),n.plotHeight)),g=this.top=Math.round(ua(bt(o.top,n.plotTop+l[0]),n.plotHeight,n.plotTop)),m=this.left=Math.round(ua(bt(o.left,n.plotLeft+l[3]),n.plotWidth,n.plotLeft));this.bottom=n.chartHeight-p-g,this.right=n.chartWidth-u-m,this.len=Math.max(d?u:p,0),this.pos=d?m:g}getExtremes(){let n=this.logarithmic;return{min:n?br(n.lin2log(this.min)):this.min,max:n?br(n.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(n){let o=this.logarithmic,l=o?o.lin2log(this.min):this.min,d=o?o.lin2log(this.max):this.max;return n===null||n===-1/0?n=l:n===1/0?n=d:l>n?n=l:d<n&&(n=d),this.translate(n,0,1,0,1)}autoLabelAlign(n){let o=(bt(n,0)-90*this.side+720)%360,l={align:"center"};return Gt(this,"autoLabelAlign",l,function(d){o>15&&o<165?d.align="right":o>195&&o<345&&(d.align="left")}),l.align}tickSize(n){let o=this.options,l=bt(o[n==="tick"?"tickWidth":"minorTickWidth"],n==="tick"&&this.isXAxis&&!this.categories?1:0),d=o[n==="tick"?"tickLength":"minorTickLength"],u;l&&d&&(o[n+"Position"]==="inside"&&(d=-d),u=[d,l]);let p={tickSize:u};return Gt(this,"afterTickSize",p),p.tickSize}labelMetrics(){let n=this.chart.renderer,o=this.ticks,l=o[Object.keys(o)[0]]||{};return this.chart.renderer.fontMetrics(l.label||l.movedLabel||n.box)}unsquish(){let n=this.options.labels,o=n.padding||0,l=this.horiz,d=this.tickInterval,u=this.len/((+!!this.categories+this.max-this.min)/d),p=n.rotation,g=br(.8*this.labelMetrics().h),m=Math.max(this.max-this.min,0),y=function(L){let F=(L+2*o)/(u||1);return(F=F>1?Math.ceil(F):1)*d>m&&L!==1/0&&u!==1/0&&m&&(F=Math.ceil(m/d)),br(F*d)},_=d,w,E=Number.MAX_VALUE,A;if(l){if(!n.staggerLines&&(dt(p)?A=[p]:u<n.autoRotationLimit&&(A=n.autoRotation)),A){let L,F;for(let z of A)(z===p||z&&z>=-90&&z<=90)&&(F=(L=y(Math.abs(g/Math.sin(tv*z))))+Math.abs(z/360))<E&&(E=F,w=z,_=L)}}else _=y(.75*g);return this.autoRotation=A,this.labelRotation=bt(w,dt(p)?p:0),n.step?d:_}getSlotWidth(n){let o=this.chart,l=this.horiz,d=this.options.labels,u=Math.max(this.tickPositions.length-!this.categories,1),p=o.margin[3];if(n&&dt(n.slotWidth))return n.slotWidth;if(l&&d.step<2&&!this.isRadial)return d.rotation?0:(this.staggerLines||1)*this.len/u;if(!l){let g=d.style.width;if(g!==void 0)return parseInt(String(g),10);if(!this.opposite&&p)return p-o.spacing[3]}return .33*o.chartWidth}renderUnsquish(){let n=this.chart,o=n.renderer,l=this.tickPositions,d=this.ticks,u=this.options.labels,p=u.style,g=this.horiz,m=this.getSlotWidth(),y=Math.max(1,Math.round(m-(g?2*(u.padding||0):u.distance||0))),_={},w=this.labelMetrics(),E=p.lineClamp,A,L=E??(Math.floor(this.len/(l.length*w.h))||1),F=0;qh(u.rotation)||(_.rotation=u.rotation||0),l.forEach(function(z){var X;let $=d[z];$.movedLabel&&$.replaceMovedLabel();let G=((X=$.label)==null?void 0:X.textPxLength)||0;G>F&&(F=G)}),this.maxLabelLength=F,this.autoRotation?F>y&&F>w.h?_.rotation=this.labelRotation:this.labelRotation=0:m&&(A=y),_.rotation&&(A=F>.5*n.chartHeight?.33*n.chartHeight:F,E||(L=1)),this.labelAlign=u.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(_.align=this.labelAlign),l.forEach(function(z){let $=d[z],G=$==null?void 0:$.label,X=p.width,ge={};G&&(G.attr(_),$.shortenLabel?$.shortenLabel():A&&!X&&p.whiteSpace!=="nowrap"&&(A<(G.textPxLength||0)||G.element.tagName==="SPAN")?G.css(bs(ge,{width:`${A}px`,lineClamp:L})):!G.styles.width||ge.width||X||G.css({width:"auto"}),$.rotation=_.rotation)},this),this.tickRotCorr=o.rotCorr(w.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(n){return n.hasData()})||this.options.showEmpty&&Bt(this.min)&&Bt(this.max)}addTitle(n){let o,l=this.chart.renderer,d=this.horiz,u=this.opposite,p=this.options.title,g=this.chart.styledMode;this.axisTitle||((o=p.textAlign)||(o=(d?{low:"left",middle:"center",high:"right"}:{low:u?"right":"left",middle:"center",high:u?"left":"right"})[p.align]),this.axisTitle=l.text(p.text||"",0,0,p.useHTML).attr({zIndex:7,rotation:p.rotation||0,align:o}).addClass("highcharts-axis-title"),g||this.axisTitle.css(_l(p.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),g||p.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[n?"show":"hide"](n)}generateTick(n){let o=this.ticks;o[n]?o[n].addLabel():o[n]=new no(this,n)}createGroups(){let{axisParent:n,chart:o,coll:l,options:d}=this,u=o.renderer,p=(g,m,y)=>u.g(g).attr({zIndex:y}).addClass(`highcharts-${l.toLowerCase()}${m} `+(this.isRadial?`highcharts-radial-axis${m} `:"")+(d.className||"")).add(n);this.axisGroup||(this.gridGroup=p("grid","-grid",d.gridZIndex),this.axisGroup=p("axis","",d.zIndex),this.labelGroup=p("axis-labels","-labels",d.labels.zIndex))}getOffset(){let n=this,{chart:o,horiz:l,options:d,side:u,ticks:p,tickPositions:g,coll:m}=n,y=o.inverted&&!n.isZAxis?[1,0,3,2][u]:u,_=n.hasData(),w=d.title,E=d.labels,A=dt(d.crossing),L=o.axisOffset,F=o.clipOffset,z=[-1,1,1,-1][u],$,G=0,X,ge=0,de=0,fe,ye;if(n.showAxis=$=_||d.showEmpty,n.staggerLines=n.horiz&&E.staggerLines||void 0,n.createGroups(),_||n.isLinked?(g.forEach(function(ve){n.generateTick(ve)}),n.renderUnsquish(),n.reserveSpaceDefault=u===0||u===2||{1:"left",3:"right"}[u]===n.labelAlign,bt(E.reserveSpace,!A&&null,n.labelAlign==="center"||null,n.reserveSpaceDefault)&&g.forEach(function(ve){de=Math.max(p[ve].getLabelSize(),de)}),n.staggerLines&&(de*=n.staggerLines),n.labelOffset=de*(n.opposite?-1:1)):da(p,function(ve,xe){ve.destroy(),delete p[xe]}),w!=null&&w.text&&w.enabled!==!1&&(n.addTitle($),$&&!A&&w.reserveSpace!==!1&&(n.titleOffset=G=n.axisTitle.getBBox()[l?"height":"width"],ge=Bt(X=w.offset)?0:bt(w.margin,l?5:10))),n.renderLine(),n.offset=z*bt(d.offset,L[u]?L[u]+(d.margin||0):0),n.tickRotCorr=n.tickRotCorr||{x:0,y:0},ye=u===0?-n.labelMetrics().h:u===2?n.tickRotCorr.y:0,fe=Math.abs(de)+ge,de&&(fe-=ye,fe+=z*(l?bt(E.y,n.tickRotCorr.y+z*E.distance):bt(E.x,z*E.distance))),n.axisTitleMargin=bt(X,fe),n.getMaxLabelDimensions&&(n.maxLabelDimensions=n.getMaxLabelDimensions(p,g)),m!=="colorAxis"&&F){let ve=this.tickSize("tick");L[u]=Math.max(L[u],(n.axisTitleMargin||0)+G+z*n.offset,fe,g!=null&&g.length&&ve?ve[0]+z*n.offset:0);let xe=!n.axisLine||d.offset?0:n.axisLine.strokeWidth()/2;F[y]=Math.max(F[y],xe)}Gt(this,"afterGetOffset")}getLinePath(n){let o=this.chart,l=this.opposite,d=this.offset,u=this.horiz,p=this.left+(l?this.width:0)+d,g=o.chartHeight-this.bottom-(l?this.height:0)+d;return l&&(n*=-1),o.renderer.crispLine([["M",u?this.left:p,u?g:this.top],["L",u?o.chartWidth-this.right:p,u?g:o.chartHeight-this.bottom]],n)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(n){let o=this.horiz,l=this.left,d=this.top,u=this.len,p=this.options.title,g=o?l:d,m=this.opposite,y=this.offset,_=p.x,w=p.y,E=this.chart.renderer.fontMetrics(n),A=n?Math.max(n.getBBox(!1,0).height-E.h-1,0):0,L={low:g+(o?0:u),middle:g+u/2,high:g+(o?u:0)}[p.align],F=(o?d+this.height:l)+(o?1:-1)*(m?-1:1)*(this.axisTitleMargin||0)+[-A,A,E.f,-A][this.side],z={x:o?L+_:F+(m?this.width:0)+y+_,y:o?F+w-(m?this.height:0)+y:L+w};return Gt(this,"afterGetTitlePosition",{titlePosition:z}),z}renderMinorTick(n,o){let l=this.minorTicks;l[n]||(l[n]=new no(this,n,"minor")),o&&l[n].isNew&&l[n].render(null,!0),l[n].render(null,!1,1)}renderTick(n,o,l){var p;let d=this.isLinked,u=this.ticks;(!d||n>=this.min&&n<=this.max||(p=this.grid)!=null&&p.isColumn)&&(u[n]||(u[n]=new no(this,n)),l&&u[n].isNew&&u[n].render(o,!0,-1),u[n].render(o))}render(){let n,o,l=this,d=l.chart,u=l.logarithmic,p=d.renderer,g=l.options,m=l.isLinked,y=l.tickPositions,_=l.axisTitle,w=l.ticks,E=l.minorTicks,A=l.alternateBands,L=g.stackLabels,F=g.alternateGridColor,z=g.crossing,$=l.tickmarkOffset,G=l.axisLine,X=l.showAxis,ge=Qm(p.globalAnimation);if(l.labelEdge.length=0,l.overlap=!1,[w,E,A].forEach(function(de){da(de,function(fe){fe.isActive=!1})}),dt(z)){let de=this.isXAxis?d.yAxis[0]:d.xAxis[0],fe=[1,-1,-1,1][this.side];if(de){let ye=de.toPixels(z,!0);l.horiz&&(ye=de.len-ye),l.offset=fe*ye}}if(l.hasData()||m){let de=l.chart.hasRendered&&l.old&&dt(l.old.min);l.minorTickInterval&&!l.categories&&l.getMinorTickPositions().forEach(function(fe){l.renderMinorTick(fe,de)}),y.length&&(y.forEach(function(fe,ye){l.renderTick(fe,ye,de)}),$&&(l.min===0||l.single)&&(w[-1]||(w[-1]=new no(l,-1,null,!0)),w[-1].render(-1))),F&&y.forEach(function(fe,ye){o=y[ye+1]!==void 0?y[ye+1]+$:l.max-$,ye%2==0&&fe<l.max&&o<=l.max+(d.polar?-$:$)&&(A[fe]||(A[fe]=new J.PlotLineOrBand(l,{})),n=fe+$,A[fe].options={from:u?u.lin2log(n):n,to:u?u.lin2log(o):o,color:F,className:"highcharts-alternate-grid"},A[fe].render(),A[fe].isActive=!0)}),l._addedPlotLB||(l._addedPlotLB=!0,(g.plotLines||[]).concat(g.plotBands||[]).forEach(function(fe){l.addPlotBandOrLine(fe)}))}[w,E,A].forEach(function(de){let fe=[],ye=ge.duration;da(de,function(ve,xe){ve.isActive||(ve.render(xe,!1,0),ve.isActive=!1,fe.push(xe))}),iv(function(){let ve=fe.length;for(;ve--;)de[fe[ve]]&&!de[fe[ve]].isActive&&(de[fe[ve]].destroy(),delete de[fe[ve]])},de!==A&&d.hasRendered&&ye?ye:0)}),G&&(G[G.isPlaced?"animate":"attr"]({d:this.getLinePath(G.strokeWidth())}),G.isPlaced=!0,G[X?"show":"hide"](X)),_&&X&&(_[_.isNew?"attr":"animate"](l.getTitlePosition(_)),_.isNew=!1),L!=null&&L.enabled&&l.stacking&&l.stacking.renderStackTotals(),l.old={len:l.len,max:l.max,min:l.min,transA:l.transA,userMax:l.userMax,userMin:l.userMin},l.isDirty=!1,Gt(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(n){n.render()})),this.series.forEach(function(n){n.isDirty=!0})}getKeepProps(){return this.keepProps||ws.keepProps}destroy(n){let o=this,l=o.plotLinesAndBands,d=this.eventOptions;if(Gt(this,"destroy",{keepEvents:n}),n||oo(o),[o.ticks,o.minorTicks,o.alternateBands].forEach(function(u){Vh(u)}),l){let u=l.length;for(;u--;)l[u].destroy()}for(let u in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(p){o[p]&&(o[p]=o[p].destroy())}),o.plotLinesAndBandsGroups)o.plotLinesAndBandsGroups[u]=o.plotLinesAndBandsGroups[u].destroy();da(o,function(u,p){o.getKeepProps().indexOf(p)===-1&&delete o[p]}),this.eventOptions=d}drawCrosshair(n,o){var w;let l=this.crosshair,d=(l==null?void 0:l.snap)??!0,u=this.chart,p,g,m,y=this.cross,_;if(Gt(this,"drawCrosshair",{e:n,point:o}),n||(n=(w=this.cross)==null?void 0:w.e),l&&(Bt(o)||!d)!==!1){if(d?Bt(o)&&(g=bt(this.coll!=="colorAxis"?o.crosshairPos:null,this.isXAxis?o.plotX:this.len-o.plotY)):g=n&&(this.horiz?n.chartX-this.pos:this.len-n.chartY+this.pos),Bt(g)&&(_={value:o&&(this.isXAxis?o.x:bt(o.stackY,o.y)),translatedValue:g},u.polar&&bs(_,{isCrosshair:!0,chartX:n==null?void 0:n.chartX,chartY:n==null?void 0:n.chartY,point:o}),p=this.getPlotLinePath(_)||null),!Bt(p))return void this.hideCrosshair();m=this.categories&&!this.isRadial,y||(this.cross=y=u.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(m?"category ":"thin ")+(l.className||"")).attr({zIndex:bt(l.zIndex,2)}).add(),!u.styledMode&&(y.attr({stroke:l.color||(m?Wt.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":bt(l.width,1)}).css({"pointer-events":"none"}),l.dashStyle&&y.attr({dashstyle:l.dashStyle}))),y.show().attr({d:p}),m&&!l.width&&y.attr({"stroke-width":this.transA}),this.cross.e=n}else this.hideCrosshair();Gt(this,"afterDrawCrosshair",{e:n,point:o})}hideCrosshair(){this.cross&&this.cross.hide(),Gt(this,"afterHideCrosshair")}update(n,o){let l=this.chart;n=_l(this.userOptions,n),this.destroy(!0),this.init(l,n),l.isDirtyBox=!0,bt(o,!0)&&l.redraw()}remove(n){let o=this.chart,l=this.coll,d=this.series,u=d.length;for(;u--;)d[u]&&d[u].remove(!1);Xh(o.axes,this),Xh(o[l]||[],this),o.orderItems(l),this.destroy(),o.isDirtyBox=!0,bt(n,!0)&&o.redraw()}setTitle(n,o){this.update({title:n},o)}setCategories(n,o){this.update({categories:n},o)}}ws.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Qh,getMagnitude:nv,normalizeTickInterval:sv,timeUnits:Cl}=Ze;(function(b){function n(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function o(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new l(this))}b.compose=function(d){return d.keepProps.includes("dateTime")||(d.keepProps.push("dateTime"),d.prototype.getTimeTicks=n,Qh(d,"afterSetType",o)),d};class l{constructor(u){this.axis=u}normalizeTimeTickInterval(u,p){let g=p||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],m=g[g.length-1],y=Cl[m[0]],_=m[1],w;for(w=0;w<g.length&&(y=Cl[(m=g[w])[0]],_=m[1],!g[w+1]||!(u<=(y*_[_.length-1]+Cl[g[w+1][0]])/2));w++);y===Cl.year&&u<5*y&&(_=[1,2,5]);let E=sv(u/y,_,m[0]==="year"?Math.max(nv(u/y),1):1);return{unitRange:y,count:E,unitName:m[0]}}getXDateFormat(u,p){let{axis:g}=this,m=g.chart.time;return g.closestPointRange?m.getDateFormat(g.closestPointRange,u,g.options.startOfWeek,p)||m.resolveDTLFormat(p.year).main:m.resolveDTLFormat(p.day).main}}b.Additions=l})(x||(x={}));let ov=x,{addEvent:Jh,normalizeTickInterval:av,pick:lv}=Ze;(function(b){function n(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new l(this))}function o(){let d=this.logarithmic;d&&(this.lin2val=function(u){return d.lin2log(u)},this.val2lin=function(u){return d.log2lin(u)})}b.compose=function(d){return d.keepProps.includes("logarithmic")||(d.keepProps.push("logarithmic"),Jh(d,"afterSetType",n),Jh(d,"afterInit",o)),d};class l{constructor(u){this.axis=u}getLogTickPositions(u,p,g,m){let y=this.axis,_=y.len,w=y.options,E=[];if(m||(this.minorAutoInterval=void 0),u>=.5)u=Math.round(u),E=y.getLinearTickPositions(u,p,g);else if(u>=.08){let A,L,F,z,$,G,X,ge=Math.floor(p);for(A=u>.3?[1,2,4]:u>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],L=ge;L<g+1&&!X;L++)for(F=0,z=A.length;F<z&&!X;F++)($=this.log2lin(this.lin2log(L)*A[F]))>p&&(!m||G<=g)&&G!==void 0&&E.push(G),G>g&&(X=!0),G=$}else{let A=this.lin2log(p),L=this.lin2log(g),F=m?y.getMinorTickInterval():w.tickInterval,z=w.tickPixelInterval/(m?5:1),$=m?_/y.tickPositions.length:_;u=av(u=lv(F==="auto"?null:F,this.minorAutoInterval,(L-A)*z/($||1))),E=y.getLinearTickPositions(u,A,L).map(this.log2lin),m||(this.minorAutoInterval=u/5)}return m||(y.tickInterval=u),E}lin2log(u){return Math.pow(10,u)}log2lin(u){return Math.log(u)/Math.LN10}}b.Additions=l})(S||(S={}));let El=S,{erase:cv,extend:ef,isNumber:Tl}=Ze;(function(b){let n;function o(y){return this.addPlotBandOrLine(y,"plotBands")}function l(y,_){let w=this.userOptions,E=new n(this,y);if(this.visible&&(E=E.render()),E){if(this._addedPlotLB||(this._addedPlotLB=!0,(w.plotLines||[]).concat(w.plotBands||[]).forEach(A=>{this.addPlotBandOrLine(A)})),_){let A=w[_]||[];A.push(y),w[_]=A}this.plotLinesAndBands.push(E)}return E}function d(y){return this.addPlotBandOrLine(y,"plotLines")}function u(y,_,w){w=w||this.options;let E=this.getPlotLinePath({value:_,force:!0,acrossPanes:w.acrossPanes}),A=[],L=this.horiz,F=!Tl(this.min)||!Tl(this.max)||y<this.min&&_<this.min||y>this.max&&_>this.max,z=this.getPlotLinePath({value:y,force:!0,acrossPanes:w.acrossPanes}),$,G=1,X;if(z&&E)for(F&&(X=z.toString()===E.toString(),G=0),$=0;$<z.length;$+=2){let ge=z[$],de=z[$+1],fe=E[$],ye=E[$+1];(ge[0]==="M"||ge[0]==="L")&&(de[0]==="M"||de[0]==="L")&&(fe[0]==="M"||fe[0]==="L")&&(ye[0]==="M"||ye[0]==="L")&&(L&&fe[1]===ge[1]?(fe[1]+=G,ye[1]+=G):L||fe[2]!==ge[2]||(fe[2]+=G,ye[2]+=G),A.push(["M",ge[1],ge[2]],["L",de[1],de[2]],["L",ye[1],ye[2]],["L",fe[1],fe[2]],["Z"])),A.isFlat=X}return A}function p(y){this.removePlotBandOrLine(y)}function g(y){let _=this.plotLinesAndBands,w=this.options,E=this.userOptions;if(_){let A=_.length;for(;A--;)_[A].id===y&&_[A].destroy();[w.plotLines||[],E.plotLines||[],w.plotBands||[],E.plotBands||[]].forEach(function(L){var F;for(A=L.length;A--;)((F=L[A])==null?void 0:F.id)===y&&cv(L,L[A])})}}function m(y){this.removePlotBandOrLine(y)}b.compose=function(y,_){let w=_.prototype;return w.addPlotBand||(n=y,ef(w,{addPlotBand:o,addPlotLine:d,addPlotBandOrLine:l,getPlotBandPath:u,removePlotBand:p,removePlotLine:m,removePlotBandOrLine:g})),_}})(C||(C={}));let ha=C,{addEvent:tf,arrayMax:rf,arrayMin:wi,defined:ki,destroyObjectProperties:dv,erase:uv,fireEvent:hv,merge:nf,objectEach:sf,pick:fv}=Ze;class Al{static compose(n,o){return tf(n,"afterInit",function(){this.labelCollectors.push(()=>{var d;let l=[];for(let u of this.axes)for(let{label:p,options:g}of u.plotLinesAndBands)p&&!((d=g==null?void 0:g.label)!=null&&d.allowOverlap)&&l.push(p);return l})}),ha.compose(Al,o)}constructor(n,o){this.axis=n,this.options=o,this.id=o.id}render(){hv(this,"render");let{axis:n,options:o}=this,{horiz:l,logarithmic:d}=n,{color:u,events:p,zIndex:g=0}=o,{renderer:m,time:y}=n.chart,_={},w=y.parse(o.to),E=y.parse(o.from),A=y.parse(o.value),L=o.borderWidth,F=o.label,{label:z,svgElem:$}=this,G=[],X,ge=ki(E)&&ki(w),de=ki(A),fe=!$,ye={class:"highcharts-plot-"+(ge?"band ":"line ")+(o.className||"")},ve=ge?"bands":"lines";if(!n.chart.styledMode&&(de?(ye.stroke=u||"#999999",ye["stroke-width"]=fv(o.width,1),o.dashStyle&&(ye.dashstyle=o.dashStyle)):ge&&(ye.fill=u||"#e6e9ff",L&&(ye.stroke=o.borderColor,ye["stroke-width"]=L))),_.zIndex=g,ve+="-"+g,(X=n.plotLinesAndBandsGroups[ve])||(n.plotLinesAndBandsGroups[ve]=X=m.g("plot-"+ve).attr(_).add()),$||(this.svgElem=$=m.path().attr(ye).add(X)),ki(A))G=n.getPlotLinePath({value:(d==null?void 0:d.log2lin(A))??A,lineWidth:$.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!(ki(E)&&ki(w)))return;G=n.getPlotBandPath((d==null?void 0:d.log2lin(E))??E,(d==null?void 0:d.log2lin(w))??w,o)}return!this.eventsAdded&&p&&(sf(p,(xe,Ae)=>{$==null||$.on(Ae,je=>{p[Ae].apply(this,[je])})}),this.eventsAdded=!0),(fe||!$.d)&&(G!=null&&G.length)?$.attr({d:G}):$&&(G?($.show(),$.animate({d:G})):$.d&&($.hide(),z&&(this.label=z=z.destroy()))),F&&(ki(F.text)||ki(F.formatter))&&(G!=null&&G.length)&&n.width>0&&n.height>0&&!G.isFlat?(F=nf({align:l&&ge?"center":void 0,x:l?!ge&&4:10,verticalAlign:!l&&ge?"middle":void 0,y:l?ge?16:10:ge?6:-4,rotation:l&&!ge?90:0,...ge?{inside:!0}:{}},F),this.renderLabel(F,G,ge,g)):z&&z.hide(),this}renderLabel(n,o,l,d){var L,F,z;let u=this.axis,p=u.chart.renderer,g=n.inside,m=this.label;m||(this.label=m=p.text(this.getLabelText(n),0,0,n.useHTML).attr({align:n.textAlign||n.align,rotation:n.rotation,class:"highcharts-plot-"+(l?"band":"line")+"-label "+(n.className||""),zIndex:d}),u.chart.styledMode||m.css(nf({color:(F=(L=u.chart.options.title)==null?void 0:L.style)==null?void 0:F.color,fontSize:"0.8em",textOverflow:l&&!g?"":"ellipsis"},n.style)),m.add());let y=o.xBounds||[o[0][1],o[1][1],l?o[2][1]:o[0][1]],_=o.yBounds||[o[0][2],o[1][2],l?o[2][2]:o[0][2]],w=wi(y),E=wi(_),A=rf(y)-w;m.align(n,!1,{x:w,y:E,width:A,height:rf(_)-E}),m.alignAttr.y-=p.fontMetrics(m).b,(!m.alignValue||m.alignValue==="left"||ki(g))&&m.css({width:(((z=n.style)==null?void 0:z.width)||(l&&g?A:m.rotation===90?u.height-(m.alignAttr.y-u.top):(n.clip?u.width:u.chart.chartWidth)-(m.alignAttr.x-u.left)))+"px"}),m.show(!0)}getLabelText(n){return ki(n.formatter)?n.formatter.call(this):n.text}destroy(){uv(this.axis.plotLinesAndBands,this),delete this.axis,dv(this)}}let{animObject:of}=Ar,{format:af}=sr,{composed:lf,dateFormats:pv,doc:cf,isSafari:gv}=J,{distribute:mv}=ps,{addEvent:vv,clamp:ao,css:df,discardElement:xv,extend:yv,fireEvent:$i,getAlignFactor:bv,isArray:uf,isNumber:wv,isObject:hf,isString:_d,merge:kv,pick:lo,pushUnique:Sv,splat:Ml,syncTimeout:ff}=Ze;class Cd{constructor(n,o,l){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=n,this.init(n,o),this.pointer=l}bodyFormatter(n){return n.map(o=>{let l=o.series.tooltipOptions,d=o.formatPrefix||"point";return(l[d+"Formatter"]||o.tooltipFormatter).call(o,l[d+"Format"]||"")})}cleanSplit(n){this.chart.series.forEach(function(o){let l=o==null?void 0:o.tt;l&&(!l.isActive||n?o.tt=l.destroy():l.isActive=!1)})}defaultFormatter(n){let o,l=this.points||Ml(this);return(o=(o=[n.headerFooterFormatter(l[0])]).concat(n.bodyFormatter(l))).push(n.headerFooterFormatter(l[0],!0)),o}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),xv(this.container)),Ze.clearTimeout(this.hideTimer)}getAnchor(n,o){var _;let l,{chart:d,pointer:u}=this,p=d.inverted,g=d.plotTop,m=d.plotLeft;if(n=Ml(n),(_=n[0].series)!=null&&_.yAxis&&!n[0].series.yAxis.options.reversedStacks&&(n=n.slice().reverse()),this.followPointer&&o)o.chartX===void 0&&(o=u.normalize(o)),l=[o.chartX-m,o.chartY-g];else if(n[0].tooltipPos)l=n[0].tooltipPos;else{let w=0,E=0;n.forEach(function(A){let L=A.pos(!0);L&&(w+=L[0],E+=L[1])}),w/=n.length,E/=n.length,this.shared&&n.length>1&&o&&(p?w=o.chartX:E=o.chartY),l=[w-m,E-g]}let y={point:n[0],ret:l};return $i(this,"getAnchor",y),y.ret.map(Math.round)}getClassName(n,o,l){let d=this.options,u=n.series,p=u.options;return[d.className,"highcharts-label",l&&"highcharts-tooltip-header",o?"highcharts-tooltip-box":"highcharts-tooltip",!l&&"highcharts-color-"+lo(n.colorIndex,u.colorIndex),p==null?void 0:p.className].filter(_d).join(" ")}getLabel({anchorX:n,anchorY:o}={anchorX:0,anchorY:0}){let l=this,d=this.chart.styledMode,u=this.options,p=this.split&&this.allowShared,g=this.container,m=this.chart.renderer;if(this.label){let y=!this.label.hasClass("highcharts-label");(!p&&y||p&&!y)&&this.destroy()}if(!this.label){if(this.outside){let y=this.chart,_=y.options.chart.style,w=Ki.getRendererType();this.container=g=J.doc.createElement("div"),g.className="highcharts-tooltip-container "+(y.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),df(g,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((_==null?void 0:_.zIndex)||0)+3)}),this.renderer=m=new w(g,0,0,_,void 0,void 0,m.styledMode)}if(p?this.label=m.g("tooltip"):(this.label=m.label("",n,o,u.shape||"callout",void 0,void 0,u.useHTML,void 0,"tooltip").attr({padding:u.padding,r:u.borderRadius}),d||this.label.attr({fill:u.backgroundColor,"stroke-width":u.borderWidth||0}).css(u.style).css({pointerEvents:u.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),l.outside){let y=this.label;[y.xSetter,y.ySetter].forEach((_,w)=>{y[w?"ySetter":"xSetter"]=E=>{_.call(y,l.distance),y[w?"y":"x"]=E,g&&(g.style[w?"top":"left"]=`${E}px`)}})}this.label.attr({zIndex:8}).shadow(u.shadow??!u.fixed).add()}return g&&!g.parentElement&&J.doc.body.appendChild(g),this.label}getPlayingField(){let{body:n,documentElement:o}=cf,{chart:l,distance:d,outside:u}=this;return{width:u?Math.max(n.scrollWidth,o.scrollWidth,n.offsetWidth,o.offsetWidth,o.clientWidth)-2*d-2:l.chartWidth,height:u?Math.max(n.scrollHeight,o.scrollHeight,n.offsetHeight,o.offsetHeight,o.clientHeight):l.chartHeight}}getPosition(n,o,l){var Qe,lt;let{distance:d,chart:u,outside:p,pointer:g}=this,{inverted:m,plotLeft:y,plotTop:_,polar:w}=u,{plotX:E=0,plotY:A=0}=l,L={},F=m&&l.h||0,{height:z,width:$}=this.getPlayingField(),G=g.getChartPosition(),X=Ke=>Ke*G.scaleX,ge=Ke=>Ke*G.scaleY,de=Ke=>{let ct=Ke==="x";return[Ke,ct?$:z,ct?n:o].concat(p?[ct?X(n):ge(o),ct?G.left-d+X(E+y):G.top-d+ge(A+_),0,ct?$:z]:[ct?n:o,ct?E+y:A+_,ct?y:_,ct?y+u.plotWidth:_+u.plotHeight])},fe=de("y"),ye=de("x"),ve,xe=!!l.negative;!w&&((lt=(Qe=u.hoverSeries)==null?void 0:Qe.yAxis)!=null&&lt.reversed)&&(xe=!xe);let Ae=!this.followPointer&&lo(l.ttBelow,!w&&!m===xe),je=function(Ke,ct,wt,At,Nt,Xr,Ct){let It=p?Ke==="y"?ge(d):X(d):d,pt=(wt-At)/2,ht=At<Nt-d,ur=Nt+d+At<ct,Dt=Nt-It-wt+pt,Ht=Nt+It-pt;if(Ae&&ur)L[Ke]=Ht;else if(!Ae&&ht)L[Ke]=Dt;else if(ht)L[Ke]=Math.min(Ct-At,Dt-F<0?Dt:Dt-F);else{if(!ur)return L[Ke]=0,!1;L[Ke]=Math.max(Xr,Ht+F+wt>ct?Ht:Ht+F)}},Fe=function(Ke,ct,wt,At,Nt){if(Nt<d||Nt>ct-d)return!1;Nt<wt/2?L[Ke]=1:Nt>ct-At/2?L[Ke]=ct-At-2:L[Ke]=Nt-wt/2},He=function(Ke){[fe,ye]=[ye,fe],ve=Ke},it=()=>{je.apply(0,fe)!==!1?Fe.apply(0,ye)!==!1||ve||(He(!0),it()):ve?L.x=L.y=0:(He(!0),it())};return(m&&!w||this.len>1)&&He(),it(),L}getFixedPosition(n,o,l){var E;let d=l.series,{chart:u,options:p,split:g}=this,m=p.position,y=m.relativeTo,_=p.shared||(E=d==null?void 0:d.yAxis)!=null&&E.isRadial&&(y==="pane"||!y)?"plotBox":y,w=_==="chart"?u.renderer:u[_]||u.getClipBox(d,!0);return{x:w.x+(w.width-n)*bv(m.align)+m.x,y:w.y+(w.height-o)*bv(m.verticalAlign)+(!g&&m.y||0)}}hide(n){let o=this;Ze.clearTimeout(this.hideTimer),n=lo(n,this.options.hideDelay),this.isHidden||(this.hideTimer=ff(function(){let l=o.getLabel();o.getLabel().animate({opacity:0},{duration:n&&150,complete:()=>{l.hide(),o.container&&o.container.remove()}}),o.isHidden=!0},n))}init(n,o){this.chart=n,this.options=o,this.crosshairs=[],this.isHidden=!0,this.split=o.split&&!n.inverted&&!n.polar,this.shared=o.shared||this.split,this.outside=lo(o.outside,!!(n.scrollablePixelsX||n.scrollablePixelsY))}shouldStickOnContact(n){return!!(!this.followPointer&&this.options.stickOnContact&&(!n||this.pointer.inClass(n.target,"highcharts-tooltip")))}move(n,o,l,d){let{followPointer:u,options:p}=this,g=of(!u&&!this.isHidden&&!p.fixed&&p.animation),m=u||(this.len||0)>1,y={x:n,y:o};m?y.anchorX=y.anchorY=NaN:(y.anchorX=l,y.anchorY=d),g.step=()=>this.drawTracker(),this.getLabel().animate(y,g)}refresh(n,o){let{chart:l,options:d,pointer:u,shared:p}=this,g=Ml(n),m=g[0],y=d.format,_=d.formatter||this.defaultFormatter,w=l.styledMode,E=this.allowShared;if(!d.enabled||!m.series)return;Ze.clearTimeout(this.hideTimer),this.allowShared=!(!uf(n)&&n.series&&n.series.noSharedTooltip),E=E&&!this.allowShared,this.followPointer=!this.split&&m.series.tooltipOptions.followPointer;let A=this.getAnchor(n,o),L=A[0],F=A[1];p&&this.allowShared&&(u.applyInactiveState(g),g.forEach(G=>G.setState("hover")),m.points=g),this.len=g.length;let z=_d(y)?af(y,m,l):_.call(m,this);m.points=void 0;let $=m.series;if(this.distance=lo($.tooltipOptions.distance,16),z===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(z,g);else{let G=L,X=F;if(o&&u.isDirectTouch&&(G=o.chartX-l.plotLeft,X=o.chartY-l.plotTop),!(l.polar||$.options.clip===!1||g.some(ge=>u.isDirectTouch||ge.series.shouldShowTooltip(G,X))))return void this.hide();{let ge=this.getLabel(E&&this.tt||{});(!d.style.width||w)&&ge.css({width:(this.outside?this.getPlayingField():l.spacingBox).width+"px"}),ge.attr({class:this.getClassName(m),text:z&&z.join?z.join(""):z}),this.outside&&ge.attr({x:ao(ge.x||0,0,this.getPlayingField().width-(ge.width||0)-1)}),w||ge.attr({stroke:d.borderColor||m.color||$.color||"#666666"}),this.updatePosition({plotX:L,plotY:F,negative:m.negative,ttBelow:m.ttBelow,series:$,h:A[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}$i(this,"refresh")}renderSplit(n,o){var Nt,Xr;let l=this,{chart:d,chart:{chartWidth:u,chartHeight:p,plotHeight:g,plotLeft:m,plotTop:y,scrollablePixelsY:_=0,scrollablePixelsX:w,styledMode:E},distance:A,options:L,options:{fixed:F,position:z,positioner:$},pointer:G}=l,{scrollLeft:X=0,scrollTop:ge=0}=((Nt=d.scrollablePlotArea)==null?void 0:Nt.scrollingContainer)||{},de=l.outside&&typeof w!="number"?cf.documentElement.getBoundingClientRect():{left:X,right:X+u},fe=l.getLabel(),ye=this.renderer||d.renderer,ve=!!((Xr=d.xAxis[0])!=null&&Xr.opposite),{left:xe,top:Ae}=G.getChartPosition(),je=$||F,Fe=y+ge,He=0,it=g-_,Qe=function(Ct,It,pt,ht=[0,0],ur=!0){let Dt,Ht;if(pt.isHeader)Ht=ve?0:it,Dt=ao(ht[0]-Ct/2,de.left,de.right-Ct-(l.outside?xe:0));else if(F&&pt){let Nr=l.getFixedPosition(Ct,It,pt);Dt=Nr.x,Ht=Nr.y-Fe}else Ht=ht[1]-Fe,Dt=ao(Dt=ur?ht[0]-Ct-A:ht[0]+A,ur?Dt:de.left,de.right);return{x:Dt,y:Ht}};_d(n)&&(n=[!1,n]);let lt=n.slice(0,o.length+1).reduce(function(Ct,It,pt){if(It!==!1&&It!==""){let ht=o[pt-1]||{isHeader:!0,plotX:o[0].plotX,plotY:g,series:{}},ur=ht.isHeader,Dt=ur?l:ht.series,Ht=Dt.tt=function(Br,Vt,Id){let mo=Br,{isHeader:xa,series:Dd}=Vt,Tn=Dd.tooltipOptions||L;if(!mo){let Rl={padding:Tn.padding,r:Tn.borderRadius};E||(Rl.fill=Tn.backgroundColor,Rl["stroke-width"]=Tn.borderWidth??(F&&!xa?0:1)),mo=ye.label("",0,0,Tn[xa?"headerShape":"shape"]||(F&&!xa?"rect":"callout"),void 0,void 0,Tn.useHTML).addClass(l.getClassName(Vt,!0,xa)).attr(Rl).add(fe)}return mo.isActive=!0,mo.attr({text:Id}),E||mo.css(Tn.style).attr({stroke:Tn.borderColor||Vt.color||Dd.color||"#333333"}),mo}(Dt.tt,ht,It.toString()),Nr=Ht.getBBox(),Ss=Nr.width+Ht.strokeWidth();ur&&(He=Nr.height,it+=He,ve&&(Fe-=He));let{anchorX:ln,anchorY:Yr}=function(Br){let Vt,Id,{isHeader:mo,plotX:xa=0,plotY:Dd=0,series:Tn}=Br;if(mo)Vt=Math.max(m+xa,m),Id=y+g/2;else{let{xAxis:Rl,yAxis:M1}=Tn;Vt=Rl.pos+ao(xa,-A,Rl.len+A),Tn.shouldShowTooltip(0,M1.pos-y+Dd,{ignoreX:!0})&&(Id=M1.pos+Dd)}return{anchorX:Vt=ao(Vt,de.left-A,de.right+A),anchorY:Id}}(ht);if(typeof Yr=="number"){let Br=Nr.height+1,Vt=($||Qe).call(l,Ss,Br,ht,[ln,Yr]);Ct.push({align:je?0:void 0,anchorX:ln,anchorY:Yr,boxWidth:Ss,point:ht,rank:lo(Vt.rank,+!!ur),size:Br,target:Vt.y,tt:Ht,x:Vt.x})}else Ht.isActive=!1}return Ct},[]);!je&&lt.some(Ct=>{let{outside:It}=l,pt=(It?xe:0)+Ct.anchorX;return pt<de.left&&pt+Ct.boxWidth<de.right||pt<xe-de.left+Ct.boxWidth&&de.right-pt>pt})&&(lt=lt.map(Ct=>{let{x:It,y:pt}=Qe.call(this,Ct.boxWidth,Ct.size,Ct.point,[Ct.anchorX,Ct.anchorY],!1);return yv(Ct,{target:pt,x:It})})),l.cleanSplit(),mv(lt,it);let Ke={left:xe,right:xe};lt.forEach(function(Ct){let{x:It,boxWidth:pt,isHeader:ht}=Ct;!ht&&(l.outside&&xe+It<Ke.left&&(Ke.left=xe+It),!ht&&l.outside&&Ke.left+pt>Ke.right&&(Ke.right=xe+It))}),lt.forEach(function(Ct){let{x:It,anchorX:pt,anchorY:ht,pos:ur,point:{isHeader:Dt}}=Ct,Ht={visibility:ur===void 0?"hidden":"inherit",x:It,y:(ur||0)+Fe+(F&&z.y||0),anchorX:pt,anchorY:ht};if(l.outside&&It<pt){let Nr=xe-Ke.left;Nr>0&&(Dt||(Ht.x=It+Nr,Ht.anchorX=pt+Nr),Dt&&(Ht.x=(Ke.right-Ke.left)/2,Ht.anchorX=pt+Nr))}Ct.tt.attr(Ht)});let{container:ct,outside:wt,renderer:At}=l;if(wt&&ct&&At){let{width:Ct,height:It,x:pt,y:ht}=fe.getBBox();At.setSize(Ct+pt,It+ht,!1),ct.style.left=Ke.left+"px",ct.style.top=Ae+"px"}gv&&fe.attr({opacity:fe.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let n=this.chart,o=this.label,l=this.shared?n.hoverPoints:n.hoverPoint;if(!o||!l)return;let d={x:0,y:0,width:0,height:0},u=this.getAnchor(l),p=o.getBBox();u[0]+=n.plotLeft-(o.translateX||0),u[1]+=n.plotTop-(o.translateY||0),d.x=Math.min(0,u[0]),d.y=Math.min(0,u[1]),d.width=u[0]<0?Math.max(Math.abs(u[0]),p.width-u[0]):Math.max(Math.abs(u[0]),p.width),d.height=u[1]<0?Math.max(Math.abs(u[1]),p.height-Math.abs(u[1])):Math.max(Math.abs(u[1]),p.height),this.tracker?this.tracker.attr(d):(this.tracker=o.renderer.rect(d).addClass("highcharts-tracker").add(o),n.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(n){return n.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(n,o){let l=n.series,d=l.tooltipOptions,u=l.xAxis,p=u==null?void 0:u.dateTime,g={isFooter:o,point:n},m=d.xDateFormat||"",y=d[o?"footerFormat":"headerFormat"];return $i(this,"headerFormatter",g,function(_){if(p&&!m&&wv(n.key)&&(m=p.getXDateFormat(n.key,d.dateTimeLabelFormats)),p&&m){if(hf(m)){let w=m;pv[0]=E=>l.chart.time.dateFormat(w,E),m="%0"}(n.tooltipDateKeys||["key"]).forEach(w=>{y=y.replace(RegExp("point\\."+w+"([ \\)}])"),`(point.${w}:${m})$1`)})}l.chart.styledMode&&(y=this.styledModeFormat(y)),_.text=af(y,n,this.chart)}),g.text||""}update(n){this.destroy(),this.init(this.chart,kv(!0,this.options,n))}updatePosition(n){var de;let{chart:o,container:l,distance:d,options:u,pointer:p,renderer:g}=this,{height:m=0,width:y=0}=this.getLabel(),{fixed:_,positioner:w}=u,{left:E,top:A,scaleX:L,scaleY:F}=p.getChartPosition(),z=(w||_&&this.getFixedPosition||this.getPosition).call(this,y,m,n),$=J.doc,G=(n.plotX||0)+o.plotLeft,X=(n.plotY||0)+o.plotTop,ge;if(g&&l){if(w||_){let{scrollLeft:fe=0,scrollTop:ye=0}=((de=o.scrollablePlotArea)==null?void 0:de.scrollingContainer)||{};z.x+=fe+E-d,z.y+=ye+A-d}ge=(u.borderWidth||0)+2*d+2,g.setSize(ao(y+ge,0,$.documentElement.clientWidth)-1,m+ge,!1),(L!==1||F!==1)&&(df(l,{transform:`scale(${L}, ${F})`}),G*=L,X*=F),G+=E-z.x,X+=A-z.y}this.move(Math.round(z.x),Math.round(z.y||0),G,X)}}(function(b){b.compose=function(n){Sv(lf,"Core.Tooltip")&&vv(n,"afterInit",function(){let o=this.chart;o.options.tooltip&&(o.tooltip=new b(o,o.options.tooltip,this))})}})(Cd||(Cd={}));let pf=Cd,{animObject:_v}=Ar,{defaultOptions:Cv}=Ri,{format:jl}=sr,{addEvent:Tt,crisp:Ev,erase:K,extend:k,fireEvent:M,getNestedProperty:P,isArray:W,isFunction:H,isNumber:Y,isObject:ne,merge:se,pick:oe,syncTimeout:ee,removeEvent:re,uniqueKey:V}=Ze;class Q{animateBeforeDestroy(){let n=this,o={x:n.startXPos,opacity:0},l=n.getGraphicalProps();l.singular.forEach(function(d){n[d]=n[d].animate(d==="dataLabel"?{x:n[d].startXPos,y:n[d].startYPos,opacity:0}:o)}),l.plural.forEach(function(d){n[d].forEach(function(u){u.element&&u.animate(k({x:n.startXPos},u.startYPos?{x:u.startXPos,y:u.startYPos}:{}))})})}applyOptions(n,o){let l=this.series,d=l.options.pointValKey||l.pointValKey;return k(this,n=Q.prototype.optionsToObject.call(this,n)),this.options=this.options?k(this.options,n):n,n.group&&delete this.group,n.dataLabels&&delete this.dataLabels,d&&(this.y=Q.prototype.getNestedProperty.call(this,d)),this.selected&&(this.state="select"),"name"in this&&o===void 0&&l.xAxis&&l.xAxis.hasNames&&(this.x=l.xAxis.nameToX(this)),this.x===void 0&&l?this.x=o??l.autoIncrement():Y(n.x)&&l.options.relativeXValue?this.x=l.autoIncrement(n.x):typeof this.x=="string"&&(o??(o=l.chart.time.parse(this.x)),Y(o)&&(this.x=o)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let n=this,o=n.series,l=o.chart,d=o.options.dataSorting,u=l.hoverPoints,p=_v(n.series.chart.renderer.globalAnimation),g=()=>{for(let m in(n.graphic||n.graphics||n.dataLabel||n.dataLabels)&&(re(n),n.destroyElements()),n)delete n[m]};n.legendItem&&l.legend.destroyItem(n),u&&(n.setState(),K(u,n),u.length||(l.hoverPoints=null)),n===l.hoverPoint&&n.onMouseOut(),d!=null&&d.enabled?(this.animateBeforeDestroy(),ee(g,p.duration)):g(),l.pointCount--}this.destroyed=!0}destroyElements(n){let o=this,l=o.getGraphicalProps(n);l.singular.forEach(function(d){o[d]=o[d].destroy()}),l.plural.forEach(function(d){o[d].forEach(function(u){u!=null&&u.element&&u.destroy()}),delete o[d]})}firePointEvent(n,o,l){let d=this,u=this.series.options;d.manageEvent(n),n==="click"&&u.allowPointSelect&&(l=function(p){!d.destroyed&&d.select&&d.select(null,p.ctrlKey||p.metaKey||p.shiftKey)}),M(d,n,o,l)}getClassName(){var n;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((n=this.zone)!=null&&n.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(n){let o,l,d=this,u=[],p={singular:[],plural:[]};for((n=n||{graphic:1,dataLabel:1}).graphic&&u.push("graphic","connector"),n.dataLabel&&u.push("dataLabel","dataLabelPath","dataLabelUpper"),l=u.length;l--;)d[o=u[l]]&&p.singular.push(o);return["graphic","dataLabel"].forEach(function(g){let m=g+"s";n[g]&&d[m]&&p.plural.push(m)}),p}getNestedProperty(n){if(n)return n.indexOf("custom.")===0?P(n,this.options):this[n]}getZone(){let n=this.series,o=n.zones,l=n.zoneAxis||"y",d,u=0;for(d=o[0];this[l]>=d.value;)d=o[++u];return this.nonZonedColor||(this.nonZonedColor=this.color),d!=null&&d.color&&!this.options.color?this.color=d.color:this.color=this.nonZonedColor,d}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(n,o,l){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=n,this.applyOptions(o,l),this.id??(this.id=V()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=n.options.nullInteraction),n.chart.pointCount++,M(this,"afterInit")}isValid(){return(Y(this.x)||this.x instanceof Date)&&Y(this.y)}optionsToObject(n){var _;let o=this.series,l=o.options.keys,d=l||o.pointArrayMap||["y"],u=d.length,p={},g,m=0,y=0;if(Y(n)||n===null)p[d[0]]=n;else if(W(n))for(!l&&n.length>u&&((g=typeof n[0])=="string"?(_=o.xAxis)!=null&&_.dateTime?p.x=o.chart.time.parse(n[0]):p.name=n[0]:g==="number"&&(p.x=n[0]),m++);y<u;)l&&n[m]===void 0||(d[y].indexOf(".")>0?Q.prototype.setNestedProperty(p,n[m],d[y]):p[d[y]]=n[m]),m++,y++;else typeof n=="object"&&(p=n,n.dataLabels&&(o.hasDataLabels=()=>!0),n.marker&&(o._hasPointMarkers=!0));return p}pos(n,o=this.plotY){if(!this.destroyed){let{plotX:l,series:d}=this,{chart:u,xAxis:p,yAxis:g}=d,m=0,y=0;if(Y(l)&&Y(o))return n&&(m=p?p.pos:u.plotLeft,y=g?g.pos:u.plotTop),u.inverted&&p&&g?[g.len-o+y,p.len-l+m]:[l+m,o+y]}}resolveColor(){let n=this.series,o=n.chart.options.chart,l=n.chart.styledMode,d,u,p=o.colorCount,g;delete this.nonZonedColor,n.options.colorByPoint?(l||(d=(u=n.options.colors||n.chart.options.colors)[n.colorCounter],p=u.length),g=n.colorCounter,n.colorCounter++,n.colorCounter===p&&(n.colorCounter=0)):(l||(d=n.color),g=n.colorIndex),this.colorIndex=oe(this.options.colorIndex,g),this.color=oe(this.options.color,d)}setNestedProperty(n,o,l){return l.split(".").reduce(function(d,u,p,g){let m=g.length-1===p;return d[u]=m?o:ne(d[u],!0)?d[u]:{},d[u]},n),n}shouldDraw(){return!this.isNull}tooltipFormatter(n){var m;let{chart:o,pointArrayMap:l=["y"],tooltipOptions:d}=this.series,{valueDecimals:u="",valuePrefix:p="",valueSuffix:g=""}=d;return o.styledMode&&(n=((m=o.tooltip)==null?void 0:m.styledModeFormat(n))||n),l.forEach(y=>{y="{point."+y,(p||g)&&(n=n.replace(RegExp(y+"}","g"),p+y+"}"+g)),n=n.replace(RegExp(y+"}","g"),y+":,."+u+"f}")}),jl(n,this,o)}update(n,o,l,d){let u,p=this,g=p.series,m=p.graphic,y=g.chart,_=g.options;function w(){p.applyOptions(n);let E=m&&p.hasMockGraphic,A=p.y===null?!E:E;m&&A&&(p.graphic=m.destroy(),delete p.hasMockGraphic),ne(n,!0)&&(m!=null&&m.element&&n&&n.marker&&n.marker.symbol!==void 0&&(p.graphic=m.destroy()),n!=null&&n.dataLabels&&p.dataLabel&&(p.dataLabel=p.dataLabel.destroy())),u=p.index;let L={};for(let F of g.dataColumnKeys())L[F]=p[F];g.dataTable.setRow(L,u),_.data[u]=ne(_.data[u],!0)||ne(n,!0)?p.options:oe(n,_.data[u]),g.isDirty=g.isDirtyData=!0,!g.fixedBox&&g.hasCartesianSeries&&(y.isDirtyBox=!0),_.legendType==="point"&&(y.isDirtyLegend=!0),o&&y.redraw(l)}o=oe(o,!0),d===!1?w():p.firePointEvent("update",{options:n},w)}remove(n,o){this.series.removePoint(this.series.data.indexOf(this),n,o)}select(n,o){let l=this,d=l.series,u=d.chart;n=oe(n,!l.selected),this.selectedStaging=n,l.firePointEvent(n?"select":"unselect",{accumulate:o},function(){l.selected=l.options.selected=n,d.options.data[d.data.indexOf(l)]=l.options,l.setState(n&&"select"),o||u.getSelectedPoints().forEach(function(p){let g=p.series;p.selected&&p!==l&&(p.selected=p.options.selected=!1,g.options.data[g.data.indexOf(p)]=p.options,p.setState(u.hoverPoints&&g.options.inactiveOtherPoints?"inactive":""),p.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(n){let{inverted:o,pointer:l}=this.series.chart;l&&(n=n?l.normalize(n):l.getChartCoordinatesFromPoint(this,o),l.runPointActions(n,this))}onMouseOut(){let n=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(n.hoverPoints||[]).forEach(function(o){o.setState()}),n.hoverPoints=n.hoverPoint=null}manageEvent(n){var d,u,p,g,m,y,_;let o=se(this.series.options.point,this.options),l=(d=o.events)==null?void 0:d[n];H(l)&&(!((u=this.hcEvents)!=null&&u[n])||((g=(p=this.hcEvents)==null?void 0:p[n])==null?void 0:g.map(w=>w.fn).indexOf(l))===-1)?((m=this.importedUserEvent)==null||m.call(this),this.importedUserEvent=Tt(this,n,l),this.hcEvents&&(this.hcEvents[n].userEvent=!0)):this.importedUserEvent&&!l&&((y=this.hcEvents)!=null&&y[n])&&((_=this.hcEvents)!=null&&_[n].userEvent)&&(re(this,n),delete this.hcEvents[n],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(n,o){var fe,ye;let l=this.series,d=this.state,u=l.options.states[n||"normal"]||{},p=Cv.plotOptions[l.type].marker&&l.options.marker,g=p&&p.enabled===!1,m=((fe=p==null?void 0:p.states)==null?void 0:fe[n||"normal"])||{},y=m.enabled===!1,_=this.marker||{},w=l.chart,E=p&&l.markerAttribs,A=l.halo,L,F,z,$=l.stateMarkerGraphic,G;if((n=n||"")===this.state&&!o||this.selected&&n!=="select"||u.enabled===!1||n&&(y||g&&m.enabled===!1)||n&&_.states&&_.states[n]&&_.states[n].enabled===!1)return;if(this.state=n,E&&(L=l.markerAttribs(this,n)),this.graphic&&!this.hasMockGraphic){if(d&&this.graphic.removeClass("highcharts-point-"+d),n&&this.graphic.addClass("highcharts-point-"+n),!w.styledMode){F=l.pointAttribs(this,n),z=oe(w.options.chart.animation,u.animation);let ve=F.opacity;l.options.inactiveOtherPoints&&Y(ve)&&(this.dataLabels||[]).forEach(function(xe){xe&&!xe.hasClass("highcharts-data-label-hidden")&&(xe.animate({opacity:ve},z),xe.connector&&xe.connector.animate({opacity:ve},z))}),this.graphic.animate(F,z)}L&&this.graphic.animate(L,oe(w.options.chart.animation,m.animation,p.animation)),$&&$.hide()}else n&&m&&(G=_.symbol||l.symbol,$&&$.currentSymbol!==G&&($=$.destroy()),L&&($?$[o?"animate":"attr"]({x:L.x,y:L.y}):G&&(l.stateMarkerGraphic=$=w.renderer.symbol(G,L.x,L.y,L.width,L.height,se(p,m)).add(l.markerGroup),$.currentSymbol=G)),!w.styledMode&&$&&this.state!=="inactive"&&$.attr(l.pointAttribs(this,n))),$&&($[n&&this.isInside?"show":"hide"](),$.element.point=this,$.addClass(this.getClassName(),!0));let X=u.halo,ge=this.graphic||$,de=(ge==null?void 0:ge.visibility)||"inherit";X!=null&&X.size&&ge&&de!=="hidden"&&!this.isCluster?(A||(l.halo=A=w.renderer.path().add(ge.parentGroup)),A.show()[o?"animate":"attr"]({d:this.haloPath(X.size)}),A.attr({class:"highcharts-halo highcharts-color-"+oe(this.colorIndex,l.colorIndex)+(this.className?" "+this.className:""),visibility:de,zIndex:-1}),A.point=this,w.styledMode||A.attr(k({fill:this.color||l.color,"fill-opacity":X.opacity},Ut.filterUserAttributes(X.attributes||{})))):(ye=A==null?void 0:A.point)!=null&&ye.haloPath&&!A.point.destroyed&&A.animate({d:A.point.haloPath(0)},null,A.hide),M(this,"afterSetState",{state:n})}haloPath(n){let o=this.pos();return o?this.series.chart.renderer.symbols.circle(Ev(o[0],1)-n,o[1]-n,2*n,2*n):[]}}let Z=Q,{parse:ce}=Wt,{charts:ue,composed:we,isTouchDevice:Ce}=J,{addEvent:ze,attr:Me,css:Ne,extend:Re,find:De,fireEvent:We,isNumber:Be,isObject:Xe,objectEach:Le,offset:rt,pick:qe,pushUnique:zt,splat:nt}=Ze;class at{applyInactiveState(n=[]){var l,d;let o=[];for(let u of(n.forEach(p=>{let g=p.series;o.push(g),g.linkedParent&&o.push(g.linkedParent),g.linkedSeries&&o.push.apply(o,g.linkedSeries),g.navigatorSeries&&o.push(g.navigatorSeries),g.boosted&&g.markerGroup&&o.push.apply(o,this.chart.series.filter(m=>m.markerGroup===g.markerGroup))}),this.chart.series)){let p=u.options;((d=(l=p.states)==null?void 0:l.inactive)==null?void 0:d.enabled)!==!1&&(o.indexOf(u)===-1?u.setState("inactive",!0):p.inactiveOtherPoints&&u.setAllPointsToState("inactive"))}}destroy(){let n=this;this.eventsToUnbind.forEach(o=>o()),this.eventsToUnbind=[],!J.chartCount&&(at.unbindDocumentMouseUp.forEach(o=>o.unbind()),at.unbindDocumentMouseUp.length=0,at.unbindDocumentTouchEnd&&(at.unbindDocumentTouchEnd=at.unbindDocumentTouchEnd())),clearInterval(n.tooltipTimeout),Le(n,function(o,l){n[l]=void 0})}getSelectionMarkerAttrs(n,o){let l={args:{chartX:n,chartY:o},attrs:{},shapeType:"rect"};return We(this,"getSelectionMarkerAttrs",l,d=>{let u,{chart:p,zoomHor:g,zoomVert:m}=this,{mouseDownX:y=0,mouseDownY:_=0}=p,w=d.attrs;w.x=p.plotLeft,w.y=p.plotTop,w.width=g?1:p.plotWidth,w.height=m?1:p.plotHeight,g&&(w.width=Math.max(1,Math.abs(u=n-y)),w.x=(u>0?0:u)+y),m&&(w.height=Math.max(1,Math.abs(u=o-_)),w.y=(u>0?0:u)+_)}),l}drag(n){let{chart:o}=this,{mouseDownX:l=0,mouseDownY:d=0}=o,{panning:u,panKey:p,selectionMarkerFill:g}=o.options.chart,m=o.plotLeft,y=o.plotTop,_=o.plotWidth,w=o.plotHeight,E=Xe(u)?u.enabled:u,A=p&&n[`${p}Key`],L=n.chartX,F=n.chartY,z,$=this.selectionMarker;if((!$||!$.touch)&&(L<m?L=m:L>m+_&&(L=m+_),F<y?F=y:F>y+w&&(F=y+w),this.hasDragged=Math.sqrt(Math.pow(l-L,2)+Math.pow(d-F,2)),this.hasDragged>10)){z=o.isInsidePlot(l-m,d-y,{visiblePlotOnly:!0});let{shapeType:G,attrs:X}=this.getSelectionMarkerAttrs(L,F);this.hasZoom&&z&&!A&&!$&&(this.selectionMarker=$=o.renderer[G](),$.attr({class:"highcharts-selection-marker",zIndex:7}).add(),o.styledMode||$.attr({fill:g||ce("#334eff").setOpacity(.25).get()})),$&&$.attr(X),z&&!$&&E&&o.pan(n,u)}}dragStart(n){let o=this.chart;o.mouseIsDown=n.type,o.cancelClick=!1,o.mouseDownX=n.chartX,o.mouseDownY=n.chartY}getSelectionBox(n){let o={args:{marker:n},result:n.getBBox()};return We(this,"getSelectionBox",o),o.result}drop(n){let o,{chart:l,selectionMarker:d}=this;for(let u of l.axes)u.isPanning&&(u.isPanning=!1,(u.options.startOnTick||u.options.endOnTick||u.series.some(p=>p.boosted))&&(u.forceRedraw=!0,u.setExtremes(u.userMin,u.userMax,!1),o=!0));if(o&&l.redraw(),d&&n){if(this.hasDragged){let u=this.getSelectionBox(d);l.transform({axes:l.axes.filter(p=>p.zoomEnabled&&(p.coll==="xAxis"&&this.zoomX||p.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:n,xAxis:[],yAxis:[],...u},from:u})}Be(l.index)&&(this.selectionMarker=d.destroy())}l&&Be(l.index)&&(Ne(l.container,{cursor:l._cursor}),l.cancelClick=this.hasDragged>10,l.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(n,o,l){let d;return n.forEach(function(u){let p=!(u.noSharedTooltip&&o)&&0>u.options.findNearestPointBy.indexOf("y"),g=u.searchPoint(l,p);Xe(g,!0)&&g.series&&(!Xe(d,!0)||function(m,y){var A,L;let _=m.distX-y.distX,w=m.dist-y.dist,E=((A=y.series.group)==null?void 0:A.zIndex)-((L=m.series.group)==null?void 0:L.zIndex);return _!==0&&o?_:w!==0?w:E!==0?E:m.series.index>y.series.index?-1:1}(d,g)>0)&&(d=g)}),d}getChartCoordinatesFromPoint(n,o){let{xAxis:l,yAxis:d}=n.series,u=n.shapeArgs;if(l&&d){let p=n.clientX??n.plotX??0,g=n.plotY||0;return n.isNode&&u&&Be(u.x)&&Be(u.y)&&(p=u.x,g=u.y),o?{chartX:d.len+d.pos-g,chartY:l.len+l.pos-p}:{chartX:p+l.pos,chartY:g+d.pos}}if(u!=null&&u.x&&u.y)return{chartX:u.x,chartY:u.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:n}=this.chart,o=rt(n);this.chartPosition={left:o.left,top:o.top,scaleX:1,scaleY:1};let{offsetHeight:l,offsetWidth:d}=n;return d>2&&l>2&&(this.chartPosition.scaleX=o.width/d,this.chartPosition.scaleY=o.height/l),this.chartPosition}getCoordinates(n){let o={xAxis:[],yAxis:[]};for(let l of this.chart.axes)o[l.isXAxis?"xAxis":"yAxis"].push({axis:l,value:l.toValue(n[l.horiz?"chartX":"chartY"])});return o}getHoverData(n,o,l,d,u,p){let g=[],m=function(A){return A.visible&&!(!u&&A.directTouch)&&qe(A.options.enableMouseTracking,!0)},y=o,_,w={chartX:p?p.chartX:void 0,chartY:p?p.chartY:void 0,shared:u};We(this,"beforeGetHoverData",w),_=y&&!y.stickyTracking?[y]:l.filter(A=>A.stickyTracking&&(w.filter||m)(A));let E=d&&n||!p?n:this.findNearestKDPoint(_,u,p);return y=E==null?void 0:E.series,E&&(u&&!y.noSharedTooltip?(_=l.filter(function(A){return w.filter?w.filter(A):m(A)&&!A.noSharedTooltip})).forEach(function(A){var z;let L=(z=A.options)==null?void 0:z.nullInteraction,F=De(A.points,function($){return $.x===E.x&&(!$.isNull||!!L)});Xe(F)&&(A.boosted&&A.boost&&(F=A.boost.getPoint(F)),g.push(F))}):g.push(E)),We(this,"afterGetHoverData",w={hoverPoint:E}),{hoverPoint:w.hoverPoint,hoverSeries:y,hoverPoints:g}}getPointFromEvent(n){let o=n.target,l;for(;o&&!l;)l=o.point,o=o.parentNode;return l}onTrackerMouseOut(n){let o=this.chart,l=n.relatedTarget,d=o.hoverSeries;this.isDirectTouch=!1,!d||!l||d.stickyTracking||this.inClass(l,"highcharts-tooltip")||this.inClass(l,"highcharts-series-"+d.index)&&this.inClass(l,"highcharts-tracker")||d.onMouseOut()}inClass(n,o){let l=n,d;for(;l;){if(d=Me(l,"class")){if(d.indexOf(o)!==-1)return!0;if(d.indexOf("highcharts-container")!==-1)return!1}l=l.parentElement}}constructor(n,o){var l;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=o,this.chart=n,this.runChartClick=!!((l=o.chart.events)!=null&&l.click),this.pinchDown=[],this.setDOMEvents(),We(this,"afterInit")}normalize(n,o){let l=n.touches,d=l?l.length?l.item(0):qe(l.changedTouches,n.changedTouches)[0]:n;o||(o=this.getChartPosition());let u=d.pageX-o.left,p=d.pageY-o.top;return Re(n,{chartX:Math.round(u/=o.scaleX),chartY:Math.round(p/=o.scaleY)})}onContainerClick(n){let o=this.chart,l=o.hoverPoint,d=this.normalize(n),u=o.plotLeft,p=o.plotTop;!o.cancelClick&&(l&&this.inClass(d.target,"highcharts-tracker")?(We(l.series,"click",Re(d,{point:l})),o.hoverPoint&&l.firePointEvent("click",d)):(Re(d,this.getCoordinates(d)),o.isInsidePlot(d.chartX-u,d.chartY-p,{visiblePlotOnly:!0})&&We(o,"click",d)))}onContainerMouseDown(n){var l;let o=(1&(n.buttons||n.button))==1;n=this.normalize(n),J.isFirefox&&n.button!==0&&this.onContainerMouseMove(n),(n.button===void 0||o)&&(this.zoomOption(n),o&&((l=n.preventDefault)==null||l.call(n)),this.dragStart(n))}onContainerMouseLeave(n){let{pointer:o}=ue[qe(at.hoverChartIndex,-1)]||{};n=this.normalize(n),this.onContainerMouseMove(n),o&&!this.inClass(n.relatedTarget,"highcharts-tooltip")&&(o.reset(),o.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(n){var u;let o=this.chart,l=o.tooltip,d=this.normalize(n);this.setHoverChartIndex(n),(o.mouseIsDown==="mousedown"||this.touchSelect(d))&&this.drag(d),!((u=o.exporting)!=null&&u.openMenu)&&(this.inClass(d.target,"highcharts-tracker")||o.isInsidePlot(d.chartX-o.plotLeft,d.chartY-o.plotTop,{visiblePlotOnly:!0}))&&!(l!=null&&l.shouldStickOnContact(d))&&(this.inClass(d.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(d))}onDocumentTouchEnd(n){this.onDocumentMouseUp(n)}onContainerTouchMove(n){this.touchSelect(n)?this.onContainerMouseMove(n):this.touch(n)}onContainerTouchStart(n){this.touchSelect(n)?this.onContainerMouseDown(n):(this.zoomOption(n),this.touch(n,!0))}onDocumentMouseMove(n){let o=this.chart,l=o.tooltip,d=this.chartPosition,u=this.normalize(n,d);!d||o.isInsidePlot(u.chartX-o.plotLeft,u.chartY-o.plotTop,{visiblePlotOnly:!0})||l!=null&&l.shouldStickOnContact(u)||u.target!==o.container.ownerDocument&&this.inClass(u.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(n){var o,l,d;n!=null&&n.touches&&this.hasPinchMoved&&((o=n==null?void 0:n.preventDefault)==null||o.call(n)),(d=(l=ue[qe(at.hoverChartIndex,-1)])==null?void 0:l.pointer)==null||d.drop(n)}pinch(n){let o=this,{chart:l,hasZoom:d,lastTouches:u}=o,p=[].map.call(n.touches||[],w=>o.normalize(w)),g=p.length,m=g===1&&(o.inClass(n.target,"highcharts-tracker")&&l.runTrackerClick||o.runChartClick),y=l.tooltip,_=g===1&&qe(y==null?void 0:y.options.followTouchMove,!0);g>1?o.initiated=!0:_&&(o.initiated=!1),d&&o.initiated&&!m&&n.cancelable!==!1&&n.preventDefault(),n.type==="touchstart"?(o.pinchDown=p,o.res=!0,l.mouseDownX=n.chartX):_?this.runPointActions(o.normalize(n)):u&&(We(l,"touchpan",{originalEvent:n,touches:p},()=>{let w=E=>{let A=E[0],L=E[1]||A;return{x:A.chartX,y:A.chartY,width:L.chartX-A.chartX,height:L.chartY-A.chartY}};l.transform({axes:l.axes.filter(E=>E.zoomEnabled&&(this.zoomHor&&E.horiz||this.zoomVert&&!E.horiz)),to:w(p),from:w(u),trigger:n.type})}),o.res&&(o.res=!1,this.reset(!1,0))),o.lastTouches=p}reset(n,o){let l=this.chart,d=l.hoverSeries,u=l.hoverPoint,p=l.hoverPoints,g=l.tooltip,m=g!=null&&g.shared?p:u;n&&m&&nt(m).forEach(function(y){y.series.isCartesian&&y.plotX===void 0&&(n=!1)}),n?g&&m&&nt(m).length&&(g.refresh(m),g.shared&&p?p.forEach(function(y){y.setState(y.state,!0),y.series.isCartesian&&(y.series.xAxis.crosshair&&y.series.xAxis.drawCrosshair(null,y),y.series.yAxis.crosshair&&y.series.yAxis.drawCrosshair(null,y))}):u&&(u.setState(u.state,!0),l.axes.forEach(function(y){y.crosshair&&u.series[y.coll]===y&&y.drawCrosshair(null,u)}))):(u&&u.onMouseOut(),p&&p.forEach(function(y){y.setState()}),d&&d.onMouseOut(),g&&g.hide(o),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l.axes.forEach(function(y){y.hideCrosshair()}),l.hoverPoints=l.hoverPoint=void 0)}runPointActions(n,o,l){var F;let d=this.chart,u=d.series,p=(F=d.tooltip)!=null&&F.options.enabled?d.tooltip:void 0,g=!!p&&p.shared,m=o||d.hoverPoint,y=(m==null?void 0:m.series)||d.hoverSeries,_=(!n||n.type!=="touchmove")&&(!!o||(y==null?void 0:y.directTouch)&&this.isDirectTouch),w=this.getHoverData(m,y,u,_,g,n);m=w.hoverPoint,y=w.hoverSeries;let E=w.hoverPoints,A=(y==null?void 0:y.tooltipOptions.followPointer)&&!y.tooltipOptions.split,L=g&&y&&!y.noSharedTooltip;if(m&&(l||m!==d.hoverPoint||p!=null&&p.isHidden)){if((d.hoverPoints||[]).forEach(function(z){E.indexOf(z)===-1&&z.setState()}),d.hoverSeries!==y&&y.onMouseOver(),this.applyInactiveState(E),(E||[]).forEach(function(z){z.setState("hover")}),d.hoverPoint&&d.hoverPoint.firePointEvent("mouseOut"),!m.series)return;d.hoverPoints=E,d.hoverPoint=m,m.firePointEvent("mouseOver",void 0,()=>{p&&m&&p.refresh(L?E:m,n)})}else if(A&&p&&!p.isHidden){let z=p.getAnchor([{}],n);d.isInsidePlot(z[0],z[1],{visiblePlotOnly:!0})&&p.updatePosition({plotX:z[0],plotY:z[1]})}this.unDocMouseMove||(this.unDocMouseMove=ze(d.container.ownerDocument,"mousemove",z=>{var $,G;return(G=($=ue[at.hoverChartIndex??-1])==null?void 0:$.pointer)==null?void 0:G.onDocumentMouseMove(z)}),this.eventsToUnbind.push(this.unDocMouseMove)),d.axes.forEach(function(z){var X;let $,G=((X=z.crosshair)==null?void 0:X.snap)??!0;G&&(($=d.hoverPoint)&&$.series[z.coll]===z||($=De(E,ge=>{var de;return((de=ge.series)==null?void 0:de[z.coll])===z}))),$||!G?z.drawCrosshair(n,$):z.hideCrosshair()})}setDOMEvents(){let n=this.chart.container,o=n.ownerDocument;n.onmousedown=this.onContainerMouseDown.bind(this),n.onmousemove=this.onContainerMouseMove.bind(this),n.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(ze(n,"mouseenter",this.onContainerMouseEnter.bind(this)),ze(n,"mouseleave",this.onContainerMouseLeave.bind(this))),at.unbindDocumentMouseUp.some(d=>d.doc===o)||at.unbindDocumentMouseUp.push({doc:o,unbind:ze(o,"mouseup",this.onDocumentMouseUp.bind(this))});let l=this.chart.renderTo.parentElement;for(;l&&l.tagName!=="BODY";)this.eventsToUnbind.push(ze(l,"scroll",()=>{delete this.chartPosition})),l=l.parentElement;this.eventsToUnbind.push(ze(n,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),ze(n,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),at.unbindDocumentTouchEnd||(at.unbindDocumentTouchEnd=ze(o,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),ze(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var u,p;if(!Ce)return;let n=this.pointerCaptureEventsToUnbind,o=this.chart,l=o.container,d=qe((u=o.options.tooltip)==null?void 0:u.followTouchMove,!0)&&o.series.some(g=>g.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&d?(n.push(ze(l,"pointerdown",g=>{var m,y;(m=g.target)!=null&&m.hasPointerCapture(g.pointerId)&&((y=g.target)==null||y.releasePointerCapture(g.pointerId))}),ze(l,"pointermove",g=>{var m,y;(y=(m=o.pointer)==null?void 0:m.getPointFromEvent(g))==null||y.onMouseOver(g)})),o.styledMode||Ne(l,{"touch-action":"none"}),l.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!d&&(n.forEach(g=>g()),n.length=0,o.styledMode||Ne(l,{"touch-action":qe((p=o.options.chart.style)==null?void 0:p["touch-action"],"manipulation")}),l.className=l.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(n){var d;let o=this.chart,l=J.charts[qe(at.hoverChartIndex,-1)];if(l&&l!==o){let u={relatedTarget:o.container};n&&!(n!=null&&n.relatedTarget)&&Object.assign({},n,u),(d=l.pointer)==null||d.onContainerMouseLeave(n||u)}l!=null&&l.mouseIsDown||(at.hoverChartIndex=o.index)}touch(n,o){var p;let l,{chart:d,pinchDown:u=[]}=this;this.setHoverChartIndex(),(n=this.normalize(n)).touches.length===1?d.isInsidePlot(n.chartX-d.plotLeft,n.chartY-d.plotTop,{visiblePlotOnly:!0})&&!((p=d.exporting)!=null&&p.openMenu)?(o&&this.runPointActions(n),n.type==="touchmove"&&(this.hasPinchMoved=l=!!u[0]&&Math.pow(u[0].chartX-n.chartX,2)+Math.pow(u[0].chartY-n.chartY,2)>=16),qe(l,!0)&&this.pinch(n)):o&&this.reset():n.touches.length===2&&this.pinch(n)}touchSelect(n){return!!(this.chart.zooming.singleTouch&&n.touches&&n.touches.length===1)}zoomOption(n){let o=this.chart,l=o.inverted,d=o.zooming.type||"",u,p;/touch/.test(n.type)&&(d=qe(o.zooming.pinchType,d)),this.zoomX=u=/x/.test(d),this.zoomY=p=/y/.test(d),this.zoomHor=u&&!l||p&&l,this.zoomVert=p&&!l||u&&l,this.hasZoom=u||p}}at.unbindDocumentMouseUp=[],function(b){b.compose=function(n){zt(we,"Core.Pointer")&&ze(n,"beforeRender",function(){this.pointer=new b(this,this.options)})}}(at||(at={}));let kr=at;(function(b){b.setLength=function(n,o,l){return Array.isArray(n)?(n.length=o,n):n[l?"subarray":"slice"](0,o)},b.splice=function(n,o,l,d,u=[]){if(Array.isArray(n))return Array.isArray(u)||(u=Array.from(u)),{removed:n.splice(o,l,...u),array:n};let p=Object.getPrototypeOf(n).constructor,g=n[d?"subarray":"slice"](o,o+l),m=new p(n.length-l+u.length);return m.set(n.subarray(0,o),0),m.set(u,o),m.set(n.subarray(o+l),o+u.length),{removed:g,array:m}}})(N||(N={}));let{setLength:$t,splice:mt}=N,{fireEvent:xt,objectEach:Lt,uniqueKey:mr}=Ze,Si=class{constructor(b={}){this.autoId=!b.id,this.columns={},this.id=b.id||mr(),this.modified=this,this.rowCount=0,this.versionTag=mr();let n=0;Lt(b.columns||{},(o,l)=>{this.columns[l]=o.slice(),n=Math.max(n,o.length)}),this.applyRowCount(n)}applyRowCount(b){this.rowCount=b,Lt(this.columns,(n,o)=>{n.length!==b&&(this.columns[o]=$t(n,b))})}deleteRows(b,n=1){if(n>0&&b<this.rowCount){let o=0;Lt(this.columns,(l,d)=>{this.columns[d]=mt(l,b,n).array,o=l.length}),this.rowCount=o}xt(this,"afterDeleteRows",{rowIndex:b,rowCount:n}),this.versionTag=mr()}getColumn(b,n){return this.columns[b]}getColumns(b,n){return(b||Object.keys(this.columns)).reduce((o,l)=>(o[l]=this.columns[l],o),{})}getRow(b,n){return(n||Object.keys(this.columns)).map(o=>{var l;return(l=this.columns[o])==null?void 0:l[b]})}setColumn(b,n=[],o=0,l){this.setColumns({[b]:n},o,l)}setColumns(b,n,o){let l=this.rowCount;Lt(b,(d,u)=>{this.columns[u]=d.slice(),l=d.length}),this.applyRowCount(l),o!=null&&o.silent||(xt(this,"afterSetColumns"),this.versionTag=mr())}setRow(b,n=this.rowCount,o,l){let{columns:d}=this,u=o?this.rowCount+1:n+1;Lt(b,(p,g)=>{let m=d[g]||(l==null?void 0:l.addColumns)!==!1&&Array(u);m&&(o?m=mt(m,n,0,!0,[p]).array:m[n]=p,d[g]=m)}),u>this.rowCount&&this.applyRowCount(u),l!=null&&l.silent||(xt(this,"afterSetRows"),this.versionTag=mr())}},{extend:Mr,merge:co,pick:fa}=Ze;(function(b){function n(o,l,d){var ge,de;let u=this.legendItem=this.legendItem||{},{chart:p,options:g}=this,{baseline:m=0,symbolWidth:y,symbolHeight:_}=o,w=this.symbol||"circle",E=_/2,A=p.renderer,L=u.group,F=m-Math.round((((ge=o.fontMetrics)==null?void 0:ge.b)||_)*(d?.4:.3)),z={},$,G=g.marker,X=0;if(p.styledMode||(z["stroke-width"]=Math.min(g.lineWidth||0,24),g.dashStyle?z.dashstyle=g.dashStyle:g.linecap!=="square"&&(z["stroke-linecap"]="round")),u.line=A.path().addClass("highcharts-graph").attr(z).add(L),d&&(u.area=A.path().addClass("highcharts-area").add(L)),z["stroke-linecap"]&&(X=Math.min(u.line.strokeWidth(),y)/2),y){let fe=[["M",X,F],["L",y-X,F]];u.line.attr({d:fe}),(de=u.area)==null||de.attr({d:[...fe,["L",y-X,m],["L",X,m]]})}if(G&&G.enabled!==!1&&y){let fe=Math.min(fa(G.radius,E),E);w.indexOf("url")===0&&(G=co(G,{width:_,height:_}),fe=0),u.symbol=$=A.symbol(w,y/2-fe,F-fe,2*fe,2*fe,Mr({context:"legend"},G)).addClass("highcharts-point").add(L),$.isMarker=!0}}b.areaMarker=function(o,l){n.call(this,o,l,!0)},b.lineMarker=n,b.rectangle=function(o,l){let d=l.legendItem||{},u=o.options,p=o.symbolHeight,g=u.squareSymbol,m=g?p:o.symbolWidth;d.symbol=this.chart.renderer.rect(g?(o.symbolWidth-p)/2:0,o.baseline-p+1,m,p,fa(o.options.symbolRadius,p/2)).addClass("highcharts-point").attr({zIndex:3}).add(d.group)}})(B||(B={}));let Sn=B,{defaultOptions:Ed}=Ri,{extend:gf,extendClass:$M,merge:BM}=Ze;(function(b){function n(o,l){let d=Ed.plotOptions||{},u=l.defaultOptions,p=l.prototype;return p.type=o,p.pointClass||(p.pointClass=Z),!b.seriesTypes[o]&&(u&&(d[o]=u),b.seriesTypes[o]=l,!0)}b.seriesTypes=J.seriesTypes,b.registerSeriesType=n,b.seriesType=function(o,l,d,u,p){let g=Ed.plotOptions||{};if(l=l||"",g[o]=BM(g[l],d),delete b.seriesTypes[o],n(o,$M(b.seriesTypes[l]||_i,u)),b.seriesTypes[o].prototype.type=o,p){class m extends Z{}gf(m.prototype,p),b.seriesTypes[o].prototype.pointClass=m}return b.seriesTypes[o]}})(U||(U={}));let or=U,{animObject:Sw,setAnimation:zM}=Ar,{defaultOptions:mf}=Ri,{registerEventOptions:FM}=bl,{svg:WM,win:UM}=J,{seriesTypes:Nl}=or,{format:HM}=sr,{arrayMax:Tv,arrayMin:_w,clamp:Cw,correctFloat:Ew,crisp:GM,defined:Sr,destroyObjectProperties:VM,diffObjects:XM,erase:Tw,error:vf,extend:Pl,find:YM,fireEvent:er,getClosestDistance:qM,getNestedProperty:Aw,insertItem:Mw,isArray:jw,isNumber:jr,isString:KM,merge:Td,objectEach:Av,pick:tr,removeEvent:ZM,syncTimeout:Nw}=Ze;class _n{constructor(){this.zoneAxis="y"}init(n,o){var m,y,_;let l;er(this,"init",{options:o}),this.dataTable??(this.dataTable=new Si);let d=n.series;this.eventsToUnbind=[],this.chart=n,this.options=this.setOptions(o);let u=this.options,p=u.visible!==!1;this.linkedSeries=[],this.bindAxes(),Pl(this,{name:u.name,state:"",visible:p,selected:u.selected===!0}),FM(this,u);let g=u.events;(g!=null&&g.click||(y=(m=u.point)==null?void 0:m.events)!=null&&y.click||u.allowPointSelect)&&(n.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(n.hasCartesianSeries=!0),d.length&&(l=d[d.length-1]),this._i=tr(l==null?void 0:l._i,-1)+1,this.opacity=this.options.opacity,n.orderItems("series",Mw(this,d)),(_=u.dataSorting)!=null&&_.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(u.data,!1),er(this,"afterInit")}is(n){return Nl[n]&&this instanceof Nl[n]}bindAxes(){let n,o=this,l=o.options,d=o.chart;er(this,"bindAxes",null,function(){(o.axisTypes||[]).forEach(function(u){(d[u]||[]).forEach(function(p){n=p.options,(tr(l[u],0)===p.index||l[u]!==void 0&&l[u]===n.id)&&(Mw(o,p.series),o[u]=p,p.isDirty=!0)}),o[u]||o.optionalAxis===u||vf(18,!0,d)})}),er(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(n,o){let l=n.marker,d=o.marker||{};return l&&(d.enabled&&!l.enabled||d.symbol!==l.symbol||d.height!==l.height||d.width!==l.width)}autoIncrement(n){let o,l=this.options,{pointIntervalUnit:d,relativeXValue:u}=this.options,p=this.chart.time,g=this.xIncrement??p.parse(l.pointStart)??0;if(this.pointInterval=o=tr(this.pointInterval,l.pointInterval,1),u&&jr(n)&&(o*=n),d){let m=p.toParts(g);d==="day"?m[2]+=o:d==="month"?m[1]+=o:d==="year"&&(m[0]+=o),o=p.makeTime.apply(p,m)-g}return u&&jr(n)?g+o:(this.xIncrement=g+o,g)}setDataSortingOptions(){let n=this.options;Pl(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Sr(n.pointRange)||(n.pointRange=1)}setOptions(n){var z,$;let o,l=this.chart,d=l.options.plotOptions,u=l.userOptions||{},p=Td(n),g=l.styledMode,m={plotOptions:d,userOptions:p};er(this,"setOptions",m);let y=m.plotOptions[this.type],_=u.plotOptions||{},w=_.series||{},E=mf.plotOptions[this.type]||{},A=_[this.type]||{};y.dataLabels=this.mergeArrays(E.dataLabels,y.dataLabels),this.userOptions=m.userOptions;let L=Td(y,d.series,A,p);this.tooltipOptions=Td(mf.tooltip,(z=mf.plotOptions.series)==null?void 0:z.tooltip,E==null?void 0:E.tooltip,l.userOptions.tooltip,($=_.series)==null?void 0:$.tooltip,A.tooltip,p.tooltip),this.stickyTracking=tr(p.stickyTracking,A.stickyTracking,w.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||L.stickyTracking),y.marker===null&&delete L.marker,this.zoneAxis=L.zoneAxis||"y";let F=this.zones=(L.zones||[]).map(G=>({...G}));return(L.negativeColor||L.negativeFillColor)&&!L.zones&&(o={value:L[this.zoneAxis+"Threshold"]||L.threshold||0,className:"highcharts-negative"},g||(o.color=L.negativeColor,o.fillColor=L.negativeFillColor),F.push(o)),F.length&&Sr(F[F.length-1].value)&&F.push(g?{}:{color:this.color,fillColor:this.fillColor}),er(this,"afterSetOptions",{options:L}),L}getName(){return this.options.name??HM(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(n,o,l){let d,u,p=this.chart,g=`${n}Index`,m=`${n}Counter`,y=(l==null?void 0:l.length)||p.options.chart.colorCount;!o&&(Sr(u=tr(n==="color"?this.options.colorIndex:void 0,this[g]))?d=u:(p.series.length||(p[m]=0),d=p[m]%y,p[m]+=1),l&&(o=l[d])),d!==void 0&&(this[g]=d),this[n]=o}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||mf.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let n=this.options.marker;this.getCyclic("symbol",n.symbol,this.chart.options.symbols)}getColumn(n,o){return(o?this.dataTable.modified:this.dataTable).getColumn(n,!0)||[]}findPointIndex(n,o){var w;let l,d,u,{id:p,x:g}=n,m=this.points,y=this.options.dataSorting,_=this.cropStart||0;if(p){let E=this.chart.get(p);E instanceof Z&&(l=E)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let E=A=>!A.touched&&A.index===n.index;if(y!=null&&y.matchByName?E=A=>!A.touched&&A.name===n.name:this.options.relativeXValue&&(E=A=>!A.touched&&A.options.x===n.x),!(l=YM(m,E)))return}return l&&(u=l==null?void 0:l.index)!==void 0&&(d=!0),u===void 0&&jr(g)&&(u=this.getColumn("x").indexOf(g,o)),u!==-1&&u!==void 0&&this.cropped&&(u=u>=_?u-_:u),!d&&jr(u)&&((w=m[u])!=null&&w.touched)&&(u=void 0),u}updateData(n,o){var F;let{options:l,requireSorting:d}=this,u=l.dataSorting,p=this.points,g=[],m=n.length===p.length,y,_,w,E,A=!0;if(this.xIncrement=null,n.forEach((z,$)=>{var fe;let G,X=Sr(z)&&this.pointClass.prototype.optionsToObject.call({series:this},z)||{},{id:ge,x:de}=X;ge||jr(de)?((G=this.findPointIndex(X,E))===-1||G===void 0?g.push(z):p[G]&&z!==((fe=l.data)==null?void 0:fe[G])?(p[G].update(z,!1,void 0,!1),p[G].touched=!0,d&&(E=G+1)):p[G]&&(p[G].touched=!0),(!m||$!==G||u!=null&&u.enabled||this.hasDerivedData)&&(y=!0)):g.push(z)},this),y)for(_=p.length;_--;)(w=p[_])&&!w.touched&&((F=w.remove)==null||F.call(w,!1,o));else m&&!(u!=null&&u.enabled)?(n.forEach((z,$)=>{z===p[$].y||p[$].destroyed||p[$].update(z,!1,void 0,!1)}),g.length=0):A=!1;if(p.forEach(z=>{z&&(z.touched=!1)}),!A)return!1;g.forEach(z=>{this.addPoint(z,!1,void 0,void 0,!1)},this);let L=this.getColumn("x");return this.xIncrement===null&&L.length&&(this.xIncrement=Tv(L),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(n,o=!0,l,d){var ye,ve;let u=this.points,p=(u==null?void 0:u.length)||0,g=this.options,m=this.chart,y=g.dataSorting,_=this.xAxis,w=g.turboThreshold,E=this.dataTable,A=this.dataColumnKeys(),L=this.pointValKey||"y",F=(this.pointArrayMap||[]).length,z=g.keys,$,G,X=0,ge=1,de;m.options.chart.allowMutatingData||(g.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,de=Td(!0,n));let fe=(n=de||n||[]).length;if(y!=null&&y.enabled&&(n=this.sortData(n)),m.options.chart.allowMutatingData&&d!==!1&&fe&&p&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(G=this.updateData(n,l)),!G){this.xIncrement=null,this.colorCounter=0;let xe=w&&!g.relativeXValue&&fe>w;if(xe){let Ae=this.getFirstValidPoint(n),je=this.getFirstValidPoint(n,fe-1,-1),Fe=He=>!!(jw(He)&&(z||jr(He[0])));if(jr(Ae)&&jr(je)){let He=[],it=[];for(let Qe of n)He.push(this.autoIncrement()),it.push(Qe);E.setColumns({x:He,[L]:it})}else if(Fe(Ae)&&Fe(je))if(F){let He=+(Ae.length===F),it=Array(A.length).fill(0).map(()=>[]);for(let Qe of n){He&&it[0].push(this.autoIncrement());for(let lt=He;lt<=F;lt++)(ye=it[lt])==null||ye.push(Qe[lt-He])}E.setColumns(A.reduce((Qe,lt,Ke)=>(Qe[lt]=it[Ke],Qe),{}))}else{z&&(X=z.indexOf("x"),ge=z.indexOf("y"),X=X>=0?X:0,ge=ge>=0?ge:1),Ae.length===1&&(ge=0);let He=[],it=[];if(X===ge)for(let Qe of n)He.push(this.autoIncrement()),it.push(Qe[ge]);else for(let Qe of n)He.push(Qe[X]),it.push(Qe[ge]);E.setColumns({x:He,[L]:it})}else xe=!1}if(!xe){let Ae=A.reduce((je,Fe)=>(je[Fe]=[],je),{});for($=0;$<fe;$++){let je=this.pointClass.prototype.applyOptions.apply({series:this},[n[$]]);for(let Fe of A)Ae[Fe][$]=je[Fe]}E.setColumns(Ae)}for(KM(this.getColumn("y")[0])&&vf(14,!0,m),this.data=[],this.options.data=this.userOptions.data=n,$=p;$--;)(ve=u[$])==null||ve.destroy();_&&(_.minRange=_.userMinRange),this.isDirty=m.isDirtyBox=!0,this.isDirtyData=!!u,l=!1}g.legendType==="point"&&(this.processData(),this.generatePoints()),o&&m.redraw(l)}sortData(n){let o=this,l=o.options.dataSorting.sortKey||"y",d=function(u,p){return Sr(p)&&u.pointClass.prototype.optionsToObject.call({series:u},p)||{}};return n.forEach(function(u,p){n[p]=d(o,u),n[p].index=p},this),n.concat().sort((u,p)=>{let g=Aw(l,u),m=Aw(l,p);return m<g?-1:+(m>g)}).forEach(function(u,p){u.x=p},this),o.linkedSeries&&o.linkedSeries.forEach(function(u){var m;let p=u.options,g=p.data;!((m=p.dataSorting)!=null&&m.enabled)&&g&&(g.forEach(function(y,_){g[_]=d(u,y),n[_]&&(g[_].x=n[_].x,g[_].index=_)}),u.setData(g,!1))}),n}getProcessedData(n){let o=this,{dataTable:l,isCartesian:d,options:u,xAxis:p}=o,g=u.cropThreshold,m=n||o.getExtremesFromAll,y=p==null?void 0:p.logarithmic,_=l.rowCount,w,E,A=0,L,F,z,$=o.getColumn("x"),G=l,X=!1;return p&&(F=(L=p.getExtremes()).min,z=L.max,X=!!(p.categories&&!p.names.length),d&&o.sorted&&!m&&(!g||_>g||o.forceCrop)&&($[_-1]<F||$[0]>z?G=new Si:o.getColumn(o.pointValKey||"y").length&&($[0]<F||$[_-1]>z)&&(G=(w=this.cropData(l,F,z)).modified,A=w.start,E=!0))),$=G.getColumn("x")||[],{modified:G,cropped:E,cropStart:A,closestPointRange:qM([y?$.map(y.log2lin):$],()=>o.requireSorting&&!X&&vf(15,!1,o.chart))}}processData(n){let o=this.xAxis,l=this.dataTable;if(this.isCartesian&&!this.isDirty&&!o.isDirty&&!this.yAxis.isDirty&&!n)return!1;let d=this.getProcessedData();l.modified=d.modified,this.cropped=d.cropped,this.cropStart=d.cropStart,this.closestPointRange=this.basePointRange=d.closestPointRange,er(this,"afterProcessData")}cropData(n,o,l){let d=n.getColumn("x",!0)||[],u=d.length,p={},g,m,y=0,_=u;for(g=0;g<u;g++)if(d[g]>=o){y=Math.max(0,g-1);break}for(m=g;m<u;m++)if(d[m]>l){_=m+1;break}for(let w of this.dataColumnKeys()){let E=n.getColumn(w,!0);E&&(p[w]=E.slice(y,_))}return{modified:new Si({columns:p}),start:y,end:_}}generatePoints(){var de,fe,ye;let n=this.options,o=this.processedData||n.data,l=this.dataTable.modified,d=this.getColumn("x",!0),u=this.pointClass,p=l.rowCount,g=this.cropStart||0,m=this.hasGroupedData,y=n.keys,_=[],w=(de=n.dataGrouping)!=null&&de.groupAll?g:0,E=(fe=this.xAxis)==null?void 0:fe.categories,A=this.pointArrayMap||["y"],L=this.dataColumnKeys(),F,z,$,G,X=this.data,ge;if(!X&&!m){let ve=[];ve.length=(o==null?void 0:o.length)||0,X=this.data=ve}for(y&&m&&(this.options.keys=!1),G=0;G<p;G++)z=g+G,m?(($=new u(this,l.getRow(G,L)||[])).dataGroup=this.groupMap[w+G],(ye=$.dataGroup)!=null&&ye.options&&($.options=$.dataGroup.options,Pl($,$.dataGroup.options),delete $.dataLabels)):($=X[z],ge=o?o[z]:l.getRow(G,A),$||ge===void 0||(X[z]=$=new u(this,ge,d[G]))),$&&($.index=m?w+G:z,_[G]=$,$.category=(E==null?void 0:E[$.x])??$.x,$.key=$.name??$.category);if(this.options.keys=y,X&&(p!==(F=X.length)||m))for(G=0;G<F;G++)G!==g||m||(G+=p),X[G]&&(X[G].destroyElements(),X[G].plotX=void 0);this.data=X,this.points=_,er(this,"afterGeneratePoints")}getXExtremes(n){return{min:_w(n),max:Tv(n)}}getExtremes(n,o){var de;let{xAxis:l,yAxis:d}=this,u=o||this.getExtremesFromAll||this.options.getExtremesFromAll,p=u&&this.cropped?this.dataTable:this.dataTable.modified,g=p.rowCount,m=n||this.stackedYData,y=m?[m]:((de=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:de.map(fe=>p.getColumn(fe,!0)||[]))||[],_=this.getColumn("x",!0),w=[],E=this.requireSorting&&!this.is("column")?1:0,A=!!d&&d.positiveValuesOnly,L=u||this.cropped||!l,F,z,$,G=0,X=0;for(l&&(G=(F=l.getExtremes()).min,X=F.max),$=0;$<g;$++)if(z=_[$],L||(_[$+E]||z)>=G&&(_[$-E]||z)<=X)for(let fe of y){let ye=fe[$];jr(ye)&&(ye>0||!A)&&w.push(ye)}let ge={activeYData:w,dataMin:_w(w),dataMax:Tv(w)};return er(this,"afterGetExtremes",{dataExtremes:ge}),ge}applyExtremes(){let n=this.getExtremes();return this.dataMin=n.dataMin,this.dataMax=n.dataMax,n}getFirstValidPoint(n,o=0,l=1){let d=n.length,u=o;for(;u>=0&&u<d;){if(Sr(n[u]))return n[u];u+=l}}translate(){var X;this.generatePoints();let n=this.options,o=n.stacking,l=this.xAxis,d=this.enabledDataSorting,u=this.yAxis,p=this.points,g=p.length,m=this.pointPlacementToXValue(),y=!!m,_=n.threshold,w=n.startFromThreshold?_:0,E=(n==null?void 0:n.nullInteraction)&&u.len,A,L,F,z,$=Number.MAX_VALUE;function G(ge){return Cw(ge,-1e9,1e9)}for(A=0;A<g;A++){let ge,de=p[A],fe=de.x,ye,ve,xe=de.y,Ae=de.low,je=o&&((X=u.stacking)==null?void 0:X.stacks[(this.negStacks&&xe<(w?0:_)?"-":"")+this.stackKey]);de.plotX=jr(L=l.translate(fe,!1,!1,!1,!0,m))?Ew(G(L)):void 0,o&&this.visible&&je&&je[fe]&&(z=this.getStackIndicator(z,fe,this.index),!de.isNull&&z.key&&(ve=(ye=je[fe]).points[z.key]),ye&&jw(ve)&&(Ae=ve[0],xe=ve[1],Ae===w&&z.key===je[fe].base&&(Ae=tr(jr(_)?_:u.min)),u.positiveValuesOnly&&Sr(Ae)&&Ae<=0&&(Ae=void 0),de.total=de.stackTotal=tr(ye.total),de.percentage=Sr(de.y)&&ye.total?de.y/ye.total*100:void 0,de.stackY=xe,this.irregularWidths||ye.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),de.yBottom=Sr(Ae)?G(u.translate(Ae,!1,!0,!1,!0)):void 0,this.dataModify&&(xe=this.dataModify.modifyValue(xe,A)),jr(xe)&&de.plotX!==void 0?ge=jr(ge=u.translate(xe,!1,!0,!1,!0))?G(ge):void 0:!jr(xe)&&E&&(ge=E),de.plotY=ge,de.isInside=this.isPointInside(de),de.clientX=y?Ew(l.translate(fe,!1,!1,!1,!0,m)):L,de.negative=(de.y||0)<(_||0),de.isNull||de.visible===!1||(F!==void 0&&($=Math.min($,Math.abs(L-F))),F=L),de.zone=this.zones.length?de.getZone():void 0,!de.graphic&&this.group&&d&&(de.isNew=!0)}this.closestPointRangePx=$,er(this,"afterTranslate")}getValidPoints(n,o,l){let d=this.chart;return(n||this.points||[]).filter(function(u){let{plotX:p,plotY:g}=u;return(!!l||!u.isNull&&!!jr(g))&&(!o||!!d.isInsidePlot(p,g,{inverted:d.inverted}))&&u.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:n,group:o,markerGroup:l}=this,d=n.sharedClips,u=n.renderer,p=n.getClipBox(this),g=this.getSharedClipKey(),m=d[g];m?m.animate(p):d[g]=m=u.clipRect(p),o&&o.clip(this.options.clip===!1?void 0:m),l&&l.clip()}animate(n){let{chart:o,group:l,markerGroup:d}=this,u=o.inverted,p=Sw(this.options.animation),g=[this.getSharedClipKey(),p.duration,p.easing,p.defer].join(","),m=o.sharedClips[g],y=o.sharedClips[g+"m"];if(n&&l){let _=o.getClipBox(this);if(m)m.attr("height",_.height);else{_.width=0,u&&(_.x=o.plotHeight),m=o.renderer.clipRect(_),o.sharedClips[g]=m;let w={x:-99,y:-99,width:u?o.plotWidth+199:99,height:u?99:o.plotHeight+199};y=o.renderer.clipRect(w),o.sharedClips[g+"m"]=y}l.clip(m),d==null||d.clip(y)}else if(m&&!m.hasClass("highcharts-animating")){let _=o.getClipBox(this),w=p.step;(d!=null&&d.element.childNodes.length||o.series.length>1)&&(p.step=function(E,A){w&&w.apply(A,arguments),A.prop==="width"&&(y!=null&&y.element)&&y.attr(u?"height":"width",E+99)}),m.addClass("highcharts-animating").animate(_,p)}}afterAnimate(){this.setClip(),Av(this.chart.sharedClips,(n,o,l)=>{n&&!this.chart.container.querySelector(`[clip-path="url(#${n.id})"]`)&&(n.destroy(),delete l[o])}),this.finishedAnimating=!0,er(this,"afterAnimate")}drawPoints(n=this.points){let o,l,d,u,p,g,m,y=this.chart,_=y.styledMode,{colorAxis:w,options:E}=this,A=E.marker,L=E.nullInteraction,F=this[this.specialGroup||"markerGroup"],z=this.xAxis,$=tr(A.enabled,!z||!!z.isRadial||null,this.closestPointRangePx>=A.enabledThreshold*A.radius);if(A.enabled!==!1||this._hasPointMarkers)for(o=0;o<n.length;o++){u=(d=(l=n[o]).graphic)?"animate":"attr",p=l.marker||{},g=!!l.marker;let G=l.isNull;if(($&&!Sr(p.enabled)||p.enabled)&&(!G||L)&&l.visible!==!1){let X=tr(p.symbol,this.symbol,"rect");m=this.markerAttribs(l,l.selected&&"select"),this.enabledDataSorting&&(l.startXPos=z.reversed?-(m.width||0):z.width);let ge=l.isInside!==!1;if(!d&&ge&&((m.width||0)>0||l.hasImage)&&(l.graphic=d=y.renderer.symbol(X,m.x,m.y,m.width,m.height,g?p:A).add(F),this.enabledDataSorting&&y.hasRendered&&(d.attr({x:l.startXPos}),u="animate")),d&&u==="animate"&&d[ge?"show":"hide"](ge).animate(m),d){let de=this.pointAttribs(l,_||!l.selected?void 0:"select");_?w&&d.css({fill:de.fill}):d[u](de)}d&&d.addClass(l.getClassName(),!0)}else d&&(l.graphic=d.destroy())}}markerAttribs(n,o){let l=this.options,d=l.marker,u=n.marker||{},p=u.symbol||d.symbol,g={},m,y,_=tr(u.radius,d==null?void 0:d.radius);o&&(m=d.states[o],y=u.states&&u.states[o],_=tr(y==null?void 0:y.radius,m==null?void 0:m.radius,_&&_+((m==null?void 0:m.radiusPlus)||0))),n.hasImage=p&&p.indexOf("url")===0,n.hasImage&&(_=0);let w=n.pos();return jr(_)&&w&&(l.crisp&&(w[0]=GM(w[0],n.hasImage?0:p==="rect"?(d==null?void 0:d.lineWidth)||0:1)),g.x=w[0]-_,g.y=w[1]-_),_&&(g.width=g.height=2*_),g}pointAttribs(n,o){var $;let l=this.options,d=l.marker,u=n==null?void 0:n.options,p=(u==null?void 0:u.marker)||{},g=u==null?void 0:u.color,m=n==null?void 0:n.color,y=($=n==null?void 0:n.zone)==null?void 0:$.color,_,w,E=this.color,A,L,F=tr(p.lineWidth,d.lineWidth),z=n!=null&&n.isNull&&l.nullInteraction?0:1;return E=g||y||m||E,A=p.fillColor||d.fillColor||E,L=p.lineColor||d.lineColor||E,o=o||"normal",_=d.states[o]||{},F=tr((w=p.states&&p.states[o]||{}).lineWidth,_.lineWidth,F+tr(w.lineWidthPlus,_.lineWidthPlus,0)),A=w.fillColor||_.fillColor||A,L=w.lineColor||_.lineColor||L,{stroke:L,"stroke-width":F,fill:A,opacity:z=tr(w.opacity,_.opacity,z)}}destroy(n){var m,y;let o,l,d=this,u=d.chart,p=/AppleWebKit\/533/.test(UM.navigator.userAgent),g=d.data||[];for(er(d,"destroy",{keepEventsForUpdate:n}),this.removeEvents(n),(d.axisTypes||[]).forEach(function(_){l=d[_],l!=null&&l.series&&(Tw(l.series,d),l.isDirty=l.forceRedraw=!0)}),d.legendItem&&d.chart.legend.destroyItem(d),o=g.length;o--;)(y=(m=g[o])==null?void 0:m.destroy)==null||y.call(m);for(let _ of d.zones)VM(_,void 0,!0);Ze.clearTimeout(d.animationTimeout),Av(d,function(_,w){_ instanceof tn&&!_.survive&&_[p&&w==="group"?"hide":"destroy"]()}),u.hoverSeries===d&&(u.hoverSeries=void 0),Tw(u.series,d),u.orderItems("series"),Av(d,function(_,w){n&&w==="hcEvents"||delete d[w]})}applyZones(){let{area:n,chart:o,graph:l,zones:d,points:u,xAxis:p,yAxis:g,zoneAxis:m}=this,{inverted:y,renderer:_}=o,w=this[`${m}Axis`],{isXAxis:E,len:A=0,minPointOffset:L=0}=w||{},F=((l==null?void 0:l.strokeWidth())||0)/2+1,z=($,G=0,X=0)=>{y&&(X=A-X);let{translated:ge=0,lineClip:de}=$,fe=X-ge;de==null||de.push(["L",G,Math.abs(fe)<F?X-F*(fe<=0?-1:1):ge])};if(d.length&&(l||n)&&w&&jr(w.min)){let $=w.getExtremes().max+L,G=de=>{de.forEach((fe,ye)=>{(fe[0]==="M"||fe[0]==="L")&&(de[ye]=[fe[0],E?A-fe[1]:fe[1],E?fe[2]:A-fe[2]])})};if(d.forEach(de=>{de.lineClip=[],de.translated=Cw(w.toPixels(tr(de.value,$),!0)||0,0,A)}),l&&!this.showLine&&l.hide(),n&&n.hide(),m==="y"&&u.length<p.len)for(let de of u){let{plotX:fe,plotY:ye,zone:ve}=de,xe=ve&&d[d.indexOf(ve)-1];ve&&z(ve,fe,ye),xe&&z(xe,fe,ye)}let X=[],ge=w.toPixels(w.getExtremes().min-L,!0);d.forEach(de=>{var lt,Ke;let fe=de.lineClip||[],ye=Math.round(de.translated||0);p.reversed&&fe.reverse();let{clip:ve,simpleClip:xe}=de,Ae=0,je=0,Fe=p.len,He=g.len;E?(Ae=ye,Fe=ge):(je=ye,He=ge);let it=[["M",Ae,je],["L",Fe,je],["L",Fe,He],["L",Ae,He],["Z"]],Qe=[it[0],...fe,it[1],it[2],...X,it[3],it[4]];X=fe.reverse(),ge=ye,y&&(G(Qe),n&&G(it)),ve?(ve.animate({d:Qe}),xe==null||xe.animate({d:it})):(ve=de.clip=_.path(Qe),n&&(xe=de.simpleClip=_.path(it))),l&&((lt=de.graph)==null||lt.clip(ve)),n&&((Ke=de.area)==null||Ke.clip(xe))})}else this.visible&&(l&&l.show(),n&&n.show())}plotGroup(n,o,l,d,u){let p=this[n],g=!p,m={visibility:l,zIndex:d||.1};return Sr(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(m.opacity=this.opacity),p||(this[n]=p=this.chart.renderer.g().add(u)),p.addClass("highcharts-"+o+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Sr(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(p.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),p.attr(m)[g?"attr":"animate"](this.getPlotBox(o)),p}getPlotBox(n){let o=this.xAxis,l=this.yAxis,d=this.chart,u=d.inverted&&!d.polar&&o&&this.invertible&&n==="series";d.inverted&&(o=l,l=this.xAxis);let p={scale:1,translateX:o?o.left:d.plotLeft,translateY:l?l.top:d.plotTop,name:n};er(this,"getPlotBox",p);let{scale:g,translateX:m,translateY:y}=p;return{translateX:m,translateY:y,rotation:90*!!u,rotationOriginX:u?g*(o.len-l.len)/2:0,rotationOriginY:u?g*(o.len+l.len)/2:0,scaleX:u?-g:g,scaleY:g}}removeEvents(n){let{eventsToUnbind:o}=this;n||ZM(this),o.length&&(o.forEach(l=>{l()}),o.length=0)}render(){var _,w,E,A,L;let n=this,{chart:o,options:l,hasRendered:d}=n,u=Sw(l.animation),p=n.visible?"inherit":"hidden",g=l.zIndex,m=o.seriesGroup,y=n.finishedAnimating?0:u.duration;er(this,"render"),n.plotGroup("group","series",p,g,m),n.markerGroup=n.plotGroup("markerGroup","markers",p,g,m),l.clip!==!1&&n.setClip(),y&&((_=n.animate)==null||_.call(n,!0)),n.drawGraph&&(n.drawGraph(),n.applyZones()),n.visible&&n.drawPoints(),(w=n.drawDataLabels)==null||w.call(n),(E=n.redrawPoints)==null||E.call(n),l.enableMouseTracking&&((A=n.drawTracker)==null||A.call(n)),y&&((L=n.animate)==null||L.call(n)),d||(y&&u.defer&&(y+=u.defer),n.animationTimeout=Nw(()=>{n.afterAnimate()},y||0)),n.isDirty=!1,n.hasRendered=!0,er(n,"afterRender")}redraw(){let n=this.isDirty||this.isDirtyData;this.translate(),this.render(),n&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(n,o){let{xAxis:l,yAxis:d}=this,u=this.chart.inverted;return this.searchKDTree({clientX:u?l.len-n.chartY+l.pos:n.chartX-l.pos,plotY:u?d.len-n.chartX+d.pos:n.chartY-d.pos},o,n)}buildKDTree(n){this.buildingKdTree=!0;let o=this,l=o.options,d=l.findNearestPointBy.indexOf("y")>-1?2:1;delete o.kdTree,Nw(function(){o.kdTree=function u(p,g,m){let y,_,w=p==null?void 0:p.length;if(w)return y=o.kdAxisArray[g%m],p.sort((E,A)=>(E[y]||0)-(A[y]||0)),{point:p[_=Math.floor(w/2)],left:u(p.slice(0,_),g+1,m),right:u(p.slice(_+1),g+1,m)}}(o.getValidPoints(void 0,!o.directTouch,l==null?void 0:l.nullInteraction),d,d),o.buildingKdTree=!1},l.kdNow||(n==null?void 0:n.type)==="touchstart"?0:1)}searchKDTree(n,o,l,d,u){let p=this,[g,m]=this.kdAxisArray,y=o?"distX":"dist",_=(p.options.findNearestPointBy||"").indexOf("y")>-1?2:1,w=!!p.isBubble,E=d||((L,F,z)=>{let $=L[z]||0,G=F[z]||0;return[$===G&&L.index>F.index||$<G?L:F,!1]}),A=u||((L,F)=>L<F);if(this.kdTree||this.buildingKdTree||this.buildKDTree(l),this.kdTree)return function L(F,z,$,G){var Ae;let X=z.point,ge=p.kdAxisArray[$%G],de=X,fe=!1;(function(je,Fe){var At;let He=je[g],it=Fe[g],Qe=Sr(He)&&Sr(it)?He-it:null,lt=je[m],Ke=Fe[m],ct=Sr(lt)&&Sr(Ke)?lt-Ke:0,wt=w&&((At=Fe.marker)==null?void 0:At.radius)||0;Fe.dist=Math.sqrt((Qe&&Qe*Qe||0)+ct*ct)-wt,Fe.distX=Sr(Qe)?Math.abs(Qe)-wt:Number.MAX_VALUE})(F,X);let ye=(F[ge]||0)-(X[ge]||0)+(w&&((Ae=X.marker)==null?void 0:Ae.radius)||0),ve=ye<0?"left":"right",xe=ye<0?"right":"left";return z[ve]&&([de,fe]=E(X,L(F,z[ve],$+1,G),y)),z[xe]&&A(Math.sqrt(ye*ye),de[y],fe)&&(de=E(de,L(F,z[xe],$+1,G),y)[0]),de}(n,this.kdTree,_,_)}pointPlacementToXValue(){let{options:n,xAxis:o}=this,l=n.pointPlacement;return l==="between"&&(l=o.reversed?-.5:.5),jr(l)?l*(n.pointRange||o.pointRange):0}isPointInside(n){let{chart:o,xAxis:l,yAxis:d}=this,{plotX:u=-1,plotY:p=-1}=n;return p>=0&&p<=(d?d.len:o.plotHeight)&&u>=0&&u<=(l?l.len:o.plotWidth)}drawTracker(){var E;let n=this,o=n.options,l=o.trackByArea,d=[].concat((l?n.areaPath:n.graphPath)||[]),u=n.chart,p=u.pointer,g=u.renderer,m=((E=u.options.tooltip)==null?void 0:E.snap)||0,y=()=>{o.enableMouseTracking&&u.hoverSeries!==n&&n.onMouseOver()},_="rgba(192,192,192,"+(WM?1e-4:.002)+")",w=n.tracker;w?w.attr({d}):n.graph&&(n.tracker=w=g.path(d).attr({visibility:n.visible?"inherit":"hidden",zIndex:2}).addClass(l?"highcharts-tracker-area":"highcharts-tracker-line").add(n.group),u.styledMode||w.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:_,fill:l?_:"none","stroke-width":n.graph.strokeWidth()+(l?0:2*m)}),[n.tracker,n.markerGroup,n.dataLabelsGroup].forEach(A=>{A&&(A.addClass("highcharts-tracker").on("mouseover",y).on("mouseout",L=>{p==null||p.onTrackerMouseOut(L)}),o.cursor&&!u.styledMode&&A.css({cursor:o.cursor}),A.on("touchstart",y))})),er(this,"afterDrawTracker")}addPoint(n,o,l,d,u){let p,g,m=this.options,{chart:y,data:_,dataTable:w,xAxis:E}=this,A=(E==null?void 0:E.hasNames)&&E.names,L=m.data,F=this.getColumn("x");o=tr(o,!0);let z={series:this};this.pointClass.prototype.applyOptions.apply(z,[n]);let $=z.x;if(g=F.length,this.requireSorting&&$<F[g-1])for(p=!0;g&&F[g-1]>$;)g--;w.setRow(z,g,!0,{addColumns:!1}),A&&z.name&&(A[$]=z.name),L==null||L.splice(g,0,n),(p||this.processedData)&&(this.data.splice(g,0,null),this.processData()),m.legendType==="point"&&this.generatePoints(),l&&(_[0]&&_[0].remove?_[0].remove(!1):([_,L].filter(Sr).forEach(G=>{G.shift()}),w.deleteRows(0))),u!==!1&&er(this,"addPoint",{point:z}),this.isDirty=!0,this.isDirtyData=!0,o&&y.redraw(d)}removePoint(n,o,l){let d=this,{chart:u,data:p,points:g,dataTable:m}=d,y=p[n],_=function(){[(g==null?void 0:g.length)===p.length?g:void 0,p,d.options.data].filter(Sr).forEach(w=>{w.splice(n,1)}),m.deleteRows(n),y==null||y.destroy(),d.isDirty=!0,d.isDirtyData=!0,o&&u.redraw()};zM(l,u),o=tr(o,!0),y?y.firePointEvent("remove",null,_):_()}remove(n,o,l,d){let u=this,p=u.chart;function g(){u.destroy(d),p.isDirtyLegend=p.isDirtyBox=!0,p.linkSeries(d),tr(n,!0)&&p.redraw(o)}l!==!1?er(u,"remove",null,g):g()}update(n,o){var $,G;er(this,"update",{options:n=XM(n,this.userOptions)});let l=this,d=l.chart,u=l.userOptions,p=l.initialType||l.type,g=d.options.plotOptions,m=Nl[p].prototype,y=l.finishedAnimating&&{animation:!1},_={},w,E,A=_n.keepProps.slice(),L=n.type||u.type||d.options.chart.type,F=!(this.hasDerivedData||L&&L!==this.type||n.keys!==void 0||n.pointStart!==void 0||n.pointInterval!==void 0||n.relativeXValue!==void 0||n.joinBy||n.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(X=>l.hasOptionChanged(X)));L=L||p,F?(A.push.apply(A,_n.keepPropsForPoints),n.visible!==!1&&A.push("area","graph"),l.parallelArrays.forEach(function(X){A.push(X+"Data")}),n.data&&(n.dataSorting&&Pl(l.options.dataSorting,n.dataSorting),this.setData(n.data,!1))):this.dataTable.modified=this.dataTable,n=Td(u,{index:u.index===void 0?l.index:u.index,pointStart:(($=g==null?void 0:g.series)==null?void 0:$.pointStart)??u.pointStart??l.getColumn("x")[0]},!F&&{data:l.options.data},n,y),F&&n.data&&(n.data=l.options.data),(A=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(A)).forEach(function(X){A[X]=l[X],delete l[X]});let z=!1;if(Nl[L]){if(z=L!==l.type,l.remove(!1,!1,!1,!0),z)if(d.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(l,Nl[L].prototype);else{let X=Object.hasOwnProperty.call(l,"hcEvents")&&l.hcEvents;for(E in m)l[E]=void 0;Pl(l,Nl[L].prototype),X?l.hcEvents=X:delete l.hcEvents}}else vf(17,!0,d,{missingModuleFor:L});if(A.forEach(function(X){l[X]=A[X]}),l.init(d,n),F&&this.points)for(let X of((w=l.options).visible===!1?(_.graphic=1,_.dataLabel=1):(this.hasMarkerChanged(w,u)&&(_.graphic=1),(G=l.hasDataLabels)!=null&&G.call(l)||(_.dataLabel=1)),this.points))X!=null&&X.series&&(X.resolveColor(),Object.keys(_).length&&X.destroyElements(_),w.showInLegend===!1&&X.legendItem&&d.legend.destroyItem(X));l.initialType=p,d.linkSeries(),d.setSortedData(),z&&l.linkedSeries.length&&(l.isDirtyData=!0),er(this,"afterUpdate"),tr(o,!0)&&d.redraw(!!F&&void 0)}setName(n){this.name=this.options.name=this.userOptions.name=n,this.chart.isDirtyLegend=!0}hasOptionChanged(n){var g,m;let o=this.chart,l=this.options[n],d=o.options.plotOptions,u=this.userOptions[n],p=tr((g=d==null?void 0:d[this.type])==null?void 0:g[n],(m=d==null?void 0:d.series)==null?void 0:m[n]);return u&&!Sr(p)?l!==u:l!==tr(p,l)}onMouseOver(){let n=this.chart,o=n.hoverSeries,l=n.pointer;l==null||l.setHoverChartIndex(),o&&o!==this&&o.onMouseOut(),this.options.events.mouseOver&&er(this,"mouseOver"),this.setState("hover"),n.hoverSeries=this}onMouseOut(){let n=this.options,o=this.chart,l=o.tooltip,d=o.hoverPoint;o.hoverSeries=null,d&&d.onMouseOut(),this&&n.events.mouseOut&&er(this,"mouseOut"),l&&!this.stickyTracking&&(!l.shared||this.noSharedTooltip)&&l.hide(),o.series.forEach(function(u){u.setState("",!0)})}setState(n,o){let l=this,d=l.options,u=l.graph,p=d.inactiveOtherPoints,g=d.states,m=tr(g[n||"normal"]&&g[n||"normal"].animation,l.chart.options.chart.animation),y=d.lineWidth,_=d.opacity;if(n=n||"",l.state!==n&&([l.group,l.markerGroup,l.dataLabelsGroup].forEach(function(w){w&&(l.state&&w.removeClass("highcharts-series-"+l.state),n&&w.addClass("highcharts-series-"+n))}),l.state=n,!l.chart.styledMode)){if(g[n]&&g[n].enabled===!1)return;if(n&&(y=g[n].lineWidth||y+(g[n].lineWidthPlus||0),_=tr(g[n].opacity,_)),u&&!u.dashstyle&&jr(y))for(let w of[u,...this.zones.map(E=>E.graph)])w==null||w.animate({"stroke-width":y},m);p||[l.group,l.markerGroup,l.dataLabelsGroup,l.labelBySeries].forEach(function(w){w&&w.animate({opacity:_},m)})}o&&p&&l.points&&l.setAllPointsToState(n||void 0)}setAllPointsToState(n){this.points.forEach(function(o){o.setState&&o.setState(n)})}setVisible(n,o){var m;let l=this,d=l.chart,u=d.options.chart.ignoreHiddenSeries,p=l.visible;l.visible=n=l.options.visible=l.userOptions.visible=n===void 0?!p:n;let g=n?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(y=>{var _;(_=l[y])==null||_[g]()}),(d.hoverSeries===l||((m=d.hoverPoint)==null?void 0:m.series)===l)&&l.onMouseOut(),l.legendItem&&d.legend.colorizeItem(l,n),l.isDirty=!0,l.options.stacking&&d.series.forEach(y=>{y.options.stacking&&y.visible&&(y.isDirty=!0)}),l.linkedSeries.forEach(y=>{y.setVisible(n,!1)}),u&&(d.isDirtyBox=!0),er(l,g),o!==!1&&d.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(n){this.selected=n=this.options.selected=n===void 0?!this.selected:n,this.checkbox&&(this.checkbox.checked=n),er(this,n?"select":"unselect")}shouldShowTooltip(n,o,l={}){return l.series=this,l.visiblePlotOnly=!0,this.chart.isInsidePlot(n,o,l)}drawLegendSymbol(n,o){var l;(l=Sn[this.options.legendSymbol||"rectangle"])==null||l.call(this,n,o)}}_n.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:b}=this.series.chart;return typeof this.y!="number"?"":b(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},_n.types=or.seriesTypes,_n.registerType=or.registerSeriesType,_n.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],_n.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Pl(_n.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Z,requireSorting:!0,sorted:!0}),or.series=_n;let _i=_n,{animObject:QM,setAnimation:JM}=Ar,{registerEventOptions:Pw}=bl,{composed:ej,marginNames:Ow}=J,{distribute:tj}=ps,{format:rj}=sr,{addEvent:xf,createElement:ij,css:nj,defined:Mv,discardElement:sj,find:oj,fireEvent:ks,isNumber:Rw,merge:pa,pick:Cn,pushUnique:aj,relativeLength:lj,stableSort:cj,syncTimeout:dj}=Ze;class jv{constructor(n,o){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=n,this.setOptions(o),o.enabled&&(this.render(),Pw(this,o),xf(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),xf(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(n){let o=Cn(n.padding,8);this.options=n,this.chart.styledMode||(this.itemStyle=n.itemStyle,this.itemHiddenStyle=pa(this.itemStyle,n.itemHiddenStyle)),this.itemMarginTop=n.itemMarginTop,this.itemMarginBottom=n.itemMarginBottom,this.padding=o,this.initialItemY=o-5,this.symbolWidth=Cn(n.symbolWidth,16),this.pages=[],this.proximate=n.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(n,o){let l=this.chart;this.setOptions(pa(!0,this.options,n)),"events"in this.options&&Pw(this,this.options),this.destroy(),l.isDirtyLegend=l.isDirtyBox=!0,Cn(o,!0)&&l.redraw(),ks(this,"afterUpdate",{redraw:o})}colorizeItem(n,o){var y;let l=n.color,{area:d,group:u,label:p,line:g,symbol:m}=n.legendItem||{};if((n instanceof _i||n instanceof Z)&&(n.color=((y=n.options)==null?void 0:y.legendSymbolColor)||l),u==null||u[o?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:_={}}=this,w=_.color,{fillColor:E,fillOpacity:A,lineColor:L,marker:F}=n.options,z=$=>(!o&&($.fill&&($.fill=w),$.stroke&&($.stroke=w)),$);p==null||p.css(pa(o?this.itemStyle:_)),g==null||g.attr(z({stroke:L||n.color})),m&&m.attr(z(F&&m.isMarker?n.pointAttribs():{fill:n.color})),d==null||d.attr(z({fill:E||n.color,"fill-opacity":E?1:A??.75}))}n.color=l,ks(this,"afterColorizeItem",{item:n,visible:o})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(n){let{group:o,x:l=0,y:d=0}=n.legendItem||{},u=this.options,p=u.symbolPadding,g=!u.rtl,m=n.checkbox;if(o!=null&&o.element){let y={translateX:g?l:this.legendWidth-l-2*p-4,translateY:d};o[Mv(o.translateY)?"animate":"attr"](y,void 0,()=>{ks(this,"afterPositionItem",{item:n})})}m&&(m.x=l,m.y=d)}destroyItem(n){let o=n.legendItem||{};for(let l of["group","label","line","symbol"])o[l]&&(o[l]=o[l].destroy());n.checkbox=sj(n.checkbox),n.legendItem=void 0}destroy(){for(let n of this.getAllItems())this.destroyItem(n);for(let n of["clipRect","up","down","pager","nav","box","title","group"])this[n]&&(this[n]=this[n].destroy());this.display=null}positionCheckboxes(){var u;let n,o=(u=this.group)==null?void 0:u.alignAttr,l=this.clipHeight||this.legendHeight,d=this.titleHeight;o&&(n=o.translateY,this.allItems.forEach(function(p){let g,m=p.checkbox;m&&(g=n+d+m.y+(this.scrollOffset||0)+3,nj(m,{left:o.translateX+p.checkboxOffset+m.x-20+"px",top:g+"px",display:this.proximate||g>n-6&&g<n+l-6?"":"none"}))},this))}renderTitle(){let n=this.options,o=this.padding,l=n.title,d,u=0;l.text&&(this.title||(this.title=this.chart.renderer.label(l.text,o-3,o-4,void 0,void 0,void 0,n.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(l.style),this.title.add(this.group)),l.width||this.title.css({width:this.maxLegendWidth+"px"}),u=(d=this.title.getBBox()).height,this.offsetWidth=d.width,this.contentGroup.attr({translateY:u})),this.titleHeight=u}setText(n){let o=this.options;n.legendItem.label.attr({text:o.labelFormat?rj(o.labelFormat,n,this.chart):o.labelFormatter.call(n)})}renderItem(n){var ye;let o=n.legendItem=n.legendItem||{},l=this.chart,d=l.renderer,u=this.options,p=u.layout==="horizontal",g=this.symbolWidth,m=u.symbolPadding||0,y=this.itemStyle,_=this.itemHiddenStyle,w=p?Cn(u.itemDistance,20):0,E=!u.rtl,A=!n.series,L=!A&&n.series.drawLegendSymbol?n.series:n,F=L.options,z=!!this.createCheckboxForItem&&F&&F.showCheckbox,$=u.useHTML,G=n.options.className,X=o.label,ge=g+m+w+20*!!z;!X&&(o.group=d.g("legend-item").addClass("highcharts-"+L.type+"-series highcharts-color-"+n.colorIndex+(G?" "+G:"")+(A?" highcharts-series-"+n.index:"")).attr({zIndex:1}).add(this.scrollGroup),o.label=X=d.text("",E?g+m:-m,this.baseline||0,$),l.styledMode||X.css(pa(n.visible?y:_)),X.attr({align:E?"left":"right",zIndex:2}).add(o.group),!this.baseline&&(this.fontMetrics=d.fontMetrics(X),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,X.attr("y",this.baseline),this.symbolHeight=Cn(u.symbolHeight,this.fontMetrics.f),u.squareSymbol&&(this.symbolWidth=Cn(u.symbolWidth,Math.max(this.symbolHeight,16)),ge=this.symbolWidth+m+w+20*!!z,E&&X.attr("x",this.symbolWidth+m))),L.drawLegendSymbol(this,n),this.setItemEvents&&this.setItemEvents(n,X,$)),z&&!n.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(n),this.colorizeItem(n,n.visible),(l.styledMode||!y.width)&&X.css({width:(u.itemWidth||this.widthOption||l.spacingBox.width)-ge+"px"}),this.setText(n);let de=X.getBBox(),fe=((ye=this.fontMetrics)==null?void 0:ye.h)||0;n.itemWidth=n.checkboxOffset=u.itemWidth||o.labelWidth||de.width+ge,this.maxItemWidth=Math.max(this.maxItemWidth,n.itemWidth),this.totalItemWidth+=n.itemWidth,this.itemHeight=n.itemHeight=Math.round(o.labelHeight||(de.height>1.5*fe?de.height:fe))}layoutItem(n){let o=this.options,l=this.padding,d=o.layout==="horizontal",u=n.itemHeight,p=this.itemMarginBottom,g=this.itemMarginTop,m=d?Cn(o.itemDistance,20):0,y=this.maxLegendWidth,_=o.alignColumns&&this.totalItemWidth>y?this.maxItemWidth:n.itemWidth,w=n.legendItem||{};d&&this.itemX-l+_>y&&(this.itemX=l,this.lastLineHeight&&(this.itemY+=g+this.lastLineHeight+p),this.lastLineHeight=0),this.lastItemY=g+this.itemY+p,this.lastLineHeight=Math.max(u,this.lastLineHeight),w.x=this.itemX,w.y=this.itemY,d?this.itemX+=_:(this.itemY+=g+u+p,this.lastLineHeight=u),this.offsetWidth=this.widthOption||Math.max((d?this.itemX-l-(n.checkbox?0:m):_)+l,this.offsetWidth)}getAllItems(){let n=[];return this.chart.series.forEach(function(o){var d;let l=o==null?void 0:o.options;o&&Cn(l.showInLegend,!Mv(l.linkedTo)&&void 0,!0)&&(n=n.concat(((d=o.legendItem)==null?void 0:d.labels)||(l.legendType==="point"?o.data:o)))}),ks(this,"afterGetAllItems",{allItems:n}),n}getAlignment(){let n=this.options;return this.proximate?n.align.charAt(0)+"tv":n.floating?"":n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0)}adjustMargins(n,o){let l=this.chart,d=this.options,u=this.getAlignment();u&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((p,g)=>{p.test(u)&&!Mv(n[g])&&(l[Ow[g]]=Math.max(l[Ow[g]],l.legend[(g+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][g]*d[g%2?"x":"y"]+(d.margin??12)+o[g]+(l.titleOffset[g]||0)))})}proximatePositions(){let n,o=this.chart,l=[],d=this.options.align==="left";for(let u of(this.allItems.forEach(function(p){let g,m,y=d,_,w;p.yAxis&&(p.xAxis.options.reversed&&(y=!y),p.points&&(g=oj(y?p.points:p.points.slice(0).reverse(),function(E){return Rw(E.plotY)})),m=this.itemMarginTop+p.legendItem.label.getBBox().height+this.itemMarginBottom,w=p.yAxis.top-o.plotTop,_=p.visible?(g?g.plotY:p.yAxis.height)+(w-.3*m):w+p.yAxis.height,l.push({target:_,size:m,item:p}))},this),tj(l,o.plotHeight)))n=u.item.legendItem||{},Rw(u.pos)&&(n.y=o.plotTop-o.spacing[0]+u.pos)}render(){let n=this.chart,o=n.renderer,l=this.options,d=this.padding,u=this.getAllItems(),p,g,m,y=this.group,_,w=this.box;this.itemX=d,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=lj(l.width,n.spacingBox.width-d),_=n.spacingBox.width-2*d-l.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(_/=2),this.maxLegendWidth=this.widthOption||_,y||(this.group=y=o.g("legend").addClass(l.className||"").attr({zIndex:7}).add(),this.contentGroup=o.g().attr({zIndex:1}).add(y),this.scrollGroup=o.g().add(this.contentGroup)),this.renderTitle(),cj(u,(E,A)=>{var L,F;return(((L=E.options)==null?void 0:L.legendIndex)||0)-(((F=A.options)==null?void 0:F.legendIndex)||0)}),l.reversed&&u.reverse(),this.allItems=u,this.display=p=!!u.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,u.forEach(this.renderItem,this),u.forEach(this.layoutItem,this),g=(this.widthOption||this.offsetWidth)+d,m=this.lastItemY+this.lastLineHeight+this.titleHeight,m=this.handleOverflow(m)+d,w||(this.box=w=o.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(y)),n.styledMode||w.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),g>0&&m>0&&w[w.placed?"animate":"attr"](w.crisp.call({},{x:0,y:0,width:g,height:m},w.strokeWidth())),y[p?"show":"hide"](),n.styledMode&&y.getStyle("display")==="none"&&(g=m=0),this.legendWidth=g,this.legendHeight=m,p&&this.align(),this.proximate||this.positionItems(),ks(this,"afterRender")}align(n=this.chart.spacingBox){let o=this.chart,l=this.options,d=n.y;/(lth|ct|rth)/.test(this.getAlignment())&&o.titleOffset[0]>0?d+=o.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&o.titleOffset[2]>0&&(d-=o.titleOffset[2]),d!==n.y&&(n=pa(n,{y:d})),o.hasRendered||(this.group.placed=!1),this.group.align(pa(l,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,n)}handleOverflow(n){let o=this,l=this.chart,d=l.renderer,u=this.options,p=u.y,g=u.verticalAlign==="top",m=this.padding,y=u.maxHeight,_=u.navigation,w=Cn(_.animation,!0),E=_.arrowSize||12,A=this.pages,L=this.allItems,F=function(ve){typeof ve=="number"?ye.attr({height:ve}):ye&&(o.clipRect=ye.destroy(),o.contentGroup.clip()),o.contentGroup.div&&(o.contentGroup.div.style.clip=ve?"rect("+m+"px,9999px,"+(m+ve)+"px,0)":"auto")},z=function(ve){return o[ve]=d.circle(0,0,1.3*E).translate(E/2,E/2).add(fe),l.styledMode||o[ve].attr("fill","rgba(0,0,0,0.0001)"),o[ve]},$,G,X,ge,de=l.spacingBox.height+(g?-p:p)-m,fe=this.nav,ye=this.clipRect;return u.layout!=="horizontal"||u.verticalAlign==="middle"||u.floating||(de/=2),y&&(de=Math.min(de,y)),A.length=0,n&&de>0&&n>de&&_.enabled!==!1?(this.clipHeight=$=Math.max(de-20-this.titleHeight-m,0),this.currentPage=Cn(this.currentPage,1),this.fullHeight=n,L.forEach((ve,xe)=>{let Ae=(X=ve.legendItem||{}).y||0,je=Math.round(X.label.getBBox().height),Fe=A.length;(!Fe||Ae-A[Fe-1]>$&&(G||Ae)!==A[Fe-1])&&(A.push(G||Ae),Fe++),X.pageIx=Fe-1,G&&ge&&(ge.pageIx=Fe-1),xe===L.length-1&&Ae+je-A[Fe-1]>$&&Ae>A[Fe-1]&&(A.push(Ae),X.pageIx=Fe),Ae!==G&&(G=Ae),ge=X}),ye||(ye=o.clipRect=d.clipRect(0,m-2,9999,0),o.contentGroup.clip(ye)),F($),fe||(this.nav=fe=d.g().attr({zIndex:1}).add(this.group),this.up=d.symbol("triangle",0,0,E,E).add(fe),z("upTracker").on("click",function(){o.scroll(-1,w)}),this.pager=d.text("",15,10).addClass("highcharts-legend-navigation"),!l.styledMode&&_.style&&this.pager.css(_.style),this.pager.add(fe),this.down=d.symbol("triangle-down",0,0,E,E).add(fe),z("downTracker").on("click",function(){o.scroll(1,w)})),o.scroll(0),n=de):fe&&(F(),this.nav=fe.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),n}scroll(n,o){let l=this.chart,d=this.pages,u=d.length,p=this.clipHeight,g=this.options.navigation,m=this.pager,y=this.padding,_=this.currentPage+n;_>u&&(_=u),_>0&&(o!==void 0&&JM(o,l),this.nav.attr({translateX:y,translateY:p+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(w){w.attr({class:_===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),m.attr({text:_+"/"+u}),[this.down,this.downTracker].forEach(function(w){w.attr({x:18+this.pager.getBBox().width,class:_===u?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),l.styledMode||(this.up.attr({fill:_===1?g.inactiveColor:g.activeColor}),this.upTracker.css({cursor:_===1?"default":"pointer"}),this.down.attr({fill:_===u?g.inactiveColor:g.activeColor}),this.downTracker.css({cursor:_===u?"default":"pointer"})),this.scrollOffset=-d[_-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=_,this.positionCheckboxes(),dj(()=>{ks(this,"afterScroll",{currentPage:_})},QM(Cn(o,l.renderer.globalAnimation,!0)).duration))}setItemEvents(n,o,l){let d=this,u=n.legendItem||{},p=d.chart.renderer.boxWrapper,g=n instanceof Z,m=n instanceof _i,y="highcharts-legend-"+(g?"point":"series")+"-active",_=d.chart.styledMode,w=l?[o,u.symbol]:[u.group],E=A=>{d.allItems.forEach(L=>{n!==L&&[L].concat(L.linkedSeries||[]).forEach(F=>{F.setState(A,!g)})})};for(let A of w)A&&A.on("mouseover",function(){n.visible&&E("inactive"),n.setState("hover"),n.visible&&p.addClass(y),_||o.css(d.options.itemHoverStyle)}).on("mouseout",function(){d.chart.styledMode||o.css(pa(n.visible?d.itemStyle:d.itemHiddenStyle)),E(""),p.removeClass(y),n.setState()}).on("click",function(L){let F=function(){n.setVisible&&n.setVisible(),E(n.visible?"inactive":"")};p.removeClass(y),ks(d,"itemClick",{browserEvent:L,legendItem:n},F),g?n.firePointEvent("legendItemClick",{browserEvent:L}):m&&ks(n,"legendItemClick",{browserEvent:L})})}createCheckboxForItem(n){n.checkbox=ij("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:n.selected,defaultChecked:n.selected},this.options.itemCheckboxStyle,this.chart.container),xf(n.checkbox,"click",function(o){let l=o.target;ks(n.series||n,"checkboxClick",{checked:l.checked,item:n},function(){n.select()})})}}(function(b){b.compose=function(n){aj(ej,"Core.Legend")&&xf(n,"beforeMargins",function(){this.legend=new b(this,this.options.legend)})}})(jv||(jv={}));let Lw=jv,{animate:Nv,animObject:uj,setAnimation:Pv}=Ar,{defaultOptions:Ov}=Ri,{numberFormat:hj}=sr,{registerEventOptions:Iw}=bl,{charts:ga,doc:Ad,marginNames:Dw,svg:fj,win:$w}=J,{seriesTypes:Rv}=or,{addEvent:Lv,attr:Bw,createElement:Iv,css:En,defined:uo,diffObjects:zw,discardElement:pj,erase:gj,error:Dv,extend:ho,find:$v,fireEvent:Ot,getAlignFactor:mj,getStyle:Bv,isArray:vj,isNumber:Ol,isObject:xj,isString:yf,merge:Zn,objectEach:zv,pick:fi,pInt:yj,relativeLength:Fw,removeEvent:Ww,splat:bf,syncTimeout:bj,uniqueKey:wj}=Ze;class fo{static chart(n,o,l){return new fo(n,o,l)}constructor(n,o,l){this.sharedClips={};let d=[...arguments];(yf(n)||n.nodeName)&&(this.renderTo=d.shift()),this.init(d[0],d[1])}setZoomOptions(){let n=this.options.chart,o=n.zooming;this.zooming={...o,type:fi(n.zoomType,o.type),key:fi(n.zoomKey,o.key),pinchType:fi(n.pinchType,o.pinchType),singleTouch:fi(n.zoomBySingleTouch,o.singleTouch,!1),resetButton:Zn(o.resetButton,n.resetZoomButton)}}init(n,o){Ot(this,"init",{args:arguments},function(){var p;let l=Zn(Ov,n),d=l.chart,u=this.renderTo||d.renderTo;this.userOptions=ho({},n),(this.renderTo=yf(u)?Ad.getElementById(u):u)||Dv(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=o,this.isResizing=0,this.options=l,this.axes=[],this.series=[],this.locale=l.lang.locale??((p=this.renderTo.closest("[lang]"))==null?void 0:p.lang),this.time=new Jc(ho(l.time||{},{locale:this.locale}),l.lang),l.time=this.time.options,this.numberFormatter=(d.numberFormatter||hj).bind(this),this.styledMode=d.styledMode,this.hasCartesianSeries=d.showAxes,this.index=ga.length,ga.push(this),J.chartCount++,Iw(this,d),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Ot(this,"afterInit"),this.firstRender()})}initSeries(n){let o=this.options.chart,l=n.type||o.type,d=Rv[l];d||Dv(17,!0,this,{missingModuleFor:l});let u=new d;return typeof u.init=="function"&&u.init(this,n),u}setSortedData(){this.getSeriesOrderByLinks().forEach(function(n){n.points||n.data||!n.enabledDataSorting||n.setData(n.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(n,o){return n.linkedSeries.length||o.linkedSeries.length?o.linkedSeries.length-n.linkedSeries.length:0})}orderItems(n,o=0){let l=this[n],d=this.options[n]=bf(this.options[n]).slice(),u=this.userOptions[n]=this.userOptions[n]?bf(this.userOptions[n]).slice():[];if(this.hasRendered&&(d.splice(o),u.splice(o)),l)for(let p=o,g=l.length;p<g;++p){let m=l[p];m&&(m.index=p,m instanceof _i&&(m.name=m.getName()),m.options.isInternal||(d[p]=m.options,u[p]=m.userOptions))}}getClipBox(n,o){var _,w;let l=this.inverted,{xAxis:d,yAxis:u}=n||{},{x:p,y:g,width:m,height:y}=Zn(this.clipBox);return n&&(d&&d.len!==this.plotSizeX&&(m=d.len),u&&u.len!==this.plotSizeY&&(y=u.len),l&&!n.invertible&&([m,y]=[y,m])),o&&(p+=((_=l?u:d)==null?void 0:_.pos)??this.plotLeft,g+=((w=l?d:u)==null?void 0:w.pos)??this.plotTop),{x:p,y:g,width:m,height:y}}isInsidePlot(n,o,l={}){var z;let{inverted:d,plotBox:u,plotLeft:p,plotTop:g,scrollablePlotBox:m}=this,{scrollLeft:y=0,scrollTop:_=0}=l.visiblePlotOnly&&((z=this.scrollablePlotArea)==null?void 0:z.scrollingContainer)||{},w=l.series,E=l.visiblePlotOnly&&m||u,A=l.inverted?o:n,L=l.inverted?n:o,F={x:A,y:L,isInsidePlot:!0,options:l};if(!l.ignoreX){let $=w&&(d&&!this.polar?w.yAxis:w.xAxis)||{pos:p,len:1/0},G=l.paneCoordinates?$.pos+A:p+A;G>=Math.max(y+p,$.pos)&&G<=Math.min(y+p+E.width,$.pos+$.len)||(F.isInsidePlot=!1)}if(!l.ignoreY&&F.isInsidePlot){let $=!d&&l.axis&&!l.axis.isXAxis&&l.axis||w&&(d?w.xAxis:w.yAxis)||{pos:g,len:1/0},G=l.paneCoordinates?$.pos+L:g+L;G>=Math.max(_+g,$.pos)&&G<=Math.min(_+g+E.height,$.pos+$.len)||(F.isInsidePlot=!1)}return Ot(this,"afterIsInsidePlot",F),F.isInsidePlot}redraw(n){Ot(this,"beforeRedraw");let o=this.hasCartesianSeries?this.axes:this.colorAxis||[],l=this.series,d=this.pointer,u=this.legend,p=this.userOptions.legend,g=this.renderer,m=g.isHidden(),y=[],_,w,E,A=this.isDirtyBox,L=this.isDirtyLegend,F;for(g.rootFontSize=g.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),Pv(!!this.hasRendered&&n,this),m&&this.temporaryDisplay(),this.layOutTitles(!1),E=l.length;E--;)if(((F=l[E]).options.stacking||F.options.centerInCategory)&&(w=!0,F.isDirty)){_=!0;break}if(_)for(E=l.length;E--;)(F=l[E]).options.stacking&&(F.isDirty=!0);l.forEach(function(z){z.isDirty&&(z.options.legendType==="point"?(typeof z.updateTotals=="function"&&z.updateTotals(),L=!0):p&&(p.labelFormatter||p.labelFormat)&&(L=!0)),z.isDirtyData&&Ot(z,"updatedData")}),L&&u&&u.options.enabled&&(u.render(),this.isDirtyLegend=!1),w&&this.getStacks(),o.forEach(function(z){z.updateNames(),z.setScale()}),this.getMargins(),o.forEach(function(z){z.isDirty&&(A=!0)}),o.forEach(function(z){let $=z.min+","+z.max;z.extKey!==$&&(z.extKey=$,y.push(function(){Ot(z,"afterSetExtremes",ho(z.eventArgs,z.getExtremes())),delete z.eventArgs})),(A||w)&&z.redraw()}),A&&this.drawChartBox(),Ot(this,"predraw"),l.forEach(function(z){(A||z.isDirty)&&z.visible&&z.redraw(),z.isDirtyData=!1}),d&&d.reset(!0),g.draw(),Ot(this,"redraw"),Ot(this,"render"),m&&this.temporaryDisplay(!0),y.forEach(function(z){z.call()})}get(n){let o=this.series;function l(u){return u.id===n||u.options&&u.options.id===n}let d=$v(this.axes,l)||$v(this.series,l);for(let u=0;!d&&u<o.length;u++)d=$v(o[u].points||[],l);return d}createAxes(){let n=this.userOptions;for(let o of(Ot(this,"createAxes"),["xAxis","yAxis"]))for(let l of n[o]=bf(n[o]||{}))new ws(this,l,o);Ot(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((n,o)=>(o.getPointsCollection().forEach(l=>{fi(l.selectedStaging,l.selected)&&n.push(l)}),n),[])}getSelectedSeries(){return this.series.filter(n=>n.selected)}setTitle(n,o,l){this.applyDescription("title",n),this.applyDescription("subtitle",o),this.applyDescription("caption",void 0),this.layOutTitles(l)}applyDescription(n,o){var p;let l=this,d=this.options[n]=Zn(this.options[n],o),u=this[n];u&&o&&(this[n]=u=u.destroy()),d&&!u&&((u=this.renderer.text(d.text,0,0,d.useHTML).attr({align:d.align,class:"highcharts-"+n,zIndex:d.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(g,m){l.applyDescription(n,g),l.layOutTitles(m)},this.styledMode||u.css(ho(n==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},d.style)),u.textPxLength=u.getBBox().width,u.css({whiteSpace:(p=d.style)==null?void 0:p.whiteSpace}),this[n]=u)}layOutTitles(n=!0){var g,m,y,_;let o=[0,0,0],{options:l,renderer:d,spacingBox:u}=this;["title","subtitle","caption"].forEach(w=>{var z;let E=this[w],A=this.options[w],L=Zn(u),F=(E==null?void 0:E.textPxLength)||0;if(E&&A){Ot(this,"layOutTitle",{alignTo:L,key:w,textPxLength:F});let $=d.fontMetrics(E),G=$.b,X=$.h,ge=A.verticalAlign||"top",de=ge==="top",fe=de&&A.minScale||1,ye=w==="title"?de?-3:0:de?o[0]+2:0,ve=Math.min(L.width/F,1),xe=Math.max(fe,ve),Ae=Zn({y:ge==="bottom"?G:ye+G},{align:w==="title"?ve<fe?"left":"center":(z=this.title)==null?void 0:z.alignValue},A),je=(A.width||(ve>fe?this.chartWidth:L.width)/xe)+"px";E.alignValue!==Ae.align&&(E.placed=!1);let Fe=Math.round(E.css({width:je}).getBBox(A.useHTML).height);if(Ae.height=Fe,E.align(Ae,!1,L).attr({align:Ae.align,scaleX:xe,scaleY:xe,"transform-origin":`${L.x+F*xe*mj(Ae.align)} ${X}`}),!A.floating){let He=Fe*(Fe<1.2*X?1:xe);ge==="top"?o[0]=Math.ceil(o[0]+He):ge==="bottom"&&(o[2]=Math.ceil(o[2]+He))}}},this),o[0]&&(((g=l.title)==null?void 0:g.verticalAlign)||"top")==="top"&&(o[0]+=((m=l.title)==null?void 0:m.margin)||0),o[2]&&((y=l.caption)==null?void 0:y.verticalAlign)==="bottom"&&(o[2]+=((_=l.caption)==null?void 0:_.margin)||0);let p=!this.titleOffset||this.titleOffset.join(",")!==o.join(",");this.titleOffset=o,Ot(this,"afterLayOutTitles"),!this.isDirtyBox&&p&&(this.isDirtyBox=this.isDirtyLegend=p,this.hasRendered&&n&&this.isDirtyBox&&this.redraw())}getContainerBox(){let n=[].map.call(this.renderTo.children,l=>{if(l!==this.container){let d=l.style.display;return l.style.display="none",[l,d]}}),o={width:Bv(this.renderTo,"width",!0)||0,height:Bv(this.renderTo,"height",!0)||0};return n.filter(Boolean).forEach(([l,d])=>{l.style.display=d}),o}getChartSize(){var p;let n=this.options.chart,o=n.width,l=n.height,d=this.getContainerBox(),u=d.height<=1||!((p=this.renderTo.parentElement)!=null&&p.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,o||d.width||600),this.chartHeight=Math.max(0,Fw(l,this.chartWidth)||(u?400:d.height)),this.containerBox=d}temporaryDisplay(n){let o=this.renderTo,l;if(n)for(;o!=null&&o.style;)o.hcOrigStyle&&(En(o,o.hcOrigStyle),delete o.hcOrigStyle),o.hcOrigDetached&&(Ad.body.removeChild(o),o.hcOrigDetached=!1),o=o.parentNode;else for(;o!=null&&o.style&&(Ad.body.contains(o)||o.parentNode||(o.hcOrigDetached=!0,Ad.body.appendChild(o)),(Bv(o,"display",!1)==="none"||o.hcOricDetached)&&(o.hcOrigStyle={display:o.style.display,height:o.style.height,overflow:o.style.overflow},l={display:"block",overflow:"hidden"},o!==this.renderTo&&(l.height=0),En(o,l),o.offsetWidth||o.style.setProperty("display","block","important")),(o=o.parentNode)!==Ad.body););}setClassName(n){this.container.className="highcharts-container "+(n||"")}getContainer(){var E,A;let n,o=this.options,l=o.chart,d="data-highcharts-chart",u=wj(),p=this.renderTo,g=yj(Bw(p,d));Ol(g)&&ga[g]&&ga[g].hasRendered&&ga[g].destroy(),Bw(p,d,this.index),p.innerHTML=Ut.emptyHTML,l.skipClone||p.offsetWidth||this.temporaryDisplay(),this.getChartSize();let m=this.chartHeight,y=this.chartWidth;En(p,{overflow:"hidden"}),this.styledMode||(n=ho({position:"relative",overflow:"hidden",width:y+"px",height:m+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},l.style||{}));let _=Iv("div",{id:u},n,p);this.container=_,this.getChartSize(),y!==this.chartWidth&&(y=this.chartWidth,this.styledMode||En(_,{width:fi((E=l.style)==null?void 0:E.width,y+"px")})),this.containerBox=this.getContainerBox(),this._cursor=_.style.cursor;let w=l.renderer||!fj?Ki.getRendererType(l.renderer):xl;if(this.renderer=new w(_,y,m,void 0,l.forExport,(A=o.exporting)==null?void 0:A.allowHTML,this.styledMode),Pv(void 0,this),this.setClassName(l.className),this.styledMode)for(let L in o.defs)this.renderer.definition(o.defs[L]);else this.renderer.setStyle(l.style);this.renderer.chartIndex=this.index,Ot(this,"afterGetContainer")}getMargins(n){var u;let{spacing:o,margin:l,titleOffset:d}=this;this.resetMargins(),d[0]&&!uo(l[0])&&(this.plotTop=Math.max(this.plotTop,d[0]+o[0])),d[2]&&!uo(l[2])&&(this.marginBottom=Math.max(this.marginBottom,d[2]+o[2])),(u=this.legend)!=null&&u.display&&this.legend.adjustMargins(l,o),Ot(this,"getMargins"),n||this.getAxisMargins()}getAxisMargins(){let n=this,o=n.axisOffset=[0,0,0,0],l=n.colorAxis,d=n.margin,u=p=>{p.forEach(g=>{g.visible&&g.getOffset()})};n.hasCartesianSeries?u(n.axes):l!=null&&l.length&&u(l),Dw.forEach((p,g)=>{uo(d[g])||(n[p]+=o[g])}),n.setChartSize()}getOptions(){return zw(this.userOptions,Ov)}reflow(n){var u,p;let o=this,l=o.containerBox,d=o.getContainerBox();(u=o.pointer)==null||delete u.chartPosition,!((p=o.exporting)!=null&&p.isPrinting)&&!o.isResizing&&l&&d.width&&((d.width!==l.width||d.height!==l.height)&&(Ze.clearTimeout(o.reflowTimeout),o.reflowTimeout=bj(function(){o.container&&o.setSize(void 0,void 0,!1)},100*!!n)),o.containerBox=d)}setReflow(){let n=this,o=l=>{var d;(d=n.options)!=null&&d.chart.reflow&&n.hasLoaded&&n.reflow(l)};if(typeof ResizeObserver=="function")new ResizeObserver(o).observe(n.renderTo);else{let l=Lv($w,"resize",o);Lv(this,"destroy",l)}}setSize(n,o,l){let d=this,u=d.renderer;d.isResizing+=1,Pv(l,d);let p=u.globalAnimation;d.oldChartHeight=d.chartHeight,d.oldChartWidth=d.chartWidth,n!==void 0&&(d.options.chart.width=n),o!==void 0&&(d.options.chart.height=o),d.getChartSize();let{chartWidth:g,chartHeight:m,scrollablePixelsX:y=0,scrollablePixelsY:_=0}=d;(d.isDirtyBox||g!==d.oldChartWidth||m!==d.oldChartHeight)&&(d.styledMode||(p?Nv:En)(d.container,{width:`${g+y}px`,height:`${m+_}px`},p),d.setChartSize(!0),u.setSize(g,m,p),d.axes.forEach(function(w){w.isDirty=!0,w.setScale()}),d.isDirtyLegend=!0,d.isDirtyBox=!0,d.layOutTitles(),d.getMargins(),d.redraw(p),d.oldChartHeight=void 0,Ot(d,"resize"),setTimeout(()=>{d&&Ot(d,"endResize")},uj(p).duration)),d.isResizing-=1}setChartSize(n){let o,l,d,u,{chartHeight:p,chartWidth:g,inverted:m,spacing:y,renderer:_}=this,w=this.clipOffset,E=Math[m?"floor":"round"];this.plotLeft=o=Math.round(this.plotLeft),this.plotTop=l=Math.round(this.plotTop),this.plotWidth=d=Math.max(0,Math.round(g-o-(this.marginRight??0))),this.plotHeight=u=Math.max(0,Math.round(p-l-(this.marginBottom??0))),this.plotSizeX=m?u:d,this.plotSizeY=m?d:u,this.spacingBox=_.spacingBox={x:y[3],y:y[0],width:g-y[3]-y[1],height:p-y[0]-y[2]},this.plotBox=_.plotBox={x:o,y:l,width:d,height:u},w&&(this.clipBox={x:E(w[3]),y:E(w[0]),width:E(this.plotSizeX-w[1]-w[3]),height:E(this.plotSizeY-w[0]-w[2])}),n||(this.axes.forEach(function(A){A.setAxisSize(),A.setAxisTranslation()}),_.alignElements()),Ot(this,"afterSetChartSize",{skipAxes:n})}resetMargins(){Ot(this,"resetMargins");let n=this,o=n.options.chart,l=o.plotBorderWidth||0,d=Math.round(l)/2;["margin","spacing"].forEach(u=>{let p=o[u],g=xj(p)?p:[p,p,p,p];["Top","Right","Bottom","Left"].forEach((m,y)=>{n[u][y]=o[`${u}${m}`]??g[y]})}),Dw.forEach((u,p)=>{n[u]=n.margin[p]??n.spacing[p]}),n.axisOffset=[0,0,0,0],n.clipOffset=[d,d,d,d],n.plotBorderWidth=l}drawChartBox(){let n=this.options.chart,o=this.renderer,l=this.chartWidth,d=this.chartHeight,u=this.styledMode,p=this.plotBGImage,g=n.backgroundColor,m=n.plotBackgroundColor,y=n.plotBackgroundImage,_=this.plotLeft,w=this.plotTop,E=this.plotWidth,A=this.plotHeight,L=this.plotBox,F=this.clipRect,z=this.clipBox,$=this.chartBackground,G=this.plotBackground,X=this.plotBorder,ge,de,fe,ye="animate";$||(this.chartBackground=$=o.rect().addClass("highcharts-background").add(),ye="attr"),u?ge=de=$.strokeWidth():(de=(ge=n.borderWidth||0)+8*!!n.shadow,fe={fill:g||"none"},(ge||$["stroke-width"])&&(fe.stroke=n.borderColor,fe["stroke-width"]=ge),$.attr(fe).shadow(n.shadow)),$[ye]({x:de/2,y:de/2,width:l-de-ge%2,height:d-de-ge%2,r:n.borderRadius}),ye="animate",G||(ye="attr",this.plotBackground=G=o.rect().addClass("highcharts-plot-background").add()),G[ye](L),!u&&(G.attr({fill:m||"none"}).shadow(n.plotShadow),y&&(p?(y!==p.attr("href")&&p.attr("href",y),p.animate(L)):this.plotBGImage=o.image(y,_,w,E,A).add())),F?F.animate({width:z.width,height:z.height}):this.clipRect=o.clipRect(z),ye="animate",X||(ye="attr",this.plotBorder=X=o.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),u||X.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),X[ye](X.crisp(L,-X.strokeWidth())),this.isDirtyBox=!1,Ot(this,"afterDrawChartBox")}propFromSeries(){let n,o,l,d=this,u=d.options.chart,p=d.options.series;["inverted","angular","polar"].forEach(function(g){for(o=Rv[u.type],l=u[g]||o&&o.prototype[g],n=p==null?void 0:p.length;!l&&n--;)(o=Rv[p[n].type])&&o.prototype[g]&&(l=!0);d[g]=l})}linkSeries(n){let o=this,l=o.series;l.forEach(function(d){d.linkedSeries.length=0}),l.forEach(function(d){let{linkedTo:u}=d.options;if(yf(u)){let p;(p=u===":previous"?o.series[d.index-1]:o.get(u))&&p.linkedParent!==d&&(p.linkedSeries.push(d),d.linkedParent=p,p.enabledDataSorting&&d.setDataSortingOptions(),d.visible=fi(d.options.visible,p.options.visible,d.visible))}}),Ot(this,"afterLinkSeries",{isUpdating:n})}renderSeries(){this.series.forEach(function(n){n.translate(),n.render()})}render(){var _;let n=this.axes,o=this.colorAxis,l=this.renderer,d=this.options.chart.axisLayoutRuns||2,u=w=>{w.forEach(E=>{E.visible&&E.render()})},p=0,g=!0,m,y=0;for(let w of(this.setTitle(),Ot(this,"beforeMargins"),(_=this.getStacks)==null||_.call(this),this.getMargins(!0),this.setChartSize(),n)){let{options:E}=w,{labels:A}=E;if(this.hasCartesianSeries&&w.horiz&&w.visible&&A.enabled&&w.series.length&&w.coll!=="colorAxis"&&!this.polar){p=E.tickLength,w.createGroups();let L=new no(w,0,"",!0),F=L.createLabel("x",A);if(L.destroy(),F&&fi(A.reserveSpace,!Ol(E.crossing))&&(p=F.getBBox().height+A.distance+Math.max(E.offset||0,0)),p){F==null||F.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-p,0);(g||m||d>1)&&y<d;){let w=this.plotWidth,E=this.plotHeight;for(let A of n)y===0?A.setScale():(A.horiz&&g||!A.horiz&&m)&&A.setTickInterval(!0);y===0?this.getAxisMargins():this.getMargins(),g=w/this.plotWidth>(y?1:1.1),m=E/this.plotHeight>(y?1:1.05),y++}this.drawChartBox(),this.hasCartesianSeries?u(n):o!=null&&o.length&&u(o),this.seriesGroup||(this.seriesGroup=l.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=l.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(n){let o=this,l=Zn(!0,this.options.credits,n);l.enabled&&!this.credits&&(this.credits=this.renderer.text(l.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){l.href&&($w.location.href=l.href)}).attr({align:l.position.align,zIndex:8}),o.styledMode||this.credits.css(l.style),this.credits.add().align(l.position),this.credits.update=function(d){o.credits=o.credits.destroy(),o.addCredits(d)})}destroy(){var g,m;let n,o=this,l=o.axes,d=o.series,u=o.container,p=u==null?void 0:u.parentNode;for(Ot(o,"destroy"),o.renderer.forExport?gj(ga,o):ga[o.index]=void 0,J.chartCount--,o.renderTo.removeAttribute("data-highcharts-chart"),Ww(o),n=l.length;n--;)l[n]=l[n].destroy();for((m=(g=this.scroller)==null?void 0:g.destroy)==null||m.call(g),n=d.length;n--;)d[n]=d[n].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(y=>{var _,w;o[y]=(w=(_=o[y])==null?void 0:_.destroy)==null?void 0:w.call(_)}),u&&(u.innerHTML=Ut.emptyHTML,Ww(u),p&&pj(u)),zv(o,function(y,_){delete o[_]})}firstRender(){var d;let n=this,o=n.options;n.getContainer(),n.resetMargins(),n.setChartSize(),n.propFromSeries(),n.createAxes();let l=vj(o.series)?o.series:[];o.series=[],l.forEach(function(u){n.initSeries(u)}),n.linkSeries(),n.setSortedData(),Ot(n,"beforeRender"),n.render(),(d=n.pointer)==null||d.getChartPosition(),n.renderer.imgCount||n.hasLoaded||n.onload(),n.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(n){n&&this.index!==void 0&&n.apply(this,[this])},this),Ot(this,"load"),Ot(this,"render"),uo(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:n,title:o}=this;n&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((o==null?void 0:o.element.textContent)||"").replace(/</g,"&lt;")}),n.accessibility&&n.accessibility.enabled===!1||Dv('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(n,o,l){let d,u=this;return n&&(o=fi(o,!0),Ot(u,"addSeries",{options:n},function(){d=u.initSeries(n),u.isDirtyLegend=!0,u.linkSeries(),d.enabledDataSorting&&d.setData(n.data,!1),Ot(u,"afterAddSeries",{series:d}),o&&u.redraw(l)})),d}addAxis(n,o,l,d){return this.createAxis(o?"xAxis":"yAxis",{axis:n,redraw:l,animation:d})}addColorAxis(n,o,l){return this.createAxis("colorAxis",{axis:n,redraw:o,animation:l})}createAxis(n,o){let l=new ws(this,o.axis,n);return fi(o.redraw,!0)&&this.redraw(o.animation),l}showLoading(n){let o=this,l=o.options,d=l.loading,u=function(){p&&En(p,{left:o.plotLeft+"px",top:o.plotTop+"px",width:o.plotWidth+"px",height:o.plotHeight+"px"})},p=o.loadingDiv,g=o.loadingSpan;p||(o.loadingDiv=p=Iv("div",{className:"highcharts-loading highcharts-loading-hidden"},null,o.container)),g||(o.loadingSpan=g=Iv("span",{className:"highcharts-loading-inner"},null,p),Lv(o,"redraw",u)),p.className="highcharts-loading",Ut.setElementHTML(g,fi(n,l.lang.loading,"")),!o.styledMode&&(En(p,ho(d.style,{zIndex:10})),En(g,d.labelStyle),o.loadingShown||(En(p,{opacity:0,display:""}),Nv(p,{opacity:d.style.opacity||.5},{duration:d.showDuration||0}))),o.loadingShown=!0,u()}hideLoading(){let n=this.options,o=this.loadingDiv;o&&(o.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Nv(o,{opacity:0},{duration:n.loading.hideDuration||100,complete:function(){En(o,{display:"none"})}})),this.loadingShown=!1}update(n,o,l,d){let u,p,g,m=this,y={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},_=n.isResponsiveOptions,w=[];Ot(m,"update",{options:n}),_||m.setResponsive(!1,!0),n=zw(n,m.options),m.userOptions=Zn(m.userOptions,n);let E=n.chart;E&&(Zn(!0,m.options.chart,E),this.setZoomOptions(),"className"in E&&m.setClassName(E.className),("inverted"in E||"polar"in E||"type"in E)&&(m.propFromSeries(),u=!0),"alignTicks"in E&&(u=!0),"events"in E&&Iw(this,E),zv(E,function(F,z){m.propsRequireUpdateSeries.indexOf("chart."+z)!==-1&&(p=!0),m.propsRequireDirtyBox.indexOf(z)!==-1&&(m.isDirtyBox=!0),m.propsRequireReflow.indexOf(z)!==-1&&(m.isDirtyBox=!0,_||(g=!0))}),!m.styledMode&&E.style&&m.renderer.setStyle(m.options.chart.style||{})),!m.styledMode&&n.colors&&(this.options.colors=n.colors),zv(n,function(F,z){m[z]&&typeof m[z].update=="function"?m[z].update(F,!1):typeof m[y[z]]=="function"?m[y[z]](F):z!=="colors"&&m.collectionsWithUpdate.indexOf(z)===-1&&Zn(!0,m.options[z],n[z]),z!=="chart"&&m.propsRequireUpdateSeries.indexOf(z)!==-1&&(p=!0)}),this.collectionsWithUpdate.forEach(function(F){n[F]&&(bf(n[F]).forEach(function(z,$){let G,X=uo(z.id);X&&(G=m.get(z.id)),!G&&m[F]&&(G=m[F][fi(z.index,$)])&&(X&&uo(G.options.id)||G.options.isInternal)&&(G=void 0),G&&G.coll===F&&(G.update(z,!1),l&&(G.touched=!0)),!G&&l&&m.collectionsWithInit[F]&&(m.collectionsWithInit[F][0].apply(m,[z].concat(m.collectionsWithInit[F][1]||[]).concat([!1])).touched=!0)}),l&&m[F].forEach(function(z){z.touched||z.options.isInternal?delete z.touched:w.push(z)}))}),w.forEach(function(F){F.chart&&F.remove&&F.remove(!1)}),u&&m.axes.forEach(function(F){F.update({},!1)}),p&&m.getSeriesOrderByLinks().forEach(function(F){F.chart&&F.update({},!1)},this);let A=E==null?void 0:E.width,L=E&&(yf(E.height)?Fw(E.height,A||m.chartWidth):E.height);g||Ol(A)&&A!==m.chartWidth||Ol(L)&&L!==m.chartHeight?m.setSize(A,L,d):fi(o,!0)&&m.redraw(d),Ot(m,"afterUpdate",{options:n,redraw:o,animation:d})}setSubtitle(n,o){this.applyDescription("subtitle",n),this.layOutTitles(o)}setCaption(n,o){this.applyDescription("caption",n),this.layOutTitles(o)}showResetZoom(){let n=this,o=Ov.lang,l=n.zooming.resetButton,d=l.theme,u=l.relativeTo==="chart"||l.relativeTo==="spacingBox"?null:"plotBox";function p(){n.zoomOut()}Ot(this,"beforeShowResetZoom",null,function(){n.resetZoomButton=n.renderer.button(o.resetZoom,null,null,p,d).attr({align:l.position.align,title:o.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(l.position,!1,u)}),Ot(this,"afterShowResetZoom")}zoomOut(){Ot(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(n,o){let l=this,d=typeof o=="object"?o:{enabled:o,type:"x"},u=d.type,p=u&&l[{x:"xAxis",xy:"axes",y:"yAxis"}[u]].filter(m=>m.options.panningEnabled&&!m.options.isInternal),g=l.options.chart;g!=null&&g.panning&&(g.panning=d),Ot(this,"pan",{originalEvent:n},()=>{l.transform({axes:p,event:n,to:{x:n.chartX-(l.mouseDownX||0),y:n.chartY-(l.mouseDownY||0)},trigger:"pan"}),En(l.container,{cursor:"move"})})}transform(n){var L;let{axes:o=this.axes,event:l,from:d={},reset:u,selection:p,to:g={},trigger:m}=n,{inverted:y,time:_}=this;(L=this.hoverPoints)==null||L.forEach(F=>F.setState()),Ot(this,"transform",n);let w=n.hasZoomed||!1,E,A;for(let F of o){let{horiz:z,len:$,minPointOffset:G=0,options:X,reversed:ge}=F,de=z?"width":"height",fe=z?"x":"y",ye=fi(g[de],F.len),ve=fi(d[de],F.len),xe=10>Math.abs(ye)?1:ye/ve,Ae=(d[fe]||0)+ve/2-F.pos,je=Ae-((g[fe]??F.pos)+ye/2-F.pos)/xe,Fe=ge&&!y||!ge&&y?-1:1;if(!u&&(Ae<0||Ae>F.len))continue;let He=F.chart.polar||F.isOrdinal?0:G*Fe||0,it=F.toValue(je,!0),Qe=F.toValue(je+$/xe,!0),lt=it+He,Ke=Qe-He,ct=F.allExtremes;if(p&&p[F.coll].push({axis:F,min:Math.min(it,Qe),max:Math.max(it,Qe)}),lt>Ke&&([lt,Ke]=[Ke,lt]),xe===1&&!u&&F.coll==="yAxis"&&!ct){for(let Br of F.series){let Vt=Br.getExtremes(Br.getProcessedData(!0).modified.getColumn("y")||[],!0);ct??(ct={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Ol(Vt.dataMin)&&Ol(Vt.dataMax)&&(ct.dataMin=Math.min(Vt.dataMin,ct.dataMin),ct.dataMax=Math.max(Vt.dataMax,ct.dataMax))}F.allExtremes=ct}let{dataMin:wt,dataMax:At,min:Nt,max:Xr}=ho(F.getExtremes(),ct||{}),Ct=_.parse(X.min),It=_.parse(X.max),pt=wt??Ct,ht=At??It,ur=Ke-lt,Dt=F.categories?0:Math.min(ur,ht-pt),Ht=pt-Dt*(uo(Ct)?0:X.minPadding),Nr=ht+Dt*(uo(It)?0:X.maxPadding),Ss=F.allowZoomOutside||xe===1||m!=="zoom"&&xe>1,ln=Math.min(Ct??Ht,Ht,Ss?Nt:Ht),Yr=Math.max(It??Nr,Nr,Ss?Xr:Nr);(!F.isOrdinal||xe!==1||u)&&(lt<ln&&(lt=ln,xe>=1&&(Ke=lt+ur)),Ke>Yr&&(Ke=Yr,xe>=1&&(lt=Ke-ur)),(u||F.series.length&&(lt!==Nt||Ke!==Xr)&&lt>=ln&&Ke<=Yr)&&(p?p[F.coll].push({axis:F,min:lt,max:Ke}):(F.isPanning=m!=="zoom",F.isPanning&&(A=!0),F.setExtremes(u?void 0:lt,u?void 0:Ke,!1,!1,{move:je,trigger:m,scale:xe}),!u&&(lt>ln||Ke<Yr)&&m!=="mousewheel"&&(E=!0)),w=!0),this.hasCartesianSeries||u||m==="mousewheel"||(E=!0),l&&(this[z?"mouseDownX":"mouseDownY"]=l[z?"chartX":"chartY"]))}return w&&(p?Ot(this,"selection",p,()=>{delete n.selection,n.trigger="zoom",this.transform(n)}):(!E||A||this.resetZoomButton?!E&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(m==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),w}}ho(fo.prototype,{callbacks:[],collectionsWithInit:{xAxis:[fo.prototype.addAxis,[!0]],yAxis:[fo.prototype.addAxis,[!1]],series:[fo.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:kj}=Ar,{composed:Sj}=J,{addEvent:po,createElement:wf,css:Fv,defined:Wv,erase:_j,merge:Uw,pushUnique:Hw}=Ze;function Cj(){let b=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!b&&(this.scrollablePlotArea=b=new Md(this)),b==null||b.applyFixed()}function Gw(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class Md{static compose(n,o,l){Hw(Sj,this.compose)&&(po(n,"afterInit",Gw),po(o,"afterSetChartSize",d=>this.afterSetSize(d.target,d)),po(o,"render",Cj),po(l,"show",Gw))}static afterSetSize(n,o){let l,d,u,{minWidth:p,minHeight:g}=n.options.chart.scrollablePlotArea||{},{clipBox:m,plotBox:y,inverted:_,renderer:w}=n;if(!w.forExport)if(p?(n.scrollablePixelsX=l=Math.max(0,p-n.chartWidth),l&&(n.scrollablePlotBox=Uw(n.plotBox),y.width=n.plotWidth+=l,m[_?"height":"width"]+=l,u=!0)):g&&(n.scrollablePixelsY=d=Math.max(0,g-n.chartHeight),Wv(d)&&(n.scrollablePlotBox=Uw(n.plotBox),y.height=n.plotHeight+=d,m[_?"width":"height"]+=d,u=!1)),Wv(u)){if(!o.skipAxes)for(let E of n.axes)(E.horiz===u||n.hasParallelCoordinates&&E.coll==="yAxis")&&(E.setAxisSize(),E.setAxisTranslation())}else delete n.scrollablePlotBox}constructor(n){var A;let o,l=n.options.chart,d=Ki.getRendererType(),u=l.scrollablePlotArea||{},p=this.moveFixedElements.bind(this),g={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};n.scrollablePixelsX&&(g.overflowX="auto"),n.scrollablePixelsY&&(g.overflowY="auto"),this.chart=n;let m=this.parentDiv=wf("div",{className:"highcharts-scrolling-parent"},{position:"relative"},n.renderTo),y=this.scrollingContainer=wf("div",{className:"highcharts-scrolling"},g,m),_=this.innerContainer=wf("div",{className:"highcharts-inner-container"},void 0,y),w=this.fixedDiv=wf("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((A=l.style)==null?void 0:A.zIndex)||0)+2,top:0},void 0,!0),E=this.fixedRenderer=new d(w,n.chartWidth,n.chartHeight,l.style);this.mask=E.path().attr({fill:l.backgroundColor||"#fff","fill-opacity":u.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),y.parentNode.insertBefore(w,y),Fv(n.renderTo,{overflow:"visible"}),po(n,"afterShowResetZoom",p),po(n,"afterApplyDrilldown",p),po(n,"afterLayOutTitles",p),po(y,"scroll",()=>{let{pointer:L,hoverPoint:F}=n;L&&(delete L.chartPosition,F&&(o=F),L.runPointActions(void 0,o,!0))}),_.appendChild(n.container)}applyFixed(){var Ae;let{chart:n,fixedRenderer:o,isDirty:l,scrollingContainer:d}=this,{axisOffset:u,chartWidth:p,chartHeight:g,container:m,plotHeight:y,plotLeft:_,plotTop:w,plotWidth:E,scrollablePixelsX:A=0,scrollablePixelsY:L=0}=n,{scrollPositionX:F=0,scrollPositionY:z=0}=n.options.chart.scrollablePlotArea||{},$=p+A,G=g+L;o.setSize(p,g),(l??!0)&&(this.isDirty=!1,this.moveFixedElements()),kj(n.container),Fv(m,{width:`${$}px`,height:`${G}px`}),n.renderer.boxWrapper.attr({width:$,height:G,viewBox:[0,0,$,G].join(" ")}),(Ae=n.chartBackground)==null||Ae.attr({width:$,height:G}),Fv(d,{width:`${p}px`,height:`${g}px`}),Wv(l)||(d.scrollLeft=A*F,d.scrollTop=L*z);let X=w-u[0]-1,ge=_-u[3]-1,de=w+y+u[2]+1,fe=_+E+u[1]+1,ye=_+E-A,ve=w+y-L,xe=[["M",0,0]];A?xe=[["M",0,X],["L",_-1,X],["L",_-1,de],["L",0,de],["Z"],["M",ye,X],["L",p,X],["L",p,de],["L",ye,de],["Z"]]:L&&(xe=[["M",ge,0],["L",ge,w-1],["L",fe,w-1],["L",fe,0],["Z"],["M",ge,ve],["L",ge,g],["L",fe,g],["L",fe,ve],["Z"]]),n.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:xe})}moveFixedElements(){let n,{container:o,inverted:l,scrollablePixelsX:d,scrollablePixelsY:u}=this.chart,p=this.fixedRenderer,g=Md.fixedSelectors;if(d&&!l?n=".highcharts-yaxis":d&&l||u&&!l?n=".highcharts-xaxis":u&&l&&(n=".highcharts-yaxis"),n&&!(this.chart.hasParallelCoordinates&&n===".highcharts-yaxis"))for(let m of[`${n}:not(.highcharts-radial-axis)`,`${n}-labels:not(.highcharts-radial-axis-labels)`])Hw(g,m);else for(let m of[".highcharts-xaxis",".highcharts-yaxis"])for(let y of[`${m}:not(.highcharts-radial-axis)`,`${m}-labels:not(.highcharts-radial-axis-labels)`])_j(g,y);for(let m of g)[].forEach.call(o.querySelectorAll(m),y=>{(y.namespaceURI===p.SVG_NS?p.box:p.box.parentNode).appendChild(y),y.style.pointerEvents="auto"})}}Md.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Ej}=sr,{series:Tj}=or,{destroyObjectProperties:Aj,fireEvent:Vw,getAlignFactor:Uv,isNumber:Hv,pick:jd}=Ze,Xw=class{constructor(b,n,o,l,d){let u=b.chart.inverted,p=b.reversed;this.axis=b;let g=this.isNegative=!!o!=!!p;this.options=n=n||{},this.x=l,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=d,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:n.align||(u?g?"left":"right":"center"),verticalAlign:n.verticalAlign||(u?"middle":g?"bottom":"top"),y:n.y,x:n.x},this.textAlign=n.textAlign||(u?g?"right":"left":"center")}destroy(){Aj(this,this.axis)}render(b){let n=this.axis.chart,o=this.options,l=o.format,d=l?Ej(l,this,n):o.formatter.call(this);if(this.label)this.label.attr({text:d,visibility:"hidden"});else{this.label=n.renderer.label(d,null,void 0,o.shape,void 0,void 0,o.useHTML,!1,"stack-labels");let u={r:o.borderRadius||0,text:d,padding:jd(o.padding,5),visibility:"hidden"};n.styledMode||(u.fill=o.backgroundColor,u.stroke=o.borderColor,u["stroke-width"]=o.borderWidth,this.label.css(o.style||{})),this.label.attr(u),this.label.added||this.label.add(b)}this.label.labelrank=n.plotSizeY,Vw(this,"afterRender")}setOffset(b,n,o,l,d,u){let{alignOptions:p,axis:g,label:m,options:y,textAlign:_}=this,w=g.chart,E=this.getStackBox({xOffset:b,width:n,boxBottom:o,boxTop:l,defaultX:d,xAxis:u}),{verticalAlign:A}=p;if(m&&E){let L=m.getBBox(void 0,0),F=m.padding,z=jd(y.overflow,"justify")==="justify",$;p.x=y.x||0,p.y=y.y||0;let{x:G,y:X}=this.adjustStackPosition({labelBox:L,verticalAlign:A,textAlign:_});E.x-=G,E.y-=X,m.align(p,!1,E),($=w.isInsidePlot(m.alignAttr.x+p.x+G,m.alignAttr.y+p.y+X))||(z=!1),z&&Tj.prototype.justifyDataLabel.call(g,m,p,m.alignAttr,L,E),m.attr({x:m.alignAttr.x,y:m.alignAttr.y,rotation:y.rotation,rotationOriginX:L.width*Uv(y.textAlign||"center"),rotationOriginY:L.height/2}),jd(!z&&y.crop,!0)&&($=Hv(m.x)&&Hv(m.y)&&w.isInsidePlot(m.x-F+(m.width||0),m.y)&&w.isInsidePlot(m.x+F,m.y)),m[$?"show":"hide"]()}Vw(this,"afterSetOffset",{xOffset:b,width:n})}adjustStackPosition({labelBox:b,verticalAlign:n,textAlign:o}){return{x:b.width/2+b.width/2*(2*Uv(o)-1),y:b.height/2*2*(1-Uv(n))}}getStackBox(b){let n=this.axis,o=n.chart,{boxTop:l,defaultX:d,xOffset:u,width:p,boxBottom:g}=b,m=n.stacking.usePercentage?100:jd(l,this.total,0),y=n.toPixels(m),_=b.xAxis||o.xAxis[0],w=jd(d,_.translate(this.x))+u,E=Math.abs(y-n.toPixels(g||Hv(n.min)&&n.logarithmic&&n.logarithmic.lin2log(n.min)||0)),A=o.inverted,L=this.isNegative;return A?{x:(L?y:y-E)-o.plotLeft,y:_.height-w-p+_.top-o.plotTop,width:E,height:p}:{x:w+_.transB-o.plotLeft,y:(L?y-E:y)-o.plotTop,width:p,height:E}}},{getDeferredAnimation:Mj}=Ar,{series:{prototype:jj}}=or,{addEvent:Yw,correctFloat:Nd,defined:qw,destroyObjectProperties:Nj,fireEvent:Pj,isNumber:Gv,objectEach:ma,pick:Vv}=Ze;function Oj(){let b=this.inverted;this.axes.forEach(n=>{var o;(o=n.stacking)!=null&&o.stacks&&n.hasVisibleSeries&&(n.stacking.oldStacks=n.stacking.stacks)}),this.series.forEach(n=>{var l;let o=((l=n.xAxis)==null?void 0:l.options)||{};n.options.stacking&&n.reserveSpace()&&(n.stackKey=[n.type,Vv(n.options.stack,""),b?o.top:o.left,b?o.height:o.width].join(","))})}function Rj(){var n;let b=this.stacking;if(b){let o=b.stacks;ma(o,(l,d)=>{Nj(l),delete o[d]}),(n=b.stackTotalGroup)==null||n.destroy()}}function Lj(){this.stacking||(this.stacking=new Fj(this))}function Ij(b,n,o,l){return!qw(b)||b.x!==n||l&&b.stackKey!==l?b={x:n,index:0,key:l,stackKey:l}:b.index++,b.key=[o,n,b.index].join(","),b}function Dj(){let b,n=this,o=n.yAxis,l=n.stackKey||"",d=o.stacking.stacks,u=n.getColumn("x",!0),p=n.options.stacking,g=n[p+"Stacker"];g&&[l,"-"+l].forEach(m=>{var A;let y=u.length,_,w,E;for(;y--;)_=u[y],b=n.getStackIndicator(b,_,n.index,m),w=(A=d[m])==null?void 0:A[_],(E=w==null?void 0:w.points[b.key||""])&&g.call(n,E,w,y)})}function $j(b,n,o){let l=n.total?100/n.total:0;b[0]=Nd(b[0]*l),b[1]=Nd(b[1]*l),this.stackedYData[o]=b[1]}function Bj(b){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?jj.setStackedPoints.call(this,b,"group"):b.stacking.resetStacks())}function zj(b,n){var ve,xe;let o,l,d,u,p,g,m,y=n||this.options.stacking;if(!y||!this.reserveSpace()||({group:"xAxis"}[y]||"yAxis")!==b.coll)return;let _=this.getColumn("x",!0),w=this.getColumn(this.pointValKey||"y",!0),E=[],A=w.length,L=this.options,F=L.threshold||0,z=L.startFromThreshold?F:0,$=L.stack,G=n?`${this.type},${y}`:this.stackKey||"",X="-"+G,ge=this.negStacks,de=b.stacking,fe=de.stacks,ye=de.oldStacks;for(de.stacksTouched+=1,m=0;m<A;m++){let Ae=_[m]||0,je=w[m],Fe=Gv(je)&&je||0;g=(o=this.getStackIndicator(o,Ae,this.index)).key||"",fe[p=(l=ge&&Fe<(z?0:F))?X:G]||(fe[p]={}),fe[p][Ae]||((ve=ye[p])!=null&&ve[Ae]?(fe[p][Ae]=ye[p][Ae],fe[p][Ae].total=null):fe[p][Ae]=new Xw(b,b.options.stackLabels,!!l,Ae,$)),d=fe[p][Ae],je!==null?(d.points[g]=d.points[this.index]=[Vv(d.cumulative,z)],qw(d.cumulative)||(d.base=g),d.touched=de.stacksTouched,o.index>0&&this.singleStacks===!1&&(d.points[g][0]=d.points[this.index+","+Ae+",0"][0])):(delete d.points[g],delete d.points[this.index]);let He=d.total||0;y==="percent"?(u=l?G:X,He=ge&&((xe=fe[u])!=null&&xe[Ae])?(u=fe[u][Ae]).total=Math.max(u.total||0,He)+Math.abs(Fe):Nd(He+Math.abs(Fe))):y==="group"?Gv(je)&&He++:He=Nd(He+Fe),y==="group"?d.cumulative=(He||1)-1:d.cumulative=Nd(Vv(d.cumulative,z)+Fe),d.total=He,je!==null&&(d.points[g].push(d.cumulative),E[m]=d.cumulative,d.hasValidPoints=!0)}y==="percent"&&(de.usePercentage=!0),y!=="group"&&(this.stackedYData=E),de.oldStacks={}}class Fj{constructor(n){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=n}buildStacks(){let n,o,l=this.axis,d=l.series,u=l.coll==="xAxis",p=l.options.reversedStacks,g=d.length;for(this.resetStacks(),this.usePercentage=!1,o=g;o--;)n=d[p?o:g-o-1],u&&n.setGroupedPoints(l),n.setStackedPoints(l);if(!u)for(o=0;o<g;o++)d[o].modifyStacks();Pj(l,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,ma(this.stacks,n=>{ma(n,o=>{o.cumulative=o.total})}))}resetStacks(){ma(this.stacks,n=>{ma(n,(o,l)=>{Gv(o.touched)&&o.touched<this.stacksTouched?(o.destroy(),delete n[l]):(o.total=null,o.cumulative=null)})})}renderStackTotals(){var g;let n=this.axis,o=n.chart,l=o.renderer,d=this.stacks,u=Mj(o,((g=n.options.stackLabels)==null?void 0:g.animation)||!1),p=this.stackTotalGroup=this.stackTotalGroup||l.g("stack-labels").attr({zIndex:6,opacity:0}).add();p.translate(o.plotLeft,o.plotTop),ma(d,m=>{ma(m,y=>{y.render(p)})}),p.animate({opacity:1},u)}}(D||(D={})).compose=function(b,n,o){let l=n.prototype,d=o.prototype;l.getStacks||(Yw(b,"init",Lj),Yw(b,"destroy",Rj),l.getStacks=Oj,d.getStackIndicator=Ij,d.modifyStacks=Dj,d.percentStacker=$j,d.setGroupedPoints=Bj,d.setStackedPoints=zj)};let Wj=D,{defined:Uj,merge:Kw,isObject:Hj}=Ze;class Zw extends _i{drawGraph(){let n=this.options,o=(this.gappedPath||this.getGraphPath).call(this),l=this.chart.styledMode;[this,...this.zones].forEach((d,u)=>{let p,g=d.graph,m=g?"animate":"attr",y=d.dashStyle||n.dashStyle;g?(g.endX=this.preventGraphAnimation?null:o.xMap,g.animate({d:o})):o.length&&(d.graph=g=this.chart.renderer.path(o).addClass("highcharts-graph"+(u?` highcharts-zone-graph-${u-1} `:" ")+(u&&d.className||"")).attr({zIndex:1}).add(this.group)),g&&!l&&(p={stroke:!u&&n.lineColor||d.color||this.color||"#cccccc","stroke-width":n.lineWidth||0,fill:this.fillGraph&&this.color||"none"},y?p.dashstyle=y:n.linecap!=="square"&&(p["stroke-linecap"]=p["stroke-linejoin"]="round"),g[m](p).shadow(n.shadow&&Kw({filterUnits:"userSpaceOnUse"},Hj(n.shadow)?n.shadow:{}))),g&&(g.startX=o.xMap,g.isArea=o.isArea)})}getGraphPath(n,o,l){let d=this,u=d.options,p=[],g=[],m,y=u.step,_=(n=n||d.points).reversed;return _&&n.reverse(),(y={right:1,center:2}[y]||y&&3)&&_&&(y=4-y),(n=this.getValidPoints(n,!1,u.nullInteraction||!(u.connectNulls&&!o&&!l))).forEach(function(w,E){let A,L=w.plotX,F=w.plotY,z=n[E-1],$=w.isNull||typeof F!="number";(w.leftCliff||z!=null&&z.rightCliff)&&!l&&(m=!0),$&&!Uj(o)&&E>0?m=!u.connectNulls:$&&!o?m=!0:(E===0||m?A=[["M",w.plotX,w.plotY]]:d.getPointSpline?A=[d.getPointSpline(n,w,E)]:y?(A=y===1?[["L",z.plotX,F]]:y===2?[["L",(z.plotX+L)/2,z.plotY],["L",(z.plotX+L)/2,F]]:[["L",L,z.plotY]]).push(["L",L,F]):A=[["L",L,F]],g.push(w.x),y&&(g.push(w.x),y===2&&g.push(w.x)),p.push.apply(p,A),m=!1)}),p.xMap=g,d.graphPath=p,p}}Zw.defaultOptions=Kw(_i.defaultOptions,{legendSymbol:"lineMarker"}),or.registerSeriesType("line",Zw);let{seriesTypes:{line:Xv}}=or,{extend:Gj,merge:Vj,objectEach:Xj,pick:kf}=Ze;class Yv extends Xv{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:n,options:o}=this;[this,...this.zones].forEach((l,d)=>{let u={},p=l.fillColor||o.fillColor,g=l.area,m=g?"animate":"attr";g?(g.endX=this.preventGraphAnimation?null:n.xMap,g.animate({d:n})):(u.zIndex=0,(g=l.area=this.chart.renderer.path(n).addClass("highcharts-area"+(d?` highcharts-zone-area-${d-1} `:" ")+(d&&l.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(u.fill=p||l.color||this.color,u["fill-opacity"]=p?1:o.fillOpacity??.75,g.css({pointerEvents:this.stickyTracking?"none":"auto"})),g[m](u),g.startX=n.xMap,g.shiftUnit=o.step?2:1})}getGraphPath(n){let o,l,d,u=Xv.prototype.getGraphPath,p=this.options,g=p.stacking,m=this.yAxis,y=[],_=[],w=this.index,E=m.stacking.stacks[this.stackKey],A=p.threshold,L=Math.round(m.getThreshold(p.threshold)),F=kf(p.connectNulls,g==="percent"),z=function(fe,ye,ve){let xe=n[fe],Ae=g&&E[xe.x].points[w],je=xe[ve+"Null"]||0,Fe=xe[ve+"Cliff"]||0,He,it,Qe=!0;Fe||je?(He=(je?Ae[0]:Ae[1])+Fe,it=Ae[0]+Fe,Qe=!!je):!g&&n[ye]&&n[ye].isNull&&(He=it=A),He!==void 0&&(_.push({plotX:o,plotY:He===null?L:m.getThreshold(He),isNull:Qe,isCliff:!0}),y.push({plotX:o,plotY:it===null?L:m.getThreshold(it),doCurve:!1}))};n=n||this.points,g&&(n=this.getStackPoints(n));for(let fe=0,ye=n.length;fe<ye;++fe)g||(n[fe].leftCliff=n[fe].rightCliff=n[fe].leftNull=n[fe].rightNull=void 0),l=n[fe].isNull,o=kf(n[fe].rectPlotX,n[fe].plotX),d=g?kf(n[fe].yBottom,L):L,(!l||F)&&(F||z(fe,fe-1,"left"),l&&!g&&F||(_.push(n[fe]),y.push({x:fe,plotX:o,plotY:d})),F||z(fe,fe+1,"right"));let $=u.call(this,_,!0,!0);y.reversed=!0;let G=u.call(this,y,!0,!0),X=G[0];X&&X[0]==="M"&&(G[0]=["L",X[1],X[2]]);let ge=$.concat(G);ge.length&&ge.push(["Z"]);let de=u.call(this,_,!1,F);return this.chart.series.length>1&&g&&_.some(fe=>fe.isCliff)&&(ge.hasStackedCliffs=de.hasStackedCliffs=!0),ge.xMap=$.xMap,this.areaPath=ge,de}getStackPoints(n){let o=this,l=[],d=[],u=this.xAxis,p=this.yAxis,g=p.stacking.stacks[this.stackKey],m={},y=p.series,_=y.length,w=p.options.reversedStacks?1:-1,E=y.indexOf(o);if(n=n||this.points,this.options.stacking){for(let L=0;L<n.length;L++)n[L].leftNull=n[L].rightNull=void 0,m[n[L].x]=n[L];Xj(g,function(L,F){L.total!==null&&d.push(F)}),d.sort(function(L,F){return L-F});let A=y.map(L=>L.visible);d.forEach(function(L,F){let z=0,$,G;if(m[L]&&!m[L].isNull)l.push(m[L]),[-1,1].forEach(function(X){let ge=X===1?"rightNull":"leftNull",de=g[d[F+X]],fe=0;if(de){let ye=E;for(;ye>=0&&ye<_;){let ve=y[ye].index;!($=de.points[ve])&&(ve===o.index?m[L][ge]=!0:A[ye]&&(G=g[L].points[ve])&&(fe-=G[1]-G[0])),ye+=w}}m[L][X===1?"rightCliff":"leftCliff"]=fe});else{let X=E;for(;X>=0&&X<_;){let ge=y[X].index;if($=g[L].points[ge]){z=$[1];break}X+=w}z=kf(z,0),z=p.translate(z,0,1,0,1),l.push({isNull:!0,plotX:u.translate(L,0,0,0,1),x:L,plotY:z,yBottom:z})}})}return l}}Yv.defaultOptions=Vj(Xv.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),Gj(Yv.prototype,{singleStacks:!1}),or.registerSeriesType("area",Yv);let{line:Qw}=or.seriesTypes,{merge:Yj,pick:Sf}=Ze;class qv extends Qw{getPointSpline(n,o,l){let d,u,p,g,m=o.plotX||0,y=o.plotY||0,_=n[l-1],w=n[l+1];function E(L){return L&&!L.isNull&&L.doCurve!==!1&&!o.isCliff}if(E(_)&&E(w)){let L=_.plotX||0,F=_.plotY||0,z=w.plotX||0,$=w.plotY||0,G=0;d=(1.5*m+L)/2.5,u=(1.5*y+F)/2.5,p=(1.5*m+z)/2.5,g=(1.5*y+$)/2.5,p!==d&&(G=(g-u)*(p-m)/(p-d)+y-g),u+=G,g+=G,u>F&&u>y?(u=Math.max(F,y),g=2*y-u):u<F&&u<y&&(u=Math.min(F,y),g=2*y-u),g>$&&g>y?(g=Math.max($,y),u=2*y-g):g<$&&g<y&&(g=Math.min($,y),u=2*y-g),o.rightContX=p,o.rightContY=g,o.controlPoints={low:[d,u],high:[p,g]}}let A=["C",Sf(_.rightContX,_.plotX,0),Sf(_.rightContY,_.plotY,0),Sf(d,m,0),Sf(u,y,0),m,y];return _.rightContX=_.rightContY=void 0,A}}qv.defaultOptions=Yj(Qw.defaultOptions),or.registerSeriesType("spline",qv);let Jw=qv,{area:qj,area:{prototype:Kv}}=or.seriesTypes,{extend:Kj,merge:Zj}=Ze;class Zv extends Jw{}Zv.defaultOptions=Zj(Jw.defaultOptions,qj.defaultOptions),Kj(Zv.prototype,{getGraphPath:Kv.getGraphPath,getStackPoints:Kv.getStackPoints,drawGraph:Kv.drawGraph}),or.registerSeriesType("areaspline",Zv);let{animObject:Qj}=Ar,{parse:Jj}=Wt,{noop:eN}=J,{clamp:_f,crisp:Cf,defined:e1,extend:t1,fireEvent:r1,isArray:i1,isNumber:Ef,merge:Qv,pick:Pd,objectEach:tN}=Ze;class Tf extends _i{animate(n){let o,l,d=this,u=this.yAxis,p=u.pos,g=u.reversed,m=d.options,{clipOffset:y,inverted:_}=this.chart,w={},E=_?"translateX":"translateY";n&&y?(w.scaleY=.001,l=_f(u.toPixels(m.threshold||0),p,p+u.len),_?w.translateX=(l+=g?-Math.floor(y[0]):Math.ceil(y[2]))-u.len:w.translateY=l+=g?Math.ceil(y[0]):-Math.floor(y[2]),d.clipBox&&d.setClip(),d.group.attr(w)):(o=Number(d.group.attr(E)),d.group.animate({scaleY:1},t1(Qj(d.options.animation),{step:function(A,L){d.group&&(w[E]=o+L.pos*(p-o),d.group.attr(w))}})))}init(n,o){super.init.apply(this,arguments);let l=this;(n=l.chart).hasRendered&&n.series.forEach(function(d){d.type===l.type&&(d.isDirty=!0)})}getColumnMetrics(){var F,z;let n=this,o=n.options,l=n.xAxis,d=n.yAxis,u=l.options.reversedStacks,p=l.reversed&&!u||!l.reversed&&u,g={},m,y=0;o.grouping===!1?y=1:n.chart.series.forEach(function($){let G,X=$.yAxis,ge=$.options;$.type===n.type&&$.reserveSpace()&&d.len===X.len&&d.pos===X.pos&&(ge.stacking&&ge.stacking!=="group"?(g[m=$.stackKey]===void 0&&(g[m]=y++),G=g[m]):ge.grouping!==!1&&(G=y++),$.columnIndex=G)});let _=Math.min(Math.abs(l.transA)*(!((F=l.brokenAxis)!=null&&F.hasBreaks)&&((z=l.ordinal)==null?void 0:z.slope)||o.pointRange||l.closestPointRange||l.tickInterval||1),l.len),w=_*o.groupPadding,E=(_-2*w)/(y||1),A=Math.min(o.maxPointWidth||l.len,Pd(o.pointWidth,E*(1-2*o.pointPadding))),L=(n.columnIndex||0)+ +!!p;return n.columnMetrics={width:A,offset:(E-A)/2+(w+L*E-_/2)*(p?-1:1),paddedWidth:E,columnCount:y},n.columnMetrics}crispCol(n,o,l,d){let u=this.borderWidth,p=this.chart.inverted;return d=Cf(o+d,u,p)-(o=Cf(o,u,p)),this.options.crisp&&(l=Cf(n+l,u)-(n=Cf(n,u))),{x:n,y:o,width:l,height:d}}adjustForMissingColumns(n,o,l,d){var u;if(!l.isNull&&d.columnCount>1){let p=this.xAxis.series.filter(_=>_.visible).map(_=>_.index),g=0,m=0;tN((u=this.xAxis.stacking)==null?void 0:u.stacks,_=>{var L;let w=typeof l.x=="number"?(L=_[l.x.toString()])==null?void 0:L.points:void 0,E=w==null?void 0:w[this.index],A={};if(w&&i1(E)){let F=this.index,z=Object.keys(w).filter($=>!$.match(",")&&w[$]&&w[$].length>1).map(parseFloat).filter($=>p.indexOf($)!==-1).filter($=>{let G=this.chart.series[$].options,X=G.stacking&&G.stack;if(e1(X)){if(Ef(A[X]))return F===$&&(F=A[X]),!1;A[X]=$}return!0}).sort(($,G)=>G-$);g=z.indexOf(F),m=z.length}}),g=this.xAxis.reversed?m-1-g:g;let y=(m-1)*d.paddedWidth+o;n=(l.plotX||0)+y/2-o-g*d.paddedWidth}return n}translate(){let n=this,o=n.chart,l=n.options,d=n.dense=n.closestPointRange*n.xAxis.transA<2,u=n.borderWidth=Pd(l.borderWidth,+!d),p=n.xAxis,g=n.yAxis,m=l.threshold,y=Pd(l.minPointLength,5),_=n.getColumnMetrics(),w=_.width,E=n.pointXOffset=_.offset,A=n.dataMin,L=n.dataMax,F=n.translatedThreshold=g.getThreshold(m),z=n.barW=Math.max(w,1+2*u);l.pointPadding&&l.crisp&&(z=Math.ceil(z)),_i.prototype.translate.apply(n),n.points.forEach(function($){let G=Pd($.yBottom,F),X=999+Math.abs(G),ge=$.plotX||0,de=_f($.plotY,-X,g.len+X),fe,ye=Math.min(de,G),ve=Math.max(de,G)-ye,xe=w,Ae=ge+E,je=z;y&&Math.abs(ve)<y&&(ve=y,fe=!g.reversed&&!$.negative||g.reversed&&$.negative,Ef(m)&&Ef(L)&&$.y===m&&L<=m&&(g.min||0)<m&&(A!==L||(g.max||0)<=m)&&(fe=!fe,$.negative=!$.negative),ye=Math.abs(ye-F)>y?G-y:F-(fe?y:0)),e1($.options.pointWidth)&&(Ae-=Math.round(((xe=je=Math.ceil($.options.pointWidth))-w)/2)),l.centerInCategory&&(Ae=n.adjustForMissingColumns(Ae,xe,$,_)),$.barX=Ae,$.pointWidth=xe,$.tooltipPos=o.inverted?[_f(g.len+g.pos-o.plotLeft-de,g.pos-o.plotLeft,g.len+g.pos-o.plotLeft),p.len+p.pos-o.plotTop-Ae-je/2,ve]:[p.left-o.plotLeft+Ae+je/2,_f(de+g.pos-o.plotTop,g.pos-o.plotTop,g.len+g.pos-o.plotTop),ve],$.shapeType=n.pointClass.prototype.shapeType||"roundedRect",$.shapeArgs=n.crispCol(Ae,ye,je,$.isNull?0:ve)}),r1(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(n,o){let l=this.options,d=this.pointAttrToOptions||{},u=d.stroke||"borderColor",p=d["stroke-width"]||"borderWidth",g,m,y,_=n&&n.color||this.color,w=n&&n[u]||l[u]||_,E=n&&n.options.dashStyle||l.dashStyle,A=n&&n[p]||l[p]||this[p]||0,L=n!=null&&n.isNull&&l.nullInteraction?0:(n==null?void 0:n.opacity)??l.opacity??1;n&&this.zones.length&&(m=n.getZone(),_=n.options.color||m&&(m.color||n.nonZonedColor)||this.color,m&&(w=m.borderColor||w,E=m.dashStyle||E,A=m.borderWidth||A)),o&&n&&(y=(g=Qv(l.states[o],n.options.states&&n.options.states[o]||{})).brightness,_=g.color||y!==void 0&&Jj(_).brighten(g.brightness).get()||_,w=g[u]||w,A=g[p]||A,E=g.dashStyle||E,L=Pd(g.opacity,L));let F={fill:_,stroke:w,"stroke-width":A,opacity:L};return E&&(F.dashstyle=E),F}drawPoints(n=this.points){let o,l=this,d=this.chart,u=l.options,p=u.nullInteraction,g=d.renderer,m=u.animationLimit||250;n.forEach(function(y){let _=y.plotY,w=y.graphic,E=!!w,A=w&&d.pointCount<m?"animate":"attr";Ef(_)&&(y.y!==null||p)?(o=y.shapeArgs,w&&y.hasNewShapeType()&&(w=w.destroy()),l.enabledDataSorting&&(y.startXPos=l.xAxis.reversed?-(o&&o.width||0):l.xAxis.width),!w&&(y.graphic=w=g[y.shapeType](o).add(y.group||l.group),w&&l.enabledDataSorting&&d.hasRendered&&d.pointCount<m&&(w.attr({x:y.startXPos}),E=!0,A="animate")),w&&E&&w[A](Qv(o)),d.styledMode||w[A](l.pointAttribs(y,y.selected&&"select")).shadow(y.allowShadow!==!1&&u.shadow),w&&(w.addClass(y.getClassName(),!0),w.attr({visibility:y.visible?"inherit":"hidden"}))):w&&(y.graphic=w.destroy())})}drawTracker(n=this.points){let o,l=this,d=l.chart,u=d.pointer,p=function(g){u==null||u.normalize(g);let m=u==null?void 0:u.getPointFromEvent(g);u&&m&&l.options.enableMouseTracking&&(d.isInsidePlot(g.chartX-d.plotLeft,g.chartY-d.plotTop,{visiblePlotOnly:!0})||u!=null&&u.inClass(g.target,"highcharts-data-label"))&&(u.isDirectTouch=!0,m.onMouseOver(g))};n.forEach(function(g){o=i1(g.dataLabels)?g.dataLabels:g.dataLabel?[g.dataLabel]:[],g.graphic&&(g.graphic.element.point=g),o.forEach(function(m){(m.div||m.element).point=g})}),l._hasTracking||(l.trackerGroups.forEach(function(g){l[g]&&(l[g].addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(m){u==null||u.onTrackerMouseOut(m)}).on("touchstart",p),!d.styledMode&&l.options.cursor&&l[g].css({cursor:l.options.cursor}))}),l._hasTracking=!0),r1(this,"afterDrawTracker")}remove(){let n=this,o=n.chart;o.hasRendered&&o.series.forEach(function(l){l.type===n.type&&(l.isDirty=!0)}),_i.prototype.remove.apply(n,arguments)}}Tf.defaultOptions=Qv(_i.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),t1(Tf.prototype,{directTouch:!0,getSymbol:eN,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),or.registerSeriesType("column",Tf);let Af=Tf,{getDeferredAnimation:rN}=Ar,{format:iN}=sr,{defined:va,extend:n1,fireEvent:Jv,getAlignFactor:s1,isArray:go,isString:Od,merge:Rd,objectEach:nN,pick:Ld,pInt:sN,splat:o1}=Ze;(function(b){function n(){return m(this).some(_=>_==null?void 0:_.enabled)}function o(_,w,E,A,L){var Ae;let{chart:F,enabledDataSorting:z}=this,$=this.isCartesian&&F.inverted,G=_.plotX,X=_.plotY,ge=E.rotation||0,de=va(G)&&va(X)&&F.isInsidePlot(G,Math.round(X),{inverted:$,paneCoordinates:!0,series:this}),fe=ge===0&&Ld(E.overflow,z?"none":"justify")==="justify",ye=this.visible&&_.visible!==!1&&va(G)&&(_.series.forceDL||z&&!fe||de||Ld(E.inside,!!this.options.stacking)&&A&&F.isInsidePlot(G,$?A.x+1:A.y+A.height-1,{inverted:$,paneCoordinates:!0,series:this})),ve=_.pos();if(ye&&ve){var xe;let je=w.getBBox(),Fe=w.getBBox(void 0,0);if(A=n1({x:ve[0],y:Math.round(ve[1]),width:0,height:0},A||{}),E.alignTo==="plotEdges"&&this.isCartesian&&(A[$?"x":"y"]=0,A[$?"width":"height"]=((Ae=this.yAxis)==null?void 0:Ae.len)||0),n1(E,{width:je.width,height:je.height}),xe=A,z&&this.xAxis&&!fe&&this.setDataLabelStartPos(_,w,L,de,xe),w.align(Rd(E,{width:Fe.width,height:Fe.height}),!1,A,!1),w.alignAttr.x+=s1(E.align)*(Fe.width-je.width),w.alignAttr.y+=s1(E.verticalAlign)*(Fe.height-je.height),w[w.placed?"animate":"attr"]({"text-align":w.alignAttr["text-align"]||"center",x:w.alignAttr.x+(je.width-Fe.width)/2,y:w.alignAttr.y+(je.height-Fe.height)/2,rotationOriginX:(w.width||0)/2,rotationOriginY:(w.height||0)/2}),fe&&A.height>=0)this.justifyDataLabel(w,E,w.alignAttr,je,A,L);else if(Ld(E.crop,!0)){let{x:He,y:it}=w.alignAttr;ye=F.isInsidePlot(He,it,{paneCoordinates:!0,series:this})&&F.isInsidePlot(He+je.width-1,it+je.height-1,{paneCoordinates:!0,series:this})}E.shape&&!ge&&w[L?"attr":"animate"]({anchorX:ve[0],anchorY:ve[1]})}L&&z&&(w.placed=!1),ye||z&&!fe?(w.show(),w.placed=!0):(w.hide(),w.placed=!1)}function l(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function d(_){let w=this.hasRendered||0,E=this.initDataLabelsGroup().attr({opacity:+w});return!w&&E&&(this.visible&&E.show(),this.options.animation?E.animate({opacity:1},_):E.attr({opacity:1})),E}function u(_){var ye;let w;_=_||this.points;let E=this,A=E.chart,L=E.options,F=A.renderer,{backgroundColor:z,plotBackgroundColor:$}=A.options.chart,G=F.getContrast(Od($)&&$||Od(z)&&z||"#000000"),X=m(E),{animation:ge,defer:de}=X[0],fe=de?rN(A,ge,E):{defer:0,duration:0};Jv(this,"drawDataLabels"),(ye=E.hasDataLabels)!=null&&ye.call(E)&&(w=this.initDataLabels(fe),_.forEach(ve=>{var Fe,He,it;let xe=ve.dataLabels||[],Ae=ve.color||E.color;o1(g(X,ve.dlOptions||((Fe=ve.options)==null?void 0:Fe.dataLabels))).forEach((Qe,lt)=>{var Ht;let Ke=Qe.enabled&&(ve.visible||ve.dataLabelOnHidden)&&(!ve.isNull||ve.dataLabelOnNull)&&function(Nr,Ss){let ln=Ss.filter;if(ln){let Yr=ln.operator,Br=Nr[ln.property],Vt=ln.value;return Yr===">"&&Br>Vt||Yr==="<"&&Br<Vt||Yr===">="&&Br>=Vt||Yr==="<="&&Br<=Vt||Yr==="=="&&Br==Vt||Yr==="==="&&Br===Vt||Yr==="!="&&Br!=Vt||Yr==="!=="&&Br!==Vt||!1}return!0}(ve,Qe),{backgroundColor:ct,borderColor:wt,distance:At,style:Nt={}}=Qe,Xr,Ct,It,pt={},ht=xe[lt],ur=!ht,Dt;Ke&&(Ct=va(Xr=Ld(Qe[ve.formatPrefix+"Format"],Qe.format))?iN(Xr,ve,A):(Qe[ve.formatPrefix+"Formatter"]||Qe.formatter).call(ve,Qe),It=Qe.rotation,!A.styledMode&&(Nt.color=Ld(Qe.color,Nt.color,Od(E.color)?E.color:void 0,"#000000"),Nt.color==="contrast"?(ct!=="none"&&(Dt=ct),ve.contrastColor=F.getContrast(Dt!=="auto"&&Od(Dt)&&Dt||(Od(Ae)?Ae:"")),Nt.color=Dt||!va(At)&&Qe.inside||0>sN(At||0)||L.stacking?ve.contrastColor:G):delete ve.contrastColor,L.cursor&&(Nt.cursor=L.cursor)),pt={r:Qe.borderRadius||0,rotation:It,padding:Qe.padding,zIndex:1},A.styledMode||(pt.fill=ct==="auto"?ve.color:ct,pt.stroke=wt==="auto"?ve.color:wt,pt["stroke-width"]=Qe.borderWidth),nN(pt,(Nr,Ss)=>{Nr===void 0&&delete pt[Ss]})),!ht||Ke&&va(Ct)&&!!(ht.div||(Ht=ht.text)!=null&&Ht.foreignObject)==!!Qe.useHTML&&(ht.rotation&&Qe.rotation||ht.rotation===Qe.rotation)||(ht=void 0,ur=!0),Ke&&va(Ct)&&Ct!==""&&(ht?pt.text=Ct:(ht=F.label(Ct,0,0,Qe.shape,void 0,void 0,Qe.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+ve.colorIndex+" "+(Qe.className||"")+(Qe.useHTML?" highcharts-tracker":"")),ht&&(ht.options=Qe,ht.attr(pt),A.styledMode?Nt.width&&ht.css({width:Nt.width,textOverflow:Nt.textOverflow,whiteSpace:Nt.whiteSpace}):ht.css(Nt).shadow(Qe.shadow),Jv(ht,"beforeAddingDataLabel",{labelOptions:Qe,point:ve}),ht.added||ht.add(w),E.alignDataLabel(ve,ht,Qe,void 0,ur),ht.isActive=!0,xe[lt]&&xe[lt]!==ht&&xe[lt].destroy(),xe[lt]=ht))});let je=xe.length;for(;je--;)(He=xe[je])!=null&&He.isActive?xe[je].isActive=!1:((it=xe[je])==null||it.destroy(),xe.splice(je,1));ve.dataLabel=xe[0],ve.dataLabels=xe})),Jv(this,"afterDrawDataLabels")}function p(_,w,E,A,L,F){let z=this.chart,$=w.align,G=w.verticalAlign,X=_.box?0:_.padding||0,ge=z.inverted?this.yAxis:this.xAxis,de=ge?ge.left-z.plotLeft:0,fe=z.inverted?this.xAxis:this.yAxis,ye=fe?fe.top-z.plotTop:0,{x:ve=0,y:xe=0}=w,Ae,je;return(Ae=(E.x||0)+X+de)<0&&($==="right"&&ve>=0?(w.align="left",w.inside=!0):ve-=Ae,je=!0),(Ae=(E.x||0)+A.width-X+de)>z.plotWidth&&($==="left"&&ve<=0?(w.align="right",w.inside=!0):ve+=z.plotWidth-Ae,je=!0),(Ae=E.y+X+ye)<0&&(G==="bottom"&&xe>=0?(w.verticalAlign="top",w.inside=!0):xe-=Ae,je=!0),(Ae=(E.y||0)+A.height-X+ye)>z.plotHeight&&(G==="top"&&xe<=0?(w.verticalAlign="bottom",w.inside=!0):xe+=z.plotHeight-Ae,je=!0),je&&(w.x=ve,w.y=xe,_.placed=!F,_.align(w,void 0,L)),je}function g(_,w){let E=[],A;if(go(_)&&!go(w))E=_.map(function(L){return Rd(L,w)});else if(go(w)&&!go(_))E=w.map(function(L){return Rd(_,L)});else if(go(_)||go(w)){if(go(_)&&go(w))for(A=Math.max(_.length,w.length);A--;)E[A]=Rd(_[A],w[A])}else E=Rd(_,w);return E}function m(_){var E,A;let w=_.chart.options.plotOptions;return o1(g(g((E=w==null?void 0:w.series)==null?void 0:E.dataLabels,(A=w==null?void 0:w[_.type])==null?void 0:A.dataLabels),_.options.dataLabels))}function y(_,w,E,A,L){let F=this.chart,z=F.inverted,$=this.xAxis,G=$.reversed,X=((z?w.height:w.width)||0)/2,ge=_.pointWidth,de=ge?ge/2:0;w.startXPos=z?L.x:G?-X-de:$.width-X+de,w.startYPos=z?G?this.yAxis.height-X+de:-X-de:L.y,A?w.visibility==="hidden"&&(w.show(),w.attr({opacity:0}).animate({opacity:1})):w.attr({opacity:1}).animate({opacity:0},void 0,w.hide),F.hasRendered&&(E&&w.attr({x:w.startXPos,y:w.startYPos}),w.placed=!0)}b.compose=function(_){let w=_.prototype;w.initDataLabels||(w.initDataLabels=d,w.initDataLabelsGroup=l,w.alignDataLabel=o,w.drawDataLabels=u,w.justifyDataLabel=p,w.mergeArrays=g,w.setDataLabelStartPos=y,w.hasDataLabels=n)}})(R||(R={}));let Mf=R,{composed:oN}=J,{series:a1}=or,{merge:aN,pushUnique:lN}=Ze;(function(b){function n(o,l,d,u,p){var F,z;let{chart:g,options:m}=this,y=g.inverted,_=((F=this.xAxis)==null?void 0:F.len)||g.plotSizeX||0,w=((z=this.yAxis)==null?void 0:z.len)||g.plotSizeY||0,E=o.dlBox||o.shapeArgs,A=o.below??(o.plotY||0)>(this.translatedThreshold??w),L=d.inside??!!m.stacking;if(E){if(u=aN(E),d.overflow!=="allow"||d.crop!==!1||m.clip!==!1){u.y<0&&(u.height+=u.y,u.y=0);let $=u.y+u.height-w;$>0&&$<u.height-1&&(u.height-=$)}y&&(u={x:w-u.y-u.height,y:_-u.x-u.width,width:u.height,height:u.width}),L||(y?(u.x+=A?0:u.width,u.width=0):(u.y+=A?u.height:0,u.height=0))}d.align??(d.align=!y||L?"center":A?"right":"left"),d.verticalAlign??(d.verticalAlign=y||L?"middle":A?"top":"bottom"),a1.prototype.alignDataLabel.call(this,o,l,d,u,p),d.inside&&o.contrastColor&&l.css({color:o.contrastColor})}b.compose=function(o){Mf.compose(a1),lN(oN,"ColumnDataLabel")&&(o.prototype.alignDataLabel=n)}})(I||(I={}));let cN=I,{extend:dN,merge:uN}=Ze;class ex extends Af{}ex.defaultOptions=uN(Af.defaultOptions,{}),dN(ex.prototype,{inverted:!0}),or.registerSeriesType("bar",ex);let{column:hN,line:l1}=or.seriesTypes,{addEvent:fN,extend:pN,merge:gN}=Ze;class jf extends l1{applyJitter(){let n=this,o=this.options.jitter,l=this.points.length;o&&this.points.forEach(function(d,u){["x","y"].forEach(function(p,g){if(o[p]&&!d.isNull){let m=`plot${p.toUpperCase()}`,y=n[`${p}Axis`],_=o[p]*y.transA;if(y&&!y.logarithmic){let w=Math.max(0,(d[m]||0)-_),E=Math.min(y.len,(d[m]||0)+_);d[m]=w+(E-w)*function(A){let L=1e4*Math.sin(A);return L-Math.floor(L)}(u+g*l),p==="x"&&(d.clientX=d.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}jf.defaultOptions=gN(l1.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),pN(jf.prototype,{drawTracker:hN.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),fN(jf,"afterTranslate",function(){this.applyJitter()}),or.registerSeriesType("scatter",jf);let{deg2rad:c1}=J,{fireEvent:mN,isNumber:tx,pick:Nf,relativeLength:vN}=Ze;(function(b){b.getCenter=function(){let n=this.options,o=this.chart,l=2*(n.slicedOffset||0),d=o.plotWidth-2*l,u=o.plotHeight-2*l,p=n.center,g=Math.min(d,u),m=n.thickness,y,_=n.size,w=n.innerSize||0,E,A;typeof _=="string"&&(_=parseFloat(_)),typeof w=="string"&&(w=parseFloat(w));let L=[Nf(p==null?void 0:p[0],"50%"),Nf(p==null?void 0:p[1],"50%"),Nf(_&&_<0?void 0:n.size,"100%"),Nf(w&&w<0?void 0:n.innerSize||0,"0%")];for(!o.angular||this instanceof _i||(L[3]=0),E=0;E<4;++E)A=L[E],y=E<2||E===2&&/%$/.test(A),L[E]=vN(A,[d,u,g,L[2]][E])+(y?l:0);return L[3]>L[2]&&(L[3]=L[2]),tx(m)&&2*m<L[2]&&m>0&&(L[3]=L[2]-2*m),mN(this,"afterGetCenter",{positions:L}),L},b.getStartAndEndRadians=function(n,o){let l=tx(n)?n:0,d=tx(o)&&o>l&&o-l<360?o:l+360;return{start:c1*(l+-90),end:c1*(d+-90)}}})(j||(j={}));let d1=j,{setAnimation:xN}=Ar,{addEvent:u1,defined:yN,extend:bN,isNumber:wN,pick:kN,relativeLength:SN}=Ze;class h1 extends Z{getConnectorPath(n){let o=n.dataLabelPosition,l=n.options||{},d=l.connectorShape,u=this.connectorShapes[d]||d;return o&&u.call(this,{...o.computed,alignment:o.alignment},o.connectorPosition,l)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(n){let o=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(o.x,o.y,o.r+n,o.r+n,{innerR:o.r-1,start:o.start,end:o.end,borderRadius:o.borderRadius})}constructor(n,o,l){super(n,o,l),this.half=0,this.name??(this.name=n.chart.options.lang.pieSliceName);let d=u=>{this.slice(u.type==="select")};u1(this,"select",d),u1(this,"unselect",d)}isValid(){return wN(this.y)&&this.y>=0}setVisible(n,o=!0){n!==this.visible&&this.update({visible:n??!this.visible},o,void 0,!1)}slice(n,o,l){let d=this.series;xN(l,d.chart),o=kN(o,!0),this.sliced=this.options.sliced=n=yN(n)?n:!this.sliced,d.options.data[d.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}bN(h1.prototype,{connectorShapes:{fixedOffset:function(b,n,o){let l=n.breakAt,d=n.touchingSliceAt,u=o.softConnector?["C",b.x+(b.alignment==="left"?-5:5),b.y,2*l.x-d.x,2*l.y-d.y,l.x,l.y]:["L",l.x,l.y];return[["M",b.x,b.y],u,["L",d.x,d.y]]},straight:function(b,n){let o=n.touchingSliceAt;return[["M",b.x,b.y],["L",o.x,o.y]]},crookedLine:function(b,n,o){let{angle:l=this.angle||0,breakAt:d,touchingSliceAt:u}=n,{series:p}=this,[g,m,y]=p.center,_=y/2,{plotLeft:w,plotWidth:E}=p.chart,A=b.alignment==="left",{x:L,y:F}=b,z=d.x;if(o.crookDistance){let G=SN(o.crookDistance,1);z=A?g+_+(E+w-g-_)*(1-G):w+(g-_)*G}else z=g+(m-F)*Math.tan(l-Math.PI/2);let $=[["M",L,F]];return(A?z<=L&&z>=d.x:z>=L&&z<=d.x)&&$.push(["L",z,F]),$.push(["L",d.x,d.y],["L",u.x,u.y]),$}}});let{getStartAndEndRadians:_N}=d1,{noop:f1}=J,{clamp:CN,extend:EN,fireEvent:p1,merge:rx,pick:TN}=Ze;class ix extends _i{animate(n){let o=this,l=o.points,d=o.startAngleRad;n||l.forEach(function(u){let p=u.graphic,g=u.shapeArgs;p&&g&&(p.attr({r:TN(u.startR,o.center&&o.center[3]/2),start:d,end:d}),p.animate({r:g.r,start:g.start,end:g.end},o.options.animation))})}drawEmpty(){let n,o,l=this.startAngleRad,d=this.endAngleRad,u=this.options;this.total===0&&this.center?(n=this.center[0],o=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(n,o,this.center[1]/2,0,l,d).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Oh.arc(n,o,this.center[2]/2,0,{start:l,end:d,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":u.borderWidth,fill:u.fillColor||"none",stroke:u.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let n=this.chart.renderer;this.points.forEach(function(o){o.graphic&&o.hasNewShapeType()&&(o.graphic=o.graphic.destroy()),o.graphic||(o.graphic=n[o.shapeType](o.shapeArgs).add(o.series.group),o.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(n,o,l,d){let u=this.center,p=this.radii?this.radii[l.index]||0:u[2]/2,g=d.dataLabelPosition,m=(g==null?void 0:g.distance)||0,y=Math.asin(CN((n-u[1])/(p+m),-1,1));return u[0]+Math.cos(y)*(p+m)*(o?-1:1)+(m>0?(o?-1:1)*(d.padding||0):0)}hasData(){return this.points.some(n=>n.visible)}redrawPoints(){let n,o,l,d,u=this,p=u.chart;this.drawEmpty(),u.group&&!p.styledMode&&u.group.shadow(u.options.shadow),u.points.forEach(function(g){let m={};o=g.graphic,!g.isNull&&o?(d=g.shapeArgs,n=g.getTranslate(),p.styledMode||(l=u.pointAttribs(g,g.selected&&"select")),g.delayedRendering?(o.setRadialReference(u.center).attr(d).attr(n),p.styledMode||o.attr(l).attr({"stroke-linejoin":"round"}),g.delayedRendering=!1):(o.setRadialReference(u.center),p.styledMode||rx(!0,m,l),rx(!0,m,d,n),o.animate(m)),o.attr({visibility:g.visible?"inherit":"hidden"}),o.addClass(g.getClassName(),!0)):o&&(g.graphic=o.destroy())})}sortByAngle(n,o){n.sort(function(l,d){return l.angle!==void 0&&(d.angle-l.angle)*o})}translate(n){p1(this,"translate"),this.generatePoints();let o=this.options,l=o.slicedOffset,d=_N(o.startAngle,o.endAngle),u=this.startAngleRad=d.start,p=(this.endAngleRad=d.end)-u,g=this.points,m=o.ignoreHiddenPoint,y=g.length,_,w,E,A,L,F,z,$=0;for(n||(this.center=n=this.getCenter()),F=0;F<y;F++){z=g[F],_=u+$*p,z.isValid()&&(!m||z.visible)&&($+=z.percentage/100),w=u+$*p;let G={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:Math.round(1e3*_)/1e3,end:Math.round(1e3*w)/1e3};z.shapeType="arc",z.shapeArgs=G,(E=(w+_)/2)>1.5*Math.PI?E-=2*Math.PI:E<-Math.PI/2&&(E+=2*Math.PI),z.slicedTranslation={translateX:Math.round(Math.cos(E)*l),translateY:Math.round(Math.sin(E)*l)},A=Math.cos(E)*n[2]/2,L=Math.sin(E)*n[2]/2,z.tooltipPos=[n[0]+.7*A,n[1]+.7*L],z.half=+(E<-Math.PI/2||E>Math.PI/2),z.angle=E}p1(this,"afterTranslate")}updateTotals(){let n=this.points,o=n.length,l=this.options.ignoreHiddenPoint,d,u,p=0;for(d=0;d<o;d++)(u=n[d]).isValid()&&(!l||u.visible)&&(p+=u.y);for(d=0,this.total=p;d<o;d++)(u=n[d]).percentage=p>0&&(u.visible||!l)?u.y/p*100:0,u.total=p}}ix.defaultOptions=rx(_i.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),EN(ix.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:Af.prototype.drawTracker,getCenter:d1.getCenter,getSymbol:f1,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:Af.prototype.pointAttribs,pointClass:h1,requireSorting:!1,searchPoint:f1,trackerGroups:["group","dataLabelsGroup"]}),or.registerSeriesType("pie",ix);let{composed:AN,noop:MN}=J,{distribute:jN}=ps,{series:g1}=or,{arrayMax:NN,clamp:m1,defined:v1,isNumber:PN,pick:ON,pushUnique:RN,relativeLength:x1}=Ze;(function(b){let n={radialDistributionY:function(p,g){var m;return(((m=g.dataLabelPosition)==null?void 0:m.top)||0)+p.distributeBox.pos},radialDistributionX:function(p,g,m,y,_){let w=_.dataLabelPosition;return p.getX(m<((w==null?void 0:w.top)||0)+2||m>((w==null?void 0:w.bottom)||0)-2?y:m,g.half,g,_)},justify:function(p,g,m,y){var _;return y[0]+(p.half?-1:1)*(m+(((_=g.dataLabelPosition)==null?void 0:_.distance)||0))},alignToPlotEdges:function(p,g,m,y){let _=p.getBBox().width;return g?_+y:m-_-y},alignToConnectors:function(p,g,m,y){let _=0,w;return p.forEach(function(E){(w=E.dataLabel.getBBox().width)>_&&(_=w)}),g?_+y:m-_-y}};function o(p,g){let m=Math.PI/2,{start:y=0,end:_=0}=p.shapeArgs||{},w=p.angle||0;g>0&&y<m&&_>m&&w>m/2&&w<1.5*m&&(w=w<=m?Math.max(m/2,(y+m)/2):Math.min(1.5*m,(m+_)/2));let{center:E,options:A}=this,L=E[2]/2,F=Math.cos(w),z=Math.sin(w),$=E[0]+F*L,G=E[1]+z*L,X=Math.min((A.slicedOffset||0)+(A.borderWidth||0),g/5);return{natural:{x:$+F*g,y:G+z*g},computed:{},alignment:g<0?"center":p.half?"right":"left",connectorPosition:{angle:w,breakAt:{x:$+F*X,y:G+z*X},touchingSliceAt:{x:$,y:G}},distance:g}}function l(){var ye;let p=this,g=p.points,m=p.chart,y=m.plotWidth,_=m.plotHeight,w=m.plotLeft,E=Math.round(m.chartWidth/3),A=p.center,L=A[2]/2,F=A[1],z=[[],[]],$=[0,0,0,0],G=p.dataLabelPositioners,X,ge,de,fe=0;p.visible&&((ye=p.hasDataLabels)!=null&&ye.call(p))&&(g.forEach(ve=>{(ve.dataLabels||[]).forEach(xe=>{xe.shortened&&(xe.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),xe.shortened=!1)})}),g1.prototype.drawDataLabels.apply(p),g.forEach(ve=>{(ve.dataLabels||[]).forEach((xe,Ae)=>{var it;let je=A[2]/2,Fe=xe.options,He=x1((Fe==null?void 0:Fe.distance)||0,je);Ae===0&&z[ve.half].push(ve),!v1((it=Fe==null?void 0:Fe.style)==null?void 0:it.width)&&xe.getBBox().width>E&&(xe.css({width:Math.round(.7*E)+"px"}),xe.shortened=!0),xe.dataLabelPosition=this.getDataLabelPosition(ve,He),fe=Math.max(fe,He)})}),z.forEach((ve,xe)=>{let Ae=ve.length,je=[],Fe,He,it=0,Qe;Ae&&(p.sortByAngle(ve,xe-.5),fe>0&&(Fe=Math.max(0,F-L-fe),He=Math.min(F+L+fe,m.plotHeight),ve.forEach(lt=>{(lt.dataLabels||[]).forEach(Ke=>{var wt;let ct=Ke.dataLabelPosition;ct&&ct.distance>0&&(ct.top=Math.max(0,F-L-ct.distance),ct.bottom=Math.min(F+L+ct.distance,m.plotHeight),it=Ke.getBBox().height||21,Ke.lineHeight=m.renderer.fontMetrics(Ke.text||Ke).h+2*Ke.padding,lt.distributeBox={target:(((wt=Ke.dataLabelPosition)==null?void 0:wt.natural.y)||0)-ct.top+Ke.lineHeight/2,size:it,rank:lt.y},je.push(lt.distributeBox))})}),jN(je,Qe=He+it-Fe,Qe/5)),ve.forEach(lt=>{(lt.dataLabels||[]).forEach(Ke=>{let ct=Ke.options||{},wt=lt.distributeBox,At=Ke.dataLabelPosition,Nt=(At==null?void 0:At.natural.y)||0,Xr=ct.connectorPadding||0,Ct=Ke.lineHeight||21,It=(Ct-Ke.getBBox().height)/2,pt=0,ht=Nt,ur="inherit";if(At){if(je&&v1(wt)&&At.distance>0&&(wt.pos===void 0?ur="hidden":(de=wt.size,ht=G.radialDistributionY(lt,Ke))),ct.justify)pt=G.justify(lt,Ke,L,A);else switch(ct.alignTo){case"connectors":pt=G.alignToConnectors(ve,xe,y,w);break;case"plotEdges":pt=G.alignToPlotEdges(Ke,xe,y,w);break;default:pt=G.radialDistributionX(p,lt,ht-It,Nt,Ke)}if(At.attribs={visibility:ur,align:At.alignment},At.posAttribs={x:pt+(ct.x||0)+({left:Xr,right:-Xr}[At.alignment]||0),y:ht+(ct.y||0)-Ct/2},At.computed.x=pt,At.computed.y=ht-It,ON(ct.crop,!0)){let Dt;pt-(ge=Ke.getBBox().width)<Xr&&xe===1?(Dt=Math.round(ge-pt+Xr),$[3]=Math.max(Dt,$[3])):pt+ge>y-Xr&&xe===0&&(Dt=Math.round(pt+ge-y+Xr),$[1]=Math.max(Dt,$[1])),ht-de/2<0?$[0]=Math.max(Math.round(-ht+de/2),$[0]):ht+de/2>_&&($[2]=Math.max(Math.round(ht+de/2-_),$[2])),At.sideOverflow=Dt}}})}))}),(NN($)===0||this.verifyDataLabelOverflow($))&&(this.placeDataLabels(),this.points.forEach(ve=>{(ve.dataLabels||[]).forEach(xe=>{var He;let{connectorColor:Ae,connectorWidth:je=1}=xe.options||{},Fe=xe.dataLabelPosition;if(PN(je)){let it;X=xe.connector,Fe&&Fe.distance>0?(it=!X,X||(xe.connector=X=m.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ve.colorIndex+(ve.className?" "+ve.className:"")).add(p.dataLabelsGroup)),m.styledMode||X.attr({"stroke-width":je,stroke:Ae||ve.color||"#666666"}),X[it?"attr":"animate"]({d:ve.getConnectorPath(xe)}),X.attr({visibility:(He=Fe.attribs)==null?void 0:He.visibility})):X&&(xe.connector=X.destroy())}})})))}function d(){this.points.forEach(p=>{(p.dataLabels||[]).forEach(g=>{var y,_;let m=g.dataLabelPosition;m?(m.sideOverflow&&(g.css({width:Math.max(g.getBBox().width-m.sideOverflow,0)+"px",textOverflow:((_=(y=g.options)==null?void 0:y.style)==null?void 0:_.textOverflow)||"ellipsis"}),g.shortened=!0),g.attr(m.attribs),g[g.moved?"animate":"attr"](m.posAttribs),g.moved=!0):g&&g.attr({y:-9999})}),delete p.distributeBox},this)}function u(p){let g=this.center,m=this.options,y=m.center,_=m.minSize||80,w=_,E=m.size!==null;return!E&&(y[0]!==null?w=Math.max(g[2]-Math.max(p[1],p[3]),_):(w=Math.max(g[2]-p[1]-p[3],_),g[0]+=(p[3]-p[1])/2),y[1]!==null?w=m1(w,_,g[2]-Math.max(p[0],p[2])):(w=m1(w,_,g[2]-p[0]-p[2]),g[1]+=(p[0]-p[2])/2),w<g[2]?(g[2]=w,g[3]=Math.min(m.thickness?Math.max(0,w-2*m.thickness):Math.max(0,x1(m.innerSize||0,w)),w),this.translate(g),this.drawDataLabels&&this.drawDataLabels()):E=!0),E}b.compose=function(p){if(Mf.compose(g1),RN(AN,"PieDataLabel")){let g=p.prototype;g.dataLabelPositioners=n,g.alignDataLabel=MN,g.drawDataLabels=l,g.getDataLabelPosition=o,g.placeDataLabels=d,g.verifyDataLabelOverflow=u}}})(O||(O={}));let LN=O;(function(b){b.getCenterOfPoints=function(n){let o=n.reduce((l,d)=>(l.x+=d.x,l.y+=d.y,l),{x:0,y:0});return{x:o.x/n.length,y:o.y/n.length}},b.getDistanceBetweenPoints=function(n,o){return Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2))},b.getAngleBetweenPoints=function(n,o){return Math.atan2(o.x-n.x,o.y-n.y)},b.pointInPolygon=function({x:n,y:o},l){let d=l.length,u,p,g=!1;for(u=0,p=d-1;u<d;p=u++){let[m,y]=l[u],[_,w]=l[p];y>o!=w>o&&n<(_-m)*(o-y)/(w-y)+m&&(g=!g)}return g}})(q||(q={}));let{pointInPolygon:IN}=q,{addEvent:DN,getAlignFactor:$N,fireEvent:y1,objectEach:b1,pick:BN}=Ze;function zN(b){let n=b.length,o=(_,w)=>!(w.x>=_.x+_.width||w.x+w.width<=_.x||w.y>=_.y+_.height||w.y+w.height<=_.y),l=(_,w)=>{for(let E of _)if(IN({x:E[0],y:E[1]},w))return!0;return!1},d,u,p,g,m,y=!1;for(let _=0;_<n;_++)(d=b[_])&&(d.oldOpacity=d.opacity,d.newOpacity=1,d.absoluteBox=function(w){var E,A;if(w&&(!w.alignAttr||w.placed)){let L=w.box?0:w.padding||0,F=w.alignAttr||{x:w.attr("x"),y:w.attr("y")},{height:z,polygon:$,width:G}=w.getBBox(),X=$N(w.alignValue)*G;return w.width=G,w.height=z,{x:F.x+(((E=w.parentGroup)==null?void 0:E.translateX)||0)+L-X,y:F.y+(((A=w.parentGroup)==null?void 0:A.translateY)||0)+L,width:G-2*L,height:z-2*L,polygon:$}}}(d));b.sort((_,w)=>(w.labelrank||0)-(_.labelrank||0));for(let _=0;_<n;++_){g=(u=b[_])&&u.absoluteBox;let w=g==null?void 0:g.polygon;for(let E=_+1;E<n;++E){m=(p=b[E])&&p.absoluteBox;let A=!1;if(g&&m&&u!==p&&u.newOpacity!==0&&p.newOpacity!==0&&u.visibility!=="hidden"&&p.visibility!=="hidden"){let L=m.polygon;if(w&&L&&w!==L?l(w,L)&&(A=!0):o(g,m)&&(A=!0),A){let F=u.labelrank<p.labelrank?u:p,z=F.text;F.newOpacity=0,z!=null&&z.element.querySelector("textPath")&&z.hide()}}}}for(let _ of b)w1(_,this)&&(y=!0);y&&y1(this,"afterHideAllOverlappingLabels")}function w1(b,n){let o,l=!1;return b&&(o=b.newOpacity,b.oldOpacity!==o&&(b.hasClass("highcharts-data-label")?(b[o?"removeClass":"addClass"]("highcharts-data-label-hidden"),l=!0,b[b.isOld?"animate":"attr"]({opacity:o},void 0,function(){n.styledMode||b.css({pointerEvents:o?"auto":"none"})}),y1(n,"afterHideOverlappingLabel")):b.attr({opacity:o})),b.isOld=!0),l}function FN(){var o;let b=this,n=[];for(let l of b.labelCollectors||[])n=n.concat(l());for(let l of b.yAxis||[])l.stacking&&l.options.stackLabels&&!l.options.stackLabels.allowOverlap&&b1(l.stacking.stacks,d=>{b1(d,u=>{u.label&&n.push(u.label)})});for(let l of b.series||[])if(l.visible&&((o=l.hasDataLabels)!=null&&o.call(l))){let d=u=>{for(let p of u)p.visible&&(p.dataLabels||[]).forEach(g=>{var y;let m=g.options||{};g.labelrank=BN(m.labelrank,p.labelrank,(y=p.shapeArgs)==null?void 0:y.height),m.allowOverlap??Number(m.distance)>0?(g.oldOpacity=g.opacity,g.newOpacity=1,w1(g,b)):n.push(g)})};d(l.nodes||[]),d(l.points)}this.hideOverlappingLabels(n)}let k1={compose:function(b){let n=b.prototype;n.hideOverlappingLabels||(n.hideOverlappingLabels=zN,DN(b,"render",FN))}},{defaultOptions:WN}=Ri,{noop:S1}=J,{addEvent:_1,extend:UN,isObject:C1,merge:HN,relativeLength:nx}=Ze,GN={radius:0,scope:"stack",where:void 0},E1=S1,T1=S1;function VN(b,n,o,l,d={}){let u=E1(b,n,o,l,d),{brStart:p=!0,brEnd:g=!0,innerR:m=0,r:y=o,start:_=0,end:w=0}=d;if(d.open||!d.borderRadius)return u;let E=w-_,A=Math.sin(E/2),L=Math.max(Math.min(nx(d.borderRadius||0,y-m),(y-m)/2,y*A/(1+A)),0),F=Math.min(L,E/Math.PI*2*m),z=u.length-1;for(;z--;)(p||z!==0&&z!==3)&&(g||z!==1&&z!==2)&&function($,G,X){let ge,de,fe,ye=$[G],ve=$[G+1];if(ve[0]==="Z"&&(ve=$[0]),(ye[0]==="M"||ye[0]==="L")&&ve[0]==="A"?(ge=ye,de=ve,fe=!0):ye[0]==="A"&&(ve[0]==="M"||ve[0]==="L")&&(ge=ve,de=ye),ge&&de&&de.params){let xe=de[1],Ae=de[5],je=de.params,{start:Fe,end:He,cx:it,cy:Qe}=je,lt=Ae?xe-X:xe+X,Ke=lt?Math.asin(X/lt):0,ct=Ae?Ke:-Ke,wt=Math.cos(Ke)*lt;fe?(je.start=Fe+ct,ge[1]=it+wt*Math.cos(Fe),ge[2]=Qe+wt*Math.sin(Fe),$.splice(G+1,0,["A",X,X,0,0,1,it+xe*Math.cos(je.start),Qe+xe*Math.sin(je.start)])):(je.end=He-ct,de[6]=it+xe*Math.cos(je.end),de[7]=Qe+xe*Math.sin(je.end),$.splice(G+1,0,["A",X,X,0,0,1,it+wt*Math.cos(He),Qe+wt*Math.sin(He)])),de[4]=Math.abs(je.end-je.start)<Math.PI?0:1}}(u,z,z>1?F:L);return u}function XN(){var b,n;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:o,yAxis:l}=this,d=o.stacking==="percent",u=(n=(b=WN.plotOptions)==null?void 0:b[this.type])==null?void 0:n.borderRadius,p=sx(o.borderRadius,C1(u)?u:{}),g=l.options.reversed;for(let m of this.points){let{shapeArgs:y}=m;if(m.shapeType==="roundedRect"&&y){let{width:_=0,height:w=0,y:E=0}=y,A=E,L=w;if(p.scope==="stack"&&m.stackTotal){let G=l.translate(d?100:m.stackTotal,!1,!0,!1,!0),X=l.translate(o.threshold||0,!1,!0,!1,!0),ge=this.crispCol(0,Math.min(G,X),0,Math.abs(G-X));A=ge.y,L=ge.height}let F=(m.negative?-1:1)*(g?-1:1)==-1,z=p.where;!z&&this.is("waterfall")&&Math.abs((m.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(z="all"),z||(z="end");let $=Math.min(nx(p.radius,_),_/2,z==="all"?w/2:1/0)||0;z==="end"&&(F&&(A-=$),L+=$),UN(y,{brBoxHeight:L,brBoxY:A,r:$})}}}}function sx(b,n){return C1(b)||(b={radius:b||0}),HN(GN,n,b)}function YN(){let b=sx(this.options.borderRadius);for(let n of this.points){let o=n.shapeArgs;o&&(o.borderRadius=nx(b.radius,(o.r||0)-(o.innerR||0)))}}function qN(b,n,o,l,d={}){let u=T1(b,n,o,l,d),{r:p=0,brBoxHeight:g=l,brBoxY:m=n}=d,y=n-m,_=m+g-(n+l),w=y-p>-.1?0:p,E=_-p>-.1?0:p,A=Math.max(w&&y,0),L=Math.max(E&&_,0),F=[b+w,n],z=[b+o-w,n],$=[b+o,n+w],G=[b+o,n+l-E],X=[b+o-E,n+l],ge=[b+E,n+l],de=[b,n+l-E],fe=[b,n+w],ye=(ve,xe)=>Math.sqrt(Math.pow(ve,2)-Math.pow(xe,2));if(A){let ve=ye(w,w-A);F[0]-=ve,z[0]+=ve,$[1]=fe[1]=n+w-A}if(l<w-A){let ve=ye(w,w-A-l);$[0]=G[0]=b+o-w+ve,X[0]=Math.min($[0],X[0]),ge[0]=Math.max(G[0],ge[0]),de[0]=fe[0]=b+w-ve,$[1]=fe[1]=n+l}if(L){let ve=ye(E,E-L);X[0]+=ve,ge[0]-=ve,G[1]=de[1]=n+l-E+L}if(l<E-L){let ve=ye(E,E-L-l);$[0]=G[0]=b+o-E+ve,z[0]=Math.min($[0],z[0]),F[0]=Math.max(G[0],F[0]),de[0]=fe[0]=b+E-ve,G[1]=de[1]=n}return u.length=0,u.push(["M",...F],["L",...z],["A",w,w,0,0,1,...$],["L",...G],["A",E,E,0,0,1,...X],["L",...ge],["A",E,E,0,0,1,...de],["L",...fe],["A",w,w,0,0,1,...F],["Z"]),u}let{diffObjects:KN,extend:ZN,find:QN,merge:JN,pick:Pf,uniqueKey:eP}=Ze;(function(b){function n(l,d){let u=l.condition;(u.callback||function(){return this.chartWidth<=Pf(u.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Pf(u.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Pf(u.minWidth,0)&&this.chartHeight>=Pf(u.minHeight,0)}).call(this)&&d.push(l._id)}function o(l,d){let u=this.options.responsive,p=this.currentResponsive,g=[],m;!d&&u&&u.rules&&u.rules.forEach(w=>{w._id===void 0&&(w._id=eP()),this.matchResponsiveRule(w,g)},this);let y=JN(...g.map(w=>QN((u==null?void 0:u.rules)||[],E=>E._id===w)).map(w=>w==null?void 0:w.chartOptions));y.isResponsiveOptions=!0,g=g.toString()||void 0;let _=p==null?void 0:p.ruleIds;g!==_&&(p&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(p.undoOptions,l,!0),this.updatingResponsive=!1),g?((m=KN(y,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:g,mergedOptions:y,undoOptions:m},this.updatingResponsive||this.update(y,l,!0)):this.currentResponsive=void 0)}b.compose=function(l){let d=l.prototype;return d.matchResponsiveRule||ZN(d,{matchResponsiveRule:n,setResponsive:o}),l}})(ae||(ae={}));let tP=ae;J.AST=Ut,J.Axis=ws,J.Chart=fo,J.Color=Wt,J.DataLabel=Mf,J.DataTableCore=Si,J.Fx=Vr,J.HTMLElement=vs,J.Legend=Lw,J.LegendSymbol=Sn,J.OverlappingDataLabels=J.OverlappingDataLabels||k1,J.PlotLineOrBand=Al,J.Point=Z,J.Pointer=kr,J.RendererRegistry=Ki,J.Series=_i,J.SeriesRegistry=or,J.StackItem=Xw,J.SVGElement=tn,J.SVGRenderer=xl,J.Templating=sr,J.Tick=no,J.Time=Jc,J.Tooltip=pf,J.animate=Ar.animate,J.animObject=Ar.animObject,J.chart=fo.chart,J.color=Wt.parse,J.dateFormat=sr.dateFormat,J.defaultOptions=Ri.defaultOptions,J.distribute=ps.distribute,J.format=sr.format,J.getDeferredAnimation=Ar.getDeferredAnimation,J.getOptions=Ri.getOptions,J.numberFormat=sr.numberFormat,J.seriesType=or.seriesType,J.setAnimation=Ar.setAnimation,J.setOptions=Ri.setOptions,J.stop=Ar.stop,J.time=Ri.defaultTime,J.timers=Vr.timers,{compose:function(b,n,o){let l=b.types.pie;if(!n.symbolCustomAttribs.includes("borderRadius")){let d=o.prototype.symbols;_1(b,"afterColumnTranslate",XN,{order:9}),_1(l,"afterTranslate",YN),n.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),E1=d.arc,T1=d.roundedRect,d.arc=VN,d.roundedRect=qN}},optionsToObject:sx}.compose(J.Series,J.SVGElement,J.SVGRenderer),cN.compose(J.Series.types.column),Mf.compose(J.Series),ov.compose(J.Axis),vs.compose(J.SVGRenderer),Lw.compose(J.Chart),El.compose(J.Axis),k1.compose(J.Chart),LN.compose(J.Series.types.pie),Al.compose(J.Chart,J.Axis),kr.compose(J.Chart),tP.compose(J.Chart),Md.compose(J.Axis,J.Chart,J.Series),Wj.compose(J.Axis,J.Chart,J.Series),pf.compose(J.Pointer),Ze.extend(J,Ze);let rP=J;return le.default})())})(GA);var KF=GA.exports;const VA=Vo(KF);var XA={exports:{}};(function(e,t){(function(r,i){e.exports=i(r._Highcharts,r._Highcharts.Point,r._Highcharts.Axis,r._Highcharts.Color,r._Highcharts.SeriesRegistry,r._Highcharts.RendererRegistry,r._Highcharts.SVGRenderer,r._Highcharts.SVGElement,r._Highcharts.Templating,r._Highcharts.Chart,r._Highcharts.Series.types.column,r._Highcharts.Series,r._Highcharts.StackItem)})(typeof window>"u"?xi:window,(r,i,s,a,c,f,v,x,S,C,N,B,U)=>(()=>{let D,R,I,j;var O,q,ae,te,le,J,be,ke,Ie={28:K=>{K.exports=x},184:K=>{K.exports=U},260:K=>{K.exports=i},448:K=>{K.exports=N},512:K=>{K.exports=c},532:K=>{K.exports=s},540:K=>{K.exports=v},608:K=>{K.exports=f},620:K=>{K.exports=a},820:K=>{K.exports=B},944:K=>{K.exports=r},960:K=>{K.exports=C},984:K=>{K.exports=S}},he={};function _e(K){var k=he[K];if(k!==void 0)return k.exports;var M=he[K]={exports:{}};return Ie[K](M,M.exports,_e),M.exports}_e.n=K=>{var k=K&&K.__esModule?()=>K.default:()=>K;return _e.d(k,{a:k}),k},_e.d=(K,k)=>{for(var M in k)_e.o(k,M)&&!_e.o(K,M)&&Object.defineProperty(K,M,{enumerable:!0,get:k[M]})},_e.o=(K,k)=>Object.prototype.hasOwnProperty.call(K,k);var Oe={};_e.d(Oe,{default:()=>Ev});var Je=_e(944),ie=_e.n(Je),me=_e(260);let{tooltipFormatter:pe}=_e.n(me)().prototype,{addEvent:Te,arrayMax:$e,arrayMin:Ye,correctFloat:Se,defined:Ve,isArray:et,isNumber:tt,isString:Ee,pick:Pe}=ie();(function(K){function k(re,V,Q){!this.isXAxis&&(this.series.forEach(function(Z){re==="compare"&&typeof V!="boolean"?Z.setCompare(V,!1):re!=="cumulative"||Ee(V)||Z.setCumulative(V,!1)}),Pe(Q,!0)&&this.chart.redraw())}function M(re){let V=this,{numberFormatter:Q}=V.series.chart,Z=function(ce){re=re.replace("{point."+ce+"}",(V[ce]>0&&ce==="change"?"+":"")+Q(V[ce],Pe(V.series.tooltipOptions.changeDecimals,2)))};return Ve(V.change)&&Z("change"),Ve(V.cumulativeSum)&&Z("cumulativeSum"),pe.apply(this,[re])}function P(){let re,V=this.options.compare;(V==="percent"||V==="value"||this.options.cumulative)&&(re=new ee(this),V==="percent"||V==="value"?re.initCompare(V):re.initCumulative()),this.dataModify=re}function W(re){let V=re.dataExtremes,Q=V.activeYData;if(this.dataModify&&V){let Z;this.options.compare?Z=[this.dataModify.modifyValue(V.dataMin),this.dataModify.modifyValue(V.dataMax)]:this.options.cumulative&&et(Q)&&Q.length>=2&&(Z=ee.getCumulativeExtremes(Q)),Z&&(V.dataMin=Ye(Z),V.dataMax=$e(Z))}}function H(re,V){this.options.compare=this.userOptions.compare=re,this.update({},Pe(V,!0)),this.dataModify&&(re==="value"||re==="percent")?this.dataModify.initCompare(re):this.points.forEach(Q=>{delete Q.change})}function Y(){let re=this.getColumn(this.pointArrayMap&&(this.options.pointValKey||this.pointValKey)||"y",!0);if(this.xAxis&&re.length&&this.dataModify){let V=this.getColumn("x",!0),Q=this.dataTable.rowCount,Z=+(this.options.compareStart!==!0);for(let ce=0;ce<Q-Z;ce++){let ue=re[ce];if(tt(ue)&&ue!==0&&V[ce+Z]>=(this.xAxis.min||0)){this.dataModify.compareValue=ue;break}}}}function ne(re,V){this.setModifier("compare",re,V)}function se(re,V){re=Pe(re,!1),this.options.cumulative=this.userOptions.cumulative=re,this.update({},Pe(V,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(Q=>{delete Q.cumulativeSum})}function oe(re,V){this.setModifier("cumulative",re,V)}K.compose=function(re,V,Q){let Z=V.prototype,ce=Q.prototype,ue=re.prototype;return ue.setCompare||(ue.setCompare=H,ue.setCumulative=se,Te(re,"afterInit",P),Te(re,"afterGetExtremes",W),Te(re,"afterProcessData",Y)),Z.setCompare||(Z.setCompare=ne,Z.setModifier=k,Z.setCumulative=oe,ce.tooltipFormatter=M),re};class ee{constructor(V){this.series=V}modifyValue(){return 0}static getCumulativeExtremes(V){let Q=1/0,Z=-1/0;return V.reduce((ce,ue)=>{let we=ce+ue;return Q=Math.min(Q,we,ce),Z=Math.max(Z,we,ce),we}),[Q,Z]}initCompare(V){this.modifyValue=function(Q,Z){Q===null&&(Q=0);let ce=this.compareValue;if(Q!==void 0&&ce!==void 0){if(V==="value"?Q-=ce:Q=Q/ce*100-100*(this.series.options.compareBase!==100),Z!==void 0){let ue=this.series.points[Z];ue&&(ue.change=Q)}return Q}return 0}}initCumulative(){this.modifyValue=function(V,Q){if(V===null&&(V=0),V!==void 0&&Q!==void 0){let Z=Q>0?this.series.points[Q-1]:null;Z&&Z.cumulativeSum&&(V=Se(Z.cumulativeSum+V));let ce=this.series.points[Q],ue=ce.series.options.cumulativeStart,we=ce.x<=this.series.xAxis.max&&ce.x>=this.series.xAxis.min;return ce&&(!ue||we?ce.cumulativeSum=V:ce.cumulativeSum=void 0),V}return 0}}}K.Additions=ee})(O||(O={}));let ot=O;var ut=_e(532),vt=_e.n(ut);let{isTouchDevice:ft}=ie(),{addEvent:kt,merge:Ze,pick:Dr}=ie(),Ur=[];function Yi(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function ci(){var H;let K,k,M,P=this.legend,W=this.navigator;if(W){K=P&&P.options,k=W.xAxis,M=W.yAxis;let{scrollbarHeight:Y,scrollButtonSize:ne}=W;this.inverted?(W.left=W.opposite?this.chartWidth-Y-W.height:this.spacing[3]+Y,W.top=this.plotTop+ne):(W.left=Dr(k.left,this.plotLeft+ne),W.top=W.navigatorOptions.top||this.chartHeight-W.height-Y-(((H=this.scrollbar)==null?void 0:H.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(K&&K.verticalAlign==="bottom"&&K.layout!=="proximate"&&K.enabled&&!K.floating?P.legendHeight+Dr(K.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),k&&M&&(this.inverted?k.options.left=M.options.left=W.left:k.options.top=M.options.top=W.top,k.setAxisSize(),M.setAxisSize())}}function Hr(K){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new D(this),Dr(K.redraw,!0)&&this.redraw(K.animation))}function qi(){let K=this.options;(K.navigator.enabled||K.scrollbar.enabled)&&(this.scroller=this.navigator=new D(this))}function Kc(){let K=this.options,k=K.navigator,M=K.rangeSelector;if((k&&k.enabled||M&&M.enabled)&&(!ft&&this.zooming.type==="x"||ft&&this.zooming.pinchType==="x"))return!1}function ta(K){let k=K.navigator;if(k&&K.xAxis[0]){let M=K.xAxis[0].getExtremes();k.render(M.min,M.max)}}function om(K){let k=K.options.navigator||{},M=K.options.scrollbar||{};!this.navigator&&!this.scroller&&(k.enabled||M.enabled)&&(Ze(!0,this.options.navigator,k),Ze(!0,this.options.scrollbar,M),delete K.options.navigator,delete K.options.scrollbar)}let am={compose:function(K,k){if(ie().pushUnique(Ur,K)){let M=K.prototype;D=k,M.callbacks.push(ta),kt(K,"afterAddSeries",Yi),kt(K,"afterSetChartSize",ci),kt(K,"afterUpdate",Hr),kt(K,"beforeRender",qi),kt(K,"beforeShowResetZoom",Kc),kt(K,"update",om)}}},{isTouchDevice:Fn}=ie(),{addEvent:sh,correctFloat:il,defined:Zc,isNumber:oh,pick:ah}=ie();function lm(){this.navigatorAxis||(this.navigatorAxis=new Qc(this))}function lh(K){let k,M=this.chart,P=M.options,W=P.navigator,H=this.navigatorAxis,Y=M.zooming.pinchType,ne=P.rangeSelector,se=M.zooming.type;if(this.isXAxis&&(W!=null&&W.enabled||ne!=null&&ne.enabled)){if(se==="y"&&K.trigger==="zoom")k=!1;else if((K.trigger==="zoom"&&se==="xy"||Fn&&Y==="xy")&&this.options.range){let oe=H.previousZoom;Zc(K.min)?H.previousZoom=[this.min,this.max]:oe&&(K.min=oe[0],K.max=oe[1],H.previousZoom=void 0)}}k!==void 0&&K.preventDefault()}class Qc{static compose(k){k.keepProps.includes("navigatorAxis")||(k.keepProps.push("navigatorAxis"),sh(k,"init",lm),sh(k,"setExtremes",lh))}constructor(k){this.axis=k}destroy(){this.axis=void 0}toFixedRange(k,M,P,W){let H=this.axis,Y=(H.pointRange||0)/2,ne=ah(P,H.translate(k,!0,!H.horiz)),se=ah(W,H.translate(M,!0,!H.horiz));return Zc(P)||(ne=il(ne+Y)),Zc(W)||(se=il(se-Y)),oh(ne)&&oh(se)||(ne=se=void 0),{min:ne,max:se}}}var nr=_e(620),Jc=_e.n(nr),cm=_e(512),di=_e.n(cm);let{parse:dm}=Jc(),{seriesTypes:xn}=di(),ra={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:dm("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:xn.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{defined:Ri,isNumber:kw,pick:nl}=ie(),um={rect:function(K,k,M,P,W){return W!=null&&W.r?function(H,Y,ne,se,oe){let ee=(oe==null?void 0:oe.r)||0;return[["M",H+ee,Y],["L",H+ne-ee,Y],["A",ee,ee,0,0,1,H+ne,Y+ee],["L",H+ne,Y+se-ee],["A",ee,ee,0,0,1,H+ne-ee,Y+se],["L",H+ee,Y+se],["A",ee,ee,0,0,1,H,Y+se-ee],["L",H,Y+ee],["A",ee,ee,0,0,1,H+ee,Y],["Z"]]}(K,k,M,P,W):[["M",K,k],["L",K+M,k],["L",K+M,k+P],["L",K,k+P],["Z"]]}},{relativeLength:hm}=ie(),Gr={"navigator-handle":function(K,k,M,P,W={}){let H=W.width?W.width/2:M,Y=hm(W.borderRadius||0,Math.min(2*H,P));return[["M",-1.5,(P=W.height||P)/2-3.5],["L",-1.5,P/2+4.5],["M",.5,P/2-3.5],["L",.5,P/2+4.5],...um.rect(-H-1,.5,2*H+1,P,{r:Y})]}};var ch=_e(608),ed=_e.n(ch);let{defined:sl}=ie(),Wt={setFixedRange:function(K){let k=this.xAxis[0];sl(k.dataMax)&&sl(k.dataMin)&&K?this.fixedRange=Math.min(K,k.dataMax-k.dataMin):this.fixedRange=K}},{defaultOptions:dh}=ie(),{composed:fm}=ie(),{getRendererType:td}=ed(),{setFixedRange:pm}=Wt,{addEvent:Vr,extend:uh,pushUnique:gm}=ie();function mm(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let vm={compose:function(K,k,M){Qc.compose(k),gm(fm,"Navigator")&&(K.prototype.setFixedRange=pm,uh(td().prototype.symbols,Gr),uh(dh,{navigator:ra}),Vr(M,"afterUpdate",mm))}},{composed:rd}=ie(),{addEvent:ia,correctFloat:hh,defined:hs,pick:ol,pushUnique:fh}=ie();(function(K){let k;function M(Y){var oe,ee,re;let ne=ol((oe=Y.options)==null?void 0:oe.min,Y.min),se=ol((ee=Y.options)==null?void 0:ee.max,Y.max);return{axisMin:ne,axisMax:se,scrollMin:hs(Y.dataMin)?Math.min(ne,Y.min??1/0,Y.dataMin,Y.threshold??1/0):ne,scrollMax:((re=Y.treeGrid)==null?void 0:re.adjustedMax)??(hs(Y.dataMax)?Math.max(se,Y.max??-1/0,Y.dataMax,Y.threshold??-1/0):se)}}function P(){let Y=this.scrollbar,ne=Y&&!Y.options.opposite,se=this.horiz?2:ne?3:1;Y&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[se]+=Y.size+(Y.options.margin||0))}function W(){var ne,se;let Y=this;(se=(ne=Y.options)==null?void 0:ne.scrollbar)!=null&&se.enabled&&(Y.options.scrollbar.vertical=!Y.horiz,Y.options.startOnTick=Y.options.endOnTick=!1,Y.scrollbar=new k(Y.chart.renderer,Y.options.scrollbar,Y.chart),ia(Y.scrollbar,"changed",function(oe){let ee,re,{axisMin:V,axisMax:Q,scrollMin:Z,scrollMax:ce}=M(Y),ue=Y.toPixels(Z),we=Y.toPixels(ce)-ue;if(hs(V)&&hs(Q))if(Y.horiz&&!Y.reversed||!Y.horiz&&Y.reversed?(ee=Math.min(ce,Y.toValue(ue+we*this.to)),re=Math.max(Z,Y.toValue(ue+we*this.from))):(ee=Math.min(ce,Y.toValue(ue+we*(1-this.from))),re=Math.max(Z,Y.toValue(ue+we*(1-this.to)))),this.shouldUpdateExtremes(oe.DOMType)){let Ce=oe.DOMType!=="mousemove"&&oe.DOMType!=="touchmove"&&void 0;Y.setExtremes(hh(re),hh(ee),!0,Ce,oe)}else this.setRange(this.from,this.to)}))}function H(){let Y,ne,se,{scrollMin:oe,scrollMax:ee}=M(this),re=this.scrollbar,V=(this.axisTitleMargin||0)+(this.titleOffset||0),Q=this.chart.scrollbarsOffsets,Z=this.options.margin||0;if(re&&Q){if(this.horiz)this.opposite||(Q[1]+=V),re.position(this.left,this.top+this.height+2+Q[1]-(this.opposite?Z:0),this.width,this.height),this.opposite||(Q[1]+=Z),Y=1;else{let ce;this.opposite&&(Q[0]+=V),ce=re.options.opposite?this.left+this.width+2+Q[0]-(this.opposite?0:Z):this.opposite?0:Z,re.position(ce,this.top,this.width,this.height),this.opposite&&(Q[0]+=Z),Y=0}if(Q[Y]+=re.size+(re.options.margin||0),isNaN(oe)||isNaN(ee)||!hs(this.min)||!hs(this.max)||hs(this.dataMin)&&this.dataMin===this.dataMax)re.setRange(0,1);else if(this.min===this.max){let ce=this.pointRange/(this.dataMax+1);ne=ce*this.min,se=ce*(this.max+1),re.setRange(ne,se)}else ne=(this.toPixels(this.min)-this.toPixels(oe))/(this.toPixels(ee)-this.toPixels(oe)),se=(this.toPixels(this.max)-this.toPixels(oe))/(this.toPixels(ee)-this.toPixels(oe)),this.horiz&&!this.reversed||!this.horiz&&this.reversed?re.setRange(ne,se):re.setRange(1-se,1-ne)}}K.compose=function(Y,ne){fh(rd,"Axis.Scrollbar")&&(k=ne,ia(Y,"afterGetOffset",P),ia(Y,"afterInit",W),ia(Y,"afterRender",H))}})(q||(q={}));let Ar=q,na={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:ph}=ie(),{composed:xm}=ie(),{addEvent:ym,correctFloat:fs,crisp:sa,defined:gh,destroyObjectProperties:mh,extend:vh,fireEvent:oa,merge:al,pick:Wn,pushUnique:bm,removeEvent:Ut}=ie();class Un{static compose(k){Ar.compose(k,Un),bm(xm,"Scrollbar")&&vh(ph,{scrollbar:na})}static swapXY(k,M){return M&&k.forEach(P=>{let W,H=P.length;for(let Y=0;Y<H;Y+=2)typeof(W=P[Y+1])=="number"&&(P[Y+1]=P[Y+2],P[Y+2]=W)}),k}constructor(k,M,P){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(k,M,P)}addEvents(){let k=this.options.inverted?[1,0]:[0,1],M=this.scrollbarButtons,P=this.scrollbarGroup.element,W=this.track.element,H=this.mouseDownHandler.bind(this),Y=this.mouseMoveHandler.bind(this),ne=this.mouseUpHandler.bind(this),se=[[M[k[0]].element,"click",this.buttonToMinClick.bind(this)],[M[k[1]].element,"click",this.buttonToMaxClick.bind(this)],[W,"click",this.trackClick.bind(this)],[P,"mousedown",H],[P.ownerDocument,"mousemove",Y],[P.ownerDocument,"mouseup",ne],[P,"touchstart",H],[P.ownerDocument,"touchmove",Y],[P.ownerDocument,"touchend",ne]];se.forEach(function(oe){ym.apply(null,oe)}),this._events=se}buttonToMaxClick(k){let M=(this.to-this.from)*Wn(this.options.step,.2);this.updatePosition(this.from+M,this.to+M),oa(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}buttonToMinClick(k){let M=fs(this.to-this.from)*Wn(this.options.step,.2);this.updatePosition(fs(this.from-M),fs(this.to-M)),oa(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}cursorToScrollbarPosition(k){let M=this.options,P=M.minWidth>this.calculatedWidth?M.minWidth:0;return{chartX:(k.chartX-this.x-this.xOffset)/(this.barWidth-P),chartY:(k.chartY-this.y-this.yOffset)/(this.barWidth-P)}}destroy(){let k=this,M=k.chart.scroller;k.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(P){k[P]&&k[P].destroy&&(k[P]=k[P].destroy())}),M&&k===M.scrollbar&&(M.scrollbar=null,mh(M.scrollbarButtons))}drawScrollbarButton(k){let M=this.renderer,P=this.scrollbarButtons,W=this.options,H=this.size,Y=M.g().add(this.group);if(P.push(Y),W.buttonsEnabled){let ne=M.rect().addClass("highcharts-scrollbar-button").add(Y);this.chart.styledMode||ne.attr({stroke:W.buttonBorderColor,"stroke-width":W.buttonBorderWidth,fill:W.buttonBackgroundColor}),ne.attr(ne.crisp({x:-.5,y:-.5,width:H,height:H,r:W.buttonBorderRadius},ne.strokeWidth()));let se=M.path(Un.swapXY([["M",H/2+(k?-1:1),H/2-3],["L",H/2+(k?-1:1),H/2+3],["L",H/2+(k?2:-2),H/2]],W.vertical)).addClass("highcharts-scrollbar-arrow").add(P[k]);this.chart.styledMode||se.attr({fill:W.buttonArrowColor})}}init(k,M,P){this.scrollbarButtons=[],this.renderer=k,this.userOptions=M,this.options=al(na,ph.scrollbar,M),this.options.margin=Wn(this.options.margin,10),this.chart=P,this.size=Wn(this.options.size,this.options.height),M.enabled&&(this.render(),this.addEvents())}mouseDownHandler(k){var W;let M=((W=this.chart.pointer)==null?void 0:W.normalize(k))||k,P=this.cursorToScrollbarPosition(M);this.chartX=P.chartX,this.chartY=P.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(k){var Y;let M,P=((Y=this.chart.pointer)==null?void 0:Y.normalize(k))||k,W=this.options.vertical?"chartY":"chartX",H=this.initPositions||[];this.grabbedCenter&&(!k.touches||k.touches[0][W]!==0)&&(M=this.cursorToScrollbarPosition(P)[W]-this[W],this.hasDragged=!0,this.updatePosition(H[0]+M,H[1]+M),this.hasDragged&&oa(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:k.type,DOMEvent:k}))}mouseUpHandler(k){this.hasDragged&&oa(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:k.type,DOMEvent:k}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(k,M,P,W){let{buttonsEnabled:H,margin:Y=0,vertical:ne}=this.options,se=this.rendered?"animate":"attr",oe=W,ee=0;this.group.show(),this.x=k,this.y=M+this.trackBorderWidth,this.width=P,this.height=W,this.xOffset=oe,this.yOffset=ee,ne?(this.width=this.yOffset=P=ee=this.size,this.xOffset=oe=0,this.yOffset=ee=H?this.size:0,this.barWidth=W-(H?2*P:0),this.x=k+=Y):(this.height=W=this.size,this.xOffset=oe=H?this.size:0,this.barWidth=P-(H?2*W:0),this.y=this.y+Y),this.group[se]({translateX:k,translateY:this.y}),this.track[se]({width:P,height:W}),this.scrollbarButtons[1][se]({translateX:ne?0:P-oe,translateY:ne?W-ee:0})}removeEvents(){this._events.forEach(function(k){Ut.apply(null,k)}),this._events.length=0}render(){let k=this.renderer,M=this.options,P=this.size,W=this.chart.styledMode,H=k.g("scrollbar").attr({zIndex:M.zIndex}).hide().add();this.group=H,this.track=k.rect().addClass("highcharts-scrollbar-track").attr({r:M.trackBorderRadius||0,height:P,width:P}).add(H),W||this.track.attr({fill:M.trackBackgroundColor,stroke:M.trackBorderColor,"stroke-width":M.trackBorderWidth});let Y=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-sa(0,Y),y:-sa(0,Y)}),this.scrollbarGroup=k.g().add(H),this.scrollbar=k.rect().addClass("highcharts-scrollbar-thumb").attr({height:P-Y,width:P-Y,r:M.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=k.path(Un.swapXY([["M",-3,P/4],["L",-3,2*P/3],["M",0,P/4],["L",0,2*P/3],["M",3,P/4],["L",3,2*P/3]],M.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),W||(this.scrollbar.attr({fill:M.barBackgroundColor,stroke:M.barBorderColor,"stroke-width":M.barBorderWidth}),this.scrollbarRifles.attr({stroke:M.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-sa(0,this.scrollbarStrokeWidth),-sa(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(k,M){let P,W,H=this.options,Y=H.vertical,ne=H.minWidth,se=this.barWidth,oe=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!gh(se))return;let ee=se*Math.min(M,1);P=Math.ceil(se*(k=Math.max(k,0))),this.calculatedWidth=W=fs(ee-P),W<ne&&(P=(se-ne+W)*k,W=ne);let re=Math.floor(P+this.xOffset+this.yOffset),V=W/2-.5;this.from=k,this.to=M,Y?(this.scrollbarGroup[oe]({translateY:re}),this.scrollbar[oe]({height:W}),this.scrollbarRifles[oe]({translateY:V}),this.scrollbarTop=re,this.scrollbarLeft=0):(this.scrollbarGroup[oe]({translateX:re}),this.scrollbar[oe]({width:W}),this.scrollbarRifles[oe]({translateX:V}),this.scrollbarLeft=re,this.scrollbarTop=0),W<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),H.showFull===!1&&(k<=0&&M>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(k){return Wn(this.options.liveRedraw,ie().svg&&!ie().isTouchDevice&&!this.chart.boosted)||k==="mouseup"||k==="touchend"||!gh(k)}trackClick(k){var Y;let M=((Y=this.chart.pointer)==null?void 0:Y.normalize(k))||k,P=this.to-this.from,W=this.y+this.scrollbarTop,H=this.x+this.scrollbarLeft;this.options.vertical&&M.chartY>W||!this.options.vertical&&M.chartX>H?this.updatePosition(this.from+P,this.to+P):this.updatePosition(this.from-P,this.to-P),oa(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}update(k){this.destroy(),this.init(this.chart.renderer,al(!0,this.options,k),this.chart)}updatePosition(k,M){M>1&&(k=fs(1-fs(M-k)),M=1),k<0&&(M=fs(M-k),k=0),this.from=k,this.to=M}}Un.defaultOptions=na;var xh=_e(540),wm=_e.n(xh);let{defaultOptions:id}=ie(),{isTouchDevice:km}=ie(),{prototype:{symbols:yh}}=wm(),{addEvent:yr,clamp:bh,correctFloat:ll,defined:Gs,destroyObjectProperties:Sm,erase:yn,extend:wh,find:kh,fireEvent:Vs,isArray:nd,isNumber:sr,merge:Ki,pick:ui,removeEvent:cl,splat:Sh}=ie();function Xs(K,...k){let M=[].filter.call(k,sr);if(M.length)return Math[K].apply(0,M)}class ps{static compose(k,M,P){am.compose(k,ps),vm.compose(k,M,P)}constructor(k){this.isDirty=!1,this.scrollbarHeight=0,this.init(k)}drawHandle(k,M,P,W){let H=this.navigatorOptions.handles.height;this.handles[M][W](P?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(k,10)+.5-H)}:{translateX:Math.round(this.left+parseInt(k,10)),translateY:Math.round(this.top+this.height/2-H/2-1)})}drawOutline(k,M,P,W){let H=this.navigatorOptions.maskInside,Y=this.outline.strokeWidth(),ne=Y/2,se=Y%2/2,oe=this.scrollButtonSize,ee=this.size,re=this.top,V=this.height,Q=re-ne,Z=re+V,ce=this.left,ue,we;P?(ue=re+M+se,M=re+k+se,we=[["M",ce+V,re-oe-se],["L",ce+V,ue],["L",ce,ue],["M",ce,M],["L",ce+V,M],["L",ce+V,re+ee+oe]],H&&we.push(["M",ce+V,ue-ne],["L",ce+V,M+ne])):(ce-=oe,k+=ce+oe-se,M+=ce+oe-se,we=[["M",ce,Q],["L",k,Q],["L",k,Z],["M",M,Z],["L",M,Q],["L",ce+ee+2*oe,Q]],H&&we.push(["M",k-ne,Q],["L",M+ne,Q])),this.outline[W]({d:we})}drawMasks(k,M,P,W){let H,Y,ne,se,oe=this.left,ee=this.top,re=this.height;P?(ne=[oe,oe,oe],se=[ee,ee+k,ee+M],Y=[re,re,re],H=[k,M-k,this.size-M]):(ne=[oe,oe+k,oe+M],se=[ee,ee,ee],Y=[k,M-k,this.size-M],H=[re,re,re]),this.shades.forEach((V,Q)=>{V[W]({x:ne[Q],y:se[Q],width:Y[Q],height:H[Q]})})}renderElements(){var oe;let k=this,M=k.navigatorOptions,P=M.maskInside,W=k.chart,H=W.inverted,Y=W.renderer,ne={cursor:H?"ns-resize":"ew-resize"},se=k.navigatorGroup??(k.navigatorGroup=Y.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!P,P,!P].forEach((ee,re)=>{let V=k.shades[re]??(k.shades[re]=Y.rect().addClass("highcharts-navigator-mask"+(re===1?"-inside":"-outside")).add(se));W.styledMode||(V.attr({fill:ee?M.maskFill:"rgba(0,0,0,0)"}),re===1&&V.css(ne))}),k.outline||(k.outline=Y.path().addClass("highcharts-navigator-outline").add(se)),W.styledMode||k.outline.attr({"stroke-width":M.outlineWidth,stroke:M.outlineColor}),(oe=M.handles)==null?void 0:oe.enabled){let ee=M.handles,{height:re,width:V}=ee;[0,1].forEach(Q=>{var ce;let Z=ee.symbols[Q];if(k.handles[Q]&&k.handles[Q].symbolUrl===Z){if(!k.handles[Q].isImg&&k.handles[Q].symbolName!==Z){let ue=yh[Z].call(yh,-V/2-1,0,V,re);k.handles[Q].attr({d:ue}),k.handles[Q].symbolName=Z}}else(ce=k.handles[Q])==null||ce.destroy(),k.handles[Q]=Y.symbol(Z,-V/2-1,0,V,re,ee),k.handles[Q].attr({zIndex:7-Q}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][Q]).add(se),k.addMouseEvents();W.inverted&&k.handles[Q].attr({rotation:90,rotationOriginX:Math.floor(-V/2),rotationOriginY:(re+V)/2}),W.styledMode||k.handles[Q].attr({fill:ee.backgroundColor,stroke:ee.borderColor,"stroke-width":ee.lineWidth,width:ee.width,height:ee.height,x:-V/2-1,y:0}).css(ne)})}}update(k,M=!1){var H;let P=this.chart,W=P.options.chart.inverted!==((H=P.scrollbar)==null?void 0:H.options.vertical);if(Ki(!0,P.options.navigator,k),this.navigatorOptions=P.options.navigator||{},this.setOpposite(),Gs(k.enabled)||W)return this.destroy(),this.navigatorEnabled=k.enabled||this.navigatorEnabled,this.init(P);if(this.navigatorEnabled&&(this.isDirty=!0,k.adaptToUpdatedData===!1&&this.baseSeries.forEach(Y=>{cl(Y,"updatedData",this.updatedDataHandler)},this),k.adaptToUpdatedData&&this.baseSeries.forEach(Y=>{Y.eventsToUnbind.push(yr(Y,"updatedData",this.updatedDataHandler))},this),(k.series||k.baseSeries)&&this.setBaseSeries(void 0,!1),k.height||k.xAxis||k.yAxis)){this.height=k.height??this.height;let Y=this.getXAxisOffsets();this.xAxis.update({...k.xAxis,offsets:Y,[P.inverted?"width":"height"]:this.height,[P.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...k.yAxis,[P.inverted?"width":"height"]:this.height},!1)}M&&P.redraw()}render(k,M,P,W){let H=this.chart,Y=this.xAxis,ne=Y.pointRange||0,se=Y.navigatorAxis.fake?H.xAxis[0]:Y,oe=this.navigatorEnabled,ee=this.rendered,re=H.inverted,V=H.xAxis[0].minRange,Q=H.xAxis[0].options.maxRange,Z=this.scrollButtonSize,ce,ue,we,Ce=this.scrollbarHeight,ze,Me;if(this.hasDragged&&!Gs(P))return;if(this.isDirty&&this.renderElements(),k=ll(k-ne/2),M=ll(M+ne/2),!sr(k)||!sr(M))if(ee)P=0,W=ui(Y.width,se.width);else return;this.left=ui(Y.left,H.plotLeft+Z+(re?H.plotWidth:0));let Ne=this.size=ze=ui(Y.len,(re?H.plotHeight:H.plotWidth)-2*Z);ce=re?Ce:ze+2*Z,P=ui(P,Y.toPixels(k,!0)),W=ui(W,Y.toPixels(M,!0)),sr(P)&&Math.abs(P)!==1/0||(P=0,W=ce);let Re=Y.toValue(P,!0),De=Y.toValue(W,!0),We=Math.abs(ll(De-Re));We<V?this.grabbedLeft?P=Y.toPixels(De-V-ne,!0):this.grabbedRight&&(W=Y.toPixels(Re+V+ne,!0)):Gs(Q)&&ll(We-ne)>Q&&(this.grabbedLeft?P=Y.toPixels(De-Q-ne,!0):this.grabbedRight&&(W=Y.toPixels(Re+Q+ne,!0))),this.zoomedMax=bh(Math.max(P,W),0,Ne),this.zoomedMin=bh(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(P,W),0,Ne),this.range=this.zoomedMax-this.zoomedMin,Ne=Math.round(this.zoomedMax);let Be=Math.round(this.zoomedMin);oe&&(this.navigatorGroup.attr({visibility:"inherit"}),Me=ee&&!this.hasDragged?"animate":"attr",this.drawMasks(Be,Ne,re,Me),this.drawOutline(Be,Ne,re,Me),this.navigatorOptions.handles.enabled&&(this.drawHandle(Be,0,re,Me),this.drawHandle(Ne,1,re,Me))),this.scrollbar&&(re?(we=this.top-Z,ue=this.left-Ce+(oe||!se.opposite?0:(se.titleOffset||0)+se.axisTitleMargin),Ce=ze+2*Z):(we=this.top+(oe?this.height:-Ce),ue=this.left-Z),this.scrollbar.position(ue,we,ce,Ce),this.scrollbar.setRange(this.zoomedMin/(ze||1),this.zoomedMax/(ze||1))),this.rendered=!0,this.isDirty=!1,Vs(this,"afterRender")}addMouseEvents(){let k=this,M=k.chart,P=M.container,W=[],H,Y;k.mouseMoveHandler=H=function(ne){k.onMouseMove(ne)},k.mouseUpHandler=Y=function(ne){k.onMouseUp(ne)},(W=k.getPartsEvents("mousedown")).push(yr(M.renderTo,"mousemove",H),yr(P.ownerDocument,"mouseup",Y),yr(M.renderTo,"touchmove",H),yr(P.ownerDocument,"touchend",Y)),W.concat(k.getPartsEvents("touchstart")),k.eventsToUnbind=W,k.series&&k.series[0]&&W.push(yr(k.series[0].xAxis,"foundExtremes",function(){M.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(k){let M=this,P=[];return["shades","handles"].forEach(function(W){M[W].forEach(function(H,Y){P.push(yr(H.element,k,function(ne){M[W+"Mousedown"](ne,Y)}))})}),P}shadesMousedown(k,M){var Z;k=((Z=this.chart.pointer)==null?void 0:Z.normalize(k))||k;let P=this.chart,W=this.xAxis,H=this.zoomedMin,Y=this.size,ne=this.range,se=this.left,oe=k.chartX,ee,re,V,Q;P.inverted&&(oe=k.chartY,se=this.top),M===1?(this.grabbedCenter=oe,this.fixedWidth=ne,this.dragOffset=oe-H):(Q=oe-se-ne/2,M===0?Q=Math.max(0,Q):M===2&&Q+ne>=Y&&(Q=Y-ne,this.reversedExtremes?(Q-=ne,re=this.getUnionExtremes().dataMin):ee=this.getUnionExtremes().dataMax),Q!==H&&(this.fixedWidth=ne,Gs((V=W.navigatorAxis.toFixedRange(Q,Q+ne,re,ee)).min)&&Vs(this,"setRange",{min:Math.min(V.min,V.max),max:Math.max(V.min,V.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(k,M){var Y;k=((Y=this.chart.pointer)==null?void 0:Y.normalize(k))||k;let P=this.chart,W=P.xAxis[0],H=this.reversedExtremes;M===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=H?W.min:W.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=H?W.max:W.min),P.setFixedRange(void 0)}onMouseMove(k){var ee;let M=this,P=M.chart,W=M.navigatorSize,H=M.range,Y=M.dragOffset,ne=P.inverted,se=M.left,oe;(!k.touches||k.touches[0].pageX!==0)&&(oe=(k=((ee=P.pointer)==null?void 0:ee.normalize(k))||k).chartX,ne&&(se=M.top,oe=k.chartY),M.grabbedLeft?(M.hasDragged=!0,M.render(0,0,oe-se,M.otherHandlePos)):M.grabbedRight?(M.hasDragged=!0,M.render(0,0,M.otherHandlePos,oe-se)):M.grabbedCenter&&(M.hasDragged=!0,oe<Y?oe=Y:oe>W+Y-H&&(oe=W+Y-H),M.render(0,0,oe-Y,oe-Y+H)),M.hasDragged&&M.scrollbar&&ui(M.scrollbar.options.liveRedraw,!km&&!this.chart.boosted)&&(k.DOMType=k.type,setTimeout(function(){M.onMouseUp(k)},0)))}onMouseUp(k){let M,P,W,H,Y,ne,se=this.chart,oe=this.xAxis,ee=this.scrollbar,re=k.DOMEvent||k,V=se.inverted,Q=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!ee||!ee.hasDragged)||k.trigger==="scrollbar")&&(W=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?H=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(Y=this.fixedExtreme),this.zoomedMax===this.size&&(Y=this.reversedExtremes?W.dataMin:W.dataMax),this.zoomedMin===0&&(H=this.reversedExtremes?W.dataMax:W.dataMin),Gs((ne=oe.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,H,Y)).min)&&Vs(this,"setRange",{min:Math.min(ne.min,ne.max),max:Math.max(ne.min,ne.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:re}})),k.DOMType!=="mousemove"&&k.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&sr(this.zoomedMin)&&sr(this.zoomedMax)&&(P=Math.round(this.zoomedMin),M=Math.round(this.zoomedMax),this.shades&&this.drawMasks(P,M,V,Q),this.outline&&this.drawOutline(P,M,V,Q),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(P,0,V,Q),this.drawHandle(M,1,V,Q)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(k){k()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let k=this.baseSeries||[];this.navigatorEnabled&&k[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&k.forEach(function(M){cl(M,"updatedData",this.updatedDataHandler)},this),k[0].xAxis&&cl(k[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(k){var ce,ue;let M=k.options,P=M.navigator||{},W=P.enabled,H=M.scrollbar||{},Y=H.enabled,ne=W&&P.height||0,se=Y&&H.height||0,oe=H.buttonsEnabled&&se||0;this.handles=[],this.shades=[],this.chart=k,this.setBaseSeries(),this.height=ne,this.scrollbarHeight=se,this.scrollButtonSize=oe,this.scrollbarEnabled=Y,this.navigatorEnabled=W,this.navigatorOptions=P,this.scrollbarOptions=H,this.setOpposite();let ee=this,re=ee.baseSeries,V=k.xAxis.length,Q=k.yAxis.length,Z=re&&re[0]&&re[0].xAxis||k.xAxis[0]||{options:{}};if(k.isDirtyBox=!0,ee.navigatorEnabled){let we=this.getXAxisOffsets();ee.xAxis=new(vt())(k,Ki({breaks:Z.options.breaks,ordinal:Z.options.ordinal,overscroll:Z.options.overscroll},P.xAxis,{type:"datetime",yAxis:(ce=P.yAxis)==null?void 0:ce.id,index:V,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:Z.options.ordinal?0:Z.options.minPadding,maxPadding:Z.options.ordinal?0:Z.options.maxPadding,zoomEnabled:!1},k.inverted?{offsets:we,width:ne}:{offsets:we,height:ne}),"xAxis"),ee.yAxis=new(vt())(k,Ki(P.yAxis,{alignTicks:!1,offset:0,index:Q,isInternal:!0,reversed:ui(P.yAxis&&P.yAxis.reversed,k.yAxis[0]&&k.yAxis[0].reversed,!1),zoomEnabled:!1},k.inverted?{width:ne}:{height:ne}),"yAxis"),re||P.series.data?ee.updateNavigatorSeries(!1):k.series.length===0&&(ee.unbindRedraw=yr(k,"beforeRedraw",function(){k.series.length>0&&!ee.series&&(ee.setBaseSeries(),ee.unbindRedraw())})),ee.reversedExtremes=k.inverted&&!ee.xAxis.reversed||!k.inverted&&ee.xAxis.reversed,ee.renderElements(),ee.addMouseEvents()}else ee.xAxis={chart:k,navigatorAxis:{fake:!0},translate:function(we,Ce){let ze=k.xAxis[0],Me=ze.getExtremes(),Ne=ze.len-2*oe,Re=Xs("min",ze.options.min,Me.dataMin),De=Xs("max",ze.options.max,Me.dataMax)-Re;return Ce?we*De/Ne+Re:Ne*(we-Re)/De},toPixels:function(we){return this.translate(we)},toValue:function(we){return this.translate(we,!0)}},ee.xAxis.navigatorAxis.axis=ee.xAxis,ee.xAxis.navigatorAxis.toFixedRange=Qc.prototype.toFixedRange.bind(ee.xAxis.navigatorAxis);if((ue=k.options.scrollbar)!=null&&ue.enabled){let we=Ki(k.options.scrollbar,{vertical:k.inverted});sr(we.margin)||(we.margin=k.inverted?-3:3),k.scrollbar=ee.scrollbar=new Un(k.renderer,we,k),yr(ee.scrollbar,"changed",function(Ce){let ze=ee.size,Me=ze*this.to,Ne=ze*this.from;ee.hasDragged=ee.scrollbar.hasDragged,ee.render(0,0,Ne,Me),this.shouldUpdateExtremes(Ce.DOMType)&&setTimeout(function(){ee.onMouseUp(Ce)})})}ee.addBaseSeriesEvents(),ee.addChartEvents()}setOpposite(){let k=this.navigatorOptions,M=this.navigatorEnabled,P=this.chart;this.opposite=ui(k.opposite,!!(!M&&P.inverted))}getUnionExtremes(k){let M,P=this.chart.xAxis[0],W=this.chart.time,H=this.xAxis,Y=H.options,ne=P.options;return k&&P.dataMin===null||(M={dataMin:ui(W.parse(Y==null?void 0:Y.min),Xs("min",W.parse(ne.min),P.dataMin,H.dataMin,H.min)),dataMax:ui(W.parse(Y==null?void 0:Y.max),Xs("max",W.parse(ne.max),P.dataMax,H.dataMax,H.max))}),M}setBaseSeries(k,M){let P=this.chart,W=this.baseSeries=[];k=k||P.options&&P.options.navigator.baseSeries||(P.series.length?kh(P.series,H=>!H.options.isInternal).index:0),(P.series||[]).forEach((H,Y)=>{!H.options.isInternal&&(H.options.showInNavigator||(Y===k||H.options.id===k)&&H.options.showInNavigator!==!1)&&W.push(H)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,M)}updateNavigatorSeries(k,M){var V,Q;let P=this,W=P.chart,H=P.baseSeries,Y={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:(V=this.navigatorOptions.xAxis)==null?void 0:V.id,yAxis:(Q=this.navigatorOptions.yAxis)==null?void 0:Q.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},ne=P.series=(P.series||[]).filter(Z=>{let ce=Z.baseSeries;return!(0>H.indexOf(ce))||(ce&&(cl(ce,"updatedData",P.updatedDataHandler),delete ce.navigatorSeries),Z.chart&&Z.destroy(),!1)}),se,oe,ee=P.navigatorOptions.series,re;H&&H.length&&H.forEach(Z=>{var Ce;let ce=Z.navigatorSeries,ue=wh({color:Z.color,visible:Z.visible},nd(ee)?id.navigator.series:ee);if(ce&&P.navigatorOptions.adaptToUpdatedData===!1)return;Y.name="Navigator "+H.length,re=(se=Z.options||{}).navigatorOptions||{},ue.dataLabels=Sh(ue.dataLabels),(oe=Ki(se,Y,ue,re)).pointRange=ui(ue.pointRange,re.pointRange,id.plotOptions[oe.type||"line"].pointRange);let we=re.data||ue.data;P.hasNavigatorData=P.hasNavigatorData||!!we,oe.data=we||((Ce=se.data)==null?void 0:Ce.slice(0)),ce&&ce.options?ce.update(oe,M):(Z.navigatorSeries=W.initSeries(oe),W.setSortedData(),Z.navigatorSeries.baseSeries=Z,ne.push(Z.navigatorSeries))}),(ee.data&&!(H&&H.length)||nd(ee))&&(P.hasNavigatorData=!1,(ee=Sh(ee)).forEach((Z,ce)=>{Y.name="Navigator "+(ne.length+1),(oe=Ki(id.navigator.series,{color:W.series[ce]&&!W.series[ce].options.isInternal&&W.series[ce].color||W.options.colors[ce]||W.options.colors[0]},Y,Z)).data=Z.data,oe.data&&(P.hasNavigatorData=!0,ne.push(W.initSeries(oe)))})),k&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let k=this,M=k.baseSeries||[];M[0]&&M[0].xAxis&&M[0].eventsToUnbind.push(yr(M[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),M.forEach(P=>{P.eventsToUnbind.push(yr(P,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),P.eventsToUnbind.push(yr(P,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&P.xAxis&&P.eventsToUnbind.push(yr(P,"updatedData",this.updatedDataHandler)),P.eventsToUnbind.push(yr(P,"remove",function(){M&&yn(M,P),this.navigatorSeries&&k.series&&(yn(k.series,this.navigatorSeries),Gs(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(k){return this.baseSeries.reduce(function(M,P){return Math.min(M,P.getColumn("x")[0]??M)},k)}modifyNavigatorAxisExtremes(){let k=this.xAxis;if(k.getExtremes!==void 0){let M=this.getUnionExtremes(!0);M&&(M.dataMin!==k.min||M.dataMax!==k.max)&&(k.min=M.dataMin,k.max=M.dataMax)}}modifyBaseAxisExtremes(){var ce;let k,M,P=this.chart.navigator,W=this.getExtremes(),H=W.min,Y=W.max,ne=W.dataMin,se=W.dataMax,oe=Y-H,ee=P.stickToMin,re=P.stickToMax,V=ui((ce=this.ordinal)==null?void 0:ce.convertOverscroll(this.options.overscroll),0),Q=P.series&&P.series[0],Z=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(ee&&(k=(M=ne)+oe),re&&(k=se+V,ee||(M=Math.max(ne,k-oe,P.getBaseSeriesMin(Q&&Q.xData?Q.xData[0]:-Number.MAX_VALUE)))),Z&&(ee||re)&&sr(M)&&(this.min=this.userMin=M,this.max=this.userMax=k)),P.stickToMin=P.stickToMax=null}updatedDataHandler(){let k=this.chart.navigator,M=this.navigatorSeries,P=k.reversedExtremes?Math.round(k.zoomedMin)===0:Math.round(k.zoomedMax)>=Math.round(k.size);k.stickToMax=ui(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,P),k.stickToMin=k.shouldStickToMin(this,k),M&&!k.hasNavigatorData&&(M.options.pointStart=this.getColumn("x")[0],M.setData(this.options.data,!1,null,!1))}shouldStickToMin(k,M){let P=M.getBaseSeriesMin(k.getColumn("x")[0]),W=k.xAxis,H=W.max,Y=W.min,ne=W.options.range;return!!(sr(H)&&sr(Y))&&(ne&&H-P>0?H-P<ne:Y<=P)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(yr(this.chart,"redraw",function(){let k=this.navigator,M=k&&(k.baseSeries&&k.baseSeries[0]&&k.baseSeries[0].xAxis||this.xAxis[0]);M&&k.render(M.min,M.max)}),yr(this.chart,"getMargins",function(){var P;let k=this.navigator,M=k.opposite?"plotTop":"marginBottom";this.inverted&&(M=k.opposite?"marginRight":"plotLeft"),this[M]=(this[M]||0)+(k.navigatorEnabled||!this.inverted?k.height+(((P=this.scrollbar)==null?void 0:P.options.margin)||0)+k.scrollbarHeight:0)+(k.navigatorOptions.margin||0)}),yr(ps,"setRange",function(k){this.chart.xAxis[0].setExtremes(k.min,k.max,k.redraw,k.animation,k.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(yn(this.chart.xAxis,this.xAxis),yn(this.chart.axes,this.xAxis)),this.yAxis&&(yn(this.chart.yAxis,this.yAxis),yn(this.chart.axes,this.yAxis)),(this.series||[]).forEach(k=>{k.destroy&&k.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(k=>{this[k]&&this[k].destroy&&this[k].destroy(),this[k]=null}),[this.handles].forEach(k=>{Sm(k)}),this.baseSeries.forEach(k=>{k.navigatorSeries=void 0}),this.navigatorEnabled=!1}}(function(K){K.setLength=function(k,M,P){return Array.isArray(k)?(k.length=M,k):k[P?"subarray":"slice"](0,M)},K.splice=function(k,M,P,W,H=[]){if(Array.isArray(k))return Array.isArray(H)||(H=Array.from(H)),{removed:k.splice(M,P,...H),array:k};let Y=Object.getPrototypeOf(k).constructor,ne=k[W?"subarray":"slice"](M,M+P),se=new Y(k.length-P+H.length);return se.set(k.subarray(0,M),0),se.set(H,M),se.set(k.subarray(M+P),M+H.length),{removed:ne,array:se}}})(ae||(ae={}));let{setLength:_m,splice:_h}=ae,{fireEvent:dl,objectEach:Ys,uniqueKey:Zi}=ie(),Ch=class{constructor(K={}){this.autoId=!K.id,this.columns={},this.id=K.id||Zi(),this.modified=this,this.rowCount=0,this.versionTag=Zi();let k=0;Ys(K.columns||{},(M,P)=>{this.columns[P]=M.slice(),k=Math.max(k,M.length)}),this.applyRowCount(k)}applyRowCount(K){this.rowCount=K,Ys(this.columns,(k,M)=>{k.length!==K&&(this.columns[M]=_m(k,K))})}deleteRows(K,k=1){if(k>0&&K<this.rowCount){let M=0;Ys(this.columns,(P,W)=>{this.columns[W]=_h(P,K,k).array,M=P.length}),this.rowCount=M}dl(this,"afterDeleteRows",{rowIndex:K,rowCount:k}),this.versionTag=Zi()}getColumn(K,k){return this.columns[K]}getColumns(K,k){return(K||Object.keys(this.columns)).reduce((M,P)=>(M[P]=this.columns[P],M),{})}getRow(K,k){return(k||Object.keys(this.columns)).map(M=>{var P;return(P=this.columns[M])==null?void 0:P[K]})}setColumn(K,k=[],M=0,P){this.setColumns({[K]:k},M,P)}setColumns(K,k,M){let P=this.rowCount;Ys(K,(W,H)=>{this.columns[H]=W.slice(),P=W.length}),this.applyRowCount(P),M!=null&&M.silent||(dl(this,"afterSetColumns"),this.versionTag=Zi())}setRow(K,k=this.rowCount,M,P){let{columns:W}=this,H=M?this.rowCount+1:k+1;Ys(K,(Y,ne)=>{let se=W[ne]||(P==null?void 0:P.addColumns)!==!1&&Array(H);se&&(M?se=_h(se,k,0,!0,[Y]).array:se[k]=Y,W[ne]=se)}),H>this.rowCount&&this.applyRowCount(H),P!=null&&P.silent||(dl(this,"afterSetRows"),this.versionTag=Zi())}},{addEvent:Qi,correctFloat:ul,css:Cm,defined:Ji,error:sd,isNumber:od,pick:qs,timeUnits:Eh,isString:en}=ie();(function(K){function k(V,Q,Z,ce,ue=[],we=0,Ce){let ze={},Me=this.options.tickPixelInterval,Ne=this.chart.time,Re=[],De,We,Be,Xe,Le,rt=0,qe=[],zt=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!ue||ue.length<3||Q===void 0)return Ne.getTimeTicks.apply(Ne,arguments);let nt=ue.length;for(De=0;De<nt;De++){if(Le=De&&ue[De-1]>Z,ue[De]<Q&&(rt=De),De===nt-1||ue[De+1]-ue[De]>5*we||Le){if(ue[De]>zt){for(We=Ne.getTimeTicks(V,ue[rt],ue[De],ce);We.length&&We[0]<=zt;)We.shift();We.length&&(zt=We[We.length-1]),Re.push(qe.length),qe=qe.concat(We)}rt=De+1}if(Le)break}if(We){if(Xe=We.info,Ce&&Xe.unitRange<=Eh.hour){for(rt=1,De=qe.length-1;rt<De;rt++)Ne.dateFormat("%d",qe[rt])!==Ne.dateFormat("%d",qe[rt-1])&&(ze[qe[rt]]="day",Be=!0);Be&&(ze[qe[0]]="day"),Xe.higherRanks=ze}Xe.segmentStarts=Re,qe.info=Xe}else sd(12,!1,this.chart);if(Ce&&Ji(Me)){let at=qe.length,kr=[],$t=[],mt,xt,Lt,mr,Si,Mr=at;for(;Mr--;)xt=this.translate(qe[Mr]),Lt&&($t[Mr]=Lt-xt),kr[Mr]=Lt=xt;for($t.sort((co,fa)=>co-fa),(mr=$t[Math.floor($t.length/2)])<.6*Me&&(mr=null),Mr=qe[at-1]>Z?at-1:at,Lt=void 0;Mr--;)Si=Math.abs(Lt-(xt=kr[Mr])),Lt&&Si<.8*Me&&(mr===null||Si<.8*mr)?(ze[qe[Mr]]&&!ze[qe[Mr+1]]?(mt=Mr+1,Lt=xt):mt=Mr,qe.splice(mt,1)):Lt=xt}return qe}function M(V){let Q=this.ordinal.positions;if(!Q)return V;let Z=Q.length-1,ce;return V<0?V=Q[0]:V>Z?V=Q[Z]:(Z=Math.floor(V),ce=V-Z),ce!==void 0&&Q[Z]!==void 0?Q[Z]+(ce?ce*(Q[Z+1]-Q[Z]):0):V}function P(V){let Q=this.ordinal,Z=this.old?this.old.min:this.min,ce=this.old?this.old.transA:this.transA,ue=Q.getExtendedPositions();if(ue!=null&&ue.length){let we=ul((V-Z)*ce+this.minPixelPadding),Ce=ul(Q.getIndexOfPoint(we,ue)),ze=ul(Ce%1);if(Ce>=0&&Ce<=ue.length-1){let Me=ue[Math.floor(Ce)],Ne=ue[Math.ceil(Ce)];return ue[Math.floor(Ce)]+ze*(Ne-Me)}}return V}function W(V,Q){let Z=K.Additions.findIndexOf(V,Q,!0);if(V[Z]===Q)return Z;let ce=(Q-V[Z])/(V[Z+1]-V[Z]);return Z+ce}function H(){this.ordinal||(this.ordinal=new K.Additions(this))}function Y(){let{eventArgs:V,options:Q}=this;if(this.isXAxis&&Ji(Q.overscroll)&&Q.overscroll!==0&&od(this.max)&&od(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&((V==null?void 0:V.trigger)!=="pan"||this.isInternal)&&(V==null?void 0:V.trigger)!=="navigator")){let Z=this.ordinal.convertOverscroll(Q.overscroll);this.max+=Z,!this.isInternal&&Ji(this.userMin)&&(V==null?void 0:V.trigger)!=="mousewheel"&&(this.min+=Z)}}function ne(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function se(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function oe(V){var Ce;let Q=this.xAxis[0],Z=Q.ordinal.convertOverscroll(Q.options.overscroll),ce=V.originalEvent.chartX,ue=this.options.chart.panning,we=!1;if((ue==null?void 0:ue.type)!=="y"&&Q.options.ordinal&&Q.series.length&&(!V.touches||V.touches.length<=1)){let ze,Me,Ne=this.mouseDownX,Re=Q.getExtremes(),De=Re.dataMin,We=Re.dataMax,Be=Re.min,Xe=Re.max,Le=this.hoverPoints,rt=Q.closestPointRange||((Ce=Q.ordinal)==null?void 0:Ce.overscrollPointsRange),qe=Math.round((Ne-ce)/(Q.translationSlope*(Q.ordinal.slope||rt))),zt=Q.ordinal.getExtendedPositions(),nt={ordinal:{positions:zt,extendedOrdinalPositions:zt}},at=Q.index2val,kr=Q.val2lin;if(Be<=De&&qe<=0||Xe>=We+Z&&qe>=0)return void V.preventDefault();nt.ordinal.positions?Math.abs(qe)>1&&(Le&&Le.forEach(function($t){$t.setState()}),Me=nt.ordinal.positions,Z&&(Me=nt.ordinal.positions=Me.concat(Q.ordinal.getOverscrollPositions())),We>Me[Me.length-1]&&Me.push(We),this.setFixedRange(Xe-Be),(ze=Q.navigatorAxis.toFixedRange(void 0,void 0,at.apply(nt,[kr.apply(nt,[Be,!0])+qe]),at.apply(nt,[kr.apply(nt,[Xe,!0])+qe]))).min>=Math.min(Me[0],Be)&&ze.max<=Math.max(Me[Me.length-1],Xe)+Z&&Q.setExtremes(ze.min,ze.max,!0,!1,{trigger:"pan"}),this.mouseDownX=ce,Cm(this.container,{cursor:"move"})):we=!0}else we=!0;we||ue&&/y/.test(ue.type)?Z&&od(Q.dataMax)&&(Q.max=Q.dataMax+Z):V.preventDefault()}function ee(){let V=this.xAxis;V!=null&&V.options.ordinal&&(delete V.ordinal.index,delete V.ordinal.originalOrdinalRange)}function re(V,Q){var Me;let Z,ce=this.ordinal,ue=ce.positions,we=ce.slope,Ce;if(!ue)return V;let ze=ue.length;if(ue[0]<=V&&ue[ze-1]>=V)Z=W(ue,V);else{if(Ce=(Me=ce.getExtendedPositions)==null?void 0:Me.call(ce),!(Ce!=null&&Ce.length))return V;let Ne=Ce.length;we||(we=(Ce[Ne-1]-Ce[0])/Ne);let Re=W(Ce,ue[0]);if(V>=Ce[0]&&V<=Ce[Ne-1])Z=W(Ce,V)-Re;else{if(!Q)return V;Z=V<Ce[0]?-Re-(Ce[0]-V)/we:(V-Ce[Ne-1])/we+Ne-Re}}return Q?Z:we*(Z||0)+ce.offset}K.compose=function(V,Q,Z){let ce=V.prototype;return ce.ordinal2lin||(ce.getTimeTicks=k,ce.index2val=M,ce.lin2val=P,ce.val2lin=re,ce.ordinal2lin=ce.val2lin,Qi(V,"afterInit",H),Qi(V,"foundExtremes",Y),Qi(V,"afterSetScale",ne),Qi(V,"initialAxisTranslation",se),Qi(Z,"pan",oe),Qi(Z,"touchpan",oe),Qi(Q,"updatedData",ee)),V},K.Additions=class{constructor(V){this.index={},this.axis=V}beforeSetTickPositions(){var at;let V=this.axis,Q=V.ordinal,Z=V.getExtremes(),ce=Z.min,ue=Z.max,we=(at=V.brokenAxis)==null?void 0:at.hasBreaks,Ce=V.options.ordinal,ze=V.options.overscroll&&V.ordinal.convertOverscroll(V.options.overscroll)||0,Me,Ne,Re,De,We,Be,Xe,Le=[],rt=Number.MAX_VALUE,qe=!1,zt=!1,nt=!1;if(Ce||we){let kr=0;if(V.series.forEach(function($t,mt){let xt=$t.getColumn("x",!0);if(Ne=[],mt>0&&$t.options.id!=="highcharts-navigator-series"&&xt.length>1&&(zt=kr!==xt[1]-xt[0]),kr=xt[1]-xt[0],$t.boosted&&(nt=$t.boosted),$t.reserveSpace()&&($t.takeOrdinalPosition!==!1||we)&&(Me=(Le=Le.concat(xt)).length,Le.sort(function(Lt,mr){return Lt-mr}),rt=Math.min(rt,qs($t.closestPointRange,rt)),Me)){for(mt=0;mt<Me-1;)Le[mt]!==Le[mt+1]&&Ne.push(Le[mt+1]),mt++;Ne[0]!==Le[0]&&Ne.unshift(Le[0]),Le=Ne}}),V.ordinal.originalOrdinalRange||(V.ordinal.originalOrdinalRange=(Le.length-1)*rt),zt&&nt&&(Le.pop(),Le.shift()),(Me=Le.length)>2){for(Re=Le[1]-Le[0],Xe=Me-1;Xe--&&!qe;)Le[Xe+1]-Le[Xe]!==Re&&(qe=!0);!V.options.keepOrdinalPadding&&(Le[0]-ce>Re||ue-ze-Le[Me-1]>Re)&&(qe=!0)}else V.options.overscroll&&(Me===2?rt=Le[1]-Le[0]:Me===1?(rt=ze,Le=[Le[0],Le[0]+rt]):rt=Q.overscrollPointsRange);qe||V.forceOrdinal?(V.options.overscroll&&(Q.overscrollPointsRange=rt,Le=Le.concat(Q.getOverscrollPositions())),Q.positions=Le,De=V.ordinal2lin(Math.max(ce,Le[0]),!0),We=Math.max(V.ordinal2lin(Math.min(ue,Le[Le.length-1]),!0),1),Q.slope=Be=(ue-ce)/(We-De),Q.offset=ce-De*Be):(Q.overscrollPointsRange=qs(V.closestPointRange,Q.overscrollPointsRange),Q.positions=V.ordinal.slope=Q.offset=void 0)}V.isOrdinal=Ce&&qe,Q.groupIntervalFactor=null}static findIndexOf(V,Q,Z){let ce=0,ue=V.length-1,we;for(;ce<ue;)V[we=Math.ceil((ce+ue)/2)]<=Q?ce=we:ue=we-1;return V[ce]===Q||Z?ce:-1}getExtendedPositions(V=!0){let Q=this,Z=Q.axis,ce=Z.constructor.prototype,ue=Z.chart,we=Z.series.reduce((De,We)=>{let Be=We.currentDataGrouping;return De+(Be?Be.count+Be.unitName:"raw")},""),Ce=V?Z.ordinal.convertOverscroll(Z.options.overscroll):0,ze=Z.getExtremes(),Me,Ne,Re=Q.index;return Re||(Re=Q.index={}),!Re[we]&&((Me={series:[],chart:ue,forceOrdinal:!1,getExtremes:function(){return{min:ze.dataMin,max:ze.dataMax+Ce}},applyGrouping:ce.applyGrouping,getGroupPixelWidth:ce.getGroupPixelWidth,getTimeTicks:ce.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:ce.ordinal2lin,getIndexOfPoint:ce.getIndexOfPoint,val2lin:ce.val2lin}).ordinal.axis=Me,Z.series.forEach(De=>{var Be,Xe,Le;if(De.takeOrdinalPosition===!1)return;Ne={xAxis:Me,chart:ue,groupPixelWidth:De.groupPixelWidth,destroyGroupedData:ie().noop,getColumn:De.getColumn,applyGrouping:De.applyGrouping,getProcessedData:De.getProcessedData,reserveSpace:De.reserveSpace,visible:De.visible};let We=De.getColumn("x").concat(V?Q.getOverscrollPositions():[]);Ne.dataTable=new Ch({columns:{x:We}}),Ne.options={...De.options,dataGrouping:De.currentDataGrouping?{firstAnchor:(Be=De.options.dataGrouping)==null?void 0:Be.firstAnchor,anchor:(Xe=De.options.dataGrouping)==null?void 0:Xe.anchor,lastAnchor:(Le=De.options.dataGrouping)==null?void 0:Le.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[De.currentDataGrouping.unitName,[De.currentDataGrouping.count]]]}:{enabled:!1}},Me.series.push(Ne),De.processData.apply(Ne)}),Me.applyGrouping({hasExtremesChanged:!0}),(Ne==null?void 0:Ne.closestPointRange)!==(Ne==null?void 0:Ne.basePointRange)&&Ne.currentDataGrouping&&(Me.forceOrdinal=!0),Z.ordinal.beforeSetTickPositions.apply({axis:Me}),!Z.ordinal.originalOrdinalRange&&Me.ordinal.originalOrdinalRange&&(Z.ordinal.originalOrdinalRange=Me.ordinal.originalOrdinalRange),Me.ordinal.positions&&(Re[we]=Me.ordinal.positions)),Re[we]}getGroupIntervalFactor(V,Q,Z){let ce=Z.getColumn("x",!0),ue=ce.length,we=[],Ce,ze,Me=this.groupIntervalFactor;if(!Me){for(ze=0;ze<ue-1;ze++)we[ze]=ce[ze+1]-ce[ze];we.sort(function(Ne,Re){return Ne-Re}),Ce=we[Math.floor(ue/2)],V=Math.max(V,ce[0]),Q=Math.min(Q,ce[ue-1]),this.groupIntervalFactor=Me=ue*Ce/(Q-V)}return Me}getIndexOfPoint(V,Q){let Z=this.axis,ce=Z.min,ue=Z.minPixelPadding;return W(Q,ce)+ul((V-ue)/(Z.translationSlope*(this.slope||Z.closestPointRange||this.overscrollPointsRange)))}getOverscrollPositions(){let V=this.axis,Q=this.convertOverscroll(V.options.overscroll),Z=this.overscrollPointsRange,ce=[],ue=V.dataMax;if(Ji(Z))for(;ue<V.dataMax+Q;)ce.push(ue+=Z);return ce}postProcessTickInterval(V){let Q=this.axis,Z=this.slope,ce=Q.closestPointRange;return Z&&ce?Q.options.breaks?ce||V:V/(Z/ce):V}convertOverscroll(V=0){let Q=this,Z=Q.axis,ce=function(ue){return qs(Q.originalOrdinalRange,Ji(Z.dataMax)&&Ji(Z.dataMin)?Z.dataMax-Z.dataMin:0)*ue};if(en(V)){let ue,we=parseInt(V,10);if(Ji(Z.min)&&Ji(Z.max)&&Ji(Z.dataMin)&&Ji(Z.dataMax)&&((ue=Z.max-Z.min==Z.dataMax-Z.dataMin)||(this.originalOrdinalRange=Z.max-Z.min)),/%$/.test(V))return ce(we/100);if(/px/.test(V)){let Ce=Math.min(we,.9*Z.len)/Z.len;return ce(Ce/(ue?1-Ce:1))}return 0}return V}}})(te||(te={}));let ad=te,gs={lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"",rangeSelector:{allText:"All",allTitle:"View all",monthText:"{count}m",monthTitle:"View {count} {#eq count 1}month{else}months{/eq}",yearText:"{count}y",yearTitle:"View {count} {#eq count 1}year{else}years{/eq}",ytdText:"YTD",ytdTitle:"View year to date"}},rangeSelector:{allButtonsEnabled:!1,buttons:[{type:"month",count:1},{type:"month",count:3},{type:"month",count:6},{type:"ytd"},{type:"year",count:1},{type:"all"}],buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%[ebY]",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}},{defaultOptions:hl}=ie(),{composed:ld}=ie(),{addEvent:Hn,defined:Th,extend:Ah,isNumber:Ks,merge:Mh,pick:fl,pushUnique:Zs}=ie(),Li=[];function pl(){let K,k,M=this.range,P=M.type,W=this.max,H=this.chart.time,Y=function(se,oe){let ee=H.toParts(se),re=ee.slice();P==="year"?re[0]+=oe:re[1]+=oe;let V=H.makeTime.apply(H,re),Q=H.toParts(V);return P==="month"&&ee[1]===Q[1]&&Math.abs(oe)===1&&(re[0]=ee[0],re[1]=ee[1],re[2]=0),(V=H.makeTime.apply(H,re))-se};Ks(M)?(K=W-M,k=M):M&&(K=W+Y(W,-(M.count||1)),this.chart&&this.chart.setFixedRange(W-K));let ne=fl(this.dataMin,Number.MIN_VALUE);return Ks(K)||(K=ne),K<=ne&&(K=ne,k===void 0&&(k=Y(K,M.count)),this.newMax=Math.min(K+k,fl(this.dataMax,Number.MAX_VALUE))),Ks(W)?!Ks(M)&&M&&M._offsetMin&&(K+=M._offsetMin):K=void 0,K}function Em(){var K;(K=this.rangeSelector)==null||K.redrawElements()}function Tm(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new R(this))}function Am(){let K=this.rangeSelector;if(K){Ks(K.deferredYTDClick)&&(K.clickButton(K.deferredYTDClick),delete K.deferredYTDClick);let k=K.options.verticalAlign;K.options.floating||(k==="bottom"?this.extraBottomMargin=!0:k==="top"&&(this.extraTopMargin=!0))}}function cd(){let K,k=this.rangeSelector;if(!k)return;let M=this.xAxis[0].getExtremes(),P=this.legend,W=k&&k.options.verticalAlign;Ks(M.min)&&k.render(M.min,M.max),P.display&&W==="top"&&W===P.options.verticalAlign&&(K=Mh(this.spacingBox),P.options.layout==="vertical"?K.y=this.plotTop:K.y+=k.getHeight(),P.group.placed=!1,P.align(K))}function gr(){for(let K=0,k=Li.length;K<k;++K){let M=Li[K];if(M[0]===this){M[1].forEach(P=>P()),Li.splice(K,1);return}}}function tn(){var k;let K=this.rangeSelector;if((k=K==null?void 0:K.options)!=null&&k.enabled){let M=K.getHeight(),P=K.options.verticalAlign;K.options.floating||(P==="bottom"?this.marginBottom+=M:P!=="middle"&&(this.plotTop+=M))}}function jh(K){let k=K.options.rangeSelector,M=this.extraBottomMargin,P=this.extraTopMargin,W=this.rangeSelector;if(k&&k.enabled&&!Th(W)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=W=new R(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,W){let H=k&&k.verticalAlign||W.options&&W.options.verticalAlign;W.options.floating||(H==="bottom"?this.extraBottomMargin=!0:H!=="middle"&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==M||this.extraTopMargin!==P)&&(this.isDirtyBox=!0)}}let Mm={compose:function(K,k,M){if(R=M,Zs(ld,"RangeSelector")){let P=k.prototype;K.prototype.minFromRange=pl,Hn(k,"afterGetContainer",Tm),Hn(k,"beforeRender",Am),Hn(k,"destroy",gr),Hn(k,"getMargins",tn),Hn(k,"redraw",cd),Hn(k,"update",jh),Hn(k,"beforeRedraw",Em),P.callbacks.push(cd),Ah(hl,{rangeSelector:gs.rangeSelector}),Ah(hl.lang,gs.lang)}}};var Nh=_e(28),Qs=_e.n(Nh),jm=_e(984),Js=_e.n(jm);let{defaultOptions:gl}=ie(),{format:Gn}=Js(),{addEvent:Ii,createElement:aa,css:hi,defined:rn,destroyObjectProperties:Ph,diffObjects:dd,discardElement:Oh,extend:ml,fireEvent:eo,isNumber:$r,isString:la,merge:Vn,objectEach:Nm,pick:nn,splat:Pm}=ie();function Rh(K){let k=W=>RegExp(`%[[a-zA-Z]*${W}`).test(K);if(la(K)?K.indexOf("%L")!==-1:K.fractionalSecondDigits)return"text";let M=la(K)?["a","A","d","e","w","b","B","m","o","y","Y"].some(k):K.dateStyle||K.day||K.month||K.year,P=la(K)?["H","k","I","l","M","S"].some(k):K.timeStyle||K.hour||K.minute||K.second;return M&&P?"datetime-local":M?"date":P?"time":"text"}class ms{static compose(k,M){Mm.compose(k,M,ms)}constructor(k){this.isDirty=!1,this.buttonOptions=[],this.initialButtonGroupWidth=0,this.maxButtonWidth=()=>{let M=0;return this.buttons.forEach(P=>{let W=P.getBBox();W.width>M&&(M=W.width)}),M},this.init(k)}clickButton(k,M){let P=this.chart,W=this.buttonOptions[k],H=P.xAxis[0],Y=P.scroller&&P.scroller.getUnionExtremes()||H||{},ne=W.type,se=W.dataGrouping,oe=Y.dataMin,ee=Y.dataMax,re,V=$r(H==null?void 0:H.max)?Math.round(Math.min(H.max,ee??H.max)):void 0,Q,Z=W._range,ce,ue,we,Ce=!0;if(oe!==null&&ee!==null){if(this.setSelected(k),se&&(this.forcedDataGrouping=!0,vt().prototype.setDataGrouping.call(H||{chart:this.chart},se,!1),this.frozenStates=W.preserveDataGrouping),ne==="month"||ne==="year")H?(ue={range:W,max:V,chart:P,dataMin:oe,dataMax:ee},re=H.minFromRange.call(ue),$r(ue.newMax)&&(V=ue.newMax),Ce=!1):Z=W;else if(Z)$r(V)&&(V=Math.min((re=Math.max(V-Z,oe))+Z,ee),Ce=!1);else if(ne==="ytd")if(H)!H.hasData()||$r(ee)&&$r(oe)||(oe=Number.MAX_VALUE,ee=-Number.MAX_VALUE,P.series.forEach(ze=>{let Me=ze.getColumn("x");Me.length&&(oe=Math.min(Me[0],oe),ee=Math.max(Me[Me.length-1],ee))}),M=!1),$r(ee)&&$r(oe)&&(re=ce=(we=this.getYTDExtremes(ee,oe)).min,V=we.max);else{this.deferredYTDClick=k;return}else ne==="all"&&H&&(P.navigator&&P.navigator.baseSeries[0]&&(P.navigator.baseSeries[0].xAxis.options.range=void 0),re=oe,V=ee);if(Ce&&W._offsetMin&&rn(re)&&(re+=W._offsetMin),W._offsetMax&&rn(V)&&(V+=W._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=k+1),H)$r(re)&&$r(V)&&(H.setExtremes(re,V,nn(M,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:W}),P.setFixedRange(W._range));else{Q=Pm(P.options.xAxis||{})[0];let ze=Ii(P,"afterCreateAxes",function(){let Me=P.xAxis[0];Me.range=Me.options.range=Z,Me.min=Me.options.min=ce});Ii(P,"load",function(){let Me=P.xAxis[0];P.setFixedRange(W._range),Me.options.range=Q.range,Me.options.min=Q.min,ze()})}eo(this,"afterBtnClick")}}setSelected(k){this.selected=this.options.selected=k}init(k){let M=this,P=k.options.rangeSelector,W=k.options.lang,H=P.buttons,Y=P.selected,ne=function(){let se=M.minInput,oe=M.maxInput;se&&se.blur&&eo(se,"blur"),oe&&oe.blur&&eo(oe,"blur")};M.chart=k,M.options=P,M.buttons=[],M.buttonOptions=H.map(se=>(se.type&&W.rangeSelector&&(se.text??(se.text=W.rangeSelector[`${se.type}Text`]),se.title??(se.title=W.rangeSelector[`${se.type}Title`])),se.text=Gn(se.text,{count:se.count||1}),se.title=Gn(se.title,{count:se.count||1}),se)),this.eventsToUnbind=[],this.eventsToUnbind.push(Ii(k.container,"mousedown",ne)),this.eventsToUnbind.push(Ii(k,"resize",ne)),H.forEach(M.computeButtonRange),Y!==void 0&&H[Y]&&this.clickButton(Y,!1),this.eventsToUnbind.push(Ii(k,"load",function(){k.xAxis&&k.xAxis[0]&&Ii(k.xAxis[0],"setExtremes",function(se){$r(this.max)&&$r(this.min)&&this.max-this.min!==k.fixedRange&&se.trigger!=="rangeSelectorButton"&&se.trigger!=="updatedData"&&M.forcedDataGrouping&&!M.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let k=this,M=this.chart,P=this.dropdown,W=this.dropdownLabel,H=M.xAxis[0],Y=Math.round(H.max-H.min),ne=!H.hasVisibleSeries,se=24*36e5,oe=M.scroller&&M.scroller.getUnionExtremes()||H,ee=oe.dataMin,re=oe.dataMax,V=k.getYTDExtremes(re,ee),Q=V.min,Z=V.max,ce=k.selected,ue=k.options.allButtonsEnabled,we=Array(k.buttonOptions.length).fill(0),Ce=$r(ce),ze=k.buttons,Me=!1,Ne=null;k.buttonOptions.forEach((Re,De)=>{var mt;let We=Re._range,Be=Re.type,Xe=Re.count||1,Le=Re._offsetMax-Re._offsetMin,rt=De===ce,qe=We>re-ee,zt=We<H.minRange,nt=!1,at=We===Y;if(rt&&qe&&(Me=!0),H.isOrdinal&&((mt=H.ordinal)==null?void 0:mt.positions)&&We&&Y<We){let xt=H.ordinal.positions,Lt=ad.Additions.findIndexOf(xt,H.min,!0),mr=Math.min(ad.Additions.findIndexOf(xt,H.max,!0)+1,xt.length-1);xt[mr]-xt[Lt]>We&&(at=!0)}else(Be==="month"||Be==="year")&&Y+36e5>={month:28,year:365}[Be]*se*Xe-Le&&Y-36e5<={month:31,year:366}[Be]*se*Xe+Le?at=!0:Be==="ytd"?(at=Z-Q+Le===Y,nt=!rt):Be==="all"&&(at=H.max-H.min>=re-ee);let kr=!ue&&!(Me&&Be==="all")&&(qe||zt||ne),$t=Me&&Be==="all"||!nt&&at||rt&&k.frozenStates;kr?we[De]=3:$t&&(!Ce||De===ce)&&(Ne=De)}),Ne!==null?(we[Ne]=2,k.setSelected(Ne),this.dropdown&&(this.dropdown.selectedIndex=Ne+1)):(k.setSelected(),this.dropdown&&(this.dropdown.selectedIndex=-1),W&&(W.setState(0),W.attr({text:(gl.lang.rangeSelectorZoom||"")+" "})));for(let Re=0;Re<we.length;Re++){let De=we[Re],We=ze[Re];if(We.state!==De&&(We.setState(De),P)){P.options[Re+1].disabled=De===3,De===2&&(W&&(W.setState(2),W.attr({text:k.buttonOptions[Re].text+" "})),P.selectedIndex=Re+1);let Be=W.getBBox();hi(P,{width:`${Be.width}px`,height:`${Be.height}px`})}}}computeButtonRange(k){let M=k.type,P=k.count||1,W={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};W[M]?k._range=W[M]*P:(M==="month"||M==="year")&&(k._range=24*{month:30,year:365}[M]*36e5*P),k._offsetMin=nn(k.offsetMin,0),k._offsetMax=nn(k.offsetMax,0),k._range+=k._offsetMax-k._offsetMin}getInputValue(k){let M=k==="min"?this.minInput:this.maxInput,P=this.chart.options.rangeSelector,W=this.chart.time;return M?(M.type==="text"&&P.inputDateParser||this.defaultInputDateParser)(M.value,W.timezone==="UTC",W):0}setInputValue(k,M){let P=this.options,W=this.chart.time,H=k==="min"?this.minInput:this.maxInput,Y=k==="min"?this.minDateBox:this.maxDateBox;if(H){H.setAttribute("type",Rh(P.inputDateFormat||"%e %b %Y"));let ne=H.getAttribute("data-hc-time"),se=rn(ne)?Number(ne):void 0;if(rn(M)){let oe=se;rn(oe)&&H.setAttribute("data-hc-time-previous",oe),H.setAttribute("data-hc-time",M),se=M}H.value=W.dateFormat(this.inputTypeFormats[H.type]||P.inputEditDateFormat,se),Y&&Y.attr({text:W.dateFormat(P.inputDateFormat,se)})}}setInputExtremes(k,M,P){let W=k==="min"?this.minInput:this.maxInput;if(W){let H=this.inputTypeFormats[W.type],Y=this.chart.time;if(H){let ne=Y.dateFormat(H,M);W.min!==ne&&(W.min=ne);let se=Y.dateFormat(H,P);W.max!==se&&(W.max=se)}}}showInput(k){let M=k==="min"?this.minDateBox:this.maxDateBox,P=k==="min"?this.minInput:this.maxInput;if(P&&M&&this.inputGroup){let W=P.type==="text",{translateX:H=0,translateY:Y=0}=this.inputGroup,{x:ne=0,width:se=0,height:oe=0}=M,{inputBoxWidth:ee}=this.options;hi(P,{width:W?se+(ee?-2:20)+"px":"auto",height:oe-2+"px",border:"2px solid silver"}),W&&ee?hi(P,{left:H+ne+"px",top:Y+"px"}):hi(P,{left:Math.min(Math.round(ne+H-(P.offsetWidth-se)/2),this.chart.chartWidth-P.offsetWidth)+"px",top:Y-(P.offsetHeight-oe)/2+"px"})}}hideInput(k){let M=k==="min"?this.minInput:this.maxInput;M&&hi(M,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(k,M,P){return(P==null?void 0:P.parse(k))||0}drawInput(k){let{chart:M,div:P,inputGroup:W}=this,H=this,Y=M.renderer.style||{},ne=M.renderer,se=M.options.rangeSelector,oe=gl.lang,ee=k==="min";function re(we){var Xe;let{maxInput:Ce,minInput:ze}=H,Me=M.xAxis[0],Ne=((Xe=M.scroller)==null?void 0:Xe.getUnionExtremes())||Me,Re=Ne.dataMin,De=Ne.dataMax,We=M.xAxis[0].getExtremes()[we],Be=H.getInputValue(we);$r(Be)&&Be!==We&&(ee&&Ce&&$r(Re)?Be>Number(Ce.getAttribute("data-hc-time"))?Be=void 0:Be<Re&&(Be=Re):ze&&$r(De)&&(Be<Number(ze.getAttribute("data-hc-time"))?Be=void 0:Be>De&&(Be=De)),Be!==void 0&&Me.setExtremes(ee?Be:Me.min,ee?Me.max:Be,void 0,void 0,{trigger:"rangeSelectorInput"}))}let V=oe[ee?"rangeSelectorFrom":"rangeSelectorTo"]||"",Q=ne.label(V,0).addClass("highcharts-range-label").attr({padding:2*!!V,height:V?se.inputBoxHeight:0}).add(W),Z=ne.label("",0).addClass("highcharts-range-input").attr({padding:2,width:se.inputBoxWidth,height:se.inputBoxHeight,"text-align":"center"}).on("click",function(){H.showInput(k),H[k+"Input"].focus()});M.styledMode||Z.attr({stroke:se.inputBoxBorderColor,"stroke-width":1}),Z.add(W);let ce=aa("input",{name:k,className:"highcharts-range-selector"},void 0,P);ce.setAttribute("type",Rh(se.inputDateFormat||"%e %b %Y")),M.styledMode||(Q.css(Vn(Y,se.labelStyle)),Z.css(Vn({color:"#333333"},Y,se.inputStyle)),hi(ce,ml({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:Y.fontSize,fontFamily:Y.fontFamily,top:"-9999em"},se.inputStyle))),ce.onfocus=()=>{H.showInput(k)},ce.onblur=()=>{ce===ie().doc.activeElement&&re(k),H.hideInput(k),H.setInputValue(k),ce.blur()};let ue=!1;return ce.onchange=()=>{ue||(re(k),H.hideInput(k),ce.blur())},ce.onkeypress=we=>{we.keyCode===13&&re(k)},ce.onkeydown=we=>{ue=!0,(we.key==="ArrowUp"||we.key==="ArrowDown"||we.key==="Tab")&&re(k)},ce.onkeyup=()=>{ue=!1},{dateBox:Z,input:ce,label:Q}}getPosition(){let k=this.chart,M=k.options.rangeSelector,P=M.verticalAlign==="top"?k.plotTop-k.axisOffset[0]:0;return{buttonTop:P+M.buttonPosition.y,inputTop:P+M.inputPosition.y-10}}getYTDExtremes(k,M){let P=this.chart.time,W=P.toParts(k)[0];return{max:k,min:Math.max(M,P.makeTime(W,0))}}createElements(){var se;let k=this.chart,M=k.renderer,P=k.container,W=k.options,H=W.rangeSelector,Y=H.inputEnabled,ne=nn((se=W.chart.style)==null?void 0:se.zIndex,0)+1;H.enabled!==!1&&(this.group=M.g("range-selector-group").attr({zIndex:7}).add(),this.div=aa("div",void 0,{position:"relative",height:0,zIndex:ne}),this.buttonOptions.length&&this.renderButtons(),P.parentNode&&P.parentNode.insertBefore(this.div,P),Y&&this.createInputs())}createInputs(){this.inputGroup=this.chart.renderer.g("input-group").add(this.group);let k=this.drawInput("min");this.minDateBox=k.dateBox,this.minLabel=k.label,this.minInput=k.input;let M=this.drawInput("max");this.maxDateBox=M.dateBox,this.maxLabel=M.label,this.maxInput=M.input}render(k,M){var H,Y;if(this.options.enabled===!1)return;let P=this.chart,W=P.options.rangeSelector;if(W.inputEnabled){this.inputGroup||this.createInputs(),this.setInputValue("min",k),this.setInputValue("max",M),this.chart.styledMode||((H=this.maxLabel)==null||H.css(W.labelStyle),(Y=this.minLabel)==null||Y.css(W.labelStyle));let ne=P.scroller&&P.scroller.getUnionExtremes()||P.xAxis[0]||{};if(rn(ne.dataMin)&&rn(ne.dataMax)){let se=P.xAxis[0].minRange||0;this.setInputExtremes("min",ne.dataMin,Math.min(ne.dataMax,this.getInputValue("max"))-se),this.setInputExtremes("max",Math.max(ne.dataMin,this.getInputValue("min"))+se,ne.dataMax)}if(this.inputGroup){let se=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(oe=>{if(oe){let{width:ee}=oe.getBBox();ee&&(oe.attr({x:se}),se+=ee+W.inputSpacing)}})}}else this.inputGroup&&(this.inputGroup.destroy(),delete this.inputGroup);!this.chart.styledMode&&this.zoomText&&this.zoomText.css(W.labelStyle),this.alignElements(),this.updateButtonStates()}renderButtons(){var V;var k;let{chart:M,options:P}=this,W=gl.lang,H=M.renderer,Y=Vn(P.buttonTheme),ne=Y&&Y.states;delete Y.width,delete Y.states,this.buttonGroup=H.g("range-selector-buttons").add(this.group);let se=this.dropdown=aa("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),oe=(V=M.userOptions.rangeSelector)==null?void 0:V.buttonTheme;this.dropdownLabel=H.button("",0,0,()=>{},Vn(Y,{"stroke-width":nn(Y["stroke-width"],0),width:"auto",paddingLeft:nn(P.buttonTheme.paddingLeft,oe==null?void 0:oe.padding,8),paddingRight:nn(P.buttonTheme.paddingRight,oe==null?void 0:oe.padding,8)}),ne&&ne.hover,ne&&ne.select,ne&&ne.disabled).hide().add(this.group),Ii(se,"touchstart",()=>{se.style.fontSize="16px"});let ee=ie().isMS?"mouseover":"mouseenter",re=ie().isMS?"mouseout":"mouseleave";Ii(se,ee,()=>{eo(this.dropdownLabel.element,ee)}),Ii(se,re,()=>{eo(this.dropdownLabel.element,re)}),Ii(se,"change",()=>{eo(this.buttons[se.selectedIndex-1].element,"click")}),this.zoomText=H.label(W.rangeSelectorZoom||"",0).attr({padding:P.buttonTheme.padding,height:P.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(P.labelStyle),(k=P.buttonTheme)["stroke-width"]??(k["stroke-width"]=0)),aa("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,se),this.createButtons()}createButtons(){let{options:k}=this,M=Vn(k.buttonTheme),P=M&&M.states,W=M.width||28;delete M.width,delete M.states,this.buttonOptions.forEach((H,Y)=>{this.createButton(H,Y,W,P)})}createButton(k,M,P,W){let{dropdown:H,buttons:Y,chart:ne,options:se}=this,oe=ne.renderer,ee=Vn(se.buttonTheme);H==null||H.add(aa("option",{textContent:k.title||k.text}),M+2),Y[M]=oe.button(k.text??"",0,0,re=>{let V,Q=k.events&&k.events.click;Q&&(V=Q.call(k,re)),V!==!1&&this.clickButton(M),this.isActive=!0},ee,W&&W.hover,W&&W.select,W&&W.disabled).attr({"text-align":"center",width:P}).add(this.buttonGroup),k.title&&Y[M].attr("title",k.title)}alignElements(){var ce;let{buttonGroup:k,buttons:M,chart:P,group:W,inputGroup:H,options:Y,zoomText:ne}=this,se=P.options,oe=se.exporting&&se.exporting.enabled!==!1&&se.navigation&&se.navigation.buttonOptions,{buttonPosition:ee,inputPosition:re,verticalAlign:V}=Y,Q=(ue,we,Ce)=>oe&&this.titleCollision(P)&&V==="top"&&Ce&&we.y-ue.getBBox().height-12<(oe.y||0)+(oe.height||0)+P.spacing[0]?-40:0,Z=P.plotLeft;if(W&&ee&&re){let ue=ee.x-P.spacing[3];if(k){if(this.positionButtons(),!this.initialButtonGroupWidth){let Be=0;ne&&(Be+=ne.getBBox().width+5),M.forEach((Xe,Le)=>{Be+=Xe.width||0,Le!==M.length-1&&(Be+=Y.buttonSpacing)}),this.initialButtonGroupWidth=Be}Z-=P.spacing[3];let We=Q(k,ee,ee.align==="right"||re.align==="right");this.alignButtonGroup(We),(ce=this.buttonGroup)!=null&&ce.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),W.placed=k.placed=P.hasLoaded}let we=0;Y.inputEnabled&&H&&(we=Q(H,re,ee.align==="right"||re.align==="right"),re.align==="left"?ue=Z:re.align==="right"&&(ue=-Math.max(P.axisOffset[1],-we)),H.align({y:re.y,width:H.getBBox().width,align:re.align,x:re.x+ue-2},!0,P.spacingBox),H.placed=P.hasLoaded),this.handleCollision(we),W.align({verticalAlign:V},!0,P.spacingBox);let Ce=W.alignAttr.translateY,ze=W.getBBox().height+20,Me=0;if(V==="bottom"){let We=P.legend&&P.legend.options;Me=Ce-(ze=ze+(We&&We.verticalAlign==="bottom"&&We.enabled&&!We.floating?P.legend.legendHeight+nn(We.margin,10):0)-20)-(Y.floating?0:Y.y)-(P.titleOffset?P.titleOffset[2]:0)-10}V==="top"?(Y.floating&&(Me=0),P.titleOffset&&P.titleOffset[0]&&(Me=P.titleOffset[0]),Me+=P.margin[0]-P.spacing[0]||0):V==="middle"&&(re.y===ee.y?Me=Ce:(re.y||ee.y)&&(re.y<0||ee.y<0?Me-=Math.min(re.y,ee.y):Me=Ce-ze)),W.translate(Y.x,Y.y+Math.floor(Me));let{minInput:Ne,maxInput:Re,dropdown:De}=this;Y.inputEnabled&&Ne&&Re&&(Ne.style.marginTop=W.translateY+"px",Re.style.marginTop=W.translateY+"px"),De&&(De.style.marginTop=W.translateY+"px")}}redrawElements(){var W,H,Y,ne,se;let k=this.chart,{inputBoxHeight:M,inputBoxBorderColor:P}=this.options;if((W=this.maxDateBox)==null||W.attr({height:M}),(H=this.minDateBox)==null||H.attr({height:M}),k.styledMode||((Y=this.maxDateBox)==null||Y.attr({stroke:P}),(ne=this.minDateBox)==null||ne.attr({stroke:P})),this.isDirty){this.isDirty=!1,this.isCollapsed=void 0;let oe=this.options.buttons??[],ee=Math.min(oe.length,this.buttonOptions.length),{dropdown:re,options:V}=this,Q=Vn(V.buttonTheme),Z=Q&&Q.states,ce=Q.width||28;if(oe.length<this.buttonOptions.length)for(let ue=this.buttonOptions.length-1;ue>=oe.length;ue--){let we=this.buttons.pop();we==null||we.destroy(),(se=this.dropdown)==null||se.options.remove(ue+1)}for(let ue=ee-1;ue>=0;ue--)if(Object.keys(dd(oe[ue],this.buttonOptions[ue])).length!==0){let we=oe[ue];this.buttons[ue].destroy(),re==null||re.options.remove(ue+1),this.createButton(we,ue,ce,Z),this.computeButtonRange(we)}if(oe.length>this.buttonOptions.length)for(let ue=this.buttonOptions.length;ue<oe.length;ue++)this.createButton(oe[ue],ue,ce,Z),this.computeButtonRange(oe[ue]);this.buttonOptions=this.options.buttons??[],rn(this.options.selected)&&this.buttons.length&&this.clickButton(this.options.selected,!1)}}alignButtonGroup(k,M){let{chart:P,options:W,buttonGroup:H,dropdown:Y,dropdownLabel:ne}=this,{buttonPosition:se}=W,oe=P.plotLeft-P.spacing[3],ee=se.x-P.spacing[3],re=P.plotLeft;se.align==="right"?(ee+=k-oe,this.hasVisibleDropdown&&(re=P.chartWidth+k-this.maxButtonWidth()-20)):se.align==="center"&&(ee-=oe/2,this.hasVisibleDropdown&&(re=P.chartWidth/2-this.maxButtonWidth())),Y&&hi(Y,{left:re+"px",top:(H==null?void 0:H.translateY)+"px"}),ne==null||ne.attr({x:re}),H&&H.align({y:se.y,width:nn(M,this.initialButtonGroupWidth),align:se.align,x:ee},!0,P.spacingBox)}positionButtons(){let{buttons:k,chart:M,options:P,zoomText:W}=this,H=M.hasLoaded?"animate":"attr",{buttonPosition:Y}=P,ne=M.plotLeft,se=ne;W&&W.visibility!=="hidden"&&(W[H]({x:nn(ne+Y.x,ne)}),se+=Y.x+W.getBBox().width+5);for(let oe=0,ee=this.buttonOptions.length;oe<ee;++oe)k[oe].visibility!=="hidden"?(k[oe][H]({x:se}),se+=(k[oe].width||0)+P.buttonSpacing):k[oe][H]({x:ne})}handleCollision(k){let{chart:M,buttonGroup:P,inputGroup:W,initialButtonGroupWidth:H}=this,{buttonPosition:Y,dropdown:ne,inputPosition:se}=this.options,oe=()=>{W&&P&&W.attr({translateX:W.alignAttr.translateX+(M.axisOffset[1]>=-k?0:-k),translateY:W.alignAttr.translateY+P.getBBox().height+10})};W&&P?se.align===Y.align?(oe(),H>M.plotWidth+k-20?this.collapseButtons():this.expandButtons()):H-k+W.getBBox().width>M.plotWidth?ne==="responsive"?this.collapseButtons():oe():this.expandButtons():P&&ne==="responsive"&&(H>M.plotWidth?this.collapseButtons():this.expandButtons()),P&&(ne==="always"&&this.collapseButtons(),ne==="never"&&this.expandButtons()),this.alignButtonGroup(k)}collapseButtons(){let{buttons:k,zoomText:M}=this;this.isCollapsed!==!0&&(this.isCollapsed=!0,M.hide(),k.forEach(P=>void P.hide()),this.showDropdown())}expandButtons(){let{buttons:k,zoomText:M}=this;this.isCollapsed!==!1&&(this.isCollapsed=!1,this.hideDropdown(),M.show(),k.forEach(P=>void P.show()),this.positionButtons())}showDropdown(){let{buttonGroup:k,dropdownLabel:M,dropdown:P}=this;k&&P&&(M.show(),hi(P,{visibility:"inherit"}),this.hasVisibleDropdown=!0)}hideDropdown(){let{dropdown:k}=this;k&&(this.dropdownLabel.hide(),hi(k,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let k=this.options,M=this.group,P=k.inputPosition,W=k.buttonPosition,H=k.y,Y=W.y,ne=P.y,se=0;if(k.height)return k.height;this.alignElements(),se=M?M.getBBox(!0).height+13+H:0;let oe=Math.min(ne,Y);return(ne<0&&Y<0||ne>0&&Y>0)&&(se+=Math.abs(oe)),se}titleCollision(k){return!(k.options.title.text||k.options.subtitle.text)}update(k,M=!0){let P=this.chart;if(Vn(!0,this.options,k),this.options.selected&&this.options.selected>=this.options.buttons.length&&(this.options.selected=void 0,P.options.rangeSelector.selected=void 0),rn(k.enabled))return this.destroy(),this.init(P);this.isDirty=!!k.buttons,M&&this.render()}destroy(){let k=this,M=k.minInput,P=k.maxInput;k.eventsToUnbind&&(k.eventsToUnbind.forEach(W=>W()),k.eventsToUnbind=void 0),Ph(k.buttons),M&&(M.onfocus=M.onblur=M.onchange=null),P&&(P.onfocus=P.onblur=P.onchange=null),Nm(k,function(W,H){W&&H!=="chart"&&(W instanceof Qs()?W.destroy():W instanceof window.HTMLElement&&Oh(W),delete k[H]),W!==ms.prototype[H]&&(k[H]=null)},this),this.buttons=[]}}ml(ms.prototype,{inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}});var Om=_e(960),Lh=_e.n(Om);let{format:Rm}=Js(),{getOptions:ud}=ie(),{setFixedRange:to}=Wt,{addEvent:Xn,clamp:Ih,crisp:Dh,defined:hd,extend:Lm,find:fd,isNumber:sn,isString:vl,merge:bn,pick:wn,splat:pd}=ie();function ro(K,k,M){return K==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:K==="yAxis"?{labels:{y:-2},opposite:M.opposite??k.opposite??!0,showLastLabel:!!(k.categories||k.type==="category"),title:{text:void 0}}:{}}function Yn(K,k){var M;if(K==="xAxis"){let P=wn((M=k.navigator)==null?void 0:M.enabled,ra.enabled,!0),W={type:"datetime",categories:void 0};return P&&(W.startOnTick=!1,W.endOnTick=!1),W}return{}}class gd extends Lh(){init(k,M){var se,oe;let P=ud(),W=k.xAxis,H=k.yAxis,Y=wn((se=k.navigator)==null?void 0:se.enabled,ra.enabled,!0);k.xAxis=k.yAxis=void 0;let ne=bn({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:Y},scrollbar:{enabled:wn(na.enabled,!0)},rangeSelector:{enabled:wn(gs.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:wn((oe=P.tooltip)==null?void 0:oe.split,!0),crosshairs:!0},legend:{enabled:!1}},k,{isStock:!0});k.xAxis=W,k.yAxis=H,ne.xAxis=pd(k.xAxis||{}).map(ee=>bn(ro("xAxis",ee,P.xAxis),ee,Yn("xAxis",k))),ne.yAxis=pd(k.yAxis||{}).map(ee=>bn(ro("yAxis",ee,P.yAxis),ee)),super.init(ne,M)}createAxis(k,M){return M.axis=bn(ro(k,M.axis,ud()[k]),M.axis,Yn(k,this.userOptions)),super.createAxis(k,M)}}Xn(Lh(),"update",function(K){let k=K.options;"scrollbar"in k&&this.navigator&&(bn(!0,this.options.scrollbar,k.scrollbar),this.navigator.update({enabled:!!this.navigator.navigatorEnabled}),delete k.scrollbar)}),function(K){function k(oe){var Lt,mr,Si,Mr;if(!((mr=(Lt=this.crosshair)==null?void 0:Lt.label)!=null&&mr.enabled&&this.cross&&sn(this.min)&&sn(this.max)))return;let ee=this.chart,re=this.logarithmic,V=this.crosshair.label,Q=this.horiz,Z=this.opposite,ce=this.left,ue=this.top,we=this.width,Ce=this.options.tickPosition==="inside",ze=this.crosshair.snap!==!1,Me=oe.e||((Si=this.cross)==null?void 0:Si.e),Ne=oe.point,Re=this.crossLabel,De,We,Be=V.format,Xe="",Le,rt=0,qe=this.min,zt=this.max;re&&(qe=re.lin2log(this.min),zt=re.lin2log(this.max));let nt=Q?"center":Z?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center";!Re&&(Re=this.crossLabel=ee.renderer.label("",0,void 0,V.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(Ne!=null&&Ne.series?Ne.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:V.align||nt,padding:wn(V.padding,8),r:wn(V.borderRadius,3),zIndex:2}).add(this.labelGroup),ee.styledMode||Re.attr({fill:V.backgroundColor||((Mr=Ne==null?void 0:Ne.series)==null?void 0:Mr.color)||"#666666",stroke:V.borderColor||"","stroke-width":V.borderWidth||0}).css(Lm({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},V.style||{}))),Q?(De=ze?(Ne.plotX||0)+ce:Me.chartX,We=ue+(Z?0:this.height)):(De=ce+this.offset+(Z?we:0),We=ze?(Ne.plotY||0)+ue:Me.chartY),Be||V.formatter||(this.dateTime&&(Xe="%b %d, %Y"),Be="{value"+(Xe?":"+Xe:"")+"}");let at=ze?this.isXAxis?Ne.x:Ne.y:this.toValue(Q?Me.chartX:Me.chartY),kr=Ne!=null&&Ne.series?Ne.series.isPointInside(Ne):sn(at)&&at>qe&&at<zt,$t="";Be?$t=Rm(Be,{value:at},ee):V.formatter&&sn(at)&&($t=V.formatter.call(this,at)),Re.attr({text:$t,x:De,y:We,visibility:kr?"inherit":"hidden"});let mt=Re.getBBox();!sn(Re.x)||Q||Z||(De=Re.x-mt.width/2),sn(Re.y)&&(Q?(Ce&&!Z||!Ce&&Z)&&(We=Re.y-mt.height):We=Re.y-mt.height/2),Le=Q?{left:ce,right:ce+this.width}:{left:this.labelAlign==="left"?ce:0,right:this.labelAlign==="right"?ce+this.width:ee.chartWidth};let xt=Re.translateX||0;xt<Le.left&&(rt=Le.left-xt),xt+mt.width>=Le.right&&(rt=-(xt+mt.width-Le.right)),Re.attr({x:Math.max(0,De+rt),y:Math.max(0,We),anchorX:Q?De:this.opposite?0:ee.chartWidth,anchorY:Q?this.opposite?ee.chartHeight:0:We+mt.height/2})}function M(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function P(oe){let ee=this.chart,re=this.options,V=ee._labelPanes=ee._labelPanes||{},Q=re.labels;if(ee.options.isStock&&this.coll==="yAxis"){let Z=re.top+","+re.height;!V[Z]&&Q.enabled&&(Q.distance===15&&this.side===1&&(Q.distance=0),Q.align===void 0&&(Q.align="right"),V[Z]=this,oe.align="right",oe.preventDefault())}}function W(){let oe=this.chart,ee=this.options&&this.options.top+","+this.options.height;ee&&oe._labelPanes&&oe._labelPanes[ee]===this&&delete oe._labelPanes[ee]}function H(oe){let ee=this,re=ee.isLinked&&!ee.series&&ee.linkedParent?ee.linkedParent.series:ee.series,{chart:V,horiz:Q}=ee,Z=V.renderer,ce=[],{acrossPanes:ue=!0,force:we,translatedValue:Ce,value:ze}=oe,Me=(ee.isXAxis?V.yAxis:V.xAxis)||[];function Ne(Be,Xe,Le){ce.push(["M",Q?Be:Xe,Q?Xe:Be],["L",Q?Be:Le,Q?Le:Be])}let Re=[],De,We;if(V.options.isStock&&(ee.coll==="xAxis"||ee.coll==="yAxis")){for(let Be of(oe.preventDefault(),Re=(Xe=>{let Le=Xe==="xAxis"?"yAxis":"xAxis",rt=ee.options[Le];return ue&&!ee.options.isInternal?Me.filter(qe=>!qe.options.isInternal):sn(rt)?[V[Le][rt]]:vl(rt)?[V.get(rt)]:re.map(qe=>qe[Le])})(ee.coll),Me))if(!Be.options.isInternal){let Xe=Be.isXAxis?"yAxis":"xAxis";ee===(hd(Be.options[Xe])&&V[Xe][Be.options[Xe]])&&Re.push(Be)}for(let Be of(De=Re.length?[]:[ee.isXAxis?V.yAxis[0]:V.xAxis[0]],Re))De.indexOf(Be)!==-1||fd(De,Xe=>Xe.pos===Be.pos&&Xe.len===Be.len)||De.push(Be);if(sn(We=wn(Ce,ee.translate(ze||0,void 0,void 0,oe.old)))){let Be,Xe=Q?We+ee.pos:ee.pos+ee.len-We;if(we!=="pass"&&(Xe<ee.pos||Xe>ee.pos+ee.len)&&(we?Xe=Ih(Xe,ee.pos,ee.pos+ee.len):Be=!0),!Be){let Le=Q?"top":"left",rt=Q?"height":"width";if(!ue&&(ee.options[Le]||ee.options[rt]))Ne(Xe,ee[Le],ee[Le]+ee[rt]);else for(let qe of De)Ne(Xe,qe.pos,qe.pos+qe.len)}}oe.path=ce.length>0?Z.crispPolyLine(ce,oe.lineWidth||1):void 0}}function Y(oe){if(this.chart.options.isStock){let ee;this.is("column")||this.is("columnrange")?ee={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(ee={marker:{enabled:!1,radius:2}}),ee&&(oe.plotOptions[this.type]=bn(oe.plotOptions[this.type],ee))}}function ne(){let oe=this.chart,ee=this.options.dataGrouping;return this.allowDG!==!1&&ee&&wn(ee.enabled,oe.options.isStock)}function se(oe,ee){for(let re=0;re<oe.length;re+=2){let V=oe[re],Q=oe[re+1];hd(V[1])&&V[1]===Q[1]&&(V[1]=Q[1]=Dh(V[1],ee)),hd(V[2])&&V[2]===Q[2]&&(V[2]=Q[2]=Dh(V[2],ee))}return oe}K.compose=function(oe,ee,re,V){let Q=re.prototype;Q.forceCropping||(Xn(ee,"afterDrawCrosshair",k),Xn(ee,"afterHideCrosshair",M),Xn(ee,"autoLabelAlign",P),Xn(ee,"destroy",W),Xn(ee,"getPlotLinePath",H),oe.prototype.setFixedRange=to,Q.forceCropping=ne,Xn(re,"setOptions",Y),V.prototype.crispPolyLine=se)},K.stockChart=function(oe,ee,re){return new K(oe,ee,re)}}(gd||(gd={}));let qn=gd,{column:{prototype:{pointClass:Im}}}=di().seriesTypes,{column:Kn}=di().seriesTypes,{crisp:io,extend:$h,merge:md}=ie(),{defaultOptions:vd}=ie();class xd extends Kn{extendStem(k,M,P){let W=k[0],H=k[1];typeof W[2]=="number"&&(W[2]=Math.max(P+M,W[2])),typeof H[2]=="number"&&(H[2]=Math.min(P-M,H[2]))}getPointPath(k,M){let P=M.strokeWidth(),W=k.series,H=io(k.plotX||0,P),Y=Math.round(k.shapeArgs.width/2),ne=[["M",H,Math.round(k.yBottom)],["L",H,Math.round(k.plotHigh)]];if(k.close!==null){let se=io(k.plotClose,P);ne.push(["M",H,se],["L",H+Y,se]),W.extendStem(ne,P/2,se)}return ne}drawSinglePoint(k){let M=k.series,P=M.chart,W,H=k.graphic;k.plotY!==void 0&&(H||(k.graphic=H=P.renderer.path().add(M.group)),P.styledMode||H.attr(M.pointAttribs(k,k.selected&&"select")),W=M.getPointPath(k,H),H[H?"animate":"attr"]({d:W}).addClass(k.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(k,M){let P=super.pointAttribs.call(this,k,M);return delete P.fill,P}toYData(k){return[k.high,k.low,k.close]}translate(){let k=this,M=k.yAxis,P=this.pointArrayMap&&this.pointArrayMap.slice()||[],W=P.map(H=>`plot${H.charAt(0).toUpperCase()+H.slice(1)}`);W.push("yBottom"),P.push("low"),super.translate.apply(k),k.points.forEach(function(H){P.forEach(function(Y,ne){let se=H[Y];se!==null&&(k.dataModify&&(se=k.dataModify.modifyValue(se)),H[W[ne]]=M.toPixels(se,!0))}),H.tooltipPos[1]=H.plotHigh+M.pos-k.chart.plotTop})}}xd.defaultOptions=md(Kn.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),$h(xd.prototype,{pointClass:class extends Im{},animate:null,directTouch:!1,keysAffectYAxis:["low","high"],pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),$h(vd.lang,{stockOpen:"Open",stockHigh:"High",stockLow:"Low",stockClose:"Close"}),di().registerSeriesType("hlc",xd);let{seriesTypes:{hlc:Dm}}=di();class $m extends Dm.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){let k=super.getZone();return this.resolveUpColor(),k}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}let{composed:xl}=ie(),{hlc:Bh}=di().seriesTypes,{addEvent:zh,crisp:Fh,extend:kn,merge:Bm,pushUnique:Wh}=ie();function zm(K){let k=K.options,M=k.dataGrouping;M&&k.useOhlcData&&k.id!=="highcharts-navigator-series"&&(M.approximation="ohlc")}function Fm(K){let k=K.options;k.useOhlcData&&k.id!=="highcharts-navigator-series"&&kn(this,{pointValKey:on.prototype.pointValKey,pointArrayMap:on.prototype.pointArrayMap,toYData:on.prototype.toYData})}class on extends Bh{static compose(k,...M){Wh(xl,"OHLCSeries")&&(zh(k,"afterSetOptions",zm),zh(k,"init",Fm))}getPointPath(k,M){let P=super.getPointPath(k,M),W=M.strokeWidth(),H=Fh(k.plotX||0,W),Y=Math.round(k.shapeArgs.width/2);if(k.open!==null){let ne=Fh(k.plotOpen,W);P.push(["M",H,ne],["L",H-Y,ne]),super.extendStem(P,W/2,ne)}return P}pointAttribs(k,M){let P=super.pointAttribs.call(this,k,M),W=this.options;return delete P.fill,!k.options.color&&W.upColor&&k.open<k.close&&(P.stroke=W.upColor),P}toYData(k){return[k.open,k.high,k.low,k.close]}}on.defaultOptions=Bm(Bh.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>{series.chart.options.lang.stockOpen}: {point.open}<br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'}}),kn(on.prototype,{pointClass:$m,pointArrayMap:["open","high","low","close"]}),di().registerSeriesType("ohlc",on);let{column:Wm,ohlc:yd}=di().seriesTypes,{crisp:yl,merge:Um}=ie();class vs extends yd{pointAttribs(k,M){let P=Wm.prototype.pointAttribs.call(this,k,M),W=this.options,H=k.open<k.close,Y=W.lineColor||this.color,ne=k.color||this.color;if(P["stroke-width"]=W.lineWidth,P.fill=k.options.color||H&&W.upColor||ne,P.stroke=k.options.lineColor||H&&W.upLineColor||Y,M){let se=W.states[M];P.fill=se.color||P.fill,P.stroke=se.lineColor||P.stroke,P["stroke-width"]=se.lineWidth||P["stroke-width"]}return P}drawPoints(){let k=this.points,M=this.chart,P=this.yAxis.reversed;for(let W of k){let H=W.graphic,Y,ne,se,oe,ee,re,V,Q,Z,ce=!H;if(W.plotY!==void 0){H||(W.graphic=H=M.renderer.path().add(this.group)),this.chart.styledMode||H.attr(this.pointAttribs(W,W.selected&&"select")).shadow(this.options.shadow);let ue=H.strokeWidth();V=yl(W.plotX||0,ue),se=Math.min(Y=W.plotOpen,ne=W.plotClose),oe=Math.max(Y,ne),Z=Math.round(W.shapeArgs.width/2),ee=P?oe!==W.yBottom:Math.round(se)!==Math.round(W.plotHigh||0),re=P?Math.round(se)!==Math.round(W.plotHigh||0):oe!==W.yBottom,se=yl(se,ue),oe=yl(oe,ue),(Q=[]).push(["M",V-Z,oe],["L",V-Z,se],["L",V+Z,se],["L",V+Z,oe],["Z"],["M",V,se],["L",V,ee?Math.round(P?W.yBottom:W.plotHigh):se],["M",V,oe],["L",V,re?Math.round(P?W.plotHigh:W.yBottom):oe]),H[ce?"attr":"animate"]({d:Q}).addClass(W.getClassName(),!0)}}}}vs.defaultOptions=Um(yd.defaultOptions,{tooltip:yd.defaultOptions.tooltip},{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),di().registerSeriesType("candlestick",vs);let{column:{prototype:{pointClass:xs}}}=di().seriesTypes,{isNumber:Hm}=ie(),Gm=class extends xs{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return Hm(this.y)||this.y===void 0}hasNewShapeType(){let K=this.options.shape||this.series.options.shape;return this.graphic&&K&&K!==this.graphic.symbolKey}};(function(K){let k=[];function M(W,H,Y,ne,se){let oe=se&&se.anchorX||W,ee=se&&se.anchorY||H,re=this.circle(oe-1,ee-1,2,2);return re.push(["M",oe,ee],["L",W,H+ne],["L",W,H],["L",W+Y,H],["L",W+Y,H+ne],["L",W,H+ne],["Z"]),re}function P(W,H){W[H+"pin"]=function(Y,ne,se,oe,ee){let re,V=ee&&ee.anchorX,Q=ee&&ee.anchorY;if(H==="circle"&&oe>se&&(Y-=Math.round((oe-se)/2),se=oe),re=W[H](Y,ne,se,oe,ee),V&&Q){let Z=V;if(H==="circle")Z=Y+se/2;else{let ue=re[0],we=re[1];ue[0]==="M"&&we[0]==="L"&&(Z=(ue[1]+we[1])/2)}let ce=ne>Q?ne:ne+oe;re.push(["M",Z,ce],["L",V,Q]),re=re.concat(W.circle(V-1,Q-1,2,2))}return re}}K.compose=function(W){if(k.indexOf(W)===-1){k.push(W);let Y=W.prototype.symbols;Y.flag=M,P(Y,"circle"),P(Y,"square")}let H=ed().getRendererType();k.indexOf(H)&&k.push(H)}})(le||(le={}));let Vm=le;var Xm=_e(448),Ym=_e.n(Xm),bl=_e(820),bd=_e.n(bl);let{composed:qm}=ie(),{prototype:wl}=Ym(),{prototype:wd}=bd(),{defined:kd,pushUnique:Uh,stableSort:ca}=ie();(function(K){function k(P){return wd.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,P)}function M(){var Be,Xe;wl.translate.apply(this);let P=this,W=P.options,H=P.chart,Y=P.points,ne=W.onSeries,se=ne&&H.get(ne),oe=se&&se.options.step,ee=se&&se.points,re=H.inverted,V=P.xAxis,Q=P.yAxis,Z=Y.length-1,ce,ue,we=W.onKey||"y",Ce=ee&&ee.length,ze=0,Me,Ne,Re,De,We;if(se&&se.visible&&Ce){for(ze=(se.pointXOffset||0)+(se.barW||0)/2,De=se.currentDataGrouping,Ne=ee[Ce-1].x+(De?De.totalRange:0),ca(Y,(Le,rt)=>Le.x-rt.x),we="plot"+we[0].toUpperCase()+we.substr(1);Ce--&&Y[Z];)if(Me=ee[Ce],(ce=Y[Z]).y=Me.y,Me.x<=ce.x&&Me[we]!==void 0){if(ce.x<=Ne&&(ce.plotY=Me[we],Me.x<ce.x&&!oe&&(Re=ee[Ce+1]))&&Re[we]!==void 0)if(kd(ce.plotX)&&se.is("spline")){let Le=[Me.plotX||0,Me.plotY||0],rt=[Re.plotX||0,Re.plotY||0],qe=((Be=Me.controlPoints)==null?void 0:Be.high)||Le,zt=((Xe=Re.controlPoints)==null?void 0:Xe.low)||rt,nt=(mt,xt)=>Math.pow(1-mt,3)*Le[xt]+3*(1-mt)*(1-mt)*mt*qe[xt]+3*(1-mt)*mt*mt*zt[xt]+mt*mt*mt*rt[xt],at=0,kr=1,$t;for(let mt=0;mt<100;mt++){let xt=(at+kr)/2,Lt=nt(xt,0);if(Lt===null)break;if(.25>Math.abs(Lt-ce.plotX)){$t=xt;break}Lt<ce.plotX?at=xt:kr=xt}kd($t)&&(ce.plotY=nt($t,1),ce.y=Q.toValue(ce.plotY,!0))}else We=(ce.x-Me.x)/(Re.x-Me.x),ce.plotY+=We*(Re[we]-Me[we]),ce.y+=We*(Re.y-Me.y);if(Z--,Ce++,Z<0)break}}Y.forEach((Le,rt)=>{let qe;Le.plotX+=ze,(Le.plotY===void 0||re)&&(Le.plotX>=0&&Le.plotX<=V.len?re?(Le.plotY=V.translate(Le.x,0,1,0,1),Le.plotX=kd(Le.y)?Q.translate(Le.y,0,0,0,1):0):Le.plotY=(V.opposite?0:P.yAxis.len)+V.offset:Le.shapeArgs={}),(ue=Y[rt-1])&&ue.plotX===Le.plotX&&(ue.stackIndex===void 0&&(ue.stackIndex=0),qe=ue.stackIndex+1),Le.stackIndex=qe}),this.onSeries=se}K.compose=function(P){if(Uh(qm,"OnSeries")){let W=P.prototype;W.getPlotBox=k,W.translate=M}return P},K.getPlotBox=k,K.translate=M})(J||(J={}));let Km=J,{noop:kl}=ie(),{distribute:Zm}=ie(),{series:Hh,seriesTypes:{column:Di}}=di(),{addEvent:no,defined:Qm,extend:Gh,isNumber:Jm,merge:Sl,objectEach:ev,wrap:tv}=ie();class ys extends Di{animate(k){k&&this.setClip()}drawPoints(){let k,M,P,W,H,Y,ne,se,oe,ee,re,V=this.points,Q=this.chart,Z=Q.renderer,ce=Q.inverted,ue=this.options,we=ue.y,Ce=this.yAxis,ze={},Me=[],Ne=Jm(ue.borderRadius)?ue.borderRadius:0;for(W=V.length;W--;)H=V[W],ee=(ce?H.plotY:H.plotX)>this.xAxis.len,k=H.plotX,ne=H.stackIndex,P=H.options.shape||ue.shape,(M=H.plotY)!==void 0&&(M=H.plotY+we-(ne!==void 0&&ne*ue.stackDistance)),H.anchorX=ne?void 0:H.plotX,se=ne?void 0:H.plotY,re=P!=="flag",Y=H.graphic,M!==void 0&&k>=0&&!ee?(Y&&H.hasNewShapeType()&&(Y=Y.destroy()),Y||(Y=H.graphic=Z.label("",0,void 0,P,void 0,void 0,ue.useHTML).addClass("highcharts-point").add(this.markerGroup),H.graphic.div&&(H.graphic.div.point=H),Y.isNew=!0),Y.attr({align:re?"center":"left",width:ue.width,height:ue.height,"text-align":ue.textAlign,r:Ne}),Q.styledMode||Y.attr(this.pointAttribs(H)).css(Sl(ue.style,H.style)).shadow(ue.shadow),k>0&&(k-=Y.strokeWidth()%2),oe={y:M,anchorY:se},ue.allowOverlapX&&(oe.x=k,oe.anchorX=H.anchorX),Y.attr({text:H.options.title??ue.title??"A"})[Y.isNew?"attr":"animate"](oe),ue.allowOverlapX||(ze[H.plotX]?ze[H.plotX].size=Math.max(ze[H.plotX].size,Y.width||0):ze[H.plotX]={align:.5*!!re,size:Y.width||0,target:k,anchorX:k}),H.tooltipPos=[k,M+Ce.pos-Q.plotTop]):Y&&(H.graphic=Y.destroy());if(!ue.allowOverlapX){let Re=100;for(let De of(ev(ze,function(We){We.plotX=We.anchorX,Me.push(We),Re=Math.max(We.size,Re)}),Zm(Me,ce?Ce.len:this.xAxis.len,Re),V)){let We=De.plotX,Be=De.graphic,Xe=Be&&ze[We];Xe&&Be&&(Qm(Xe.pos)?Be[Be.isNew?"attr":"animate"]({x:Xe.pos+(Xe.align||0)*Xe.size,anchorX:De.anchorX}).show().isNew=!1:Be.hide().isNew=!0)}}ue.useHTML&&this.markerGroup&&tv(this.markerGroup,"on",function(Re){return Qs().prototype.on.apply(Re.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){let k=this.points;for(let M of(super.drawTracker(),k)){let P=M.graphic;P&&(M.unbindMouseOver&&M.unbindMouseOver(),M.unbindMouseOver=no(P.element,"mouseover",function(){for(let W of(M.stackIndex>0&&!M.raised&&(M._y=P.y,P.attr({y:M._y-8}),M.raised=!0),k))W!==M&&W.raised&&W.graphic&&(W.graphic.attr({y:W._y}),W.raised=!1)}))}}pointAttribs(k,M){let P=this.options,W=k&&k.color||this.color,H=P.lineColor,Y=k&&k.lineWidth,ne=k&&k.fillColor||P.fillColor;return M&&(ne=P.states[M].fillColor,H=P.states[M].lineColor,Y=P.states[M].lineWidth),{fill:ne||W,stroke:H||W,"stroke-width":Y||P.lineWidth||0}}setClip(){Hh.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}ys.compose=Vm.compose,ys.defaultOptions=Sl(Di.defaultOptions,{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold"}}),Km.compose(ys),Gh(ys.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:Gm,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:kl,init:Hh.prototype.init}),di().registerSeriesType("flags",ys);var rv=_e(184),Sd=_e.n(rv);let{addEvent:br,find:Bt,fireEvent:Vh,isArray:Xh,isNumber:wr,pick:bs}=ie();(function(K){function k(){this.brokenAxis!==void 0&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function M(){var ee;Object.keys(((ee=this.options.breaks)==null?void 0:ee[0])||{}).length&&(this.options.ordinal=!1)}function P(){let ee=this.brokenAxis;if(ee!=null&&ee.hasBreaks){let re=this.tickPositions,V=this.tickPositions.info,Q=[];for(let Z=0;Z<re.length;Z++)ee.isInAnyBreak(re[Z])||Q.push(re[Z]);this.tickPositions=Q,this.tickPositions.info=V}}function W(){this.brokenAxis||(this.brokenAxis=new oe(this))}function H(){var ce,ue;let{isDirty:ee,options:{connectNulls:re},points:V,xAxis:Q,yAxis:Z}=this;if(ee){let we=V.length;for(;we--;){let Ce=V[we],ze=(Ce.y!==null||re!==!1)&&(((ce=Q==null?void 0:Q.brokenAxis)==null?void 0:ce.isInAnyBreak(Ce.x,!0))||((ue=Z==null?void 0:Z.brokenAxis)==null?void 0:ue.isInAnyBreak(Ce.y,!0)));Ce.visible=!ze&&Ce.options.visible!==!1}}}function Y(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,bs(this.pointArrayMap,["y"]))}function ne(ee,re){var we;let V,Q,Z,ce=this,ue=ce.points;if((we=ee==null?void 0:ee.brokenAxis)!=null&&we.hasBreaks){let Ce=ee.brokenAxis;re.forEach(function(ze){V=(Ce==null?void 0:Ce.breakArray)||[],Q=ee.isXAxis?ee.min:bs(ce.options.threshold,ee.min),ue.forEach(function(Me){Z=Me["stack"+ze.toUpperCase()]??Me[ze],V.forEach(function(Ne){if(wr(Q)&&wr(Z)){let Re="";Q<Ne.from&&Z>Ne.to||Q>Ne.from&&Z<Ne.from?Re="pointBreak":(Q<Ne.from&&Z>Ne.from&&Z<Ne.to||Q>Ne.from&&Z>Ne.to&&Z<Ne.from)&&(Re="pointInBreak"),Re&&Vh(ee,Re,{point:Me,brk:Ne})}})})})}}function se(){let ee=this.currentDataGrouping,re=ee==null?void 0:ee.gapSize,V=this.points.slice(),Q=this.yAxis,Z=this.options.gapSize,ce=V.length-1;if(Z&&ce>0){let ue,we;for(this.options.gapUnit!=="value"&&(Z*=this.basePointRange),re&&re>Z&&re>=this.basePointRange&&(Z=re);ce--;)if(we&&we.visible!==!1||(we=V[ce+1]),ue=V[ce],we.visible!==!1&&ue.visible!==!1){if(we.x-ue.x>Z){let Ce=(ue.x+we.x)/2;V.splice(ce+1,0,{isNull:!0,x:Ce}),Q.stacking&&this.options.stacking&&((Q.stacking.stacks[this.stackKey][Ce]=new(Sd())(Q,Q.options.stackLabels,!1,Ce,this.stack)).total=0)}we=ue}}return this.getGraphPath(V)}K.compose=function(ee,re){if(!ee.keepProps.includes("brokenAxis")){ee.keepProps.push("brokenAxis"),br(ee,"init",W),br(ee,"afterInit",k),br(ee,"afterSetTickPositions",P),br(ee,"afterSetOptions",M);let V=re.prototype;V.drawBreaks=ne,V.gappedPath=se,br(re,"afterGeneratePoints",H),br(re,"afterRender",Y)}return ee};class oe{static isInBreak(re,V){let Q=re.repeat||1/0,Z=re.from,ce=re.to-re.from,ue=V>=Z?(V-Z)%Q:Q-(Z-V)%Q;return re.inclusive?ue<=ce:ue<ce&&ue!==0}static lin2Val(re){let V=this.min||0,Q=this.brokenAxis,Z=Q==null?void 0:Q.breakArray;if(!(Z!=null&&Z.length)||!wr(re))return re;let ce=re;if(re>V)for(let ue of Z){if(ue.from>ce)break;(ue.to<=ce&&ue.to>V||oe.isInBreak(ue,ce))&&(ce+=ue.len)}else if(re<V)for(let ue of Z){if(ue.from>V)break;(ue.from>=ce&&ue.from<V||oe.isInBreak(ue,ce))&&(ce-=ue.len)}return ce}static val2Lin(re){let V=this.min||0,Q=this.brokenAxis,Z=Q==null?void 0:Q.breakArray;if(!(Z!=null&&Z.length)||!wr(re))return re;let ce=re;if(re>V)for(let ue of Z)if(ue.to<=re&&ue.to>V)ce-=ue.len;else{if(ue.from>re)break;if(oe.isInBreak(ue,re)){ce-=re-ue.from;break}}else if(re<V)for(let ue of Z)if(ue.from>=re&&ue.from<V)ce+=ue.len;else{if(ue.from>V)break;if(oe.isInBreak(ue,re)){ce+=ue.to-re;break}}return ce}constructor(re){this.axis=re}findBreakAt(re,V){return Bt(V,function(Q){return Q.from<re&&re<Q.to})}isInAnyBreak(re,V){let Q=this.axis,Z=Q.options.breaks||[],ce=Z.length,ue,we,Ce;if(ce&&wr(re)){for(;ce--;)oe.isInBreak(Z[ce],re)&&(ue=!0,we||(we=bs(Z[ce].showPoints,!Q.isXAxis)));Ce=ue&&V?ue&&!we:ue}return Ce}setBreaks(re,V){let Q=this,Z=Q.axis,ce=Z.chart.time,ue=Xh(re)&&!!Object.keys((re==null?void 0:re[0])||{}).length;Z.isDirty=(Q.hasBreaks??!1)!==ue,Q.hasBreaks=ue,re==null||re.forEach(we=>{we.from=ce.parse(we.from)||0,we.to=ce.parse(we.to)||0}),re!==Z.options.breaks&&(Z.options.breaks=Z.userOptions.breaks=re),Z.forceRedraw=!0,Z.series.forEach(function(we){we.isDirty=!0}),ue||Z.val2lin!==oe.val2Lin||(delete Z.val2lin,delete Z.lin2val),ue&&(Z.userOptions.ordinal=!1,Z.lin2val=oe.lin2Val,Z.val2lin=oe.val2Lin,Z.setExtremes=function(we,Ce,ze,Me,Ne){var Re;if(Q.hasBreaks&&!((Re=Z.treeGrid)!=null&&Re.tree)){let De,We=this.brokenAxis.breakArray||[];for(;De=Q.findBreakAt(we,We);)we=De.to;for(;De=Q.findBreakAt(Ce,We);)Ce=De.from;Ce<we&&(Ce=we)}Z.constructor.prototype.setExtremes.call(this,we,Ce,ze,Me,Ne)},Z.setAxisTranslation=function(){var we;if(Z.constructor.prototype.setAxisTranslation.call(this),Q.unitLength=void 0,Q.hasBreaks){let Ce=Z.options.breaks||[],ze=[],Me=[],Ne=Z.pointRangePadding??0,Re=0,De,We,Be=Z.userMin??Z.min,Xe=Z.userMax??Z.max,Le=Z.dataMin??Be,rt=Z.dataMax??Xe,qe,zt;wr(Z.threshold)&&(Le=Math.min(Le??Z.threshold,Z.threshold),rt=Math.max(rt??Z.threshold,Z.threshold)),(we=Z.treeGrid)!=null&&we.tree||Ce.forEach(function(nt){We=nt.repeat||1/0,wr(Be)&&wr(Xe)&&(oe.isInBreak(nt,Be)&&(Be+=nt.to%We-Be%We),oe.isInBreak(nt,Xe)&&(Xe-=Xe%We-nt.from%We))}),wr(Le)&&wr(rt)&&Ce.forEach(function(nt){for(qe=nt.from,We=nt.repeat||1/0;qe-We>Le;)qe-=We;for(;qe<Le;)qe+=We;for(zt=qe;zt<rt;zt+=We)ze.push({value:zt,move:"in"}),ze.push({value:zt+nt.to-nt.from,move:"out",size:nt.breakSize})}),ze.sort(function(nt,at){return nt.value===at.value?(nt.move!=="in")-(at.move!=="in"):nt.value-at.value}),De=0,qe=Le,ze.forEach(nt=>{(De+=nt.move==="in"?1:-1)===1&&nt.move==="in"&&(qe=nt.value),De===0&&wr(qe)&&(Me.push({from:qe,to:nt.value,len:nt.value-qe-(nt.size||0)}),wr(Be)&&wr(Xe)&&qe<Xe&&nt.value>Be&&(Re+=nt.value-qe-(nt.size||0)))}),Q.breakArray=Me,wr(Be)&&wr(Xe)&&wr(Z.min)&&(Q.unitLength=Xe-Be-Re+Ne,Vh(Z,"afterBreaks"),Z.staticScale?Z.transA=Z.staticScale:Q.unitLength&&(Z.transA*=(Xe-Z.min+Ne)/Q.unitLength),Ne&&(Z.minPixelPadding=Z.transA*(Z.minPointOffset||0)),Z.min=Be,Z.max=Xe)}}),bs(V,!0)&&Z.chart.redraw()}}K.Additions=oe})(be||(be={}));let Gt=be,so=ie();so.BrokenAxis=so.BrokenAxis||Gt,so.BrokenAxis.compose(so.Axis,so.Series);let ti={},{arrayMax:Yh,arrayMin:dt,correctFloat:qh,extend:_l,isNumber:an}=ie();function da(K){let k=K.length,M=bt(K);return an(M)&&k&&(M=qh(M/k)),M}function bt(K){let k=K.length,M;if(!k&&K.hasNulls)M=null;else if(k)for(M=0;k--;)M+=K[k];return M}let ua={average:da,averages:function(){let K=[];return[].forEach.call(arguments,function(k){K.push(da(k))}),K[0]===void 0?void 0:K},close:function(K){return K.length?K[K.length-1]:K.hasNulls?null:void 0},high:function(K){return K.length?Yh(K):K.hasNulls?null:void 0},hlc:function(K,k,M){if(K=ti.high(K),k=ti.low(k),M=ti.close(M),an(K)||an(k)||an(M))return[K,k,M]},low:function(K){return K.length?dt(K):K.hasNulls?null:void 0},ohlc:function(K,k,M,P){if(K=ti.open(K),k=ti.high(k),M=ti.low(M),P=ti.close(P),an(K)||an(k)||an(M)||an(P))return[K,k,M,P]},open:function(K){return K.length?K[0]:K.hasNulls?null:void 0},range:function(K,k){return K=ti.low(K),k=ti.high(k),an(K)||an(k)?[K,k]:K===null&&k===null?null:void 0},sum:bt};_l(ti,ua);let oo={common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["%v %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]},{addEvent:Kh,extend:iv,merge:Zh,pick:ws}=ie();function Qh(K){let k=this,M=k.series;M.forEach(function(P){P.groupPixelWidth=void 0}),M.forEach(function(P){P.groupPixelWidth=k.getGroupPixelWidth&&k.getGroupPixelWidth(),P.groupPixelWidth&&(P.hasProcessed=!0),P.applyGrouping(!!K.hasExtremesChanged)})}function nv(){let K=this.series,k=K.length,M=0,P=!1,W,H;for(;k--;)(H=K[k].options.dataGrouping)&&(M=Math.max(M,ws(H.groupPixelWidth,oo.common.groupPixelWidth)),W=(K[k].dataTable.modified||K[k].dataTable).rowCount,(K[k].groupPixelWidth||W>this.chart.plotSizeX/M||W&&H.forced)&&(P=!0));return P?M:0}function sv(){this.series.forEach(function(K){K.hasProcessed=!1})}function Cl(K,k){let M;if(k=ws(k,!0),K||(K={forced:!1,units:null}),this instanceof I)for(M=this.series.length;M--;)this.series[M].update({dataGrouping:K},!1);else this.chart.options.series.forEach(function(P){P.dataGrouping=typeof K=="boolean"?K:Zh(K,P.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),k&&this.chart.redraw()}let ov={compose:function(K){I=K;let k=K.prototype;k.applyGrouping||(Kh(K,"afterSetScale",sv),Kh(K,"postProcessData",Qh),iv(k,{applyGrouping:Qh,getGroupPixelWidth:nv,setDataGrouping:Cl}))}},{addEvent:Jh,getMagnitude:av,normalizeTickInterval:lv,timeUnits:El}=ie();(function(K){function k(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function M(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new P(this))}K.compose=function(W){return W.keepProps.includes("dateTime")||(W.keepProps.push("dateTime"),W.prototype.getTimeTicks=k,Jh(W,"afterSetType",M)),W};class P{constructor(H){this.axis=H}normalizeTimeTickInterval(H,Y){let ne=Y||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],se=ne[ne.length-1],oe=El[se[0]],ee=se[1],re;for(re=0;re<ne.length&&(oe=El[(se=ne[re])[0]],ee=se[1],!ne[re+1]||!(H<=(oe*ee[ee.length-1]+El[ne[re+1][0]])/2));re++);oe===El.year&&H<5*oe&&(ee=[1,2,5]);let V=lv(H/oe,ee,se[0]==="year"?Math.max(av(H/oe),1):1);return{unitRange:oe,count:V,unitName:se[0]}}getXDateFormat(H,Y){let{axis:ne}=this,se=ne.chart.time;return ne.closestPointRange?se.getDateFormat(ne.closestPointRange,H,ne.options.startOfWeek,Y)||se.resolveDTLFormat(Y.year).main:se.resolveDTLFormat(Y.day).main}}K.Additions=P})(ke||(ke={}));let cv=ke,{series:{prototype:ef}}=di(),{addEvent:Tl,defined:ha,error:tf,extend:rf,isNumber:wi,merge:ki,pick:dv,splat:uv}=ie(),hv=ef.generatePoints;function nf(K){var k,M,P;let W,H,Y=this.chart,ne=this.options.dataGrouping,se=this.allowDG!==!1&&ne&&dv(ne.enabled,Y.options.isStock),oe=this.reserveSpace(),ee=this.currentDataGrouping,re,V,Q=!1;se&&!this.requireSorting&&(this.requireSorting=Q=!0);let Z=(k=this,M=K,!!(k.isCartesian&&!k.isDirty&&!k.xAxis.isDirty&&!k.yAxis.isDirty&&!M)||!se);if(Q&&(this.requireSorting=!1),Z)return;this.destroyGroupedData();let ce=ne.groupAll?this.dataTable:this.dataTable.modified||this.dataTable,ue=this.getColumn("x",!ne.groupAll),we=Y.plotSizeX,Ce=this.xAxis,ze=Ce.getExtremes(),Me=Ce.options.ordinal,Ne=this.groupPixelWidth;if(Ne&&ue&&ce.rowCount&&we&&wi(ze.min)){H=!0,this.isDirty=!0,this.points=null;let Re=ze.min,De=ze.max,We=Me&&Ce.ordinal&&Ce.ordinal.getGroupIntervalFactor(Re,De,this)||1,Be=Ne*(De-Re)/we*We,Xe=Ce.getTimeTicks(cv.Additions.prototype.normalizeTimeTickInterval(Be,ne.units||oo.units),Math.min(Re,ue[0]),Math.max(De,ue[ue.length-1]),Ce.options.startOfWeek,ue,this.closestPointRange),Le=ef.groupData.apply(this,[ce,Xe,ne.approximation]),rt=Le.modified,qe=rt.getColumn("x",!0),zt=0;for(ne!=null&&ne.smoothed&&rt.rowCount&&(ne.firstAnchor="firstPoint",ne.anchor="middle",ne.lastAnchor="lastPoint",tf(32,!1,Y,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),W=1;W<Xe.length;W++)Xe.info.segmentStarts&&Xe.info.segmentStarts.indexOf(W)!==-1||(zt=Math.max(Xe[W]-Xe[W-1],zt));(re=Xe.info).gapSize=zt,this.closestPointRange=Xe.info.totalRange,this.groupMap=Le.groupMap,this.currentDataGrouping=re,function(nt,at,kr){let $t=nt.options.dataGrouping,mt=nt.currentDataGrouping&&nt.currentDataGrouping.gapSize,xt=nt.getColumn("x");if(!($t&&xt.length&&mt&&nt.groupMap))return;let Lt=at.length-1,mr=$t.anchor,Si=$t.firstAnchor,Mr=$t.lastAnchor,co=at.length-1,fa=0;if(Si&&xt[0]>=at[0]){let Sn;fa++;let Ed=nt.groupMap[0].start,gf=nt.groupMap[0].length;wi(Ed)&&wi(gf)&&(Sn=Ed+(gf-1)),at[0]={start:at[0],middle:at[0]+.5*mt,end:at[0]+mt,firstPoint:xt[0],lastPoint:Sn&&xt[Sn]}[Si]}if(Lt>0&&Mr&&mt&&at[Lt]>=kr-mt){co--;let Sn=nt.groupMap[nt.groupMap.length-1].start;at[Lt]={start:at[Lt],middle:at[Lt]+.5*mt,end:at[Lt]+mt,firstPoint:Sn&&xt[Sn],lastPoint:xt[xt.length-1]}[Mr]}if(mr&&mr!=="start"){let Sn=mt*{middle:.5,end:1}[mr];for(;co>=fa;)at[co]+=Sn,co--}}(this,qe||[],De),oe&&qe&&(ha((P=qe)[0])&&wi(Ce.min)&&wi(Ce.dataMin)&&P[0]<Ce.min&&((!ha(Ce.options.min)&&Ce.min<=Ce.dataMin||Ce.min===Ce.dataMin)&&(Ce.min=Math.min(P[0],Ce.min)),Ce.dataMin=Math.min(P[0],Ce.dataMin)),ha(P[P.length-1])&&wi(Ce.max)&&wi(Ce.dataMax)&&P[P.length-1]>Ce.max&&((!ha(Ce.options.max)&&wi(Ce.dataMax)&&Ce.max>=Ce.dataMax||Ce.max===Ce.dataMax)&&(Ce.max=Math.max(P[P.length-1],Ce.max)),Ce.dataMax=Math.max(P[P.length-1],Ce.dataMax))),ne.groupAll&&(this.allGroupedTable=rt,qe=(rt=(V=this.cropData(rt,Ce.min||0,Ce.max||0)).modified).getColumn("x"),this.cropStart=V.start),this.dataTable.modified=rt}else this.groupMap=void 0,this.currentDataGrouping=void 0;this.hasGroupedData=H,this.preventGraphAnimation=(ee&&ee.totalRange)!==(re&&re.totalRange)}function sf(){this.groupedData&&(this.groupedData.forEach(function(K,k){K&&(this.groupedData[k]=K.destroy?K.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function fv(){hv.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function Al(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function of(K,k,M){let P=K.getColumn("x",!0)||[],W=K.getColumn("y",!0),H=this,Y=H.data,ne=H.options&&H.options.data,se=[],oe=new Ch,ee=[],re=K.rowCount,V=!!W,Q=[],Z=H.pointArrayMap,ce=Z&&Z.length,ue=["x"].concat(Z||["y"]),we=(Z||["y"]).map(()=>[]),Ce=this.options.dataGrouping&&this.options.dataGrouping.groupAll,ze,Me,Ne,Re=0,De=0,We=typeof M=="function"?M:M&&ti[M]?ti[M]:ti[H.getDGApproximation&&H.getDGApproximation()||"average"];if(ce){let Le=Z.length;for(;Le--;)Q.push([])}else Q.push([]);let Be=ce||1;for(let Le=0;Le<=re;Le++)if(!(P[Le]<k[0])){for(;k[Re+1]!==void 0&&P[Le]>=k[Re+1]||Le===re;){if(ze=k[Re],H.dataGroupInfo={start:Ce?De:H.cropStart+De,length:Q[0].length,groupStart:ze},Ne=We.apply(H,Q),H.pointClass&&!ha(H.dataGroupInfo.options)&&(H.dataGroupInfo.options=ki(H.pointClass.prototype.optionsToObject.call({series:H},H.options.data[H.cropStart+De])),ue.forEach(function(rt){delete H.dataGroupInfo.options[rt]})),Ne!==void 0){se.push(ze);let rt=uv(Ne);for(let qe=0;qe<rt.length;qe++)we[qe].push(rt[qe]);ee.push(H.dataGroupInfo)}De=Le;for(let rt=0;rt<Be;rt++)Q[rt].length=0,Q[rt].hasNulls=!1;if(Re+=1,Le===re)break}if(Le===re)break;if(Z){let rt,qe=Ce?Le:H.cropStart+Le,zt=Y&&Y[qe]||H.pointClass.prototype.applyOptions.apply({series:H},[ne[qe]]);for(let nt=0;nt<ce;nt++)wi(rt=zt[Z[nt]])?Q[nt].push(rt):rt===null&&(Q[nt].hasNulls=!0)}else wi(Me=V?W[Le]:null)?Q[0].push(Me):Me===null&&(Q[0].hasNulls=!0)}let Xe={x:se};return(Z||["y"]).forEach((Le,rt)=>{Xe[Le]=we[rt]}),oe.setColumns(Xe),{groupMap:ee,modified:oe}}function af(K){let k=K.options,M=this.type,P=this.chart.options.plotOptions,W=this.useCommonDataGrouping&&oo.common,H=oo.seriesSpecific,Y=ie().defaultOptions.plotOptions[M].dataGrouping;if(P&&(H[M]||W)){let ne=this.chart.rangeSelector;Y||(Y=ki(oo.common,H[M])),k.dataGrouping=ki(W,Y,P.series&&P.series.dataGrouping,P[M].dataGrouping,this.userOptions.dataGrouping,!k.isInternal&&ne&&wi(ne.selected)&&ne.buttonOptions[ne.selected].dataGrouping)}}let lf={compose:function(K){let k=K.prototype;k.applyGrouping||(Tl(K.prototype.pointClass,"update",function(){if(this.dataGroup)return tf(24,!1,this.series.chart),!1}),Tl(K,"afterSetOptions",af),Tl(K,"destroy",sf),rf(k,{applyGrouping:nf,destroyGroupedData:sf,generatePoints:fv,getDGApproximation:Al,groupData:of}))},groupData:of},{format:pv}=Js(),{composed:cf}=ie(),{addEvent:gv,extend:mv,isNumber:vv,pick:ao,pushUnique:df}=ie();function xv(K){var ue;let k=this.chart,M=k.time,P=K.point,W=P.series,H=W.options,Y=W.tooltipOptions,ne=H.dataGrouping,se=W.xAxis,oe=Y.xDateFormat||"",ee,re,V,Q,Z,ce=Y[K.isFooter?"footerFormat":"headerFormat"];if(se&&se.options.type==="datetime"&&ne&&vv(P.key)){re=W.currentDataGrouping,V=ne.dateTimeLabelFormats||oo.common.dateTimeLabelFormats,re?(Q=V[re.unitName],re.count===1?oe=Q[0]:(oe=Q[1],ee=Q[2])):!oe&&V&&se.dateTime&&(oe=se.dateTime.getXDateFormat(P.x,Y.dateTimeLabelFormats));let we=ao((ue=W.groupMap)==null?void 0:ue[P.index].groupStart,P.key),Ce=we+((re==null?void 0:re.totalRange)||0)-1;Z=M.dateFormat(oe,we),ee&&(Z+=M.dateFormat(ee,Ce)),W.chart.styledMode&&(ce=this.styledModeFormat(ce)),K.text=pv(ce,{point:mv(P,{key:Z}),series:W},k),K.preventDefault()}}let yv={compose:function(K,k,M){ov.compose(K),lf.compose(k),M&&df(cf,"DataGrouping")&&gv(M,"headerFormatter",xv)},groupData:lf.groupData},$i=ie();$i.dataGrouping=$i.dataGrouping||{},$i.dataGrouping.approximationDefaults=$i.dataGrouping.approximationDefaults||ua,$i.dataGrouping.approximations=$i.dataGrouping.approximations||ti,yv.compose($i.Axis,$i.Series,$i.Tooltip);let{defined:bv,isNumber:uf,pick:wv}=ie(),{addEvent:hf,isObject:_d,pick:kv,defined:lo,merge:Sv}=ie(),{getAssignedAxis:Ml}={getAssignedAxis:function(K){return K.filter(k=>{let M=k.axis.getExtremes(),P=M.min,W=M.max,H=wv(k.axis.minPointOffset,0);return uf(P)&&uf(W)&&k.value>=P-H&&k.value<=W+H&&!k.axis.options.isInternal})[0]}},ff=[],Cd={enabled:!0,sensitivity:1.1},pf=K=>(_d(K)||(K={enabled:K??!0}),Sv(Cd,K)),_v=function(K,k,M,P,W,H,Y){let ne=kv(Y.type,K.zooming.type,""),se=[];ne==="x"?se=M:ne==="y"?se=P:ne==="xy"&&(se=K.axes);let oe=K.transform({axes:se,to:{x:W-5,y:H-5,width:10,height:10},from:{x:W-5*k,y:H-5*k,width:10*k,height:10*k},trigger:"mousewheel"});return oe&&(lo(j)&&clearTimeout(j),j=setTimeout(()=>{var ee;(ee=K.pointer)==null||ee.drop()},400)),oe};function Cv(){let K=pf(this.zooming.mouseWheel);K.enabled&&hf(this.container,"wheel",k=>{var W,H;k=((W=this.pointer)==null?void 0:W.normalize(k))||k;let{pointer:M}=this,P=M&&!M.inClass(k.target,"highcharts-no-mousewheel");if(this.isInsidePlot(k.chartX-this.plotLeft,k.chartY-this.plotTop)&&P){let Y=K.sensitivity||1.1,ne=k.detail||(k.deltaY||0)/120,se=Ml(M.getCoordinates(k).xAxis),oe=Ml(M.getCoordinates(k).yAxis);_v(this,Math.pow(Y,ne),se?[se.axis]:this.xAxis,oe?[oe.axis]:this.yAxis,k.chartX,k.chartY,K)&&((H=k.preventDefault)==null||H.call(k))}})}/**
* @license Highcharts JS v12.4.0 (2025-09-04)
* @module highcharts/modules/mouse-wheel-zoom
* @requires highcharts
*
* Mousewheel zoom module
*
* (c) 2023 Askel Eirik Johansson
*
* License: www.highcharts.com/license
*/let jl=ie();jl.MouseWheelZoom=jl.MouseWheelZoom||{compose:function(K){ff.indexOf(K)===-1&&(ff.push(K),hf(K,"afterGetContainer",Cv))}},jl.MouseWheelZoom.compose(jl.Chart);let Tt=ie();Tt.Navigator=Tt.Navigator||ps,Tt.OrdinalAxis=Tt.OrdinalAxis||ad,Tt.RangeSelector=Tt.RangeSelector||ms,Tt.Scrollbar=Tt.Scrollbar||Un,Tt.stockChart=Tt.stockChart||qn.stockChart,Tt.StockChart=Tt.StockChart||Tt.stockChart,Tt.extend(Tt.StockChart,qn),ot.compose(Tt.Series,Tt.Axis,Tt.Point),ys.compose(Tt.Renderer),on.compose(Tt.Series),Tt.Navigator.compose(Tt.Chart,Tt.Axis,Tt.Series),Tt.OrdinalAxis.compose(Tt.Axis,Tt.Series,Tt.Chart),Tt.RangeSelector.compose(Tt.Axis,Tt.Chart),Tt.Scrollbar.compose(Tt.Axis),Tt.StockChart.compose(Tt.Chart,Tt.Axis,Tt.Series,Tt.SVGRenderer);let Ev=ie();return Oe.default})())})(XA);var ZF=XA.exports;const t_=Vo(ZF);try{const e=t_.default||t_;typeof window<"u"&&typeof e=="function"&&e(VA)}catch(e){console.error("Failed to initialize Highcharts Stock module:",e)}function QF({data:e,onMatchClick:t}){const r=T.useMemo(()=>{const i=[];let s=1500;return e.forEach((a,c)=>{let f=s;const v=a.rating,x=Math.max(f,v)+5,S=Math.min(f,v)-5;a.isReset?i.push({x:c,open:f,high:x,low:S,close:v,color:"#6b7280",lineColor:"#4b5563",upColor:"#6b7280",upLineColor:"#4b5563"}):i.push([c,f,x,S,v]),s=v}),{chart:{type:"candlestick",backgroundColor:"transparent",height:350,spacingBottom:15,spacingTop:10,style:{fontFamily:"Lato, sans-serif"}},credits:{enabled:!1},exporting:{enabled:!0},navigator:{enabled:!1},scrollbar:{enabled:!1},rangeSelector:{enabled:!1},title:null,subtitle:null,xAxis:{type:"linear",title:{text:"Match #",style:{fontSize:"11px",color:"#9ca3af",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"}},labels:{style:{color:"#6b7280",fontSize:"10px"},formatter:function(){return String(this.value+1)}},lineColor:"#374151",tickColor:"#374151",gridLineColor:"#1f2937",gridLineWidth:1,min:e.length>0?0:void 0,max:e.length>0?Math.max(0,e.length-1):void 0,plotLines:[],accessibility:{rangeDescription:"Range: Match 1 to "+e.length}},yAxis:{title:{text:"Rating",style:{fontSize:"11px",color:"#9ca3af",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"}},labels:{style:{color:"#6b7280",fontSize:"10px"}},gridLineColor:"#1f2937",gridLineWidth:1,lineColor:"#374151",opposite:!1,accessibility:{description:"Rating value"}},legend:{enabled:!1},plotOptions:{candlestick:{color:"#ef4444",upColor:"#22c55e",lineColor:"#ef4444",upLineColor:"#22c55e",dataLabels:{enabled:!1}},series:{cursor:"pointer",point:{events:{click:function(){const a=e[this.x];t&&a&&!a.isReset&&t(a.matchId)}}}}},tooltip:{shared:!0,useHTML:!0,backgroundColor:"rgba(15, 20, 30, 0.95)",borderColor:"rgba(234, 179, 8, 0.5)",borderRadius:8,borderWidth:1,shadow:{color:"rgba(0, 0, 0, 0.5)",offsetX:0,offsetY:4,opacity:.5,width:10},style:{color:"#e5e7eb",fontFamily:"Lato, sans-serif"},formatter:function(){var S,C;if(!this.points||this.points.length===0)return"";const a=e[this.x];if(!a)return"";if(a.isReset){let N=1500;for(let U=this.x-1;U>=0;U--)if(e[U]&&!((S=e[U])!=null&&S.isReset)){N=((C=e[U])==null?void 0:C.rating)||1500;break}const B=N-a.rating;return`<div class="p-2 min-w-[200px]">
              <div style="font-family: 'Cinzel', serif; font-weight: bold; color: #9ca3af; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid #4b5563; padding-bottom: 4px; margin-bottom: 4px;"> Season Reset</div>
              <div style="font-size: 12px; color: #d1d5db;">
                <div style="display: flex; justify-content: space-between;"><span>Previous Rating:</span> <b>${N.toFixed(0)}</b></div>
                <div style="display: flex; justify-content: space-between;"><span>Reset to:</span> <b>${a.rating.toFixed(0)}</b></div>
                ${B>0?`<div style="color: #ef4444; font-weight: bold; margin-top: 4px;">Rating Drop: -${B.toFixed(0)}</div>`:""}
                <div style="margin-top: 6px; font-size: 10px; color: #9ca3af; font-style: italic;">New season begins at 1500</div>
              </div>
            </div>`}const c=a.change>=0?"#22c55e":"#ef4444",f=a.change>=0?"+":"",v=a.won?"VICTORY":"DEFEAT",x=a.won?"#22c55e":"#ef4444";return`<div class="p-2 min-w-[200px]">
            <div style="font-family: 'Cinzel', serif; font-weight: bold; color: ${x}; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid ${x}40; padding-bottom: 4px; margin-bottom: 4px;">${v}</div>
            <div style="font-size: 12px; color: #d1d5db;">
              <div style="margin-bottom: 4px;">vs <span style="font-weight: bold; color: #fff;">${a.opponentName}</span></div>
              <div style="display: flex; justify-content: space-between;"><span>Rating:</span> <b>${a.rating.toFixed(0)}</b></div>
              <div style="display: flex; justify-content: space-between; color: ${c};"><span>Change:</span> <b>${f}${a.change.toFixed(1)}</b></div>
              ${a.eventTitle?`<div style="margin-top: 6px; font-size: 10px; color: #ca8a04; border-top: 1px solid #ca8a0440; padding-top: 4px;">${a.eventTitle}</div>`:""}
            </div>
          </div>`}},series:[{name:"Rating Progress",data:i,type:"candlestick"}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:280},xAxis:{labels:{enabled:!1}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"}}}]}}},[e,t]);return h.jsx("div",{className:"w-full overflow-hidden",children:h.jsx(qF,{highcharts:VA,options:r,constructorType:"chart"})})}const tu=20;function cp(e,t=0){return e.toLocaleString(void 0,{maximumFractionDigits:t,minimumFractionDigits:t})}function JF(){const{id:e}=EE(),t=e?parseInt(e):NaN,[r,i]=T.useState(1),{openMatch:s}=vw(),[a,c]=T.useState([]),{players:f,loading:v}=Lg(),[x,S]=T.useState([]),[C,N]=T.useState(!0),[B,U]=T.useState([]),[D,R]=T.useState([]),[I,j]=T.useState(null);T.useEffect(()=>{let he=!0;return(async()=>{const _e=await Ku();he&&U(_e)})(),()=>{he=!1}},[]),T.useEffect(()=>{let he=!0;return(async()=>{const _e=await qc();he&&R(_e)})(),()=>{he=!1}},[]),T.useEffect(()=>{let he=!0;return(async()=>{N(!0);const _e=await F3();he&&(S(_e),N(!1))})(),()=>{he=!1}},[]),T.useEffect(()=>{if(isNaN(t))return;let he=!0;return(async()=>{const _e=await Ge.from("rating_events").select("*").eq("player_id",t).eq("event_type","match").not("match_id","is",null).order("id",{ascending:!0});he&&!_e.error&&_e.data&&c(_e.data)})(),()=>{he=!1}},[t,x]);const O=T.useMemo(()=>isNaN(t)?void 0:f.find(he=>he.id===t),[f,t]);gn(O?`Player - ${O.name}`:"Player");const q=T.useMemo(()=>O?[...f].sort((_e,Oe)=>(Oe.rating??0)-(_e.rating??0)).findIndex(_e=>_e.id===O.id)+1:null,[f,O]),ae=T.useMemo(()=>isNaN(t)?[]:x.filter(_e=>_e.player1_id===t||_e.player2_id===t).sort((_e,Oe)=>Oe.id-_e.id),[x,t]),te=T.useMemo(()=>I===null?ae:ae.filter(he=>he.season_id===I),[ae,I]),le=T.useMemo(()=>{let he=0,_e=0;const Oe=[];for(const ie of ae){if(!ie.winner_id)continue;const me=ie.winner_id===t,pe=ie.player1_id===t,Te=pe?ie.player2_id:ie.player1_id,$e=f.find(et=>et.id===Te),Ye=pe?ie.player1_score:ie.player2_score,Se=pe?ie.player2_score:ie.player1_score,Ve=pe?ie.rating_change_p1:ie.rating_change_p2;me?(he++,Oe.length<10&&Oe.push({result:"W",matchId:ie.id,opponentName:($e==null?void 0:$e.name)||"Unknown",score:`${Ye??"?"}-${Se??"?"}`,ratingChange:Ve??null})):(_e++,Oe.length<10&&Oe.push({result:"L",matchId:ie.id,opponentName:($e==null?void 0:$e.name)||"Unknown",score:`${Ye??"?"}-${Se??"?"}`,ratingChange:Ve??null}))}const Je=he+_e>0?he/(he+_e)*100:0;return{w:he,l:_e,winRate:Je,recentForm:Oe}},[ae,t,f]),J=T.useMemo(()=>{if(!O)return[];if(a.length>0){const me=a.filter(Se=>Se.match_id).map(Se=>{let Ve="Unknown";if(Se.opponent_id){const et=f.find(tt=>tt.id===Se.opponent_id);Ve=(et==null?void 0:et.name)||`Player ${Se.opponent_id}`}return{eventId:Se.id,rating:Se.rating,change:Se.rating_change||0,won:Se.result===1,matchId:Se.match_id||0,opponentName:Ve,eventTitle:null,isReset:!1,seasonId:Se.season_id}}),pe=new Map;for(const Se of me){const Ve=Se.matchId?pe.get(Se.matchId):void 0;(!Ve||Ve&&Se.eventId>Ve.eventId)&&Se.matchId&&pe.set(Se.matchId,Se)}let Te=Array.from(pe.values());Te.sort((Se,Ve)=>Se.eventId-Ve.eventId);const $e=Te.length;if(Te=Te.slice(-$e),Te.length===0)return[];const Ye=[];for(let Se=0;Se<Te.length;Se++){const Ve=Te[Se],et=Se>0?Te[Se-1]:null;et&&et.seasonId!==Ve.seasonId&&Ye.push({matchNum:Ye.length+1,rating:1500,change:0,won:!1,matchId:0,opponentName:"Season Reset",eventTitle:null,isReset:!0}),Ye.push({matchNum:Ye.length+1,rating:Ve.rating,change:Ve.change,won:Ve.won,matchId:Ve.matchId,opponentName:Ve.opponentName,eventTitle:Ve.eventTitle,isReset:!1})}return Ye}const he=ae.length;let _e=[...ae].slice(0,he).reverse();if(_e.length===0)return[];let Oe=O.rating??1500;for(const me of _e){if(!me.winner_id)continue;const pe=me.player1_id===t?me.rating_change_p1||0:me.rating_change_p2||0;Oe-=pe}const Je=[];let ie=Oe;return _e.forEach((me,pe)=>{if(!me.winner_id)return;const Te=me.player1_id===t?me.rating_change_p1||0:me.rating_change_p2||0,$e=me.winner_id===t,Ye=me.player1_id===t?me.player2_id:me.player1_id,Se=f.find(et=>et.id===Ye),Ve=me.event_id?B.find(et=>et.id===me.event_id):null;ie+=Te,Je.push({matchNum:pe+1,rating:ie,change:Te,won:$e,matchId:me.id,opponentName:(Se==null?void 0:Se.name)||`Player ${Ye}`,eventTitle:(Ve==null?void 0:Ve.title)||null,isReset:!1})}),Je},[ae,t,O,f,B,a]),be=Math.ceil(te.length/tu),ke=T.useMemo(()=>{const he=(r-1)*tu,_e=he+tu;return te.slice(he,_e)},[te,r]);T.useEffect(()=>{i(1)},[I]);const Ie=T.useMemo(()=>{if(!O)return null;const he=O.twitter?`https://unavatar.io/twitter/${O.twitter.replace("@","")}?fallback=false`:`https://api.dicebear.com/7.x/initials/png?seed=${encodeURIComponent(O.name)}&backgroundColor=0a0a0a`,_e=`${O.name} - OFC Rankings`,Oe=`Rating: ${cp(O.rating??1500)} | Rank: #${q??"?"} | Record: ${le.w}W - ${le.l}L (${le.winRate.toFixed(1)}%) | Peak: ${cp(O.peak_rating??O.rating??1500)}`,Je=`https://fottensc.github.io/SCElo/#/players/${O.id}`;return{title:_e,description:Oe,url:Je,avatarUrl:he}},[O,q,le]);return h.jsxs("section",{className:"space-y-8",children:[Ie&&h.jsxs(dI,{children:[h.jsx("title",{children:Ie.title}),h.jsx("meta",{name:"description",content:Ie.description}),h.jsx("meta",{property:"og:type",content:"profile"}),h.jsx("meta",{property:"og:url",content:Ie.url}),h.jsx("meta",{property:"og:title",content:Ie.title}),h.jsx("meta",{property:"og:description",content:Ie.description}),h.jsx("meta",{property:"og:image",content:Ie.avatarUrl}),h.jsx("meta",{property:"og:site_name",content:"OFC Rankings"}),h.jsx("meta",{name:"twitter:card",content:"summary"}),h.jsx("meta",{name:"twitter:url",content:Ie.url}),h.jsx("meta",{name:"twitter:title",content:Ie.title}),h.jsx("meta",{name:"twitter:description",content:Ie.description}),h.jsx("meta",{name:"twitter:image",content:Ie.avatarUrl}),h.jsx("meta",{name:"theme-color",content:"#eab308"})]}),h.jsx("div",{className:"flex items-center justify-between border-b border-primary/30 pb-4",children:h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs(Tr,{className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center gap-1 font-heading uppercase tracking-wider",to:"/players",children:[h.jsx("span",{children:""})," Back to Roster"]})})}),v&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),!O&&!v&&h.jsx("div",{className:"text-center py-12 text-muted-foreground font-heading text-xl",children:"Player not found."}),O&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-primary/50 bg-card/80 backdrop-blur-md shadow-[0_0_20px_rgba(0,0,0,0.5)]",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:h.jsx(TT,{size:200})}),h.jsx("div",{className:"absolute top-0 left-0 w-2 h-full bg-primary/60"}),h.jsxs("div",{className:"p-6 md:p-8 flex flex-col md:flex-row gap-8 items-center md:items-start relative z-10",children:[h.jsxs("div",{className:"shrink-0 relative group",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/30 rounded-full blur-xl opacity-50 group-hover:opacity-80 transition-opacity"}),h.jsx($s,{name:O.name,twitter:O.twitter,size:128,className:"h-32 w-32 md:h-40 md:w-40 border-4 border-primary/50 shadow-2xl relative z-10"})]}),h.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-black text-primary drop-shadow-[0_0_10px_rgba(234,179,8,0.5)] tracking-wide uppercase",children:O.name}),O.twitter&&h.jsxs("a",{href:`https://twitter.com/${O.twitter.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-lg text-muted-foreground hover:text-primary transition-colors font-body inline-flex items-center gap-1",children:["@",O.twitter.replace("@","")]})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 pt-4 border-t border-border/30",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Rating"}),h.jsx("div",{className:"text-3xl font-bold text-foreground",children:cp(O.rating??0,0)})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Rank"}),h.jsxs("div",{className:"text-3xl font-bold text-foreground",children:["#",q,q&&q<=10&&h.jsx("span",{className:"ml-2 text-xs align-top bg-yellow-500/20 text-yellow-500 border border-yellow-500/30 px-1.5 py-0.5 rounded font-heading",children:"Top 10"})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Win Rate"}),h.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[le.winRate.toFixed(1),"%",h.jsxs("span",{className:"text-sm font-normal text-muted-foreground ml-1",children:["(",le.w,"W - ",le.l,"L)"]})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Peak"}),h.jsx("div",{className:"text-3xl font-bold text-foreground",children:cp(O.peak_rating??0,0)})]})]})]})]}),h.jsx("div",{className:"px-6 pb-6 md:px-8 md:pb-8 relative z-10",children:h.jsx("div",{className:"border-t border-border/30 pt-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Badges"})}),h.jsx("div",{className:"flex items-center justify-center py-8 bg-background/40 rounded-lg border border-border/50",children:h.jsx("span",{className:"text-sm text-muted-foreground italic",children:"No badges earned yet."})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Recent Form"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Last 10 matches"})]}),le.recentForm.length===0?h.jsx("div",{className:"flex items-center justify-center py-8 bg-background/40 rounded-lg border border-border/50",children:h.jsx("span",{className:"text-sm text-muted-foreground italic",children:"No recent matches recorded."})}):h.jsx("div",{className:"flex flex-wrap gap-1.5",children:le.recentForm.map((he,_e)=>h.jsxs("div",{className:"relative group",children:[h.jsx("button",{onClick:()=>s(he.matchId),className:`w-14 h-14 rounded border-2 flex items-center justify-center font-bold shadow-md transition-all hover:scale-110 hover:shadow-lg cursor-pointer ${he.result==="W"?"bg-green-500/20 border-green-500/60 text-green-400 hover:bg-green-500/30":"bg-red-500/20 border-red-500/60 text-red-400 hover:bg-red-500/30"}`,children:h.jsx("div",{className:"text-lg font-bold",children:he.result})}),h.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-popover border border-border rounded-lg shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:[h.jsx("div",{className:"text-xs font-heading font-bold text-foreground",children:he.opponentName}),h.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:["Score: ",h.jsx("span",{className:"font-bold text-foreground",children:he.score})]}),he.ratingChange!==null&&h.jsxs("div",{className:`text-xs font-bold mt-0.5 ${he.ratingChange>=0?"text-green-400":"text-red-400"}`,children:[he.ratingChange>=0?"+":"",Math.round(he.ratingChange)]}),h.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-border"})]})]},_e))})]})]})})})]}),J.length>0&&h.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-primary/30 bg-card/80 backdrop-blur-md shadow-lg",children:[h.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary/60"}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"p-2 rounded-lg bg-primary/10 border border-primary/30",children:h.jsx(w$,{size:20,className:"text-primary"})}),h.jsx("h3",{className:"font-heading uppercase tracking-wider text-lg text-foreground",children:"Rating History"})]}),h.jsx(QF,{data:J,onMatchClick:s})]})]}),h.jsxs(pr,{className:"bg-card/50 backdrop-blur-sm border-border/50",children:[h.jsx(Kr,{className:"border-b border-border/30 pb-4",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[h.jsxs(Zr,{className:"font-heading uppercase tracking-wider text-lg flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),"Battle Log"]}),h.jsx("div",{className:"w-full md:w-64",children:h.jsx(Ms,{value:I===null?"all":String(I),onValueChange:he=>{j(he==="all"?null:parseInt(he,10))},placeholder:"Select season...",searchPlaceholder:"Search seasons...",options:[{value:"all",label:"All seasons"},...D.filter(he=>he.status==="active").map(he=>({value:String(he.id),label:`${he.name} (Active)`})),...D.filter(he=>he.status==="archived").sort((he,_e)=>he.id-_e.id).map(he=>({value:String(he.id),label:`${he.name} (Archived)`}))]})})]})}),h.jsxs(xr,{className:"p-0",children:[h.jsx("div",{className:"divide-y divide-border/30",children:ke.map(he=>{const _e=he.player1_id===t?he.player2_id:he.player1_id,Oe=f.find($e=>$e.id===_e),Je=he.winner_id===t,ie=he.player1_id===t?he.rating_change_p1:he.rating_change_p2,me=he.event_id?B.find($e=>$e.id===he.event_id):null,pe=he.player1_id===t?he.player1_score??"?":he.player2_score??"?",Te=he.player1_id===t?he.player2_score??"?":he.player1_score??"?";return h.jsxs("div",{className:"p-4 hover:bg-muted/20 transition-colors group",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:`text-xs font-bold uppercase px-1.5 py-0.5 rounded border ${Je?"bg-green-500/10 text-green-500 border-green-500/30":"bg-red-500/10 text-red-500 border-red-500/30"}`,children:Je?"Victory":"Defeat"}),h.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:me?me.title:"Match #"+he.id})]}),h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[Oe?h.jsx(Tr,{to:`/players/${_e}`,className:"shrink-0 relative",children:h.jsx($s,{name:Oe.name,twitter:Oe.twitter,size:40,className:"h-10 w-10 border border-border group-hover:border-primary transition-colors"})}):h.jsx("div",{className:"h-10 w-10 bg-muted rounded-full"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"VS"}),Oe?h.jsx(Tr,{to:`/players/${_e}`,className:"font-heading font-bold text-sm truncate hover:text-primary block",children:Oe.name}):h.jsx("span",{className:"text-sm text-muted-foreground",children:"Unknown"})]})]}),h.jsxs("div",{className:"text-right shrink-0",children:[h.jsxs("div",{className:"font-heading font-black text-xl",children:[h.jsx("span",{className:Je?"text-green-500":"text-muted-foreground",children:pe}),h.jsx("span",{className:"text-muted-foreground mx-1",children:"-"}),h.jsx("span",{className:Je?"text-muted-foreground":"text-green-500",children:Te})]}),h.jsx("div",{className:"text-xs font-bold",children:ie!=null?h.jsxs("span",{className:ie>=0?"text-green-500":"text-red-500",children:[ie>0?"+":"",ie.toFixed(1)]}):h.jsx("span",{className:"text-muted-foreground",children:"-"})})]})]}),h.jsx("button",{onClick:()=>s(he.id),className:"w-full mt-3 text-xs text-center py-1.5 border border-border/50 rounded hover:bg-primary/10 hover:text-primary hover:border-primary/50 transition-colors uppercase tracking-wider font-bold opacity-0 group-hover:opacity-100",children:"View Details"})]},he.id)})}),te.length>tu&&h.jsx("div",{className:"p-4 border-t border-border/30",children:h.jsx(Gb,{currentPage:r,totalPages:be,onPageChange:i,itemsPerPage:tu,totalItems:te.length})})]})]})]})]})}const YA=T.createContext(void 0);function eW({children:e}){const[t,r]=T.useState(null),[i,s]=T.useState(!0),[a,c]=T.useState(!1);T.useEffect(()=>{let v=!0;(async()=>{var C;const{data:S}=await Ge.auth.getSession();if(v){if(r(S.session),(C=S.session)!=null&&C.user){const N=S.session.user.app_metadata;v&&c((N==null?void 0:N.role)==="admin")}else c(!1);s(!1)}})();const{data:x}=Ge.auth.onAuthStateChange(async(S,C)=>{if(r(C),C!=null&&C.user){const N=C.user.app_metadata;c((N==null?void 0:N.role)==="admin")}else c(!1);C&&window.location.hash.includes("access_token")&&(window.location.hash="#/")});return()=>{v=!1,x.subscription.unsubscribe()}},[]);const f=T.useMemo(()=>({session:t,loading:i,isAdmin:a,async signInWithGithub(){await Ge.auth.signInWithOAuth({provider:"github",options:{redirectTo:"https://ofc.horseface.no/",skipBrowserRedirect:!1}})},async signInWithTwitter(){await Ge.auth.signInWithOAuth({provider:"twitter",options:{redirectTo:"https://ofc.horseface.no/",skipBrowserRedirect:!1}})},async signOut(){await Ge.auth.signOut()}}),[t,i,a]);return h.jsx(YA.Provider,{value:f,children:e})}function xw(){const e=T.useContext(YA);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}var qA={exports:{}},KA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic=T;function tW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rW=typeof Object.is=="function"?Object.is:tW,iW=Ic.useState,nW=Ic.useEffect,sW=Ic.useLayoutEffect,oW=Ic.useDebugValue;function aW(e,t){var r=t(),i=iW({inst:{value:r,getSnapshot:t}}),s=i[0].inst,a=i[1];return sW(function(){s.value=r,s.getSnapshot=t,ay(s)&&a({inst:s})},[e,r,t]),nW(function(){return ay(s)&&a({inst:s}),e(function(){ay(s)&&a({inst:s})})},[e]),oW(r),r}function ay(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rW(e,r)}catch{return!0}}function lW(e,t){return t()}var cW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lW:aW;KA.useSyncExternalStore=Ic.useSyncExternalStore!==void 0?Ic.useSyncExternalStore:cW;qA.exports=KA;var dW=qA.exports;function uW(){return dW.useSyncExternalStore(hW,()=>!0,()=>!1)}function hW(){return()=>{}}var yw="Avatar",[fW]=Zo(yw),[pW,ZA]=fW(yw),QA=T.forwardRef((e,t)=>{const{__scopeAvatar:r,...i}=e,[s,a]=T.useState("idle");return h.jsx(pW,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:h.jsx(yt.span,{...i,ref:t})})});QA.displayName=yw;var JA="AvatarImage",eM=T.forwardRef((e,t)=>{const{__scopeAvatar:r,src:i,onLoadingStatusChange:s=()=>{},...a}=e,c=ZA(JA,r),f=gW(i,a),v=Bs(x=>{s(x),c.onImageLoadingStatusChange(x)});return Ir(()=>{f!=="idle"&&v(f)},[f,v]),f==="loaded"?h.jsx(yt.img,{...a,ref:t,src:i}):null});eM.displayName=JA;var tM="AvatarFallback",rM=T.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:i,...s}=e,a=ZA(tM,r),[c,f]=T.useState(i===void 0);return T.useEffect(()=>{if(i!==void 0){const v=window.setTimeout(()=>f(!0),i);return()=>window.clearTimeout(v)}},[i]),c&&a.imageLoadingStatus!=="loaded"?h.jsx(yt.span,{...s,ref:t}):null});rM.displayName=tM;function r_(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function gW(e,{referrerPolicy:t,crossOrigin:r}){const i=uW(),s=T.useRef(null),a=i?(s.current||(s.current=new window.Image),s.current):null,[c,f]=T.useState(()=>r_(a,e));return Ir(()=>{f(r_(a,e))},[a,e]),Ir(()=>{const v=C=>()=>{f(C)};if(!a)return;const x=v("loaded"),S=v("error");return a.addEventListener("load",x),a.addEventListener("error",S),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",x),a.removeEventListener("error",S)}},[a,r,t]),c}var iM=QA,nM=eM,sM=rM;const oM=T.forwardRef(({className:e,...t},r)=>h.jsx(iM,{ref:r,className:gt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));oM.displayName=iM.displayName;const aM=T.forwardRef(({className:e,lazy:t=!0,twitterHandle:r,onError:i,...s},a)=>{const[c,f]=T.useState(!1),v=x=>{r&&oD(r),i==null||i(x)};return h.jsx(nM,{ref:a,className:gt("aspect-square h-full w-full transition-opacity duration-300",c?"opacity-100":"opacity-0",e),loading:t?"lazy":"eager",onLoad:()=>f(!0),onError:v,...s})});aM.displayName=nM.displayName;const lM=T.forwardRef(({className:e,...t},r)=>h.jsx(sM,{ref:r,className:gt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));lM.displayName=sM.displayName;function mW(){var j,O,q,ae,te;gn("Login");const{signInWithGithub:e,signInWithTwitter:t,signOut:r,session:i}=xw(),[s,a]=T.useState(!1),[c,f]=T.useState(""),[v,x]=T.useState(""),[S,C]=T.useState(!1),[N,B]=T.useState(null),U=async le=>{le.preventDefault(),C(!0),B(null);const{error:J}=await Ge.auth.signInWithPassword({email:c,password:v});J&&B(J.message),C(!1)},D=(O=(j=i==null?void 0:i.user)==null?void 0:j.user_metadata)==null?void 0:O.avatar_url,R=(ae=(q=i==null?void 0:i.user)==null?void 0:q.user_metadata)==null?void 0:ae.full_name,I=((te=i==null?void 0:i.user)==null?void 0:te.email)??void 0;return h.jsx("section",{className:"mx-auto max-w-md p-4 pt-20",children:h.jsxs(pr,{className:"bg-card/80 backdrop-blur-xl border-border/60 shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent"}),h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),h.jsxs(Kr,{className:"text-center pb-2 relative z-10",children:[h.jsx(Zr,{className:"font-heading text-3xl font-bold tracking-wide text-primary drop-shadow-md",children:"Welcome Warrior"}),h.jsx(gi,{className:"font-body text-lg",children:"Sign in to continue your legend"})]}),h.jsx(xr,{className:"relative z-10 pt-6",children:i?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-background/50 border border-border/40",children:[h.jsxs(oM,{className:"h-16 w-16 border-2 border-primary shadow-[0_0_15px_rgba(var(--primary-rgb),0.3)]",children:[h.jsx(aM,{src:D}),h.jsx(lM,{className:"font-heading font-bold text-xl bg-primary/20 text-primary",children:(R==null?void 0:R.slice(0,2).toUpperCase())||(I==null?void 0:I.slice(0,2).toUpperCase())||"U"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"font-heading font-bold text-xl leading-tight text-foreground",children:R||"Signed in"}),I&&h.jsx("p",{className:"text-sm font-mono text-muted-foreground",children:I})]})]}),h.jsx(_t,{variant:"secondary",onClick:r,className:"w-full font-heading uppercase tracking-wider font-bold hover:bg-destructive hover:text-destructive-foreground transition-colors",children:"Sign out"})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid gap-3",children:[h.jsxs(_t,{onClick:e,className:"w-full bg-[#24292e] hover:bg-[#24292e]/90 text-white font-bold border border-white/10 shadow-lg transition-all hover:scale-[1.02]",variant:"default",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"mr-2 h-5 w-5",children:h.jsx("path",{d:"M12 .5C5.73.5.9 5.33.9 11.6c0 4.87 3.16 9 7.54 10.45.55.1.76-.24.76-.53 0-.26-.01-1.1-.02-1.99-3.07.67-3.72-1.3-3.72-1.3-.5-1.28-1.22-1.62-1.22-1.62-.99-.67.08-.66.08-.66 1.1.08 1.67 1.13 1.67 1.13.98 1.67 2.58 1.19 3.21.91.1-.71.38-1.19.69-1.46-2.45-.28-5.02-1.23-5.02-5.47 0-1.21.43-2.2 1.13-2.98-.11-.28-.49-1.41.11-2.94 0 0 .92-.3 3.01 1.14A10.5 10.5 0 0 1 12 6.84c.93 0 1.86.13 2.73.38 2.09-1.44 3.01-1.14 3.01-1.14.6 1.53.22 2.66.11 2.94.7.78 1.13 1.77 1.13 2.98 0 4.25-2.58 5.19-5.04 5.46.39.34.73 1.01.73 2.03 0 1.46-.01 2.64-.01 3 0 .29.2.63.77.52A10.72 10.72 0 0 0 23.1 11.6C23.1 5.33 18.27.5 12 .5Z"})}),"Sign in with GitHub"]}),h.jsxs(_t,{onClick:t,className:"w-full bg-black hover:bg-black/80 text-white font-bold border border-white/10 shadow-lg transition-all hover:scale-[1.02]",variant:"outline",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"mr-2 h-4 w-4",children:h.jsx("path",{d:"M18.244 2H21l-6.356 7.27L22 22h-6.9l-4.8-6.263L4.7 22H2l6.78-7.757L2 2h7l4.3 5.7L18.244 2Zm-2.412 18h2.23L8.258 4H5.9l9.932 16Z"})}),"Sign in with X (Twitter)"]})]}),s?h.jsx("div",{className:"pt-4 border-t border-border/40 animate-in slide-in-from-top-2 fade-in duration-300",children:h.jsxs("form",{onSubmit:U,className:"space-y-4",children:[h.jsx("div",{className:"space-y-2",children:h.jsx(Qr,{type:"email",placeholder:"Email",value:c,onChange:le=>f(le.target.value),required:!0,disabled:S,className:"bg-background/50 border-primary/30 focus:ring-primary/50 font-body"})}),h.jsx("div",{className:"space-y-2",children:h.jsx(Qr,{type:"password",placeholder:"Password",value:v,onChange:le=>x(le.target.value),required:!0,disabled:S,className:"bg-background/50 border-primary/30 focus:ring-primary/50 font-body"})}),N&&h.jsx("p",{className:"text-xs font-bold text-destructive bg-destructive/10 p-2 rounded border border-destructive/20",children:N}),h.jsx(_t,{type:"submit",className:"w-full font-heading uppercase tracking-wider font-bold shadow-[0_0_15px_rgba(var(--primary-rgb),0.3)] hover:shadow-[0_0_25px_rgba(var(--primary-rgb),0.5)] transition-all",size:"sm",disabled:S,children:S?"Signing in...":"Sign in with Email"}),h.jsx("button",{type:"button",onClick:()=>a(!1),className:"w-full text-xs text-muted-foreground hover:text-primary transition-colors font-bold uppercase tracking-wider mt-2",children:"Cancel"})]})}):h.jsxs("div",{className:"relative pt-4",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t border-border/40"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("button",{onClick:()=>a(!0),className:"bg-background px-2 text-muted-foreground hover:text-primary transition-colors font-bold tracking-wider",children:"Or continue with email"})})]})]})})]})})}function vW(){return gn("Not Found"),h.jsx("div",{className:"container py-20 flex justify-center",children:h.jsxs("div",{className:"max-w-md w-full bg-card/80 backdrop-blur-xl border border-destructive/60 shadow-[0_0_50px_rgba(239,68,68,0.2)] rounded-lg p-8 text-center relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-destructive to-transparent"}),h.jsx("h2",{className:"text-4xl font-heading font-bold text-destructive mb-4",children:"404"}),h.jsx("p",{className:"text-xl font-heading font-bold text-foreground mb-2",children:"Page Not Found"}),h.jsx("p",{className:"text-muted-foreground font-body",children:"The stage you are looking for does not exist."}),h.jsx("div",{className:"mt-8",children:h.jsx("a",{href:"/",className:"inline-block px-6 py-2 bg-primary/10 border border-primary/50 text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 font-heading font-bold uppercase tracking-wider rounded-sm",children:"Return to Arena"})})]})})}async function cM(e,t="Full recalculation",r){try{const{data:i,error:s}=await Ge.from("players").select("id, name").order("id");if(s)throw s;if(!i||i.length===0)throw new Error("No players found");let a=Ge.from("matches").select("id, player1_id, player2_id, winner_id, season_id").not("winner_id","is",null);r!==void 0&&(a=a.eq("season_id",r));const{data:c,error:f}=await a.order("id");if(f)throw f;if(!c||c.length===0){if(r!==void 0){const{error:I}=await Ge.from("rating_events").delete().eq("season_id",r);I&&console.warn("Failed to delete old rating events:",I)}const R=await i_(r);return R.success||console.warn("Failed to sync player ratings:",R.error),e==null||e({totalMatches:0,processedMatches:0,currentMatch:0,status:"complete"}),{success:!0,eventsCreated:0}}if(r!==void 0){const{error:R}=await Ge.from("rating_events").delete().eq("season_id",r);if(R)throw R}const v=await hM(i.map(R=>({id:R.id})),c.map(R=>({id:R.id,player1_id:R.player1_id,player2_id:R.player2_id,winner_id:R.winner_id})),c.length,R=>{const I=c[Math.min(R.processedMatches,c.length-1)];I&&(e==null||e({totalMatches:c.length,processedMatches:R.processedMatches,currentMatch:I.id,status:"running"}))}),x=new Map;c.forEach(R=>{x.set(R.id,R.season_id)});const S=v.map(R=>({...R,reason:null,season_id:x.get(R.match_id)||0})),C=50;for(let R=0;R<S.length;R+=C){const I=S.slice(R,R+C),{error:j}=await Ge.from("rating_events").insert(I);if(j)throw j;await new Promise(O=>setTimeout(O,100))}console.log(" Syncing player ratings from events...");const N=await i_(r);if(N.success?console.log(" Player ratings synced successfully"):console.warn("Failed to sync player ratings:",N.error),r===0){const R=new Set;if(c.forEach(I=>{R.add(I.player1_id),R.add(I.player2_id)}),R.size>0){const{error:I}=await Ge.from("players").update({has_played_this_season:!0}).in("id",Array.from(R));I?console.warn("Failed to mark players as having played:",I):console.log(` Marked ${R.size} players as active this season`)}}const B=new Map;S.forEach(R=>{if(!R.match_id)return;const I=B.get(R.match_id)||{},j=c.find(O=>O.id===R.match_id);j&&(R.player_id===j.player1_id?I.rating_change_p1=R.rating_change||0:R.player_id===j.player2_id&&(I.rating_change_p2=R.rating_change||0),B.set(R.match_id,I))});const U=Array.from(B.entries()).map(([R,I])=>({id:R,...I}));let D=0;for(let R=0;R<U.length;R++){const I=U[R];if(!I)continue;const{id:j,rating_change_p1:O,rating_change_p2:q}=I,ae={};if(O!==void 0&&(ae.rating_change_p1=O??null),q!==void 0&&(ae.rating_change_p2=q??null),Object.keys(ae).length===0)continue;const{error:te}=await Ge.from("matches").update(ae).eq("id",j);te?console.warn(` Failed to update match ${j}:`,te):D++,R%50===0&&(console.log(`   Updated ${D} / ${U.length} matches`),await new Promise(le=>setTimeout(le,25)))}return console.log(" Matches updated"),e==null||e({totalMatches:c.length,processedMatches:c.length,currentMatch:0,status:"complete"}),console.log(` Recalculation complete! Created ${S.length} match events`),{success:!0,eventsCreated:S.length}}catch(i){return console.error("Rating recalculation failed:",i),e==null||e({totalMatches:0,processedMatches:0,currentMatch:0,status:"error"}),{success:!1,error:i instanceof Error?i.message:String(i),eventsCreated:0}}}async function dM(e){try{e==null||e("Updating ratings..."),console.log(" Clearing existing rating events...");const{error:t}=await Ge.from("rating_events").delete().eq("season_id",0);if(t)throw console.error("Failed to clear rating events:",t),new Error(`Failed to clear existing ratings: ${t.message}`);console.log(" Cleared all existing rating events"),await new Promise(i=>setTimeout(i,100));const r=await cM(void 0,"Auto-update after match result",0);return r.success&&(e==null||e("Ratings updated successfully")),r}catch(t){return console.error("Failed to update ratings:",t),{success:!1}}}async function bw(e){try{const{data:t,error:r}=await Ge.from("matches").select("id, player1_id, player2_id, winner_id").eq("id",e).single();if(r||!t)return{canRollback:!1,reason:"Match not found"};if(!t.winner_id)return{canRollback:!1,reason:"Cannot rollback upcoming matches"};const{data:i,error:s}=await Ge.from("matches").select("id").gt("id",e).not("winner_id","is",null).or(`player1_id.eq.${t.player1_id},player2_id.eq.${t.player1_id}`).limit(1);if(s)return console.error("Error checking player1 matches:",s),{canRollback:!1,reason:"Error checking match history"};const a=i&&i.length>0,{data:c,error:f}=await Ge.from("matches").select("id").gt("id",e).not("winner_id","is",null).or(`player1_id.eq.${t.player2_id},player2_id.eq.${t.player2_id}`).limit(1);if(f)return console.error("Error checking player2 matches:",f),{canRollback:!1,reason:"Error checking match history"};const v=c&&c.length>0;if(a||v){let x="Cannot rollback: ";return a&&v?x+="both players have played matches afterwards":a?x+="player 1 has played matches afterwards":x+="player 2 has played matches afterwards",{canRollback:!1,reason:x,player1HasLaterMatches:a,player2HasLaterMatches:v}}return{canRollback:!0,player1HasLaterMatches:!1,player2HasLaterMatches:!1}}catch(t){return console.error("Error checking rollback eligibility:",t),{canRollback:!1,reason:t instanceof Error?t.message:"Unknown error"}}}async function uM(e,t){try{t==null||t("Checking if match can be rolled back...");const r=await bw(e);if(!r.canRollback)return{success:!1,error:r.reason||"Cannot rollback this match"};t==null||t("Removing rating events for match...");const{error:i}=await Ge.from("rating_events").delete().eq("match_id",e);if(i)throw console.error("Failed to delete rating events for match:",i),new Error(`Failed to delete rating events for match: ${i.message}`);t==null||t("Reverting match to upcoming...");const{error:s}=await Ge.from("matches").update({winner_id:null,player1_score:null,player2_score:null,rating_change_p1:null,rating_change_p2:null}).eq("id",e);if(s)throw console.error("Failed to revert match:",s),new Error(`Failed to revert match: ${s.message}`);console.log(` Reverted match ${e} to upcoming`),t==null||t("Recalculating ratings...");const a=await dM(c=>{t==null||t(c)});return a.success?(t==null||t("Match rolled back successfully (match reverted to upcoming)"),{success:!0}):{success:!1,error:`Match deleted but rating update failed: ${a.error}`}}catch(r){return console.error("Failed to rollback match:",r),{success:!1,error:r instanceof Error?r.message:String(r)}}}async function hM(e,t,r,i){return new Promise((s,a)=>{const c=new Worker(new URL("/assets/ratingWorker-RzEzWG7K.js",import.meta.url),{type:"module"}),f=()=>{c.terminate()};c.onmessage=v=>{const x=v.data;if(x.type==="progress"){i==null||i(x),(x.processedMatches===0||x.processedMatches%50===0)&&console.log(`   Worker processed ${Math.min(x.processedMatches,r)} / ${r} matches`);return}if(x.type==="result"){f(),s(x.events);return}x.type==="error"&&(f(),a(new Error(x.error)))},c.onerror=v=>{f(),a(new Error(v.message||"Worker encountered an error"))},c.postMessage({players:e,matches:t})})}async function i_(e){try{const{data:t,error:r}=await Ge.from("players").select("id");if(r||!t)return{success:!1,error:`Failed to fetch players: ${r==null?void 0:r.message}`};const i=[];for(const a of t){let c=Ge.from("rating_events").select("rating, rd, volatility, created_at, event_type").eq("player_id",a.id);e!==void 0&&(c=c.eq("season_id",e));const{data:f,error:v}=await c.order("id",{ascending:!1});if(v){console.warn(`Failed to fetch events for player ${a.id}:`,v);continue}if(!f||f.length===0)continue;const x=f[0],S=f.filter(B=>B.event_type==="match").length,C=f.reduce((B,U)=>U.rating>((B==null?void 0:B.rating)||0)?U:B,null),N=f.find(B=>B.event_type==="match");i.push({id:a.id,rating:(x==null?void 0:x.rating)??null,rd:(x==null?void 0:x.rd)??null,volatility:(x==null?void 0:x.volatility)??null,matches_played:S,last_match_date:(N==null?void 0:N.created_at)??null,peak_rating:(C==null?void 0:C.rating)??null,peak_rating_date:(C==null?void 0:C.created_at)??null})}const s=20;for(let a=0;a<i.length;a+=s){const c=i.slice(a,a+s);for(const f of c){const{error:v}=await Ge.from("players").update({rating:f.rating,rd:f.rd,volatility:f.volatility,matches_played:f.matches_played,last_match_date:f.last_match_date,peak_rating:f.peak_rating,peak_rating_date:f.peak_rating_date}).eq("id",f.id);v&&console.warn(`Failed to update player ${f.id}:`,v)}await new Promise(f=>setTimeout(f,50))}return console.log(` Updated ${i.length} players from rating events`),{success:!0}}catch(t){return console.error("Failed to sync player ratings:",t),{success:!1,error:t instanceof Error?t.message:String(t)}}}async function fM(e,t){return dM(t)}async function xW(e,t){try{console.log(` Starting rating calculation for season ${e}...`),t==null||t({totalMatches:0,processedMatches:0,currentMatch:0,status:"running"});const{data:r,error:i}=await Ge.from("seasons").select("*").eq("id",e).single();if(i||!r)throw new Error(`Season ${e} not found`);console.log(` Found season: ${r.name}`),console.log(` Fetching matches for season ${e}...`);const{data:s,error:a}=await Ge.from("matches").select("id, player1_id, player2_id, winner_id").eq("season_id",e).not("winner_id","is",null).order("id");if(a)throw a;if(!s||s.length===0)return console.log(" No completed matches found for this season"),{success:!0,eventsCreated:0};console.log(` Found ${s.length} matches`);const c=new Set;s.forEach(U=>{c.add(U.player1_id),c.add(U.player2_id),c.add(U.winner_id)});const{data:f,error:v}=await Ge.from("players").select("id").in("id",Array.from(c));if(v)throw v;if(!f||f.length===0)throw new Error("No players found for this season");console.log(` Processing ${f.length} players`);const{count:x}=await Ge.from("rating_events").select("*",{count:"exact",head:!0}).eq("season_id",e).eq("event_type","match");if((x||0)>0){console.log(` Found ${x} existing match events for this season - deleting them...`);const{error:U}=await Ge.from("rating_events").delete().eq("season_id",e).eq("event_type","match");if(U)throw U;console.log(" Deleted existing match events")}console.log(` Processing ${s.length} matches with worker...`);const C=(await hM(f.map(U=>({id:U.id})),s.map(U=>({id:U.id,player1_id:U.player1_id,player2_id:U.player2_id,winner_id:U.winner_id})),s.length,U=>{const D=s[Math.min(U.processedMatches,s.length-1)];D&&(t==null||t({totalMatches:s.length,processedMatches:U.processedMatches,currentMatch:D.id,status:"running"}))})).map(U=>({...U,season_id:e,reason:null}));console.log(` Worker produced ${C.length} match events`);const N=50;console.log(` Inserting ${C.length} events in batches...`);for(let U=0;U<C.length;U+=N){const D=C.slice(U,U+N),R=Math.floor(U/N)+1,I=Math.ceil(C.length/N),{error:j}=await Ge.from("rating_events").insert(D);if(j)throw j;await new Promise(O=>setTimeout(O,100))}console.log(" All match events inserted"),console.log(" Creating final snapshots...");const B=[];for(const U of f){const{data:D}=await Ge.from("rating_events").select("rating, rd, volatility").eq("player_id",U.id).eq("season_id",e).order("id",{ascending:!1}).limit(1).single();if(D){const R=s.filter(I=>(I.player1_id===U.id||I.player2_id===U.id)&&I.winner_id).length;B.push({season_id:e,player_id:U.id,final_rating:D.rating,final_rd:D.rd,final_volatility:D.volatility,matches_played_count:R,peak_rating:null,peak_rating_date:null,final_rank:null})}}if(B.length>0){B.sort((R,I)=>I.final_rating-R.final_rating);const{count:U}=await Ge.from("season_player_snapshots").select("*",{count:"exact",head:!0}).eq("season_id",e);if((U||0)>0){console.log(` Deleting ${U} existing snapshots...`);const{error:R}=await Ge.from("season_player_snapshots").delete().eq("season_id",e);if(R)throw R}const{error:D}=await Ge.from("season_player_snapshots").insert(B);if(D)throw D;console.log(` Created ${B.length} season snapshots`)}return t==null||t({totalMatches:s.length,processedMatches:s.length,currentMatch:0,status:"complete"}),console.log(` Season ${e} rating calculation complete! Created ${C.length} match events`),{success:!0,eventsCreated:C.length}}catch(r){return console.error(" Season rating calculation failed:",r),t==null||t({totalMatches:0,processedMatches:0,currentMatch:0,status:"error"}),{success:!1,error:r instanceof Error?r.message:String(r),eventsCreated:0}}}var ly="rovingFocusGroup.onEntryFocus",yW={bubbles:!1,cancelable:!0},nh="RovingFocusGroup",[D0,pM,bW]=jT(nh),[wW,gM]=Zo(nh,[bW]),[kW,SW]=wW(nh),mM=T.forwardRef((e,t)=>h.jsx(D0.Provider,{scope:e.__scopeRovingFocusGroup,children:h.jsx(D0.Slot,{scope:e.__scopeRovingFocusGroup,children:h.jsx(_W,{...e,ref:t})})}));mM.displayName=nh;var _W=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:i,loop:s=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:v,onEntryFocus:x,preventScrollOnEntryFocus:S=!1,...C}=e,N=T.useRef(null),B=ir(t,N),U=Zb(a),[D,R]=Oc({prop:c,defaultProp:f??null,onChange:v,caller:nh}),[I,j]=T.useState(!1),O=Bs(x),q=pM(r),ae=T.useRef(!1),[te,le]=T.useState(0);return T.useEffect(()=>{const J=N.current;if(J)return J.addEventListener(ly,O),()=>J.removeEventListener(ly,O)},[O]),h.jsx(kW,{scope:r,orientation:i,dir:U,loop:s,currentTabStopId:D,onItemFocus:T.useCallback(J=>R(J),[R]),onItemShiftTab:T.useCallback(()=>j(!0),[]),onFocusableItemAdd:T.useCallback(()=>le(J=>J+1),[]),onFocusableItemRemove:T.useCallback(()=>le(J=>J-1),[]),children:h.jsx(yt.div,{tabIndex:I||te===0?-1:0,"data-orientation":i,...C,ref:B,style:{outline:"none",...e.style},onMouseDown:Mt(e.onMouseDown,()=>{ae.current=!0}),onFocus:Mt(e.onFocus,J=>{const be=!ae.current;if(J.target===J.currentTarget&&be&&!I){const ke=new CustomEvent(ly,yW);if(J.currentTarget.dispatchEvent(ke),!ke.defaultPrevented){const Ie=q().filter(ie=>ie.focusable),he=Ie.find(ie=>ie.active),_e=Ie.find(ie=>ie.id===D),Je=[he,_e,...Ie].filter(Boolean).map(ie=>ie.ref.current);yM(Je,S)}}ae.current=!1}),onBlur:Mt(e.onBlur,()=>j(!1))})})}),vM="RovingFocusGroupItem",xM=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:i=!0,active:s=!1,tabStopId:a,children:c,...f}=e,v=vi(),x=a||v,S=SW(vM,r),C=S.currentTabStopId===x,N=pM(r),{onFocusableItemAdd:B,onFocusableItemRemove:U,currentTabStopId:D}=S;return T.useEffect(()=>{if(i)return B(),()=>U()},[i,B,U]),h.jsx(D0.ItemSlot,{scope:r,id:x,focusable:i,active:s,children:h.jsx(yt.span,{tabIndex:C?0:-1,"data-orientation":S.orientation,...f,ref:t,onMouseDown:Mt(e.onMouseDown,R=>{i?S.onItemFocus(x):R.preventDefault()}),onFocus:Mt(e.onFocus,()=>S.onItemFocus(x)),onKeyDown:Mt(e.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){S.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const I=TW(R,S.orientation,S.dir);if(I!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let O=N().filter(q=>q.focusable).map(q=>q.ref.current);if(I==="last")O.reverse();else if(I==="prev"||I==="next"){I==="prev"&&O.reverse();const q=O.indexOf(R.currentTarget);O=S.loop?AW(O,q+1):O.slice(q+1)}setTimeout(()=>yM(O))}}),children:typeof c=="function"?c({isCurrentTabStop:C,hasTabStop:D!=null}):c})})});xM.displayName=vM;var CW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function EW(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function TW(e,t,r){const i=EW(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return CW[i]}function yM(e,t=!1){const r=document.activeElement;for(const i of e)if(i===r||(i.focus({preventScroll:t}),document.activeElement!==r))return}function AW(e,t){return e.map((r,i)=>e[(t+i)%e.length])}var MW=mM,jW=xM,tm="Tabs",[NW]=Zo(tm,[gM]),bM=gM(),[PW,ww]=NW(tm),wM=T.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,onValueChange:s,defaultValue:a,orientation:c="horizontal",dir:f,activationMode:v="automatic",...x}=e,S=Zb(f),[C,N]=Oc({prop:i,onChange:s,defaultProp:a??"",caller:tm});return h.jsx(PW,{scope:r,baseId:vi(),value:C,onValueChange:N,orientation:c,dir:S,activationMode:v,children:h.jsx(yt.div,{dir:S,"data-orientation":c,...x,ref:t})})});wM.displayName=tm;var kM="TabsList",SM=T.forwardRef((e,t)=>{const{__scopeTabs:r,loop:i=!0,...s}=e,a=ww(kM,r),c=bM(r);return h.jsx(MW,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:i,children:h.jsx(yt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});SM.displayName=kM;var _M="TabsTrigger",CM=T.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,disabled:s=!1,...a}=e,c=ww(_M,r),f=bM(r),v=AM(c.baseId,i),x=MM(c.baseId,i),S=i===c.value;return h.jsx(jW,{asChild:!0,...f,focusable:!s,active:S,children:h.jsx(yt.button,{type:"button",role:"tab","aria-selected":S,"aria-controls":x,"data-state":S?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:v,...a,ref:t,onMouseDown:Mt(e.onMouseDown,C=>{!s&&C.button===0&&C.ctrlKey===!1?c.onValueChange(i):C.preventDefault()}),onKeyDown:Mt(e.onKeyDown,C=>{[" ","Enter"].includes(C.key)&&c.onValueChange(i)}),onFocus:Mt(e.onFocus,()=>{const C=c.activationMode!=="manual";!S&&!s&&C&&c.onValueChange(i)})})})});CM.displayName=_M;var EM="TabsContent",TM=T.forwardRef((e,t)=>{const{__scopeTabs:r,value:i,forceMount:s,children:a,...c}=e,f=ww(EM,r),v=AM(f.baseId,i),x=MM(f.baseId,i),S=i===f.value,C=T.useRef(S);return T.useEffect(()=>{const N=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(N)},[]),h.jsx(rl,{present:s||S,children:({present:N})=>h.jsx(yt.div,{"data-state":S?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":v,hidden:!N,id:x,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:C.current?"0s":void 0},children:N&&a})})});TM.displayName=EM;function AM(e,t){return`${e}-trigger-${t}`}function MM(e,t){return`${e}-content-${t}`}var OW=wM,jM=SM,NM=CM,PM=TM;const RW=OW,OM=T.forwardRef(({className:e,...t},r)=>h.jsx(jM,{ref:r,className:gt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));OM.displayName=jM.displayName;const Ea=T.forwardRef(({className:e,...t},r)=>h.jsx(NM,{ref:r,className:gt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Ea.displayName=NM.displayName;const Ta=T.forwardRef(({className:e,...t},r)=>h.jsx(PM,{ref:r,className:gt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ta.displayName=PM.displayName;var LW="Label",RM=T.forwardRef((e,t)=>h.jsx(yt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));RM.displayName=LW;var LM=RM;const IW=wT("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Cr=T.forwardRef(({className:e,...t},r)=>h.jsx(LM,{ref:r,className:gt(IW(),e),...t}));Cr.displayName=LM.displayName;const rm=T.forwardRef(({className:e,...t},r)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:r,className:gt("w-full caption-bottom text-sm",e),...t})}));rm.displayName="Table";const im=T.forwardRef(({className:e,...t},r)=>h.jsx("thead",{ref:r,className:gt("[&_tr]:border-b",e),...t}));im.displayName="TableHeader";const nm=T.forwardRef(({className:e,...t},r)=>h.jsx("tbody",{ref:r,className:gt("[&_tr:last-child]:border-0",e),...t}));nm.displayName="TableBody";const DW=T.forwardRef(({className:e,...t},r)=>h.jsx("tfoot",{ref:r,className:gt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));DW.displayName="TableFooter";const cs=T.forwardRef(({className:e,...t},r)=>h.jsx("tr",{ref:r,className:gt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));cs.displayName="TableRow";const ai=T.forwardRef(({className:e,...t},r)=>h.jsx("th",{ref:r,className:gt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ai.displayName="TableHead";const Rr=T.forwardRef(({className:e,...t},r)=>h.jsx("td",{ref:r,className:gt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Rr.displayName="TableCell";const $W=T.forwardRef(({className:e,...t},r)=>h.jsx("caption",{ref:r,className:gt("mt-4 text-sm text-muted-foreground",e),...t}));$W.displayName="TableCaption";function BW({id:e,title:t,description:r,variant:i="default",onClose:s}){return T.useEffect(()=>{const a=setTimeout(()=>{s()},5e3);return()=>clearTimeout(a)},[s]),h.jsxs("div",{className:gt("pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-4 pr-8 shadow-lg transition-all",i==="destructive"&&"border-destructive bg-destructive text-destructive-foreground",i==="success"&&"border-green-500 bg-green-500/10 text-green-600 dark:text-green-400",i==="default"&&"border bg-background"),children:[h.jsxs("div",{className:"grid gap-1",children:[t&&h.jsx("div",{className:"text-sm font-semibold",children:t}),r&&h.jsx("div",{className:"text-sm opacity-90",children:r})]}),h.jsx("button",{onClick:s,className:"absolute right-2 top-2 rounded-md p-1 opacity-70 transition-opacity hover:opacity-100",children:h.jsx(Kb,{className:"h-4 w-4"})})]})}function zW({children:e}){return h.jsx("div",{className:"fixed bottom-0 right-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",children:e})}let FW=0,n_=null,Gl=null;function WW(){return Gl||(Gl=document.createElement("div"),Gl.id="toast-container",document.body.appendChild(Gl),n_=yE(Gl)),{container:Gl,root:n_}}const cg=new Map;let dg=null;function UW(){const[,e]=T.useReducer(r=>r+1,0);T.useEffect(()=>(dg=e,()=>{dg=null}),[]);const t=r=>{cg.delete(r),e()};return h.jsx(zW,{children:Array.from(cg.entries()).map(([r,i])=>h.jsx(BW,{id:r,...i,onClose:()=>t(r)},r))})}function HW(e){const t=`toast-${++FW}`;cg.set(t,e);const{root:r}=WW();return r.render(h.jsx(UW,{})),{id:t,dismiss:()=>{cg.delete(t),dg&&dg()}}}function sm(){return{toast:HW}}function GW(){const{toast:e}=sm(),[t,r]=T.useState([]),[i,s]=T.useState(!0),[a,c]=T.useState(!1),[f,v]=T.useState(!1),[x,S]=T.useState(null),[C,N]=T.useState({name:"",twitter:""}),[B,U]=T.useState(!1),[D,R]=T.useState(null),[I,j]=T.useState("");T.useEffect(()=>{O()},[]);const O=async(be=!1)=>{be?c(!0):s(!0);const{data:ke,error:Ie}=await Ge.from("players").select("*").order("name");Ie?(console.error("Error loading players:",Ie),R(Ie.message),e({variant:"destructive",title:"Error loading players",description:Ie.message})):r(ke||[]),s(!1),c(!1)},q=()=>{S(null),N({name:"",twitter:""}),R(null),v(!0)},ae=be=>{S(be),N({name:be.name,twitter:be.twitter||""}),R(null),v(!0)},te=async be=>{be.preventDefault(),U(!0),R(null);try{if(x){const{error:ke}=await Ge.from("players").update({name:C.name,twitter:C.twitter||null}).eq("id",x.id);if(ke)throw ke;e({variant:"success",title:"Player updated",description:`${C.name} has been updated successfully.`})}else{const{error:ke}=await Ge.from("players").insert({name:C.name,twitter:C.twitter||null,rating:1500,rd:350,volatility:.06});if(ke)throw ke;e({variant:"success",title:"Player created",description:`${C.name} has been created successfully.`})}v(!1),O(!0)}catch(ke){R(ke.message),e({variant:"destructive",title:"Error",description:ke.message})}finally{U(!1)}},le=async be=>{if(!confirm(`Are you sure you want to delete ${be.name}? This will also delete all their matches.`))return;const{error:ke}=await Ge.from("players").delete().eq("id",be.id);ke?e({variant:"destructive",title:"Error deleting player",description:ke.message}):(e({variant:"success",title:"Player deleted",description:`${be.name} has been deleted.`}),O(!0))},J=t.filter(be=>{var ke;return be.name.toLowerCase().includes(I.toLowerCase())||((ke=be.twitter)==null?void 0:ke.toLowerCase().includes(I.toLowerCase()))});return h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsx(Kr,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Zr,{className:"font-heading text-2xl text-primary",children:"Player Management"}),h.jsx(gi,{children:"Create, edit, and delete players"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(_t,{onClick:()=>O(!0),variant:"outline",size:"icon",disabled:a,className:"bg-background/50 border-primary/30 hover:bg-primary/20",children:h.jsx(Ig,{className:`h-4 w-4 ${a?"animate-spin":""}`})}),h.jsxs(_t,{onClick:q,className:"font-heading font-bold uppercase tracking-wider",children:[h.jsx(Yb,{className:"h-4 w-4 mr-2"}),"New Player"]})]})]})}),h.jsxs(xr,{className:"space-y-4",children:[h.jsx(Qr,{placeholder:"Search players...",value:I,onChange:be=>j(be.target.value),className:"max-w-sm bg-background/50 border-primary/30 focus:ring-primary/50 font-heading font-bold"}),i?h.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),"Loading..."]}):h.jsx("div",{className:"rounded-md border border-border/40 overflow-hidden",children:h.jsxs(rm,{children:[h.jsx(im,{className:"bg-muted/50",children:h.jsxs(cs,{className:"hover:bg-transparent border-border/40",children:[h.jsx(ai,{className:"font-heading font-bold text-primary",children:"Name"}),h.jsx(ai,{className:"font-heading font-bold text-primary",children:"Twitter"}),h.jsx(ai,{className:"font-heading font-bold text-primary",children:"Rating"}),h.jsx(ai,{className:"font-heading font-bold text-primary",children:"Matches"}),h.jsx(ai,{className:"text-right font-heading font-bold text-primary",children:"Actions"})]})}),h.jsx(nm,{children:J.length===0?h.jsx(cs,{children:h.jsx(Rr,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No players found"})}):J.map(be=>h.jsxs(cs,{className:"hover:bg-primary/5 border-border/40 transition-colors",children:[h.jsx(Rr,{className:"font-heading font-bold text-lg",children:be.name}),h.jsx(Rr,{className:"font-mono text-sm text-muted-foreground",children:be.twitter||"-"}),h.jsx(Rr,{className:"font-mono font-bold text-primary",children:Math.round(be.rating??0)}),h.jsx(Rr,{className:"font-mono text-muted-foreground",children:be.matches_played||0}),h.jsxs(Rr,{className:"text-right space-x-2",children:[h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>ae(be),className:"hover:bg-primary/20 hover:text-primary",children:h.jsx(Xb,{className:"h-4 w-4"})}),h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>le(be),className:"hover:bg-destructive/20 hover:text-destructive",children:h.jsx(qb,{className:"h-4 w-4"})})]})]},be.id))})]})})]}),h.jsx(Rc,{open:f,onOpenChange:v,children:h.jsxs(Ya,{className:"bg-card/90 backdrop-blur-xl border-primary/20",children:[h.jsxs(qa,{children:[h.jsx(Ka,{className:"font-heading text-2xl text-primary",children:x?"Edit Player":"Create Player"}),h.jsx(rh,{children:x?"Update player information":"Add a new player to the system"})]}),h.jsxs("form",{onSubmit:te,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"name",className:"font-bold uppercase tracking-wider text-xs",children:"Name *"}),h.jsx(Qr,{id:"name",value:C.name,onChange:be=>N({...C,name:be.target.value}),required:!0,placeholder:"Player name",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"twitter",className:"font-bold uppercase tracking-wider text-xs",children:"Twitter Handle"}),h.jsx(Qr,{id:"twitter",value:C.twitter,onChange:be=>N({...C,twitter:be.target.value}),placeholder:"@username",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),D&&h.jsx("div",{className:"text-sm text-destructive font-bold bg-destructive/10 p-2 rounded border border-destructive/20",children:D})]}),h.jsxs(th,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>v(!1),className:"font-bold uppercase tracking-wider",children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:B,className:"font-heading font-bold uppercase tracking-wider",children:B?"Saving...":x?"Update":"Create"})]})]})]})})]})}const IM=T.forwardRef(({className:e,...t},r)=>h.jsx("textarea",{className:gt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));IM.displayName="Textarea";function VW(){const{toast:e}=sm(),[t,r]=T.useState([]),[i,s]=T.useState([]),[a,c]=T.useState(null),[f,v]=T.useState(!0),[x,S]=T.useState(!1),[C,N]=T.useState(!1),[B,U]=T.useState(null),[D,R]=T.useState({title:"",event_date:"",stream_url:"",vod_link:"",description:""}),[I,j]=T.useState(!1),[O,q]=T.useState(null);T.useEffect(()=>{te(),ae()},[]);const ae=async()=>{const he=await qc();s(he);const _e=he.find(Oe=>Oe.status==="active");_e&&c(_e.id)},te=async(he=!1)=>{he?S(!0):v(!0);const{data:_e,error:Oe}=await Ge.from("events").select("*").order("event_date",{ascending:!1});Oe?(console.error("Error loading events:",Oe),q(Oe.message),e({variant:"destructive",title:"Error loading events",description:Oe.message})):r(_e||[]),v(!1),S(!1)},le=()=>{U(null),R({title:"",event_date:"",stream_url:"",vod_link:"",description:""}),q(null),N(!0)},J=he=>{U(he);const _e=new Date(he.event_date).toISOString().slice(0,16);R({title:he.title,event_date:_e,stream_url:he.stream_url||"",vod_link:he.vod_link||"",description:he.description||""}),q(null),N(!0)},be=async he=>{he.preventDefault(),j(!0),q(null);try{if(!D.event_date)throw new Error("Event date and time are required.");const _e={title:D.title,event_date:new Date(D.event_date).toISOString(),stream_url:D.stream_url||null,vod_link:D.vod_link||null,description:D.description||null};if(B){const{error:Oe}=await Ge.from("events").update(_e).eq("id",B.id);if(Oe)throw Oe;e({variant:"success",title:"Event updated",description:`${D.title} has been updated successfully.`})}else{const{error:Oe}=await Ge.from("events").insert(_e);if(Oe)throw Oe;e({variant:"success",title:"Event created",description:`${D.title} has been created successfully.`})}N(!1),te(!0)}catch(_e){q(_e.message),e({variant:"destructive",title:"Error",description:_e.message})}finally{j(!1)}},ke=async he=>{if(!confirm(`Are you sure you want to delete "${he.title}"? Matches will be kept but unlinked from this event.`))return;const{error:_e}=await Ge.from("events").delete().eq("id",he.id);_e?e({variant:"destructive",title:"Error deleting event",description:_e.message}):(e({variant:"success",title:"Event deleted",description:`${he.title} has been deleted.`}),te(!0))},Ie=he=>new Date(he).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsx(Kr,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Zr,{className:"font-heading text-2xl text-primary",children:"Event Management"}),h.jsx(gi,{children:"Create, edit, and delete events"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(_t,{onClick:()=>te(!0),variant:"outline",size:"icon",disabled:x,className:"bg-background/50 border-primary/30 hover:bg-primary/20",children:h.jsx(Ig,{className:`h-4 w-4 ${x?"animate-spin":""}`})}),h.jsxs(_t,{onClick:le,className:"font-heading font-bold uppercase tracking-wider",children:[h.jsx(Yb,{className:"h-4 w-4 mr-2"}),"New Event"]})]})]})}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-background/30 p-2 rounded-lg border border-border/30 w-fit",children:[h.jsx("label",{className:"text-sm font-bold uppercase tracking-wider text-muted-foreground px-2",children:"Season:"}),h.jsxs(Kg,{value:(a==null?void 0:a.toString())??"",onValueChange:he=>c(parseInt(he)),children:[h.jsx(Qu,{className:"w-48 bg-transparent border-none focus:ring-0 font-heading font-bold text-primary",children:h.jsx(Zg,{})}),h.jsxs(Ju,{children:[i.filter(he=>he.status==="active").map(he=>h.jsxs(Os,{value:he.id.toString(),children:[he.name," (Active)"]},he.id)),i.filter(he=>he.status==="archived").sort((he,_e)=>he.id-_e.id).map(he=>h.jsxs(Os,{value:he.id.toString(),children:[he.name," (Archived)"]},he.id))]})]})]}),f?h.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),"Loading..."]}):h.jsx("div",{className:"rounded-md border border-border/40 overflow-hidden",children:h.jsxs(rm,{children:[h.jsx(im,{className:"bg-muted/50",children:h.jsxs(cs,{className:"hover:bg-transparent border-border/40",children:[h.jsx(ai,{className:"font-heading font-bold text-primary",children:"Title"}),h.jsx(ai,{className:"font-heading font-bold text-primary",children:"Date"}),h.jsx(ai,{className:"font-heading font-bold text-primary",children:"Description"}),h.jsx(ai,{className:"text-right font-heading font-bold text-primary",children:"Actions"})]})}),h.jsx(nm,{children:t.length===0?h.jsx(cs,{children:h.jsx(Rr,{colSpan:4,className:"text-center text-muted-foreground py-8",children:"No events found"})}):t.map(he=>h.jsxs(cs,{className:"hover:bg-primary/5 border-border/40 transition-colors",children:[h.jsx(Rr,{className:"font-medium",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(K3,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"font-heading font-bold",children:he.title})]})}),h.jsx(Rr,{className:"font-mono text-sm text-muted-foreground",children:Ie(he.event_date)}),h.jsx(Rr,{className:"max-w-xs truncate text-muted-foreground italic",children:he.description||"-"}),h.jsxs(Rr,{className:"text-right space-x-2",children:[h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>J(he),className:"hover:bg-primary/20 hover:text-primary",children:h.jsx(Xb,{className:"h-4 w-4"})}),h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>ke(he),className:"hover:bg-destructive/20 hover:text-destructive",children:h.jsx(qb,{className:"h-4 w-4"})})]})]},he.id))})]})})]}),h.jsx(Rc,{open:C,onOpenChange:N,children:h.jsxs(Ya,{className:"max-w-2xl bg-card/90 backdrop-blur-xl border-primary/20",children:[h.jsxs(qa,{children:[h.jsx(Ka,{className:"font-heading text-2xl text-primary",children:B?"Edit Event":"Create Event"}),h.jsx(rh,{children:B?"Update event information":"Add a new event to the system"})]}),h.jsxs("form",{onSubmit:be,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"title",className:"font-bold uppercase tracking-wider text-xs",children:"Title *"}),h.jsx(Qr,{id:"title",value:D.title,onChange:he=>R({...D,title:he.target.value}),required:!0,placeholder:"Event title",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"event_date",className:"font-bold uppercase tracking-wider text-xs",children:"Date & Time *"}),h.jsx("input",{id:"event_date",type:"datetime-local",className:"flex h-9 w-full rounded-md border border-primary/30 bg-background/50 px-3 py-1 text-sm text-foreground shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [color-scheme:dark]",value:D.event_date,onChange:he=>R({...D,event_date:he.target.value}),min:new Date().toISOString().slice(0,16),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"stream_url",className:"font-bold uppercase tracking-wider text-xs",children:"Stream URL"}),h.jsx(Qr,{id:"stream_url",type:"url",value:D.stream_url,onChange:he=>R({...D,stream_url:he.target.value}),placeholder:"https://twitch.tv/...",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"vod_link",className:"font-bold uppercase tracking-wider text-xs",children:"VOD Link"}),h.jsx(Qr,{id:"vod_link",type:"url",value:D.vod_link,onChange:he=>R({...D,vod_link:he.target.value}),placeholder:"https://youtube.com/...",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"description",className:"font-bold uppercase tracking-wider text-xs",children:"Description"}),h.jsx(IM,{id:"description",value:D.description,onChange:he=>R({...D,description:he.target.value}),placeholder:"Event description",rows:3,className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),O&&h.jsx("div",{className:"text-sm text-destructive font-bold bg-destructive/10 p-2 rounded border border-destructive/20",children:O})]}),h.jsxs(th,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>N(!1),className:"font-bold uppercase tracking-wider",children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:I,className:"font-heading font-bold uppercase tracking-wider",children:I?"Saving...":B?"Update":"Create"})]})]})]})})]})}function XW(){const{toast:e}=sm(),[t,r]=T.useState([]),[i,s]=T.useState([]),[a,c]=T.useState([]),[f,v]=T.useState([]),[x,S]=T.useState(null),[C,N]=T.useState(!0),[B,U]=T.useState(!1),[D,R]=T.useState(!1),[I,j]=T.useState(null),[O,q]=T.useState({player1_id:"",player2_id:"",winner_id:"",player1_score:"",player2_score:"",event_id:"",match_order:"0",vod_link:""}),[ae,te]=T.useState(!1),[le,J]=T.useState(null),[be,ke]=T.useState("all"),[Ie,he]=T.useState(new Map),[_e,Oe]=T.useState(new Set);T.useEffect(()=>{ie(),Je()},[]);const Je=async()=>{const Ee=await qc();v(Ee);const Pe=Ee.find(ot=>ot.status==="active");Pe&&S(Pe.id)},ie=async(Ee=!1,Pe=x)=>{Ee?U(!0):N(!0);let ot=Ge.from("matches").select("*").order("id",{ascending:!1}).limit(100);Pe!=null&&(ot=ot.eq("season_id",Pe));const[ut,vt,ft]=await Promise.all([ot,Ge.from("players").select("*").order("name"),Ge.from("events").select("*").order("event_date",{ascending:!1})]);ut.error?(console.error("Error loading matches:",ut.error),e({variant:"destructive",title:"Error loading matches",description:ut.error.message})):r(ut.data||[]),vt.error?console.error("Error loading players:",vt.error):s(vt.data||[]),ft.error?console.error("Error loading events:",ft.error):c(ft.data||[]),N(!1),U(!1)};T.useEffect(()=>{x!==null&&ie(!1,x)},[x]);const me=Ee=>{var Pe;return((Pe=i.find(ot=>ot.id===Ee))==null?void 0:Pe.name)||"Unknown"},pe=Ee=>{var Pe;return Ee?((Pe=a.find(ot=>ot.id===Ee))==null?void 0:Pe.title)||"Unknown":"-"},Te=()=>{j(null),q({player1_id:"",player2_id:"",winner_id:"none",player1_score:"",player2_score:"",event_id:"none",match_order:"0",vod_link:""}),J(null),R(!0)},$e=Ee=>{j(Ee),q({player1_id:String(Ee.player1_id),player2_id:String(Ee.player2_id),winner_id:Ee.winner_id?String(Ee.winner_id):"none",player1_score:Ee.player1_score!==void 0&&Ee.player1_score!==null?String(Ee.player1_score):"",player2_score:Ee.player2_score!==void 0&&Ee.player2_score!==null?String(Ee.player2_score):"",event_id:Ee.event_id?String(Ee.event_id):"none",match_order:Ee.match_order?String(Ee.match_order):"0",vod_link:Ee.vod_link||""}),J(null),R(!0)},Ye=async Ee=>{Ee.preventDefault(),te(!0),J(null);try{if(O.player1_id===O.player2_id)throw new Error("Player 1 and Player 2 must be different");if(O.winner_id&&O.winner_id!=="none"&&O.winner_id!==O.player1_id&&O.winner_id!==O.player2_id)throw new Error("Winner must be one of the two players");const Pe=O.winner_id&&O.winner_id!=="none"?parseInt(O.winner_id):null,ot=O.player1_score!==""?parseInt(O.player1_score):null,ut=O.player2_score!==""?parseInt(O.player2_score):null;if((Pe!==null||ot!==null||ut!==null)&&(Pe===null||ot===null||ut===null))throw new Error("To complete a match, enter both scores and select a winner");const ft={player1_id:parseInt(O.player1_id),player2_id:parseInt(O.player2_id),winner_id:Pe,player1_score:ot,player2_score:ut,event_id:O.event_id&&O.event_id!=="none"?parseInt(O.event_id):null,match_order:O.match_order?parseInt(O.match_order):0,vod_link:O.vod_link||null,season_id:x??0},kt=ft.winner_id!==null,Ze=(I==null?void 0:I.winner_id)!==null,Dr=I&&Ze&&kt&&(I.winner_id!==ft.winner_id||I.player1_score!==ft.player1_score||I.player2_score!==ft.player2_score),Ur=!I&&kt,Yi=Dr||Ur||I&&kt;let ci=null;if(I){const{error:Hr}=await Ge.from("matches").update(ft).eq("id",I.id);if(Hr)throw Hr;kt&&!Ze&&await Ge.from("players").update({has_played_this_season:!0}).in("id",[ft.player1_id,ft.player2_id]),e({title:"Match updated",description:kt?"Match updated. Calculating ratings...":"Match has been updated successfully."}),Yi&&(ci=I.id)}else{const{data:Hr,error:qi}=await Ge.from("matches").insert(ft).select();if(qi)throw qi;Ur&&await Ge.from("players").update({has_played_this_season:!0}).in("id",[ft.player1_id,ft.player2_id]),e({title:"Match created",description:Ur?"Match created. Calculating ratings...":"Match has been created successfully."}),Ur&&Hr&&Hr[0]&&(ci=Hr[0].id)}if(R(!1),ie(!0),ci){const Hr=await fM(ci);Hr.success?(e({variant:"success",title:"Ratings updated",description:"Player ratings have been calculated."}),await ie(!0)):e({variant:"destructive",title:"Rating update failed",description:Hr.error||"Failed to update ratings."})}}catch(Pe){J(Pe.message),e({variant:"destructive",title:"Error",description:Pe.message})}finally{te(!1)}},Se=async Ee=>{if(!confirm("Are you sure you want to delete this match?"))return;const{error:Pe}=await Ge.from("matches").delete().eq("id",Ee.id);Pe?e({variant:"destructive",title:"Error deleting match",description:Pe.message}):(e({variant:"success",title:"Match deleted",description:"Match has been deleted."}),ie(!0))},Ve=async Ee=>{Oe(ot=>new Set(ot).add(Ee));const Pe=await bw(Ee);return he(ot=>new Map(ot).set(Ee,Pe.canRollback)),Oe(ot=>{const ut=new Set(ot);return ut.delete(Ee),ut}),Pe},et=async Ee=>{const Pe=await Ve(Ee.id);if(!Pe.canRollback){e({variant:"destructive",title:"Cannot rollback match",description:Pe.reason||"This match cannot be rolled back"});return}const ot=me(Ee.player1_id),ut=me(Ee.player2_id);if(!confirm(`Rollback match "${ot} vs ${ut}"?

This will revert the match to an upcoming state and recalculate all ratings.`))return;te(!0);const vt=await uM(Ee.id);vt.success?(e({variant:"success",title:"Match rolled back",description:"The match was reverted to upcoming and ratings have been recalculated."}),ie(!0)):e({variant:"destructive",title:"Rollback failed",description:vt.error||"Failed to rollback match"}),te(!1)},tt=be==="all"?t:t.filter(Ee=>Ee.event_id===parseInt(be));return h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(Kr,{className:"border-b border-border/30 bg-muted/20",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs(Zr,{className:"font-heading uppercase tracking-widest text-xl flex items-center gap-2",children:[h.jsx("span",{className:"text-primary",children:""})," Match Management"]}),h.jsx(gi,{className:"font-body",children:"Create, edit, and delete matches"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(_t,{onClick:()=>ie(!0),variant:"outline",size:"icon",disabled:B,className:"border-primary/30 hover:bg-primary/10 hover:text-primary transition-colors",children:h.jsx(Ig,{className:`h-4 w-4 ${B?"animate-spin":""}`})}),h.jsxs(_t,{onClick:Te,className:"bg-primary text-primary-foreground hover:bg-primary/90 font-heading uppercase tracking-wider font-bold",children:[h.jsx(Yb,{className:"h-4 w-4 mr-2"}),"New Match"]})]})]})}),h.jsxs(xr,{className:"space-y-6 p-6",children:[h.jsxs("div",{className:"flex gap-4 flex-wrap bg-card/50 p-4 rounded-lg border border-border/30",children:[h.jsxs(Kg,{value:(x==null?void 0:x.toString())??"",onValueChange:Ee=>S(Ee==="0"?0:parseInt(Ee,10)),children:[h.jsx(Qu,{className:"w-full sm:w-64 bg-background/50 border-primary/30 focus:ring-primary/50",children:h.jsx(Zg,{placeholder:"Select a season"})}),h.jsxs(Ju,{children:[f.filter(Ee=>Ee.status==="active").map(Ee=>h.jsxs(Os,{value:Ee.id.toString(),children:[Ee.name," (Active)"]},Ee.id)),f.filter(Ee=>Ee.status==="archived").sort((Ee,Pe)=>Ee.id-Pe.id).map(Ee=>h.jsxs(Os,{value:Ee.id.toString(),children:[Ee.name," (Archived)"]},Ee.id))]})]}),h.jsx(Ms,{value:be,onValueChange:ke,options:[{value:"all",label:"All Events"},{value:"0",label:"No Event"},...a.map(Ee=>({value:String(Ee.id),label:Ee.title}))],placeholder:"Filter by event",searchPlaceholder:"Search events...",className:"w-[250px]"})]}),C?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):h.jsx("div",{className:"rounded-md border border-border/30 overflow-hidden",children:h.jsxs(rm,{children:[h.jsx(im,{className:"bg-muted/30",children:h.jsxs(cs,{className:"hover:bg-transparent border-b border-border/30",children:[h.jsx(ai,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Player 1"}),h.jsx(ai,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Player 2"}),h.jsx(ai,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Score"}),h.jsx(ai,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Winner"}),h.jsx(ai,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Event"}),h.jsx(ai,{className:"text-right font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Actions"})]})}),h.jsx(nm,{children:tt.length===0?h.jsx(cs,{children:h.jsx(Rr,{colSpan:6,className:"text-center text-muted-foreground py-8 italic",children:"No matches found"})}):tt.map(Ee=>h.jsxs(cs,{className:"hover:bg-primary/5 transition-colors border-b border-border/20 last:border-0",children:[h.jsx(Rr,{className:"font-medium",children:me(Ee.player1_id)}),h.jsx(Rr,{className:"font-medium",children:me(Ee.player2_id)}),h.jsxs(Rr,{className:"font-mono",children:[Ee.player1_score??"?"," - ",Ee.player2_score??"?"]}),h.jsx(Rr,{children:Ee.winner_id?h.jsx("span",{className:"text-green-500 font-bold",children:me(Ee.winner_id)}):h.jsx("span",{className:"text-muted-foreground italic",children:"Upcoming"})}),h.jsx(Rr,{className:"text-muted-foreground",children:pe(Ee.event_id)}),h.jsxs(Rr,{className:"text-right space-x-2",children:[h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>$e(Ee),className:"hover:text-primary hover:bg-primary/10",children:h.jsx(Xb,{className:"h-4 w-4"})}),Ee.winner_id&&h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>et(Ee),disabled:ae,title:"Rollback match",className:"hover:text-yellow-500 hover:bg-yellow-500/10",children:h.jsx(AT,{className:"h-4 w-4"})}),h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>Se(Ee),className:"hover:text-red-500 hover:bg-red-500/10",children:h.jsx(qb,{className:"h-4 w-4"})})]})]},Ee.id))})]})})]}),h.jsx(Rc,{open:D,onOpenChange:R,children:h.jsxs(Ya,{className:"max-w-2xl bg-card/95 backdrop-blur-xl border-primary/50",children:[h.jsxs(qa,{children:[h.jsx(Ka,{className:"font-heading uppercase tracking-widest text-xl text-primary",children:I?"Edit Battle":"New Battle"}),h.jsx(rh,{children:I?"Update match information":"Add a new match to the system"})]}),h.jsxs("form",{onSubmit:Ye,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player1_id",className:"font-heading uppercase text-xs tracking-wider",children:"Player 1 *"}),h.jsx(Ms,{value:O.player1_id,onValueChange:Ee=>q({...O,player1_id:Ee}),options:i.map(Ee=>({value:String(Ee.id),label:Ee.name})),placeholder:"Select player 1",searchPlaceholder:"Search players..."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player2_id",className:"font-heading uppercase text-xs tracking-wider",children:"Player 2 *"}),h.jsx(Ms,{value:O.player2_id,onValueChange:Ee=>q({...O,player2_id:Ee}),options:i.map(Ee=>({value:String(Ee.id),label:Ee.name})),placeholder:"Select player 2",searchPlaceholder:"Search players..."})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player1_score",className:"font-heading uppercase text-xs tracking-wider",children:"Player 1 Score"}),h.jsx(Qr,{id:"player1_score",type:"number",min:"0",value:O.player1_score,onChange:Ee=>q({...O,player1_score:Ee.target.value}),placeholder:"Leave empty for upcoming",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player2_score",className:"font-heading uppercase text-xs tracking-wider",children:"Player 2 Score"}),h.jsx(Qr,{id:"player2_score",type:"number",min:"0",value:O.player2_score,onChange:Ee=>q({...O,player2_score:Ee.target.value}),placeholder:"Leave empty for upcoming",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"winner_id",className:"font-heading uppercase text-xs tracking-wider",children:"Winner (leave empty for upcoming match)"}),h.jsx(Ms,{value:O.winner_id,onValueChange:Ee=>q({...O,winner_id:Ee}),options:[{value:"none",label:"No winner (upcoming)"},...O.player1_id?[{value:O.player1_id,label:me(parseInt(O.player1_id))}]:[],...O.player2_id?[{value:O.player2_id,label:me(parseInt(O.player2_id))}]:[]],placeholder:"Select winner",searchPlaceholder:"Search..."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"event_id",className:"font-heading uppercase text-xs tracking-wider",children:"Event"}),h.jsx(Ms,{value:O.event_id,onValueChange:Ee=>q({...O,event_id:Ee}),options:[{value:"none",label:"No event"},...a.map(Ee=>({value:String(Ee.id),label:Ee.title}))],placeholder:"Select event",searchPlaceholder:"Search events..."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"match_order",className:"font-heading uppercase text-xs tracking-wider",children:"Match Order"}),h.jsx(Qr,{id:"match_order",type:"number",min:"0",value:O.match_order,onChange:Ee=>q({...O,match_order:Ee.target.value}),className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"vod_link",className:"font-heading uppercase text-xs tracking-wider",children:"VOD Link"}),h.jsx(Qr,{id:"vod_link",type:"url",value:O.vod_link,onChange:Ee=>q({...O,vod_link:Ee.target.value}),placeholder:"https://youtube.com/...",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),le&&h.jsx("div",{className:"text-sm text-destructive font-bold",children:le})]}),h.jsxs(th,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>R(!1),children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:ae,className:"bg-primary text-primary-foreground hover:bg-primary/90 font-heading uppercase tracking-wider font-bold",children:ae?"Saving...":I?"Update":"Create"})]})]})]})})]})}function YW(){const{toast:e}=sm(),[t,r]=T.useState([]),[i,s]=T.useState(""),[a,c]=T.useState([]),[f,v]=T.useState([]),[x,S]=T.useState(!1),[C,N]=T.useState(!1),[B,U]=T.useState(!1),[D,R]=T.useState(null),[I,j]=T.useState({player1_score:"",player2_score:"",winner_id:""}),[O,q]=T.useState(!1),[ae,te]=T.useState(null);T.useEffect(()=>{le(),J()},[]),T.useEffect(()=>{i&&be()},[i]);const le=async()=>{const{data:me,error:pe}=await Ge.from("events").select("*").order("event_date",{ascending:!1});pe?(console.error("Error loading events:",pe),e({variant:"destructive",title:"Error loading events",description:pe.message})):(r(me||[]),me&&me.length>0&&!i&&s(String(me[0].id)))},J=async()=>{const{data:me,error:pe}=await Ge.from("players").select("*").order("name");pe?console.error("Error loading players:",pe):v(me||[])},be=async(me=!1)=>{if(!i)return;me?N(!0):S(!0);const{data:pe,error:Te}=await Ge.from("matches").select("*").eq("event_id",parseInt(i)).order("match_order");Te?(console.error("Error loading matches:",Te),e({variant:"destructive",title:"Error loading matches",description:Te.message})):c(pe||[]),S(!1),N(!1)},ke=me=>{var pe;return((pe=f.find(Te=>Te.id===me))==null?void 0:pe.name)||"Unknown"},Ie=me=>{R(me),j({player1_score:me.player1_score!==void 0&&me.player1_score!==null?String(me.player1_score):"",player2_score:me.player2_score!==void 0&&me.player2_score!==null?String(me.player2_score):"",winner_id:me.winner_id?String(me.winner_id):""}),te(null),U(!0)},he=async me=>{if(me.preventDefault(),!!D){q(!0),te(null);try{const pe=I.player1_score!==""?parseInt(I.player1_score):null,Te=I.player2_score!==""?parseInt(I.player2_score):null,$e=I.winner_id?parseInt(I.winner_id):null,Ye=pe!==null||Te!==null||$e!==null;if(Ye){if(pe===null||Te===null||$e===null)throw new Error("To complete a match, enter both scores and select a winner");if($e!==D.player1_id&&$e!==D.player2_id)throw new Error("Winner must be one of the two players")}const Ve=D.winner_id!==null&&Ye&&(D.winner_id!==$e||(D.player1_score??null)!==pe||(D.player2_score??null)!==Te),{error:et}=await Ge.from("matches").update({player1_score:pe,player2_score:Te,winner_id:$e}).eq("id",D.id);if(et)throw et;if(Ye&&await Ge.from("players").update({has_played_this_season:!0}).in("id",[D.player1_id,D.player2_id]),e({title:"Score updated",description:Ye?"Match updated. Calculating ratings...":"Match kept as upcoming."}),U(!1),be(!0),Ye){const tt=await fM(D.id);tt.success?(e({variant:"success",title:"Ratings updated",description:"Player ratings have been calculated."}),await be(!0)):e({variant:"destructive",title:"Rating update failed",description:tt.error||"Failed to update ratings."})}}catch(pe){te(pe.message),e({variant:"destructive",title:"Error",description:pe.message})}finally{q(!1)}}},_e=async me=>{const pe=await bw(me.id);if(!pe.canRollback){e({variant:"destructive",title:"Cannot rollback match",description:pe.reason||"This match cannot be rolled back"});return}const Te=ke(me.player1_id),$e=ke(me.player2_id);if(!confirm(`Rollback match "${Te} vs ${$e}"?

This will revert the match to an upcoming state and recalculate all ratings.`))return;q(!0);const Ye=await uM(me.id);Ye.success?(e({variant:"success",title:"Match rolled back",description:"The match was reverted to upcoming and ratings have been recalculated."}),be(!0)):e({variant:"destructive",title:"Rollback failed",description:Ye.error||"Failed to rollback match"}),q(!1)},Oe=t.find(me=>me.id===parseInt(i)),Je=a.filter(me=>me.winner_id!==null),ie=a.filter(me=>me.winner_id===null);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsx(Kr,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Zr,{className:"font-heading text-2xl text-primary",children:"Event Dashboard"}),h.jsx(gi,{children:"Register scores for matches within an event"})]}),i&&h.jsx(_t,{onClick:()=>be(!0),variant:"outline",size:"icon",disabled:C,className:"bg-background/50 border-primary/30 hover:bg-primary/20",children:h.jsx(Ig,{className:`h-4 w-4 ${C?"animate-spin":""}`})})]})}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{className:"font-bold uppercase tracking-wider text-xs text-muted-foreground",children:"Select Event"}),h.jsx(Ms,{value:i,onValueChange:s,options:t.map(me=>({value:String(me.id),label:`${me.title} - ${new Date(me.event_date).toLocaleDateString()}`})),placeholder:"Choose an event",searchPlaceholder:"Search events...",className:"w-full"})]}),Oe&&h.jsxs("div",{className:"p-4 bg-background/30 rounded-lg border border-border/30",children:[h.jsx("h3",{className:"font-heading font-bold text-xl text-primary mb-2",children:Oe.title}),h.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:new Date(Oe.event_date).toLocaleString()}),Oe.description&&h.jsx("p",{className:"text-sm mt-2 italic text-muted-foreground",children:Oe.description}),h.jsxs("div",{className:"flex gap-4 mt-3 text-sm font-bold uppercase tracking-wider",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(SS,{className:"h-4 w-4 text-green-500"}),h.jsxs("span",{children:[Je.length," completed"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_S,{className:"h-4 w-4 text-orange-500"}),h.jsxs("span",{children:[ie.length," upcoming"]})]})]})]})]})]}),i&&!x&&h.jsxs(h.Fragment,{children:[ie.length>0&&h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(Kr,{children:[h.jsxs(Zr,{className:"flex items-center gap-2 font-heading text-xl text-orange-500",children:[h.jsx(_S,{className:"h-5 w-5"}),"Upcoming Matches"]}),h.jsx(gi,{children:"Click to register scores"})]}),h.jsx(xr,{children:h.jsx("div",{className:"space-y-3",children:ie.map(me=>h.jsxs("div",{className:"flex items-center justify-between p-4 border border-border/40 rounded-lg hover:bg-primary/5 hover:border-primary/30 cursor-pointer transition-all group",onClick:()=>Ie(me),children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-sm text-muted-foreground font-mono bg-background/50 px-2 py-1 rounded",children:["#",me.match_order||0]}),h.jsxs("div",{className:"font-heading font-bold text-lg group-hover:text-primary transition-colors",children:[ke(me.player1_id)," ",h.jsx("span",{className:"text-muted-foreground text-sm mx-1",children:"VS"})," ",ke(me.player2_id)]})]}),h.jsx(_t,{size:"sm",variant:"outline",className:"font-bold uppercase tracking-wider text-xs bg-background/50 border-primary/30 group-hover:bg-primary group-hover:text-primary-foreground",children:"Register Score"})]},me.id))})})]}),Je.length>0&&h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(Kr,{children:[h.jsxs(Zr,{className:"flex items-center gap-2 font-heading text-xl text-green-500",children:[h.jsx(SS,{className:"h-5 w-5"}),"Completed Matches"]}),h.jsx(gi,{children:"Click to edit scores"})]}),h.jsx(xr,{children:h.jsx("div",{className:"space-y-3",children:Je.map(me=>h.jsxs("div",{className:"flex items-center justify-between p-4 border border-border/40 rounded-lg hover:bg-primary/5 hover:border-primary/30 transition-all group",children:[h.jsxs("div",{className:"flex items-center gap-4 flex-1 cursor-pointer",onClick:()=>Ie(me),children:[h.jsxs("div",{className:"text-sm text-muted-foreground font-mono bg-background/50 px-2 py-1 rounded",children:["#",me.match_order||0]}),h.jsxs("div",{className:"flex items-center gap-4 font-heading text-lg",children:[h.jsx("span",{className:`${me.winner_id===me.player1_id?"text-primary font-bold drop-shadow-[0_0_5px_rgba(var(--primary-rgb),0.5)]":"text-muted-foreground"}`,children:ke(me.player1_id)}),h.jsxs("span",{className:"text-muted-foreground font-mono text-sm bg-background/30 px-2 py-1 rounded border border-border/30",children:[me.player1_score??"?"," - ",me.player2_score??"?"]}),h.jsx("span",{className:`${me.winner_id===me.player2_id?"text-primary font-bold drop-shadow-[0_0_5px_rgba(var(--primary-rgb),0.5)]":"text-muted-foreground"}`,children:ke(me.player2_id)})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20",children:[h.jsx(TT,{className:"h-3 w-3 text-yellow-500"}),h.jsx("span",{className:"font-bold text-sm text-yellow-500 uppercase tracking-wider",children:ke(me.winner_id)})]}),h.jsx(_t,{size:"sm",variant:"ghost",onClick:pe=>{pe.stopPropagation(),_e(me)},disabled:O,title:"Rollback match (only if both players have no matches afterwards)",className:"hover:bg-destructive/20 hover:text-destructive",children:h.jsx(AT,{className:"h-4 w-4"})})]})]},me.id))})})]}),a.length===0&&h.jsx(pr,{className:"bg-card/50 border-border/50",children:h.jsx(xr,{className:"py-12 text-center text-muted-foreground italic",children:"No matches found for this event. Create matches in the Match Management section."})})]}),x&&h.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),"Loading matches..."]}),h.jsx(Rc,{open:B,onOpenChange:U,children:h.jsxs(Ya,{className:"bg-card/90 backdrop-blur-xl border-primary/20",children:[h.jsxs(qa,{children:[h.jsx(Ka,{className:"font-heading text-2xl text-primary",children:"Register Match Score"}),h.jsx(rh,{children:D&&h.jsxs("span",{className:"font-heading font-bold text-lg text-foreground",children:[ke(D.player1_id)," ",h.jsx("span",{className:"text-muted-foreground text-sm mx-1",children:"VS"})," ",ke(D.player2_id)]})})]}),D&&h.jsxs("form",{onSubmit:he,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs(Cr,{className:"font-bold uppercase tracking-wider text-xs",children:[ke(D.player1_id)," Score *"]}),h.jsx(Qr,{type:"number",min:"0",value:I.player1_score,onChange:me=>j({...I,player1_score:me.target.value}),className:"bg-background/50 border-primary/30 focus:ring-primary/50 text-center font-mono text-lg font-bold"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs(Cr,{className:"font-bold uppercase tracking-wider text-xs",children:[ke(D.player2_id)," Score *"]}),h.jsx(Qr,{type:"number",min:"0",value:I.player2_score,onChange:me=>j({...I,player2_score:me.target.value}),className:"bg-background/50 border-primary/30 focus:ring-primary/50 text-center font-mono text-lg font-bold"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{className:"font-bold uppercase tracking-wider text-xs",children:"Winner *"}),h.jsx(Ms,{value:I.winner_id,onValueChange:me=>j({...I,winner_id:me}),options:[{value:String(D.player1_id),label:ke(D.player1_id)},{value:String(D.player2_id),label:ke(D.player2_id)}],placeholder:"Select winner",searchPlaceholder:"Search players...",className:"w-full"})]}),ae&&h.jsx("div",{className:"text-sm text-destructive font-bold bg-destructive/10 p-2 rounded border border-destructive/20",children:ae})]}),h.jsxs(th,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>U(!1),className:"font-bold uppercase tracking-wider",children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:O,className:"font-heading font-bold uppercase tracking-wider",children:O?"Saving...":"Save Score"})]})]})]})})]})}function qW(){gn("Admin");const{session:e,isAdmin:t,loading:r}=xw(),[i,s]=T.useState(null),[a,c]=T.useState([]),[f,v]=T.useState(!0),[x,S]=T.useState("Season Complete"),[C,N]=T.useState(!1),[B,U]=T.useState(null),[D,R]=T.useState(null),[I,j]=T.useState(!1),[O,q]=T.useState(null),[ae,te]=T.useState(null),[le,J]=T.useState({totalMatches:0,processedMatches:0,currentMatch:0,status:"idle"}),[be,ke]=T.useState(null);T.useEffect(()=>{Ie()},[]);const Ie=async()=>{v(!0);try{const ie=await Lz(),me=await qc();s(ie),c(me)}catch(ie){console.error("Failed to load seasons:",ie)}finally{v(!1)}},he=async()=>{if(!i){alert("No active season found");return}const ie=`Season ${a.filter(Te=>Te.status==="archived").length+1}`,me=` Archive "${i.name}" and start "${ie}"?

This will:
 Create snapshots of all current player standings
 Mark current season as archived
 Reset all players' ratings
 Create a new active season

This action cannot be undone!`;if(!confirm(me))return;N(!0),U(null);const pe=await Iz(ie,Te=>{console.log("Archive progress:",Te)});U(pe),N(!1),pe.success&&await Ie()},_e=async ie=>{const me=a.find($e=>$e.id===ie);if(!me){alert("Season not found");return}const pe=` Restore "${me.name}" as the active season?

This will:
 Archive the current active season with all its matches
 Restore player ratings from ${me.name}'s snapshots
 Make ${me.name} the current active season for new matches

This action cannot be undone!`;if(!confirm(pe))return;R(ie),j(!0),q(null);const Te=await $z(ie,$e=>{console.log("Activate progress:",$e)});q(Te),j(!1),Te.success&&await Ie()},Oe=async ie=>{const me=a.find(Ye=>Ye.id===ie);if(!me){alert("Season not found");return}const pe=ie===0,Te=pe?` Recalculate ratings for "${me.name}"?

This will:
 Recalculate all matches in the current season
 Update player ratings and standings
 Preserve all match history

Existing rating data will be recalculated. Continue?`:` Calculate ratings for "${me.name}"?

This will:
 Create rating events from scratch for all matches in this season
 Calculate final player ratings and standings
 Create snapshots of the final leaderboard
 Recalculate all rating changes for matches

Existing rating data will be recalculated. Continue?`;if(!confirm(Te))return;te(ie),J({totalMatches:0,processedMatches:0,currentMatch:0,status:"running"}),ke(null);const $e=pe?await cM(Ye=>{J(Ye)},"Recalculate active season",0):await xW(ie,Ye=>{J(Ye)});ke($e)},Je=()=>le.totalMatches===0?0:Math.round(le.processedMatches/le.totalMatches*100);return r?h.jsx("div",{className:"container py-8",children:h.jsx("div",{className:"text-center",children:"Loading..."})}):e?t?h.jsxs("div",{className:"container py-8 space-y-8",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary/80 to-primary/50 drop-shadow-sm",children:"Admin Dashboard"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg",children:"Manage the arena and its combatants."})]}),h.jsxs(RW,{defaultValue:"dashboard",className:"space-y-6",children:[h.jsxs(OM,{className:"bg-card/40 backdrop-blur-sm border border-border/40 p-1 h-auto flex-wrap justify-start gap-2",children:[h.jsx(Ea,{value:"dashboard",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Event Dashboard"}),h.jsx(Ea,{value:"events",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Events"}),h.jsx(Ea,{value:"matches",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Matches"}),h.jsx(Ea,{value:"players",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Players"}),h.jsx(Ea,{value:"seasons",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Seasons"}),h.jsx(Ea,{value:"tools",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Tools"})]}),h.jsxs("div",{className:"bg-card/30 backdrop-blur-md border border-border/40 rounded-lg p-6 shadow-xl relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(Ta,{value:"dashboard",className:"m-0",children:h.jsx(YW,{})}),h.jsx(Ta,{value:"events",className:"m-0",children:h.jsx(VW,{})}),h.jsx(Ta,{value:"matches",className:"m-0",children:h.jsx(XW,{})}),h.jsx(Ta,{value:"players",className:"m-0",children:h.jsx(GW,{})}),h.jsxs(Ta,{value:"seasons",className:"space-y-6 m-0",children:[h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(Kr,{children:[h.jsx(Zr,{className:"font-heading text-2xl text-primary",children:"Active Season"}),h.jsx(gi,{children:"Current season where matches are being recorded"})]}),h.jsx(xr,{className:"space-y-4",children:f?h.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):i?h.jsx("div",{className:"space-y-3",children:h.jsxs("div",{className:"p-4 bg-primary/10 border border-primary/20 rounded-lg flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-lg font-heading font-bold text-primary",children:i.name}),h.jsxs("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:["Started: ",new Date(i.start_date).toLocaleDateString()]})]}),h.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)] animate-pulse"})]})}):h.jsx("p",{className:"text-sm text-destructive font-bold",children:"No active season found!"})})]}),h.jsxs(pr,{className:"border-amber-500/30 bg-amber-500/5",children:[h.jsxs(Kr,{children:[h.jsxs(Zr,{className:"flex items-center gap-2 font-heading text-xl text-amber-500",children:[h.jsx(n$,{className:"h-5 w-5"}),"Archive Season & Start New"]}),h.jsx(gi,{children:"End the current season, create snapshots, and reset for a new season"})]}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:[h.jsx("p",{className:"text-sm text-amber-500 font-bold uppercase tracking-wider mb-2",children:" This will:"}),h.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside font-medium",children:[h.jsx("li",{children:"Create final standings snapshots for all active players"}),h.jsx("li",{children:"Archive the current season permanently"}),h.jsx("li",{children:"Reset all player ratings to NULL (inactive)"}),h.jsx("li",{children:"Create a new active season for fresh matches"})]})]}),h.jsx(_t,{onClick:he,disabled:C||!i,size:"lg",className:"w-full font-heading font-bold uppercase tracking-wider bg-amber-600 hover:bg-amber-700 text-white",children:C?"Archiving Season...":"Archive Season & Start New"}),B&&!B.success&&h.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive rounded-lg",children:[h.jsx("p",{className:"text-destructive font-bold uppercase tracking-wider text-xs",children:"Error"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:B.error})]}),B&&B.success&&h.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[h.jsx("p",{className:"text-green-500 font-bold uppercase tracking-wider text-xs",children:" Season Archived!"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Season has been archived and a new active season created."})]})]})]}),h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(Kr,{children:[h.jsx(Zr,{className:"font-heading text-2xl",children:"Season History"}),h.jsx(gi,{children:'Previously archived seasons. Click "Activate" to restore a season as the current active season.'})]}),h.jsxs(xr,{children:[f?h.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):a.filter(ie=>ie.status==="archived").length>0?h.jsx("div",{className:"space-y-3",children:a.filter(ie=>ie.status==="archived").sort((ie,me)=>me.id-ie.id).map(ie=>h.jsx("div",{className:"p-4 bg-background/50 border border-border/40 rounded-lg hover:border-primary/30 transition-colors",children:h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-heading font-bold text-lg",children:ie.name}),h.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[new Date(ie.start_date).toLocaleDateString(),ie.end_date&&` - ${new Date(ie.end_date).toLocaleDateString()}`]}),ie.description&&h.jsx("p",{className:"text-xs text-muted-foreground mt-1 italic",children:ie.description})]}),h.jsx(_t,{onClick:()=>_e(ie.id),disabled:I&&D===ie.id,size:"sm",variant:"outline",className:"font-bold uppercase tracking-wider text-xs",children:I&&D===ie.id?"Activating...":"Activate"})]})},ie.id))}):h.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No archived seasons yet"}),O&&!O.success&&h.jsxs("div",{className:"mt-4 p-4 bg-destructive/10 border border-destructive rounded-lg",children:[h.jsx("p",{className:"text-destructive font-bold uppercase tracking-wider text-xs",children:"Error"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:O.error})]}),O&&O.success&&h.jsxs("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[h.jsx("p",{className:"text-green-500 font-bold uppercase tracking-wider text-xs",children:" Season Activated!"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Season has been restored as the active season and player ratings have been restored."})]})]})]})]}),h.jsx(Ta,{value:"tools",className:"space-y-6 m-0",children:h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(Kr,{children:[h.jsx(Zr,{className:"font-heading text-2xl",children:"Calculate Season Ratings"}),h.jsx(gi,{children:"Calculate ratings for seasons. Select the active season to recalculate current season, or archived seasons to retroactively calculate."})]}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-bold uppercase tracking-wider text-muted-foreground",children:"Select Season"}),h.jsxs(Kg,{value:ae!==null?ae.toString():"",onValueChange:ie=>{const me=ie?parseInt(ie):null;te(me)},children:[h.jsx(Qu,{className:"w-full bg-background/50 border-primary/30",children:h.jsx(Zg,{placeholder:"Choose a season..."})}),h.jsx(Ju,{children:a.sort((ie,me)=>ie.id===0?-1:me.id===0?1:ie.id-me.id).map(ie=>h.jsxs(Os,{value:ie.id.toString(),children:[ie.name," ",ie.status==="active"?"(Active)":""]},ie.id))})]})]}),h.jsx(_t,{onClick:()=>ae!==null&&Oe(ae),disabled:ae===null||le.status==="running",size:"lg",className:"w-full font-heading font-bold uppercase tracking-wider",children:le.status==="running"?"Calculating...":"Calculate Season Ratings"}),le.status==="running"&&h.jsxs("div",{className:"space-y-2 p-4 bg-background/30 rounded-lg border border-border/30",children:[h.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[h.jsxs("span",{children:["Processing match ",le.currentMatch]}),h.jsxs("span",{children:[le.processedMatches," / ",le.totalMatches]})]}),h.jsx("div",{className:"w-full bg-secondary/50 rounded-full h-2.5 overflow-hidden",children:h.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-300 shadow-[0_0_10px_rgba(var(--primary-rgb),0.5)]",style:{width:`${Je()}%`}})}),h.jsxs("div",{className:"text-center text-sm font-bold text-primary",children:[Je(),"%"]})]}),be&&!be.success&&h.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive rounded-lg",children:[h.jsx("p",{className:"text-destructive font-bold uppercase tracking-wider text-xs",children:"Error"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:be.error})]}),be&&be.success&&h.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[h.jsx("p",{className:"text-green-500 font-bold uppercase tracking-wider text-xs",children:" Success!"}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created ",be.eventsCreated," rating events and snapshots for this season."]})]})]})]})})]})]})]}):h.jsx("div",{className:"container py-8",children:h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs(pr,{children:[h.jsxs(Kr,{children:[h.jsx(Zr,{children:"Access Denied"}),h.jsx(gi,{children:"You don't have admin privileges. Please contact an administrator."})]}),h.jsxs(xr,{children:[h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your user ID: ",h.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:e.user.id})]}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"To grant yourself admin access, run this SQL in Supabase Studio:"}),h.jsx("pre",{className:"bg-muted p-3 rounded mt-2 text-xs overflow-x-auto",children:`UPDATE auth.users
SET raw_app_meta_data = COALESCE(raw_app_meta_data, '{}'::jsonb) || jsonb_build_object('role', 'admin')
WHERE id = '${e.user.id}';`}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Then refresh this page."})]})]})})}):h.jsx(jE,{to:"/login",replace:!0})}function s_(){gn("Upcoming Matches");const[e,t]=T.useState([]),[r,i]=T.useState([]),[s,a]=T.useState([]),[c,f]=T.useState(!0);T.useEffect(()=>{let S=!0;return(async()=>{const[C,N,B]=await Promise.all([Vb(),W3(),z3()]);S&&(t(C),i(N),a(B),f(!1))})(),()=>{S=!1}},[]);const v=T.useMemo(()=>{if(!e.length||!r.length)return[];const S=new Map(e.map(C=>[C.id,C]));return r.map(C=>({...C,matches:s.filter(N=>N.event_id===C.id).map(N=>({...N,player1:S.get(N.player1_id),player2:S.get(N.player2_id)})).sort((N,B)=>(N.match_order??0)-(B.match_order??0))}))},[e,r,s]),x=S=>{const C=new Date(S);return C.setHours(C.getHours()+3),C.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})};return c?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Upcoming Matches"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]}):v.length===0?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Upcoming Matches"}),h.jsx(pr,{children:h.jsx(xr,{className:"pt-6",children:h.jsx("p",{className:"text-muted-foreground",children:"No upcoming events scheduled."})})})]}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-primary/30 pb-4",children:[h.jsx("h1",{className:"text-4xl font-heading font-bold text-primary drop-shadow-[0_0_10px_rgba(234,179,8,0.3)] uppercase tracking-widest",children:"Upcoming Battles"}),h.jsx("div",{className:"h-1 w-24 bg-primary/50 rounded-full"})]}),v.map(S=>h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden group",children:[h.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary/50 group-hover:bg-primary transition-colors"}),h.jsx(Kr,{className:"bg-muted/30 border-b border-border/30 pb-4",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{children:[h.jsxs(Zr,{className:"font-heading text-2xl text-foreground tracking-wide flex items-center gap-3",children:[S.title,h.jsx("span",{className:"text-xs font-body font-normal text-muted-foreground px-2 py-0.5 border border-border rounded uppercase tracking-wider",children:"Event"})]}),h.jsxs(gi,{className:"font-body text-base mt-1 flex items-center gap-2",children:[h.jsx("span",{className:"text-primary",children:""})," ",x(S.event_date)]}),S.description&&h.jsxs("p",{className:"text-sm text-muted-foreground mt-3 italic border-l-2 border-primary/30 pl-3",children:['"',S.description,'"']})]}),S.stream_url&&h.jsx("a",{href:S.stream_url,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 bg-primary/10 border border-primary/50 text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 text-sm font-heading font-bold uppercase tracking-wider rounded-sm shadow-[0_0_10px_rgba(234,179,8,0.1)] hover:shadow-[0_0_15px_rgba(234,179,8,0.4)]",children:"Watch Stream"})]})}),h.jsx(xr,{className:"pt-6",children:S.matches.length===0?h.jsx("div",{className:"text-center py-8 text-muted-foreground italic font-body",children:"No battles scheduled for this event yet."}):h.jsx("div",{className:"space-y-4",children:S.matches.map((C,N)=>{const{player1:B,player2:U}=C;if(!B||!U)return h.jsxs("div",{className:"p-4 border border-destructive/30 bg-destructive/10 rounded text-destructive text-center font-heading",children:["Match ",N+1,": Player data missing"]},C.id);const D=WF(B,U);return h.jsxs("div",{className:"relative p-4 border border-border/40 bg-background/40 rounded-sm hover:border-primary/50 transition-colors group/match",children:[h.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-background px-2 text-xs font-heading font-bold text-muted-foreground uppercase tracking-widest border border-border/30 rounded-full",children:["Match ",N+1]}),h.jsxs("div",{className:"flex items-center justify-between gap-4 mt-2",children:[h.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[h.jsxs(Tr,{to:`/players/${B.id}`,className:"relative shrink-0 group/p1",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-md opacity-0 group-hover/p1:opacity-100 transition-opacity"}),h.jsx($s,{name:B.name,twitter:B.twitter,size:56,className:"h-14 w-14 border-2 border-border group-hover/p1:border-primary transition-colors relative z-10"})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx(Tr,{to:`/players/${B.id}`,className:"hover:text-primary transition-colors block",children:h.jsx("div",{className:"font-heading font-bold text-lg leading-tight truncate",children:B.name})}),h.jsxs("div",{className:"text-xs font-body text-muted-foreground uppercase tracking-wider mt-0.5",children:["Rating: ",h.jsx("span",{className:"text-foreground font-bold",children:B.rating===null?"Unrated":Math.round(B.rating)})]}),h.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs font-bold",children:[h.jsxs("span",{className:"text-green-500 drop-shadow-[0_0_5px_rgba(34,197,94,0.3)]",children:["+",uc(D.player1.winRatingChange)]}),h.jsx("span",{className:"text-red-500 drop-shadow-[0_0_5px_rgba(239,68,68,0.3)]",children:uc(D.player1.loseRatingChange)})]})]})]}),h.jsx("div",{className:"font-heading font-black text-2xl text-primary/20 shrink-0 px-4 select-none group-hover/match:text-primary/40 transition-colors italic",children:"VS"}),h.jsxs("div",{className:"flex items-center gap-4 flex-1 flex-row-reverse text-right",children:[h.jsxs(Tr,{to:`/players/${U.id}`,className:"relative shrink-0 group/p2",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-md opacity-0 group-hover/p2:opacity-100 transition-opacity"}),h.jsx($s,{name:U.name,twitter:U.twitter,size:56,className:"h-14 w-14 border-2 border-border group-hover/p2:border-primary transition-colors relative z-10"})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx(Tr,{to:`/players/${U.id}`,className:"hover:text-primary transition-colors block",children:h.jsx("div",{className:"font-heading font-bold text-lg leading-tight truncate",children:U.name})}),h.jsxs("div",{className:"text-xs font-body text-muted-foreground uppercase tracking-wider mt-0.5",children:["Rating: ",h.jsx("span",{className:"text-foreground font-bold",children:U.rating===null?"Unrated":Math.round(U.rating)})]}),h.jsxs("div",{className:"flex items-center justify-end gap-3 mt-1 text-xs font-bold",children:[h.jsxs("span",{className:"text-green-500 drop-shadow-[0_0_5px_rgba(34,197,94,0.3)]",children:["+",uc(D.player2.winRatingChange)]}),h.jsx("span",{className:"text-red-500 drop-shadow-[0_0_5px_rgba(239,68,68,0.3)]",children:uc(D.player2.loseRatingChange)})]})]})]})]})]},C.id)})})})]},S.id))]})}const DM=T.createContext(void 0);function KW(){return typeof window>"u"?"light":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function o_(e){const t=document.documentElement,r=e==="system"?KW():e;t.classList.remove("light","dark"),r==="dark"?t.classList.add("dark"):t.classList.add("light")}function ZW({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"}){const[i,s]=T.useState(()=>typeof window>"u"?t:window.localStorage.getItem(r)??t);T.useEffect(()=>{o_(i);try{window.localStorage.setItem(r,i)}catch{}},[i,r]),T.useEffect(()=>{if(i!=="system"||typeof window>"u")return;const c=window.matchMedia("(prefers-color-scheme: dark)"),f=()=>o_("system");try{c.addEventListener("change",f)}catch{c.addListener(f)}return()=>{try{c.removeEventListener("change",f)}catch{c.removeListener(f)}}},[i]);const a=T.useMemo(()=>({theme:i,setTheme:s}),[i]);return h.jsx(DM.Provider,{value:a,children:e})}function QW(){const e=T.useContext(DM);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}function JW(){const{theme:e,setTheme:t}=QW(),r=e==="system"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e,i=r==="light"?"dark":"light",s=r==="light"?"Switch to dark":"Switch to light";return h.jsx("div",{className:"flex items-center gap-1",children:h.jsxs(_t,{variant:"ghost",size:"icon","aria-label":s,title:s,onClick:()=>t(i),className:"relative h-10 w-10",children:[h.jsx(x$,{className:"absolute h-6 w-6 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),h.jsx(u$,{className:"absolute h-6 w-6 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})})}function eU({matchId:e,open:t,onOpenChange:r}){const{players:i,matches:s}=Lg(),[a,c]=T.useState(null),[f,v]=T.useState(null),[x,S]=T.useState({}),[C,N]=T.useState(null),[B,U]=T.useState(!1),D=T.useMemo(()=>s.find(J=>J.id===e),[s,e]),R=T.useMemo(()=>D||C,[D,C]),I=i.find(J=>J.id===(R==null?void 0:R.player1_id)),j=i.find(J=>J.id===(R==null?void 0:R.player2_id));T.useEffect(()=>{if(!e||D)return;let J=!0;return U(!0),(async()=>{try{const{data:be,error:ke}=await Ge.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("id",e).single();if(!J)return;if(ke){console.warn("Failed to fetch match from server:",ke),N(null),U(!1);return}be&&(console.log("Fetched match from server:",be),N(be)),U(!1)}catch(be){if(!J)return;console.warn("Error fetching match from server:",be),N(null),U(!1)}})(),()=>{J=!1}},[e,D]),T.useEffect(()=>{let J=!0;return R!=null&&R.id?((async()=>{try{const{data:be,error:ke}=await Ge.from("rating_events").select("player_id, rating, rating_change, event_type").eq("match_id",R.id);if(!J)return;if(ke){console.warn("Failed to fetch rating events for match",R.id,ke),S({});return}const Ie={};for(const he of be??[])(he==null?void 0:he.event_type)!=="match"||typeof(he==null?void 0:he.player_id)!="number"||(Ie[he.player_id]={rating:typeof he.rating=="number"?he.rating:he.rating??null,rating_change:typeof he.rating_change=="number"?he.rating_change:he.rating_change??null});S(Ie)}catch(be){if(!J)return;console.warn("Failed to load rating events for match",R.id,be),S({})}})(),()=>{J=!1}):(S({}),()=>{J=!1})},[R==null?void 0:R.id]);const O=T.useMemo(()=>{if(!R)return{p1:null,p2:null};const J=(he,_e)=>{if(!he)return null;const Oe=s.filter(pe=>pe.id>R.id&&(pe.player1_id===he.id||pe.player2_id===he.id));let Je=he.rating??1500;for(const pe of Oe){const Te=pe.player1_id===he.id?pe.rating_change_p1??0:pe.rating_change_p2??0;Je-=Te}const ie=_e??null,me=ie!==null?Je-ie:null;return{ratingAfter:Number.isFinite(Je)?Je:null,ratingBefore:me!==null&&Number.isFinite(me)?me:null,ratingChange:ie}},be=(he,_e)=>{if(!he)return null;const Oe=x[he.id];if(!Oe)return null;const Je=Oe.rating_change??_e??null,ie=Oe.rating??null,me=Je!==null&&ie!==null?ie-Je:null;return{ratingAfter:ie,ratingBefore:me,ratingChange:Je}},ke=J(I,R.rating_change_p1??null),Ie=J(j,R.rating_change_p2??null);return{p1:be(I,R.rating_change_p1??null)??ke,p2:be(j,R.rating_change_p2??null)??Ie}},[R,I,j,s,x]),q=O.p1,ae=O.p2,te=(q==null?void 0:q.ratingChange)??(R==null?void 0:R.rating_change_p1)??null,le=(ae==null?void 0:ae.ratingChange)??(R==null?void 0:R.rating_change_p2)??null;return T.useEffect(()=>{if(!(R!=null&&R.event_id)){c(null);return}let J=!0;return(async()=>{const be=await Ku();if(!J)return;const ke=be.find(Ie=>Ie.id===R.event_id);c((ke==null?void 0:ke.title)??null)})(),()=>{J=!1}},[R==null?void 0:R.event_id]),T.useEffect(()=>{if(!(R!=null&&R.season_id)){v(null);return}let J=!0;return(async()=>{try{const{data:be,error:ke}=await Ge.from("seasons").select("name").eq("id",R.season_id).single();if(!J)return;if(ke){console.warn("Failed to fetch season",ke),v(null);return}v((be==null?void 0:be.name)??null)}catch(be){if(!J)return;console.warn("Failed to load season",be),v(null)}})(),()=>{J=!1}},[R==null?void 0:R.season_id]),R?h.jsx(Rc,{open:t,onOpenChange:r,children:h.jsxs(Ya,{className:"w-[95vw] max-w-4xl bg-card/90 backdrop-blur-xl border-primary/50 shadow-[0_0_50px_rgba(0,0,0,0.5)] p-0 overflow-hidden max-h-[90vh] overflow-y-auto",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent"}),h.jsx(qa,{className:"sr-only",children:h.jsx(Ka,{children:"Match Details"})}),h.jsxs("div",{className:"relative p-4 sm:p-6 md:p-10 space-y-6 md:space-y-8",children:[h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-primary/10 via-background/50 to-background pointer-events-none"}),h.jsxs("div",{className:"relative z-10 grid grid-cols-[1fr_auto_1fr] gap-2 sm:gap-4 md:gap-8 items-start",children:[h.jsx("div",{className:"flex flex-col items-center gap-2 sm:gap-4 md:gap-6",children:I&&h.jsxs(h.Fragment,{children:[h.jsxs(Tr,{className:"group flex flex-col items-center",to:`/players/${I.id}`,onClick:()=>r(!1),children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/30 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),h.jsx($s,{name:I.name,twitter:I.twitter,size:120,className:`h-16 w-16 sm:h-20 sm:w-20 md:h-32 md:w-32 mx-auto border-2 sm:border-4 transition-all duration-300 ${R.winner_id===R.player1_id?"border-yellow-500 shadow-[0_0_20px_rgba(234,179,8,0.5)]":"border-border group-hover:border-primary"}`})]}),h.jsx("div",{className:"font-heading font-bold text-sm sm:text-lg md:text-2xl mt-2 sm:mt-4 group-hover:text-primary transition-colors text-center tracking-wide line-clamp-2",children:I.name})]}),h.jsx("div",{className:`w-full rounded-lg border p-2 sm:p-3 md:p-4 backdrop-blur-sm transition-colors ${R.winner_id===R.player1_id?"border-yellow-500/50 bg-yellow-500/5":"border-border/50 bg-card/30"}`,children:h.jsxs("div",{className:"text-center space-y-1 sm:space-y-2 md:space-y-3",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl sm:text-4xl md:text-6xl font-heading font-black mb-0.5 sm:mb-1 drop-shadow-lg",style:{color:R.winner_id===R.player1_id?"#eab308":"hsl(var(--muted-foreground))"},children:R.player1_score??"?"}),R.winner_id===R.player1_id&&h.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm font-heading font-bold text-yellow-500 uppercase tracking-widest",children:"Victory"})]}),te!==null&&h.jsxs("div",{className:"pt-1 sm:pt-2 md:pt-3 border-t border-border/30 space-y-1 sm:space-y-2",children:[h.jsx("div",{className:"text-[10px] sm:text-xs text-muted-foreground font-heading uppercase tracking-widest hidden sm:block",children:"Rating"}),h.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2 text-sm sm:text-lg md:text-xl font-bold font-mono",children:[(te??0)>=0?h.jsx(dc,{size:14,className:"text-green-500 sm:w-5 sm:h-5"}):h.jsx(cc,{size:14,className:"text-red-500 sm:w-5 sm:h-5"}),h.jsx("span",{className:(te??0)>=0?"text-green-500":"text-red-500",children:Math.abs(te??0).toFixed(1)})]}),q&&q.ratingBefore!==null&&q.ratingAfter!==null&&h.jsxs("div",{className:"hidden sm:flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm text-muted-foreground font-mono",children:[h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(q.ratingBefore)}),h.jsx("span",{className:(te??0)>=0?"text-green-500":"text-red-500",children:""}),h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(q.ratingAfter)})]})]})]})})]})}),h.jsx("div",{className:"flex flex-col items-center justify-center py-2 sm:py-4 md:py-0",children:h.jsx("div",{className:"text-2xl sm:text-4xl md:text-7xl font-heading font-black text-transparent bg-clip-text bg-gradient-to-b from-yellow-300 to-yellow-700 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)] italic",children:"VS"})}),h.jsx("div",{className:"flex flex-col items-center gap-2 sm:gap-4 md:gap-6",children:j&&h.jsxs(h.Fragment,{children:[h.jsxs(Tr,{className:"group flex flex-col items-center",to:`/players/${j.id}`,onClick:()=>r(!1),children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/30 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),h.jsx($s,{name:j.name,twitter:j.twitter,size:120,className:`h-16 w-16 sm:h-20 sm:w-20 md:h-32 md:w-32 mx-auto border-2 sm:border-4 transition-all duration-300 ${R.winner_id===R.player2_id?"border-yellow-500 shadow-[0_0_20px_rgba(234,179,8,0.5)]":"border-border group-hover:border-primary"}`})]}),h.jsx("div",{className:"font-heading font-bold text-sm sm:text-lg md:text-2xl mt-2 sm:mt-4 group-hover:text-primary transition-colors text-center tracking-wide line-clamp-2",children:j.name})]}),h.jsx("div",{className:`w-full rounded-lg border p-2 sm:p-3 md:p-4 backdrop-blur-sm transition-colors ${R.winner_id===R.player2_id?"border-yellow-500/50 bg-yellow-500/5":"border-border/50 bg-card/30"}`,children:h.jsxs("div",{className:"text-center space-y-1 sm:space-y-2 md:space-y-3",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl sm:text-4xl md:text-6xl font-heading font-black mb-0.5 sm:mb-1 drop-shadow-lg",style:{color:R.winner_id===R.player2_id?"#eab308":"hsl(var(--muted-foreground))"},children:R.player2_score??"?"}),R.winner_id===R.player2_id&&h.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm font-heading font-bold text-yellow-500 uppercase tracking-widest",children:"Victory"})]}),le!==null&&h.jsxs("div",{className:"pt-1 sm:pt-2 md:pt-3 border-t border-border/30 space-y-1 sm:space-y-2",children:[h.jsx("div",{className:"text-[10px] sm:text-xs text-muted-foreground font-heading uppercase tracking-widest hidden sm:block",children:"Rating"}),h.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2 text-sm sm:text-lg md:text-xl font-bold font-mono",children:[(le??0)>=0?h.jsx(dc,{size:14,className:"text-green-500 sm:w-5 sm:h-5"}):h.jsx(cc,{size:14,className:"text-red-500 sm:w-5 sm:h-5"}),h.jsx("span",{className:(le??0)>=0?"text-green-500":"text-red-500",children:Math.abs(le??0).toFixed(1)})]}),ae&&ae.ratingBefore!==null&&ae.ratingAfter!==null&&h.jsxs("div",{className:"hidden sm:flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm text-muted-foreground font-mono",children:[h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(ae.ratingBefore)}),h.jsx("span",{className:(le??0)>=0?"text-green-500":"text-red-500",children:""}),h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(ae.ratingAfter)})]})]})]})})]})})]}),(R.event_id||R.vod_link||f)&&h.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 md:gap-6 pt-4 sm:pt-6 border-t border-border/30",children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:gap-4",children:[f&&h.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1 rounded-full bg-muted/20 border border-border/30",children:[h.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground uppercase tracking-wider font-heading",children:"Season"}),h.jsx("span",{className:"font-bold text-xs sm:text-sm",children:f})]}),R.event_id&&h.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1 rounded-full bg-muted/20 border border-border/30",children:[h.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground uppercase tracking-wider font-heading",children:"Event"}),h.jsx(Tr,{className:"text-primary hover:text-primary/80 hover:underline font-bold text-xs sm:text-sm transition-colors max-w-[100px] sm:max-w-none truncate",to:`/events/${R.event_id}`,onClick:()=>r(!1),children:a??"Loading..."})]})]}),R.vod_link&&h.jsxs("a",{href:R.vod_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded bg-red-600 hover:bg-red-700 text-white font-heading font-bold text-xs sm:text-sm uppercase tracking-wider transition-colors shadow-lg hover:shadow-red-600/20",children:[R.vod_link.includes("youtube.com")||R.vod_link.includes("youtu.be")?h.jsx(MT,{className:"h-3 w-3 sm:h-4 sm:w-4"}):R.vod_link.includes("twitch.tv")?h.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})}):h.jsx(ET,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Watch"]})]})]})]})}):h.jsx(Rc,{open:t,onOpenChange:r,children:h.jsxs(Ya,{children:[h.jsx(qa,{children:h.jsx(Ka,{children:"Match Not Found"})}),B?h.jsx("p",{className:"text-muted-foreground text-sm",children:"Fetching match data from server..."}):h.jsx("p",{className:"text-muted-foreground text-sm",children:"The match you're looking for doesn't exist."})]})})}function tU(){const{session:e,loading:t,signOut:r}=xw(),[i,s]=T.useState(!1),{matchId:a,closeMatch:c}=vw();return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"min-h-screen bg-background text-foreground font-body selection:bg-primary selection:text-primary-foreground",children:[h.jsx("nav",{className:"border-b border-border/60 bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:h.jsxs("div",{className:"container flex items-center gap-4 md:gap-8 py-3 md:py-4 flex-wrap",children:[h.jsx(xo,{to:"/",className:"shrink-0 group",children:h.jsx("div",{className:"bg-red-800 px-4 py-2 rounded-md shadow-lg group-hover:shadow-xl transition-all group-hover:scale-105 border border-red-700",children:h.jsx("span",{className:"font-heading font-black text-xl tracking-widest text-white",children:"OFC"})})}),h.jsxs("div",{className:"hidden md:flex gap-6 text-sm font-heading font-bold tracking-wider uppercase",children:[h.jsx(xo,{to:"/rankings",className:({isActive:f})=>`transition-colors hover:text-primary ${f?"text-primary drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]":"text-muted-foreground"}`,children:"Rankings"}),h.jsx(xo,{to:"/matches",className:({isActive:f})=>`transition-colors hover:text-primary ${f?"text-primary drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]":"text-muted-foreground"}`,children:"Matches"}),h.jsx(xo,{to:"/events",className:({isActive:f})=>`transition-colors hover:text-primary ${f?"text-primary drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]":"text-muted-foreground"}`,children:"Events"})]}),h.jsxs("div",{className:"ml-auto flex items-center gap-2 md:gap-4 min-w-0",children:[t?h.jsx("div",{className:"h-8 w-24 animate-pulse rounded-md bg-muted","aria-hidden":!0}):e?h.jsx(_t,{variant:"ghost",size:"sm",onClick:r,className:"font-heading uppercase tracking-wider hover:text-primary hover:bg-primary/10",children:"Sign out"}):h.jsx(_t,{asChild:!0,variant:"outline",size:"sm",className:"font-heading uppercase tracking-wider border-primary/50 hover:border-primary hover:bg-primary/10 text-primary",children:h.jsx(xo,{to:"/login",children:"Login"})}),h.jsx(JW,{}),h.jsx("button",{type:"button","aria-label":"Toggle menu","aria-expanded":i,className:"inline-flex h-9 w-9 items-center justify-center rounded-md hover:bg-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring md:hidden text-primary",onClick:()=>s(f=>!f),children:i?h.jsx(Kb,{className:"h-5 w-5"}):h.jsx(c$,{className:"h-5 w-5"})})]}),h.jsx("div",{className:`${i?"block":"hidden"} w-full md:hidden border-t border-border/50 mt-2`,onClick:()=>s(!1),children:h.jsxs("div",{className:"flex flex-col gap-2 pt-4 pb-3 text-sm font-heading font-bold tracking-wider uppercase",children:[h.jsx(xo,{to:"/rankings",className:({isActive:f})=>f?"text-primary pl-2 border-l-2 border-primary":"text-muted-foreground pl-2 border-l-2 border-transparent",children:"Rankings"}),h.jsx(xo,{to:"/matches",className:({isActive:f})=>f?"text-primary pl-2 border-l-2 border-primary":"text-muted-foreground pl-2 border-l-2 border-transparent",children:"Matches"}),h.jsx(xo,{to:"/events",className:({isActive:f})=>f?"text-primary pl-2 border-l-2 border-primary":"text-muted-foreground pl-2 border-l-2 border-transparent",children:"Events"})]})})]})}),h.jsx("main",{className:"container py-8 md:py-12",children:h.jsxs(wL,{children:[h.jsx(Bi,{path:"/",element:h.jsx(s_,{})}),h.jsx(Bi,{path:"/rankings",element:h.jsx(Bz,{})}),h.jsx(Bi,{path:"/players",element:h.jsx(jE,{to:"/rankings",replace:!0})}),h.jsx(Bi,{path:"/players/:id",element:h.jsx(JF,{})}),h.jsx(Bi,{path:"/matches",element:h.jsx(HF,{})}),h.jsx(Bi,{path:"/events",element:h.jsx(GF,{})}),h.jsx(Bi,{path:"/events/:id",element:h.jsx(VF,{})}),h.jsx(Bi,{path:"/upcoming",element:h.jsx(s_,{})}),h.jsx(Bi,{path:"/profile",element:h.jsx(XF,{})}),h.jsx(Bi,{path:"/login",element:h.jsx(mW,{})}),h.jsx(Bi,{path:"/admin",element:h.jsx(qW,{})}),h.jsx(Bi,{path:"*",element:h.jsx(vW,{})})]})})]}),h.jsx(eU,{matchId:a,open:a!==null,onOpenChange:f=>!f&&c()})]})}function rU(){return h.jsx(UF,{children:h.jsx(tU,{})})}dy.createRoot(document.getElementById("root")).render(h.jsx(Fr.StrictMode,{children:h.jsx(BE,{children:h.jsx(eW,{children:h.jsx(ZW,{defaultTheme:"dark",storageKey:"scelo-theme",children:h.jsx(N3,{children:h.jsx(jL,{children:h.jsx(rU,{})})})})})})}));
