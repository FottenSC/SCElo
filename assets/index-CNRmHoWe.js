function wP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Nk={exports:{}},Kp={},Ok={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph=Symbol.for("react.element"),SP=Symbol.for("react.portal"),kP=Symbol.for("react.fragment"),_P=Symbol.for("react.strict_mode"),CP=Symbol.for("react.profiler"),EP=Symbol.for("react.provider"),MP=Symbol.for("react.context"),TP=Symbol.for("react.forward_ref"),AP=Symbol.for("react.suspense"),jP=Symbol.for("react.memo"),PP=Symbol.for("react.lazy"),s1=Symbol.iterator;function NP(e){return e===null||typeof e!="object"?null:(e=s1&&e[s1]||e["@@iterator"],typeof e=="function"?e:null)}var Rk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lk=Object.assign,Ik={};function Tc(e,t,r){this.props=e,this.context=t,this.refs=Ik,this.updater=r||Rk}Tc.prototype.isReactComponent={};Tc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dk(){}Dk.prototype=Tc.prototype;function g0(e,t,r){this.props=e,this.context=t,this.refs=Ik,this.updater=r||Rk}var m0=g0.prototype=new Dk;m0.constructor=g0;Lk(m0,Tc.prototype);m0.isPureReactComponent=!0;var o1=Array.isArray,Bk=Object.prototype.hasOwnProperty,v0={current:null},$k={key:!0,ref:!0,__self:!0,__source:!0};function zk(e,t,r){var n,s={},a=null,c=null;if(t!=null)for(n in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)Bk.call(t,n)&&!$k.hasOwnProperty(n)&&(s[n]=t[n]);var p=arguments.length-2;if(p===1)s.children=r;else if(1<p){for(var v=Array(p),w=0;w<p;w++)v[w]=arguments[w+2];s.children=v}if(e&&e.defaultProps)for(n in p=e.defaultProps,p)s[n]===void 0&&(s[n]=p[n]);return{$$typeof:Ph,type:e,key:a,ref:c,props:s,_owner:v0.current}}function OP(e,t){return{$$typeof:Ph,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ph}function RP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var a1=/\/+/g;function Gv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RP(""+e.key):t.toString(36)}function Zf(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Ph:case SP:c=!0}}if(c)return c=e,s=s(c),e=n===""?"."+Gv(c,0):n,o1(s)?(r="",e!=null&&(r=e.replace(a1,"$&/")+"/"),Zf(s,t,r,"",function(w){return w})):s!=null&&(x0(s)&&(s=OP(s,r+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(a1,"$&/")+"/")+e)),t.push(s)),1;if(c=0,n=n===""?".":n+":",o1(e))for(var p=0;p<e.length;p++){a=e[p];var v=n+Gv(a,p);c+=Zf(a,t,r,v,s)}else if(v=NP(e),typeof v=="function")for(e=v.call(e),p=0;!(a=e.next()).done;)a=a.value,v=n+Gv(a,p++),c+=Zf(a,t,r,v,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Sf(e,t,r){if(e==null)return e;var n=[],s=0;return Zf(e,n,"","",function(a){return t.call(r,a,s++)}),n}function LP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xi={current:null},Qf={transition:null},IP={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:Qf,ReactCurrentOwner:v0};function Fk(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:Sf,forEach:function(e,t,r){Sf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Sf(e,function(){t++}),t},toArray:function(e){return Sf(e,function(t){return t})||[]},only:function(e){if(!x0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Nt.Component=Tc;Nt.Fragment=kP;Nt.Profiler=CP;Nt.PureComponent=g0;Nt.StrictMode=_P;Nt.Suspense=AP;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IP;Nt.act=Fk;Nt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Lk({},e.props),s=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=v0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(v in t)Bk.call(t,v)&&!$k.hasOwnProperty(v)&&(n[v]=t[v]===void 0&&p!==void 0?p[v]:t[v])}var v=arguments.length-2;if(v===1)n.children=r;else if(1<v){p=Array(v);for(var w=0;w<v;w++)p[w]=arguments[w+2];n.children=p}return{$$typeof:Ph,type:e.type,key:s,ref:a,props:n,_owner:c}};Nt.createContext=function(e){return e={$$typeof:MP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EP,_context:e},e.Consumer=e};Nt.createElement=zk;Nt.createFactory=function(e){var t=zk.bind(null,e);return t.type=e,t};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(e){return{$$typeof:TP,render:e}};Nt.isValidElement=x0;Nt.lazy=function(e){return{$$typeof:PP,_payload:{_status:-1,_result:e},_init:LP}};Nt.memo=function(e,t){return{$$typeof:jP,type:e,compare:t===void 0?null:t}};Nt.startTransition=function(e){var t=Qf.transition;Qf.transition={};try{e()}finally{Qf.transition=t}};Nt.unstable_act=Fk;Nt.useCallback=function(e,t){return xi.current.useCallback(e,t)};Nt.useContext=function(e){return xi.current.useContext(e)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(e){return xi.current.useDeferredValue(e)};Nt.useEffect=function(e,t){return xi.current.useEffect(e,t)};Nt.useId=function(){return xi.current.useId()};Nt.useImperativeHandle=function(e,t,r){return xi.current.useImperativeHandle(e,t,r)};Nt.useInsertionEffect=function(e,t){return xi.current.useInsertionEffect(e,t)};Nt.useLayoutEffect=function(e,t){return xi.current.useLayoutEffect(e,t)};Nt.useMemo=function(e,t){return xi.current.useMemo(e,t)};Nt.useReducer=function(e,t,r){return xi.current.useReducer(e,t,r)};Nt.useRef=function(e){return xi.current.useRef(e)};Nt.useState=function(e){return xi.current.useState(e)};Nt.useSyncExternalStore=function(e,t,r){return xi.current.useSyncExternalStore(e,t,r)};Nt.useTransition=function(){return xi.current.useTransition()};Nt.version="18.3.1";Ok.exports=Nt;var M=Ok.exports;const Jn=jh(M),y0=wP({__proto__:null,default:Jn},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DP=M,BP=Symbol.for("react.element"),$P=Symbol.for("react.fragment"),zP=Object.prototype.hasOwnProperty,FP=DP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WP={key:!0,ref:!0,__self:!0,__source:!0};function Wk(e,t,r){var n,s={},a=null,c=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(n in t)zP.call(t,n)&&!WP.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:BP,type:e,key:a,ref:c,props:s,_owner:FP.current}}Kp.Fragment=$P;Kp.jsx=Wk;Kp.jsxs=Wk;Nk.exports=Kp;var f=Nk.exports,Gx={},Uk={exports:{}},Gi={},Hk={exports:{}},Gk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(pe,Me){var ze=pe.length;pe.push(Me);e:for(;0<ze;){var Be=ze-1>>>1,Ee=pe[Be];if(0<s(Ee,Me))pe[Be]=Me,pe[ze]=Ee,ze=Be;else break e}}function r(pe){return pe.length===0?null:pe[0]}function n(pe){if(pe.length===0)return null;var Me=pe[0],ze=pe.pop();if(ze!==Me){pe[0]=ze;e:for(var Be=0,Ee=pe.length,Ze=Ee>>>1;Be<Ze;){var ot=2*(Be+1)-1,tt=pe[ot],Ce=ot+1,Oe=pe[Ce];if(0>s(tt,ze))Ce<Ee&&0>s(Oe,tt)?(pe[Be]=Oe,pe[Ce]=ze,Be=Ce):(pe[Be]=tt,pe[ot]=ze,Be=ot);else if(Ce<Ee&&0>s(Oe,ze))pe[Be]=Oe,pe[Ce]=ze,Be=Ce;else break e}}return Me}function s(pe,Me){var ze=pe.sortIndex-Me.sortIndex;return ze!==0?ze:pe.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,p=c.now();e.unstable_now=function(){return c.now()-p}}var v=[],w=[],k=1,E=null,P=3,z=!1,U=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(pe){for(var Me=r(w);Me!==null;){if(Me.callback===null)n(w);else if(Me.startTime<=pe)n(w),Me.sortIndex=Me.expirationTime,t(v,Me);else break;Me=r(w)}}function q(pe){if(D=!1,O(pe),!U)if(r(v)!==null)U=!0,ie(ae);else{var Me=r(w);Me!==null&&ve(q,Me.startTime-pe)}}function ae(pe,Me){U=!1,D&&(D=!1,I(J),J=-1),z=!0;var ze=P;try{for(O(Me),E=r(v);E!==null&&(!(E.expirationTime>Me)||pe&&!Se());){var Be=E.callback;if(typeof Be=="function"){E.callback=null,P=E.priorityLevel;var Ee=Be(E.expirationTime<=Me);Me=e.unstable_now(),typeof Ee=="function"?E.callback=Ee:E===r(v)&&n(v),O(Me)}else n(v);E=r(v)}if(E!==null)var Ze=!0;else{var ot=r(w);ot!==null&&ve(q,ot.startTime-Me),Ze=!1}return Ze}finally{E=null,P=ze,z=!1}}var re=!1,ce=null,J=-1,we=5,ke=-1;function Se(){return!(e.unstable_now()-ke<we)}function me(){if(ce!==null){var pe=e.unstable_now();ke=pe;var Me=!0;try{Me=ce(!0,pe)}finally{Me?Te():(re=!1,ce=null)}}else re=!1}var Te;if(typeof j=="function")Te=function(){j(me)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,Je=We.port2;We.port1.onmessage=me,Te=function(){Je.postMessage(null)}}else Te=function(){L(me,0)};function ie(pe){ce=pe,re||(re=!0,Te())}function ve(pe,Me){J=L(function(){pe(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(pe){pe.callback=null},e.unstable_continueExecution=function(){U||z||(U=!0,ie(ae))},e.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<pe?Math.floor(1e3/pe):5},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(pe){switch(P){case 1:case 2:case 3:var Me=3;break;default:Me=P}var ze=P;P=Me;try{return pe()}finally{P=ze}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(pe,Me){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var ze=P;P=pe;try{return Me()}finally{P=ze}},e.unstable_scheduleCallback=function(pe,Me,ze){var Be=e.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?Be+ze:Be):ze=Be,pe){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ze+Ee,pe={id:k++,callback:Me,priorityLevel:pe,startTime:ze,expirationTime:Ee,sortIndex:-1},ze>Be?(pe.sortIndex=ze,t(w,pe),r(v)===null&&pe===r(w)&&(D?(I(J),J=-1):D=!0,ve(q,ze-Be))):(pe.sortIndex=Ee,t(v,pe),U||z||(U=!0,ie(ae))),pe},e.unstable_shouldYield=Se,e.unstable_wrapCallback=function(pe){var Me=P;return function(){var ze=P;P=Me;try{return pe.apply(this,arguments)}finally{P=ze}}}})(Gk);Hk.exports=Gk;var UP=Hk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HP=M,Hi=UP;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vk=new Set,lh={};function Xa(e,t){pc(e,t),pc(e+"Capture",t)}function pc(e,t){for(lh[e]=t,e=0;e<t.length;e++)Vk.add(t[e])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vx=Object.prototype.hasOwnProperty,GP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l1={},c1={};function VP(e){return Vx.call(c1,e)?!0:Vx.call(l1,e)?!1:GP.test(e)?c1[e]=!0:(l1[e]=!0,!1)}function XP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YP(e,t,r,n){if(t===null||typeof t>"u"||XP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yi(e,t,r,n,s,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ei[e]=new yi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ei[t]=new yi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ei[e]=new yi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ei[e]=new yi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ei[e]=new yi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ei[e]=new yi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ei[e]=new yi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ei[e]=new yi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ei[e]=new yi(e,5,!1,e.toLowerCase(),null,!1,!1)});var w0=/[\-:]([a-z])/g;function b0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(w0,b0);ei[t]=new yi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(w0,b0);ei[t]=new yi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(w0,b0);ei[t]=new yi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ei[e]=new yi(e,1,!1,e.toLowerCase(),null,!1,!1)});ei.xlinkHref=new yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ei[e]=new yi(e,1,!1,e.toLowerCase(),null,!0,!0)});function S0(e,t,r,n){var s=ei.hasOwnProperty(t)?ei[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YP(t,r,s,n)&&(r=null),n||s===null?VP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bs=HP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kf=Symbol.for("react.element"),Vl=Symbol.for("react.portal"),Xl=Symbol.for("react.fragment"),k0=Symbol.for("react.strict_mode"),Xx=Symbol.for("react.profiler"),Xk=Symbol.for("react.provider"),Yk=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),Yx=Symbol.for("react.suspense"),qx=Symbol.for("react.suspense_list"),C0=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),qk=Symbol.for("react.offscreen"),d1=Symbol.iterator;function Ad(e){return e===null||typeof e!="object"?null:(e=d1&&e[d1]||e["@@iterator"],typeof e=="function"?e:null)}var ur=Object.assign,Vv;function Hd(e){if(Vv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vv=t&&t[1]||""}return`
`+Vv+e}var Xv=!1;function Yv(e,t){if(!e||Xv)return"";Xv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var n=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){n=w}e.call(t.prototype)}else{try{throw Error()}catch(w){n=w}e()}}catch(w){if(w&&n&&typeof w.stack=="string"){for(var s=w.stack.split(`
`),a=n.stack.split(`
`),c=s.length-1,p=a.length-1;1<=c&&0<=p&&s[c]!==a[p];)p--;for(;1<=c&&0<=p;c--,p--)if(s[c]!==a[p]){if(c!==1||p!==1)do if(c--,p--,0>p||s[c]!==a[p]){var v=`
`+s[c].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=c&&0<=p);break}}}finally{Xv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hd(e):""}function qP(e){switch(e.tag){case 5:return Hd(e.type);case 16:return Hd("Lazy");case 13:return Hd("Suspense");case 19:return Hd("SuspenseList");case 0:case 2:case 15:return e=Yv(e.type,!1),e;case 11:return e=Yv(e.type.render,!1),e;case 1:return e=Yv(e.type,!0),e;default:return""}}function Kx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xl:return"Fragment";case Vl:return"Portal";case Xx:return"Profiler";case k0:return"StrictMode";case Yx:return"Suspense";case qx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yk:return(e.displayName||"Context")+".Consumer";case Xk:return(e._context.displayName||"Context")+".Provider";case _0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C0:return t=e.displayName||null,t!==null?t:Kx(e.type)||"Memo";case wo:t=e._payload,e=e._init;try{return Kx(e(t))}catch{}}return null}function KP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kx(t);case 8:return t===k0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Do(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZP(e){var t=Kk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){n=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(c){n=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _f(e){e._valueTracker||(e._valueTracker=ZP(e))}function Zk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Kk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function up(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zx(e,t){var r=t.checked;return ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function h1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Do(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qk(e,t){t=t.checked,t!=null&&S0(e,"checked",t,!1)}function Qx(e,t){Qk(e,t);var r=Do(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jx(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jx(e,t.type,Do(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function u1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jx(e,t,r){(t!=="number"||up(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gd=Array.isArray;function sc(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Do(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ey(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function f1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(He(92));if(Gd(r)){if(1<r.length)throw Error(He(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Do(r)}}function Jk(e,t){var r=Do(t.value),n=Do(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function p1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function e_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ty(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?e_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cf,t_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cf=Cf||document.createElement("div"),Cf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ch(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Kd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QP=["Webkit","ms","Moz","O"];Object.keys(Kd).forEach(function(e){QP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kd[t]=Kd[e]})});function r_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Kd.hasOwnProperty(e)&&Kd[e]?(""+t).trim():t+"px"}function i_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=r_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var JP=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ry(e,t){if(t){if(JP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function iy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ny=null;function E0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sy=null,oc=null,ac=null;function g1(e){if(e=Rh(e)){if(typeof sy!="function")throw Error(He(280));var t=e.stateNode;t&&(t=tg(t),sy(e.stateNode,e.type,t))}}function n_(e){oc?ac?ac.push(e):ac=[e]:oc=e}function s_(){if(oc){var e=oc,t=ac;if(ac=oc=null,g1(e),t)for(e=0;e<t.length;e++)g1(t[e])}}function o_(e,t){return e(t)}function a_(){}var qv=!1;function l_(e,t,r){if(qv)return e(t,r);qv=!0;try{return o_(e,t,r)}finally{qv=!1,(oc!==null||ac!==null)&&(a_(),s_())}}function dh(e,t){var r=e.stateNode;if(r===null)return null;var n=tg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(He(231,t,typeof r));return r}var oy=!1;if(js)try{var jd={};Object.defineProperty(jd,"passive",{get:function(){oy=!0}}),window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{oy=!1}function eN(e,t,r,n,s,a,c,p,v){var w=Array.prototype.slice.call(arguments,3);try{t.apply(r,w)}catch(k){this.onError(k)}}var Zd=!1,fp=null,pp=!1,ay=null,tN={onError:function(e){Zd=!0,fp=e}};function rN(e,t,r,n,s,a,c,p,v){Zd=!1,fp=null,eN.apply(tN,arguments)}function iN(e,t,r,n,s,a,c,p,v){if(rN.apply(this,arguments),Zd){if(Zd){var w=fp;Zd=!1,fp=null}else throw Error(He(198));pp||(pp=!0,ay=w)}}function Ya(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function c_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m1(e){if(Ya(e)!==e)throw Error(He(188))}function nN(e){var t=e.alternate;if(!t){if(t=Ya(e),t===null)throw Error(He(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return m1(s),e;if(a===n)return m1(s),t;a=a.sibling}throw Error(He(188))}if(r.return!==n.return)r=s,n=a;else{for(var c=!1,p=s.child;p;){if(p===r){c=!0,r=s,n=a;break}if(p===n){c=!0,n=s,r=a;break}p=p.sibling}if(!c){for(p=a.child;p;){if(p===r){c=!0,r=a,n=s;break}if(p===n){c=!0,n=a,r=s;break}p=p.sibling}if(!c)throw Error(He(189))}}if(r.alternate!==n)throw Error(He(190))}if(r.tag!==3)throw Error(He(188));return r.stateNode.current===r?e:t}function d_(e){return e=nN(e),e!==null?h_(e):null}function h_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=h_(e);if(t!==null)return t;e=e.sibling}return null}var u_=Hi.unstable_scheduleCallback,v1=Hi.unstable_cancelCallback,sN=Hi.unstable_shouldYield,oN=Hi.unstable_requestPaint,xr=Hi.unstable_now,aN=Hi.unstable_getCurrentPriorityLevel,M0=Hi.unstable_ImmediatePriority,f_=Hi.unstable_UserBlockingPriority,gp=Hi.unstable_NormalPriority,lN=Hi.unstable_LowPriority,p_=Hi.unstable_IdlePriority,Zp=null,is=null;function cN(e){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(Zp,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:uN,dN=Math.log,hN=Math.LN2;function uN(e){return e>>>=0,e===0?32:31-(dN(e)/hN|0)|0}var Ef=64,Mf=4194304;function Vd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,c=r&268435455;if(c!==0){var p=c&~s;p!==0?n=Vd(p):(a&=c,a!==0&&(n=Vd(a)))}else c=r&~s,c!==0?n=Vd(c):a!==0&&(n=Vd(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Nn(t),s=1<<r,n|=e[r],t&=~s;return n}function fN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-Nn(a),p=1<<c,v=s[c];v===-1?(!(p&r)||p&n)&&(s[c]=fN(p,t)):v<=t&&(e.expiredLanes|=p),a&=~p}}function ly(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function g_(){var e=Ef;return Ef<<=1,!(Ef&4194240)&&(Ef=64),e}function Kv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Nh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=r}function gN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Nn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function T0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Nn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ft=0;function m_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var v_,A0,x_,y_,w_,cy=!1,Tf=[],To=null,Ao=null,jo=null,hh=new Map,uh=new Map,So=[],mN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x1(e,t){switch(e){case"focusin":case"focusout":To=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":hh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(t.pointerId)}}function Pd(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Rh(t),t!==null&&A0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function vN(e,t,r,n,s){switch(t){case"focusin":return To=Pd(To,e,t,r,n,s),!0;case"dragenter":return Ao=Pd(Ao,e,t,r,n,s),!0;case"mouseover":return jo=Pd(jo,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return hh.set(a,Pd(hh.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,uh.set(a,Pd(uh.get(a)||null,e,t,r,n,s)),!0}return!1}function b_(e){var t=_a(e.target);if(t!==null){var r=Ya(t);if(r!==null){if(t=r.tag,t===13){if(t=c_(r),t!==null){e.blockedOn=t,w_(e.priority,function(){x_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ny=n,r.target.dispatchEvent(n),ny=null}else return t=Rh(r),t!==null&&A0(t),e.blockedOn=r,!1;t.shift()}return!0}function y1(e,t,r){Jf(e)&&r.delete(t)}function xN(){cy=!1,To!==null&&Jf(To)&&(To=null),Ao!==null&&Jf(Ao)&&(Ao=null),jo!==null&&Jf(jo)&&(jo=null),hh.forEach(y1),uh.forEach(y1)}function Nd(e,t){e.blockedOn===t&&(e.blockedOn=null,cy||(cy=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,xN)))}function fh(e){function t(s){return Nd(s,e)}if(0<Tf.length){Nd(Tf[0],e);for(var r=1;r<Tf.length;r++){var n=Tf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(To!==null&&Nd(To,e),Ao!==null&&Nd(Ao,e),jo!==null&&Nd(jo,e),hh.forEach(t),uh.forEach(t),r=0;r<So.length;r++)n=So[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<So.length&&(r=So[0],r.blockedOn===null);)b_(r),r.blockedOn===null&&So.shift()}var lc=Bs.ReactCurrentBatchConfig,vp=!0;function yN(e,t,r,n){var s=Ft,a=lc.transition;lc.transition=null;try{Ft=1,j0(e,t,r,n)}finally{Ft=s,lc.transition=a}}function wN(e,t,r,n){var s=Ft,a=lc.transition;lc.transition=null;try{Ft=4,j0(e,t,r,n)}finally{Ft=s,lc.transition=a}}function j0(e,t,r,n){if(vp){var s=dy(e,t,r,n);if(s===null)ox(e,t,n,xp,r),x1(e,n);else if(vN(s,e,t,r,n))n.stopPropagation();else if(x1(e,n),t&4&&-1<mN.indexOf(e)){for(;s!==null;){var a=Rh(s);if(a!==null&&v_(a),a=dy(e,t,r,n),a===null&&ox(e,t,n,xp,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else ox(e,t,n,null,r)}}var xp=null;function dy(e,t,r,n){if(xp=null,e=E0(n),e=_a(e),e!==null)if(t=Ya(e),t===null)e=null;else if(r=t.tag,r===13){if(e=c_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xp=e,null}function S_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aN()){case M0:return 1;case f_:return 4;case gp:case lN:return 16;case p_:return 536870912;default:return 16}default:return 16}}var Co=null,P0=null,ep=null;function k_(){if(ep)return ep;var e,t=P0,r=t.length,n,s="value"in Co?Co.value:Co.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var c=r-e;for(n=1;n<=c&&t[r-n]===s[a-n];n++);return ep=s.slice(e,1<n?1-n:void 0)}function tp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Af(){return!0}function w1(){return!1}function Vi(e){function t(r,n,s,a,c){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(r=e[p],this[p]=r?r(a):a[p]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Af:w1,this.isPropagationStopped=w1,this}return ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Af)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Af)},persist:function(){},isPersistent:Af}),t}var Ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N0=Vi(Ac),Oh=ur({},Ac,{view:0,detail:0}),bN=Vi(Oh),Zv,Qv,Od,Qp=ur({},Oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Od&&(Od&&e.type==="mousemove"?(Zv=e.screenX-Od.screenX,Qv=e.screenY-Od.screenY):Qv=Zv=0,Od=e),Zv)},movementY:function(e){return"movementY"in e?e.movementY:Qv}}),b1=Vi(Qp),SN=ur({},Qp,{dataTransfer:0}),kN=Vi(SN),_N=ur({},Oh,{relatedTarget:0}),Jv=Vi(_N),CN=ur({},Ac,{animationName:0,elapsedTime:0,pseudoElement:0}),EN=Vi(CN),MN=ur({},Ac,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TN=Vi(MN),AN=ur({},Ac,{data:0}),S1=Vi(AN),jN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ON(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NN[e])?!!t[e]:!1}function O0(){return ON}var RN=ur({},Oh,{key:function(e){if(e.key){var t=jN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O0,charCode:function(e){return e.type==="keypress"?tp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LN=Vi(RN),IN=ur({},Qp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k1=Vi(IN),DN=ur({},Oh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O0}),BN=Vi(DN),$N=ur({},Ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),zN=Vi($N),FN=ur({},Qp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WN=Vi(FN),UN=[9,13,27,32],R0=js&&"CompositionEvent"in window,Qd=null;js&&"documentMode"in document&&(Qd=document.documentMode);var HN=js&&"TextEvent"in window&&!Qd,__=js&&(!R0||Qd&&8<Qd&&11>=Qd),_1=" ",C1=!1;function C_(e,t){switch(e){case"keyup":return UN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yl=!1;function GN(e,t){switch(e){case"compositionend":return E_(t);case"keypress":return t.which!==32?null:(C1=!0,_1);case"textInput":return e=t.data,e===_1&&C1?null:e;default:return null}}function VN(e,t){if(Yl)return e==="compositionend"||!R0&&C_(e,t)?(e=k_(),ep=P0=Co=null,Yl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return __&&t.locale!=="ko"?null:t.data;default:return null}}var XN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XN[e.type]:t==="textarea"}function M_(e,t,r,n){n_(n),t=yp(t,"onChange"),0<t.length&&(r=new N0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Jd=null,ph=null;function YN(e){B_(e,0)}function Jp(e){var t=Zl(e);if(Zk(t))return e}function qN(e,t){if(e==="change")return t}var T_=!1;if(js){var ex;if(js){var tx="oninput"in document;if(!tx){var M1=document.createElement("div");M1.setAttribute("oninput","return;"),tx=typeof M1.oninput=="function"}ex=tx}else ex=!1;T_=ex&&(!document.documentMode||9<document.documentMode)}function T1(){Jd&&(Jd.detachEvent("onpropertychange",A_),ph=Jd=null)}function A_(e){if(e.propertyName==="value"&&Jp(ph)){var t=[];M_(t,ph,e,E0(e)),l_(YN,t)}}function KN(e,t,r){e==="focusin"?(T1(),Jd=t,ph=r,Jd.attachEvent("onpropertychange",A_)):e==="focusout"&&T1()}function ZN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jp(ph)}function QN(e,t){if(e==="click")return Jp(t)}function JN(e,t){if(e==="input"||e==="change")return Jp(t)}function eO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:eO;function gh(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vx.call(t,s)||!Rn(e[s],t[s]))return!1}return!0}function A1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j1(e,t){var r=A1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=A1(r)}}function j_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?j_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function P_(){for(var e=window,t=up();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=up(e.document)}return t}function L0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tO(e){var t=P_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&j_(r.ownerDocument.documentElement,r)){if(n!==null&&L0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=j1(r,a);var c=j1(r,n);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rO=js&&"documentMode"in document&&11>=document.documentMode,ql=null,hy=null,eh=null,uy=!1;function P1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uy||ql==null||ql!==up(n)||(n=ql,"selectionStart"in n&&L0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),eh&&gh(eh,n)||(eh=n,n=yp(hy,"onSelect"),0<n.length&&(t=new N0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ql)))}function jf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Kl={animationend:jf("Animation","AnimationEnd"),animationiteration:jf("Animation","AnimationIteration"),animationstart:jf("Animation","AnimationStart"),transitionend:jf("Transition","TransitionEnd")},rx={},N_={};js&&(N_=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function eg(e){if(rx[e])return rx[e];if(!Kl[e])return e;var t=Kl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in N_)return rx[e]=t[r];return e}var O_=eg("animationend"),R_=eg("animationiteration"),L_=eg("animationstart"),I_=eg("transitionend"),D_=new Map,N1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wo(e,t){D_.set(e,t),Xa(t,[e])}for(var ix=0;ix<N1.length;ix++){var nx=N1[ix],iO=nx.toLowerCase(),nO=nx[0].toUpperCase()+nx.slice(1);Wo(iO,"on"+nO)}Wo(O_,"onAnimationEnd");Wo(R_,"onAnimationIteration");Wo(L_,"onAnimationStart");Wo("dblclick","onDoubleClick");Wo("focusin","onFocus");Wo("focusout","onBlur");Wo(I_,"onTransitionEnd");pc("onMouseEnter",["mouseout","mouseover"]);pc("onMouseLeave",["mouseout","mouseover"]);pc("onPointerEnter",["pointerout","pointerover"]);pc("onPointerLeave",["pointerout","pointerover"]);Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xd));function O1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,iN(n,t,void 0,e),e.currentTarget=null}function B_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var c=n.length-1;0<=c;c--){var p=n[c],v=p.instance,w=p.currentTarget;if(p=p.listener,v!==a&&s.isPropagationStopped())break e;O1(s,p,w),a=v}else for(c=0;c<n.length;c++){if(p=n[c],v=p.instance,w=p.currentTarget,p=p.listener,v!==a&&s.isPropagationStopped())break e;O1(s,p,w),a=v}}}if(pp)throw e=ay,pp=!1,ay=null,e}function Jt(e,t){var r=t[vy];r===void 0&&(r=t[vy]=new Set);var n=e+"__bubble";r.has(n)||($_(t,e,2,!1),r.add(n))}function sx(e,t,r){var n=0;t&&(n|=4),$_(r,e,n,t)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function mh(e){if(!e[Pf]){e[Pf]=!0,Vk.forEach(function(r){r!=="selectionchange"&&(sO.has(r)||sx(r,!1,e),sx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pf]||(t[Pf]=!0,sx("selectionchange",!1,t))}}function $_(e,t,r,n){switch(S_(t)){case 1:var s=yN;break;case 4:s=wN;break;default:s=j0}r=s.bind(null,t,r,e),s=void 0,!oy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ox(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var p=n.stateNode.containerInfo;if(p===s||p.nodeType===8&&p.parentNode===s)break;if(c===4)for(c=n.return;c!==null;){var v=c.tag;if((v===3||v===4)&&(v=c.stateNode.containerInfo,v===s||v.nodeType===8&&v.parentNode===s))return;c=c.return}for(;p!==null;){if(c=_a(p),c===null)return;if(v=c.tag,v===5||v===6){n=a=c;continue e}p=p.parentNode}}n=n.return}l_(function(){var w=a,k=E0(r),E=[];e:{var P=D_.get(e);if(P!==void 0){var z=N0,U=e;switch(e){case"keypress":if(tp(r)===0)break e;case"keydown":case"keyup":z=LN;break;case"focusin":U="focus",z=Jv;break;case"focusout":U="blur",z=Jv;break;case"beforeblur":case"afterblur":z=Jv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=b1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=kN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=BN;break;case O_:case R_:case L_:z=EN;break;case I_:z=zN;break;case"scroll":z=bN;break;case"wheel":z=WN;break;case"copy":case"cut":case"paste":z=TN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=k1}var D=(t&4)!==0,L=!D&&e==="scroll",I=D?P!==null?P+"Capture":null:P;D=[];for(var j=w,O;j!==null;){O=j;var q=O.stateNode;if(O.tag===5&&q!==null&&(O=q,I!==null&&(q=dh(j,I),q!=null&&D.push(vh(j,q,O)))),L)break;j=j.return}0<D.length&&(P=new z(P,U,null,r,k),E.push({event:P,listeners:D}))}}if(!(t&7)){e:{if(P=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",P&&r!==ny&&(U=r.relatedTarget||r.fromElement)&&(_a(U)||U[Ps]))break e;if((z||P)&&(P=k.window===k?k:(P=k.ownerDocument)?P.defaultView||P.parentWindow:window,z?(U=r.relatedTarget||r.toElement,z=w,U=U?_a(U):null,U!==null&&(L=Ya(U),U!==L||U.tag!==5&&U.tag!==6)&&(U=null)):(z=null,U=w),z!==U)){if(D=b1,q="onMouseLeave",I="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(D=k1,q="onPointerLeave",I="onPointerEnter",j="pointer"),L=z==null?P:Zl(z),O=U==null?P:Zl(U),P=new D(q,j+"leave",z,r,k),P.target=L,P.relatedTarget=O,q=null,_a(k)===w&&(D=new D(I,j+"enter",U,r,k),D.target=O,D.relatedTarget=L,q=D),L=q,z&&U)t:{for(D=z,I=U,j=0,O=D;O;O=Pl(O))j++;for(O=0,q=I;q;q=Pl(q))O++;for(;0<j-O;)D=Pl(D),j--;for(;0<O-j;)I=Pl(I),O--;for(;j--;){if(D===I||I!==null&&D===I.alternate)break t;D=Pl(D),I=Pl(I)}D=null}else D=null;z!==null&&R1(E,P,z,D,!1),U!==null&&L!==null&&R1(E,L,U,D,!0)}}e:{if(P=w?Zl(w):window,z=P.nodeName&&P.nodeName.toLowerCase(),z==="select"||z==="input"&&P.type==="file")var ae=qN;else if(E1(P))if(T_)ae=JN;else{ae=ZN;var re=KN}else(z=P.nodeName)&&z.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(ae=QN);if(ae&&(ae=ae(e,w))){M_(E,ae,r,k);break e}re&&re(e,P,w),e==="focusout"&&(re=P._wrapperState)&&re.controlled&&P.type==="number"&&Jx(P,"number",P.value)}switch(re=w?Zl(w):window,e){case"focusin":(E1(re)||re.contentEditable==="true")&&(ql=re,hy=w,eh=null);break;case"focusout":eh=hy=ql=null;break;case"mousedown":uy=!0;break;case"contextmenu":case"mouseup":case"dragend":uy=!1,P1(E,r,k);break;case"selectionchange":if(rO)break;case"keydown":case"keyup":P1(E,r,k)}var ce;if(R0)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Yl?C_(e,r)&&(J="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(J="onCompositionStart");J&&(__&&r.locale!=="ko"&&(Yl||J!=="onCompositionStart"?J==="onCompositionEnd"&&Yl&&(ce=k_()):(Co=k,P0="value"in Co?Co.value:Co.textContent,Yl=!0)),re=yp(w,J),0<re.length&&(J=new S1(J,e,null,r,k),E.push({event:J,listeners:re}),ce?J.data=ce:(ce=E_(r),ce!==null&&(J.data=ce)))),(ce=HN?GN(e,r):VN(e,r))&&(w=yp(w,"onBeforeInput"),0<w.length&&(k=new S1("onBeforeInput","beforeinput",null,r,k),E.push({event:k,listeners:w}),k.data=ce))}B_(E,t)})}function vh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yp(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=dh(e,r),a!=null&&n.unshift(vh(e,a,s)),a=dh(e,t),a!=null&&n.push(vh(e,a,s))),e=e.return}return n}function Pl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function R1(e,t,r,n,s){for(var a=t._reactName,c=[];r!==null&&r!==n;){var p=r,v=p.alternate,w=p.stateNode;if(v!==null&&v===n)break;p.tag===5&&w!==null&&(p=w,s?(v=dh(r,a),v!=null&&c.unshift(vh(r,v,p))):s||(v=dh(r,a),v!=null&&c.push(vh(r,v,p)))),r=r.return}c.length!==0&&e.push({event:t,listeners:c})}var oO=/\r\n?/g,aO=/\u0000|\uFFFD/g;function L1(e){return(typeof e=="string"?e:""+e).replace(oO,`
`).replace(aO,"")}function Nf(e,t,r){if(t=L1(t),L1(e)!==t&&r)throw Error(He(425))}function wp(){}var fy=null,py=null;function gy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var my=typeof setTimeout=="function"?setTimeout:void 0,lO=typeof clearTimeout=="function"?clearTimeout:void 0,I1=typeof Promise=="function"?Promise:void 0,cO=typeof queueMicrotask=="function"?queueMicrotask:typeof I1<"u"?function(e){return I1.resolve(null).then(e).catch(dO)}:my;function dO(e){setTimeout(function(){throw e})}function ax(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),fh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);fh(t)}function Po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function D1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jc=Math.random().toString(36).slice(2),es="__reactFiber$"+jc,xh="__reactProps$"+jc,Ps="__reactContainer$"+jc,vy="__reactEvents$"+jc,hO="__reactListeners$"+jc,uO="__reactHandles$"+jc;function _a(e){var t=e[es];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ps]||r[es]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=D1(e);e!==null;){if(r=e[es])return r;e=D1(e)}return t}e=r,r=e.parentNode}return null}function Rh(e){return e=e[es]||e[Ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function tg(e){return e[xh]||null}var xy=[],Ql=-1;function Uo(e){return{current:e}}function tr(e){0>Ql||(e.current=xy[Ql],xy[Ql]=null,Ql--)}function qt(e,t){Ql++,xy[Ql]=e.current,e.current=t}var Bo={},li=Uo(Bo),Ai=Uo(!1),Pa=Bo;function gc(e,t){var r=e.type.contextTypes;if(!r)return Bo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ji(e){return e=e.childContextTypes,e!=null}function bp(){tr(Ai),tr(li)}function B1(e,t,r){if(li.current!==Bo)throw Error(He(168));qt(li,t),qt(Ai,r)}function z_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(He(108,KP(e)||"Unknown",s));return ur({},r,n)}function Sp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bo,Pa=li.current,qt(li,e),qt(Ai,Ai.current),!0}function $1(e,t,r){var n=e.stateNode;if(!n)throw Error(He(169));r?(e=z_(e,t,Pa),n.__reactInternalMemoizedMergedChildContext=e,tr(Ai),tr(li),qt(li,e)):tr(Ai),qt(Ai,r)}var _s=null,rg=!1,lx=!1;function F_(e){_s===null?_s=[e]:_s.push(e)}function fO(e){rg=!0,F_(e)}function Ho(){if(!lx&&_s!==null){lx=!0;var e=0,t=Ft;try{var r=_s;for(Ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_s=null,rg=!1}catch(s){throw _s!==null&&(_s=_s.slice(e+1)),u_(M0,Ho),s}finally{Ft=t,lx=!1}}return null}var Jl=[],ec=0,kp=null,_p=0,cn=[],dn=0,Na=null,Es=1,Ms="";function xa(e,t){Jl[ec++]=_p,Jl[ec++]=kp,kp=e,_p=t}function W_(e,t,r){cn[dn++]=Es,cn[dn++]=Ms,cn[dn++]=Na,Na=e;var n=Es;e=Ms;var s=32-Nn(n)-1;n&=~(1<<s),r+=1;var a=32-Nn(t)+s;if(30<a){var c=s-s%5;a=(n&(1<<c)-1).toString(32),n>>=c,s-=c,Es=1<<32-Nn(t)+s|r<<s|n,Ms=a+e}else Es=1<<a|r<<s|n,Ms=e}function I0(e){e.return!==null&&(xa(e,1),W_(e,1,0))}function D0(e){for(;e===kp;)kp=Jl[--ec],Jl[ec]=null,_p=Jl[--ec],Jl[ec]=null;for(;e===Na;)Na=cn[--dn],cn[dn]=null,Ms=cn[--dn],cn[dn]=null,Es=cn[--dn],cn[dn]=null}var Wi=null,Fi=null,nr=!1,Pn=null;function U_(e,t){var r=hn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function z1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wi=e,Fi=Po(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wi=e,Fi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Na!==null?{id:Es,overflow:Ms}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wi=e,Fi=null,!0):!1;default:return!1}}function yy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wy(e){if(nr){var t=Fi;if(t){var r=t;if(!z1(e,t)){if(yy(e))throw Error(He(418));t=Po(r.nextSibling);var n=Wi;t&&z1(e,t)?U_(n,r):(e.flags=e.flags&-4097|2,nr=!1,Wi=e)}}else{if(yy(e))throw Error(He(418));e.flags=e.flags&-4097|2,nr=!1,Wi=e}}}function F1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wi=e}function Of(e){if(e!==Wi)return!1;if(!nr)return F1(e),nr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gy(e.type,e.memoizedProps)),t&&(t=Fi)){if(yy(e))throw H_(),Error(He(418));for(;t;)U_(e,t),t=Po(t.nextSibling)}if(F1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fi=Po(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fi=null}}else Fi=Wi?Po(e.stateNode.nextSibling):null;return!0}function H_(){for(var e=Fi;e;)e=Po(e.nextSibling)}function mc(){Fi=Wi=null,nr=!1}function B0(e){Pn===null?Pn=[e]:Pn.push(e)}var pO=Bs.ReactCurrentBatchConfig;function Rd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(He(309));var n=r.stateNode}if(!n)throw Error(He(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var p=s.refs;c===null?delete p[a]:p[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(He(284));if(!r._owner)throw Error(He(290,e))}return e}function Rf(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function W1(e){var t=e._init;return t(e._payload)}function G_(e){function t(I,j){if(e){var O=I.deletions;O===null?(I.deletions=[j],I.flags|=16):O.push(j)}}function r(I,j){if(!e)return null;for(;j!==null;)t(I,j),j=j.sibling;return null}function n(I,j){for(I=new Map;j!==null;)j.key!==null?I.set(j.key,j):I.set(j.index,j),j=j.sibling;return I}function s(I,j){return I=Lo(I,j),I.index=0,I.sibling=null,I}function a(I,j,O){return I.index=O,e?(O=I.alternate,O!==null?(O=O.index,O<j?(I.flags|=2,j):O):(I.flags|=2,j)):(I.flags|=1048576,j)}function c(I){return e&&I.alternate===null&&(I.flags|=2),I}function p(I,j,O,q){return j===null||j.tag!==6?(j=gx(O,I.mode,q),j.return=I,j):(j=s(j,O),j.return=I,j)}function v(I,j,O,q){var ae=O.type;return ae===Xl?k(I,j,O.props.children,q,O.key):j!==null&&(j.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===wo&&W1(ae)===j.type)?(q=s(j,O.props),q.ref=Rd(I,j,O),q.return=I,q):(q=lp(O.type,O.key,O.props,null,I.mode,q),q.ref=Rd(I,j,O),q.return=I,q)}function w(I,j,O,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==O.containerInfo||j.stateNode.implementation!==O.implementation?(j=mx(O,I.mode,q),j.return=I,j):(j=s(j,O.children||[]),j.return=I,j)}function k(I,j,O,q,ae){return j===null||j.tag!==7?(j=ja(O,I.mode,q,ae),j.return=I,j):(j=s(j,O),j.return=I,j)}function E(I,j,O){if(typeof j=="string"&&j!==""||typeof j=="number")return j=gx(""+j,I.mode,O),j.return=I,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case kf:return O=lp(j.type,j.key,j.props,null,I.mode,O),O.ref=Rd(I,null,j),O.return=I,O;case Vl:return j=mx(j,I.mode,O),j.return=I,j;case wo:var q=j._init;return E(I,q(j._payload),O)}if(Gd(j)||Ad(j))return j=ja(j,I.mode,O,null),j.return=I,j;Rf(I,j)}return null}function P(I,j,O,q){var ae=j!==null?j.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ae!==null?null:p(I,j,""+O,q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case kf:return O.key===ae?v(I,j,O,q):null;case Vl:return O.key===ae?w(I,j,O,q):null;case wo:return ae=O._init,P(I,j,ae(O._payload),q)}if(Gd(O)||Ad(O))return ae!==null?null:k(I,j,O,q,null);Rf(I,O)}return null}function z(I,j,O,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number")return I=I.get(O)||null,p(j,I,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case kf:return I=I.get(q.key===null?O:q.key)||null,v(j,I,q,ae);case Vl:return I=I.get(q.key===null?O:q.key)||null,w(j,I,q,ae);case wo:var re=q._init;return z(I,j,O,re(q._payload),ae)}if(Gd(q)||Ad(q))return I=I.get(O)||null,k(j,I,q,ae,null);Rf(j,q)}return null}function U(I,j,O,q){for(var ae=null,re=null,ce=j,J=j=0,we=null;ce!==null&&J<O.length;J++){ce.index>J?(we=ce,ce=null):we=ce.sibling;var ke=P(I,ce,O[J],q);if(ke===null){ce===null&&(ce=we);break}e&&ce&&ke.alternate===null&&t(I,ce),j=a(ke,j,J),re===null?ae=ke:re.sibling=ke,re=ke,ce=we}if(J===O.length)return r(I,ce),nr&&xa(I,J),ae;if(ce===null){for(;J<O.length;J++)ce=E(I,O[J],q),ce!==null&&(j=a(ce,j,J),re===null?ae=ce:re.sibling=ce,re=ce);return nr&&xa(I,J),ae}for(ce=n(I,ce);J<O.length;J++)we=z(ce,I,J,O[J],q),we!==null&&(e&&we.alternate!==null&&ce.delete(we.key===null?J:we.key),j=a(we,j,J),re===null?ae=we:re.sibling=we,re=we);return e&&ce.forEach(function(Se){return t(I,Se)}),nr&&xa(I,J),ae}function D(I,j,O,q){var ae=Ad(O);if(typeof ae!="function")throw Error(He(150));if(O=ae.call(O),O==null)throw Error(He(151));for(var re=ae=null,ce=j,J=j=0,we=null,ke=O.next();ce!==null&&!ke.done;J++,ke=O.next()){ce.index>J?(we=ce,ce=null):we=ce.sibling;var Se=P(I,ce,ke.value,q);if(Se===null){ce===null&&(ce=we);break}e&&ce&&Se.alternate===null&&t(I,ce),j=a(Se,j,J),re===null?ae=Se:re.sibling=Se,re=Se,ce=we}if(ke.done)return r(I,ce),nr&&xa(I,J),ae;if(ce===null){for(;!ke.done;J++,ke=O.next())ke=E(I,ke.value,q),ke!==null&&(j=a(ke,j,J),re===null?ae=ke:re.sibling=ke,re=ke);return nr&&xa(I,J),ae}for(ce=n(I,ce);!ke.done;J++,ke=O.next())ke=z(ce,I,J,ke.value,q),ke!==null&&(e&&ke.alternate!==null&&ce.delete(ke.key===null?J:ke.key),j=a(ke,j,J),re===null?ae=ke:re.sibling=ke,re=ke);return e&&ce.forEach(function(me){return t(I,me)}),nr&&xa(I,J),ae}function L(I,j,O,q){if(typeof O=="object"&&O!==null&&O.type===Xl&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case kf:e:{for(var ae=O.key,re=j;re!==null;){if(re.key===ae){if(ae=O.type,ae===Xl){if(re.tag===7){r(I,re.sibling),j=s(re,O.props.children),j.return=I,I=j;break e}}else if(re.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===wo&&W1(ae)===re.type){r(I,re.sibling),j=s(re,O.props),j.ref=Rd(I,re,O),j.return=I,I=j;break e}r(I,re);break}else t(I,re);re=re.sibling}O.type===Xl?(j=ja(O.props.children,I.mode,q,O.key),j.return=I,I=j):(q=lp(O.type,O.key,O.props,null,I.mode,q),q.ref=Rd(I,j,O),q.return=I,I=q)}return c(I);case Vl:e:{for(re=O.key;j!==null;){if(j.key===re)if(j.tag===4&&j.stateNode.containerInfo===O.containerInfo&&j.stateNode.implementation===O.implementation){r(I,j.sibling),j=s(j,O.children||[]),j.return=I,I=j;break e}else{r(I,j);break}else t(I,j);j=j.sibling}j=mx(O,I.mode,q),j.return=I,I=j}return c(I);case wo:return re=O._init,L(I,j,re(O._payload),q)}if(Gd(O))return U(I,j,O,q);if(Ad(O))return D(I,j,O,q);Rf(I,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,j!==null&&j.tag===6?(r(I,j.sibling),j=s(j,O),j.return=I,I=j):(r(I,j),j=gx(O,I.mode,q),j.return=I,I=j),c(I)):r(I,j)}return L}var vc=G_(!0),V_=G_(!1),Cp=Uo(null),Ep=null,tc=null,$0=null;function z0(){$0=tc=Ep=null}function F0(e){var t=Cp.current;tr(Cp),e._currentValue=t}function by(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cc(e,t){Ep=e,$0=tc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ti=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if($0!==e)if(e={context:e,memoizedValue:t,next:null},tc===null){if(Ep===null)throw Error(He(308));tc=e,Ep.dependencies={lanes:0,firstContext:e}}else tc=tc.next=e;return t}var Ca=null;function W0(e){Ca===null?Ca=[e]:Ca.push(e)}function X_(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,W0(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ns(e,n)}function Ns(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bo=!1;function U0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function No(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Rt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ns(e,r)}return s=n.interleaved,s===null?(t.next=t,W0(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ns(e,r)}function rp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,T0(e,r)}}function U1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=c:a=a.next=c,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mp(e,t,r,n){var s=e.updateQueue;bo=!1;var a=s.firstBaseUpdate,c=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var v=p,w=v.next;v.next=null,c===null?a=w:c.next=w,c=v;var k=e.alternate;k!==null&&(k=k.updateQueue,p=k.lastBaseUpdate,p!==c&&(p===null?k.firstBaseUpdate=w:p.next=w,k.lastBaseUpdate=v))}if(a!==null){var E=s.baseState;c=0,k=w=v=null,p=a;do{var P=p.lane,z=p.eventTime;if((n&P)===P){k!==null&&(k=k.next={eventTime:z,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var U=e,D=p;switch(P=t,z=r,D.tag){case 1:if(U=D.payload,typeof U=="function"){E=U.call(z,E,P);break e}E=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=D.payload,P=typeof U=="function"?U.call(z,E,P):U,P==null)break e;E=ur({},E,P);break e;case 2:bo=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,P=s.effects,P===null?s.effects=[p]:P.push(p))}else z={eventTime:z,lane:P,tag:p.tag,payload:p.payload,callback:p.callback,next:null},k===null?(w=k=z,v=E):k=k.next=z,c|=P;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;P=p,p=P.next,P.next=null,s.lastBaseUpdate=P,s.shared.pending=null}}while(!0);if(k===null&&(v=E),s.baseState=v,s.firstBaseUpdate=w,s.lastBaseUpdate=k,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ra|=c,e.lanes=c,e.memoizedState=E}}function H1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(He(191,s));s.call(n)}}}var Lh={},ns=Uo(Lh),yh=Uo(Lh),wh=Uo(Lh);function Ea(e){if(e===Lh)throw Error(He(174));return e}function H0(e,t){switch(qt(wh,t),qt(yh,e),qt(ns,Lh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ty(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ty(t,e)}tr(ns),qt(ns,t)}function xc(){tr(ns),tr(yh),tr(wh)}function q_(e){Ea(wh.current);var t=Ea(ns.current),r=ty(t,e.type);t!==r&&(qt(yh,e),qt(ns,r))}function G0(e){yh.current===e&&(tr(ns),tr(yh))}var cr=Uo(0);function Tp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cx=[];function V0(){for(var e=0;e<cx.length;e++)cx[e]._workInProgressVersionPrimary=null;cx.length=0}var ip=Bs.ReactCurrentDispatcher,dx=Bs.ReactCurrentBatchConfig,Oa=0,dr=null,Lr=null,Wr=null,Ap=!1,th=!1,bh=0,gO=0;function ri(){throw Error(He(321))}function X0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rn(e[r],t[r]))return!1;return!0}function Y0(e,t,r,n,s,a){if(Oa=a,dr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ip.current=e===null||e.memoizedState===null?yO:wO,e=r(n,s),th){a=0;do{if(th=!1,bh=0,25<=a)throw Error(He(301));a+=1,Wr=Lr=null,t.updateQueue=null,ip.current=bO,e=r(n,s)}while(th)}if(ip.current=jp,t=Lr!==null&&Lr.next!==null,Oa=0,Wr=Lr=dr=null,Ap=!1,t)throw Error(He(300));return e}function q0(){var e=bh!==0;return bh=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?dr.memoizedState=Wr=e:Wr=Wr.next=e,Wr}function gn(){if(Lr===null){var e=dr.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=Wr===null?dr.memoizedState:Wr.next;if(t!==null)Wr=t,Lr=e;else{if(e===null)throw Error(He(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Wr===null?dr.memoizedState=Wr=e:Wr=Wr.next=e}return Wr}function Sh(e,t){return typeof t=="function"?t(e):t}function hx(e){var t=gn(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=Lr,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var c=s.next;s.next=a.next,a.next=c}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var p=c=null,v=null,w=a;do{var k=w.lane;if((Oa&k)===k)v!==null&&(v=v.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),n=w.hasEagerState?w.eagerState:e(n,w.action);else{var E={lane:k,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};v===null?(p=v=E,c=n):v=v.next=E,dr.lanes|=k,Ra|=k}w=w.next}while(w!==null&&w!==a);v===null?c=n:v.next=p,Rn(n,t.memoizedState)||(Ti=!0),t.memoizedState=n,t.baseState=c,t.baseQueue=v,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,dr.lanes|=a,Ra|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ux(e){var t=gn(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var c=s=s.next;do a=e(a,c.action),c=c.next;while(c!==s);Rn(a,t.memoizedState)||(Ti=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function K_(){}function Z_(e,t){var r=dr,n=gn(),s=t(),a=!Rn(n.memoizedState,s);if(a&&(n.memoizedState=s,Ti=!0),n=n.queue,K0(eC.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Wr!==null&&Wr.memoizedState.tag&1){if(r.flags|=2048,kh(9,J_.bind(null,r,n,s,t),void 0,null),Ur===null)throw Error(He(349));Oa&30||Q_(r,t,s)}return s}function Q_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function J_(e,t,r,n){t.value=r,t.getSnapshot=n,tC(t)&&rC(e)}function eC(e,t,r){return r(function(){tC(t)&&rC(e)})}function tC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rn(e,r)}catch{return!0}}function rC(e){var t=Ns(e,1);t!==null&&On(t,e,1,-1)}function G1(e){var t=Zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sh,lastRenderedState:e},t.queue=e,e=e.dispatch=xO.bind(null,dr,e),[t.memoizedState,e]}function kh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=dr.updateQueue,t===null?(t={lastEffect:null,stores:null},dr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function iC(){return gn().memoizedState}function np(e,t,r,n){var s=Zn();dr.flags|=e,s.memoizedState=kh(1|t,r,void 0,n===void 0?null:n)}function ig(e,t,r,n){var s=gn();n=n===void 0?null:n;var a=void 0;if(Lr!==null){var c=Lr.memoizedState;if(a=c.destroy,n!==null&&X0(n,c.deps)){s.memoizedState=kh(t,r,a,n);return}}dr.flags|=e,s.memoizedState=kh(1|t,r,a,n)}function V1(e,t){return np(8390656,8,e,t)}function K0(e,t){return ig(2048,8,e,t)}function nC(e,t){return ig(4,2,e,t)}function sC(e,t){return ig(4,4,e,t)}function oC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aC(e,t,r){return r=r!=null?r.concat([e]):null,ig(4,4,oC.bind(null,t,e),r)}function Z0(){}function lC(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&X0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cC(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&X0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function dC(e,t,r){return Oa&21?(Rn(r,t)||(r=g_(),dr.lanes|=r,Ra|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ti=!0),e.memoizedState=r)}function mO(e,t){var r=Ft;Ft=r!==0&&4>r?r:4,e(!0);var n=dx.transition;dx.transition={};try{e(!1),t()}finally{Ft=r,dx.transition=n}}function hC(){return gn().memoizedState}function vO(e,t,r){var n=Ro(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uC(e))fC(t,r);else if(r=X_(e,t,r,n),r!==null){var s=gi();On(r,e,n,s),pC(r,t,n)}}function xO(e,t,r){var n=Ro(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uC(e))fC(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,p=a(c,r);if(s.hasEagerState=!0,s.eagerState=p,Rn(p,c)){var v=t.interleaved;v===null?(s.next=s,W0(t)):(s.next=v.next,v.next=s),t.interleaved=s;return}}catch{}finally{}r=X_(e,t,s,n),r!==null&&(s=gi(),On(r,e,n,s),pC(r,t,n))}}function uC(e){var t=e.alternate;return e===dr||t!==null&&t===dr}function fC(e,t){th=Ap=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,T0(e,r)}}var jp={readContext:pn,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useInsertionEffect:ri,useLayoutEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useMutableSource:ri,useSyncExternalStore:ri,useId:ri,unstable_isNewReconciler:!1},yO={readContext:pn,useCallback:function(e,t){return Zn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:V1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,np(4194308,4,oC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return np(4194308,4,e,t)},useInsertionEffect:function(e,t){return np(4,2,e,t)},useMemo:function(e,t){var r=Zn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=vO.bind(null,dr,e),[n.memoizedState,e]},useRef:function(e){var t=Zn();return e={current:e},t.memoizedState=e},useState:G1,useDebugValue:Z0,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=G1(!1),t=e[0];return e=mO.bind(null,e[1]),Zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=dr,s=Zn();if(nr){if(r===void 0)throw Error(He(407));r=r()}else{if(r=t(),Ur===null)throw Error(He(349));Oa&30||Q_(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,V1(eC.bind(null,n,a,e),[e]),n.flags|=2048,kh(9,J_.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Zn(),t=Ur.identifierPrefix;if(nr){var r=Ms,n=Es;r=(n&~(1<<32-Nn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wO={readContext:pn,useCallback:lC,useContext:pn,useEffect:K0,useImperativeHandle:aC,useInsertionEffect:nC,useLayoutEffect:sC,useMemo:cC,useReducer:hx,useRef:iC,useState:function(){return hx(Sh)},useDebugValue:Z0,useDeferredValue:function(e){var t=gn();return dC(t,Lr.memoizedState,e)},useTransition:function(){var e=hx(Sh)[0],t=gn().memoizedState;return[e,t]},useMutableSource:K_,useSyncExternalStore:Z_,useId:hC,unstable_isNewReconciler:!1},bO={readContext:pn,useCallback:lC,useContext:pn,useEffect:K0,useImperativeHandle:aC,useInsertionEffect:nC,useLayoutEffect:sC,useMemo:cC,useReducer:ux,useRef:iC,useState:function(){return ux(Sh)},useDebugValue:Z0,useDeferredValue:function(e){var t=gn();return Lr===null?t.memoizedState=e:dC(t,Lr.memoizedState,e)},useTransition:function(){var e=ux(Sh)[0],t=gn().memoizedState;return[e,t]},useMutableSource:K_,useSyncExternalStore:Z_,useId:hC,unstable_isNewReconciler:!1};function Tn(e,t){if(e&&e.defaultProps){t=ur({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Sy(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ur({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ng={isMounted:function(e){return(e=e._reactInternals)?Ya(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gi(),s=Ro(e),a=Ts(n,s);a.payload=t,r!=null&&(a.callback=r),t=No(e,a,s),t!==null&&(On(t,e,s,n),rp(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gi(),s=Ro(e),a=Ts(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=No(e,a,s),t!==null&&(On(t,e,s,n),rp(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gi(),n=Ro(e),s=Ts(r,n);s.tag=2,t!=null&&(s.callback=t),t=No(e,s,n),t!==null&&(On(t,e,n,r),rp(t,e,n))}};function X1(e,t,r,n,s,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,c):t.prototype&&t.prototype.isPureReactComponent?!gh(r,n)||!gh(s,a):!0}function gC(e,t,r){var n=!1,s=Bo,a=t.contextType;return typeof a=="object"&&a!==null?a=pn(a):(s=ji(t)?Pa:li.current,n=t.contextTypes,a=(n=n!=null)?gc(e,s):Bo),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ng,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Y1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ng.enqueueReplaceState(t,t.state,null)}function ky(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},U0(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=pn(a):(a=ji(t)?Pa:li.current,s.context=gc(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Sy(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ng.enqueueReplaceState(s,s.state,null),Mp(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function yc(e,t){try{var r="",n=t;do r+=qP(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function fx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function _y(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var SO=typeof WeakMap=="function"?WeakMap:Map;function mC(e,t,r){r=Ts(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Np||(Np=!0,Ry=n),_y(e,t)},r}function vC(e,t,r){r=Ts(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){_y(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){_y(e,t),typeof n!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),r}function q1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new SO;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=IO.bind(null,e,t,r),t.then(e,e))}function K1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Z1(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ts(-1,1),t.tag=2,No(r,t,1))),r.lanes|=1),e)}var kO=Bs.ReactCurrentOwner,Ti=!1;function pi(e,t,r,n){t.child=e===null?V_(t,null,r,n):vc(t,e.child,r,n)}function Q1(e,t,r,n,s){r=r.render;var a=t.ref;return cc(t,s),n=Y0(e,t,r,n,a,s),r=q0(),e!==null&&!Ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Os(e,t,s)):(nr&&r&&I0(t),t.flags|=1,pi(e,t,n,s),t.child)}function J1(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!sw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,xC(e,t,a,n,s)):(e=lp(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var c=a.memoizedProps;if(r=r.compare,r=r!==null?r:gh,r(c,n)&&e.ref===t.ref)return Os(e,t,s)}return t.flags|=1,e=Lo(a,n),e.ref=t.ref,e.return=t,t.child=e}function xC(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(gh(a,n)&&e.ref===t.ref)if(Ti=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Ti=!0);else return t.lanes=e.lanes,Os(e,t,s)}return Cy(e,t,r,n,s)}function yC(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(ic,$i),$i|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(ic,$i),$i|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,qt(ic,$i),$i|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,qt(ic,$i),$i|=n;return pi(e,t,s,r),t.child}function wC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cy(e,t,r,n,s){var a=ji(r)?Pa:li.current;return a=gc(t,a),cc(t,s),r=Y0(e,t,r,n,a,s),n=q0(),e!==null&&!Ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Os(e,t,s)):(nr&&n&&I0(t),t.flags|=1,pi(e,t,r,s),t.child)}function eS(e,t,r,n,s){if(ji(r)){var a=!0;Sp(t)}else a=!1;if(cc(t,s),t.stateNode===null)sp(e,t),gC(t,r,n),ky(t,r,n,s),n=!0;else if(e===null){var c=t.stateNode,p=t.memoizedProps;c.props=p;var v=c.context,w=r.contextType;typeof w=="object"&&w!==null?w=pn(w):(w=ji(r)?Pa:li.current,w=gc(t,w));var k=r.getDerivedStateFromProps,E=typeof k=="function"||typeof c.getSnapshotBeforeUpdate=="function";E||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==n||v!==w)&&Y1(t,c,n,w),bo=!1;var P=t.memoizedState;c.state=P,Mp(t,n,c,s),v=t.memoizedState,p!==n||P!==v||Ai.current||bo?(typeof k=="function"&&(Sy(t,r,k,n),v=t.memoizedState),(p=bo||X1(t,r,p,n,P,v,w))?(E||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=v),c.props=n,c.state=v,c.context=w,n=p):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,Y_(e,t),p=t.memoizedProps,w=t.type===t.elementType?p:Tn(t.type,p),c.props=w,E=t.pendingProps,P=c.context,v=r.contextType,typeof v=="object"&&v!==null?v=pn(v):(v=ji(r)?Pa:li.current,v=gc(t,v));var z=r.getDerivedStateFromProps;(k=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==E||P!==v)&&Y1(t,c,n,v),bo=!1,P=t.memoizedState,c.state=P,Mp(t,n,c,s);var U=t.memoizedState;p!==E||P!==U||Ai.current||bo?(typeof z=="function"&&(Sy(t,r,z,n),U=t.memoizedState),(w=bo||X1(t,r,w,n,P,U,v)||!1)?(k||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,U,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,U,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=U),c.props=n,c.state=U,c.context=v,n=w):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),n=!1)}return Ey(e,t,r,n,a,s)}function Ey(e,t,r,n,s,a){wC(e,t);var c=(t.flags&128)!==0;if(!n&&!c)return s&&$1(t,r,!1),Os(e,t,a);n=t.stateNode,kO.current=t;var p=c&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&c?(t.child=vc(t,e.child,null,a),t.child=vc(t,null,p,a)):pi(e,t,p,a),t.memoizedState=n.state,s&&$1(t,r,!0),t.child}function bC(e){var t=e.stateNode;t.pendingContext?B1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B1(e,t.context,!1),H0(e,t.containerInfo)}function tS(e,t,r,n,s){return mc(),B0(s),t.flags|=256,pi(e,t,r,n),t.child}var My={dehydrated:null,treeContext:null,retryLane:0};function Ty(e){return{baseLanes:e,cachePool:null,transitions:null}}function SC(e,t,r){var n=t.pendingProps,s=cr.current,a=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(s&2)!==0),p?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qt(cr,s&1),e===null)return wy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=n.children,e=n.fallback,a?(n=t.mode,a=t.child,c={mode:"hidden",children:c},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=ag(c,n,0,null),e=ja(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ty(r),t.memoizedState=My,e):Q0(t,c));if(s=e.memoizedState,s!==null&&(p=s.dehydrated,p!==null))return _O(e,t,c,n,p,s,r);if(a){a=n.fallback,c=t.mode,s=e.child,p=s.sibling;var v={mode:"hidden",children:n.children};return!(c&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=v,t.deletions=null):(n=Lo(s,v),n.subtreeFlags=s.subtreeFlags&14680064),p!==null?a=Lo(p,a):(a=ja(a,c,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,c=e.child.memoizedState,c=c===null?Ty(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~r,t.memoizedState=My,n}return a=e.child,e=a.sibling,n=Lo(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Q0(e,t){return t=ag({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lf(e,t,r,n){return n!==null&&B0(n),vc(t,e.child,null,r),e=Q0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _O(e,t,r,n,s,a,c){if(r)return t.flags&256?(t.flags&=-257,n=fx(Error(He(422))),Lf(e,t,c,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=ag({mode:"visible",children:n.children},s,0,null),a=ja(a,s,c,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&vc(t,e.child,null,c),t.child.memoizedState=Ty(c),t.memoizedState=My,a);if(!(t.mode&1))return Lf(e,t,c,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var p=n.dgst;return n=p,a=Error(He(419)),n=fx(a,n,void 0),Lf(e,t,c,n)}if(p=(c&e.childLanes)!==0,Ti||p){if(n=Ur,n!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|c)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ns(e,s),On(n,e,s,-1))}return nw(),n=fx(Error(He(421))),Lf(e,t,c,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=DO.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Fi=Po(s.nextSibling),Wi=t,nr=!0,Pn=null,e!==null&&(cn[dn++]=Es,cn[dn++]=Ms,cn[dn++]=Na,Es=e.id,Ms=e.overflow,Na=t),t=Q0(t,n.children),t.flags|=4096,t)}function rS(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),by(e.return,t,r)}function px(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function kC(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(pi(e,t,n.children,r),n=cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rS(e,r,t);else if(e.tag===19)rS(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qt(cr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Tp(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),px(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Tp(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}px(t,!0,r,null,a);break;case"together":px(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Os(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ra|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,r=Lo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function CO(e,t,r){switch(t.tag){case 3:bC(t),mc();break;case 5:q_(t);break;case 1:ji(t.type)&&Sp(t);break;case 4:H0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;qt(Cp,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qt(cr,cr.current&1),t.flags|=128,null):r&t.child.childLanes?SC(e,t,r):(qt(cr,cr.current&1),e=Os(e,t,r),e!==null?e.sibling:null);qt(cr,cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kC(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qt(cr,cr.current),n)break;return null;case 22:case 23:return t.lanes=0,yC(e,t,r)}return Os(e,t,r)}var _C,Ay,CC,EC;_C=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ay=function(){};CC=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ea(ns.current);var a=null;switch(r){case"input":s=Zx(e,s),n=Zx(e,n),a=[];break;case"select":s=ur({},s,{value:void 0}),n=ur({},n,{value:void 0}),a=[];break;case"textarea":s=ey(e,s),n=ey(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wp)}ry(r,n);var c;r=null;for(w in s)if(!n.hasOwnProperty(w)&&s.hasOwnProperty(w)&&s[w]!=null)if(w==="style"){var p=s[w];for(c in p)p.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(lh.hasOwnProperty(w)?a||(a=[]):(a=a||[]).push(w,null));for(w in n){var v=n[w];if(p=s!=null?s[w]:void 0,n.hasOwnProperty(w)&&v!==p&&(v!=null||p!=null))if(w==="style")if(p){for(c in p)!p.hasOwnProperty(c)||v&&v.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in v)v.hasOwnProperty(c)&&p[c]!==v[c]&&(r||(r={}),r[c]=v[c])}else r||(a||(a=[]),a.push(w,r)),r=v;else w==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,p=p?p.__html:void 0,v!=null&&p!==v&&(a=a||[]).push(w,v)):w==="children"?typeof v!="string"&&typeof v!="number"||(a=a||[]).push(w,""+v):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(lh.hasOwnProperty(w)?(v!=null&&w==="onScroll"&&Jt("scroll",e),a||p===v||(a=[])):(a=a||[]).push(w,v))}r&&(a=a||[]).push("style",r);var w=a;(t.updateQueue=w)&&(t.flags|=4)}};EC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ld(e,t){if(!nr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ii(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function EO(e,t,r){var n=t.pendingProps;switch(D0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(t),null;case 1:return ji(t.type)&&bp(),ii(t),null;case 3:return n=t.stateNode,xc(),tr(Ai),tr(li),V0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Of(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pn!==null&&(Dy(Pn),Pn=null))),Ay(e,t),ii(t),null;case 5:G0(t);var s=Ea(wh.current);if(r=t.type,e!==null&&t.stateNode!=null)CC(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(He(166));return ii(t),null}if(e=Ea(ns.current),Of(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[es]=t,n[xh]=a,e=(t.mode&1)!==0,r){case"dialog":Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":case"embed":Jt("load",n);break;case"video":case"audio":for(s=0;s<Xd.length;s++)Jt(Xd[s],n);break;case"source":Jt("error",n);break;case"img":case"image":case"link":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"input":h1(n,a),Jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Jt("invalid",n);break;case"textarea":f1(n,a),Jt("invalid",n)}ry(r,a),s=null;for(var c in a)if(a.hasOwnProperty(c)){var p=a[c];c==="children"?typeof p=="string"?n.textContent!==p&&(a.suppressHydrationWarning!==!0&&Nf(n.textContent,p,e),s=["children",p]):typeof p=="number"&&n.textContent!==""+p&&(a.suppressHydrationWarning!==!0&&Nf(n.textContent,p,e),s=["children",""+p]):lh.hasOwnProperty(c)&&p!=null&&c==="onScroll"&&Jt("scroll",n)}switch(r){case"input":_f(n),u1(n,a,!0);break;case"textarea":_f(n),p1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=wp)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=e_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),r==="select"&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[es]=t,e[xh]=n,_C(e,t,!1,!1),t.stateNode=e;e:{switch(c=iy(r,n),r){case"dialog":Jt("cancel",e),Jt("close",e),s=n;break;case"iframe":case"object":case"embed":Jt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Xd.length;s++)Jt(Xd[s],e);s=n;break;case"source":Jt("error",e),s=n;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),s=n;break;case"details":Jt("toggle",e),s=n;break;case"input":h1(e,n),s=Zx(e,n),Jt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ur({},n,{value:void 0}),Jt("invalid",e);break;case"textarea":f1(e,n),s=ey(e,n),Jt("invalid",e);break;default:s=n}ry(r,s),p=s;for(a in p)if(p.hasOwnProperty(a)){var v=p[a];a==="style"?i_(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&t_(e,v)):a==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&ch(e,v):typeof v=="number"&&ch(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(lh.hasOwnProperty(a)?v!=null&&a==="onScroll"&&Jt("scroll",e):v!=null&&S0(e,a,v,c))}switch(r){case"input":_f(e),u1(e,n,!1);break;case"textarea":_f(e),p1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Do(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?sc(e,!!n.multiple,a,!1):n.defaultValue!=null&&sc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ii(t),null;case 6:if(e&&t.stateNode!=null)EC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(He(166));if(r=Ea(wh.current),Ea(ns.current),Of(t)){if(n=t.stateNode,r=t.memoizedProps,n[es]=t,(a=n.nodeValue!==r)&&(e=Wi,e!==null))switch(e.tag){case 3:Nf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nf(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[es]=t,t.stateNode=n}return ii(t),null;case 13:if(tr(cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nr&&Fi!==null&&t.mode&1&&!(t.flags&128))H_(),mc(),t.flags|=98560,a=!1;else if(a=Of(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(He(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(He(317));a[es]=t}else mc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ii(t),a=!1}else Pn!==null&&(Dy(Pn),Pn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?Dr===0&&(Dr=3):nw())),t.updateQueue!==null&&(t.flags|=4),ii(t),null);case 4:return xc(),Ay(e,t),e===null&&mh(t.stateNode.containerInfo),ii(t),null;case 10:return F0(t.type._context),ii(t),null;case 17:return ji(t.type)&&bp(),ii(t),null;case 19:if(tr(cr),a=t.memoizedState,a===null)return ii(t),null;if(n=(t.flags&128)!==0,c=a.rendering,c===null)if(n)Ld(a,!1);else{if(Dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Tp(e),c!==null){for(t.flags|=128,Ld(a,!1),n=c.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qt(cr,cr.current&1|2),t.child}e=e.sibling}a.tail!==null&&xr()>wc&&(t.flags|=128,n=!0,Ld(a,!1),t.lanes=4194304)}else{if(!n)if(e=Tp(c),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ld(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!nr)return ii(t),null}else 2*xr()-a.renderingStartTime>wc&&r!==1073741824&&(t.flags|=128,n=!0,Ld(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(r=a.last,r!==null?r.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xr(),t.sibling=null,r=cr.current,qt(cr,n?r&1|2:r&1),t):(ii(t),null);case 22:case 23:return iw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$i&1073741824&&(ii(t),t.subtreeFlags&6&&(t.flags|=8192)):ii(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function MO(e,t){switch(D0(t),t.tag){case 1:return ji(t.type)&&bp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xc(),tr(Ai),tr(li),V0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return G0(t),null;case 13:if(tr(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));mc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tr(cr),null;case 4:return xc(),null;case 10:return F0(t.type._context),null;case 22:case 23:return iw(),null;case 24:return null;default:return null}}var If=!1,oi=!1,TO=typeof WeakSet=="function"?WeakSet:Set,nt=null;function rc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gr(e,t,n)}else r.current=null}function jy(e,t,r){try{r()}catch(n){gr(e,t,n)}}var iS=!1;function AO(e,t){if(fy=vp,e=P_(),L0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var c=0,p=-1,v=-1,w=0,k=0,E=e,P=null;t:for(;;){for(var z;E!==r||s!==0&&E.nodeType!==3||(p=c+s),E!==a||n!==0&&E.nodeType!==3||(v=c+n),E.nodeType===3&&(c+=E.nodeValue.length),(z=E.firstChild)!==null;)P=E,E=z;for(;;){if(E===e)break t;if(P===r&&++w===s&&(p=c),P===a&&++k===n&&(v=c),(z=E.nextSibling)!==null)break;E=P,P=E.parentNode}E=z}r=p===-1||v===-1?null:{start:p,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(py={focusedElem:e,selectionRange:r},vp=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var U=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var D=U.memoizedProps,L=U.memoizedState,I=t.stateNode,j=I.getSnapshotBeforeUpdate(t.elementType===t.type?D:Tn(t.type,D),L);I.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(q){gr(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return U=iS,iS=!1,U}function rh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&jy(t,r,a)}s=s.next}while(s!==n)}}function sg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Py(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function MC(e){var t=e.alternate;t!==null&&(e.alternate=null,MC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[xh],delete t[vy],delete t[hO],delete t[uO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TC(e){return e.tag===5||e.tag===3||e.tag===4}function nS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ny(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wp));else if(n!==4&&(e=e.child,e!==null))for(Ny(e,t,r),e=e.sibling;e!==null;)Ny(e,t,r),e=e.sibling}function Oy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Oy(e,t,r),e=e.sibling;e!==null;)Oy(e,t,r),e=e.sibling}var Kr=null,An=!1;function fo(e,t,r){for(r=r.child;r!==null;)AC(e,t,r),r=r.sibling}function AC(e,t,r){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(Zp,r)}catch{}switch(r.tag){case 5:oi||rc(r,t);case 6:var n=Kr,s=An;Kr=null,fo(e,t,r),Kr=n,An=s,Kr!==null&&(An?(e=Kr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kr.removeChild(r.stateNode));break;case 18:Kr!==null&&(An?(e=Kr,r=r.stateNode,e.nodeType===8?ax(e.parentNode,r):e.nodeType===1&&ax(e,r),fh(e)):ax(Kr,r.stateNode));break;case 4:n=Kr,s=An,Kr=r.stateNode.containerInfo,An=!0,fo(e,t,r),Kr=n,An=s;break;case 0:case 11:case 14:case 15:if(!oi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&jy(r,t,c),s=s.next}while(s!==n)}fo(e,t,r);break;case 1:if(!oi&&(rc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(p){gr(r,t,p)}fo(e,t,r);break;case 21:fo(e,t,r);break;case 22:r.mode&1?(oi=(n=oi)||r.memoizedState!==null,fo(e,t,r),oi=n):fo(e,t,r);break;default:fo(e,t,r)}}function sS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new TO),t.forEach(function(n){var s=BO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function En(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,c=t,p=c;e:for(;p!==null;){switch(p.tag){case 5:Kr=p.stateNode,An=!1;break e;case 3:Kr=p.stateNode.containerInfo,An=!0;break e;case 4:Kr=p.stateNode.containerInfo,An=!0;break e}p=p.return}if(Kr===null)throw Error(He(160));AC(a,c,s),Kr=null,An=!1;var v=s.alternate;v!==null&&(v.return=null),s.return=null}catch(w){gr(s,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jC(t,e),t=t.sibling}function jC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),qn(e),n&4){try{rh(3,e,e.return),sg(3,e)}catch(D){gr(e,e.return,D)}try{rh(5,e,e.return)}catch(D){gr(e,e.return,D)}}break;case 1:En(t,e),qn(e),n&512&&r!==null&&rc(r,r.return);break;case 5:if(En(t,e),qn(e),n&512&&r!==null&&rc(r,r.return),e.flags&32){var s=e.stateNode;try{ch(s,"")}catch(D){gr(e,e.return,D)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,c=r!==null?r.memoizedProps:a,p=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{p==="input"&&a.type==="radio"&&a.name!=null&&Qk(s,a),iy(p,c);var w=iy(p,a);for(c=0;c<v.length;c+=2){var k=v[c],E=v[c+1];k==="style"?i_(s,E):k==="dangerouslySetInnerHTML"?t_(s,E):k==="children"?ch(s,E):S0(s,k,E,w)}switch(p){case"input":Qx(s,a);break;case"textarea":Jk(s,a);break;case"select":var P=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var z=a.value;z!=null?sc(s,!!a.multiple,z,!1):P!==!!a.multiple&&(a.defaultValue!=null?sc(s,!!a.multiple,a.defaultValue,!0):sc(s,!!a.multiple,a.multiple?[]:"",!1))}s[xh]=a}catch(D){gr(e,e.return,D)}}break;case 6:if(En(t,e),qn(e),n&4){if(e.stateNode===null)throw Error(He(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(D){gr(e,e.return,D)}}break;case 3:if(En(t,e),qn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fh(t.containerInfo)}catch(D){gr(e,e.return,D)}break;case 4:En(t,e),qn(e);break;case 13:En(t,e),qn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(tw=xr())),n&4&&sS(e);break;case 22:if(k=r!==null&&r.memoizedState!==null,e.mode&1?(oi=(w=oi)||k,En(t,e),oi=w):En(t,e),qn(e),n&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!k&&e.mode&1)for(nt=e,k=e.child;k!==null;){for(E=nt=k;nt!==null;){switch(P=nt,z=P.child,P.tag){case 0:case 11:case 14:case 15:rh(4,P,P.return);break;case 1:rc(P,P.return);var U=P.stateNode;if(typeof U.componentWillUnmount=="function"){n=P,r=P.return;try{t=n,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch(D){gr(n,r,D)}}break;case 5:rc(P,P.return);break;case 22:if(P.memoizedState!==null){aS(E);continue}}z!==null?(z.return=P,nt=z):aS(E)}k=k.sibling}e:for(k=null,E=e;;){if(E.tag===5){if(k===null){k=E;try{s=E.stateNode,w?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(p=E.stateNode,v=E.memoizedProps.style,c=v!=null&&v.hasOwnProperty("display")?v.display:null,p.style.display=r_("display",c))}catch(D){gr(e,e.return,D)}}}else if(E.tag===6){if(k===null)try{E.stateNode.nodeValue=w?"":E.memoizedProps}catch(D){gr(e,e.return,D)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;k===E&&(k=null),E=E.return}k===E&&(k=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:En(t,e),qn(e),n&4&&sS(e);break;case 21:break;default:En(t,e),qn(e)}}function qn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(TC(r)){var n=r;break e}r=r.return}throw Error(He(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ch(s,""),n.flags&=-33);var a=nS(e);Oy(e,a,s);break;case 3:case 4:var c=n.stateNode.containerInfo,p=nS(e);Ny(e,p,c);break;default:throw Error(He(161))}}catch(v){gr(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jO(e,t,r){nt=e,PC(e)}function PC(e,t,r){for(var n=(e.mode&1)!==0;nt!==null;){var s=nt,a=s.child;if(s.tag===22&&n){var c=s.memoizedState!==null||If;if(!c){var p=s.alternate,v=p!==null&&p.memoizedState!==null||oi;p=If;var w=oi;if(If=c,(oi=v)&&!w)for(nt=s;nt!==null;)c=nt,v=c.child,c.tag===22&&c.memoizedState!==null?lS(s):v!==null?(v.return=c,nt=v):lS(s);for(;a!==null;)nt=a,PC(a),a=a.sibling;nt=s,If=p,oi=w}oS(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,nt=a):oS(e)}}function oS(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:oi||sg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!oi)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Tn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&H1(t,a,n);break;case 3:var c=t.updateQueue;if(c!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}H1(t,c,r)}break;case 5:var p=t.stateNode;if(r===null&&t.flags&4){r=p;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var k=w.memoizedState;if(k!==null){var E=k.dehydrated;E!==null&&fh(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}oi||t.flags&512&&Py(t)}catch(P){gr(t,t.return,P)}}if(t===e){nt=null;break}if(r=t.sibling,r!==null){r.return=t.return,nt=r;break}nt=t.return}}function aS(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,nt=r;break}nt=t.return}}function lS(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{sg(4,t)}catch(v){gr(t,r,v)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(v){gr(t,s,v)}}var a=t.return;try{Py(t)}catch(v){gr(t,a,v)}break;case 5:var c=t.return;try{Py(t)}catch(v){gr(t,c,v)}}}catch(v){gr(t,t.return,v)}if(t===e){nt=null;break}var p=t.sibling;if(p!==null){p.return=t.return,nt=p;break}nt=t.return}}var PO=Math.ceil,Pp=Bs.ReactCurrentDispatcher,J0=Bs.ReactCurrentOwner,un=Bs.ReactCurrentBatchConfig,Rt=0,Ur=null,Tr=null,Jr=0,$i=0,ic=Uo(0),Dr=0,_h=null,Ra=0,og=0,ew=0,ih=null,Ei=null,tw=0,wc=1/0,Ss=null,Np=!1,Ry=null,Oo=null,Df=!1,Eo=null,Op=0,nh=0,Ly=null,op=-1,ap=0;function gi(){return Rt&6?xr():op!==-1?op:op=xr()}function Ro(e){return e.mode&1?Rt&2&&Jr!==0?Jr&-Jr:pO.transition!==null?(ap===0&&(ap=g_()),ap):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:S_(e.type)),e):1}function On(e,t,r,n){if(50<nh)throw nh=0,Ly=null,Error(He(185));Nh(e,r,n),(!(Rt&2)||e!==Ur)&&(e===Ur&&(!(Rt&2)&&(og|=r),Dr===4&&ko(e,Jr)),Pi(e,n),r===1&&Rt===0&&!(t.mode&1)&&(wc=xr()+500,rg&&Ho()))}function Pi(e,t){var r=e.callbackNode;pN(e,t);var n=mp(e,e===Ur?Jr:0);if(n===0)r!==null&&v1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&v1(r),t===1)e.tag===0?fO(cS.bind(null,e)):F_(cS.bind(null,e)),cO(function(){!(Rt&6)&&Ho()}),r=null;else{switch(m_(n)){case 1:r=M0;break;case 4:r=f_;break;case 16:r=gp;break;case 536870912:r=p_;break;default:r=gp}r=$C(r,NC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function NC(e,t){if(op=-1,ap=0,Rt&6)throw Error(He(327));var r=e.callbackNode;if(dc()&&e.callbackNode!==r)return null;var n=mp(e,e===Ur?Jr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Rp(e,n);else{t=n;var s=Rt;Rt|=2;var a=RC();(Ur!==e||Jr!==t)&&(Ss=null,wc=xr()+500,Aa(e,t));do try{RO();break}catch(p){OC(e,p)}while(!0);z0(),Pp.current=a,Rt=s,Tr!==null?t=0:(Ur=null,Jr=0,t=Dr)}if(t!==0){if(t===2&&(s=ly(e),s!==0&&(n=s,t=Iy(e,s))),t===1)throw r=_h,Aa(e,0),ko(e,n),Pi(e,xr()),r;if(t===6)ko(e,n);else{if(s=e.current.alternate,!(n&30)&&!NO(s)&&(t=Rp(e,n),t===2&&(a=ly(e),a!==0&&(n=a,t=Iy(e,a))),t===1))throw r=_h,Aa(e,0),ko(e,n),Pi(e,xr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(He(345));case 2:ya(e,Ei,Ss);break;case 3:if(ko(e,n),(n&130023424)===n&&(t=tw+500-xr(),10<t)){if(mp(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){gi(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=my(ya.bind(null,e,Ei,Ss),t);break}ya(e,Ei,Ss);break;case 4:if(ko(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var c=31-Nn(n);a=1<<c,c=t[c],c>s&&(s=c),n&=~a}if(n=s,n=xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*PO(n/1960))-n,10<n){e.timeoutHandle=my(ya.bind(null,e,Ei,Ss),n);break}ya(e,Ei,Ss);break;case 5:ya(e,Ei,Ss);break;default:throw Error(He(329))}}}return Pi(e,xr()),e.callbackNode===r?NC.bind(null,e):null}function Iy(e,t){var r=ih;return e.current.memoizedState.isDehydrated&&(Aa(e,t).flags|=256),e=Rp(e,t),e!==2&&(t=Ei,Ei=r,t!==null&&Dy(t)),e}function Dy(e){Ei===null?Ei=e:Ei.push.apply(Ei,e)}function NO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Rn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ko(e,t){for(t&=~ew,t&=~og,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nn(t),n=1<<r;e[r]=-1,t&=~n}}function cS(e){if(Rt&6)throw Error(He(327));dc();var t=mp(e,0);if(!(t&1))return Pi(e,xr()),null;var r=Rp(e,t);if(e.tag!==0&&r===2){var n=ly(e);n!==0&&(t=n,r=Iy(e,n))}if(r===1)throw r=_h,Aa(e,0),ko(e,t),Pi(e,xr()),r;if(r===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ya(e,Ei,Ss),Pi(e,xr()),null}function rw(e,t){var r=Rt;Rt|=1;try{return e(t)}finally{Rt=r,Rt===0&&(wc=xr()+500,rg&&Ho())}}function La(e){Eo!==null&&Eo.tag===0&&!(Rt&6)&&dc();var t=Rt;Rt|=1;var r=un.transition,n=Ft;try{if(un.transition=null,Ft=1,e)return e()}finally{Ft=n,un.transition=r,Rt=t,!(Rt&6)&&Ho()}}function iw(){$i=ic.current,tr(ic)}function Aa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lO(r)),Tr!==null)for(r=Tr.return;r!==null;){var n=r;switch(D0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bp();break;case 3:xc(),tr(Ai),tr(li),V0();break;case 5:G0(n);break;case 4:xc();break;case 13:tr(cr);break;case 19:tr(cr);break;case 10:F0(n.type._context);break;case 22:case 23:iw()}r=r.return}if(Ur=e,Tr=e=Lo(e.current,null),Jr=$i=t,Dr=0,_h=null,ew=og=Ra=0,Ei=ih=null,Ca!==null){for(t=0;t<Ca.length;t++)if(r=Ca[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var c=a.next;a.next=s,n.next=c}r.pending=n}Ca=null}return e}function OC(e,t){do{var r=Tr;try{if(z0(),ip.current=jp,Ap){for(var n=dr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ap=!1}if(Oa=0,Wr=Lr=dr=null,th=!1,bh=0,J0.current=null,r===null||r.return===null){Dr=1,_h=t,Tr=null;break}e:{var a=e,c=r.return,p=r,v=t;if(t=Jr,p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var w=v,k=p,E=k.tag;if(!(k.mode&1)&&(E===0||E===11||E===15)){var P=k.alternate;P?(k.updateQueue=P.updateQueue,k.memoizedState=P.memoizedState,k.lanes=P.lanes):(k.updateQueue=null,k.memoizedState=null)}var z=K1(c);if(z!==null){z.flags&=-257,Z1(z,c,p,a,t),z.mode&1&&q1(a,w,t),t=z,v=w;var U=t.updateQueue;if(U===null){var D=new Set;D.add(v),t.updateQueue=D}else U.add(v);break e}else{if(!(t&1)){q1(a,w,t),nw();break e}v=Error(He(426))}}else if(nr&&p.mode&1){var L=K1(c);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Z1(L,c,p,a,t),B0(yc(v,p));break e}}a=v=yc(v,p),Dr!==4&&(Dr=2),ih===null?ih=[a]:ih.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=mC(a,v,t);U1(a,I);break e;case 1:p=v;var j=a.type,O=a.stateNode;if(!(a.flags&128)&&(typeof j.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Oo===null||!Oo.has(O)))){a.flags|=65536,t&=-t,a.lanes|=t;var q=vC(a,p,t);U1(a,q);break e}}a=a.return}while(a!==null)}IC(r)}catch(ae){t=ae,Tr===r&&r!==null&&(Tr=r=r.return);continue}break}while(!0)}function RC(){var e=Pp.current;return Pp.current=jp,e===null?jp:e}function nw(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Ur===null||!(Ra&268435455)&&!(og&268435455)||ko(Ur,Jr)}function Rp(e,t){var r=Rt;Rt|=2;var n=RC();(Ur!==e||Jr!==t)&&(Ss=null,Aa(e,t));do try{OO();break}catch(s){OC(e,s)}while(!0);if(z0(),Rt=r,Pp.current=n,Tr!==null)throw Error(He(261));return Ur=null,Jr=0,Dr}function OO(){for(;Tr!==null;)LC(Tr)}function RO(){for(;Tr!==null&&!sN();)LC(Tr)}function LC(e){var t=BC(e.alternate,e,$i);e.memoizedProps=e.pendingProps,t===null?IC(e):Tr=t,J0.current=null}function IC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=MO(r,t),r!==null){r.flags&=32767,Tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dr=6,Tr=null;return}}else if(r=EO(r,t,$i),r!==null){Tr=r;return}if(t=t.sibling,t!==null){Tr=t;return}Tr=t=e}while(t!==null);Dr===0&&(Dr=5)}function ya(e,t,r){var n=Ft,s=un.transition;try{un.transition=null,Ft=1,LO(e,t,r,n)}finally{un.transition=s,Ft=n}return null}function LO(e,t,r,n){do dc();while(Eo!==null);if(Rt&6)throw Error(He(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(gN(e,a),e===Ur&&(Tr=Ur=null,Jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Df||(Df=!0,$C(gp,function(){return dc(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=un.transition,un.transition=null;var c=Ft;Ft=1;var p=Rt;Rt|=4,J0.current=null,AO(e,r),jC(r,e),tO(py),vp=!!fy,py=fy=null,e.current=r,jO(r),oN(),Rt=p,Ft=c,un.transition=a}else e.current=r;if(Df&&(Df=!1,Eo=e,Op=s),a=e.pendingLanes,a===0&&(Oo=null),cN(r.stateNode),Pi(e,xr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Np)throw Np=!1,e=Ry,Ry=null,e;return Op&1&&e.tag!==0&&dc(),a=e.pendingLanes,a&1?e===Ly?nh++:(nh=0,Ly=e):nh=0,Ho(),null}function dc(){if(Eo!==null){var e=m_(Op),t=un.transition,r=Ft;try{if(un.transition=null,Ft=16>e?16:e,Eo===null)var n=!1;else{if(e=Eo,Eo=null,Op=0,Rt&6)throw Error(He(331));var s=Rt;for(Rt|=4,nt=e.current;nt!==null;){var a=nt,c=a.child;if(nt.flags&16){var p=a.deletions;if(p!==null){for(var v=0;v<p.length;v++){var w=p[v];for(nt=w;nt!==null;){var k=nt;switch(k.tag){case 0:case 11:case 15:rh(8,k,a)}var E=k.child;if(E!==null)E.return=k,nt=E;else for(;nt!==null;){k=nt;var P=k.sibling,z=k.return;if(MC(k),k===w){nt=null;break}if(P!==null){P.return=z,nt=P;break}nt=z}}}var U=a.alternate;if(U!==null){var D=U.child;if(D!==null){U.child=null;do{var L=D.sibling;D.sibling=null,D=L}while(D!==null)}}nt=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,nt=c;else e:for(;nt!==null;){if(a=nt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:rh(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,nt=I;break e}nt=a.return}}var j=e.current;for(nt=j;nt!==null;){c=nt;var O=c.child;if(c.subtreeFlags&2064&&O!==null)O.return=c,nt=O;else e:for(c=j;nt!==null;){if(p=nt,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:sg(9,p)}}catch(ae){gr(p,p.return,ae)}if(p===c){nt=null;break e}var q=p.sibling;if(q!==null){q.return=p.return,nt=q;break e}nt=p.return}}if(Rt=s,Ho(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(Zp,e)}catch{}n=!0}return n}finally{Ft=r,un.transition=t}}return!1}function dS(e,t,r){t=yc(r,t),t=mC(e,t,1),e=No(e,t,1),t=gi(),e!==null&&(Nh(e,1,t),Pi(e,t))}function gr(e,t,r){if(e.tag===3)dS(e,e,r);else for(;t!==null;){if(t.tag===3){dS(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Oo===null||!Oo.has(n))){e=yc(r,e),e=vC(t,e,1),t=No(t,e,1),e=gi(),t!==null&&(Nh(t,1,e),Pi(t,e));break}}t=t.return}}function IO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gi(),e.pingedLanes|=e.suspendedLanes&r,Ur===e&&(Jr&r)===r&&(Dr===4||Dr===3&&(Jr&130023424)===Jr&&500>xr()-tw?Aa(e,0):ew|=r),Pi(e,t)}function DC(e,t){t===0&&(e.mode&1?(t=Mf,Mf<<=1,!(Mf&130023424)&&(Mf=4194304)):t=1);var r=gi();e=Ns(e,t),e!==null&&(Nh(e,t,r),Pi(e,r))}function DO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),DC(e,r)}function BO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(He(314))}n!==null&&n.delete(t),DC(e,r)}var BC;BC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ai.current)Ti=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ti=!1,CO(e,t,r);Ti=!!(e.flags&131072)}else Ti=!1,nr&&t.flags&1048576&&W_(t,_p,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;sp(e,t),e=t.pendingProps;var s=gc(t,li.current);cc(t,r),s=Y0(null,t,n,e,s,r);var a=q0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(n)?(a=!0,Sp(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,U0(t),s.updater=ng,t.stateNode=s,s._reactInternals=t,ky(t,n,e,r),t=Ey(null,t,n,!0,a,r)):(t.tag=0,nr&&a&&I0(t),pi(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(sp(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=zO(n),e=Tn(n,e),s){case 0:t=Cy(null,t,n,e,r);break e;case 1:t=eS(null,t,n,e,r);break e;case 11:t=Q1(null,t,n,e,r);break e;case 14:t=J1(null,t,n,Tn(n.type,e),r);break e}throw Error(He(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tn(n,s),Cy(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tn(n,s),eS(e,t,n,s,r);case 3:e:{if(bC(t),e===null)throw Error(He(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Y_(e,t),Mp(t,n,null,r);var c=t.memoizedState;if(n=c.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=yc(Error(He(423)),t),t=tS(e,t,n,r,s);break e}else if(n!==s){s=yc(Error(He(424)),t),t=tS(e,t,n,r,s);break e}else for(Fi=Po(t.stateNode.containerInfo.firstChild),Wi=t,nr=!0,Pn=null,r=V_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mc(),n===s){t=Os(e,t,r);break e}pi(e,t,n,r)}t=t.child}return t;case 5:return q_(t),e===null&&wy(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,c=s.children,gy(n,s)?c=null:a!==null&&gy(n,a)&&(t.flags|=32),wC(e,t),pi(e,t,c,r),t.child;case 6:return e===null&&wy(t),null;case 13:return SC(e,t,r);case 4:return H0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vc(t,null,n,r):pi(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tn(n,s),Q1(e,t,n,s,r);case 7:return pi(e,t,t.pendingProps,r),t.child;case 8:return pi(e,t,t.pendingProps.children,r),t.child;case 12:return pi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,c=s.value,qt(Cp,n._currentValue),n._currentValue=c,a!==null)if(Rn(a.value,c)){if(a.children===s.children&&!Ai.current){t=Os(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var p=a.dependencies;if(p!==null){c=a.child;for(var v=p.firstContext;v!==null;){if(v.context===n){if(a.tag===1){v=Ts(-1,r&-r),v.tag=2;var w=a.updateQueue;if(w!==null){w=w.shared;var k=w.pending;k===null?v.next=v:(v.next=k.next,k.next=v),w.pending=v}}a.lanes|=r,v=a.alternate,v!==null&&(v.lanes|=r),by(a.return,r,t),p.lanes|=r;break}v=v.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(He(341));c.lanes|=r,p=c.alternate,p!==null&&(p.lanes|=r),by(c,r,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}pi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,cc(t,r),s=pn(s),n=n(s),t.flags|=1,pi(e,t,n,r),t.child;case 14:return n=t.type,s=Tn(n,t.pendingProps),s=Tn(n.type,s),J1(e,t,n,s,r);case 15:return xC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tn(n,s),sp(e,t),t.tag=1,ji(n)?(e=!0,Sp(t)):e=!1,cc(t,r),gC(t,n,s),ky(t,n,s,r),Ey(null,t,n,!0,e,r);case 19:return kC(e,t,r);case 22:return yC(e,t,r)}throw Error(He(156,t.tag))};function $C(e,t){return u_(e,t)}function $O(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,t,r,n){return new $O(e,t,r,n)}function sw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zO(e){if(typeof e=="function")return sw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_0)return 11;if(e===C0)return 14}return 2}function Lo(e,t){var r=e.alternate;return r===null?(r=hn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function lp(e,t,r,n,s,a){var c=2;if(n=e,typeof e=="function")sw(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Xl:return ja(r.children,s,a,t);case k0:c=8,s|=8;break;case Xx:return e=hn(12,r,t,s|2),e.elementType=Xx,e.lanes=a,e;case Yx:return e=hn(13,r,t,s),e.elementType=Yx,e.lanes=a,e;case qx:return e=hn(19,r,t,s),e.elementType=qx,e.lanes=a,e;case qk:return ag(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xk:c=10;break e;case Yk:c=9;break e;case _0:c=11;break e;case C0:c=14;break e;case wo:c=16,n=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=hn(c,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function ja(e,t,r,n){return e=hn(7,e,n,t),e.lanes=r,e}function ag(e,t,r,n){return e=hn(22,e,n,t),e.elementType=qk,e.lanes=r,e.stateNode={isHidden:!1},e}function gx(e,t,r){return e=hn(6,e,null,t),e.lanes=r,e}function mx(e,t,r){return t=hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kv(0),this.expirationTimes=Kv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kv(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ow(e,t,r,n,s,a,c,p,v){return e=new FO(e,t,r,p,v),t===1?(t=1,a===!0&&(t|=8)):t=0,a=hn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},U0(a),e}function WO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zC(e){if(!e)return Bo;e=e._reactInternals;e:{if(Ya(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var r=e.type;if(ji(r))return z_(e,r,t)}return t}function FC(e,t,r,n,s,a,c,p,v){return e=ow(r,n,!0,e,s,a,c,p,v),e.context=zC(null),r=e.current,n=gi(),s=Ro(r),a=Ts(n,s),a.callback=t??null,No(r,a,s),e.current.lanes=s,Nh(e,s,n),Pi(e,n),e}function lg(e,t,r,n){var s=t.current,a=gi(),c=Ro(s);return r=zC(r),t.context===null?t.context=r:t.pendingContext=r,t=Ts(a,c),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=No(s,t,c),e!==null&&(On(e,s,c,a),rp(e,s,c)),c}function Lp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function aw(e,t){hS(e,t),(e=e.alternate)&&hS(e,t)}function UO(){return null}var WC=typeof reportError=="function"?reportError:function(e){console.error(e)};function lw(e){this._internalRoot=e}cg.prototype.render=lw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));lg(e,t,null,null)};cg.prototype.unmount=lw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;La(function(){lg(null,e,null,null)}),t[Ps]=null}};function cg(e){this._internalRoot=e}cg.prototype.unstable_scheduleHydration=function(e){if(e){var t=y_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<So.length&&t!==0&&t<So[r].priority;r++);So.splice(r,0,e),r===0&&b_(e)}};function cw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uS(){}function HO(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var w=Lp(c);a.call(w)}}var c=FC(t,n,e,0,null,!1,!1,"",uS);return e._reactRootContainer=c,e[Ps]=c.current,mh(e.nodeType===8?e.parentNode:e),La(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var p=n;n=function(){var w=Lp(v);p.call(w)}}var v=ow(e,0,!1,null,null,!1,!1,"",uS);return e._reactRootContainer=v,e[Ps]=v.current,mh(e.nodeType===8?e.parentNode:e),La(function(){lg(t,v,r,n)}),v}function hg(e,t,r,n,s){var a=r._reactRootContainer;if(a){var c=a;if(typeof s=="function"){var p=s;s=function(){var v=Lp(c);p.call(v)}}lg(t,c,e,s)}else c=HO(r,t,e,s,n);return Lp(c)}v_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vd(t.pendingLanes);r!==0&&(T0(t,r|1),Pi(t,xr()),!(Rt&6)&&(wc=xr()+500,Ho()))}break;case 13:La(function(){var n=Ns(e,1);if(n!==null){var s=gi();On(n,e,1,s)}}),aw(e,1)}};A0=function(e){if(e.tag===13){var t=Ns(e,134217728);if(t!==null){var r=gi();On(t,e,134217728,r)}aw(e,134217728)}};x_=function(e){if(e.tag===13){var t=Ro(e),r=Ns(e,t);if(r!==null){var n=gi();On(r,e,t,n)}aw(e,t)}};y_=function(){return Ft};w_=function(e,t){var r=Ft;try{return Ft=e,t()}finally{Ft=r}};sy=function(e,t,r){switch(t){case"input":if(Qx(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=tg(n);if(!s)throw Error(He(90));Zk(n),Qx(n,s)}}}break;case"textarea":Jk(e,r);break;case"select":t=r.value,t!=null&&sc(e,!!r.multiple,t,!1)}};o_=rw;a_=La;var GO={usingClientEntryPoint:!1,Events:[Rh,Zl,tg,n_,s_,rw]},Id={findFiberByHostInstance:_a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VO={bundleType:Id.bundleType,version:Id.version,rendererPackageName:Id.rendererPackageName,rendererConfig:Id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=d_(e),e===null?null:e.stateNode},findFiberByHostInstance:Id.findFiberByHostInstance||UO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{Zp=Bf.inject(VO),is=Bf}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GO;Gi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cw(t))throw Error(He(200));return WO(e,t,null,r)};Gi.createRoot=function(e,t){if(!cw(e))throw Error(He(299));var r=!1,n="",s=WC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ow(e,1,!1,null,null,r,!1,n,s),e[Ps]=t.current,mh(e.nodeType===8?e.parentNode:e),new lw(t)};Gi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=d_(t),e=e===null?null:e.stateNode,e};Gi.flushSync=function(e){return La(e)};Gi.hydrate=function(e,t,r){if(!dg(t))throw Error(He(200));return hg(null,e,t,!0,r)};Gi.hydrateRoot=function(e,t,r){if(!cw(e))throw Error(He(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",c=WC;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),t=FC(t,null,e,1,r??null,s,!1,a,c),e[Ps]=t.current,mh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new cg(t)};Gi.render=function(e,t,r){if(!dg(t))throw Error(He(200));return hg(null,e,t,!1,r)};Gi.unmountComponentAtNode=function(e){if(!dg(e))throw Error(He(40));return e._reactRootContainer?(La(function(){hg(null,null,e,!1,function(){e._reactRootContainer=null,e[Ps]=null})}),!0):!1};Gi.unstable_batchedUpdates=rw;Gi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!dg(r))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return hg(e,t,r,!1,n)};Gi.version="18.3.1-next-f1338f8080-20240426";function UC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UC)}catch(e){console.error(e)}}UC(),Uk.exports=Gi;var Pc=Uk.exports;const XO=jh(Pc);var HC,fS=Pc;HC=Gx.createRoot=fS.createRoot,Gx.hydrateRoot=fS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(this,arguments)}var Mo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mo||(Mo={}));const pS="popstate";function YO(e){e===void 0&&(e={});function t(s,a){let{pathname:c="/",search:p="",hash:v=""}=qa(s.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),By("",{pathname:c,search:p,hash:v},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let c=s.document.querySelector("base"),p="";if(c&&c.getAttribute("href")){let v=s.location.href,w=v.indexOf("#");p=w===-1?v:v.slice(0,w)}return p+"#"+(typeof a=="string"?a:Ip(a))}function n(s,a){dw(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return KO(t,r,n,e)}function hr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qO(){return Math.random().toString(36).substr(2,8)}function gS(e,t){return{usr:e.state,key:e.key,idx:t}}function By(e,t,r,n){return r===void 0&&(r=null),Ch({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qa(t):t,{state:r,key:t&&t.key||n||qO()})}function Ip(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function KO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,c=s.history,p=Mo.Pop,v=null,w=k();w==null&&(w=0,c.replaceState(Ch({},c.state,{idx:w}),""));function k(){return(c.state||{idx:null}).idx}function E(){p=Mo.Pop;let L=k(),I=L==null?null:L-w;w=L,v&&v({action:p,location:D.location,delta:I})}function P(L,I){p=Mo.Push;let j=By(D.location,L,I);r&&r(j,L),w=k()+1;let O=gS(j,w),q=D.createHref(j);try{c.pushState(O,"",q)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;s.location.assign(q)}a&&v&&v({action:p,location:D.location,delta:1})}function z(L,I){p=Mo.Replace;let j=By(D.location,L,I);r&&r(j,L),w=k();let O=gS(j,w),q=D.createHref(j);c.replaceState(O,"",q),a&&v&&v({action:p,location:D.location,delta:0})}function U(L){let I=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof L=="string"?L:Ip(L);return j=j.replace(/ $/,"%20"),hr(I,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,I)}let D={get action(){return p},get location(){return e(s,c)},listen(L){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(pS,E),v=L,()=>{s.removeEventListener(pS,E),v=null}},createHref(L){return t(s,L)},createURL:U,encodeLocation(L){let I=U(L);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:P,replace:z,go(L){return c.go(L)}};return D}var mS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mS||(mS={}));function ZO(e,t,r){return r===void 0&&(r="/"),QO(e,t,r)}function QO(e,t,r,n){let s=typeof t=="string"?qa(t):t,a=bc(s.pathname||"/",r);if(a==null)return null;let c=GC(e);JO(c);let p=null;for(let v=0;p==null&&v<c.length;++v){let w=dR(a);p=lR(c[v],w)}return p}function GC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,c,p)=>{let v={relativePath:p===void 0?a.path||"":p,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};v.relativePath.startsWith("/")&&(hr(v.relativePath.startsWith(n),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(n.length));let w=Io([n,v.relativePath]),k=r.concat(v);a.children&&a.children.length>0&&(hr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),GC(a.children,t,k,w)),!(a.path==null&&!a.index)&&t.push({path:w,score:oR(w,a.index),routesMeta:k})};return e.forEach((a,c)=>{var p;if(a.path===""||!((p=a.path)!=null&&p.includes("?")))s(a,c);else for(let v of VC(a.path))s(a,c,v)}),t}function VC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let c=VC(n.join("/")),p=[];return p.push(...c.map(v=>v===""?a:[a,v].join("/"))),s&&p.push(...c),p.map(v=>e.startsWith("/")&&v===""?"/":v)}function JO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:aR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eR=/^:[\w-]+$/,tR=3,rR=2,iR=1,nR=10,sR=-2,vS=e=>e==="*";function oR(e,t){let r=e.split("/"),n=r.length;return r.some(vS)&&(n+=sR),t&&(n+=rR),r.filter(s=>!vS(s)).reduce((s,a)=>s+(eR.test(a)?tR:a===""?iR:nR),n)}function aR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function lR(e,t,r){let{routesMeta:n}=e,s={},a="/",c=[];for(let p=0;p<n.length;++p){let v=n[p],w=p===n.length-1,k=a==="/"?t:t.slice(a.length)||"/",E=$y({path:v.relativePath,caseSensitive:v.caseSensitive,end:w},k),P=v.route;if(!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:Io([a,E.pathname]),pathnameBase:pR(Io([a,E.pathnameBase])),route:P}),E.pathnameBase!=="/"&&(a=Io([a,E.pathnameBase]))}return c}function $y(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:n.reduce((w,k,E)=>{let{paramName:P,isOptional:z}=k;if(P==="*"){let D=p[E]||"";c=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const U=p[E];return z&&!U?w[P]=void 0:w[P]=(U||"").replace(/%2F/g,"/"),w},{}),pathname:a,pathnameBase:c,pattern:e}}function cR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),dw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,v)=>(n.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function dR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function hR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?qa(e):e;return{pathname:r?r.startsWith("/")?r:uR(r,t):t,search:gR(n),hash:mR(s)}}function uR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function vx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hw(e,t){let r=fR(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uw(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=qa(e):(s=Ch({},e),hr(!s.pathname||!s.pathname.includes("?"),vx("?","pathname","search",s)),hr(!s.pathname||!s.pathname.includes("#"),vx("#","pathname","hash",s)),hr(!s.search||!s.search.includes("#"),vx("#","search","hash",s)));let a=e===""||s.pathname==="",c=a?"/":s.pathname,p;if(c==null)p=r;else{let E=t.length-1;if(!n&&c.startsWith("..")){let P=c.split("/");for(;P[0]==="..";)P.shift(),E-=1;s.pathname=P.join("/")}p=E>=0?t[E]:"/"}let v=hR(s,p),w=c&&c!=="/"&&c.endsWith("/"),k=(a||c===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(w||k)&&(v.pathname+="/"),v}const Io=e=>e.join("/").replace(/\/\/+/g,"/"),pR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const XC=["post","put","patch","delete"];new Set(XC);const xR=["get",...XC];new Set(xR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(this,arguments)}const ug=M.createContext(null),YC=M.createContext(null),$s=M.createContext(null),fg=M.createContext(null),zs=M.createContext({outlet:null,matches:[],isDataRoute:!1}),qC=M.createContext(null);function yR(e,t){let{relative:r}=t===void 0?{}:t;Nc()||hr(!1);let{basename:n,navigator:s}=M.useContext($s),{hash:a,pathname:c,search:p}=pg(e,{relative:r}),v=c;return n!=="/"&&(v=c==="/"?n:Io([n,c])),s.createHref({pathname:v,search:p,hash:a})}function Nc(){return M.useContext(fg)!=null}function Ka(){return Nc()||hr(!1),M.useContext(fg).location}function KC(e){M.useContext($s).static||M.useLayoutEffect(e)}function fw(){let{isDataRoute:e}=M.useContext(zs);return e?NR():wR()}function wR(){Nc()||hr(!1);let e=M.useContext(ug),{basename:t,future:r,navigator:n}=M.useContext($s),{matches:s}=M.useContext(zs),{pathname:a}=Ka(),c=JSON.stringify(hw(s,r.v7_relativeSplatPath)),p=M.useRef(!1);return KC(()=>{p.current=!0}),M.useCallback(function(w,k){if(k===void 0&&(k={}),!p.current)return;if(typeof w=="number"){n.go(w);return}let E=uw(w,JSON.parse(c),a,k.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Io([t,E.pathname])),(k.replace?n.replace:n.push)(E,k.state,k)},[t,n,c,a,e])}function ZC(){let{matches:e}=M.useContext(zs),t=e[e.length-1];return t?t.params:{}}function pg(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=M.useContext($s),{matches:s}=M.useContext(zs),{pathname:a}=Ka(),c=JSON.stringify(hw(s,n.v7_relativeSplatPath));return M.useMemo(()=>uw(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function bR(e,t){return SR(e,t)}function SR(e,t,r,n){Nc()||hr(!1);let{navigator:s}=M.useContext($s),{matches:a}=M.useContext(zs),c=a[a.length-1],p=c?c.params:{};c&&c.pathname;let v=c?c.pathnameBase:"/";c&&c.route;let w=Ka(),k;if(t){var E;let L=typeof t=="string"?qa(t):t;v==="/"||(E=L.pathname)!=null&&E.startsWith(v)||hr(!1),k=L}else k=w;let P=k.pathname||"/",z=P;if(v!=="/"){let L=v.replace(/^\//,"").split("/");z="/"+P.replace(/^\//,"").split("/").slice(L.length).join("/")}let U=ZO(e,{pathname:z}),D=MR(U&&U.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:Io([v,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?v:Io([v,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,r,n);return t&&D?M.createElement(fg.Provider,{value:{location:Eh({pathname:"/",search:"",hash:"",state:null,key:"default"},k),navigationType:Mo.Pop}},D):D}function kR(){let e=PR(),t=vR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:s},r):null,null)}const _R=M.createElement(kR,null);class CR extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?M.createElement(zs.Provider,{value:this.props.routeContext},M.createElement(qC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ER(e){let{routeContext:t,match:r,children:n}=e,s=M.useContext(ug);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(zs.Provider,{value:t},n)}function MR(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,p=(s=r)==null?void 0:s.errors;if(p!=null){let k=c.findIndex(E=>E.route.id&&(p==null?void 0:p[E.route.id])!==void 0);k>=0||hr(!1),c=c.slice(0,Math.min(c.length,k+1))}let v=!1,w=-1;if(r&&n&&n.v7_partialHydration)for(let k=0;k<c.length;k++){let E=c[k];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(w=k),E.route.id){let{loaderData:P,errors:z}=r,U=E.route.loader&&P[E.route.id]===void 0&&(!z||z[E.route.id]===void 0);if(E.route.lazy||U){v=!0,w>=0?c=c.slice(0,w+1):c=[c[0]];break}}}return c.reduceRight((k,E,P)=>{let z,U=!1,D=null,L=null;r&&(z=p&&E.route.id?p[E.route.id]:void 0,D=E.route.errorElement||_R,v&&(w<0&&P===0?(OR("route-fallback"),U=!0,L=null):w===P&&(U=!0,L=E.route.hydrateFallbackElement||null)));let I=t.concat(c.slice(0,P+1)),j=()=>{let O;return z?O=D:U?O=L:E.route.Component?O=M.createElement(E.route.Component,null):E.route.element?O=E.route.element:O=k,M.createElement(ER,{match:E,routeContext:{outlet:k,matches:I,isDataRoute:r!=null},children:O})};return r&&(E.route.ErrorBoundary||E.route.errorElement||P===0)?M.createElement(CR,{location:r.location,revalidation:r.revalidation,component:D,error:z,children:j(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):j()},null)}var QC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(QC||{}),JC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(JC||{});function TR(e){let t=M.useContext(ug);return t||hr(!1),t}function AR(e){let t=M.useContext(YC);return t||hr(!1),t}function jR(e){let t=M.useContext(zs);return t||hr(!1),t}function eE(e){let t=jR(),r=t.matches[t.matches.length-1];return r.route.id||hr(!1),r.route.id}function PR(){var e;let t=M.useContext(qC),r=AR(),n=eE();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function NR(){let{router:e}=TR(QC.UseNavigateStable),t=eE(JC.UseNavigateStable),r=M.useRef(!1);return KC(()=>{r.current=!0}),M.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Eh({fromRouteId:t},a)))},[e,t])}const xS={};function OR(e,t,r){xS[e]||(xS[e]=!0)}function RR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tE(e){let{to:t,replace:r,state:n,relative:s}=e;Nc()||hr(!1);let{future:a,static:c}=M.useContext($s),{matches:p}=M.useContext(zs),{pathname:v}=Ka(),w=fw(),k=uw(t,hw(p,a.v7_relativeSplatPath),v,s==="path"),E=JSON.stringify(k);return M.useEffect(()=>w(JSON.parse(E),{replace:r,state:n,relative:s}),[w,E,s,r,n]),null}function Bi(e){hr(!1)}function LR(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Mo.Pop,navigator:a,static:c=!1,future:p}=e;Nc()&&hr(!1);let v=t.replace(/^\/*/,"/"),w=M.useMemo(()=>({basename:v,navigator:a,static:c,future:Eh({v7_relativeSplatPath:!1},p)}),[v,p,a,c]);typeof n=="string"&&(n=qa(n));let{pathname:k="/",search:E="",hash:P="",state:z=null,key:U="default"}=n,D=M.useMemo(()=>{let L=bc(k,v);return L==null?null:{location:{pathname:L,search:E,hash:P,state:z,key:U},navigationType:s}},[v,k,E,P,z,U,s]);return D==null?null:M.createElement($s.Provider,{value:w},M.createElement(fg.Provider,{children:r,value:D}))}function IR(e){let{children:t,location:r}=e;return bR(zy(t),r)}new Promise(()=>{});function zy(e,t){t===void 0&&(t=[]);let r=[];return M.Children.forEach(e,(n,s)=>{if(!M.isValidElement(n))return;let a=[...t,s];if(n.type===M.Fragment){r.push.apply(r,zy(n.props.children,a));return}n.type!==Bi&&hr(!1),!n.props.index||!n.props.children||hr(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=zy(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(this,arguments)}function rE(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function DR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BR(e,t){return e.button===0&&(!t||t==="_self")&&!DR(e)}function Fy(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function $R(e,t){let r=Fy(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const zR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],WR="6";try{window.__reactRouterVersion=WR}catch{}const UR=M.createContext({isTransitioning:!1}),HR="startTransition",yS=y0[HR];function GR(e){let{basename:t,children:r,future:n,window:s}=e,a=M.useRef();a.current==null&&(a.current=YO({window:s,v5Compat:!0}));let c=a.current,[p,v]=M.useState({action:c.action,location:c.location}),{v7_startTransition:w}=n||{},k=M.useCallback(E=>{w&&yS?yS(()=>v(E)):v(E)},[v,w]);return M.useLayoutEffect(()=>c.listen(k),[c,k]),M.useEffect(()=>RR(n),[n]),M.createElement(LR,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:c,future:n})}const VR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ar=M.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:c,state:p,target:v,to:w,preventScrollReset:k,viewTransition:E}=t,P=rE(t,zR),{basename:z}=M.useContext($s),U,D=!1;if(typeof w=="string"&&XR.test(w)&&(U=w,VR))try{let O=new URL(window.location.href),q=w.startsWith("//")?new URL(O.protocol+w):new URL(w),ae=bc(q.pathname,z);q.origin===O.origin&&ae!=null?w=ae+q.search+q.hash:D=!0}catch{}let L=yR(w,{relative:s}),I=qR(w,{replace:c,state:p,target:v,preventScrollReset:k,relative:s,viewTransition:E});function j(O){n&&n(O),O.defaultPrevented||I(O)}return M.createElement("a",Dp({},P,{href:U||L,onClick:D||a?n:j,ref:r,target:v}))}),po=M.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:c=!1,style:p,to:v,viewTransition:w,children:k}=t,E=rE(t,FR),P=pg(v,{relative:E.relative}),z=Ka(),U=M.useContext(YC),{navigator:D,basename:L}=M.useContext($s),I=U!=null&&KR(P)&&w===!0,j=D.encodeLocation?D.encodeLocation(P).pathname:P.pathname,O=z.pathname,q=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;s||(O=O.toLowerCase(),q=q?q.toLowerCase():null,j=j.toLowerCase()),q&&L&&(q=bc(q,L)||q);const ae=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let re=O===j||!c&&O.startsWith(j)&&O.charAt(ae)==="/",ce=q!=null&&(q===j||!c&&q.startsWith(j)&&q.charAt(j.length)==="/"),J={isActive:re,isPending:ce,isTransitioning:I},we=re?n:void 0,ke;typeof a=="function"?ke=a(J):ke=[a,re?"active":null,ce?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let Se=typeof p=="function"?p(J):p;return M.createElement(Ar,Dp({},E,{"aria-current":we,className:ke,ref:r,style:Se,to:v,viewTransition:w}),typeof k=="function"?k(J):k)});var Wy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wy||(Wy={}));var wS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wS||(wS={}));function YR(e){let t=M.useContext(ug);return t||hr(!1),t}function qR(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:p}=t===void 0?{}:t,v=fw(),w=Ka(),k=pg(e,{relative:c});return M.useCallback(E=>{if(BR(E,r)){E.preventDefault();let P=n!==void 0?n:Ip(w)===Ip(k);v(e,{replace:P,state:s,preventScrollReset:a,relative:c,viewTransition:p})}},[w,v,k,n,s,r,e,a,c,p])}function iE(e){let t=M.useRef(Fy(e)),r=M.useRef(!1),n=Ka(),s=M.useMemo(()=>$R(n.search,r.current?null:t.current),[n.search]),a=fw(),c=M.useCallback((p,v)=>{const w=Fy(typeof p=="function"?p(s):p);r.current=!0,a("?"+w,v)},[a,s]);return[s,c]}function KR(e,t){t===void 0&&(t={});let r=M.useContext(UR);r==null&&hr(!1);let{basename:n}=YR(Wy.useViewTransitionState),s=pg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=bc(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=bc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return $y(s.pathname,c)!=null||$y(s.pathname,a)!=null}function fn(e,t){const r=M.useRef(null),n="OFC";M.useEffect(()=>{r.current===null&&(r.current=document.title);const s=e==null?void 0:e.trim();return document.title=s?`${n} - ${s}`:n,()=>{if(r.current!==null){const a=s?`${n} - ${s}`:n;document.title===a&&(document.title=r.current)}}},[e,t==null?void 0:t.preserveOnUnmount])}function nE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=nE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function sE(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=nE(e))&&(n&&(n+=" "),n+=t);return n}const pw="-",ZR=e=>{const t=JR(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const p=c.split(pw);return p[0]===""&&p.length!==1&&p.shift(),oE(p,t)||QR(c)},getConflictingClassGroupIds:(c,p)=>{const v=r[c]||[];return p&&n[c]?[...v,...n[c]]:v}}},oE=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?oE(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(pw);return(c=t.validators.find(({validator:p})=>p(a)))==null?void 0:c.classGroupId},bS=/^\[(.+)\]$/,QR=e=>{if(bS.test(e)){const t=bS.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},JR=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return tL(Object.entries(e.classGroups),r).forEach(([a,c])=>{Uy(c,n,a,t)}),n},Uy=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:SS(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(eL(s)){Uy(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,c])=>{Uy(c,SS(t,a),r,n)})})},SS=(e,t)=>{let r=e;return t.split(pw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},eL=e=>e.isThemeGetter,tL=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,p])=>[t+c,p])):a);return[r,s]}):e,rL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,c)=>{r.set(a,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let c=r.get(a);if(c!==void 0)return c;if((c=n.get(a))!==void 0)return s(a,c),c},set(a,c){r.has(a)?r.set(a,c):s(a,c)}}},aE="!",iL=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,c=p=>{const v=[];let w=0,k=0,E;for(let L=0;L<p.length;L++){let I=p[L];if(w===0){if(I===s&&(n||p.slice(L,L+a)===t)){v.push(p.slice(k,L)),k=L+a;continue}if(I==="/"){E=L;continue}}I==="["?w++:I==="]"&&w--}const P=v.length===0?p:p.substring(k),z=P.startsWith(aE),U=z?P.substring(1):P,D=E&&E>k?E-k:void 0;return{modifiers:v,hasImportantModifier:z,baseClassName:U,maybePostfixModifierPosition:D}};return r?p=>r({className:p,parseClassName:c}):c},nL=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},sL=e=>({cache:rL(e.cacheSize),parseClassName:iL(e),...ZR(e)}),oL=/\s+/,aL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],c=e.trim().split(oL);let p="";for(let v=c.length-1;v>=0;v-=1){const w=c[v],{modifiers:k,hasImportantModifier:E,baseClassName:P,maybePostfixModifierPosition:z}=r(w);let U=!!z,D=n(U?P.substring(0,z):P);if(!D){if(!U){p=w+(p.length>0?" "+p:p);continue}if(D=n(P),!D){p=w+(p.length>0?" "+p:p);continue}U=!1}const L=nL(k).join(":"),I=E?L+aE:L,j=I+D;if(a.includes(j))continue;a.push(j);const O=s(D,U);for(let q=0;q<O.length;++q){const ae=O[q];a.push(I+ae)}p=w+(p.length>0?" "+p:p)}return p};function lL(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=lE(t))&&(n&&(n+=" "),n+=r);return n}const lE=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=lE(e[n]))&&(r&&(r+=" "),r+=t);return r};function cL(e,...t){let r,n,s,a=c;function c(v){const w=t.reduce((k,E)=>E(k),e());return r=sL(w),n=r.cache.get,s=r.cache.set,a=p,p(v)}function p(v){const w=n(v);if(w)return w;const k=aL(v,r);return s(v,k),k}return function(){return a(lL.apply(null,arguments))}}const Qt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},cE=/^\[(?:([a-z-]+):)?(.+)\]$/i,dL=/^\d+\/\d+$/,hL=new Set(["px","full","screen"]),uL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bs=e=>hc(e)||hL.has(e)||dL.test(e),go=e=>Oc(e,"length",_L),hc=e=>!!e&&!Number.isNaN(Number(e)),xx=e=>Oc(e,"number",hc),Dd=e=>!!e&&Number.isInteger(Number(e)),vL=e=>e.endsWith("%")&&hc(e.slice(0,-1)),Et=e=>cE.test(e),mo=e=>uL.test(e),xL=new Set(["length","size","percentage"]),yL=e=>Oc(e,xL,dE),wL=e=>Oc(e,"position",dE),bL=new Set(["image","url"]),SL=e=>Oc(e,bL,EL),kL=e=>Oc(e,"",CL),Bd=()=>!0,Oc=(e,t,r)=>{const n=cE.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},_L=e=>fL.test(e)&&!pL.test(e),dE=()=>!1,CL=e=>gL.test(e),EL=e=>mL.test(e),ML=()=>{const e=Qt("colors"),t=Qt("spacing"),r=Qt("blur"),n=Qt("brightness"),s=Qt("borderColor"),a=Qt("borderRadius"),c=Qt("borderSpacing"),p=Qt("borderWidth"),v=Qt("contrast"),w=Qt("grayscale"),k=Qt("hueRotate"),E=Qt("invert"),P=Qt("gap"),z=Qt("gradientColorStops"),U=Qt("gradientColorStopPositions"),D=Qt("inset"),L=Qt("margin"),I=Qt("opacity"),j=Qt("padding"),O=Qt("saturate"),q=Qt("scale"),ae=Qt("sepia"),re=Qt("skew"),ce=Qt("space"),J=Qt("translate"),we=()=>["auto","contain","none"],ke=()=>["auto","hidden","clip","visible","scroll"],Se=()=>["auto",Et,t],me=()=>[Et,t],Te=()=>["",bs,go],We=()=>["auto",hc,Et],Je=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>["start","end","center","between","around","evenly","stretch"],Me=()=>["","0",Et],ze=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Be=()=>[hc,Et];return{cacheSize:500,separator:":",theme:{colors:[Bd],spacing:[bs,go],blur:["none","",mo,Et],brightness:Be(),borderColor:[e],borderRadius:["none","","full",mo,Et],borderSpacing:me(),borderWidth:Te(),contrast:Be(),grayscale:Me(),hueRotate:Be(),invert:Me(),gap:me(),gradientColorStops:[e],gradientColorStopPositions:[vL,go],inset:Se(),margin:Se(),opacity:Be(),padding:me(),saturate:Be(),scale:Be(),sepia:Me(),skew:Be(),space:me(),translate:me()},classGroups:{aspect:[{aspect:["auto","square","video",Et]}],container:["container"],columns:[{columns:[mo]}],"break-after":[{"break-after":ze()}],"break-before":[{"break-before":ze()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Je(),Et]}],overflow:[{overflow:ke()}],"overflow-x":[{"overflow-x":ke()}],"overflow-y":[{"overflow-y":ke()}],overscroll:[{overscroll:we()}],"overscroll-x":[{"overscroll-x":we()}],"overscroll-y":[{"overscroll-y":we()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[D]}],"inset-x":[{"inset-x":[D]}],"inset-y":[{"inset-y":[D]}],start:[{start:[D]}],end:[{end:[D]}],top:[{top:[D]}],right:[{right:[D]}],bottom:[{bottom:[D]}],left:[{left:[D]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dd,Et]}],basis:[{basis:Se()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Et]}],grow:[{grow:Me()}],shrink:[{shrink:Me()}],order:[{order:["first","last","none",Dd,Et]}],"grid-cols":[{"grid-cols":[Bd]}],"col-start-end":[{col:["auto",{span:["full",Dd,Et]},Et]}],"col-start":[{"col-start":We()}],"col-end":[{"col-end":We()}],"grid-rows":[{"grid-rows":[Bd]}],"row-start-end":[{row:["auto",{span:[Dd,Et]},Et]}],"row-start":[{"row-start":We()}],"row-end":[{"row-end":We()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Et]}],gap:[{gap:[P]}],"gap-x":[{"gap-x":[P]}],"gap-y":[{"gap-y":[P]}],"justify-content":[{justify:["normal",...pe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...pe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...pe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[L]}],mx:[{mx:[L]}],my:[{my:[L]}],ms:[{ms:[L]}],me:[{me:[L]}],mt:[{mt:[L]}],mr:[{mr:[L]}],mb:[{mb:[L]}],ml:[{ml:[L]}],"space-x":[{"space-x":[ce]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ce]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Et,t]}],"min-w":[{"min-w":[Et,t,"min","max","fit"]}],"max-w":[{"max-w":[Et,t,"none","full","min","max","fit","prose",{screen:[mo]},mo]}],h:[{h:[Et,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Et,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Et,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Et,t,"auto","min","max","fit"]}],"font-size":[{text:["base",mo,go]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xx]}],"font-family":[{font:[Bd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Et]}],"line-clamp":[{"line-clamp":["none",hc,xx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bs,Et]}],"list-image":[{"list-image":["none",Et]}],"list-style-type":[{list:["none","disc","decimal",Et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bs,go]}],"underline-offset":[{"underline-offset":["auto",bs,Et]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:me()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Je(),wL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[U]}],"gradient-via-pos":[{via:[U]}],"gradient-to-pos":[{to:[U]}],"gradient-from":[{from:[z]}],"gradient-via":[{via:[z]}],"gradient-to":[{to:[z]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[bs,Et]}],"outline-w":[{outline:[bs,go]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[bs,go]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",mo,kL]}],"shadow-color":[{shadow:[Bd]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...ve(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",mo,Et]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[k]}],invert:[{invert:[E]}],saturate:[{saturate:[O]}],sepia:[{sepia:[ae]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[k]}],"backdrop-invert":[{"backdrop-invert":[E]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Et]}],duration:[{duration:Be()}],ease:[{ease:["linear","in","out","in-out",Et]}],delay:[{delay:Be()}],animate:[{animate:["none","spin","ping","pulse","bounce",Et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Dd,Et]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Et]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Et]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":me()}],"scroll-mx":[{"scroll-mx":me()}],"scroll-my":[{"scroll-my":me()}],"scroll-ms":[{"scroll-ms":me()}],"scroll-me":[{"scroll-me":me()}],"scroll-mt":[{"scroll-mt":me()}],"scroll-mr":[{"scroll-mr":me()}],"scroll-mb":[{"scroll-mb":me()}],"scroll-ml":[{"scroll-ml":me()}],"scroll-p":[{"scroll-p":me()}],"scroll-px":[{"scroll-px":me()}],"scroll-py":[{"scroll-py":me()}],"scroll-ps":[{"scroll-ps":me()}],"scroll-pe":[{"scroll-pe":me()}],"scroll-pt":[{"scroll-pt":me()}],"scroll-pr":[{"scroll-pr":me()}],"scroll-pb":[{"scroll-pb":me()}],"scroll-pl":[{"scroll-pl":me()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Et]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[bs,go,xx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TL=cL(ML);function gt(...e){return TL(sE(e))}const Kt=M.forwardRef(({className:e,...t},r)=>f.jsx("div",{ref:r,className:gt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Kt.displayName="Card";const yr=({className:e,...t})=>f.jsx("div",{className:gt("flex flex-col space-y-1.5 p-6",e),...t}),wr=({className:e,...t})=>f.jsx("h3",{className:gt("text-2xl font-semibold leading-none tracking-tight",e),...t}),Zr=({className:e,...t})=>f.jsx("p",{className:gt("text-sm text-muted-foreground",e),...t}),er=({className:e,...t})=>f.jsx("div",{className:gt("p-6 pt-0",e),...t}),Rc=e=>{let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return Math.abs(t)},hE=(e,t)=>Math.floor(e/Math.pow(10,t)%10),Hy=(e,t)=>!(hE(e,t)%2),si=(e,t,r)=>{const n=e%t;return r&&hE(e,r)%2===0?-n:n},Ia=(e,t,r)=>t[e%r],AL=e=>{e.slice(0,1)==="#"&&(e=e.slice(1));const t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16);return(t*299+r*587+n*114)/1e3>=128?"#000000":"#FFFFFF"},jL=4,Xt=80;function PL(e,t){const r=Rc(e),n=t&&t.length;return Array.from({length:jL},(s,a)=>({color:Ia(r+a,t,n),translateX:si(r*(a+1),Xt/2-(a+17),1),translateY:si(r*(a+1),Xt/2-(a+17),2),rotate:si(r*(a+1),360),isSquare:Hy(r,2)}))}const kS=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=PL(e,t),p=M.useId();return f.jsxs("svg",{viewBox:"0 0 "+Xt+" "+Xt,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&f.jsx("title",{children:e}),f.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:Xt,height:Xt,children:f.jsx("rect",{width:Xt,height:Xt,rx:n?void 0:Xt*2,fill:"#FFFFFF"})}),f.jsxs("g",{mask:`url(#${p})`,children:[f.jsx("rect",{width:Xt,height:Xt,fill:c[0].color}),f.jsx("rect",{x:(Xt-60)/2,y:(Xt-20)/2,width:Xt,height:c[1].isSquare?Xt:Xt/8,fill:c[1].color,transform:"translate("+c[1].translateX+" "+c[1].translateY+") rotate("+c[1].rotate+" "+Xt/2+" "+Xt/2+")"}),f.jsx("circle",{cx:Xt/2,cy:Xt/2,fill:c[2].color,r:Xt/5,transform:"translate("+c[2].translateX+" "+c[2].translateY+")"}),f.jsx("line",{x1:0,y1:Xt/2,x2:Xt,y2:Xt/2,strokeWidth:2,stroke:c[3].color,transform:"translate("+c[3].translateX+" "+c[3].translateY+") rotate("+c[3].rotate+" "+Xt/2+" "+Xt/2+")"})]})]})},pa=90,NL=5;function OL(e,t){const r=Rc(e),n=t&&t.length,s=Array.from({length:NL},(c,p)=>Ia(r+p,t,n)),a=[];return a[0]=s[0],a[1]=s[1],a[2]=s[1],a[3]=s[2],a[4]=s[2],a[5]=s[3],a[6]=s[3],a[7]=s[0],a[8]=s[4],a}const RL=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=OL(e,t),p=Jn.useId();return f.jsxs("svg",{viewBox:"0 0 "+pa+" "+pa,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&f.jsx("title",{children:e}),f.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:pa,height:pa,children:f.jsx("rect",{width:pa,height:pa,rx:n?void 0:pa*2,fill:"#FFFFFF"})}),f.jsxs("g",{mask:`url(#${p})`,children:[f.jsx("path",{d:"M0 0h90v45H0z",fill:c[0]}),f.jsx("path",{d:"M0 45h90v45H0z",fill:c[1]}),f.jsx("path",{d:"M83 45a38 38 0 00-76 0h76z",fill:c[2]}),f.jsx("path",{d:"M83 45a38 38 0 01-76 0h76z",fill:c[3]}),f.jsx("path",{d:"M77 45a32 32 0 10-64 0h64z",fill:c[4]}),f.jsx("path",{d:"M77 45a32 32 0 11-64 0h64z",fill:c[5]}),f.jsx("path",{d:"M71 45a26 26 0 00-52 0h52z",fill:c[6]}),f.jsx("path",{d:"M71 45a26 26 0 01-52 0h52z",fill:c[7]}),f.jsx("circle",{cx:45,cy:45,r:23,fill:c[8]})]})]})},LL=64,ga=80;function IL(e,t){const r=Rc(e),n=t&&t.length;return Array.from({length:LL},(s,a)=>Ia(r%(a+1),t,n))}const DL=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=IL(e,t),p=M.useId();return f.jsxs("svg",{viewBox:"0 0 "+ga+" "+ga,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&f.jsx("title",{children:e}),f.jsx("mask",{id:p,"mask-type":"alpha",maskUnits:"userSpaceOnUse",x:0,y:0,width:ga,height:ga,children:f.jsx("rect",{width:ga,height:ga,rx:n?void 0:ga*2,fill:"#FFFFFF"})}),f.jsxs("g",{mask:`url(#${p})`,children:[f.jsx("rect",{width:10,height:10,fill:c[0]}),f.jsx("rect",{x:20,width:10,height:10,fill:c[1]}),f.jsx("rect",{x:40,width:10,height:10,fill:c[2]}),f.jsx("rect",{x:60,width:10,height:10,fill:c[3]}),f.jsx("rect",{x:10,width:10,height:10,fill:c[4]}),f.jsx("rect",{x:30,width:10,height:10,fill:c[5]}),f.jsx("rect",{x:50,width:10,height:10,fill:c[6]}),f.jsx("rect",{x:70,width:10,height:10,fill:c[7]}),f.jsx("rect",{y:10,width:10,height:10,fill:c[8]}),f.jsx("rect",{y:20,width:10,height:10,fill:c[9]}),f.jsx("rect",{y:30,width:10,height:10,fill:c[10]}),f.jsx("rect",{y:40,width:10,height:10,fill:c[11]}),f.jsx("rect",{y:50,width:10,height:10,fill:c[12]}),f.jsx("rect",{y:60,width:10,height:10,fill:c[13]}),f.jsx("rect",{y:70,width:10,height:10,fill:c[14]}),f.jsx("rect",{x:20,y:10,width:10,height:10,fill:c[15]}),f.jsx("rect",{x:20,y:20,width:10,height:10,fill:c[16]}),f.jsx("rect",{x:20,y:30,width:10,height:10,fill:c[17]}),f.jsx("rect",{x:20,y:40,width:10,height:10,fill:c[18]}),f.jsx("rect",{x:20,y:50,width:10,height:10,fill:c[19]}),f.jsx("rect",{x:20,y:60,width:10,height:10,fill:c[20]}),f.jsx("rect",{x:20,y:70,width:10,height:10,fill:c[21]}),f.jsx("rect",{x:40,y:10,width:10,height:10,fill:c[22]}),f.jsx("rect",{x:40,y:20,width:10,height:10,fill:c[23]}),f.jsx("rect",{x:40,y:30,width:10,height:10,fill:c[24]}),f.jsx("rect",{x:40,y:40,width:10,height:10,fill:c[25]}),f.jsx("rect",{x:40,y:50,width:10,height:10,fill:c[26]}),f.jsx("rect",{x:40,y:60,width:10,height:10,fill:c[27]}),f.jsx("rect",{x:40,y:70,width:10,height:10,fill:c[28]}),f.jsx("rect",{x:60,y:10,width:10,height:10,fill:c[29]}),f.jsx("rect",{x:60,y:20,width:10,height:10,fill:c[30]}),f.jsx("rect",{x:60,y:30,width:10,height:10,fill:c[31]}),f.jsx("rect",{x:60,y:40,width:10,height:10,fill:c[32]}),f.jsx("rect",{x:60,y:50,width:10,height:10,fill:c[33]}),f.jsx("rect",{x:60,y:60,width:10,height:10,fill:c[34]}),f.jsx("rect",{x:60,y:70,width:10,height:10,fill:c[35]}),f.jsx("rect",{x:10,y:10,width:10,height:10,fill:c[36]}),f.jsx("rect",{x:10,y:20,width:10,height:10,fill:c[37]}),f.jsx("rect",{x:10,y:30,width:10,height:10,fill:c[38]}),f.jsx("rect",{x:10,y:40,width:10,height:10,fill:c[39]}),f.jsx("rect",{x:10,y:50,width:10,height:10,fill:c[40]}),f.jsx("rect",{x:10,y:60,width:10,height:10,fill:c[41]}),f.jsx("rect",{x:10,y:70,width:10,height:10,fill:c[42]}),f.jsx("rect",{x:30,y:10,width:10,height:10,fill:c[43]}),f.jsx("rect",{x:30,y:20,width:10,height:10,fill:c[44]}),f.jsx("rect",{x:30,y:30,width:10,height:10,fill:c[45]}),f.jsx("rect",{x:30,y:40,width:10,height:10,fill:c[46]}),f.jsx("rect",{x:30,y:50,width:10,height:10,fill:c[47]}),f.jsx("rect",{x:30,y:60,width:10,height:10,fill:c[48]}),f.jsx("rect",{x:30,y:70,width:10,height:10,fill:c[49]}),f.jsx("rect",{x:50,y:10,width:10,height:10,fill:c[50]}),f.jsx("rect",{x:50,y:20,width:10,height:10,fill:c[51]}),f.jsx("rect",{x:50,y:30,width:10,height:10,fill:c[52]}),f.jsx("rect",{x:50,y:40,width:10,height:10,fill:c[53]}),f.jsx("rect",{x:50,y:50,width:10,height:10,fill:c[54]}),f.jsx("rect",{x:50,y:60,width:10,height:10,fill:c[55]}),f.jsx("rect",{x:50,y:70,width:10,height:10,fill:c[56]}),f.jsx("rect",{x:70,y:10,width:10,height:10,fill:c[57]}),f.jsx("rect",{x:70,y:20,width:10,height:10,fill:c[58]}),f.jsx("rect",{x:70,y:30,width:10,height:10,fill:c[59]}),f.jsx("rect",{x:70,y:40,width:10,height:10,fill:c[60]}),f.jsx("rect",{x:70,y:50,width:10,height:10,fill:c[61]}),f.jsx("rect",{x:70,y:60,width:10,height:10,fill:c[62]}),f.jsx("rect",{x:70,y:70,width:10,height:10,fill:c[63]})]})]})},pr=36;function BL(e,t){const r=Rc(e),n=t&&t.length,s=Ia(r,t,n),a=si(r,10,1),c=a<5?a+pr/9:a,p=si(r,10,2),v=p<5?p+pr/9:p;return{wrapperColor:s,faceColor:AL(s),backgroundColor:Ia(r+13,t,n),wrapperTranslateX:c,wrapperTranslateY:v,wrapperRotate:si(r,360),wrapperScale:1+si(r,pr/12)/10,isMouthOpen:Hy(r,2),isCircle:Hy(r,1),eyeSpread:si(r,5),mouthSpread:si(r,3),faceRotate:si(r,10,3),faceTranslateX:c>pr/6?c/2:si(r,8,1),faceTranslateY:v>pr/6?v/2:si(r,7,2)}}const _S=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=BL(e,t),p=M.useId();return f.jsxs("svg",{viewBox:"0 0 "+pr+" "+pr,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&f.jsx("title",{children:e}),f.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:pr,height:pr,children:f.jsx("rect",{width:pr,height:pr,rx:n?void 0:pr*2,fill:"#FFFFFF"})}),f.jsxs("g",{mask:`url(#${p})`,children:[f.jsx("rect",{width:pr,height:pr,fill:c.backgroundColor}),f.jsx("rect",{x:"0",y:"0",width:pr,height:pr,transform:"translate("+c.wrapperTranslateX+" "+c.wrapperTranslateY+") rotate("+c.wrapperRotate+" "+pr/2+" "+pr/2+") scale("+c.wrapperScale+")",fill:c.wrapperColor,rx:c.isCircle?pr:pr/6}),f.jsxs("g",{transform:"translate("+c.faceTranslateX+" "+c.faceTranslateY+") rotate("+c.faceRotate+" "+pr/2+" "+pr/2+")",children:[c.isMouthOpen?f.jsx("path",{d:"M15 "+(19+c.mouthSpread)+"c2 1 4 1 6 0",stroke:c.faceColor,fill:"none",strokeLinecap:"round"}):f.jsx("path",{d:"M13,"+(19+c.mouthSpread)+" a1,0.75 0 0,0 10,0",fill:c.faceColor}),f.jsx("rect",{x:14-c.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:c.faceColor}),f.jsx("rect",{x:20+c.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:c.faceColor})]})]})]})},$L=4,_i=80;function zL(e,t){const r=Rc(e),n=t&&t.length;return Array.from({length:$L},(s,a)=>Ia(r+a,t,n))}const FL=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=zL(e,t),p=e.replace(/\s/g,""),v=M.useId();return f.jsxs("svg",{viewBox:"0 0 "+_i+" "+_i,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&f.jsx("title",{children:e}),f.jsx("mask",{id:v,maskUnits:"userSpaceOnUse",x:0,y:0,width:_i,height:_i,children:f.jsx("rect",{width:_i,height:_i,rx:n?void 0:_i*2,fill:"#FFFFFF"})}),f.jsxs("g",{mask:`url(#${v})`,children:[f.jsx("path",{fill:"url(#gradient_paint0_linear_"+p+")",d:"M0 0h80v40H0z"}),f.jsx("path",{fill:"url(#gradient_paint1_linear_"+p+")",d:"M0 40h80v40H0z"})]}),f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"gradient_paint0_linear_"+p,x1:_i/2,y1:0,x2:_i/2,y2:_i/2,gradientUnits:"userSpaceOnUse",children:[f.jsx("stop",{stopColor:c[0]}),f.jsx("stop",{offset:1,stopColor:c[1]})]}),f.jsxs("linearGradient",{id:"gradient_paint1_linear_"+p,x1:_i/2,y1:_i/2,x2:_i/2,y2:_i,gradientUnits:"userSpaceOnUse",children:[f.jsx("stop",{stopColor:c[2]}),f.jsx("stop",{offset:1,stopColor:c[3]})]})]})]})},WL=3,ni=80;function UL(e,t){const r=Rc(e),n=t&&t.length;return Array.from({length:WL},(s,a)=>({color:Ia(r+a,t,n),translateX:si(r*(a+1),ni/10,1),translateY:si(r*(a+1),ni/10,2),scale:1.2+si(r*(a+1),ni/20)/10,rotate:si(r*(a+1),360,1)}))}const uE=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=UL(e,t),p=M.useId();return f.jsxs("svg",{viewBox:"0 0 "+ni+" "+ni,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&f.jsx("title",{children:e}),f.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:ni,height:ni,children:f.jsx("rect",{width:ni,height:ni,rx:n?void 0:ni*2,fill:"#FFFFFF"})}),f.jsxs("g",{mask:`url(#${p})`,children:[f.jsx("rect",{width:ni,height:ni,fill:c[0].color}),f.jsx("path",{filter:`url(#filter_${p})`,d:"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z",fill:c[1].color,transform:"translate("+c[1].translateX+" "+c[1].translateY+") rotate("+c[1].rotate+" "+ni/2+" "+ni/2+") scale("+c[2].scale+")"}),f.jsx("path",{filter:`url(#filter_${p})`,style:{mixBlendMode:"overlay"},d:"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z",fill:c[2].color,transform:"translate("+c[2].translateX+" "+c[2].translateY+") rotate("+c[2].rotate+" "+ni/2+" "+ni/2+") scale("+c[2].scale+")"})]}),f.jsx("defs",{children:f.jsxs("filter",{id:`filter_${p}`,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[f.jsx("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),f.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),f.jsx("feGaussianBlur",{stdDeviation:7,result:"effect1_foregroundBlur"})]})})]})},HL={pixel:DL,bauhaus:kS,ring:RL,beam:_S,sunset:FL,marble:uE,geometric:_S,abstract:kS},GL=({variant:e="marble",colors:t=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"],name:r="Clara Barton",title:n=!1,size:s="40px",square:a=!1,...c})=>{const p=HL[e]||uE;return f.jsx(p,{colors:t,name:r,title:n,size:s,square:a,...c})},CS=new Map,fE=new Set;function VL(e,t=48,r="default"){if(!e)return"";const n=`${e}-${t}`,s=CS.get(n);if(s)return s;if(fE.has(e))return"";const c=`https://unavatar.io/twitter/${e.startsWith("@")?e.slice(1):e}?size=${t}&fallback=false&format=jpeg&quality=80`;return CS.set(n,c),c}function XL(e){if(e){const t=e.startsWith("@")?e.slice(1):e;fE.add(t),console.warn(`[Avatar] Failed to load Twitter avatar for: @${t}`)}}function Rs({name:e,twitter:t,size:r=40,className:n,variant:s="beam",colors:a=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"]}){const[c,p]=M.useState(!1),v=t&&!c,w=t?VL(t,r*2):null;return f.jsx("div",{className:gt("relative overflow-hidden rounded-full shrink-0",n),style:{width:r,height:r},children:v?f.jsx("img",{src:w,alt:e,className:"h-full w-full object-cover",onError:()=>p(!0)}):f.jsx(GL,{size:r,name:e,variant:s,colors:a})})}function ES(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Da(...e){return t=>{let r=!1;const n=e.map(s=>{const a=ES(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():ES(e[s],null)}}}}function sr(...e){return M.useCallback(Da(...e),e)}function Ba(e){const t=qL(e),r=M.forwardRef((n,s)=>{const{children:a,...c}=n,p=M.Children.toArray(a),v=p.find(ZL);if(v){const w=v.props.children,k=p.map(E=>E===v?M.Children.count(w)>1?M.Children.only(null):M.isValidElement(w)?w.props.children:null:E);return f.jsx(t,{...c,ref:s,children:M.isValidElement(w)?M.cloneElement(w,void 0,k):null})}return f.jsx(t,{...c,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var YL=Ba("Slot");function qL(e){const t=M.forwardRef((r,n)=>{const{children:s,...a}=r;if(M.isValidElement(s)){const c=JL(s),p=QL(a,s.props);return s.type!==M.Fragment&&(p.ref=n?Da(n,c):c),M.cloneElement(s,p)}return M.Children.count(s)>1?M.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KL=Symbol("radix.slottable");function ZL(e){return M.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KL}function QL(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...p)=>{const v=a(...p);return s(...p),v}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function JL(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const MS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,TS=sE,pE=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return TS(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,c=Object.keys(s).map(w=>{const k=r==null?void 0:r[w],E=a==null?void 0:a[w];if(k===null)return null;const P=MS(k)||MS(E);return s[w][P]}),p=r&&Object.entries(r).reduce((w,k)=>{let[E,P]=k;return P===void 0||(w[E]=P),w},{}),v=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((w,k)=>{let{class:E,className:P,...z}=k;return Object.entries(z).every(U=>{let[D,L]=U;return Array.isArray(L)?L.includes({...a,...p}[D]):{...a,...p}[D]===L})?[...w,E,P]:w},[]);return TS(e,c,v,r==null?void 0:r.class,r==null?void 0:r.className)},eI=pE("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background text-foreground hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_t=M.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const c=n?YL:"button";return f.jsx(c,{className:gt(eI({variant:t,size:r,className:e})),ref:a,...s})});_t.displayName="Button";function gw({currentPage:e,totalPages:t,onPageChange:r,itemsPerPage:n,totalItems:s}){const a=(e-1)*n+1,c=Math.min(e*n,s),p=()=>{const v=[];if(t<=7)for(let w=1;w<=t;w++)v.push(w);else{v.push(1),e>3&&v.push("...");const w=Math.max(2,e-1),k=Math.min(t-1,e+1);for(let E=w;E<=k;E++)v.push(E);e<t-2&&v.push("..."),v.push(t)}return v};return t<=1?null:f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-2",children:[f.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",a," to ",c," of ",s," results"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(_t,{variant:"outline",size:"sm",onClick:()=>r(e-1),disabled:e===1,children:"Previous"}),f.jsx("div",{className:"flex items-center gap-1",children:p().map((v,w)=>typeof v=="number"?f.jsx(_t,{variant:e===v?"default":"outline",size:"sm",onClick:()=>r(v),className:"w-10",children:v},w):f.jsx("span",{className:"px-2 text-muted-foreground",children:v},w))}),f.jsx(_t,{variant:"outline",size:"sm",onClick:()=>r(e+1),disabled:e===t,children:"Next"})]})]})}const tI="modulepreload",rI=function(e){return"/"+e},AS={},Ih=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(r.map(v=>{if(v=rI(v),v in AS)return;AS[v]=!0;const w=v.endsWith(".css"),k=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${k}`))return;const E=document.createElement("link");if(E.rel=w?"stylesheet":tI,w||(E.as="script"),E.crossOrigin="",E.href=v,p&&E.setAttribute("nonce",p),document.head.appendChild(E),w)return new Promise((P,z)=>{E.addEventListener("load",P),E.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${v}`)))})}))}function a(c){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=c,window.dispatchEvent(p),!p.defaultPrevented)throw c}return s.then(c=>{for(const p of c||[])p.status==="rejected"&&a(p.reason);return t().catch(a)})},iI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ih(async()=>{const{default:n}=await Promise.resolve().then(()=>Lc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class mw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class jS extends mw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class PS extends mw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class NS extends mw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gy||(Gy={}));var nI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(k){try{w(n.next(k))}catch(E){c(E)}}function v(k){try{w(n.throw(k))}catch(E){c(E)}}function w(k){k.done?a(k.value):s(k.value).then(p,v)}w((n=n.apply(e,t||[])).next())})};class sI{constructor(t,{headers:r={},customFetch:n,region:s=Gy.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=iI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return nI(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:c,signal:p}=r;let v={},{region:w}=r;w||(w=this.region);const k=new URL(`${this.url}/${t}`);w&&w!=="any"&&(v["x-region"]=w,k.searchParams.set("forceFunctionRegion",w));let E;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=c):typeof c=="string"?(v["Content-Type"]="text/plain",E=c):typeof FormData<"u"&&c instanceof FormData?E=c:(v["Content-Type"]="application/json",E=JSON.stringify(c)));const P=yield this.fetch(k.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),s),body:E,signal:p}).catch(L=>{throw L.name==="AbortError"?L:new jS(L)}),z=P.headers.get("x-relay-error");if(z&&z==="true")throw new PS(P);if(!P.ok)throw new NS(P);let U=((n=P.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),D;return U==="application/json"?D=yield P.json():U==="application/octet-stream"?D=yield P.blob():U==="text/event-stream"?D=P:U==="multipart/form-data"?D=yield P.formData():D=yield P.text(),{data:D,error:null,response:P}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new jS(s)}:{data:null,error:s,response:s instanceof NS||s instanceof PS?s.context:void 0}}})}}var Mi={},vw={},gg={},Dh={},mg={},vg={},oI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sc=oI();const aI=Sc.fetch,gE=Sc.fetch.bind(Sc),mE=Sc.Headers,lI=Sc.Request,cI=Sc.Response,Lc=Object.freeze(Object.defineProperty({__proto__:null,Headers:mE,Request:lI,Response:cI,default:gE,fetch:aI},Symbol.toStringTag,{value:"Module"})),dI=bP(Lc);var xg={};Object.defineProperty(xg,"__esModule",{value:!0});let hI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xg.default=hI;var vE=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vg,"__esModule",{value:!0});const uI=vE(dI),fI=vE(xg);let pI=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=uI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var c,p,v,w;let k=null,E=null,P=null,z=a.status,U=a.statusText;if(a.ok){if(this.method!=="HEAD"){const j=await a.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?E=j:E=JSON.parse(j))}const L=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),I=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");L&&I&&I.length>1&&(P=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(k={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,P=null,z=406,U="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const L=await a.text();try{k=JSON.parse(L),Array.isArray(k)&&a.status===404&&(E=[],k=null,z=200,U="OK")}catch{a.status===404&&L===""?(z=204,U="No Content"):k={message:L}}if(k&&this.isMaybeSingle&&(!((w=k==null?void 0:k.details)===null||w===void 0)&&w.includes("0 rows"))&&(k=null,z=200,U="OK"),k&&this.shouldThrowOnError)throw new fI.default(k)}return{error:k,data:E,count:P,status:z,statusText:U}});return this.shouldThrowOnError||(s=s.catch(a=>{var c,p,v;return{error:{message:`${(c=a==null?void 0:a.name)!==null&&c!==void 0?c:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=a==null?void 0:a.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};vg.default=pI;var gI=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mg,"__esModule",{value:!0});const mI=gI(vg);let vI=class extends mI.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const c=a?`${a}.order`:"order",p=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${p?`${p},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(c,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:c="text"}={}){var p;const v=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),w=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${w}"; options=${v};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};mg.default=vI;var xI=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dh,"__esModule",{value:!0});const yI=xI(mg);let wI=class extends yI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const c=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${c}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Dh.default=wI;var bI=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gg,"__esModule",{value:!0});const $d=bI(Dh);let SI=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const c=(t??"*").split("").map(p=>/\s/.test(p)&&!a?"":(p==='"'&&(a=!a),p)).join("");return this.url.searchParams.set("select",c),n&&this.headers.append("Prefer",`count=${n}`),new $d.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(c.length>0){const p=[...new Set(c)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new $d.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var c;const p="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const v=t.reduce((w,k)=>w.concat(Object.keys(k)),[]);if(v.length>0){const w=[...new Set(v)].map(k=>`"${k}"`);this.url.searchParams.set("columns",w.join(","))}}return new $d.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new $d.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new $d.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};gg.default=SI;var xE=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vw,"__esModule",{value:!0});const kI=xE(gg),_I=xE(Dh);let CI=class yE{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new kI.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new yE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var c;let p;const v=new URL(`${this.url}/rpc/${t}`);let w;n||s?(p=n?"HEAD":"GET",Object.entries(r).filter(([E,P])=>P!==void 0).map(([E,P])=>[E,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([E,P])=>{v.searchParams.append(E,P)})):(p="POST",w=r);const k=new Headers(this.headers);return a&&k.set("Prefer",`count=${a}`),new _I.default({method:p,url:v,headers:k,schema:this.schemaName,body:w,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};vw.default=CI;var Ic=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.PostgrestError=Mi.PostgrestBuilder=Mi.PostgrestTransformBuilder=Mi.PostgrestFilterBuilder=Mi.PostgrestQueryBuilder=Mi.PostgrestClient=void 0;const wE=Ic(vw);Mi.PostgrestClient=wE.default;const bE=Ic(gg);Mi.PostgrestQueryBuilder=bE.default;const SE=Ic(Dh);Mi.PostgrestFilterBuilder=SE.default;const kE=Ic(mg);Mi.PostgrestTransformBuilder=kE.default;const _E=Ic(vg);Mi.PostgrestBuilder=_E.default;const CE=Ic(xg);Mi.PostgrestError=CE.default;var EI=Mi.default={PostgrestClient:wE.default,PostgrestQueryBuilder:bE.default,PostgrestFilterBuilder:SE.default,PostgrestTransformBuilder:kE.default,PostgrestBuilder:_E.default,PostgrestError:CE.default};const{PostgrestClient:MI,PostgrestQueryBuilder:Y5,PostgrestFilterBuilder:q5,PostgrestTransformBuilder:K5,PostgrestBuilder:Z5,PostgrestError:Q5}=EI;class TI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const AI="2.15.5",jI=`realtime-js/${AI}`,PI="1.0.0",Vy=1e4,NI=1e3,OI=100;var sh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(sh||(sh={}));var Rr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Rr||(Rr={}));var jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jn||(jn={}));var Xy;(function(e){e.websocket="websocket"})(Xy||(Xy={}));var ka;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ka||(ka={}));class RI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let c=this.HEADER_LENGTH+2;const p=n.decode(t.slice(c,c+s));c=c+s;const v=n.decode(t.slice(c,c+a));c=c+a;const w=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:p,event:v,payload:w}}}class EE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const OS=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,c)=>(a[c]=LI(c,e,t,s),a),{})},LI=(e,t,r,n)=>{const s=t.find(p=>p.name===e),a=s==null?void 0:s.type,c=r[e];return a&&!n.includes(a)?ME(a,c):Yy(c)},ME=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $I(t,r)}switch(e){case Yt.bool:return II(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return DI(t);case Yt.json:case Yt.jsonb:return BI(t);case Yt.timestamp:return zI(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return Yy(t);default:return Yy(t)}},Yy=e=>e,II=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$I=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(p=>ME(t,p))}return e},zI=e=>typeof e=="string"?e.replace(" ","T"):e,TE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class yx{constructor(t,r,n={},s=Vy){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var RS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(RS||(RS={}));class oh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:c,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oh.syncState(this.state,s,a,c),this.pendingDiffs.forEach(v=>{this.state=oh.syncDiff(this.state,v,a,c)}),this.pendingDiffs=[],p()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:c,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=oh.syncDiff(this.state,s,a,c),p())}),this.onJoin((s,a,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:c})}),this.onLeave((s,a,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),c=this.transformState(r),p={},v={};return this.map(a,(w,k)=>{c[w]||(v[w]=k)}),this.map(c,(w,k)=>{const E=a[w];if(E){const P=k.map(L=>L.presence_ref),z=E.map(L=>L.presence_ref),U=k.filter(L=>z.indexOf(L.presence_ref)<0),D=E.filter(L=>P.indexOf(L.presence_ref)<0);U.length>0&&(p[w]=U),D.length>0&&(v[w]=D)}else p[w]=k}),this.syncDiff(a,{joins:p,leaves:v},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(p,v)=>{var w;const k=(w=t[p])!==null&&w!==void 0?w:[];if(t[p]=this.cloneDeep(v),k.length>0){const E=t[p].map(z=>z.presence_ref),P=k.filter(z=>E.indexOf(z.presence_ref)<0);t[p].unshift(...P)}n(p,k,v)}),this.map(c,(p,v)=>{let w=t[p];if(!w)return;const k=v.map(E=>E.presence_ref);w=w.filter(E=>k.indexOf(E.presence_ref)<0),t[p]=w,s(p,w,v),w.length===0&&delete t[p]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var LS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(LS||(LS={}));var ah;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ah||(ah={}));var ks;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ks||(ks={}));class xw{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yx(this,jn.join,this.params,this.timeout),this.rejoinTimer=new EE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new oh(this),this.broadcastEndpointURL=TE(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Rr.closed){const{config:{broadcast:c,presence:p,private:v}}=this.params,w=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(z=>z.filter))!==null&&s!==void 0?s:[],k=!!this.bindings[ah.PRESENCE]&&this.bindings[ah.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,E={},P={broadcast:c,presence:Object.assign(Object.assign({},p),{enabled:k}),postgres_changes:w,private:v};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(z=>t==null?void 0:t(ks.CHANNEL_ERROR,z)),this._onClose(()=>t==null?void 0:t(ks.CLOSED)),this.updateJoinPayload(Object.assign({config:P},E)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:z})=>{var U;if(this.socket.setAuth(),z===void 0){t==null||t(ks.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,L=(U=D==null?void 0:D.length)!==null&&U!==void 0?U:0,I=[];for(let j=0;j<L;j++){const O=D[j],{filter:{event:q,schema:ae,table:re,filter:ce}}=O,J=z&&z[j];if(J&&J.event===q&&J.schema===ae&&J.table===re&&J.filter===ce)I.push(Object.assign(Object.assign({},O),{id:J.id}));else{this.unsubscribe(),this.state=Rr.errored,t==null||t(ks.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t(ks.SUBSCRIBED);return}}).receive("error",z=>{this.state=Rr.errored,t==null||t(ks.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(z).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ks.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Rr.joined&&t===ah.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:c}=t,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=w.body)===null||s===void 0?void 0:s.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,p,v;const w=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((v=(p=(c=this.params)===null||c===void 0?void 0:c.config)===null||p===void 0?void 0:p.broadcast)===null||v===void 0)&&v.ack)&&a("ok"),w.receive("ok",()=>a("ok")),w.receive("error",()=>a("error")),w.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new yx(this,jn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yx(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>OI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const c=t.toLocaleLowerCase(),{close:p,error:v,leave:w,join:k}=jn;if(n&&[p,v,w,k].indexOf(c)>=0&&n!==this._joinRef())return;let P=this._onMessage(c,r,n);if(r&&!P)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(z=>{var U,D,L;return((U=z.filter)===null||U===void 0?void 0:U.event)==="*"||((L=(D=z.filter)===null||D===void 0?void 0:D.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===c}).map(z=>z.callback(P,n)):(a=this.bindings[c])===null||a===void 0||a.filter(z=>{var U,D,L,I,j,O;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in z){const q=z.id,ae=(U=z.filter)===null||U===void 0?void 0:U.event;return q&&((D=r.ids)===null||D===void 0?void 0:D.includes(q))&&(ae==="*"||(ae==null?void 0:ae.toLocaleLowerCase())===((L=r.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const q=(j=(I=z==null?void 0:z.filter)===null||I===void 0?void 0:I.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return q==="*"||q===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return z.type.toLocaleLowerCase()===c}).map(z=>{if(typeof P=="object"&&"ids"in P){const U=P.data,{schema:D,table:L,commit_timestamp:I,type:j,errors:O}=U;P=Object.assign(Object.assign({},{schema:D,table:L,commit_timestamp:I,eventType:j,new:{},old:{},errors:O}),this._getPayloadRecords(U))}z.callback(P,n)})}_isClosed(){return this.state===Rr.closed}_isJoined(){return this.state===Rr.joined}_isJoining(){return this.state===Rr.joining}_isLeaving(){return this.state===Rr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&xw.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jn.close,{},t)}_onError(t){this._on(jn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=OS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=OS(t.columns,t.old_record)),r}}const wx=()=>{},$f={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FI=[1e3,2e3,5e3,1e4],WI=1e4,UI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vy,this.transport=null,this.heartbeatIntervalMs=$f.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wx,this.ref=0,this.reconnectTimer=null,this.logger=wx,this.conn=null,this.sendBuffer=[],this.serializer=new RI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...c)=>Ih(async()=>{const{default:p}=await Promise.resolve().then(()=>Lc);return{default:p}},void 0).then(({default:p})=>p(...c)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...c)=>a(...c)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Xy.websocket}`,this.httpEndpoint=TE(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:PI}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sh.connecting:return ka.Connecting;case sh.open:return ka.Open;case sh.closing:return ka.Closing;default:return ka.Closed}}isConnected(){return this.connectionState()===ka.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new xw(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,c=()=>{this.encode(t,p=>{var v;(v=this.conn)===null||v===void 0||v.send(p)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(NI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$f.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(w){this.log("error","error in heartbeat callback",w)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:c}=r,p=c?`(${c})`:"",v=a.status||"";this.log("receive",`${v} ${n} ${s} ${p}`.trim(),a),this.channels.filter(w=>w._isMember(n)).forEach(w=>w._trigger(s,a,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(jn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([UI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:jI};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(jn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new EE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$f.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,c,p,v,w,k;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Vy,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:$f.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(p=t==null?void 0:t.heartbeatCallback)!==null&&p!==void 0?p:wx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=t==null?void 0:t.reconnectAfterMs)!==null&&v!==void 0?v:E=>FI[E-1]||WI,this.encode=(w=t==null?void 0:t.encode)!==null&&w!==void 0?w:(E,P)=>P(JSON.stringify(E)),this.decode=(k=t==null?void 0:t.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class yw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Er(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class GI extends yw{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qy extends yw{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var VI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(k){try{w(n.next(k))}catch(E){c(E)}}function v(k){try{w(n.throw(k))}catch(E){c(E)}}function w(k){k.done?a(k.value):s(k.value).then(p,v)}w((n=n.apply(e,t||[])).next())})};const AE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ih(async()=>{const{default:n}=await Promise.resolve().then(()=>Lc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},XI=()=>VI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ih(()=>Promise.resolve().then(()=>Lc),void 0)).Response:Response}),Ky=e=>{if(Array.isArray(e))return e.map(r=>Ky(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Ky(n)}),t},YI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Za=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(k){try{w(n.next(k))}catch(E){c(E)}}function v(k){try{w(n.throw(k))}catch(E){c(E)}}function w(k){k.done?a(k.value):s(k.value).then(p,v)}w((n=n.apply(e,t||[])).next())})};const bx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qI=(e,t,r)=>Za(void 0,void 0,void 0,function*(){const n=yield XI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,c=(s==null?void 0:s.statusCode)||a+"";t(new GI(bx(s),a,c))}).catch(s=>{t(new qy(bx(s),s))}):t(new qy(bx(e),e))}),KI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(YI(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Bh(e,t,r,n,s,a){return Za(this,void 0,void 0,function*(){return new Promise((c,p)=>{e(r,KI(t,n,s,a)).then(v=>{if(!v.ok)throw v;return n!=null&&n.noResolveJson?v:v.json()}).then(v=>c(v)).catch(v=>qI(v,p,n))})})}function Bp(e,t,r,n){return Za(this,void 0,void 0,function*(){return Bh(e,"GET",t,r,n)})}function Qn(e,t,r,n,s){return Za(this,void 0,void 0,function*(){return Bh(e,"POST",t,n,s,r)})}function Zy(e,t,r,n,s){return Za(this,void 0,void 0,function*(){return Bh(e,"PUT",t,n,s,r)})}function ZI(e,t,r,n){return Za(this,void 0,void 0,function*(){return Bh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jE(e,t,r,n,s){return Za(this,void 0,void 0,function*(){return Bh(e,"DELETE",t,n,s,r)})}var QI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(k){try{w(n.next(k))}catch(E){c(E)}}function v(k){try{w(n.throw(k))}catch(E){c(E)}}function w(k){k.done?a(k.value):s(k.value).then(p,v)}w((n=n.apply(e,t||[])).next())})};class JI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return QI(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Er(t))return{data:null,error:t};throw t}})}}var eD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(k){try{w(n.next(k))}catch(E){c(E)}}function v(k){try{w(n.throw(k))}catch(E){c(E)}}function w(k){k.done?a(k.value):s(k.value).then(p,v)}w((n=n.apply(e,t||[])).next())})};class tD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new JI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return eD(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Er(t))return{data:null,error:t};throw t}})}}var Ci=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(k){try{w(n.next(k))}catch(E){c(E)}}function v(k){try{w(n.throw(k))}catch(E){c(E)}}function w(k){k.done?a(k.value):s(k.value).then(p,v)}w((n=n.apply(e,t||[])).next())})};const rD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},IS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iD{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=AE(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Ci(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},IS),s);let p=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const v=c.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),v&&a.append("metadata",this.encodeMetadata(v)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl),v&&a.append("metadata",this.encodeMetadata(v))):(a=n,p["cache-control"]=`max-age=${c.cacheControl}`,p["content-type"]=c.contentType,v&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),s!=null&&s.headers&&(p=Object.assign(Object.assign({},p),s.headers));const w=this._removeEmptyFolders(r),k=this._getFinalPath(w),E=yield(t=="PUT"?Zy:Qn)(this.fetch,`${this.url}/object/${k}`,a,Object.assign({headers:p},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:w,id:E.Id,fullPath:E.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Er(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ci(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ci(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),p=new URL(this.url+`/object/upload/sign/${c}`);p.searchParams.set("token",r);try{let v;const w=Object.assign({upsert:IS.upsert},s),k=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&n instanceof Blob?(v=new FormData,v.append("cacheControl",w.cacheControl),v.append("",n)):typeof FormData<"u"&&n instanceof FormData?(v=n,v.append("cacheControl",w.cacheControl)):(v=n,k["cache-control"]=`max-age=${w.cacheControl}`,k["content-type"]=w.contentType);const E=yield Zy(this.fetch,p.toString(),v,{headers:k});return{data:{path:a,fullPath:E.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Er(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(t,r){return Ci(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Qn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),c=new URL(this.url+a.url),p=c.searchParams.get("token");if(!p)throw new yw("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:p},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ci(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ci(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ci(this,void 0,void 0,function*(){try{return{data:{path:(yield Qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ci(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Qn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ci(this,void 0,void 0,function*(){try{const s=yield Qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=a?`?${a}`:"",p=this._getFinalPath(t),v=()=>Bp(this.fetch,`${this.url}/${s}/${p}${c}`,{headers:this.headers,noResolveJson:!0});return new tD(v,this.shouldThrowOnError)}info(t){return Ci(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Bp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ky(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}exists(t){return Ci(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ZI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n)&&n instanceof qy){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const p=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});v!==""&&s.push(v);let w=s.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${n}${w}`)}}}remove(t){return Ci(this,void 0,void 0,function*(){try{return{data:yield jE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ci(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},rD),r),{prefix:t||""});return{data:yield Qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Er(s))return{data:null,error:s};throw s}})}listV2(t,r){return Ci(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const nD="2.12.2",sD={"X-Client-Info":`storage-js/${nD}`};var Nl=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(k){try{w(n.next(k))}catch(E){c(E)}}function v(k){try{w(n.throw(k))}catch(E){c(E)}}function w(k){k.done?a(k.value):s(k.value).then(p,v)}w((n=n.apply(e,t||[])).next())})};class oD{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},sD),r),this.fetch=AE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Nl(this,void 0,void 0,function*(){try{return{data:yield Bp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Er(t))return{data:null,error:t};throw t}})}getBucket(t){return Nl(this,void 0,void 0,function*(){try{return{data:yield Bp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Nl(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Nl(this,void 0,void 0,function*(){try{return{data:yield Zy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Er(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Nl(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Nl(this,void 0,void 0,function*(){try{return{data:yield jE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Er(r))return{data:null,error:r};throw r}})}}class aD extends oD{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new iD(this.url,this.headers,t,this.fetch)}}const lD="2.58.0";let Yd="";typeof Deno<"u"?Yd="deno":typeof document<"u"?Yd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yd="react-native":Yd="node";const cD={"X-Client-Info":`supabase-js-${Yd}/${lD}`},dD={headers:cD},hD={schema:"public"},uD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fD={};var pD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(k){try{w(n.next(k))}catch(E){c(E)}}function v(k){try{w(n.throw(k))}catch(E){c(E)}}function w(k){k.done?a(k.value):s(k.value).then(p,v)}w((n=n.apply(e,t||[])).next())})};const gD=e=>{let t;return e?t=e:typeof fetch>"u"?t=gE:t=fetch,(...r)=>t(...r)},mD=()=>typeof Headers>"u"?mE:Headers,vD=(e,t,r)=>{const n=gD(r),s=mD();return(a,c)=>pD(void 0,void 0,void 0,function*(){var p;const v=(p=yield t())!==null&&p!==void 0?p:e;let w=new s(c==null?void 0:c.headers);return w.has("apikey")||w.set("apikey",e),w.has("Authorization")||w.set("Authorization",`Bearer ${v}`),n(a,Object.assign(Object.assign({},c),{headers:w}))})};var xD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(k){try{w(n.next(k))}catch(E){c(E)}}function v(k){try{w(n.throw(k))}catch(E){c(E)}}function w(k){k.done?a(k.value):s(k.value).then(p,v)}w((n=n.apply(e,t||[])).next())})};function yD(e){return e.endsWith("/")?e:e+"/"}function wD(e,t){var r,n;const{db:s,auth:a,realtime:c,global:p}=e,{db:v,auth:w,realtime:k,global:E}=t,P={db:Object.assign(Object.assign({},v),s),auth:Object.assign(Object.assign({},w),a),realtime:Object.assign(Object.assign({},k),c),storage:{},global:Object.assign(Object.assign(Object.assign({},E),p),{headers:Object.assign(Object.assign({},(r=E==null?void 0:E.headers)!==null&&r!==void 0?r:{}),(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>xD(this,void 0,void 0,function*(){return""})};return e.accessToken?P.accessToken=e.accessToken:delete P.accessToken,P}function bD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const PE="2.72.0",Wl=30*1e3,Qy=3,Sx=Qy*Wl,SD="http://localhost:9999",kD="supabase.auth.token",_D={"X-Client-Info":`gotrue-js/${PE}`},Jy="X-Supabase-Api-Version",NE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ED=10*60*1e3;class ww extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function kt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class MD extends ww{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function TD(e){return kt(e)&&e.name==="AuthApiError"}class OE extends ww{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Go extends ww{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class xo extends Go{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AD(e){return kt(e)&&e.name==="AuthSessionMissingError"}class zd extends Go{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zf extends Go{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ff extends Go{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jD(e){return kt(e)&&e.name==="AuthImplicitGrantRedirectError"}class DS extends Go{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e0 extends Go{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function kx(e){return kt(e)&&e.name==="AuthRetryableFetchError"}class BS extends Go{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class t0 extends Go{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$S=` 	
\r=`.split(""),PD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$S.length;t+=1)e[$S[t].charCodeAt(0)]=-2;for(let t=0;t<$p.length;t+=1)e[$p[t].charCodeAt(0)]=t;return e})();function zS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($p[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($p[n]),t.queuedBits-=6}}function RE(e,t,r){const n=PD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function FS(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=c=>{RD(c,n,r)};for(let c=0;c<e.length;c+=1)RE(e.charCodeAt(c),s,a);return t.join("")}function ND(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function OD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ND(n,t)}}function RD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function LD(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)RE(e.charCodeAt(s),r,n);return new Uint8Array(t)}function ID(e){const t=[];return OD(e,r=>t.push(r)),new Uint8Array(t)}function DD(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>zS(s,r,n)),zS(null,r,n),t.join("")}function BD(e){return Math.round(Date.now()/1e3)+e}function $D(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ln=()=>typeof window<"u"&&typeof document<"u",ma={tested:!1,writable:!1},LE=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ma.tested)return ma.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ma.tested=!0,ma.writable=!0}catch{ma.tested=!0,ma.writable=!1}return ma.writable};function zD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const IE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ih(async()=>{const{default:n}=await Promise.resolve().then(()=>Lc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},FD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ul=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},va=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vo=async(e,t)=>{await e.removeItem(t)};class yg{constructor(){this.promise=new yg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yg.promiseConstructor=Promise;function _x(e){const t=e.split(".");if(t.length!==3)throw new t0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!CD.test(t[n]))throw new t0("JWT not in base64url format");return{header:JSON.parse(FS(t[0])),payload:JSON.parse(FS(t[1])),signature:LD(t[2]),raw:{header:t[0],payload:t[1]}}}async function WD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function UD(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){n(c);return}}catch(c){if(!t(a,c)){s(c);return}}})()})}function HD(e){return("0"+e.toString(16)).substr(-2)}function GD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,HD).join("")}async function VD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function XD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await VD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ol(e,t,r=!1){const n=GD();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ul(e,`${t}-code-verifier`,s);const a=await XD(n);return[a,n===a?"plain":"s256"]}const YD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qD(e){const t=e.headers.get(Jy);if(!t||!t.match(YD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rl(e){if(!QD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WS(e){return JSON.parse(JSON.stringify(e))}var JD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const wa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eB=[502,503,504];async function US(e){var t;if(!FD(e))throw new e0(wa(e),0);if(eB.includes(e.status))throw new e0(wa(e),e.status);let r;try{r=await e.json()}catch(a){throw new OE(wa(a),a)}let n;const s=qD(e);if(s&&s.getTime()>=NE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new BS(wa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new BS(wa(r),e.status,r.weak_password.reasons);throw new MD(wa(r),e.status||500,n)}const tB=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function jt(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Jy]||(a[Jy]=NE["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const c=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const p=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",v=await rB(e,t,r+p,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(v):{data:Object.assign({},v),error:null}}async function rB(e,t,r,n,s,a){const c=tB(t,n,s,a);let p;try{p=await e(r,Object.assign({},c))}catch(v){throw console.error(v),new e0(wa(v),0)}if(p.ok||await US(p),n!=null&&n.noResolveJson)return p;try{return await p.json()}catch(v){await US(v)}}function Kn(e){var t;let r=null;oB(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=BD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function HS(e){const t=Kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _o(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iB(e){return{data:e,error:null}}function nB(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,c=JD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},v=Object.assign({},c);return{data:{properties:p,user:v},error:null}}function sB(e){return e}function oB(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ex=["global","local","others"];var aB=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class lB{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=IE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ex[0]){if(Ex.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ex.join(", ")}`);try{return await jt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_o})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=aB(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(kt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await jt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_o})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,c,p,v;try{const w={nextPage:null,lastPage:0,total:0},k=await jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:sB});if(k.error)throw k.error;const E=await k.json(),P=(c=k.headers.get("x-total-count"))!==null&&c!==void 0?c:0,z=(v=(p=k.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&v!==void 0?v:[];return z.length>0&&(z.forEach(U=>{const D=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(U.split(";")[1].split("=")[1]);w[`${L}Page`]=D}),w.total=parseInt(P)),{data:Object.assign(Object.assign({},E),w),error:null}}catch(w){if(kt(w))return{data:{users:[]},error:w};throw w}}async getUserById(t){Rl(t);try{return await jt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_o})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Rl(t);try{return await jt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_o})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Rl(t);try{return await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_o})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Rl(t.userId);try{const{data:r,error:n}=await jt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Rl(t.userId),Rl(t.id);try{return{data:await jt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}}function GS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function cB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ll={debug:!!(globalThis&&LE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class DE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dB extends DE{}async function hB(e,t,r){Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ll.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function BE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function uB(e){return parseInt(e,16)}function fB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function pB(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:c,notBefore:p,requestId:v,resources:w,scheme:k,uri:E,version:P}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(P!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${P}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const z=BE(e.address),U=k?`${k}://${n}`:n,D=e.statement?`${e.statement}
`:"",L=`${U} wants you to sign in with your Ethereum account:
${z}

${D}`;let I=`URI: ${E}
Version: ${P}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(s&&(I+=`
Expiration Time: ${s.toISOString()}`),p&&(I+=`
Not Before: ${p.toISOString()}`),v&&(I+=`
Request ID: ${v}`),w){let j=`
Resources:`;for(const O of w){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);j+=`
- ${O}`}I+=j}return`${L}
${I}`}cB();const gB={url:SD,storageKey:kD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_D,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function VS(e,t,r){return await r()}const Il={};class Mh{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mh.nextInstanceID,Mh.nextInstanceID+=1,this.instanceID>0&&ln()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},gB),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new lB({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=IE(s.fetch),this.lock=s.lock||VS,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ln()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hB:this.lock=VS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:LE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=GS(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=GS(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Il[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Il[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${PE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=zD(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ln()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),jD(a)){const v=(t=a.details)===null||t===void 0?void 0:t.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:p}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",p),await this._saveSession(c),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return kt(r)?{error:r}:{error:new OE("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Kn}),{data:c,error:p}=a;if(p||!c)return{data:{user:null,session:null},error:p};const v=c.session,w=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:w,session:v},error:null}}catch(a){if(kt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:k,password:E,options:P}=t;let z=null,U=null;this.flowType==="pkce"&&([z,U]=await Ol(this.storage,this.storageKey)),a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:P==null?void 0:P.emailRedirectTo,body:{email:k,password:E,data:(r=P==null?void 0:P.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:P==null?void 0:P.captchaToken},code_challenge:z,code_challenge_method:U},xform:Kn})}else if("phone"in t){const{phone:k,password:E,options:P}=t;a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:k,password:E,data:(n=P==null?void 0:P.data)!==null&&n!==void 0?n:{},channel:(s=P==null?void 0:P.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:P==null?void 0:P.captchaToken}},xform:Kn})}else throw new zf("You must provide either an email or phone number and a password");const{data:c,error:p}=a;if(p||!c)return{data:{user:null,session:null},error:p};const v=c.session,w=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:w,session:v},error:null}}catch(a){if(kt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:p}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:HS})}else if("phone"in t){const{phone:a,password:c,options:p}=t;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:HS})}else throw new zf("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,c,p,v,w,k,E,P;let z,U;if("message"in t)z=t.message,U=t.signature;else{const{chain:D,wallet:L,statement:I,options:j}=t;let O;if(ln())if(typeof L=="object")O=L;else{const we=window;if("ethereum"in we&&typeof we.ethereum=="object"&&"request"in we.ethereum&&typeof we.ethereum.request=="function")O=we.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=L}const q=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href),ae=await O.request({method:"eth_requestAccounts"}).then(we=>we).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=BE(ae[0]);let ce=(n=j==null?void 0:j.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!ce){const we=await O.request({method:"eth_chainId"});ce=uB(we)}const J={domain:q.host,address:re,statement:I,uri:q.href,version:"1",chainId:ce,nonce:(s=j==null?void 0:j.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(p=j==null?void 0:j.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(v=j==null?void 0:j.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(w=j==null?void 0:j.signInWithEthereum)===null||w===void 0?void 0:w.requestId,resources:(k=j==null?void 0:j.signInWithEthereum)===null||k===void 0?void 0:k.resources};z=pB(J),U=await O.request({method:"personal_sign",params:[fB(z),re]})}try{const{data:D,error:L}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:z,signature:U},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(P=t.options)===null||P===void 0?void 0:P.captchaToken}}:null),xform:Kn});if(L)throw L;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new zd}:(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:L})}catch(D){if(kt(D))return{data:{user:null,session:null},error:D};throw D}}async signInWithSolana(t){var r,n,s,a,c,p,v,w,k,E,P,z;let U,D;if("message"in t)U=t.message,D=t.signature;else{const{chain:L,wallet:I,statement:j,options:O}=t;let q;if(ln())if(typeof I=="object")q=I;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))q=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=I}const ae=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){const re=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),j?{statement:j}:null));let ce;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")ce=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)ce=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)U=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),D=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${ae.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(s=(n=O==null?void 0:O.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=O==null?void 0:O.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((p=O==null?void 0:O.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((v=O==null?void 0:O.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((w=O==null?void 0:O.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((E=(k=O==null?void 0:O.signInWithSolana)===null||k===void 0?void 0:k.resources)===null||E===void 0)&&E.length?["Resources",...O.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);const re=await q.signMessage(new TextEncoder().encode(U),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=re}}try{const{data:L,error:I}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:DD(D)},!((P=t.options)===null||P===void 0)&&P.captchaToken?{gotrue_meta_security:{captcha_token:(z=t.options)===null||z===void 0?void 0:z.captchaToken}}:null),xform:Kn});if(I)throw I;return!L||!L.session||!L.user?{data:{user:null,session:null},error:new zd}:(L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),{data:Object.assign({},L),error:I})}catch(L){if(kt(L))return{data:{user:null,session:null},error:L};throw L}}async _exchangeCodeForSession(t){const r=await va(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:c}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Kn});if(await vo(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new zd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:c})}catch(a){if(kt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:c}=t,p=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Kn}),{data:v,error:w}=p;return w?{data:{user:null,session:null},error:w}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new zd}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:w})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,c;try{if("email"in t){const{email:p,options:v}=t;let w=null,k=null;this.flowType==="pkce"&&([w,k]=await Ol(this.storage,this.storageKey));const{error:E}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},create_user:(n=v==null?void 0:v.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:w,code_challenge_method:k},redirectTo:v==null?void 0:v.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in t){const{phone:p,options:v}=t,{data:w,error:k}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},create_user:(a=v==null?void 0:v.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(c=v==null?void 0:v.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:k}}throw new zf("You must provide either an email or phone number.")}catch(p){if(kt(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:p}=await jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Kn});if(p)throw p;if(!c)throw new Error("An error occurred on token verification.");const v=c.session,w=c.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:w,session:v},error:null}}catch(s){if(kt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Ol(this.storage,this.storageKey)),await jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:iB})}catch(a){if(kt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xo;const{error:s}=await jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(kt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:c}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:c,error:p}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:p}}throw new zf("You must provide either an email or phone number and a type")}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Sx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await va(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Cx()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(v,w,k)=>(!c&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,w,k))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_o}):await this._useSession(async r=>{var n,s,a;const{data:c,error:p}=r;if(p)throw p;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xo}:await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:_o})})}catch(r){if(kt(r))return AD(r)&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new xo;const c=s.session;let p=null,v=null;this.flowType==="pkce"&&t.email!=null&&([p,v]=await Ol(this.storage,this.storageKey));const{data:w,error:k}=await jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:v}),jwt:c.access_token,xform:_o});if(k)throw k;return c.user=w.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xo;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:c}=_x(t.access_token);if(c.exp&&(n=c.exp,s=n<=r),s){const{session:p,error:v}=await this._callRefreshToken(t.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!p)return{data:{user:null,session:null},error:null};a=p}else{const{data:p,error:v}=await this._getUser(t.access_token);if(v)throw v;a={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(kt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:p}=r;if(p)throw p;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new xo;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(kt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ln())throw new Ff("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ff(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new DS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ff("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new DS("No code detected.");const{data:j,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:c,expires_in:p,expires_at:v,token_type:w}=t;if(!a||!p||!c||!w)throw new Ff("No session defined in URL");const k=Math.round(Date.now()/1e3),E=parseInt(p);let P=k+E;v&&(P=parseInt(v));const z=P-k;z*1e3<=Wl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${z}s, should have been closer to ${E}s`);const U=P-E;k-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,P,k):k-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,P,k);const{data:D,error:L}=await this._getUser(a);if(L)throw L;const I={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:E,expires_at:P,refresh_token:c,token_type:w,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(n){if(kt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await va(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const c=(n=s.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:p}=await this.admin.signOut(c,t);if(p&&!(TD(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return t!=="others"&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=$D(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ol(this.storage,this.storageKey,!0));try{return await jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(kt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var c,p,v,w,k;const{data:E,error:P}=a;if(P)throw P;const z=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(v=t.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await jt(this.fetch,"GET",z,{headers:this.headers,jwt:(k=(w=E.session)===null||w===void 0?void 0:w.access_token)!==null&&k!==void 0?k:void 0})});if(s)throw s;return ln()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(kt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:c}=r;if(c)throw c;return await jt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await UD(async s=>(s>0&&await WD(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kn})),(s,a)=>{const c=200*Math.pow(2,s);return a&&kx(a)&&Date.now()+c-n<Wl})}catch(n){if(this._debug(r,"error",n),kt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await va(this.storage,this.storageKey);if(s&&this.userStorage){let c=await va(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await Ul(this.userStorage,this.storageKey+"-user",c)),s.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Cx()}else if(s&&!s.user&&!s.user){const c=await va(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(s.user=c.user,await vo(this.storage,this.storageKey+"-user"),await Ul(this.storage,this.storageKey,s)):s.user=Cx()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sx;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Sx}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),kx(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:p}=await this._getUser(s.access_token);!p&&(c!=null&&c.user)?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yg;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new xo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const p={session:a.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(a){if(this._debug(s,"error",a),kt(a)){const c={session:null,error:a};return kx(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,r)}catch(v){a.push(v)}});if(await Promise.all(c),a.length>0){for(let p=0;p<a.length;p+=1)console.error(a[p]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ul(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=WS(s);await Ul(this.storage,this.storageKey,a)}else{const s=WS(r);await Ul(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await vo(this.storage,this.storageKey),await vo(this.storage,this.storageKey+"-code-verifier"),await vo(this.storage,this.storageKey+"-user"),this.userStorage&&await vo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Wl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wl}ms, refresh threshold is ${Qy} ticks`),s<=Qy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof DE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,c]=await Ol(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(p.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await jt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:c}=r;if(c)return{data:null,error:c};const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:v,error:w}=await jt(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return w?{data:null,error:w}:(t.factorType==="totp"&&(!((s=v==null?void 0:v.totp)===null||s===void 0)&&s.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:c,error:p}=await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:p})})}catch(r){if(kt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await jt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=_x(s.access_token);let p=null;c.aal&&(p=c.aal);let v=p;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(E=>E.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const k=c.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:k},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(p=>p.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(p=>p.kid===t),n&&this.jwks_cached_at+ED>s)return n;const{data:a,error:c}=await jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(p=>p.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:z,error:U}=await this.getSession();if(U||!z.session)return{data:null,error:U};n=z.session.access_token}const{header:s,payload:a,signature:c,raw:{header:p,payload:v}}=_x(n);r!=null&&r.allowExpired||KD(a.exp);const w=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!w){const{error:z}=await this.getUser(n);if(z)throw z;return{data:{claims:a,header:s,signature:c},error:null}}const k=ZD(s.alg),E=await crypto.subtle.importKey("jwk",w,k,!0,["verify"]);if(!await crypto.subtle.verify(k,E,c,ID(`${p}.${v}`)))throw new t0("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}}Mh.nextInstanceID=0;const mB=Mh;class vB extends mB{constructor(t){super(t)}}var xB=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(k){try{w(n.next(k))}catch(E){c(E)}}function v(k){try{w(n.throw(k))}catch(E){c(E)}}function w(k){k.done?a(k.value):s(k.value).then(p,v)}w((n=n.apply(e,t||[])).next())})};class yB{constructor(t,r,n){var s,a,c;this.supabaseUrl=t,this.supabaseKey=r;const p=bD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const v=`sb-${p.hostname.split(".")[0]}-auth-token`,w={db:hD,realtime:fD,auth:Object.assign(Object.assign({},uD),{storageKey:v}),global:dD},k=wD(n??{},w);this.storageKey=(s=k.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=k.global.headers)!==null&&a!==void 0?a:{},k.accessToken?(this.accessToken=k.accessToken,this.auth=new Proxy({},{get:(E,P)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(P)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=k.auth)!==null&&c!==void 0?c:{},this.headers,k.global.fetch),this.fetch=vD(r,this._getAccessToken.bind(this),k.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},k.realtime)),this.rest=new MI(new URL("rest/v1",p).href,{headers:this.headers,schema:k.db.schema,fetch:this.fetch}),this.storage=new aD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),k.accessToken||this._listenForAuthEvents()}get functions(){return new sI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return xB(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:c,flowType:p,lock:v,debug:w},k,E){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vB({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),k),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:p,lock:v,debug:w,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(z=>z.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new HI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wB=(e,t,r)=>new yB(e,t,r);function bB(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}bB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SB="http://127.0.0.1:54321",kB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0",Ve=wB(SB,kB);async function bw(){try{const{data:e,error:t}=await Ve.from("players").select("id, name, twitter, created, rating, rd, volatility, peak_rating, peak_rating_date, has_played_this_season").order("rating",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchPlayers failed:",e),[]}}async function $E(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchMatches failed:",e),[]}}async function _B(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).not("winner_id","is",null).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchCompletedMatches failed:",e),[]}}async function CB(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).is("winner_id",null).order("match_order",{ascending:!0});if(t)throw t;return e??[]}catch(e){return console.warn("fetchUpcomingMatches failed:",e),[]}}async function EB(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").not("winner_id","is",null).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchAllCompletedMatches failed:",e),[]}}async function $h(){try{const{data:e,error:t}=await Ve.from("events").select("*").order("event_date",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchEvents failed:",e),[]}}async function MB(){try{const{data:e,error:t}=await Ve.from("events").select("*").gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0});if(t)throw t;return e??[]}catch(e){return console.warn("fetchUpcomingEvents failed:",e),[]}}function wg(){const[e,t]=M.useState(null),[r,n]=M.useState(null),[s,a]=M.useState(null);return M.useEffect(()=>{let p=!0;return(async()=>{try{const[v,w]=await Promise.all([bw(),_B()]);if(!p)return;t(v),n(w)}catch(v){if(!p)return;a(v.message)}})(),()=>{p=!1}},[]),{players:e??[],matches:r??[],loading:e===null||r===null,error:s}}const Qr=M.forwardRef(({className:e,type:t="text",...r},n)=>f.jsx("input",{type:t,className:gt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Qr.displayName="Input";/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:c,...p},v)=>M.createElement("svg",{ref:v,...AB,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:zE("lucide",s),...p},[...c.map(([w,k])=>M.createElement(w,k)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=(e,t)=>{const r=M.forwardRef(({className:n,...s},a)=>M.createElement(jB,{ref:a,iconNode:t,className:zE(`lucide-${TB(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Ma=Zt("ArrowDown",PB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Wf=Zt("ArrowUpDown",NB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Ta=Zt("ArrowUp",OB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LB=Zt("Calendar",RB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FE=Zt("Check",IB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WE=Zt("ChevronDown",DB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$B=Zt("ChevronUp",BB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],FB=Zt("ChevronsUpDown",zB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],UB=Zt("CircleAlert",WB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],XS=Zt("CircleCheck",HB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],YS=Zt("Clock",GB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],UE=Zt("ExternalLink",VB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],YB=Zt("Link",XB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],KB=Zt("Menu",qB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],QB=Zt("Moon",ZB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Sw=Zt("Pencil",JB);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kw=Zt("Plus",e$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bg=Zt("RefreshCw",t$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],i$=Zt("Search",r$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]],s$=Zt("SunMedium",n$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_w=Zt("Trash2",o$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],qS=Zt("TrendingUp",a$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],HE=Zt("Trophy",l$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],GE=Zt("Undo2",c$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cw=Zt("X",d$);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],VE=Zt("Youtube",h$);function KS(e,[t,r]){return Math.min(r,Math.max(t,e))}function At(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function u$(e,t){const r=M.createContext(t),n=a=>{const{children:c,...p}=a,v=M.useMemo(()=>p,Object.values(p));return f.jsx(r.Provider,{value:v,children:c})};n.displayName=e+"Provider";function s(a){const c=M.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Vo(e,t=[]){let r=[];function n(a,c){const p=M.createContext(c),v=r.length;r=[...r,c];const w=E=>{var I;const{scope:P,children:z,...U}=E,D=((I=P==null?void 0:P[e])==null?void 0:I[v])||p,L=M.useMemo(()=>U,Object.values(U));return f.jsx(D.Provider,{value:L,children:z})};w.displayName=a+"Provider";function k(E,P){var D;const z=((D=P==null?void 0:P[e])==null?void 0:D[v])||p,U=M.useContext(z);if(U)return U;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${a}\``)}return[w,k]}const s=()=>{const a=r.map(c=>M.createContext(c));return function(p){const v=(p==null?void 0:p[e])||a;return M.useMemo(()=>({[`__scope${e}`]:{...p,[e]:v}}),[p,v])}};return s.scopeName=e,[n,f$(s,...t)]}function f$(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const c=n.reduce((p,{useScope:v,scopeName:w})=>{const E=v(a)[`__scope${w}`];return{...p,...E}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function XE(e){const t=e+"CollectionProvider",[r,n]=Vo(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=D=>{const{scope:L,children:I}=D,j=Jn.useRef(null),O=Jn.useRef(new Map).current;return f.jsx(s,{scope:L,itemMap:O,collectionRef:j,children:I})};c.displayName=t;const p=e+"CollectionSlot",v=Ba(p),w=Jn.forwardRef((D,L)=>{const{scope:I,children:j}=D,O=a(p,I),q=sr(L,O.collectionRef);return f.jsx(v,{ref:q,children:j})});w.displayName=p;const k=e+"CollectionItemSlot",E="data-radix-collection-item",P=Ba(k),z=Jn.forwardRef((D,L)=>{const{scope:I,children:j,...O}=D,q=Jn.useRef(null),ae=sr(L,q),re=a(k,I);return Jn.useEffect(()=>(re.itemMap.set(q,{ref:q,...O}),()=>void re.itemMap.delete(q))),f.jsx(P,{[E]:"",ref:ae,children:j})});z.displayName=k;function U(D){const L=a(e+"CollectionConsumer",D);return Jn.useCallback(()=>{const j=L.collectionRef.current;if(!j)return[];const O=Array.from(j.querySelectorAll(`[${E}]`));return Array.from(L.itemMap.values()).sort((re,ce)=>O.indexOf(re.ref.current)-O.indexOf(ce.ref.current))},[L.collectionRef,L.itemMap])}return[{Provider:c,Slot:w,ItemSlot:z},U,n]}var p$=M.createContext(void 0);function Ew(e){const t=M.useContext(p$);return e||t||"ltr"}var g$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yt=g$.reduce((e,t)=>{const r=Ba(`Primitive.${t}`),n=M.forwardRef((s,a)=>{const{asChild:c,...p}=s,v=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(v,{...p,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function m$(e,t){e&&Pc.flushSync(()=>e.dispatchEvent(t))}function Ls(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function v$(e,t=globalThis==null?void 0:globalThis.document){const r=Ls(e);M.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var x$="DismissableLayer",r0="dismissableLayer.update",y$="dismissableLayer.pointerDownOutside",w$="dismissableLayer.focusOutside",ZS,YE=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sg=M.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:c,onDismiss:p,...v}=e,w=M.useContext(YE),[k,E]=M.useState(null),P=(k==null?void 0:k.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,z]=M.useState({}),U=sr(t,ce=>E(ce)),D=Array.from(w.layers),[L]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),I=D.indexOf(L),j=k?D.indexOf(k):-1,O=w.layersWithOutsidePointerEventsDisabled.size>0,q=j>=I,ae=k$(ce=>{const J=ce.target,we=[...w.branches].some(ke=>ke.contains(J));!q||we||(s==null||s(ce),c==null||c(ce),ce.defaultPrevented||p==null||p())},P),re=_$(ce=>{const J=ce.target;[...w.branches].some(ke=>ke.contains(J))||(a==null||a(ce),c==null||c(ce),ce.defaultPrevented||p==null||p())},P);return v$(ce=>{j===w.layers.size-1&&(n==null||n(ce),!ce.defaultPrevented&&p&&(ce.preventDefault(),p()))},P),M.useEffect(()=>{if(k)return r&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(ZS=P.body.style.pointerEvents,P.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(k)),w.layers.add(k),QS(),()=>{r&&w.layersWithOutsidePointerEventsDisabled.size===1&&(P.body.style.pointerEvents=ZS)}},[k,P,r,w]),M.useEffect(()=>()=>{k&&(w.layers.delete(k),w.layersWithOutsidePointerEventsDisabled.delete(k),QS())},[k,w]),M.useEffect(()=>{const ce=()=>z({});return document.addEventListener(r0,ce),()=>document.removeEventListener(r0,ce)},[]),f.jsx(yt.div,{...v,ref:U,style:{pointerEvents:O?q?"auto":"none":void 0,...e.style},onFocusCapture:At(e.onFocusCapture,re.onFocusCapture),onBlurCapture:At(e.onBlurCapture,re.onBlurCapture),onPointerDownCapture:At(e.onPointerDownCapture,ae.onPointerDownCapture)})});Sg.displayName=x$;var b$="DismissableLayerBranch",S$=M.forwardRef((e,t)=>{const r=M.useContext(YE),n=M.useRef(null),s=sr(t,n);return M.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(yt.div,{...e,ref:s})});S$.displayName=b$;function k$(e,t=globalThis==null?void 0:globalThis.document){const r=Ls(e),n=M.useRef(!1),s=M.useRef(()=>{});return M.useEffect(()=>{const a=p=>{if(p.target&&!n.current){let v=function(){qE(y$,r,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=v,t.addEventListener("click",s.current,{once:!0})):v()}else t.removeEventListener("click",s.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function _$(e,t=globalThis==null?void 0:globalThis.document){const r=Ls(e),n=M.useRef(!1);return M.useEffect(()=>{const s=a=>{a.target&&!n.current&&qE(w$,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function QS(){const e=new CustomEvent(r0);document.dispatchEvent(e)}function qE(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?m$(s,a):s.dispatchEvent(a)}var Mx=0;function Mw(){M.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??JS()),document.body.insertAdjacentElement("beforeend",e[1]??JS()),Mx++,()=>{Mx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mx--}},[])}function JS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tx="focusScope.autoFocusOnMount",Ax="focusScope.autoFocusOnUnmount",ek={bubbles:!1,cancelable:!0},C$="FocusScope",kg=M.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...c}=e,[p,v]=M.useState(null),w=Ls(s),k=Ls(a),E=M.useRef(null),P=sr(t,D=>v(D)),z=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(n){let D=function(O){if(z.paused||!p)return;const q=O.target;p.contains(q)?E.current=q:yo(E.current,{select:!0})},L=function(O){if(z.paused||!p)return;const q=O.relatedTarget;q!==null&&(p.contains(q)||yo(E.current,{select:!0}))},I=function(O){if(document.activeElement===document.body)for(const ae of O)ae.removedNodes.length>0&&yo(p)};document.addEventListener("focusin",D),document.addEventListener("focusout",L);const j=new MutationObserver(I);return p&&j.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",D),document.removeEventListener("focusout",L),j.disconnect()}}},[n,p,z.paused]),M.useEffect(()=>{if(p){rk.add(z);const D=document.activeElement;if(!p.contains(D)){const I=new CustomEvent(Tx,ek);p.addEventListener(Tx,w),p.dispatchEvent(I),I.defaultPrevented||(E$(P$(KE(p)),{select:!0}),document.activeElement===D&&yo(p))}return()=>{p.removeEventListener(Tx,w),setTimeout(()=>{const I=new CustomEvent(Ax,ek);p.addEventListener(Ax,k),p.dispatchEvent(I),I.defaultPrevented||yo(D??document.body,{select:!0}),p.removeEventListener(Ax,k),rk.remove(z)},0)}}},[p,w,k,z]);const U=M.useCallback(D=>{if(!r&&!n||z.paused)return;const L=D.key==="Tab"&&!D.altKey&&!D.ctrlKey&&!D.metaKey,I=document.activeElement;if(L&&I){const j=D.currentTarget,[O,q]=M$(j);O&&q?!D.shiftKey&&I===q?(D.preventDefault(),r&&yo(O,{select:!0})):D.shiftKey&&I===O&&(D.preventDefault(),r&&yo(q,{select:!0})):I===j&&D.preventDefault()}},[r,n,z.paused]);return f.jsx(yt.div,{tabIndex:-1,...c,ref:P,onKeyDown:U})});kg.displayName=C$;function E$(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(yo(n,{select:t}),document.activeElement!==r)return}function M$(e){const t=KE(e),r=tk(t,e),n=tk(t.reverse(),e);return[r,n]}function KE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tk(e,t){for(const r of e)if(!T$(r,{upTo:t}))return r}function T$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function A$(e){return e instanceof HTMLInputElement&&"select"in e}function yo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&A$(e)&&t&&e.select()}}var rk=j$();function j$(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=ik(e,t),e.unshift(t)},remove(t){var r;e=ik(e,t),(r=e[0])==null||r.resume()}}}function ik(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function P$(e){return e.filter(t=>t.tagName!=="A")}var Br=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},N$=y0[" useId ".trim().toString()]||(()=>{}),O$=0;function mi(e){const[t,r]=M.useState(N$());return Br(()=>{r(n=>n??String(O$++))},[e]),t?`radix-${t}`:""}const R$=["top","right","bottom","left"],$o=Math.min,zi=Math.max,zp=Math.round,Uf=Math.floor,ss=e=>({x:e,y:e}),L$={left:"right",right:"left",bottom:"top",top:"bottom"},I$={start:"end",end:"start"};function i0(e,t,r){return zi(e,$o(t,r))}function Is(e,t){return typeof e=="function"?e(t):e}function Ds(e){return e.split("-")[0]}function Dc(e){return e.split("-")[1]}function Tw(e){return e==="x"?"y":"x"}function Aw(e){return e==="y"?"height":"width"}const D$=new Set(["top","bottom"]);function rs(e){return D$.has(Ds(e))?"y":"x"}function jw(e){return Tw(rs(e))}function B$(e,t,r){r===void 0&&(r=!1);const n=Dc(e),s=jw(e),a=Aw(s);let c=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=Fp(c)),[c,Fp(c)]}function $$(e){const t=Fp(e);return[n0(e),t,n0(t)]}function n0(e){return e.replace(/start|end/g,t=>I$[t])}const nk=["left","right"],sk=["right","left"],z$=["top","bottom"],F$=["bottom","top"];function W$(e,t,r){switch(e){case"top":case"bottom":return r?t?sk:nk:t?nk:sk;case"left":case"right":return t?z$:F$;default:return[]}}function U$(e,t,r,n){const s=Dc(e);let a=W$(Ds(e),r==="start",n);return s&&(a=a.map(c=>c+"-"+s),t&&(a=a.concat(a.map(n0)))),a}function Fp(e){return e.replace(/left|right|bottom|top/g,t=>L$[t])}function H$(e){return{top:0,right:0,bottom:0,left:0,...e}}function ZE(e){return typeof e!="number"?H$(e):{top:e,right:e,bottom:e,left:e}}function Wp(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function ok(e,t,r){let{reference:n,floating:s}=e;const a=rs(t),c=jw(t),p=Aw(c),v=Ds(t),w=a==="y",k=n.x+n.width/2-s.width/2,E=n.y+n.height/2-s.height/2,P=n[p]/2-s[p]/2;let z;switch(v){case"top":z={x:k,y:n.y-s.height};break;case"bottom":z={x:k,y:n.y+n.height};break;case"right":z={x:n.x+n.width,y:E};break;case"left":z={x:n.x-s.width,y:E};break;default:z={x:n.x,y:n.y}}switch(Dc(t)){case"start":z[c]-=P*(r&&w?-1:1);break;case"end":z[c]+=P*(r&&w?-1:1);break}return z}const G$=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:c}=r,p=a.filter(Boolean),v=await(c.isRTL==null?void 0:c.isRTL(t));let w=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:k,y:E}=ok(w,n,v),P=n,z={},U=0;for(let D=0;D<p.length;D++){const{name:L,fn:I}=p[D],{x:j,y:O,data:q,reset:ae}=await I({x:k,y:E,initialPlacement:n,placement:P,strategy:s,middlewareData:z,rects:w,platform:c,elements:{reference:e,floating:t}});k=j??k,E=O??E,z={...z,[L]:{...z[L],...q}},ae&&U<=50&&(U++,typeof ae=="object"&&(ae.placement&&(P=ae.placement),ae.rects&&(w=ae.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):ae.rects),{x:k,y:E}=ok(w,P,v)),D=-1)}return{x:k,y:E,placement:P,strategy:s,middlewareData:z}};async function Th(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:c,elements:p,strategy:v}=e,{boundary:w="clippingAncestors",rootBoundary:k="viewport",elementContext:E="floating",altBoundary:P=!1,padding:z=0}=Is(t,e),U=ZE(z),L=p[P?E==="floating"?"reference":"floating":E],I=Wp(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(L)))==null||r?L:L.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(p.floating)),boundary:w,rootBoundary:k,strategy:v})),j=E==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(p.floating)),q=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},ae=Wp(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:j,offsetParent:O,strategy:v}):j);return{top:(I.top-ae.top+U.top)/q.y,bottom:(ae.bottom-I.bottom+U.bottom)/q.y,left:(I.left-ae.left+U.left)/q.x,right:(ae.right-I.right+U.right)/q.x}}const V$=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:c,elements:p,middlewareData:v}=t,{element:w,padding:k=0}=Is(e,t)||{};if(w==null)return{};const E=ZE(k),P={x:r,y:n},z=jw(s),U=Aw(z),D=await c.getDimensions(w),L=z==="y",I=L?"top":"left",j=L?"bottom":"right",O=L?"clientHeight":"clientWidth",q=a.reference[U]+a.reference[z]-P[z]-a.floating[U],ae=P[z]-a.reference[z],re=await(c.getOffsetParent==null?void 0:c.getOffsetParent(w));let ce=re?re[O]:0;(!ce||!await(c.isElement==null?void 0:c.isElement(re)))&&(ce=p.floating[O]||a.floating[U]);const J=q/2-ae/2,we=ce/2-D[U]/2-1,ke=$o(E[I],we),Se=$o(E[j],we),me=ke,Te=ce-D[U]-Se,We=ce/2-D[U]/2+J,Je=i0(me,We,Te),ie=!v.arrow&&Dc(s)!=null&&We!==Je&&a.reference[U]/2-(We<me?ke:Se)-D[U]/2<0,ve=ie?We<me?We-me:We-Te:0;return{[z]:P[z]+ve,data:{[z]:Je,centerOffset:We-Je-ve,...ie&&{alignmentOffset:ve}},reset:ie}}}),X$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:c,initialPlacement:p,platform:v,elements:w}=t,{mainAxis:k=!0,crossAxis:E=!0,fallbackPlacements:P,fallbackStrategy:z="bestFit",fallbackAxisSideDirection:U="none",flipAlignment:D=!0,...L}=Is(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const I=Ds(s),j=rs(p),O=Ds(p)===p,q=await(v.isRTL==null?void 0:v.isRTL(w.floating)),ae=P||(O||!D?[Fp(p)]:$$(p)),re=U!=="none";!P&&re&&ae.push(...U$(p,D,U,q));const ce=[p,...ae],J=await Th(t,L),we=[];let ke=((n=a.flip)==null?void 0:n.overflows)||[];if(k&&we.push(J[I]),E){const We=B$(s,c,q);we.push(J[We[0]],J[We[1]])}if(ke=[...ke,{placement:s,overflows:we}],!we.every(We=>We<=0)){var Se,me;const We=(((Se=a.flip)==null?void 0:Se.index)||0)+1,Je=ce[We];if(Je&&(!(E==="alignment"?j!==rs(Je):!1)||ke.every(pe=>rs(pe.placement)===j?pe.overflows[0]>0:!0)))return{data:{index:We,overflows:ke},reset:{placement:Je}};let ie=(me=ke.filter(ve=>ve.overflows[0]<=0).sort((ve,pe)=>ve.overflows[1]-pe.overflows[1])[0])==null?void 0:me.placement;if(!ie)switch(z){case"bestFit":{var Te;const ve=(Te=ke.filter(pe=>{if(re){const Me=rs(pe.placement);return Me===j||Me==="y"}return!0}).map(pe=>[pe.placement,pe.overflows.filter(Me=>Me>0).reduce((Me,ze)=>Me+ze,0)]).sort((pe,Me)=>pe[1]-Me[1])[0])==null?void 0:Te[0];ve&&(ie=ve);break}case"initialPlacement":ie=p;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function ak(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lk(e){return R$.some(t=>e[t]>=0)}const Y$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Is(e,t);switch(n){case"referenceHidden":{const a=await Th(t,{...s,elementContext:"reference"}),c=ak(a,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:lk(c)}}}case"escaped":{const a=await Th(t,{...s,altBoundary:!0}),c=ak(a,r.floating);return{data:{escapedOffsets:c,escaped:lk(c)}}}default:return{}}}}},QE=new Set(["left","top"]);async function q$(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=Ds(r),p=Dc(r),v=rs(r)==="y",w=QE.has(c)?-1:1,k=a&&v?-1:1,E=Is(t,e);let{mainAxis:P,crossAxis:z,alignmentAxis:U}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return p&&typeof U=="number"&&(z=p==="end"?U*-1:U),v?{x:z*k,y:P*w}:{x:P*w,y:z*k}}const K$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:c,middlewareData:p}=t,v=await q$(t,e);return c===((r=p.offset)==null?void 0:r.placement)&&(n=p.arrow)!=null&&n.alignmentOffset?{}:{x:s+v.x,y:a+v.y,data:{...v,placement:c}}}}},Z$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:p={fn:L=>{let{x:I,y:j}=L;return{x:I,y:j}}},...v}=Is(e,t),w={x:r,y:n},k=await Th(t,v),E=rs(Ds(s)),P=Tw(E);let z=w[P],U=w[E];if(a){const L=P==="y"?"top":"left",I=P==="y"?"bottom":"right",j=z+k[L],O=z-k[I];z=i0(j,z,O)}if(c){const L=E==="y"?"top":"left",I=E==="y"?"bottom":"right",j=U+k[L],O=U-k[I];U=i0(j,U,O)}const D=p.fn({...t,[P]:z,[E]:U});return{...D,data:{x:D.x-r,y:D.y-n,enabled:{[P]:a,[E]:c}}}}}},Q$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:c}=t,{offset:p=0,mainAxis:v=!0,crossAxis:w=!0}=Is(e,t),k={x:r,y:n},E=rs(s),P=Tw(E);let z=k[P],U=k[E];const D=Is(p,t),L=typeof D=="number"?{mainAxis:D,crossAxis:0}:{mainAxis:0,crossAxis:0,...D};if(v){const O=P==="y"?"height":"width",q=a.reference[P]-a.floating[O]+L.mainAxis,ae=a.reference[P]+a.reference[O]-L.mainAxis;z<q?z=q:z>ae&&(z=ae)}if(w){var I,j;const O=P==="y"?"width":"height",q=QE.has(Ds(s)),ae=a.reference[E]-a.floating[O]+(q&&((I=c.offset)==null?void 0:I[E])||0)+(q?0:L.crossAxis),re=a.reference[E]+a.reference[O]+(q?0:((j=c.offset)==null?void 0:j[E])||0)-(q?L.crossAxis:0);U<ae?U=ae:U>re&&(U=re)}return{[P]:z,[E]:U}}}},J$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:c,elements:p}=t,{apply:v=()=>{},...w}=Is(e,t),k=await Th(t,w),E=Ds(s),P=Dc(s),z=rs(s)==="y",{width:U,height:D}=a.floating;let L,I;E==="top"||E==="bottom"?(L=E,I=P===(await(c.isRTL==null?void 0:c.isRTL(p.floating))?"start":"end")?"left":"right"):(I=E,L=P==="end"?"top":"bottom");const j=D-k.top-k.bottom,O=U-k.left-k.right,q=$o(D-k[L],j),ae=$o(U-k[I],O),re=!t.middlewareData.shift;let ce=q,J=ae;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(J=O),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(ce=j),re&&!P){const ke=zi(k.left,0),Se=zi(k.right,0),me=zi(k.top,0),Te=zi(k.bottom,0);z?J=U-2*(ke!==0||Se!==0?ke+Se:zi(k.left,k.right)):ce=D-2*(me!==0||Te!==0?me+Te:zi(k.top,k.bottom))}await v({...t,availableWidth:J,availableHeight:ce});const we=await c.getDimensions(p.floating);return U!==we.width||D!==we.height?{reset:{rects:!0}}:{}}}};function _g(){return typeof window<"u"}function Bc(e){return JE(e)?(e.nodeName||"").toLowerCase():"#document"}function Ui(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ls(e){var t;return(t=(JE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JE(e){return _g()?e instanceof Node||e instanceof Ui(e).Node:!1}function Ln(e){return _g()?e instanceof Element||e instanceof Ui(e).Element:!1}function as(e){return _g()?e instanceof HTMLElement||e instanceof Ui(e).HTMLElement:!1}function ck(e){return!_g()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ui(e).ShadowRoot}const e4=new Set(["inline","contents"]);function zh(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=In(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!e4.has(s)}const t4=new Set(["table","td","th"]);function r4(e){return t4.has(Bc(e))}const i4=[":popover-open",":modal"];function Cg(e){return i4.some(t=>{try{return e.matches(t)}catch{return!1}})}const n4=["transform","translate","scale","rotate","perspective"],s4=["transform","translate","scale","rotate","perspective","filter"],o4=["paint","layout","strict","content"];function Pw(e){const t=Nw(),r=Ln(e)?In(e):e;return n4.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||s4.some(n=>(r.willChange||"").includes(n))||o4.some(n=>(r.contain||"").includes(n))}function a4(e){let t=zo(e);for(;as(t)&&!kc(t);){if(Pw(t))return t;if(Cg(t))return null;t=zo(t)}return null}function Nw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const l4=new Set(["html","body","#document"]);function kc(e){return l4.has(Bc(e))}function In(e){return Ui(e).getComputedStyle(e)}function Eg(e){return Ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zo(e){if(Bc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ck(e)&&e.host||ls(e);return ck(t)?t.host:t}function eM(e){const t=zo(e);return kc(t)?e.ownerDocument?e.ownerDocument.body:e.body:as(t)&&zh(t)?t:eM(t)}function Ah(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=eM(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),c=Ui(s);if(a){const p=s0(c);return t.concat(c,c.visualViewport||[],zh(s)?s:[],p&&r?Ah(p):[])}return t.concat(s,Ah(s,[],r))}function s0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tM(e){const t=In(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=as(e),a=s?e.offsetWidth:r,c=s?e.offsetHeight:n,p=zp(r)!==a||zp(n)!==c;return p&&(r=a,n=c),{width:r,height:n,$:p}}function Ow(e){return Ln(e)?e:e.contextElement}function uc(e){const t=Ow(e);if(!as(t))return ss(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=tM(t);let c=(a?zp(r.width):r.width)/n,p=(a?zp(r.height):r.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!p||!Number.isFinite(p))&&(p=1),{x:c,y:p}}const c4=ss(0);function rM(e){const t=Ui(e);return!Nw()||!t.visualViewport?c4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function d4(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ui(e)?!1:t}function $a(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Ow(e);let c=ss(1);t&&(n?Ln(n)&&(c=uc(n)):c=uc(e));const p=d4(a,r,n)?rM(a):ss(0);let v=(s.left+p.x)/c.x,w=(s.top+p.y)/c.y,k=s.width/c.x,E=s.height/c.y;if(a){const P=Ui(a),z=n&&Ln(n)?Ui(n):n;let U=P,D=s0(U);for(;D&&n&&z!==U;){const L=uc(D),I=D.getBoundingClientRect(),j=In(D),O=I.left+(D.clientLeft+parseFloat(j.paddingLeft))*L.x,q=I.top+(D.clientTop+parseFloat(j.paddingTop))*L.y;v*=L.x,w*=L.y,k*=L.x,E*=L.y,v+=O,w+=q,U=Ui(D),D=s0(U)}}return Wp({width:k,height:E,x:v,y:w})}function Mg(e,t){const r=Eg(e).scrollLeft;return t?t.left+r:$a(ls(e)).left+r}function iM(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Mg(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function h4(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",c=ls(n),p=t?Cg(t.floating):!1;if(n===c||p&&a)return r;let v={scrollLeft:0,scrollTop:0},w=ss(1);const k=ss(0),E=as(n);if((E||!E&&!a)&&((Bc(n)!=="body"||zh(c))&&(v=Eg(n)),as(n))){const z=$a(n);w=uc(n),k.x=z.x+n.clientLeft,k.y=z.y+n.clientTop}const P=c&&!E&&!a?iM(c,v):ss(0);return{width:r.width*w.x,height:r.height*w.y,x:r.x*w.x-v.scrollLeft*w.x+k.x+P.x,y:r.y*w.y-v.scrollTop*w.y+k.y+P.y}}function u4(e){return Array.from(e.getClientRects())}function f4(e){const t=ls(e),r=Eg(e),n=e.ownerDocument.body,s=zi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=zi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Mg(e);const p=-r.scrollTop;return In(n).direction==="rtl"&&(c+=zi(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:c,y:p}}const dk=25;function p4(e,t){const r=Ui(e),n=ls(e),s=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,p=0,v=0;if(s){a=s.width,c=s.height;const k=Nw();(!k||k&&t==="fixed")&&(p=s.offsetLeft,v=s.offsetTop)}const w=Mg(n);if(w<=0){const k=n.ownerDocument,E=k.body,P=getComputedStyle(E),z=k.compatMode==="CSS1Compat"&&parseFloat(P.marginLeft)+parseFloat(P.marginRight)||0,U=Math.abs(n.clientWidth-E.clientWidth-z);U<=dk&&(a-=U)}else w<=dk&&(a+=w);return{width:a,height:c,x:p,y:v}}const g4=new Set(["absolute","fixed"]);function m4(e,t){const r=$a(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=as(e)?uc(e):ss(1),c=e.clientWidth*a.x,p=e.clientHeight*a.y,v=s*a.x,w=n*a.y;return{width:c,height:p,x:v,y:w}}function hk(e,t,r){let n;if(t==="viewport")n=p4(e,r);else if(t==="document")n=f4(ls(e));else if(Ln(t))n=m4(t,r);else{const s=rM(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Wp(n)}function nM(e,t){const r=zo(e);return r===t||!Ln(r)||kc(r)?!1:In(r).position==="fixed"||nM(r,t)}function v4(e,t){const r=t.get(e);if(r)return r;let n=Ah(e,[],!1).filter(p=>Ln(p)&&Bc(p)!=="body"),s=null;const a=In(e).position==="fixed";let c=a?zo(e):e;for(;Ln(c)&&!kc(c);){const p=In(c),v=Pw(c);!v&&p.position==="fixed"&&(s=null),(a?!v&&!s:!v&&p.position==="static"&&!!s&&g4.has(s.position)||zh(c)&&!v&&nM(e,c))?n=n.filter(k=>k!==c):s=p,c=zo(c)}return t.set(e,n),n}function x4(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const c=[...r==="clippingAncestors"?Cg(t)?[]:v4(t,this._c):[].concat(r),n],p=c[0],v=c.reduce((w,k)=>{const E=hk(t,k,s);return w.top=zi(E.top,w.top),w.right=$o(E.right,w.right),w.bottom=$o(E.bottom,w.bottom),w.left=zi(E.left,w.left),w},hk(t,p,s));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function y4(e){const{width:t,height:r}=tM(e);return{width:t,height:r}}function w4(e,t,r){const n=as(t),s=ls(t),a=r==="fixed",c=$a(e,!0,a,t);let p={scrollLeft:0,scrollTop:0};const v=ss(0);function w(){v.x=Mg(s)}if(n||!n&&!a)if((Bc(t)!=="body"||zh(s))&&(p=Eg(t)),n){const z=$a(t,!0,a,t);v.x=z.x+t.clientLeft,v.y=z.y+t.clientTop}else s&&w();a&&!n&&s&&w();const k=s&&!n&&!a?iM(s,p):ss(0),E=c.left+p.scrollLeft-v.x-k.x,P=c.top+p.scrollTop-v.y-k.y;return{x:E,y:P,width:c.width,height:c.height}}function jx(e){return In(e).position==="static"}function uk(e,t){if(!as(e)||In(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ls(e)===r&&(r=r.ownerDocument.body),r}function sM(e,t){const r=Ui(e);if(Cg(e))return r;if(!as(e)){let s=zo(e);for(;s&&!kc(s);){if(Ln(s)&&!jx(s))return s;s=zo(s)}return r}let n=uk(e,t);for(;n&&r4(n)&&jx(n);)n=uk(n,t);return n&&kc(n)&&jx(n)&&!Pw(n)?r:n||a4(e)||r}const b4=async function(e){const t=this.getOffsetParent||sM,r=this.getDimensions,n=await r(e.floating);return{reference:w4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function S4(e){return In(e).direction==="rtl"}const k4={convertOffsetParentRelativeRectToViewportRelativeRect:h4,getDocumentElement:ls,getClippingRect:x4,getOffsetParent:sM,getElementRects:b4,getClientRects:u4,getDimensions:y4,getScale:uc,isElement:Ln,isRTL:S4};function oM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _4(e,t){let r=null,n;const s=ls(e);function a(){var p;clearTimeout(n),(p=r)==null||p.disconnect(),r=null}function c(p,v){p===void 0&&(p=!1),v===void 0&&(v=1),a();const w=e.getBoundingClientRect(),{left:k,top:E,width:P,height:z}=w;if(p||t(),!P||!z)return;const U=Uf(E),D=Uf(s.clientWidth-(k+P)),L=Uf(s.clientHeight-(E+z)),I=Uf(k),O={rootMargin:-U+"px "+-D+"px "+-L+"px "+-I+"px",threshold:zi(0,$o(1,v))||1};let q=!0;function ae(re){const ce=re[0].intersectionRatio;if(ce!==v){if(!q)return c();ce?c(!1,ce):n=setTimeout(()=>{c(!1,1e-7)},1e3)}ce===1&&!oM(w,e.getBoundingClientRect())&&c(),q=!1}try{r=new IntersectionObserver(ae,{...O,root:s.ownerDocument})}catch{r=new IntersectionObserver(ae,O)}r.observe(e)}return c(!0),a}function C4(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:v=!1}=n,w=Ow(e),k=s||a?[...w?Ah(w):[],...Ah(t)]:[];k.forEach(I=>{s&&I.addEventListener("scroll",r,{passive:!0}),a&&I.addEventListener("resize",r)});const E=w&&p?_4(w,r):null;let P=-1,z=null;c&&(z=new ResizeObserver(I=>{let[j]=I;j&&j.target===w&&z&&(z.unobserve(t),cancelAnimationFrame(P),P=requestAnimationFrame(()=>{var O;(O=z)==null||O.observe(t)})),r()}),w&&!v&&z.observe(w),z.observe(t));let U,D=v?$a(e):null;v&&L();function L(){const I=$a(e);D&&!oM(D,I)&&r(),D=I,U=requestAnimationFrame(L)}return r(),()=>{var I;k.forEach(j=>{s&&j.removeEventListener("scroll",r),a&&j.removeEventListener("resize",r)}),E==null||E(),(I=z)==null||I.disconnect(),z=null,v&&cancelAnimationFrame(U)}}const E4=K$,M4=Z$,T4=X$,A4=J$,j4=Y$,fk=V$,P4=Q$,N4=(e,t,r)=>{const n=new Map,s={platform:k4,...r},a={...s.platform,_c:n};return G$(e,t,{...s,platform:a})};var O4=typeof document<"u",R4=function(){},cp=O4?M.useLayoutEffect:R4;function Up(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Up(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Up(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function aM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pk(e,t){const r=aM(e);return Math.round(t*r)/r}function Px(e){const t=M.useRef(e);return cp(()=>{t.current=e}),t}function L4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:c}={},transform:p=!0,whileElementsMounted:v,open:w}=e,[k,E]=M.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[P,z]=M.useState(n);Up(P,n)||z(n);const[U,D]=M.useState(null),[L,I]=M.useState(null),j=M.useCallback(pe=>{pe!==re.current&&(re.current=pe,D(pe))},[]),O=M.useCallback(pe=>{pe!==ce.current&&(ce.current=pe,I(pe))},[]),q=a||U,ae=c||L,re=M.useRef(null),ce=M.useRef(null),J=M.useRef(k),we=v!=null,ke=Px(v),Se=Px(s),me=Px(w),Te=M.useCallback(()=>{if(!re.current||!ce.current)return;const pe={placement:t,strategy:r,middleware:P};Se.current&&(pe.platform=Se.current),N4(re.current,ce.current,pe).then(Me=>{const ze={...Me,isPositioned:me.current!==!1};We.current&&!Up(J.current,ze)&&(J.current=ze,Pc.flushSync(()=>{E(ze)}))})},[P,t,r,Se,me]);cp(()=>{w===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,E(pe=>({...pe,isPositioned:!1})))},[w]);const We=M.useRef(!1);cp(()=>(We.current=!0,()=>{We.current=!1}),[]),cp(()=>{if(q&&(re.current=q),ae&&(ce.current=ae),q&&ae){if(ke.current)return ke.current(q,ae,Te);Te()}},[q,ae,Te,ke,we]);const Je=M.useMemo(()=>({reference:re,floating:ce,setReference:j,setFloating:O}),[j,O]),ie=M.useMemo(()=>({reference:q,floating:ae}),[q,ae]),ve=M.useMemo(()=>{const pe={position:r,left:0,top:0};if(!ie.floating)return pe;const Me=pk(ie.floating,k.x),ze=pk(ie.floating,k.y);return p?{...pe,transform:"translate("+Me+"px, "+ze+"px)",...aM(ie.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Me,top:ze}},[r,p,ie.floating,k.x,k.y]);return M.useMemo(()=>({...k,update:Te,refs:Je,elements:ie,floatingStyles:ve}),[k,Te,Je,ie,ve])}const I4=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?fk({element:n.current,padding:s}).fn(r):{}:n?fk({element:n,padding:s}).fn(r):{}}}},D4=(e,t)=>({...E4(e),options:[e,t]}),B4=(e,t)=>({...M4(e),options:[e,t]}),$4=(e,t)=>({...P4(e),options:[e,t]}),z4=(e,t)=>({...T4(e),options:[e,t]}),F4=(e,t)=>({...A4(e),options:[e,t]}),W4=(e,t)=>({...j4(e),options:[e,t]}),U4=(e,t)=>({...I4(e),options:[e,t]});var H4="Arrow",lM=M.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return f.jsx(yt.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});lM.displayName=H4;var G4=lM;function V4(e){const[t,r]=M.useState(void 0);return Br(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let c,p;if("borderBoxSize"in a){const v=a.borderBoxSize,w=Array.isArray(v)?v[0]:v;c=w.inlineSize,p=w.blockSize}else c=e.offsetWidth,p=e.offsetHeight;r({width:c,height:p})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Rw="Popper",[cM,Tg]=Vo(Rw),[X4,dM]=cM(Rw),hM=e=>{const{__scopePopper:t,children:r}=e,[n,s]=M.useState(null);return f.jsx(X4,{scope:t,anchor:n,onAnchorChange:s,children:r})};hM.displayName=Rw;var uM="PopperAnchor",fM=M.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=dM(uM,r),c=M.useRef(null),p=sr(t,c),v=M.useRef(null);return M.useEffect(()=>{const w=v.current;v.current=(n==null?void 0:n.current)||c.current,w!==v.current&&a.onAnchorChange(v.current)}),n?null:f.jsx(yt.div,{...s,ref:p})});fM.displayName=uM;var Lw="PopperContent",[Y4,q4]=cM(Lw),pM=M.forwardRef((e,t)=>{var Oe,st,ht,vt,ft,St;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:c=0,arrowPadding:p=0,avoidCollisions:v=!0,collisionBoundary:w=[],collisionPadding:k=0,sticky:E="partial",hideWhenDetached:P=!1,updatePositionStrategy:z="optimized",onPlaced:U,...D}=e,L=dM(Lw,r),[I,j]=M.useState(null),O=sr(t,Ke=>j(Ke)),[q,ae]=M.useState(null),re=V4(q),ce=(re==null?void 0:re.width)??0,J=(re==null?void 0:re.height)??0,we=n+(a!=="center"?"-"+a:""),ke=typeof k=="number"?k:{top:0,right:0,bottom:0,left:0,...k},Se=Array.isArray(w)?w:[w],me=Se.length>0,Te={padding:ke,boundary:Se.filter(Z4),altBoundary:me},{refs:We,floatingStyles:Je,placement:ie,isPositioned:ve,middlewareData:pe}=L4({strategy:"fixed",placement:we,whileElementsMounted:(...Ke)=>C4(...Ke,{animationFrame:z==="always"}),elements:{reference:L.anchor},middleware:[D4({mainAxis:s+J,alignmentAxis:c}),v&&B4({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?$4():void 0,...Te}),v&&z4({...Te}),F4({...Te,apply:({elements:Ke,rects:$r,availableWidth:Hr,availableHeight:Xi})=>{const{width:ci,height:Gr}=$r.reference,Yi=Ke.floating.style;Yi.setProperty("--radix-popper-available-width",`${Hr}px`),Yi.setProperty("--radix-popper-available-height",`${Xi}px`),Yi.setProperty("--radix-popper-anchor-width",`${ci}px`),Yi.setProperty("--radix-popper-anchor-height",`${Gr}px`)}}),q&&U4({element:q,padding:p}),Q4({arrowWidth:ce,arrowHeight:J}),P&&W4({strategy:"referenceHidden",...Te})]}),[Me,ze]=vM(ie),Be=Ls(U);Br(()=>{ve&&(Be==null||Be())},[ve,Be]);const Ee=(Oe=pe.arrow)==null?void 0:Oe.x,Ze=(st=pe.arrow)==null?void 0:st.y,ot=((ht=pe.arrow)==null?void 0:ht.centerOffset)!==0,[tt,Ce]=M.useState();return Br(()=>{I&&Ce(window.getComputedStyle(I).zIndex)},[I]),f.jsx("div",{ref:We.setFloating,"data-radix-popper-content-wrapper":"",style:{...Je,transform:ve?Je.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(vt=pe.transformOrigin)==null?void 0:vt.x,(ft=pe.transformOrigin)==null?void 0:ft.y].join(" "),...((St=pe.hide)==null?void 0:St.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(Y4,{scope:r,placedSide:Me,onArrowChange:ae,arrowX:Ee,arrowY:Ze,shouldHideArrow:ot,children:f.jsx(yt.div,{"data-side":Me,"data-align":ze,...D,ref:O,style:{...D.style,animation:ve?void 0:"none"}})})})});pM.displayName=Lw;var gM="PopperArrow",K4={top:"bottom",right:"left",bottom:"top",left:"right"},mM=M.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=q4(gM,n),c=K4[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx(G4,{...s,ref:r,style:{...s.style,display:"block"}})})});mM.displayName=gM;function Z4(e){return e!==null}var Q4=e=>({name:"transformOrigin",options:e,fn(t){var L,I,j;const{placement:r,rects:n,middlewareData:s}=t,c=((L=s.arrow)==null?void 0:L.centerOffset)!==0,p=c?0:e.arrowWidth,v=c?0:e.arrowHeight,[w,k]=vM(r),E={start:"0%",center:"50%",end:"100%"}[k],P=(((I=s.arrow)==null?void 0:I.x)??0)+p/2,z=(((j=s.arrow)==null?void 0:j.y)??0)+v/2;let U="",D="";return w==="bottom"?(U=c?E:`${P}px`,D=`${-v}px`):w==="top"?(U=c?E:`${P}px`,D=`${n.floating.height+v}px`):w==="right"?(U=`${-v}px`,D=c?E:`${z}px`):w==="left"&&(U=`${n.floating.width+v}px`,D=c?E:`${z}px`),{data:{x:U,y:D}}}});function vM(e){const[t,r="center"]=e.split("-");return[t,r]}var xM=hM,Iw=fM,yM=pM,wM=mM,J4="Portal",Ag=M.forwardRef((e,t)=>{var p;const{container:r,...n}=e,[s,a]=M.useState(!1);Br(()=>a(!0),[]);const c=r||s&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return c?XO.createPortal(f.jsx(yt.div,{...n,ref:t}),c):null});Ag.displayName=J4;var ez=y0[" useInsertionEffect ".trim().toString()]||Br;function _c({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,c]=tz({defaultProp:t,onChange:r}),p=e!==void 0,v=p?e:s;{const k=M.useRef(e!==void 0);M.useEffect(()=>{const E=k.current;E!==p&&console.warn(`${n} is changing from ${E?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),k.current=p},[p,n])}const w=M.useCallback(k=>{var E;if(p){const P=rz(k)?k(e):k;P!==e&&((E=c.current)==null||E.call(c,P))}else a(k)},[p,e,a,c]);return[v,w]}function tz({defaultProp:e,onChange:t}){const[r,n]=M.useState(e),s=M.useRef(r),a=M.useRef(t);return ez(()=>{a.current=t},[t]),M.useEffect(()=>{var c;s.current!==r&&((c=a.current)==null||c.call(a,r),s.current=r)},[r,s]),[r,n,a]}function rz(e){return typeof e=="function"}function iz(e){const t=M.useRef({value:e,previous:e});return M.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var bM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nz="VisuallyHidden",sz=M.forwardRef((e,t)=>f.jsx(yt.span,{...e,ref:t,style:{...bM,...e.style}}));sz.displayName=nz;var oz=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dl=new WeakMap,Hf=new WeakMap,Gf={},Nx=0,SM=function(e){return e&&(e.host||SM(e.parentNode))},az=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=SM(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},lz=function(e,t,r,n){var s=az(t,Array.isArray(e)?e:[e]);Gf[r]||(Gf[r]=new WeakMap);var a=Gf[r],c=[],p=new Set,v=new Set(s),w=function(E){!E||p.has(E)||(p.add(E),w(E.parentNode))};s.forEach(w);var k=function(E){!E||v.has(E)||Array.prototype.forEach.call(E.children,function(P){if(p.has(P))k(P);else try{var z=P.getAttribute(n),U=z!==null&&z!=="false",D=(Dl.get(P)||0)+1,L=(a.get(P)||0)+1;Dl.set(P,D),a.set(P,L),c.push(P),D===1&&U&&Hf.set(P,!0),L===1&&P.setAttribute(r,"true"),U||P.setAttribute(n,"true")}catch(I){console.error("aria-hidden: cannot operate on ",P,I)}})};return k(t),p.clear(),Nx++,function(){c.forEach(function(E){var P=Dl.get(E)-1,z=a.get(E)-1;Dl.set(E,P),a.set(E,z),P||(Hf.has(E)||E.removeAttribute(n),Hf.delete(E)),z||E.removeAttribute(r)}),Nx--,Nx||(Dl=new WeakMap,Dl=new WeakMap,Hf=new WeakMap,Gf={})}},Dw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=oz(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),lz(n,s,r,"aria-hidden")):function(){return null}},ts=function(){return ts=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ts.apply(this,arguments)};function kM(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function cz(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var dp="right-scroll-bar-position",hp="width-before-scroll-bar",dz="with-scroll-bars-hidden",hz="--removed-body-scroll-bar-size";function Ox(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uz(e,t){var r=M.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var fz=typeof window<"u"?M.useLayoutEffect:M.useEffect,gk=new WeakMap;function pz(e,t){var r=uz(null,function(n){return e.forEach(function(s){return Ox(s,n)})});return fz(function(){var n=gk.get(r);if(n){var s=new Set(n),a=new Set(e),c=r.current;s.forEach(function(p){a.has(p)||Ox(p,null)}),a.forEach(function(p){s.has(p)||Ox(p,c)})}gk.set(r,e)},[e]),r}function gz(e){return e}function mz(e,t){t===void 0&&(t=gz);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(p){return p!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(p){return a(p)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var p=r;r=[],p.forEach(a),c=r}var v=function(){var k=c;c=[],k.forEach(a)},w=function(){return Promise.resolve().then(v)};w(),r={push:function(k){c.push(k),w()},filter:function(k){return c=c.filter(k),r}}}};return s}function vz(e){e===void 0&&(e={});var t=mz(null);return t.options=ts({async:!0,ssr:!1},e),t}var _M=function(e){var t=e.sideCar,r=kM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return M.createElement(n,ts({},r))};_M.isSideCarExport=!0;function xz(e,t){return e.useMedium(t),_M}var CM=vz(),Rx=function(){},jg=M.forwardRef(function(e,t){var r=M.useRef(null),n=M.useState({onScrollCapture:Rx,onWheelCapture:Rx,onTouchMoveCapture:Rx}),s=n[0],a=n[1],c=e.forwardProps,p=e.children,v=e.className,w=e.removeScrollBar,k=e.enabled,E=e.shards,P=e.sideCar,z=e.noRelative,U=e.noIsolation,D=e.inert,L=e.allowPinchZoom,I=e.as,j=I===void 0?"div":I,O=e.gapMode,q=kM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ae=P,re=pz([r,t]),ce=ts(ts({},q),s);return M.createElement(M.Fragment,null,k&&M.createElement(ae,{sideCar:CM,removeScrollBar:w,shards:E,noRelative:z,noIsolation:U,inert:D,setCallbacks:a,allowPinchZoom:!!L,lockRef:r,gapMode:O}),c?M.cloneElement(M.Children.only(p),ts(ts({},ce),{ref:re})):M.createElement(j,ts({},ce,{className:v,ref:re}),p))});jg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jg.classNames={fullWidth:hp,zeroRight:dp};var yz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yz();return t&&e.setAttribute("nonce",t),e}function bz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Sz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kz=function(){var e=0,t=null;return{add:function(r){e==0&&(t=wz())&&(bz(t,r),Sz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_z=function(){var e=kz();return function(t,r){M.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},EM=function(){var e=_z(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},Cz={left:0,top:0,right:0,gap:0},Lx=function(e){return parseInt(e||"",10)||0},Ez=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Lx(r),Lx(n),Lx(s)]},Mz=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Cz;var t=Ez(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Tz=EM(),fc="data-scroll-locked",Az=function(e,t,r,n){var s=e.left,a=e.top,c=e.right,p=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(dz,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(p,"px ").concat(n,`;
  }
  body[`).concat(fc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dp,` {
    right: `).concat(p,"px ").concat(n,`;
  }
  
  .`).concat(hp,` {
    margin-right: `).concat(p,"px ").concat(n,`;
  }
  
  .`).concat(dp," .").concat(dp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(hp," .").concat(hp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fc,`] {
    `).concat(hz,": ").concat(p,`px;
  }
`)},mk=function(){var e=parseInt(document.body.getAttribute(fc)||"0",10);return isFinite(e)?e:0},jz=function(){M.useEffect(function(){return document.body.setAttribute(fc,(mk()+1).toString()),function(){var e=mk()-1;e<=0?document.body.removeAttribute(fc):document.body.setAttribute(fc,e.toString())}},[])},Pz=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;jz();var a=M.useMemo(function(){return Mz(s)},[s]);return M.createElement(Tz,{styles:Az(a,!t,s,r?"":"!important")})},o0=!1;if(typeof window<"u")try{var Vf=Object.defineProperty({},"passive",{get:function(){return o0=!0,!0}});window.addEventListener("test",Vf,Vf),window.removeEventListener("test",Vf,Vf)}catch{o0=!1}var Bl=o0?{passive:!1}:!1,Nz=function(e){return e.tagName==="TEXTAREA"},MM=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Nz(e)&&r[t]==="visible")},Oz=function(e){return MM(e,"overflowY")},Rz=function(e){return MM(e,"overflowX")},vk=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=TM(e,n);if(s){var a=AM(e,n),c=a[1],p=a[2];if(c>p)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Lz=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Iz=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},TM=function(e,t){return e==="v"?Oz(t):Rz(t)},AM=function(e,t){return e==="v"?Lz(t):Iz(t)},Dz=function(e,t){return e==="h"&&t==="rtl"?-1:1},Bz=function(e,t,r,n,s){var a=Dz(e,window.getComputedStyle(t).direction),c=a*n,p=r.target,v=t.contains(p),w=!1,k=c>0,E=0,P=0;do{if(!p)break;var z=AM(e,p),U=z[0],D=z[1],L=z[2],I=D-L-a*U;(U||I)&&TM(e,p)&&(E+=I,P+=U);var j=p.parentNode;p=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!v&&p!==document.body||v&&(t.contains(p)||t===p));return(k&&Math.abs(E)<1||!k&&Math.abs(P)<1)&&(w=!0),w},Xf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xk=function(e){return[e.deltaX,e.deltaY]},yk=function(e){return e&&"current"in e?e.current:e},$z=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Fz=0,$l=[];function Wz(e){var t=M.useRef([]),r=M.useRef([0,0]),n=M.useRef(),s=M.useState(Fz++)[0],a=M.useState(EM)[0],c=M.useRef(e);M.useEffect(function(){c.current=e},[e]),M.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var D=cz([e.lockRef.current],(e.shards||[]).map(yk),!0).filter(Boolean);return D.forEach(function(L){return L.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),D.forEach(function(L){return L.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var p=M.useCallback(function(D,L){if("touches"in D&&D.touches.length===2||D.type==="wheel"&&D.ctrlKey)return!c.current.allowPinchZoom;var I=Xf(D),j=r.current,O="deltaX"in D?D.deltaX:j[0]-I[0],q="deltaY"in D?D.deltaY:j[1]-I[1],ae,re=D.target,ce=Math.abs(O)>Math.abs(q)?"h":"v";if("touches"in D&&ce==="h"&&re.type==="range")return!1;var J=vk(ce,re);if(!J)return!0;if(J?ae=ce:(ae=ce==="v"?"h":"v",J=vk(ce,re)),!J)return!1;if(!n.current&&"changedTouches"in D&&(O||q)&&(n.current=ae),!ae)return!0;var we=n.current||ae;return Bz(we,L,D,we==="h"?O:q)},[]),v=M.useCallback(function(D){var L=D;if(!(!$l.length||$l[$l.length-1]!==a)){var I="deltaY"in L?xk(L):Xf(L),j=t.current.filter(function(ae){return ae.name===L.type&&(ae.target===L.target||L.target===ae.shadowParent)&&$z(ae.delta,I)})[0];if(j&&j.should){L.cancelable&&L.preventDefault();return}if(!j){var O=(c.current.shards||[]).map(yk).filter(Boolean).filter(function(ae){return ae.contains(L.target)}),q=O.length>0?p(L,O[0]):!c.current.noIsolation;q&&L.cancelable&&L.preventDefault()}}},[]),w=M.useCallback(function(D,L,I,j){var O={name:D,delta:L,target:I,should:j,shadowParent:Uz(I)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(q){return q!==O})},1)},[]),k=M.useCallback(function(D){r.current=Xf(D),n.current=void 0},[]),E=M.useCallback(function(D){w(D.type,xk(D),D.target,p(D,e.lockRef.current))},[]),P=M.useCallback(function(D){w(D.type,Xf(D),D.target,p(D,e.lockRef.current))},[]);M.useEffect(function(){return $l.push(a),e.setCallbacks({onScrollCapture:E,onWheelCapture:E,onTouchMoveCapture:P}),document.addEventListener("wheel",v,Bl),document.addEventListener("touchmove",v,Bl),document.addEventListener("touchstart",k,Bl),function(){$l=$l.filter(function(D){return D!==a}),document.removeEventListener("wheel",v,Bl),document.removeEventListener("touchmove",v,Bl),document.removeEventListener("touchstart",k,Bl)}},[]);var z=e.removeScrollBar,U=e.inert;return M.createElement(M.Fragment,null,U?M.createElement(a,{styles:zz(s)}):null,z?M.createElement(Pz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Uz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Hz=xz(CM,Wz);var Pg=M.forwardRef(function(e,t){return M.createElement(jg,ts({},e,{ref:t,sideCar:Hz}))});Pg.classNames=jg.classNames;var Gz=[" ","Enter","ArrowUp","ArrowDown"],Vz=[" ","Enter"],za="Select",[Ng,Og,Xz]=XE(za),[$c]=Vo(za,[Xz,Tg]),Rg=Tg(),[Yz,Xo]=$c(za),[qz,Kz]=$c(za),jM=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:c,defaultValue:p,onValueChange:v,dir:w,name:k,autoComplete:E,disabled:P,required:z,form:U}=e,D=Rg(t),[L,I]=M.useState(null),[j,O]=M.useState(null),[q,ae]=M.useState(!1),re=Ew(w),[ce,J]=_c({prop:n,defaultProp:s??!1,onChange:a,caller:za}),[we,ke]=_c({prop:c,defaultProp:p,onChange:v,caller:za}),Se=M.useRef(null),me=L?U||!!L.closest("form"):!0,[Te,We]=M.useState(new Set),Je=Array.from(Te).map(ie=>ie.props.value).join(";");return f.jsx(xM,{...D,children:f.jsxs(Yz,{required:z,scope:t,trigger:L,onTriggerChange:I,valueNode:j,onValueNodeChange:O,valueNodeHasChildren:q,onValueNodeHasChildrenChange:ae,contentId:mi(),value:we,onValueChange:ke,open:ce,onOpenChange:J,dir:re,triggerPointerDownPosRef:Se,disabled:P,children:[f.jsx(Ng.Provider,{scope:t,children:f.jsx(qz,{scope:e.__scopeSelect,onNativeOptionAdd:M.useCallback(ie=>{We(ve=>new Set(ve).add(ie))},[]),onNativeOptionRemove:M.useCallback(ie=>{We(ve=>{const pe=new Set(ve);return pe.delete(ie),pe})},[]),children:r})}),me?f.jsxs(eT,{"aria-hidden":!0,required:z,tabIndex:-1,name:k,autoComplete:E,value:we,onChange:ie=>ke(ie.target.value),disabled:P,form:U,children:[we===void 0?f.jsx("option",{value:""}):null,Array.from(Te)]},Je):null]})})};jM.displayName=za;var PM="SelectTrigger",NM=M.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Rg(r),c=Xo(PM,r),p=c.disabled||n,v=sr(t,c.onTriggerChange),w=Og(r),k=M.useRef("touch"),[E,P,z]=rT(D=>{const L=w().filter(O=>!O.disabled),I=L.find(O=>O.value===c.value),j=iT(L,D,I);j!==void 0&&c.onValueChange(j.value)}),U=D=>{p||(c.onOpenChange(!0),z()),D&&(c.triggerPointerDownPosRef.current={x:Math.round(D.pageX),y:Math.round(D.pageY)})};return f.jsx(Iw,{asChild:!0,...a,children:f.jsx(yt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":tT(c.value)?"":void 0,...s,ref:v,onClick:At(s.onClick,D=>{D.currentTarget.focus(),k.current!=="mouse"&&U(D)}),onPointerDown:At(s.onPointerDown,D=>{k.current=D.pointerType;const L=D.target;L.hasPointerCapture(D.pointerId)&&L.releasePointerCapture(D.pointerId),D.button===0&&D.ctrlKey===!1&&D.pointerType==="mouse"&&(U(D),D.preventDefault())}),onKeyDown:At(s.onKeyDown,D=>{const L=E.current!=="";!(D.ctrlKey||D.altKey||D.metaKey)&&D.key.length===1&&P(D.key),!(L&&D.key===" ")&&Gz.includes(D.key)&&(U(),D.preventDefault())})})})});NM.displayName=PM;var OM="SelectValue",RM=M.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:c="",...p}=e,v=Xo(OM,r),{onValueNodeHasChildrenChange:w}=v,k=a!==void 0,E=sr(t,v.onValueNodeChange);return Br(()=>{w(k)},[w,k]),f.jsx(yt.span,{...p,ref:E,style:{pointerEvents:"none"},children:tT(v.value)?f.jsx(f.Fragment,{children:c}):a})});RM.displayName=OM;var Zz="SelectIcon",LM=M.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return f.jsx(yt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});LM.displayName=Zz;var Qz="SelectPortal",IM=e=>f.jsx(Ag,{asChild:!0,...e});IM.displayName=Qz;var Fa="SelectContent",DM=M.forwardRef((e,t)=>{const r=Xo(Fa,e.__scopeSelect),[n,s]=M.useState();if(Br(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Pc.createPortal(f.jsx(BM,{scope:e.__scopeSelect,children:f.jsx(Ng.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),a):null}return f.jsx($M,{...e,ref:t})});DM.displayName=Fa;var Mn=10,[BM,Yo]=$c(Fa),Jz="SelectContentImpl",eF=Ba("SelectContent.RemoveScroll"),$M=M.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:c,side:p,sideOffset:v,align:w,alignOffset:k,arrowPadding:E,collisionBoundary:P,collisionPadding:z,sticky:U,hideWhenDetached:D,avoidCollisions:L,...I}=e,j=Xo(Fa,r),[O,q]=M.useState(null),[ae,re]=M.useState(null),ce=sr(t,Oe=>q(Oe)),[J,we]=M.useState(null),[ke,Se]=M.useState(null),me=Og(r),[Te,We]=M.useState(!1),Je=M.useRef(!1);M.useEffect(()=>{if(O)return Dw(O)},[O]),Mw();const ie=M.useCallback(Oe=>{const[st,...ht]=me().map(St=>St.ref.current),[vt]=ht.slice(-1),ft=document.activeElement;for(const St of Oe)if(St===ft||(St==null||St.scrollIntoView({block:"nearest"}),St===st&&ae&&(ae.scrollTop=0),St===vt&&ae&&(ae.scrollTop=ae.scrollHeight),St==null||St.focus(),document.activeElement!==ft))return},[me,ae]),ve=M.useCallback(()=>ie([J,O]),[ie,J,O]);M.useEffect(()=>{Te&&ve()},[Te,ve]);const{onOpenChange:pe,triggerPointerDownPosRef:Me}=j;M.useEffect(()=>{if(O){let Oe={x:0,y:0};const st=vt=>{var ft,St;Oe={x:Math.abs(Math.round(vt.pageX)-(((ft=Me.current)==null?void 0:ft.x)??0)),y:Math.abs(Math.round(vt.pageY)-(((St=Me.current)==null?void 0:St.y)??0))}},ht=vt=>{Oe.x<=10&&Oe.y<=10?vt.preventDefault():O.contains(vt.target)||pe(!1),document.removeEventListener("pointermove",st),Me.current=null};return Me.current!==null&&(document.addEventListener("pointermove",st),document.addEventListener("pointerup",ht,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",st),document.removeEventListener("pointerup",ht,{capture:!0})}}},[O,pe,Me]),M.useEffect(()=>{const Oe=()=>pe(!1);return window.addEventListener("blur",Oe),window.addEventListener("resize",Oe),()=>{window.removeEventListener("blur",Oe),window.removeEventListener("resize",Oe)}},[pe]);const[ze,Be]=rT(Oe=>{const st=me().filter(ft=>!ft.disabled),ht=st.find(ft=>ft.ref.current===document.activeElement),vt=iT(st,Oe,ht);vt&&setTimeout(()=>vt.ref.current.focus())}),Ee=M.useCallback((Oe,st,ht)=>{const vt=!Je.current&&!ht;(j.value!==void 0&&j.value===st||vt)&&(we(Oe),vt&&(Je.current=!0))},[j.value]),Ze=M.useCallback(()=>O==null?void 0:O.focus(),[O]),ot=M.useCallback((Oe,st,ht)=>{const vt=!Je.current&&!ht;(j.value!==void 0&&j.value===st||vt)&&Se(Oe)},[j.value]),tt=n==="popper"?a0:zM,Ce=tt===a0?{side:p,sideOffset:v,align:w,alignOffset:k,arrowPadding:E,collisionBoundary:P,collisionPadding:z,sticky:U,hideWhenDetached:D,avoidCollisions:L}:{};return f.jsx(BM,{scope:r,content:O,viewport:ae,onViewportChange:re,itemRefCallback:Ee,selectedItem:J,onItemLeave:Ze,itemTextRefCallback:ot,focusSelectedItem:ve,selectedItemText:ke,position:n,isPositioned:Te,searchRef:ze,children:f.jsx(Pg,{as:eF,allowPinchZoom:!0,children:f.jsx(kg,{asChild:!0,trapped:j.open,onMountAutoFocus:Oe=>{Oe.preventDefault()},onUnmountAutoFocus:At(s,Oe=>{var st;(st=j.trigger)==null||st.focus({preventScroll:!0}),Oe.preventDefault()}),children:f.jsx(Sg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:Oe=>Oe.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:f.jsx(tt,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:Oe=>Oe.preventDefault(),...I,...Ce,onPlaced:()=>We(!0),ref:ce,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:At(I.onKeyDown,Oe=>{const st=Oe.ctrlKey||Oe.altKey||Oe.metaKey;if(Oe.key==="Tab"&&Oe.preventDefault(),!st&&Oe.key.length===1&&Be(Oe.key),["ArrowUp","ArrowDown","Home","End"].includes(Oe.key)){let vt=me().filter(ft=>!ft.disabled).map(ft=>ft.ref.current);if(["ArrowUp","End"].includes(Oe.key)&&(vt=vt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Oe.key)){const ft=Oe.target,St=vt.indexOf(ft);vt=vt.slice(St+1)}setTimeout(()=>ie(vt)),Oe.preventDefault()}})})})})})})});$M.displayName=Jz;var tF="SelectItemAlignedPosition",zM=M.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Xo(Fa,r),c=Yo(Fa,r),[p,v]=M.useState(null),[w,k]=M.useState(null),E=sr(t,ce=>k(ce)),P=Og(r),z=M.useRef(!1),U=M.useRef(!0),{viewport:D,selectedItem:L,selectedItemText:I,focusSelectedItem:j}=c,O=M.useCallback(()=>{if(a.trigger&&a.valueNode&&p&&w&&D&&L&&I){const ce=a.trigger.getBoundingClientRect(),J=w.getBoundingClientRect(),we=a.valueNode.getBoundingClientRect(),ke=I.getBoundingClientRect();if(a.dir!=="rtl"){const ft=ke.left-J.left,St=we.left-ft,Ke=ce.left-St,$r=ce.width+Ke,Hr=Math.max($r,J.width),Xi=window.innerWidth-Mn,ci=KS(St,[Mn,Math.max(Mn,Xi-Hr)]);p.style.minWidth=$r+"px",p.style.left=ci+"px"}else{const ft=J.right-ke.right,St=window.innerWidth-we.right-ft,Ke=window.innerWidth-ce.right-St,$r=ce.width+Ke,Hr=Math.max($r,J.width),Xi=window.innerWidth-Mn,ci=KS(St,[Mn,Math.max(Mn,Xi-Hr)]);p.style.minWidth=$r+"px",p.style.right=ci+"px"}const Se=P(),me=window.innerHeight-Mn*2,Te=D.scrollHeight,We=window.getComputedStyle(w),Je=parseInt(We.borderTopWidth,10),ie=parseInt(We.paddingTop,10),ve=parseInt(We.borderBottomWidth,10),pe=parseInt(We.paddingBottom,10),Me=Je+ie+Te+pe+ve,ze=Math.min(L.offsetHeight*5,Me),Be=window.getComputedStyle(D),Ee=parseInt(Be.paddingTop,10),Ze=parseInt(Be.paddingBottom,10),ot=ce.top+ce.height/2-Mn,tt=me-ot,Ce=L.offsetHeight/2,Oe=L.offsetTop+Ce,st=Je+ie+Oe,ht=Me-st;if(st<=ot){const ft=Se.length>0&&L===Se[Se.length-1].ref.current;p.style.bottom="0px";const St=w.clientHeight-D.offsetTop-D.offsetHeight,Ke=Math.max(tt,Ce+(ft?Ze:0)+St+ve),$r=st+Ke;p.style.height=$r+"px"}else{const ft=Se.length>0&&L===Se[0].ref.current;p.style.top="0px";const Ke=Math.max(ot,Je+D.offsetTop+(ft?Ee:0)+Ce)+ht;p.style.height=Ke+"px",D.scrollTop=st-ot+D.offsetTop}p.style.margin=`${Mn}px 0`,p.style.minHeight=ze+"px",p.style.maxHeight=me+"px",n==null||n(),requestAnimationFrame(()=>z.current=!0)}},[P,a.trigger,a.valueNode,p,w,D,L,I,a.dir,n]);Br(()=>O(),[O]);const[q,ae]=M.useState();Br(()=>{w&&ae(window.getComputedStyle(w).zIndex)},[w]);const re=M.useCallback(ce=>{ce&&U.current===!0&&(O(),j==null||j(),U.current=!1)},[O,j]);return f.jsx(iF,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:z,onScrollButtonChange:re,children:f.jsx("div",{ref:v,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:f.jsx(yt.div,{...s,ref:E,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});zM.displayName=tF;var rF="SelectPopperPosition",a0=M.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Mn,...a}=e,c=Rg(r);return f.jsx(yM,{...c,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});a0.displayName=rF;var[iF,Bw]=$c(Fa,{}),l0="SelectViewport",FM=M.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Yo(l0,r),c=Bw(l0,r),p=sr(t,a.onViewportChange),v=M.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),f.jsx(Ng.Slot,{scope:r,children:f.jsx(yt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:At(s.onScroll,w=>{const k=w.currentTarget,{contentWrapper:E,shouldExpandOnScrollRef:P}=c;if(P!=null&&P.current&&E){const z=Math.abs(v.current-k.scrollTop);if(z>0){const U=window.innerHeight-Mn*2,D=parseFloat(E.style.minHeight),L=parseFloat(E.style.height),I=Math.max(D,L);if(I<U){const j=I+z,O=Math.min(U,j),q=j-O;E.style.height=O+"px",E.style.bottom==="0px"&&(k.scrollTop=q>0?q:0,E.style.justifyContent="flex-end")}}}v.current=k.scrollTop})})})]})});FM.displayName=l0;var WM="SelectGroup",[nF,sF]=$c(WM),oF=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=mi();return f.jsx(nF,{scope:r,id:s,children:f.jsx(yt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});oF.displayName=WM;var UM="SelectLabel",HM=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=sF(UM,r);return f.jsx(yt.div,{id:s.id,...n,ref:t})});HM.displayName=UM;var Hp="SelectItem",[aF,GM]=$c(Hp),VM=M.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...c}=e,p=Xo(Hp,r),v=Yo(Hp,r),w=p.value===n,[k,E]=M.useState(a??""),[P,z]=M.useState(!1),U=sr(t,j=>{var O;return(O=v.itemRefCallback)==null?void 0:O.call(v,j,n,s)}),D=mi(),L=M.useRef("touch"),I=()=>{s||(p.onValueChange(n),p.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(aF,{scope:r,value:n,disabled:s,textId:D,isSelected:w,onItemTextChange:M.useCallback(j=>{E(O=>O||((j==null?void 0:j.textContent)??"").trim())},[]),children:f.jsx(Ng.ItemSlot,{scope:r,value:n,disabled:s,textValue:k,children:f.jsx(yt.div,{role:"option","aria-labelledby":D,"data-highlighted":P?"":void 0,"aria-selected":w&&P,"data-state":w?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:U,onFocus:At(c.onFocus,()=>z(!0)),onBlur:At(c.onBlur,()=>z(!1)),onClick:At(c.onClick,()=>{L.current!=="mouse"&&I()}),onPointerUp:At(c.onPointerUp,()=>{L.current==="mouse"&&I()}),onPointerDown:At(c.onPointerDown,j=>{L.current=j.pointerType}),onPointerMove:At(c.onPointerMove,j=>{var O;L.current=j.pointerType,s?(O=v.onItemLeave)==null||O.call(v):L.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:At(c.onPointerLeave,j=>{var O;j.currentTarget===document.activeElement&&((O=v.onItemLeave)==null||O.call(v))}),onKeyDown:At(c.onKeyDown,j=>{var q;((q=v.searchRef)==null?void 0:q.current)!==""&&j.key===" "||(Vz.includes(j.key)&&I(),j.key===" "&&j.preventDefault())})})})})});VM.displayName=Hp;var qd="SelectItemText",XM=M.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,c=Xo(qd,r),p=Yo(qd,r),v=GM(qd,r),w=Kz(qd,r),[k,E]=M.useState(null),P=sr(t,I=>E(I),v.onItemTextChange,I=>{var j;return(j=p.itemTextRefCallback)==null?void 0:j.call(p,I,v.value,v.disabled)}),z=k==null?void 0:k.textContent,U=M.useMemo(()=>f.jsx("option",{value:v.value,disabled:v.disabled,children:z},v.value),[v.disabled,v.value,z]),{onNativeOptionAdd:D,onNativeOptionRemove:L}=w;return Br(()=>(D(U),()=>L(U)),[D,L,U]),f.jsxs(f.Fragment,{children:[f.jsx(yt.span,{id:v.textId,...a,ref:P}),v.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Pc.createPortal(a.children,c.valueNode):null]})});XM.displayName=qd;var YM="SelectItemIndicator",qM=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return GM(YM,r).isSelected?f.jsx(yt.span,{"aria-hidden":!0,...n,ref:t}):null});qM.displayName=YM;var c0="SelectScrollUpButton",KM=M.forwardRef((e,t)=>{const r=Yo(c0,e.__scopeSelect),n=Bw(c0,e.__scopeSelect),[s,a]=M.useState(!1),c=sr(t,n.onScrollButtonChange);return Br(()=>{if(r.viewport&&r.isPositioned){let p=function(){const w=v.scrollTop>0;a(w)};const v=r.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),s?f.jsx(QM,{...e,ref:c,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=r;p&&v&&(p.scrollTop=p.scrollTop-v.offsetHeight)}}):null});KM.displayName=c0;var d0="SelectScrollDownButton",ZM=M.forwardRef((e,t)=>{const r=Yo(d0,e.__scopeSelect),n=Bw(d0,e.__scopeSelect),[s,a]=M.useState(!1),c=sr(t,n.onScrollButtonChange);return Br(()=>{if(r.viewport&&r.isPositioned){let p=function(){const w=v.scrollHeight-v.clientHeight,k=Math.ceil(v.scrollTop)<w;a(k)};const v=r.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),s?f.jsx(QM,{...e,ref:c,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=r;p&&v&&(p.scrollTop=p.scrollTop+v.offsetHeight)}}):null});ZM.displayName=d0;var QM=M.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Yo("SelectScrollButton",r),c=M.useRef(null),p=Og(r),v=M.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return M.useEffect(()=>()=>v(),[v]),Br(()=>{var k;const w=p().find(E=>E.ref.current===document.activeElement);(k=w==null?void 0:w.ref.current)==null||k.scrollIntoView({block:"nearest"})},[p]),f.jsx(yt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:At(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:At(s.onPointerMove,()=>{var w;(w=a.onItemLeave)==null||w.call(a),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:At(s.onPointerLeave,()=>{v()})})}),lF="SelectSeparator",JM=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return f.jsx(yt.div,{"aria-hidden":!0,...n,ref:t})});JM.displayName=lF;var h0="SelectArrow",cF=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Rg(r),a=Xo(h0,r),c=Yo(h0,r);return a.open&&c.position==="popper"?f.jsx(wM,{...s,...n,ref:t}):null});cF.displayName=h0;var dF="SelectBubbleInput",eT=M.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=M.useRef(null),a=sr(n,s),c=iz(t);return M.useEffect(()=>{const p=s.current;if(!p)return;const v=window.HTMLSelectElement.prototype,k=Object.getOwnPropertyDescriptor(v,"value").set;if(c!==t&&k){const E=new Event("change",{bubbles:!0});k.call(p,t),p.dispatchEvent(E)}},[c,t]),f.jsx(yt.select,{...r,style:{...bM,...r.style},ref:a,defaultValue:t})});eT.displayName=dF;function tT(e){return e===""||e===void 0}function rT(e){const t=Ls(e),r=M.useRef(""),n=M.useRef(0),s=M.useCallback(c=>{const p=r.current+c;t(p),function v(w){r.current=w,window.clearTimeout(n.current),w!==""&&(n.current=window.setTimeout(()=>v(""),1e3))}(p)},[t]),a=M.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function iT(e,t,r){const s=t.length>1&&Array.from(t).every(w=>w===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let c=hF(e,Math.max(a,0));s.length===1&&(c=c.filter(w=>w!==r));const v=c.find(w=>w.textValue.toLowerCase().startsWith(s.toLowerCase()));return v!==r?v:void 0}function hF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var uF=jM,nT=NM,fF=RM,pF=LM,gF=IM,sT=DM,mF=FM,oT=HM,aT=VM,vF=XM,xF=qM,lT=KM,cT=ZM,dT=JM;const Lg=uF,Ig=fF,Fh=M.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(nT,{ref:n,className:gt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,f.jsx(pF,{asChild:!0,children:f.jsx(WE,{className:"h-4 w-4 opacity-50"})})]}));Fh.displayName=nT.displayName;const hT=M.forwardRef(({className:e,...t},r)=>f.jsx(lT,{ref:r,className:gt("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx($B,{className:"h-4 w-4"})}));hT.displayName=lT.displayName;const uT=M.forwardRef(({className:e,...t},r)=>f.jsx(cT,{ref:r,className:gt("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(WE,{className:"h-4 w-4"})}));uT.displayName=cT.displayName;const Wh=M.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>f.jsx(gF,{children:f.jsxs(sT,{ref:s,className:gt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[f.jsx(hT,{}),f.jsx(mF,{className:gt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(uT,{})]})}));Wh.displayName=sT.displayName;const yF=M.forwardRef(({className:e,...t},r)=>f.jsx(oT,{ref:r,className:gt("px-2 py-1.5 text-sm font-semibold",e),...t}));yF.displayName=oT.displayName;const As=M.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(aT,{ref:n,className:gt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[f.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(xF,{children:f.jsx(FE,{className:"h-4 w-4"})})}),f.jsx(vF,{children:t})]}));As.displayName=aT.displayName;const wF=M.forwardRef(({className:e,...t},r)=>f.jsx(dT,{ref:r,className:gt("-mx-1 my-1 h-px bg-muted",e),...t}));wF.displayName=dT.displayName;async function bF(){try{const{data:e,error:t}=await Ve.from("seasons").select("*").eq("status","active").single();if(t&&t.code!=="PGRST116")throw t;return e||null}catch(e){return console.error("Failed to fetch active season:",e),null}}async function zc(){try{const{data:e,error:t}=await Ve.from("seasons").select("*").order("id",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Failed to fetch seasons:",e),[]}}async function SF(e="Active Season",t){try{t==null||t("Fetching current active season...");const{data:r,error:n}=await Ve.from("seasons").select("*").eq("status","active").single();if(n)throw n;if(!r)throw new Error("Active season not found");console.log(` Current season: ${r.name}`),t==null||t("Fetching active players...");const{data:s,error:a}=await Ve.from("players").select("*").not("rating","is",null);if(a)throw a;console.log(` Found ${(s==null?void 0:s.length)||0} active players`),t==null||t("Counting matches...");const{data:c,error:p}=await Ve.from("matches").select("id").eq("season_id",0);if(p)throw p;console.log(` Found ${(c==null?void 0:c.length)||0} matches in season`),t==null||t("Determining new season ID...");const{data:v,error:w}=await Ve.from("seasons").select("id").gt("id",0).order("id",{ascending:!1}).limit(1).single();if(w&&w.code!=="PGRST116")throw w;const k=((v==null?void 0:v.id)||0)+1;if(console.log(` Next season ID: ${k}`),t==null||t("Creating player snapshots..."),s&&s.length>0){const I=s.sort((O,q)=>q.rating-O.rating).map((O,q)=>({season_id:k,player_id:O.id,final_rating:O.rating,final_rd:O.rd,final_volatility:O.volatility,matches_played_count:O.matches_played||0,peak_rating:O.peak_rating,peak_rating_date:O.peak_rating_date,final_rank:q+1})),{error:j}=await Ve.from("season_player_snapshots").insert(I);if(j)throw j;console.log(` Created ${I.length} snapshots`)}t==null||t("Archiving old season...");const{error:E}=await Ve.from("seasons").delete().eq("status","active");if(E)throw E;const{error:P}=await Ve.from("seasons").insert({id:k,name:r.name,status:"archived",start_date:r.start_date,end_date:new Date().toISOString(),description:r.description});if(P)throw P;console.log(` Season ${k} archived`),t==null||t("Updating matches...");const{error:z}=await Ve.from("matches").update({season_id:k}).eq("season_id",0);if(z)throw z;t==null||t("Updating rating events...");const{error:U}=await Ve.from("rating_events").update({season_id:k}).eq("season_id",0);if(U)throw U;console.log(" Updated matches and events"),t==null||t("Creating new active season...");const{error:D}=await Ve.from("seasons").insert({id:0,name:e,status:"active",start_date:new Date().toISOString(),description:"Current active season - use id=0 to reference this"});if(D)throw D;console.log(" New active season created (id = 0)"),t==null||t("Resetting player ratings...");const{error:L}=await Ve.from("players").update({rating:null,rd:null,volatility:null}).neq("id",0);if(L)throw L;return console.log(" All player ratings reset"),t==null||t("Season transition complete!"),{success:!0,newSeasonId:k}}catch(r){const n=r instanceof Error?r.message:String(r);return console.error(" Failed to archive season:",r),{success:!1,error:n}}}async function kF(e){try{const{data:t,error:r}=await Ve.from("season_player_snapshots").select("*, player:players(id, name)").eq("season_id",e).order("final_rank");if(r)throw r;return t||[]}catch(t){return console.error(`Failed to fetch season ${e} leaderboard:`,t),[]}}async function _F(e,t){try{if(t==null||t("Starting season activation..."),e<=0)throw new Error("Cannot activate the current active season or invalid season ID");t==null||t("Fetching target season...");const{data:r,error:n}=await Ve.from("seasons").select("*").eq("id",e).single();if(n||!r)throw new Error("Target season not found");if(r.status==="active")throw new Error("Season is already active");console.log(` Activating season: ${r.name}`),t==null||t("Fetching current active season...");const{data:s,error:a}=await Ve.from("seasons").select("*").eq("status","active").single();if(a||!s)throw new Error("Current active season not found");console.log(` Current active season: ${s.name}`),t==null||t("Determining new IDs...");const{data:c}=await Ve.from("seasons").select("id").gt("id",0).order("id",{ascending:!1}).limit(1).single(),p=((c==null?void 0:c.id)||0)+1;console.log(` Current active season will get ID: ${p}`),t==null||t("Archiving current active season...");const{error:v}=await Ve.from("seasons").update({id:p,status:"archived",end_date:new Date().toISOString()}).eq("status","active");if(v)throw v;console.log(` Current active season archived with ID ${p}`),t==null||t("Updating current season matches...");const{error:w}=await Ve.from("matches").update({season_id:p}).eq("season_id",0);if(w)throw w;t==null||t("Updating current season rating events...");const{error:k}=await Ve.from("rating_events").update({season_id:p}).eq("season_id",0);if(k)throw k;console.log(" Matches and events updated"),t==null||t("Restoring player ratings from season snapshots...");const{data:E,error:P}=await Ve.from("season_player_snapshots").select("*").eq("season_id",e);if(P)throw P;if(E&&E.length>0){for(const L of E){const{error:I}=await Ve.from("players").update({rating:L.final_rating,rd:L.final_rd,volatility:L.final_volatility}).eq("id",L.player_id);I&&console.warn(` Failed to update player ${L.player_id}:`,I)}console.log(` Restored ratings for ${E.length} players`)}t==null||t("Converting target season to active...");const{error:z}=await Ve.from("seasons").update({id:0,status:"active",end_date:null}).eq("id",e);if(z)throw z;console.log(" Target season is now active"),t==null||t("Updating target season matches...");const{error:U}=await Ve.from("matches").update({season_id:0}).eq("season_id",e);if(U)throw U;t==null||t("Updating target season rating events...");const{error:D}=await Ve.from("rating_events").update({season_id:0}).eq("season_id",e);if(D)throw D;return console.log(" All matches and events restored for active season"),t==null||t("Season activation complete!"),{success:!0}}catch(r){const n=r instanceof Error?r.message:String(r);return console.error(" Failed to activate season:",r),{success:!1,error:n}}}const zl=25;function wk(e,t=0){return e.toLocaleString(void 0,{maximumFractionDigits:t,minimumFractionDigits:t})}function CF(){fn("Leaderboard");const{players:e,matches:t,loading:r,error:n}=wg(),[s,a]=iE(),[c,p]=M.useState([]),[v,w]=M.useState(null),[k,E]=M.useState([]),[P,z]=M.useState(!1);M.useEffect(()=>{(async()=>{const ie=await zc();p(ie);const ve=ie.find(pe=>pe.status==="active");ve&&w(ve.id)})()},[]),M.useEffect(()=>{const ie=c.find(pe=>pe.status==="active"),ve=ie&&v===ie.id;!v||ve||(async()=>{z(!0);const pe=await kF(v);E(pe),z(!1)})()},[v,c]);const[U,D]=M.useState(()=>{const ie=s.get("page");return ie?parseInt(ie,10):1}),[L,I]=M.useState(()=>s.get("search")||""),[j,O]=M.useState(()=>{const ie=s.get("sort");return ie&&["rating","rd","matches","name"].includes(ie)?ie:"rating"}),[q,ae]=M.useState(()=>{const ie=s.get("dir");return ie==="asc"||ie==="desc"?ie:"desc"});M.useEffect(()=>{const ie=new URLSearchParams;U!==1&&ie.set("page",U.toString()),L&&ie.set("search",L),j!=="rating"&&ie.set("sort",j),q!=="desc"&&ie.set("dir",q);const ve=ie.toString(),pe=s.toString();ve!==pe&&a(ie)},[U,L,j,q,a,s]);const re=M.useMemo(()=>{const ie=c.find(pe=>pe.status==="active"),ve=ie&&v===ie.id;return v===null?{players:e.filter(pe=>pe.rating!==null&&pe.rd!==null&&pe.volatility!==null),isArchived:!1,isAllSeasons:!0}:ve?{players:e.filter(pe=>pe.has_played_this_season&&pe.rating!==null&&pe.rd!==null&&pe.volatility!==null),isArchived:!1,isAllSeasons:!1}:{players:k.map(pe=>{var Me;return{id:pe.player_id,name:((Me=pe.player)==null?void 0:Me.name)||`Player ${pe.player_id}`,rating:pe.final_rating,rd:pe.final_rd,volatility:pe.final_volatility,matches_played:pe.matches_played_count,peak_rating:pe.peak_rating,peak_rating_date:pe.peak_rating_date}}),isArchived:!0,isAllSeasons:!1}},[v,c,e,k,t]),{rankedPlayers:ce,playerMatchCounts:J,playerRankings:we}=M.useMemo(()=>{const ie=re.players,ve=new Map;if(!re.isArchived&&t)for(const Me of t)ve.set(Me.player1_id,(ve.get(Me.player1_id)??0)+1),ve.set(Me.player2_id,(ve.get(Me.player2_id)??0)+1);else if(re.isArchived)for(const Me of ie)ve.set(Me.id,Me.matches_played||0);const pe=new Map;return ie.forEach((Me,ze)=>{pe.set(Me.id,ze+1)}),{rankedPlayers:ie,playerMatchCounts:ve,playerRankings:pe}},[re,t]),ke=M.useMemo(()=>{let ie=ce.filter(ve=>ve.rating!==null&&ve.rd!==null&&ve.volatility!==null);if(L.trim()){const ve=L.trim().toLowerCase();ie=ie.filter(pe=>pe.name.toLowerCase().includes(ve))}return ie},[ce,L]),Se=M.useMemo(()=>{const ie=[...ke];return ie.sort((ve,pe)=>{const Me=J.get(ve.id)??0,ze=J.get(pe.id)??0;let Be=0;switch(j){case"rating":Be=(ve.rating??0)-(pe.rating??0);break;case"rd":Be=(ve.rd??0)-(pe.rd??0);break;case"matches":Be=Me-ze;break;case"name":Be=ve.name.localeCompare(pe.name);break}return q==="asc"?Be:-Be}),ie},[ke,j,q,J]),me=ie=>{j===ie?ae(ve=>ve==="asc"?"desc":"asc"):(O(ie),ae(ie==="name"?"asc":"desc")),D(1)},Te=Math.ceil(Se.length/zl),We=M.useMemo(()=>{const ie=(U-1)*zl,ve=ie+zl;return Se.slice(ie,ve)},[Se,U]),Je=ie=>{if(j==="rating"&&q==="desc"){const ve=We[ie];return ve?we.get(ve.id)??0:0}return(U-1)*zl+ie+1};return U>Te&&Te>0&&D(1),f.jsxs("section",{className:"space-y-4",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Rankings"}),r&&f.jsx("p",{className:"text-muted-foreground",children:"Loading rankings..."}),n&&f.jsxs("div",{className:"text-red-500 text-sm",children:["Error loading data: ",n]}),!r&&!n&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[f.jsxs(Lg,{value:v===null?"all":v.toString(),onValueChange:ie=>w(ie==="all"?null:parseInt(ie,10)),children:[f.jsx(Fh,{className:"w-full sm:w-64",children:f.jsx(Ig,{placeholder:"Select a season"})}),f.jsxs(Wh,{children:[f.jsx(As,{value:"all",children:"All seasons"}),c.filter(ie=>ie.status==="active").map(ie=>f.jsx(As,{value:ie.id.toString(),children:ie.name},ie.id)),c.filter(ie=>ie.status==="archived").sort((ie,ve)=>ie.id-ve.id).map(ie=>f.jsxs(As,{value:ie.id.toString(),children:[ie.name," (Archived)"]},ie.id))]})]}),f.jsx(Qr,{placeholder:"Search player",value:L,onChange:ie=>{D(1),I(ie.target.value)},className:"w-full sm:w-56"})]}),P&&f.jsx("p",{className:"text-muted-foreground",children:"Loading season data..."}),f.jsxs(Kt,{children:[f.jsx(yr,{children:f.jsx(wr,{children:"Current Ratings"})}),f.jsx(er,{children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"text-left text-muted-foreground",children:f.jsxs("tr",{className:"border-b",children:[f.jsxs("th",{className:"py-2 pr-4",children:[f.jsx("span",{className:"sm:hidden",children:"#"}),f.jsx("span",{className:"hidden sm:inline",children:"#"})]}),f.jsx("th",{className:"py-2 pr-4",children:f.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary",onClick:()=>me("name"),children:[f.jsx("span",{className:"sm:hidden",children:"Name"}),f.jsx("span",{className:"hidden sm:inline",children:"Player"}),j==="name"?q==="asc"?f.jsx(Ta,{size:14}):f.jsx(Ma,{size:14}):f.jsx(Wf,{size:14})]})}),f.jsx("th",{className:"py-2 pr-4",children:f.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary",onClick:()=>me("rating"),children:[f.jsx("span",{className:"sm:hidden",children:"Rtng"}),f.jsx("span",{className:"hidden sm:inline",children:"Rating"}),j==="rating"?q==="asc"?f.jsx(Ta,{size:14}):f.jsx(Ma,{size:14}):f.jsx(Wf,{size:14})]})}),f.jsx("th",{className:"py-2 pr-4 hidden sm:table-cell",children:f.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary",onClick:()=>me("rd"),title:"Rating Deviation: measures the uncertainty in a player's rating. Lower = more certain; it decreases with play and increases with inactivity.",children:[f.jsx("span",{children:"Rating Deviation"}),j==="rd"?q==="asc"?f.jsx(Ta,{size:14}):f.jsx(Ma,{size:14}):f.jsx(Wf,{size:14})]})}),f.jsx("th",{className:"py-2 pr-4 hidden sm:table-cell",children:f.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary",onClick:()=>me("matches"),children:[f.jsx("span",{children:"Total matches"}),j==="matches"?q==="asc"?f.jsx(Ta,{size:14}):f.jsx(Ma,{size:14}):f.jsx(Wf,{size:14})]})})]})}),f.jsx("tbody",{children:Se.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"py-8 text-center text-muted-foreground",children:L?`No players found matching "${L}"`:"No players found."})}):We.map((ie,ve)=>{const pe=Je(ve),Me=J.get(ie.id)??0;return f.jsxs("tr",{className:"border-b last:border-0",children:[f.jsx("td",{className:"py-2 pr-4 w-10",children:pe}),f.jsx("td",{className:"py-2 pr-4",children:f.jsxs(Ar,{className:"flex items-center gap-2 text-primary hover:underline",to:`/players/${ie.id}`,children:[f.jsx(Rs,{name:ie.name,twitter:ie.twitter,size:32,className:"h-8 w-8"}),f.jsx("span",{children:ie.name})]})}),f.jsx("td",{className:"py-2 pr-4 font-medium",children:wk(ie.rating??0,0)}),f.jsx("td",{className:"py-2 pr-4 hidden sm:table-cell",title:"Rating Deviation: measures the uncertainty in a player's rating. Lower = more certain; it decreases with play and increases with inactivity.",children:wk(ie.rd??0,0)}),f.jsx("td",{className:"py-2 pr-4 hidden sm:table-cell",children:Me})]},ie.id)})})]})})})]})]}),!r&&Se.length>zl&&f.jsx(gw,{currentPage:U,totalPages:Te,onPageChange:D,itemsPerPage:zl,totalItems:Se.length})]})}var bk=1,EF=.9,MF=.8,TF=.17,Ix=.1,Dx=.999,AF=.9999,jF=.99,PF=/[\\\/_+.#"@\[\(\{&]/,NF=/[\\\/_+.#"@\[\(\{&]/g,OF=/[\s-]/,fT=/[\s-]/g;function u0(e,t,r,n,s,a,c){if(a===t.length)return s===e.length?bk:jF;var p=`${s},${a}`;if(c[p]!==void 0)return c[p];for(var v=n.charAt(a),w=r.indexOf(v,s),k=0,E,P,z,U;w>=0;)E=u0(e,t,r,n,w+1,a+1,c),E>k&&(w===s?E*=bk:PF.test(e.charAt(w-1))?(E*=MF,z=e.slice(s,w-1).match(NF),z&&s>0&&(E*=Math.pow(Dx,z.length))):OF.test(e.charAt(w-1))?(E*=EF,U=e.slice(s,w-1).match(fT),U&&s>0&&(E*=Math.pow(Dx,U.length))):(E*=TF,s>0&&(E*=Math.pow(Dx,w-s))),e.charAt(w)!==t.charAt(a)&&(E*=AF)),(E<Ix&&r.charAt(w-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&r.charAt(w-1)!==n.charAt(a))&&(P=u0(e,t,r,n,w+1,a+2,c),P*Ix>E&&(E=P*Ix)),E>k&&(k=E),w=r.indexOf(v,w+1);return c[p]=k,k}function Sk(e){return e.toLowerCase().replace(fT," ")}function RF(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,u0(e,t,Sk(e),Sk(t),0,0,{})}function LF(e,t){return M.useReducer((r,n)=>t[r][n]??r,e)}var Qa=e=>{const{present:t,children:r}=e,n=IF(t),s=typeof r=="function"?r({present:n.isPresent}):M.Children.only(r),a=sr(n.ref,DF(s));return typeof r=="function"||n.isPresent?M.cloneElement(s,{ref:a}):null};Qa.displayName="Presence";function IF(e){const[t,r]=M.useState(),n=M.useRef(null),s=M.useRef(e),a=M.useRef("none"),c=e?"mounted":"unmounted",[p,v]=LF(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const w=Yf(n.current);a.current=p==="mounted"?w:"none"},[p]),Br(()=>{const w=n.current,k=s.current;if(k!==e){const P=a.current,z=Yf(w);e?v("MOUNT"):z==="none"||(w==null?void 0:w.display)==="none"?v("UNMOUNT"):v(k&&P!==z?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,v]),Br(()=>{if(t){let w;const k=t.ownerDocument.defaultView??window,E=z=>{const D=Yf(n.current).includes(CSS.escape(z.animationName));if(z.target===t&&D&&(v("ANIMATION_END"),!s.current)){const L=t.style.animationFillMode;t.style.animationFillMode="forwards",w=k.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=L)})}},P=z=>{z.target===t&&(a.current=Yf(n.current))};return t.addEventListener("animationstart",P),t.addEventListener("animationcancel",E),t.addEventListener("animationend",E),()=>{k.clearTimeout(w),t.removeEventListener("animationstart",P),t.removeEventListener("animationcancel",E),t.removeEventListener("animationend",E)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:M.useCallback(w=>{n.current=w?getComputedStyle(w):null,r(w)},[])}}function Yf(e){return(e==null?void 0:e.animationName)||"none"}function DF(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Dg="Dialog",[pT]=Vo(Dg),[BF,Dn]=pT(Dg),gT=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:c=!0}=e,p=M.useRef(null),v=M.useRef(null),[w,k]=_c({prop:n,defaultProp:s??!1,onChange:a,caller:Dg});return f.jsx(BF,{scope:t,triggerRef:p,contentRef:v,contentId:mi(),titleId:mi(),descriptionId:mi(),open:w,onOpenChange:k,onOpenToggle:M.useCallback(()=>k(E=>!E),[k]),modal:c,children:r})};gT.displayName=Dg;var mT="DialogTrigger",$F=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(mT,r),a=sr(t,s.triggerRef);return f.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Fw(s.open),...n,ref:a,onClick:At(e.onClick,s.onOpenToggle)})});$F.displayName=mT;var $w="DialogPortal",[zF,vT]=pT($w,{forceMount:void 0}),xT=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Dn($w,t);return f.jsx(zF,{scope:t,forceMount:r,children:M.Children.map(n,c=>f.jsx(Qa,{present:r||a.open,children:f.jsx(Ag,{asChild:!0,container:s,children:c})}))})};xT.displayName=$w;var Gp="DialogOverlay",yT=M.forwardRef((e,t)=>{const r=vT(Gp,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Dn(Gp,e.__scopeDialog);return a.modal?f.jsx(Qa,{present:n||a.open,children:f.jsx(WF,{...s,ref:t})}):null});yT.displayName=Gp;var FF=Ba("DialogOverlay.RemoveScroll"),WF=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(Gp,r);return f.jsx(Pg,{as:FF,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(yt.div,{"data-state":Fw(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Wa="DialogContent",wT=M.forwardRef((e,t)=>{const r=vT(Wa,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Dn(Wa,e.__scopeDialog);return f.jsx(Qa,{present:n||a.open,children:a.modal?f.jsx(UF,{...s,ref:t}):f.jsx(HF,{...s,ref:t})})});wT.displayName=Wa;var UF=M.forwardRef((e,t)=>{const r=Dn(Wa,e.__scopeDialog),n=M.useRef(null),s=sr(t,r.contentRef,n);return M.useEffect(()=>{const a=n.current;if(a)return Dw(a)},[]),f.jsx(bT,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,p=c.button===0&&c.ctrlKey===!0;(c.button===2||p)&&a.preventDefault()}),onFocusOutside:At(e.onFocusOutside,a=>a.preventDefault())})}),HF=M.forwardRef((e,t)=>{const r=Dn(Wa,e.__scopeDialog),n=M.useRef(!1),s=M.useRef(!1);return f.jsx(bT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,p;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(n.current||(p=r.triggerRef.current)==null||p.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var v,w;(v=e.onInteractOutside)==null||v.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=a.target;((w=r.triggerRef.current)==null?void 0:w.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),bT=M.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...c}=e,p=Dn(Wa,r),v=M.useRef(null),w=sr(t,v);return Mw(),f.jsxs(f.Fragment,{children:[f.jsx(kg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:f.jsx(Sg,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Fw(p.open),...c,ref:w,onDismiss:()=>p.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(GF,{titleId:p.titleId}),f.jsx(XF,{contentRef:v,descriptionId:p.descriptionId})]})]})}),zw="DialogTitle",ST=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(zw,r);return f.jsx(yt.h2,{id:s.titleId,...n,ref:t})});ST.displayName=zw;var kT="DialogDescription",_T=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(kT,r);return f.jsx(yt.p,{id:s.descriptionId,...n,ref:t})});_T.displayName=kT;var CT="DialogClose",ET=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(CT,r);return f.jsx(yt.button,{type:"button",...n,ref:t,onClick:At(e.onClick,()=>s.onOpenChange(!1))})});ET.displayName=CT;function Fw(e){return e?"open":"closed"}var MT="DialogTitleWarning",[J5,TT]=u$(MT,{contentName:Wa,titleName:zw,docsSlug:"dialog"}),GF=({titleId:e})=>{const t=TT(MT),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return M.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},VF="DialogDescriptionWarning",XF=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TT(VF).contentName}}.`;return M.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},AT=gT,jT=xT,Ww=yT,Uw=wT,PT=ST,NT=_T,YF=ET,Fd='[cmdk-group=""]',Bx='[cmdk-group-items=""]',qF='[cmdk-group-heading=""]',OT='[cmdk-item=""]',kk=`${OT}:not([aria-disabled="true"])`,f0="cmdk-item-select",Hl="data-value",KF=(e,t,r)=>RF(e,t,r),RT=M.createContext(void 0),Uh=()=>M.useContext(RT),LT=M.createContext(void 0),Hw=()=>M.useContext(LT),IT=M.createContext(void 0),DT=M.forwardRef((e,t)=>{let r=Gl(()=>{var Ee,Ze;return{search:"",value:(Ze=(Ee=e.value)!=null?Ee:e.defaultValue)!=null?Ze:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Gl(()=>new Set),s=Gl(()=>new Map),a=Gl(()=>new Map),c=Gl(()=>new Set),p=BT(e),{label:v,children:w,value:k,onValueChange:E,filter:P,shouldFilter:z,loop:U,disablePointerSelection:D=!1,vimBindings:L=!0,...I}=e,j=mi(),O=mi(),q=mi(),ae=M.useRef(null),re=a3();Ua(()=>{if(k!==void 0){let Ee=k.trim();r.current.value=Ee,ce.emit()}},[k]),Ua(()=>{re(6,Te)},[]);let ce=M.useMemo(()=>({subscribe:Ee=>(c.current.add(Ee),()=>c.current.delete(Ee)),snapshot:()=>r.current,setState:(Ee,Ze,ot)=>{var tt,Ce,Oe,st;if(!Object.is(r.current[Ee],Ze)){if(r.current[Ee]=Ze,Ee==="search")me(),ke(),re(1,Se);else if(Ee==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ht=document.getElementById(q);ht?ht.focus():(tt=document.getElementById(j))==null||tt.focus()}if(re(7,()=>{var ht;r.current.selectedItemId=(ht=We())==null?void 0:ht.id,ce.emit()}),ot||re(5,Te),((Ce=p.current)==null?void 0:Ce.value)!==void 0){let ht=Ze??"";(st=(Oe=p.current).onValueChange)==null||st.call(Oe,ht);return}}ce.emit()}},emit:()=>{c.current.forEach(Ee=>Ee())}}),[]),J=M.useMemo(()=>({value:(Ee,Ze,ot)=>{var tt;Ze!==((tt=a.current.get(Ee))==null?void 0:tt.value)&&(a.current.set(Ee,{value:Ze,keywords:ot}),r.current.filtered.items.set(Ee,we(Ze,ot)),re(2,()=>{ke(),ce.emit()}))},item:(Ee,Ze)=>(n.current.add(Ee),Ze&&(s.current.has(Ze)?s.current.get(Ze).add(Ee):s.current.set(Ze,new Set([Ee]))),re(3,()=>{me(),ke(),r.current.value||Se(),ce.emit()}),()=>{a.current.delete(Ee),n.current.delete(Ee),r.current.filtered.items.delete(Ee);let ot=We();re(4,()=>{me(),(ot==null?void 0:ot.getAttribute("id"))===Ee&&Se(),ce.emit()})}),group:Ee=>(s.current.has(Ee)||s.current.set(Ee,new Set),()=>{a.current.delete(Ee),s.current.delete(Ee)}),filter:()=>p.current.shouldFilter,label:v||e["aria-label"],getDisablePointerSelection:()=>p.current.disablePointerSelection,listId:j,inputId:q,labelId:O,listInnerRef:ae}),[]);function we(Ee,Ze){var ot,tt;let Ce=(tt=(ot=p.current)==null?void 0:ot.filter)!=null?tt:KF;return Ee?Ce(Ee,r.current.search,Ze):0}function ke(){if(!r.current.search||p.current.shouldFilter===!1)return;let Ee=r.current.filtered.items,Ze=[];r.current.filtered.groups.forEach(tt=>{let Ce=s.current.get(tt),Oe=0;Ce.forEach(st=>{let ht=Ee.get(st);Oe=Math.max(ht,Oe)}),Ze.push([tt,Oe])});let ot=ae.current;Je().sort((tt,Ce)=>{var Oe,st;let ht=tt.getAttribute("id"),vt=Ce.getAttribute("id");return((Oe=Ee.get(vt))!=null?Oe:0)-((st=Ee.get(ht))!=null?st:0)}).forEach(tt=>{let Ce=tt.closest(Bx);Ce?Ce.appendChild(tt.parentElement===Ce?tt:tt.closest(`${Bx} > *`)):ot.appendChild(tt.parentElement===ot?tt:tt.closest(`${Bx} > *`))}),Ze.sort((tt,Ce)=>Ce[1]-tt[1]).forEach(tt=>{var Ce;let Oe=(Ce=ae.current)==null?void 0:Ce.querySelector(`${Fd}[${Hl}="${encodeURIComponent(tt[0])}"]`);Oe==null||Oe.parentElement.appendChild(Oe)})}function Se(){let Ee=Je().find(ot=>ot.getAttribute("aria-disabled")!=="true"),Ze=Ee==null?void 0:Ee.getAttribute(Hl);ce.setState("value",Ze||void 0)}function me(){var Ee,Ze,ot,tt;if(!r.current.search||p.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Ce=0;for(let Oe of n.current){let st=(Ze=(Ee=a.current.get(Oe))==null?void 0:Ee.value)!=null?Ze:"",ht=(tt=(ot=a.current.get(Oe))==null?void 0:ot.keywords)!=null?tt:[],vt=we(st,ht);r.current.filtered.items.set(Oe,vt),vt>0&&Ce++}for(let[Oe,st]of s.current)for(let ht of st)if(r.current.filtered.items.get(ht)>0){r.current.filtered.groups.add(Oe);break}r.current.filtered.count=Ce}function Te(){var Ee,Ze,ot;let tt=We();tt&&(((Ee=tt.parentElement)==null?void 0:Ee.firstChild)===tt&&((ot=(Ze=tt.closest(Fd))==null?void 0:Ze.querySelector(qF))==null||ot.scrollIntoView({block:"nearest"})),tt.scrollIntoView({block:"nearest"}))}function We(){var Ee;return(Ee=ae.current)==null?void 0:Ee.querySelector(`${OT}[aria-selected="true"]`)}function Je(){var Ee;return Array.from(((Ee=ae.current)==null?void 0:Ee.querySelectorAll(kk))||[])}function ie(Ee){let Ze=Je()[Ee];Ze&&ce.setState("value",Ze.getAttribute(Hl))}function ve(Ee){var Ze;let ot=We(),tt=Je(),Ce=tt.findIndex(st=>st===ot),Oe=tt[Ce+Ee];(Ze=p.current)!=null&&Ze.loop&&(Oe=Ce+Ee<0?tt[tt.length-1]:Ce+Ee===tt.length?tt[0]:tt[Ce+Ee]),Oe&&ce.setState("value",Oe.getAttribute(Hl))}function pe(Ee){let Ze=We(),ot=Ze==null?void 0:Ze.closest(Fd),tt;for(;ot&&!tt;)ot=Ee>0?s3(ot,Fd):o3(ot,Fd),tt=ot==null?void 0:ot.querySelector(kk);tt?ce.setState("value",tt.getAttribute(Hl)):ve(Ee)}let Me=()=>ie(Je().length-1),ze=Ee=>{Ee.preventDefault(),Ee.metaKey?Me():Ee.altKey?pe(1):ve(1)},Be=Ee=>{Ee.preventDefault(),Ee.metaKey?ie(0):Ee.altKey?pe(-1):ve(-1)};return M.createElement(yt.div,{ref:t,tabIndex:-1,...I,"cmdk-root":"",onKeyDown:Ee=>{var Ze;(Ze=I.onKeyDown)==null||Ze.call(I,Ee);let ot=Ee.nativeEvent.isComposing||Ee.keyCode===229;if(!(Ee.defaultPrevented||ot))switch(Ee.key){case"n":case"j":{L&&Ee.ctrlKey&&ze(Ee);break}case"ArrowDown":{ze(Ee);break}case"p":case"k":{L&&Ee.ctrlKey&&Be(Ee);break}case"ArrowUp":{Be(Ee);break}case"Home":{Ee.preventDefault(),ie(0);break}case"End":{Ee.preventDefault(),Me();break}case"Enter":{Ee.preventDefault();let tt=We();if(tt){let Ce=new Event(f0);tt.dispatchEvent(Ce)}}}}},M.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:c3},v),Bg(e,Ee=>M.createElement(LT.Provider,{value:ce},M.createElement(RT.Provider,{value:J},Ee))))}),ZF=M.forwardRef((e,t)=>{var r,n;let s=mi(),a=M.useRef(null),c=M.useContext(IT),p=Uh(),v=BT(e),w=(n=(r=v.current)==null?void 0:r.forceMount)!=null?n:c==null?void 0:c.forceMount;Ua(()=>{if(!w)return p.item(s,c==null?void 0:c.id)},[w]);let k=$T(s,a,[e.value,e.children,a],e.keywords),E=Hw(),P=Fo(re=>re.value&&re.value===k.current),z=Fo(re=>w||p.filter()===!1?!0:re.search?re.filtered.items.get(s)>0:!0);M.useEffect(()=>{let re=a.current;if(!(!re||e.disabled))return re.addEventListener(f0,U),()=>re.removeEventListener(f0,U)},[z,e.onSelect,e.disabled]);function U(){var re,ce;D(),(ce=(re=v.current).onSelect)==null||ce.call(re,k.current)}function D(){E.setState("value",k.current,!0)}if(!z)return null;let{disabled:L,value:I,onSelect:j,forceMount:O,keywords:q,...ae}=e;return M.createElement(yt.div,{ref:Da(a,t),...ae,id:s,"cmdk-item":"",role:"option","aria-disabled":!!L,"aria-selected":!!P,"data-disabled":!!L,"data-selected":!!P,onPointerMove:L||p.getDisablePointerSelection()?void 0:D,onClick:L?void 0:U},e.children)}),QF=M.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...a}=e,c=mi(),p=M.useRef(null),v=M.useRef(null),w=mi(),k=Uh(),E=Fo(z=>s||k.filter()===!1?!0:z.search?z.filtered.groups.has(c):!0);Ua(()=>k.group(c),[]),$T(c,p,[e.value,e.heading,v]);let P=M.useMemo(()=>({id:c,forceMount:s}),[s]);return M.createElement(yt.div,{ref:Da(p,t),...a,"cmdk-group":"",role:"presentation",hidden:E?void 0:!0},r&&M.createElement("div",{ref:v,"cmdk-group-heading":"","aria-hidden":!0,id:w},r),Bg(e,z=>M.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?w:void 0},M.createElement(IT.Provider,{value:P},z))))}),JF=M.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=M.useRef(null),a=Fo(c=>!c.search);return!r&&!a?null:M.createElement(yt.div,{ref:Da(s,t),...n,"cmdk-separator":"",role:"separator"})}),e3=M.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,a=Hw(),c=Fo(w=>w.search),p=Fo(w=>w.selectedItemId),v=Uh();return M.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),M.createElement(yt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":v.listId,"aria-labelledby":v.labelId,"aria-activedescendant":p,id:v.inputId,type:"text",value:s?e.value:c,onChange:w=>{s||a.setState("search",w.target.value),r==null||r(w.target.value)}})}),t3=M.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,a=M.useRef(null),c=M.useRef(null),p=Fo(w=>w.selectedItemId),v=Uh();return M.useEffect(()=>{if(c.current&&a.current){let w=c.current,k=a.current,E,P=new ResizeObserver(()=>{E=requestAnimationFrame(()=>{let z=w.offsetHeight;k.style.setProperty("--cmdk-list-height",z.toFixed(1)+"px")})});return P.observe(w),()=>{cancelAnimationFrame(E),P.unobserve(w)}}},[]),M.createElement(yt.div,{ref:Da(a,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":p,"aria-label":n,id:v.listId},Bg(e,w=>M.createElement("div",{ref:Da(c,v.listInnerRef),"cmdk-list-sizer":""},w)))}),r3=M.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:a,container:c,...p}=e;return M.createElement(AT,{open:r,onOpenChange:n},M.createElement(jT,{container:c},M.createElement(Ww,{"cmdk-overlay":"",className:s}),M.createElement(Uw,{"aria-label":e.label,"cmdk-dialog":"",className:a},M.createElement(DT,{ref:t,...p}))))}),i3=M.forwardRef((e,t)=>Fo(r=>r.filtered.count===0)?M.createElement(yt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),n3=M.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...a}=e;return M.createElement(yt.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Bg(e,c=>M.createElement("div",{"aria-hidden":!0},c)))}),Ni=Object.assign(DT,{List:t3,Item:ZF,Input:e3,Group:QF,Separator:JF,Dialog:r3,Empty:i3,Loading:n3});function s3(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function o3(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function BT(e){let t=M.useRef(e);return Ua(()=>{t.current=e}),t}var Ua=typeof window>"u"?M.useEffect:M.useLayoutEffect;function Gl(e){let t=M.useRef();return t.current===void 0&&(t.current=e()),t}function Fo(e){let t=Hw(),r=()=>e(t.snapshot());return M.useSyncExternalStore(t.subscribe,r,r)}function $T(e,t,r,n=[]){let s=M.useRef(),a=Uh();return Ua(()=>{var c;let p=(()=>{var w;for(let k of r){if(typeof k=="string")return k.trim();if(typeof k=="object"&&"current"in k)return k.current?(w=k.current.textContent)==null?void 0:w.trim():s.current}})(),v=n.map(w=>w.trim());a.value(e,p,v),(c=t.current)==null||c.setAttribute(Hl,p),s.current=p}),s}var a3=()=>{let[e,t]=M.useState(),r=Gl(()=>new Map);return Ua(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function l3(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Bg({asChild:e,children:t},r){return e&&M.isValidElement(t)?M.cloneElement(l3(t),{ref:t.ref},r(t.props.children)):r(t)}var c3={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Cc=AT,d3=jT,zT=M.forwardRef(({className:e,...t},r)=>f.jsx(Ww,{ref:r,className:gt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));zT.displayName=Ww.displayName;const Ha=M.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(d3,{children:[f.jsx(zT,{}),f.jsxs(Uw,{ref:n,className:gt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,f.jsxs(YF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(Cw,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ha.displayName=Uw.displayName;const Ga=({className:e,...t})=>f.jsx("div",{className:gt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ga.displayName="DialogHeader";const Hh=({className:e,...t})=>f.jsx("div",{className:gt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hh.displayName="DialogFooter";const Va=M.forwardRef(({className:e,...t},r)=>f.jsx(PT,{ref:r,className:gt("text-lg font-semibold leading-none tracking-tight",e),...t}));Va.displayName=PT.displayName;const Gh=M.forwardRef(({className:e,...t},r)=>f.jsx(NT,{ref:r,className:gt("text-sm text-muted-foreground",e),...t}));Gh.displayName=NT.displayName;const FT=M.forwardRef(({className:e,...t},r)=>f.jsx(Ni,{ref:r,className:gt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));FT.displayName=Ni.displayName;const WT=M.forwardRef(({className:e,...t},r)=>f.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[f.jsx(i$,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),f.jsx(Ni.Input,{ref:r,className:gt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));WT.displayName=Ni.Input.displayName;const UT=M.forwardRef(({className:e,...t},r)=>f.jsx(Ni.List,{ref:r,className:gt("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));UT.displayName=Ni.List.displayName;const HT=M.forwardRef((e,t)=>f.jsx(Ni.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));HT.displayName=Ni.Empty.displayName;const GT=M.forwardRef(({className:e,...t},r)=>f.jsx(Ni.Group,{ref:r,className:gt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));GT.displayName=Ni.Group.displayName;const h3=M.forwardRef(({className:e,...t},r)=>f.jsx(Ni.Separator,{ref:r,className:gt("-mx-1 h-px bg-border",e),...t}));h3.displayName=Ni.Separator.displayName;const VT=M.forwardRef(({className:e,...t},r)=>f.jsx(Ni.Item,{ref:r,className:gt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",e),...t}));VT.displayName=Ni.Item.displayName;var $g="Popover",[XT]=Vo($g,[Tg]),Vh=Tg(),[u3,qo]=XT($g),YT=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:c=!1}=e,p=Vh(t),v=M.useRef(null),[w,k]=M.useState(!1),[E,P]=_c({prop:n,defaultProp:s??!1,onChange:a,caller:$g});return f.jsx(xM,{...p,children:f.jsx(u3,{scope:t,contentId:mi(),triggerRef:v,open:E,onOpenChange:P,onOpenToggle:M.useCallback(()=>P(z=>!z),[P]),hasCustomAnchor:w,onCustomAnchorAdd:M.useCallback(()=>k(!0),[]),onCustomAnchorRemove:M.useCallback(()=>k(!1),[]),modal:c,children:r})})};YT.displayName=$g;var qT="PopoverAnchor",f3=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=qo(qT,r),a=Vh(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:p}=s;return M.useEffect(()=>(c(),()=>p()),[c,p]),f.jsx(Iw,{...a,...n,ref:t})});f3.displayName=qT;var KT="PopoverTrigger",ZT=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=qo(KT,r),a=Vh(r),c=sr(t,s.triggerRef),p=f.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rA(s.open),...n,ref:c,onClick:At(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?p:f.jsx(Iw,{asChild:!0,...a,children:p})});ZT.displayName=KT;var Gw="PopoverPortal",[p3,g3]=XT(Gw,{forceMount:void 0}),QT=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=qo(Gw,t);return f.jsx(p3,{scope:t,forceMount:r,children:f.jsx(Qa,{present:r||a.open,children:f.jsx(Ag,{asChild:!0,container:s,children:n})})})};QT.displayName=Gw;var Ec="PopoverContent",JT=M.forwardRef((e,t)=>{const r=g3(Ec,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=qo(Ec,e.__scopePopover);return f.jsx(Qa,{present:n||a.open,children:a.modal?f.jsx(v3,{...s,ref:t}):f.jsx(x3,{...s,ref:t})})});JT.displayName=Ec;var m3=Ba("PopoverContent.RemoveScroll"),v3=M.forwardRef((e,t)=>{const r=qo(Ec,e.__scopePopover),n=M.useRef(null),s=sr(t,n),a=M.useRef(!1);return M.useEffect(()=>{const c=n.current;if(c)return Dw(c)},[]),f.jsx(Pg,{as:m3,allowPinchZoom:!0,children:f.jsx(eA,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,c=>{var p;c.preventDefault(),a.current||(p=r.triggerRef.current)==null||p.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,c=>{const p=c.detail.originalEvent,v=p.button===0&&p.ctrlKey===!0,w=p.button===2||v;a.current=w},{checkForDefaultPrevented:!1}),onFocusOutside:At(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),x3=M.forwardRef((e,t)=>{const r=qo(Ec,e.__scopePopover),n=M.useRef(!1),s=M.useRef(!1);return f.jsx(eA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,p;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(n.current||(p=r.triggerRef.current)==null||p.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var v,w;(v=e.onInteractOutside)==null||v.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=a.target;((w=r.triggerRef.current)==null?void 0:w.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),eA=M.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:w,onInteractOutside:k,...E}=e,P=qo(Ec,r),z=Vh(r);return Mw(),f.jsx(kg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:f.jsx(Sg,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:k,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:w,onDismiss:()=>P.onOpenChange(!1),children:f.jsx(yM,{"data-state":rA(P.open),role:"dialog",id:P.contentId,...z,...E,ref:t,style:{...E.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tA="PopoverClose",y3=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=qo(tA,r);return f.jsx(yt.button,{type:"button",...n,ref:t,onClick:At(e.onClick,()=>s.onOpenChange(!1))})});y3.displayName=tA;var w3="PopoverArrow",b3=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Vh(r);return f.jsx(wM,{...s,...n,ref:t})});b3.displayName=w3;function rA(e){return e?"open":"closed"}var S3=YT,k3=ZT,_3=QT,iA=JT;const C3=S3,E3=k3,nA=M.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>f.jsx(_3,{children:f.jsx(iA,{ref:s,align:t,sideOffset:r,className:gt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));nA.displayName=iA.displayName;function Cs({options:e,value:t,onValueChange:r,placeholder:n="Select option...",searchPlaceholder:s="Search...",emptyText:a="No option found.",className:c}){const[p,v]=M.useState(!1),w=e.find(k=>k.value===t);return f.jsxs(C3,{open:p,onOpenChange:v,children:[f.jsx(E3,{asChild:!0,children:f.jsxs(_t,{variant:"outline",role:"combobox","aria-expanded":p,className:gt("w-full justify-between",c),children:[w?w.label:n,f.jsx(FB,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),f.jsx(nA,{className:"w-full p-0",align:"start",children:f.jsxs(FT,{children:[f.jsx(WT,{placeholder:s}),f.jsxs(UT,{children:[f.jsx(HT,{children:a}),f.jsx(GT,{children:e.map(k=>f.jsxs(VT,{value:k.label,keywords:[k.label,k.value],onSelect:()=>{r(k.value),v(!1)},children:[f.jsx(FE,{className:gt("mr-2 h-4 w-4",t===k.value?"opacity-100":"opacity-0")}),k.label]},k.value))})]})]})})]})}const Vp=.5,Xp=173.7178;function $x(e){return 1/Math.sqrt(1+3*e*e/(Math.PI*Math.PI))}function zx(e,t,r){return 1/(1+Math.exp(-r*(e-t)))}function qf(e){return{mu:(e.rating-1500)/Xp,phi:e.rd/Xp,sigma:e.vol}}function M3(e,t,r){return{rating:e*Xp+1500,rd:t*Xp,vol:r}}function _k(e,t){if(t.length===0)return e;const{mu:r,phi:n,sigma:s}=qf(e),c=1/t.reduce((ae,re)=>{const ce=qf(re.opponent),J=$x(ce.phi),we=zx(r,ce.mu,J);return ae+J*J*we*(1-we)},0),p=c*t.reduce((ae,re)=>{const ce=qf(re.opponent),J=$x(ce.phi),we=zx(r,ce.mu,J);return ae+J*(re.score-we)},0),v=Math.log(s*s),w=1e-6;let k=v,E;if(p*p>n*n+c)E=Math.log(Math.max(p*p-n*n-c,w));else{let ae=1;const re=1e3;for(;Kf(v-ae*Vp,p,n,c,v)<0&&ae<re;)ae++;if(ae>=re)return e;E=v-ae*Vp}let P=Kf(k,p,n,c,v),z=Kf(E,p,n,c,v),U=0;const D=100;for(;Math.abs(E-k)>w&&U<D;){const ae=k+(k-E)*P/(z-P),re=Kf(ae,p,n,c,v);re*z<0?(k=E,P=z):P/=2,E=ae,z=re,U++}if(U>=D||!isFinite(k))return e;const L=Math.exp(k/2),I=Math.sqrt(n*n+L*L),j=1/Math.sqrt(1/(I*I)+1/c),O=r+j*j*t.reduce((ae,re)=>{const ce=qf(re.opponent),J=$x(ce.phi),we=zx(r,ce.mu,J);return ae+J*(re.score-we)},0),q=M3(O,j,L);return!isFinite(q.rating)||!isFinite(q.rd)||!isFinite(q.vol)?e:q}function Kf(e,t,r,n,s){const a=Math.exp(e),c=a*(t*t-r*r-n-a),p=2*(r*r+n+a)*(r*r+n+a);return c/p-(e-s)/(Vp*Vp)}function Ck(e,t){const r=e.rating??1500,n={rating:r,rd:e.rd??350,vol:e.volatility??.06},s={rating:t.rating??1500,rd:t.rd??350,vol:t.volatility??.06},a=_k(n,[{opponent:s,score:1}]),c=a.rating-r,p=_k(n,[{opponent:s,score:0}]),v=p.rating-r;return{winRatingChange:c,loseRatingChange:v,winNewRating:a.rating,loseNewRating:p.rating}}function T3(e,t){return{player1:Ck(e,t),player2:Ck(t,e)}}function nc(e){return`${e>=0?"+":""}${e.toFixed(1)}`}const sA=M.createContext(void 0);function Vw(){const e=M.useContext(sA);if(!e)throw new Error("useMatchModal must be used within MatchModalProvider");return e}function A3({children:e}){const[t,r]=M.useState(null),n=M.useCallback(c=>{r(c)},[]),s=M.useCallback(()=>{r(null)},[]),a=M.useMemo(()=>({matchId:t,openMatch:n,closeMatch:s}),[t,n,s]);return f.jsx(sA.Provider,{value:a,children:e})}function Fx(e){return e.includes("youtube.com")||e.includes("youtu.be")?f.jsx(VE,{size:14}):e.includes("twitch.tv")?f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",className:"inline-block",children:f.jsx("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})}):f.jsx(UE,{size:14})}function oA({match:e,player1:t,player2:r,showMatchNumber:n,matchNumber:s,event:a,showEventLink:c=!1,showLinksInHeader:p=!1}){const{openMatch:v}=Vw(),w=e.winner_id!==null,k=e.winner_id===e.player1_id,E=c&&a||e.vod_link;return f.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[(n||p&&E)&&f.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[p&&E&&f.jsxs(f.Fragment,{children:[c&&a&&f.jsx(Ar,{className:"text-primary hover:underline inline-flex items-center gap-1",to:`/events/${a.id}`,children:a.title}),e.vod_link&&!n&&f.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:[Fx(e.vod_link),"Match Video"]})]}),n&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-sm font-medium text-muted-foreground",children:["Match ",s]}),w&&f.jsx("div",{className:"text-xs font-medium text-muted-foreground px-2 py-1 bg-muted rounded",children:"Completed"})]})]}),n&&e.vod_link&&f.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1 text-sm",children:[Fx(e.vod_link),"Match Video"]})]}),f.jsxs("div",{className:`flex items-center justify-between ${w&&k?"bg-green-500/10 -mx-4 px-4 py-2 rounded-lg":""}`,children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[f.jsx(Rs,{name:t.name,twitter:t.twitter,size:48,className:"h-12 w-12 shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx(Ar,{to:`/players/${t.id}`,className:"hover:underline",children:f.jsxs("div",{className:`font-semibold flex items-center gap-2 flex-wrap ${w&&k?"text-green-600 dark:text-green-400":w?"text-muted-foreground":""}`,children:[w&&k&&f.jsx("span",{className:"text-green-600 dark:text-green-400",children:""}),f.jsx("span",{className:"truncate",children:t.name}),w&&k&&f.jsx("span",{className:"text-xs font-normal uppercase px-1.5 py-0.5 bg-green-600/20 rounded whitespace-nowrap",children:"Winner"})]})}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:["Rating: ",t.rating===null?"Unrated":Math.round(t.rating)]})]})]}),w&&f.jsx("div",{className:"text-sm font-medium shrink-0",children:f.jsx("span",{className:e.rating_change_p1&&e.rating_change_p1>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:e.rating_change_p1!==null&&e.rating_change_p1!==void 0?nc(e.rating_change_p1):""})})]}),w?f.jsxs("button",{onClick:()=>v(e.id),className:"flex items-center justify-center gap-2 font-semibold cursor-pointer w-full",children:[f.jsx("span",{className:k?"text-green-600 dark:text-green-400 text-2xl":"text-muted-foreground text-xl",children:e.player1_score??"?"}),f.jsx("span",{className:"text-muted-foreground",children:"-"}),f.jsx("span",{className:k?"text-muted-foreground text-xl":"text-green-600 dark:text-green-400 text-2xl",children:e.player2_score??"?"})]}):f.jsx("div",{className:"flex items-center justify-center text-muted-foreground font-semibold",children:"VS"}),f.jsxs("div",{className:`flex items-center justify-between ${w&&!k?"bg-green-500/10 -mx-4 px-4 py-2 rounded-lg":""}`,children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[f.jsx(Rs,{name:r.name,twitter:r.twitter,size:48,className:"h-12 w-12 shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx(Ar,{to:`/players/${r.id}`,className:"hover:underline",children:f.jsxs("div",{className:`font-semibold flex items-center gap-2 flex-wrap ${w&&!k?"text-green-600 dark:text-green-400":w?"text-muted-foreground":""}`,children:[w&&!k&&f.jsx("span",{className:"text-green-600 dark:text-green-400",children:""}),f.jsx("span",{className:"truncate",children:r.name}),w&&!k&&f.jsx("span",{className:"text-xs font-normal uppercase px-1.5 py-0.5 bg-green-600/20 rounded whitespace-nowrap",children:"Winner"})]})}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:["Rating: ",r.rating===null?"Unrated":Math.round(r.rating)]})]})]}),w&&f.jsx("div",{className:"text-sm font-medium shrink-0",children:f.jsx("span",{className:e.rating_change_p2&&e.rating_change_p2>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:e.rating_change_p2!==null&&e.rating_change_p2!==void 0?nc(e.rating_change_p2):""})})]}),!p&&!n&&E&&f.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-muted-foreground border-t pt-2",children:[c&&a&&f.jsxs(Ar,{className:"text-primary hover:underline inline-flex items-center gap-1",to:`/events/${a.id}`,children:["Event: ",a.title]}),e.vod_link&&f.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:[Fx(e.vod_link),"Match Video"]})]})]})}const Wd=25;function j3(){fn("Matches");const{players:e,matches:t,loading:r}=wg(),[n,s]=iE(),[a,c]=M.useState([]),[p,v]=M.useState([]),[w,k]=M.useState(()=>{const re=n.get("season");if(re===null||re==="all")return null;const ce=parseInt(re,10);return Number.isFinite(ce)?ce:null}),[E,P]=M.useState(()=>n.get("search")||""),[z,U]=M.useState(()=>{const re=n.get("page");return re?parseInt(re,10):1});M.useEffect(()=>{const re=new URLSearchParams;z!==1&&re.set("page",z.toString()),E&&re.set("search",E),w!==null?re.set("season",String(w)):re.set("season","all");const ce=re.toString(),J=n.toString();ce!==J&&s(re)},[z,E,w,s,n]),M.useEffect(()=>{let re=!0;return(async()=>{const ce=await $h();re&&c(ce)})(),()=>{re=!1}},[]),M.useEffect(()=>{let re=!0;return(async()=>{const ce=await zc();re&&v(ce)})(),()=>{re=!1}},[]);const D=new Map(e.map(re=>[re.id,re])),L=new Map(a.map(re=>[re.id,re])),j=[...t].sort((re,ce)=>ce.id-re.id).filter(re=>{var ke,Se;const ce=((ke=D.get(re.player1_id))==null?void 0:ke.name)??"",J=((Se=D.get(re.player2_id))==null?void 0:Se.name)??"",we=E.toLowerCase();return ce.toLowerCase().includes(we)||J.toLowerCase().includes(we)}),O=w===null?j:j.filter(re=>re.season_id===w),q=Math.ceil(O.length/Wd),ae=M.useMemo(()=>{const re=(z-1)*Wd,ce=re+Wd;return O.slice(re,ce)},[O,z]);return M.useEffect(()=>{U(1)},[E]),M.useEffect(()=>{U(1)},[w]),f.jsxs("section",{className:"space-y-4",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Matches"}),r&&f.jsx("p",{className:"text-muted-foreground",children:"Loading..."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[f.jsx("div",{className:"max-w-md w-full",children:f.jsx(Qr,{placeholder:"Filter by player name...",value:E,onChange:re=>P(re.target.value)})}),f.jsx("div",{className:"w-full sm:w-64",children:f.jsx(Cs,{value:w===null?"all":String(w),onValueChange:re=>{k(re==="all"?null:parseInt(re,10))},placeholder:"Select season...",searchPlaceholder:"Search seasons...",options:[{value:"all",label:"All seasons"},...p.filter(re=>re.status==="active").map(re=>({value:String(re.id),label:`${re.name} (Active)`})),...p.filter(re=>re.status==="archived").sort((re,ce)=>re.id-ce.id).map(re=>({value:String(re.id),label:`${re.name} (Archived)`}))]})})]}),ae.length===0?f.jsx(Kt,{children:f.jsx(er,{className:"py-8",children:f.jsx("p",{className:"text-muted-foreground text-center",children:E?`No matches found for "${E}"`:"No matches found"})})}):f.jsx("div",{className:"space-y-3",children:ae.map(re=>{const ce=D.get(re.player1_id),J=D.get(re.player2_id),we=re.event_id?L.get(re.event_id):null;return!ce||!J?null:f.jsx(oA,{match:re,player1:ce,player2:J,event:we,showEventLink:!0,showLinksInHeader:!0},re.id)})}),O.length>Wd&&f.jsx(gw,{currentPage:z,totalPages:q,onPageChange:U,itemsPerPage:Wd,totalItems:O.length})]})}function P3(){fn("Events");const[e,t]=M.useState([]),[r,n]=M.useState([]),[s,a]=M.useState(!0);M.useEffect(()=>{let p=!0;return(async()=>{const[v,w]=await Promise.all([$h(),$E()]);p&&(t(v),n(w),a(!1))})(),()=>{p=!1}},[]);const c=M.useMemo(()=>e.length?e.map(p=>{const v=r.filter(k=>k.event_id===p.id),w=v.filter(k=>k.winner_id!==null);return{...p,matchCount:v.length,completedCount:w.length}}):[],[e,r]);return s?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Events"}),f.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]}):c.length===0?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Events"}),f.jsx(Kt,{children:f.jsx(er,{className:"pt-6",children:f.jsx("p",{className:"text-muted-foreground",children:"No events found."})})})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Events"}),f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:c.map(p=>{const v=new Date(p.event_date)<new Date;return f.jsx(Ar,{to:`/events/${p.id}`,children:f.jsxs(Kt,{className:"h-full hover:bg-accent transition-colors cursor-pointer",children:[f.jsxs(yr,{children:[f.jsxs(wr,{className:"flex items-center gap-2 text-lg",children:[p.title,v&&f.jsx("span",{className:"text-xs font-normal text-muted-foreground px-2 py-1 bg-muted rounded",children:"Past"})]}),f.jsx(Zr,{className:"text-sm",children:new Date(p.event_date).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),f.jsxs(er,{children:[p.description&&f.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:p.description}),f.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[f.jsxs("div",{className:"text-muted-foreground",children:[f.jsx("span",{className:"font-medium text-foreground",children:p.matchCount})," matches"]}),p.matchCount>0&&f.jsxs("div",{className:"text-muted-foreground",children:[f.jsx("span",{className:"font-medium text-foreground",children:p.completedCount})," completed"]})]}),p.stream_url&&f.jsx("div",{className:"mt-3 text-xs text-primary",children:v?" VOD Available":" Live Stream"})]})]})},p.id)})})]})}function N3(){const{id:e}=ZC(),[t,r]=M.useState([]),[n,s]=M.useState(null),[a,c]=M.useState([]),[p,v]=M.useState(!0);M.useEffect(()=>{let E=!0;return(async()=>{const[P,z,U]=await Promise.all([bw(),$h(),$E()]);if(!E)return;r(P);const D=z.find(L=>L.id===Number(e));s(D||null),c(U.filter(L=>L.event_id===Number(e))),v(!1)})(),()=>{E=!1}},[e]);const w=M.useMemo(()=>{if(!t.length||!a.length)return[];const E=new Map(t.map(P=>[P.id,P]));return a.map(P=>({...P,player1:E.get(P.player1_id),player2:E.get(P.player2_id)})).sort((P,z)=>(P.match_order??0)-(z.match_order??0))},[t,a]);if(p)return fn("Event"),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsx(Ar,{to:"/events",children:f.jsx(_t,{variant:"outline",size:"sm",children:" Back to Events"})})}),f.jsx("h1",{className:"text-3xl font-bold",children:"Loading..."})]});if(!n)return fn("Event Not Found"),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsx(Ar,{to:"/events",children:f.jsx(_t,{variant:"outline",size:"sm",children:" Back to Events"})})}),f.jsx("h1",{className:"text-3xl font-bold",children:"Event Not Found"}),f.jsx("p",{className:"text-muted-foreground",children:"The event you're looking for doesn't exist."})]});const k=new Date(n.event_date)<new Date;return fn(`Event - ${n.title}`),f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsx(Ar,{to:"/events",children:f.jsx(_t,{variant:"outline",size:"sm",children:" Back to Events"})})}),f.jsxs(Kt,{children:[f.jsx(yr,{children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsxs(wr,{className:"flex items-center gap-2",children:[n.title,k&&f.jsx("span",{className:"text-xs font-normal text-muted-foreground px-2 py-1 bg-muted rounded",children:"Past Event"})]}),f.jsx(Zr,{children:new Date(n.event_date).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})}),n.description&&f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:n.description})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[n.stream_url&&f.jsx("a",{href:n.stream_url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium text-center",children:k?"Stream VOD":"Watch Stream"}),n.vod_link&&f.jsx("a",{href:n.vod_link,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors text-sm font-medium text-center",children:"Event VOD"})]})]})}),f.jsx(er,{children:w.length===0?f.jsx("p",{className:"text-muted-foreground text-sm",children:"No matches scheduled for this event yet."}):f.jsx("div",{className:"space-y-4",children:w.map((E,P)=>{const{player1:z,player2:U}=E;return!z||!U?f.jsx("div",{className:"p-4 border rounded-lg",children:f.jsxs("p",{className:"text-muted-foreground",children:["Match ",P+1,": Player data not found"]})},E.id):f.jsx(oA,{match:E,player1:z,player2:U,event:n,showMatchNumber:!0,matchNumber:P+1,showEventLink:!1},E.id)})})})]})]})}function O3(){return fn("Profile"),f.jsxs("section",{className:"space-y-4",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Profile"}),f.jsx("p",{className:"text-muted-foreground",children:"Coming soon."})]})}var aA={exports:{}};(function(e,t){(function(r,n){e.exports=n(M)})(typeof self<"u"?self:vi,function(r){return function(n){function s(c){if(a[c])return a[c].exports;var p=a[c]={i:c,l:!1,exports:{}};return n[c].call(p.exports,p,p.exports,s),p.l=!0,p.exports}var a={};return s.m=n,s.c=a,s.d=function(c,p,v){s.o(c,p)||Object.defineProperty(c,p,{configurable:!1,enumerable:!0,get:v})},s.n=function(c){var p=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(p,"a",p),p},s.o=function(c,p){return Object.prototype.hasOwnProperty.call(c,p)},s.p="",s(s.s=0)}([function(n,s,a){function c(){return c=Object.assign?Object.assign.bind():function(j){for(var O=1;O<arguments.length;O++){var q=arguments[O];for(var ae in q)Object.prototype.hasOwnProperty.call(q,ae)&&(j[ae]=q[ae])}return j},c.apply(this,arguments)}function p(j){return E(j)||k(j)||w(j)||v()}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(j,O){if(j){if(typeof j=="string")return P(j,O);var q=Object.prototype.toString.call(j).slice(8,-1);return q==="Object"&&j.constructor&&(q=j.constructor.name),q==="Map"||q==="Set"?Array.from(j):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?P(j,O):void 0}}function k(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function E(j){if(Array.isArray(j))return P(j)}function P(j,O){(O==null||O>j.length)&&(O=j.length);for(var q=0,ae=new Array(O);q<O;q++)ae[q]=j[q];return ae}function z(j){"@babel/helpers - typeof";return(z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(j)}Object.defineProperty(s,"__esModule",{value:!0}),a.d(s,"HighchartsReact",function(){return I});var U=a(1),D=a.n(U),L=typeof window<"u"?U.useLayoutEffect:U.useEffect,I=Object(U.memo)(Object(U.forwardRef)(function(j,O){var q=Object(U.useRef)(),ae=Object(U.useRef)(),re=Object(U.useRef)(j.constructorType),ce=Object(U.useRef)(j.highcharts);return L(function(){function J(){var ke=j.highcharts||(typeof window>"u"?"undefined":z(window))==="object"&&window.Highcharts,Se=j.constructorType||"chart";ke?ke[Se]?j.options?ae.current=ke[Se](q.current,j.options,j.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(ae.current){if(j.allowChartUpdate!==!1)if(j.constructorType!==re.current||j.highcharts!==ce.current)re.current=j.constructorType,ce.current=j.highcharts,J();else if(!j.immutable&&ae.current){var we;(we=ae.current).update.apply(we,[j.options].concat(p(j.updateArgs||[!0,!0])))}else J()}else J()},[j.options,j.allowChartUpdate,j.updateArgs,j.containerProps,j.highcharts,j.constructorType]),L(function(){return function(){ae.current&&(ae.current.destroy(),ae.current=null)}},[]),Object(U.useImperativeHandle)(O,function(){return{get chart(){return ae.current},container:q}},[]),D.a.createElement("div",c({},j.containerProps,{ref:q}))}));s.default=I},function(n,s){n.exports=r}])})})(aA);var R3=aA.exports;const L3=jh(R3);var lA={exports:{}};(function(e,t){(function(r,n){r._Highcharts=n(),e.exports=r._Highcharts})(typeof window>"u"?vi:window,()=>(()=>{var i1;let r,n;var s,a,c,p,v,w,k,E,P,z,U,D,L,I,j,O,q,ae,re={};re.d=(y,i)=>{for(var o in i)re.o(i,o)&&!re.o(y,o)&&Object.defineProperty(y,o,{enumerable:!0,get:i[o]})},re.o=(y,i)=>Object.prototype.hasOwnProperty.call(y,i);var ce={};re.d(ce,{default:()=>yP}),function(y){var i,o,l,d,h,u,g;y.SVG_NS="http://www.w3.org/2000/svg",y.product="Highcharts",y.version="12.4.0",y.win=typeof window<"u"?window:{},y.doc=y.win.document,y.svg=!!((l=(o=(i=y.doc)==null?void 0:i.createElementNS)==null?void 0:o.call(i,y.SVG_NS,"svg"))!=null&&l.createSVGRect),y.pageLang=(u=(h=(d=y.doc)==null?void 0:d.documentElement)==null?void 0:h.closest("[lang]"))==null?void 0:u.lang,y.userAgent=((g=y.win.navigator)==null?void 0:g.userAgent)||"",y.isChrome=y.win.chrome,y.isFirefox=y.userAgent.indexOf("Firefox")!==-1,y.isMS=/(edge|msie|trident)/i.test(y.userAgent)&&!y.win.opera,y.isSafari=!y.isChrome&&y.userAgent.indexOf("Safari")!==-1,y.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(y.userAgent),y.isWebKit=y.userAgent.indexOf("AppleWebKit")!==-1,y.deg2rad=2*Math.PI/360,y.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],y.noop=function(){},y.supportsPassiveEvents=function(){let m=!1;if(!y.isMS){let x=Object.defineProperty({},"passive",{get:function(){m=!0}});y.win.addEventListener&&y.win.removeEventListener&&(y.win.addEventListener("testPassive",y.noop,x),y.win.removeEventListener("testPassive",y.noop,x))}return m}(),y.charts=[],y.composed=[],y.dateFormats={},y.seriesTypes={},y.symbolSizes={},y.chartCount=0}(s||(s={}));let J=s,{charts:we,doc:ke,win:Se}=J;function me(y,i,o,l){let d=i?"Highcharts error":"Highcharts warning";y===32&&(y=`${d}: Deprecated member`);let h=Me(y),u=h?`${d} #${y}: www.highcharts.com/errors/${y}/`:y.toString();if(l!==void 0){let g="";h&&(u+="?"),ht(l,function(m,x){g+=`
 - ${x}: ${m}`,h&&(u+=encodeURI(x)+"="+encodeURI(m))}),u+=g}ft(J,"displayError",{chart:o,code:y,message:u,params:l},function(){if(i)throw Error(u);Se.console&&me.messages.indexOf(u)===-1&&console.warn(u)}),me.messages.push(u)}function Te(y,i){return parseInt(y,i||10)}function We(y){return typeof y=="string"}function Je(y){let i=Object.prototype.toString.call(y);return i==="[object Array]"||i==="[object Array Iterator]"}function ie(y,i){return!!y&&typeof y=="object"&&(!i||!Je(y))}function ve(y){return ie(y)&&typeof y.nodeType=="number"}function pe(y){let i=y==null?void 0:y.constructor;return!!(ie(y,!0)&&!ve(y)&&(i!=null&&i.name)&&i.name!=="Object")}function Me(y){return typeof y=="number"&&!isNaN(y)&&y<1/0&&y>-1/0}function ze(y){return y!=null}function Be(y,i,o){let l,d=We(i)&&!ze(o),h=(u,g)=>{ze(u)?y.setAttribute(g,u):d?(l=y.getAttribute(g))||g!=="class"||(l=y.getAttribute(g+"Name")):y.removeAttribute(g)};return We(i)?h(o,i):ht(i,h),l}function Ee(y){return Je(y)?y:[y]}function Ze(y,i){let o;for(o in y||(y={}),i)y[o]=i[o];return y}function ot(){let y=arguments,i=y.length;for(let o=0;o<i;o++){let l=y[o];if(l!=null)return l}}function tt(y,i){Ze(y.style,i)}function Ce(y){return Math.pow(10,Math.floor(Math.log(y)/Math.LN10))}function Oe(y,i){return y>1e14?y:parseFloat(y.toPrecision(i||14))}(me||(me={})).messages=[],Math.easeInOutSine=function(y){return-.5*(Math.cos(Math.PI*y)-1)};let st=Array.prototype.find?function(y,i){return y.find(i)}:function(y,i){let o,l=y.length;for(o=0;o<l;o++)if(i(y[o],o))return y[o]};function ht(y,i,o){for(let l in y)Object.hasOwnProperty.call(y,l)&&i.call(o||y[l],y[l],l,y)}function vt(y,i,o){function l(u,g){let m=y.removeEventListener;m&&m.call(y,u,g,!1)}function d(u){let g,m;y.nodeName&&(i?(g={})[i]=!0:g=u,ht(g,function(x,_){if(u[_])for(m=u[_].length;m--;)l(_,u[_][m].fn)}))}let h=typeof y=="function"&&y.prototype||y;if(Object.hasOwnProperty.call(h,"hcEvents")){let u=h.hcEvents;if(i){let g=u[i]||[];o?(u[i]=g.filter(function(m){return o!==m.fn}),l(i,o)):(d(u),u[i]=[])}else d(u),delete h.hcEvents}}function ft(y,i,o,l){if(o=o||{},(ke==null?void 0:ke.createEvent)&&(y.dispatchEvent||y.fireEvent&&y!==J)){let d=ke.createEvent("Events");d.initEvent(i,!0,!0),o=Ze(d,o),y.dispatchEvent?y.dispatchEvent(o):y.fireEvent(i,o)}else if(y.hcEvents){o.target||Ze(o,{preventDefault:function(){o.defaultPrevented=!0},target:y,type:i});let d=[],h=y,u=!1;for(;h.hcEvents;)Object.hasOwnProperty.call(h,"hcEvents")&&h.hcEvents[i]&&(d.length&&(u=!0),d.unshift.apply(d,h.hcEvents[i])),h=Object.getPrototypeOf(h);u&&d.sort((g,m)=>g.order-m.order),d.forEach(g=>{g.fn.call(y,o)===!1&&o.preventDefault()})}l&&!o.defaultPrevented&&l.call(y,o)}let St=function(){let y=Math.random().toString(36).substring(2,9)+"-",i=0;return function(){return"highcharts-"+(r?"":y)+i++}}();Se.jQuery&&(Se.jQuery.fn.highcharts=function(){let y=[].slice.call(arguments);if(this[0])return y[0]?(new J[We(y[0])?y.shift():"Chart"](this[0],y[0],y[1]),this):we[Be(this[0],"data-highcharts-chart")]});let Ke={addEvent:function(y,i,o,l={}){let d=typeof y=="function"&&y.prototype||y;Object.hasOwnProperty.call(d,"hcEvents")||(d.hcEvents={});let h=d.hcEvents;J.Point&&y instanceof J.Point&&y.series&&y.series.chart&&(y.series.chart.runTrackerClick=!0);let u=y.addEventListener;u&&u.call(y,i,o,!!J.supportsPassiveEvents&&{passive:l.passive===void 0?i.indexOf("touch")!==-1:l.passive,capture:!1}),h[i]||(h[i]=[]);let g={fn:o,order:typeof l.order=="number"?l.order:1/0};return h[i].push(g),h[i].sort((m,x)=>m.order-x.order),function(){vt(y,i,o)}},arrayMax:function(y){let i=y.length,o=y[0];for(;i--;)y[i]>o&&(o=y[i]);return o},arrayMin:function(y){let i=y.length,o=y[0];for(;i--;)y[i]<o&&(o=y[i]);return o},attr:Be,clamp:function(y,i,o){return y>i?y<o?y:o:i},clearTimeout:function(y){ze(y)&&clearTimeout(y)},correctFloat:Oe,createElement:function(y,i,o,l,d){let h=ke.createElement(y);return i&&Ze(h,i),d&&tt(h,{padding:"0",border:"none",margin:"0"}),o&&tt(h,o),l&&l.appendChild(h),h},crisp:function(y,i=0,o){let l=i%2/2,d=o?-1:1;return(Math.round(y*d-l)+l)*d},css:tt,defined:ze,destroyObjectProperties:function(y,i,o){ht(y,function(l,d){l!==i&&(l!=null&&l.destroy)&&l.destroy(),(l!=null&&l.destroy||!o)&&delete y[d]})},diffObjects:function(y,i,o,l){let d={};return function h(u,g,m,x){let _=o?g:u;ht(u,function(b,C){if(!x&&l&&l.indexOf(C)>-1&&g[C]){b=Ee(b),m[C]=[];for(let T=0;T<Math.max(b.length,g[C].length);T++)g[C][T]&&(b[T]===void 0?m[C][T]=g[C][T]:(m[C][T]={},h(b[T],g[C][T],m[C][T],x+1)))}else ie(b,!0)&&!b.nodeType?(m[C]=Je(b)?[]:{},h(b,g[C]||{},m[C],x+1),Object.keys(m[C]).length===0&&(C!=="colorAxis"||x!==0)&&delete m[C]):(u[C]!==g[C]||C in u&&!(C in g))&&C!=="__proto__"&&C!=="constructor"&&(m[C]=_[C])})}(y,i,d,0),d},discardElement:function(y){var i;(i=y==null?void 0:y.parentElement)==null||i.removeChild(y)},erase:function(y,i){let o=y.length;for(;o--;)if(y[o]===i){y.splice(o,1);break}},error:me,extend:Ze,extendClass:function(y,i){let o=function(){};return o.prototype=new y,Ze(o.prototype,i),o},find:st,fireEvent:ft,getAlignFactor:(y="")=>({center:.5,right:1,middle:.5,bottom:1})[y]||0,getClosestDistance:function(y,i){let o,l,d,h=!i;return y.forEach(u=>{if(u.length>1)for(d=u.length-1;d>0;d--)(l=u[d]-u[d-1])<0&&!h?(i==null||i(),i=void 0):l&&(o===void 0||l<o)&&(o=l)}),o},getMagnitude:Ce,getNestedProperty:function(y,i){let o=y.split(".");for(;o.length&&ze(i);){let l=o.shift();if(l===void 0||l==="__proto__")return;if(l==="this"){let h;return ie(i)&&(h=i["@this"]),h??i}let d=i[l.replace(/[\\'"]/g,"")];if(!ze(d)||typeof d=="function"||typeof d.nodeType=="number"||d===Se)return;i=d}return i},getStyle:function y(i,o,l){var u;let d;if(o==="width"){let g=Math.min(i.offsetWidth,i.scrollWidth),m=(u=i.getBoundingClientRect)==null?void 0:u.call(i).width;return m<g&&m>=g-1&&(g=Math.floor(m)),Math.max(0,g-(y(i,"padding-left",!0)||0)-(y(i,"padding-right",!0)||0))}if(o==="height")return Math.max(0,Math.min(i.offsetHeight,i.scrollHeight)-(y(i,"padding-top",!0)||0)-(y(i,"padding-bottom",!0)||0));let h=Se.getComputedStyle(i,void 0);return h&&(d=h.getPropertyValue(o),ot(l,o!=="opacity")&&(d=Te(d))),d},insertItem:function(y,i){let o,l=y.options.index,d=i.length;for(o=y.options.isInternal?d:0;o<d+1;o++)if(!i[o]||Me(l)&&l<ot(i[o].options.index,i[o]._i)||i[o].options.isInternal){i.splice(o,0,y);break}return o},isArray:Je,isClass:pe,isDOMElement:ve,isFunction:function(y){return typeof y=="function"},isNumber:Me,isObject:ie,isString:We,merge:function(y,...i){let o,l=[y,...i],d={},h=function(g,m){return typeof g!="object"&&(g={}),ht(m,function(x,_){_!=="__proto__"&&_!=="constructor"&&(!ie(x,!0)||pe(x)||ve(x)?g[_]=m[_]:g[_]=h(g[_]||{},x))}),g};y===!0&&(d=l[1],l=Array.prototype.slice.call(l,2));let u=l.length;for(o=0;o<u;o++)d=h(d,l[o]);return d},normalizeTickInterval:function(y,i,o,l,d){let h,u=y;o=ot(o,Ce(y));let g=y/o;for(!i&&(i=d?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],l===!1&&(o===1?i=i.filter(function(m){return m%1==0}):o<=.1&&(i=[1/o]))),h=0;h<i.length&&(u=i[h],(!d||!(u*o>=y))&&(d||!(g<=(i[h]+(i[h+1]||i[h]))/2)));h++);return Oe(u*o,-Math.round(Math.log(.001)/Math.LN10))},objectEach:ht,offset:function(y){let i=ke.documentElement,o=y.parentElement||y.parentNode?y.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:o.top+(Se.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(Se.pageXOffset||i.scrollLeft)-(i.clientLeft||0),width:o.width,height:o.height}},pad:function(y,i,o){return Array((i||2)+1-String(y).replace("-","").length).join(o||"0")+y},pick:ot,pInt:Te,pushUnique:function(y,i){return 0>y.indexOf(i)&&!!y.push(i)},relativeLength:function(y,i,o){return/%$/.test(y)?i*parseFloat(y)/100+(o||0):parseFloat(y)},removeEvent:vt,replaceNested:function(y,...i){let o,l;do for(l of(o=y,i))y=y.replace(l[0],l[1]);while(y!==o);return y},splat:Ee,stableSort:function(y,i){let o,l,d=y.length;for(l=0;l<d;l++)y[l].safeI=l;for(y.sort(function(h,u){return(o=i(h,u))===0?h.safeI-u.safeI:o}),l=0;l<d;l++)delete y[l].safeI},syncTimeout:function(y,i,o){return i>0?setTimeout(y,i,o):(y.call(0,o),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(y){return We(y)?y.substring(0,1).toUpperCase()+y.substring(1):String(y)},uniqueKey:St,useSerialIds:function(y){return r=ot(y,r)},wrap:function(y,i,o){let l=y[i];y[i]=function(){let d=arguments,h=this;return o.apply(this,[function(){return l.apply(h,arguments.length?arguments:d)}].concat([].slice.call(arguments)))}}},{pageLang:$r,win:Hr}=J,{defined:Xi,error:ci,extend:Gr,isNumber:Yi,isObject:Fc,isString:Ko,merge:Gg,objectEach:Vg,pad:Bn,splat:Yh,timeUnits:Ja,ucfirst:Wc}=Ke,qh=J.isSafari&&Hr.Intl&&!Hr.Intl.DateTimeFormat.prototype.formatRange,Kh=y=>y.main===void 0,Xg=class{constructor(y,i){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Hr.Date,this.update(y),this.lang=i}update(y={}){this.dTLCache={},this.options=y=Gg(!0,this.options,y);let{timezoneOffset:i,useUTC:o,locale:l}=y;this.Date=y.Date||Hr.Date||Date;let d=y.timezone;Xi(o)&&(d=o?"UTC":void 0),i&&i%60==0&&(d="Etc/GMT"+(i>0?"+":"")+i/60),this.variableTimezone=d!=="UTC"&&(d==null?void 0:d.indexOf("Etc/GMT"))!==0,this.timezone=d,this.lang&&l&&(this.lang.locale=l),["months","shortMonths","weekdays","shortWeekdays"].forEach(h=>{let u=/months/i.test(h),g=/short/.test(h),m={timeZone:"UTC"};m[u?"month":"weekday"]=g?"short":"long",this[h]=(u?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(x=>this.dateFormat(m,(u?31:1)*24*36e5*x))})}toParts(y){let[i,o,l,d,h,u,g]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},y,"es").split(/(?:, | |\/|:)/g);return[d,l-1,o,h,u,g,Math.floor(Number(y)||0)%1e3,"DLMXJVS".indexOf(i)].map(Number)}dateTimeFormat(y,i,o=this.options.locale||$r){let l=JSON.stringify(y)+o;Ko(y)&&(y=this.str2dtf(y));let d=this.dTLCache[l];if(!d){y.timeZone??(y.timeZone=this.timezone);try{d=new Intl.DateTimeFormat(o,y)}catch(h){/Invalid time zone/i.test(h.message)?(ci(34),y.timeZone="UTC",d=new Intl.DateTimeFormat(o,y)):ci(h.message,!1)}}return this.dTLCache[l]=d,(d==null?void 0:d.format(i))||""}str2dtf(y,i={}){let o={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(o).forEach(l=>{y.indexOf(l)!==-1&&Gr(i,o[l])}),i}makeTime(y,i,o=1,l=0,d,h,u){let g=this.Date.UTC(y,i,o,l,d||0,h||0,u||0);if(this.timezone!=="UTC"){let m=this.getTimezoneOffset(g);if(g+=m,[2,3,8,9,10,11].indexOf(i)!==-1&&(l<5||l>20)){let x=this.getTimezoneOffset(g);m!==x?g+=x-m:m-36e5!==this.getTimezoneOffset(g-36e5)||qh||(g-=36e5)}}return g}parse(y){if(!Ko(y))return y??void 0;let i=(y=y.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(y),o=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(y);i||o||(y+="Z");let l=Date.parse(y);if(Yi(l))return l+(!i||o?this.getTimezoneOffset(l):0)}getTimezoneOffset(y){if(this.timezone!=="UTC"){let[i,o,l,d,h=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},y,"en").split(/(GMT|:)/).map(Number),u=-(60*(l+h/60)*6e4);if(Yi(u))return u}return 0}dateFormat(y,i,o){let l=this.lang;if(!Xi(i)||isNaN(i))return(l==null?void 0:l.invalidDate)||"";if(Ko(y=y??"%Y-%m-%d %H:%M:%S")){let d,h=/%\[([a-zA-Z]+)\]/g;for(;d=h.exec(y);)y=y.replace(d[0],this.dateTimeFormat(d[1],i,l==null?void 0:l.locale))}if(Ko(y)&&y.indexOf("%")!==-1){let d=this,[h,u,g,m,x,_,b,C]=this.toParts(i),T=(l==null?void 0:l.weekdays)||this.weekdays,R=(l==null?void 0:l.shortWeekdays)||this.shortWeekdays,F=(l==null?void 0:l.months)||this.months,$=(l==null?void 0:l.shortMonths)||this.shortMonths;Vg(Gr({a:R?R[C]:T[C].substr(0,3),A:T[C],d:Bn(g),e:Bn(g,2," "),w:C,v:(l==null?void 0:l.weekFrom)??"",b:$[u],B:F[u],m:Bn(u+1),o:u+1,y:h.toString().substr(2,2),Y:h,H:Bn(m),k:m,I:Bn(m%12||12),l:m%12||12,M:Bn(x),p:m<12?"AM":"PM",P:m<12?"am":"pm",S:Bn(_),L:Bn(b,3)},J.dateFormats),function(B,G){if(Ko(y))for(;y.indexOf("%"+G)!==-1;)y=y.replace("%"+G,typeof B=="function"?B.call(d,i):B)})}else if(Fc(y)){let d=(this.getTimezoneOffset(i)||0)/36e5,h=this.timezone||"Etc/GMT"+(d>=0?"+":"")+d,{prefix:u="",suffix:g=""}=y;y=u+this.dateTimeFormat(Gr({timeZone:h},y),i)+g}return o?Wc(y):y}resolveDTLFormat(y){return Fc(y,!0)?Fc(y,!0)&&Kh(y)?{main:y}:y:{main:(y=Yh(y))[0],from:y[1],to:y[2]}}getDateFormat(y,i,o,l){let d=this.dateFormat("%m-%d %H:%M:%S.%L",i),h="01-01 00:00:00.000",u={millisecond:15,second:12,minute:9,hour:6,day:3},g="millisecond",m=g;for(g in Ja){if(y&&y===Ja.week&&+this.dateFormat("%w",i)===o&&d.substr(6)===h.substr(6)){g="week";break}if(y&&Ja[g]>y){g=m;break}if(u[g]&&d.substr(u[g])!==h.substr(u[g]))break;g!=="week"&&(m=g)}return this.resolveDTLFormat(l[g]).main}},{defined:Zh,extend:Uc,timeUnits:or}=Ke,Hc=class extends Xg{getTimeTicks(y,i,o,l){let d=this,h=[],u={},{count:g=1,unitRange:m}=y,[x,_,b,C,T,R]=d.toParts(i),F=(i||0)%1e3,$;if(l??(l=1),Zh(i)){if(F=m>=or.second?0:g*Math.floor(F/g),m>=or.second&&(R=m>=or.minute?0:g*Math.floor(R/g)),m>=or.minute&&(T=m>=or.hour?0:g*Math.floor(T/g)),m>=or.hour&&(C=m>=or.day?0:g*Math.floor(C/g)),m>=or.day&&(b=m>=or.month?1:Math.max(1,g*Math.floor(b/g))),m>=or.month&&(_=m>=or.year?0:g*Math.floor(_/g)),m>=or.year&&(x-=x%g),m===or.week){g&&(i=d.makeTime(x,_,b,C,T,R,F));let X=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},i,"es"),fe="DLMXJVS".indexOf(X);b+=-fe+l+(fe<l?-7:0)}i=d.makeTime(x,_,b,C,T,R,F),d.variableTimezone&&Zh(o)&&($=o-i>4*or.month||d.getTimezoneOffset(i)!==d.getTimezoneOffset(o));let B=i,G=1;for(;B<o;)h.push(B),m===or.year?B=d.makeTime(x+G*g,0):m===or.month?B=d.makeTime(x,_+G*g):$&&(m===or.day||m===or.week)?B=d.makeTime(x,_,b+G*g*(m===or.day?1:7)):$&&m===or.hour&&g>1?B=d.makeTime(x,_,b,C+G*g):B+=m*g,G++;h.push(B),m<=or.hour&&h.length<1e4&&h.forEach(X=>{X%18e5==0&&d.dateFormat("%H%M%S%L",X)==="000000000"&&(u[X]="day")})}return h.info=Uc(y,{higherRanks:u,totalRange:m*g}),h}},{isTouchDevice:Yg}=J,{fireEvent:di,merge:qg}=Ke,mn={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:y=>Math.sqrt(1-Math.pow(y-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:Yg?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Zo=new Hc(mn.time,mn.lang),Oi={defaultOptions:mn,defaultTime:Zo,getOptions:function(){return mn},setOptions:function(y){var i;return di(J,"setOptions",{options:y}),qg(!0,mn,y),y.time&&Zo.update(mn.time),y.lang&&"locale"in y.lang&&Zo.update({locale:y.lang.locale}),(i=y.lang)!=null&&i.chartTitle&&(mn.title={...mn.title,text:y.lang.chartTitle}),mn}},{win:Zw}=J,{isNumber:el,isString:Kg,merge:Zg,pInt:Vr,defined:Qh}=Ke,Gc=(y,i,o)=>`color-mix(in srgb,${y},${i} ${100*o}%)`,tl=y=>Kg(y)&&!!y&&y!=="none";class Wt{static parse(i){return i?new Wt(i):Wt.None}constructor(i){let o,l,d,h;this.rgba=[NaN,NaN,NaN,NaN],this.input=i;let u=J.Color;if(u&&u!==Wt)return new u(i);if(typeof i=="object"&&i.stops!==void 0)this.stops=i.stops.map(g=>new Wt(g[1]));else if(typeof i=="string")for(this.input=i=Wt.names[i.toLowerCase()]||i,d=Wt.parsers.length;d--&&!l;)(o=(h=Wt.parsers[d]).regex.exec(i))&&(l=h.parse(o));l&&(this.rgba=l)}get(i){let o=this.input,l=this.rgba;if(this.output)return this.output;if(typeof o=="object"&&this.stops!==void 0){let d=Zg(o);return d.stops=[].slice.call(d.stops),this.stops.forEach((h,u)=>{d.stops[u]=[d.stops[u][0],h.get(i)]}),d}return l&&el(l[0])?i!=="rgb"&&(i||l[3]!==1)?i==="a"?`${l[3]}`:"rgba("+l.join(",")+")":"rgb("+l[0]+","+l[1]+","+l[2]+")":o}brighten(i){let o=this.rgba;if(this.stops)this.stops.forEach(function(l){l.brighten(i)});else if(el(i)&&i!==0)if(el(o[0]))for(let l=0;l<3;l++)o[l]+=Vr(255*i),o[l]<0&&(o[l]=0),o[l]>255&&(o[l]=255);else Wt.useColorMix&&tl(this.input)&&(this.output=Gc(this.input,i>0?"white":"black",Math.abs(i)));return this}setOpacity(i){return this.rgba[3]=i,this}tweenTo(i,o){let l=this.rgba,d=i.rgba;if(!el(l[0])||!el(d[0]))return Wt.useColorMix&&tl(this.input)&&tl(i.input)&&o<.99?Gc(this.input,i.input,o):i.input||"none";let h=d[3]!==1||l[3]!==1,u=(m,x)=>m+(l[x]-m)*(1-o),g=d.slice(0,3).map(u).map(Math.round);return h&&g.push(u(d[3],3)),(h?"rgba(":"rgb(")+g.join(",")+")"}}Wt.names={white:"#ffffff",black:"#000000"},Wt.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(y){return[Vr(y[1]),Vr(y[2]),Vr(y[3]),parseFloat(y[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(y){return[Vr(y[1]),Vr(y[2]),Vr(y[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(y){return[Vr(y[1]+y[1],16),Vr(y[2]+y[2],16),Vr(y[3]+y[3],16),Qh(y[4])?Vr(y[4]+y[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(y){return[Vr(y[1],16),Vr(y[2],16),Vr(y[3],16),Qh(y[4])?Vr(y[4],16)/255:1]}}],Wt.useColorMix=(i1=Zw.CSS)==null?void 0:i1.supports("color","color-mix(in srgb,red,blue 9%)"),Wt.None=new Wt("");let{parse:Jh}=Wt,{win:Qg}=J,{isNumber:Vc,objectEach:Jg}=Ke;class Xr{constructor(i,o,l){this.pos=NaN,this.options=o,this.elem=i,this.prop=l}dSetter(){let i=this.paths,o=i==null?void 0:i[0],l=i==null?void 0:i[1],d=this.now||0,h=[];if(d!==1&&o&&l)if(o.length===l.length&&d<1)for(let u=0;u<l.length;u++){let g=o[u],m=l[u],x=[];for(let _=0;_<m.length;_++){let b=g[_],C=m[_];Vc(b)&&Vc(C)&&(m[0]!=="A"||_!==4&&_!==5)?x[_]=b+d*(C-b):x[_]=C}h.push(x)}else h=l;else h=this.toD||[];this.elem.attr("d",h,void 0,!0)}update(){let i=this.elem,o=this.prop,l=this.now,d=this.options.step;this[o+"Setter"]?this[o+"Setter"]():i.attr?i.element&&i.attr(o,l,null,!0):i.style[o]=l+this.unit,d&&d.call(i,l,this)}run(i,o,l){let d=this,h=d.options,u=function(x){return!u.stopped&&d.step(x)},g=Qg.requestAnimationFrame||function(x){setTimeout(x,13)},m=function(){for(let x=0;x<Xr.timers.length;x++)Xr.timers[x]()||Xr.timers.splice(x--,1);Xr.timers.length&&g(m)};i!==o||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=i,this.end=o,this.unit=l,this.now=this.start,this.pos=0,u.elem=this.elem,u.prop=this.prop,u()&&Xr.timers.push(u)===1&&g(m)):(delete h.curAnim[this.prop],h.complete&&Object.keys(h.curAnim).length===0&&h.complete.call(this.elem))}step(i){let o,l,d=+new Date,h=this.options,u=this.elem,g=h.complete,m=h.duration,x=h.curAnim;return u.attr&&!u.element?o=!1:i||d>=m+this.startTime?(this.now=this.end,this.pos=1,this.update(),x[this.prop]=!0,l=!0,Jg(x,function(_){_!==!0&&(l=!1)}),l&&g&&g.call(u),o=!1):(this.pos=h.easing((d-this.startTime)/m),this.now=this.start+(this.end-this.start)*this.pos,this.update(),o=!0),o}initPath(i,o,l){let d=i.startX,h=i.endX,u=l.slice(),g=i.isArea,m=g?2:1,x=o&&l.length>o.length&&l.hasStackedCliffs,_,b,C,T,R=o==null?void 0:o.slice();if(!R||x)return[u,u];function F(B,G){for(;B.length<b;){let X=B[0],fe=G[b-B.length];if(fe&&X[0]==="M"&&(fe[0]==="C"?B[0]=["C",X[1],X[2],X[1],X[2],X[1],X[2]]:B[0]=["L",X[1],X[2]]),B.unshift(X),g){let de=B.pop();B.push(B[B.length-1],de)}}}function $(B){for(;B.length<b;){let G=B[Math.floor(B.length/m)-1].slice();if(G[0]==="C"&&(G[1]=G[5],G[2]=G[6]),g){let X=B[Math.floor(B.length/m)].slice();B.splice(B.length/2,0,G,X)}else B.push(G)}}if(d&&h&&h.length){for(C=0;C<d.length;C++)if(d[C]===h[0]){_=C;break}else if(d[0]===h[h.length-d.length+C]){_=C,T=!0;break}else if(d[d.length-1]===h[h.length-d.length+C]){_=d.length-C;break}_===void 0&&(R=[])}return R.length&&Vc(_)&&(b=u.length+_*m,T?(F(R,u),$(u)):(F(u,R),$(R))),[R,u]}fillSetter(){Xr.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Jh(this.start).tweenTo(Jh(this.end),this.pos),void 0,!0)}}Xr.timers=[];let{defined:eu,getStyle:em,isArray:tm,isNumber:rm,isObject:Xc,merge:Qo,objectEach:tu,pick:cs}=Ke;function rl(y){return Xc(y)?Qo({duration:500,defer:0},y):{duration:500*!!y,defer:0}}function ru(y,i){let o=Xr.timers.length;for(;o--;)Xr.timers[o].elem!==y||i&&i!==Xr.timers[o].prop||(Xr.timers[o].stopped=!0)}let jr={animate:function(y,i,o){let l,d="",h,u,g;Xc(o)||(g=arguments,o={duration:g[2],easing:g[3],complete:g[4]}),rm(o.duration)||(o.duration=400),o.easing=typeof o.easing=="function"?o.easing:Math[o.easing]||Math.easeInOutSine,o.curAnim=Qo(i),tu(i,function(m,x){ru(y,x),u=new Xr(y,o,x),h=void 0,x==="d"&&tm(i.d)?(u.paths=u.initPath(y,y.pathArray,i.d),u.toD=i.d,l=0,h=1):y.attr?l=y.attr(x):(l=parseFloat(em(y,x))||0,x!=="opacity"&&(d="px")),h||(h=m),typeof h=="string"&&h.match("px")&&(h=h.replace(/px/g,"")),u.run(l,h,d)})},animObject:rl,getDeferredAnimation:function(y,i,o){let l=rl(i),d=o?[o]:y.series,h=0,u=0;return d.forEach(g=>{let m=rl(g.options.animation);h=Xc(i)&&eu(i.defer)?l.defer:Math.max(h,m.duration+m.defer),u=Math.min(l.duration,m.duration)}),y.renderer.forExport&&(h=0),{defer:Math.max(0,h-u),duration:Math.min(h,u)}},setAnimation:function(y,i){i.renderer.globalAnimation=cs(y,i.options.chart.animation,!0)},stop:ru},{SVG_NS:Jo,win:iu}=J,{attr:im,createElement:nm,css:ds,error:ea,isFunction:nu,isString:su,objectEach:ou,splat:ta}=Ke,{trustedTypes:il}=iu,$n=il&&nu(il.createPolicy)&&il.createPolicy("highcharts",{createHTML:y=>y}),sm=$n?$n.createHTML(""):"";class Ut{static filterUserAttributes(i){return ou(i,(o,l)=>{let d=!0;Ut.allowedAttributes.indexOf(l)===-1&&(d=!1),["background","dynsrc","href","lowsrc","src"].indexOf(l)!==-1&&(d=su(o)&&Ut.allowedReferences.some(h=>o.indexOf(h)===0)),d||(ea(33,!1,void 0,{"Invalid attribute in config":`${l}`}),delete i[l]),su(o)&&i[l]&&(i[l]=o.replace(/</g,"&lt;"))}),i}static parseStyle(i){return i.split(";").reduce((o,l)=>{let d=l.split(":").map(u=>u.trim()),h=d.shift();return h&&d.length&&(o[h.replace(/-([a-z])/g,u=>u[1].toUpperCase())]=d.join(":")),o},{})}static setElementHTML(i,o){i.innerHTML=Ut.emptyHTML,o&&new Ut(o).addToDOM(i)}constructor(i){this.nodes=typeof i=="string"?this.parseMarkup(i):i}addToDOM(i){return function o(l,d){let h;return ta(l).forEach(function(u){let g,m=u.tagName,x=u.textContent?J.doc.createTextNode(u.textContent):void 0,_=Ut.bypassHTMLFiltering;if(m)if(m==="#text")g=x;else if(Ut.allowedTags.indexOf(m)!==-1||_){let b=m==="svg"?Jo:d.namespaceURI||Jo,C=J.doc.createElementNS(b,m),T=u.attributes||{};ou(u,function(R,F){F!=="tagName"&&F!=="attributes"&&F!=="children"&&F!=="style"&&F!=="textContent"&&(T[F]=R)}),im(C,_?T:Ut.filterUserAttributes(T)),u.style&&ds(C,u.style),x&&C.appendChild(x),o(u.children||[],C),g=C}else ea(33,!1,void 0,{"Invalid tagName in config":m});g&&d.appendChild(g),h=g}),h}(this.nodes,i)}parseMarkup(i){let o,l=[];i=i.trim().replace(/ style=(["'])/g," data-style=$1");try{o=new DOMParser().parseFromString($n?$n.createHTML(i):i,"text/html")}catch{}if(!o){let h=nm("div");h.innerHTML=i,o={body:h}}let d=(h,u)=>{let g=h.nodeName.toLowerCase(),m={tagName:g};g==="#text"&&(m.textContent=h.textContent||"");let x=h.attributes;if(x){let _={};[].forEach.call(x,b=>{b.name==="data-style"?m.style=Ut.parseStyle(b.value):_[b.name]=b.value}),m.attributes=_}if(h.childNodes.length){let _=[];[].forEach.call(h.childNodes,b=>{d(b,_)}),_.length&&(m.children=_)}u.push(m)};return[].forEach.call(o.body.childNodes,h=>d(h,l)),l}}Ut.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Ut.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Ut.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Ut.emptyHTML=sm,Ut.bypassHTMLFiltering=!1;let{defaultOptions:zn,defaultTime:au}=Oi,{pageLang:om}=J,{extend:Yc,getNestedProperty:am,isArray:lu,isNumber:br,isObject:cu,isString:nl,pick:Fs,ucfirst:lm}=Ke,vn={add:(y,i)=>y+i,divide:(y,i)=>i!==0?y/i:"",eq:(y,i)=>y==i,each:function(y){let i=arguments[arguments.length-1];return!!lu(y)&&y.map((o,l)=>Ws(i.body,Yc(cu(o)?o:{"@this":o},{"@index":l,"@first":l===0,"@last":l===y.length-1}))).join("")},ge:(y,i)=>y>=i,gt:(y,i)=>y>i,if:y=>!!y,le:(y,i)=>y<=i,lt:(y,i)=>y<i,multiply:(y,i)=>y*i,ne:(y,i)=>y!=i,subtract:(y,i)=>y-i,ucfirst:lm,unless:y=>!y},du={},hu=y=>/^["'].+["']$/.test(y);function Ws(y="",i,o){var $;let l=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,d=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,h=[],u=/f$/,g=/\.(\d)/,m=(($=o==null?void 0:o.options)==null?void 0:$.lang)||zn.lang,x=(o==null?void 0:o.time)||au,_=(o==null?void 0:o.numberFormatter)||qc.bind(o),b=(B="")=>{let G;return B==="true"||B!=="false"&&((G=Number(B)).toString()===B?G:hu(B)?B.slice(1,-1):am(B,i))},C,T,R=0,F;for(;(C=l.exec(y))!==null;){let B=C,G=d.exec(C[1]);G&&(C=G,F=!0),T!=null&&T.isBlock||(T={ctx:i,expression:C[1],find:C[0],isBlock:C[1].charAt(0)==="#",start:C.index,startInner:C.index+C[0].length,length:C[0].length});let X=(T.isBlock?B:C)[1].split(" ")[0].replace("#","");vn[X]&&(T.isBlock&&X===T.fn&&R++,T.fn||(T.fn=X));let fe=C[1]==="else";if(T.isBlock&&T.fn&&(C[1]===`/${T.fn}`||fe))if(R)!fe&&R--;else{let de=T.startInner,ue=y.substr(de,C.index-de);T.body===void 0?(T.body=ue,T.startInner=C.index+C[0].length):T.elseBody=ue,T.find+=ue+C[0],fe||(h.push(T),T=void 0)}else T.isBlock||h.push(T);if(G&&!(T!=null&&T.isBlock))break}return h.forEach(B=>{let G,X,{body:fe,elseBody:de,expression:ue,fn:ye}=B;if(ye){let ge=[B],xe=[],Ae=ue.length,Pe=0,Fe;for(X=0;X<=Ae;X++){let Ge=ue.charAt(X);Fe||Ge!=='"'&&Ge!=="'"?Fe===Ge&&(Fe=""):Fe=Ge,Fe||Ge!==" "&&X!==Ae||(xe.push(ue.substr(Pe,X-Pe)),Pe=X+1)}for(X=vn[ye].length;X--;)ge.unshift(b(xe[X+1]));G=vn[ye].apply(i,ge),B.isBlock&&typeof G=="boolean"&&(G=Ws(G?fe:de,i,o))}else{let ge=hu(ue)?[ue]:ue.split(":"),xe=(G=b(ge.shift()||""))%1!=0;if(typeof G=="number"&&(ge.length||xe)){let Ae=ge.join(":");if(u.test(Ae)||xe){let Pe=parseInt((Ae.match(g)||["","-1"])[1],10);G!==null&&(G=_(G,Pe,m.decimalPoint,Ae.indexOf(",")>-1?m.thousandsSep:""))}else G=x.dateFormat(Ae,G)}d.lastIndex=0,d.test(B.find)&&nl(G)&&(G=`"${G}"`)}y=y.replace(B.find,Fs(G,""))}),F?Ws(y,i,o):y}function qc(y,i,o,l){var F;i*=1;let d,h,[u,g]=(y=+y||0).toString().split("e").map(Number),m=((F=this==null?void 0:this.options)==null?void 0:F.lang)||zn.lang,x=(y.toString().split(".")[1]||"").split("e")[0].length,_=i,b={};o??(o=m.decimalPoint),l??(l=m.thousandsSep),i===-1?i=Math.min(x,20):br(i)?i&&g<0&&((h=i+g)>=0?(u=+u.toExponential(h).split("e")[0],i=h):(u=Math.floor(u),y=i<20?+(u*Math.pow(10,g)).toFixed(i):0,g=0)):i=2,g&&(i??(i=2),y=u),br(i)&&i>=0&&(b.minimumFractionDigits=i,b.maximumFractionDigits=i),l===""&&(b.useGrouping=!1);let C=l||o,T=C?"en":(this==null?void 0:this.locale)||m.locale||om,R=JSON.stringify(b)+T;return d=(du[R]??(du[R]=new Intl.NumberFormat(T,b))).format(y),C&&(d=d.replace(/([,\.])/g,"_$1").replace(/_\,/g,l??",").replace("_.",o??".")),(i||+d!=0)&&(!(g<0)||_)||(d="0"),g&&+d!=0&&(d+="e"+(g<0?"":"+")+g),d}let ar={dateFormat:function(y,i,o){return au.dateFormat(y,i,o)},format:Ws,helpers:vn,numberFormat:qc};(function(y){let i;y.rendererTypes={},y.getRendererType=function(o=i){return y.rendererTypes[o]||y.rendererTypes[i]},y.registerRendererType=function(o,l,d){y.rendererTypes[o]=l,(!i||d)&&(i=o,J.Renderer=l)}})(a||(a={}));let qi=a,{clamp:hi,pick:sl,pushUnique:uu,stableSort:Us}=Ke;(c||(c={})).distribute=function y(i,o,l){let d=i,h=d.reducedLen||o,u=(X,fe)=>X.target-fe.target,g=[],m=i.length,x=[],_=g.push,b,C,T,R=!0,F,$,B=0,G;for(b=m;b--;)B+=i[b].size;if(B>h){for(Us(i,(X,fe)=>(fe.rank||0)-(X.rank||0)),T=(G=i[0].rank===i[i.length-1].rank)?m/2:-1,C=G?T:m-1;T&&B>h;)F=i[b=Math.floor(C)],uu(x,b)&&(B-=F.size),C+=T,G&&C>=i.length&&(T/=2,C=T);x.sort((X,fe)=>fe-X).forEach(X=>_.apply(g,i.splice(X,1)))}for(Us(i,u),i=i.map(X=>({size:X.size,targets:[X.target],align:sl(X.align,.5)}));R;){for(b=i.length;b--;)F=i[b],$=(Math.min.apply(0,F.targets)+Math.max.apply(0,F.targets))/2,F.pos=hi($-F.size*F.align,0,o-F.size);for(b=i.length,R=!1;b--;)b>0&&i[b-1].pos+i[b-1].size>i[b].pos&&(i[b-1].size+=i[b].size,i[b-1].targets=i[b-1].targets.concat(i[b].targets),i[b-1].align=.5,i[b-1].pos+i[b-1].size>o&&(i[b-1].pos=o-i[b-1].size),i.splice(b,1),R=!0)}return _.apply(d,g),b=0,i.some(X=>{let fe=0;return(X.targets||[]).some(()=>(d[b].pos=X.pos+fe,l!==void 0&&Math.abs(d[b].pos-d[b].target)>l?(d.slice(0,b+1).forEach(de=>delete de.pos),d.reducedLen=(d.reducedLen||o)-.1*o,d.reducedLen>.1*o&&y(d,o,l),!0):(fe+=d[b].size,b++,!1)))}),Us(d,u),d};let hs=c,{animate:cm,animObject:fu,stop:ol}=jr,{deg2rad:Hs,doc:Ki,svg:pu,SVG_NS:Zi,win:al,isFirefox:dm}=J,{addEvent:Qi,attr:Kc,createElement:Zc,crisp:Gs,css:gu,defined:Ji,erase:Qc,extend:us,fireEvent:ll,getAlignFactor:Jc,isArray:Fn,isFunction:mu,isNumber:vu,isObject:Vs,isString:xu,merge:cl,objectEach:Xs,pick:Ri,pInt:dl,pushUnique:hm,replaceNested:um,syncTimeout:fm,uniqueKey:ed}=Ke;class mr{_defaultGetter(i){let o=Ri(this[i+"Value"],this[i],this.element?this.element.getAttribute(i):null,0);return/^-?[\d\.]+$/.test(o)&&(o=parseFloat(o)),o}_defaultSetter(i,o,l){l.setAttribute(o,i)}add(i){let o,l=this.renderer,d=this.element;return i&&(this.parentGroup=i),this.textStr!==void 0&&this.element.nodeName==="text"&&l.buildText(this),this.added=!0,(!i||i.handleZ||this.zIndex)&&(o=this.zIndexSetter()),o||(i?i.element:l.box).appendChild(d),this.onAdd&&this.onAdd(),this}addClass(i,o){let l=o?"":this.attr("class")||"";return(i=(i||"").split(/ /g).reduce(function(d,h){return l.indexOf(h)===-1&&d.push(h),d},l?[l]:[]).join(" "))!==l&&this.attr("class",i),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(i,o,l,d=!0){let h=this.renderer,u=h.alignedObjects,g=!!i;i?(this.alignOptions=i,this.alignByTranslate=o,this.alignTo=l):(i=this.alignOptions||{},o=this.alignByTranslate,l=this.alignTo);let m=!l||xu(l)?l||"renderer":void 0;m&&(g&&hm(u,this),l=void 0);let x=Ri(l,h[m],h),_=(x.x||0)+(i.x||0)+((x.width||0)-(i.width||0))*Jc(i.align),b=(x.y||0)+(i.y||0)+((x.height||0)-(i.height||0))*Jc(i.verticalAlign),C={"text-align":i==null?void 0:i.align};return C[o?"translateX":"x"]=Math.round(_),C[o?"translateY":"y"]=Math.round(b),d&&(this[this.placed?"animate":"attr"](C),this.placed=!0),this.alignAttr=C,this}alignSetter(i){let o={left:"start",center:"middle",right:"end"};o[i]&&(this.alignValue=i,this.element.setAttribute("text-anchor",o[i]))}animate(i,o,l){let d=fu(Ri(o,this.renderer.globalAnimation,!0)),h=d.defer;return Ki.hidden&&(d.duration=0),d.duration!==0?(l&&(d.complete=l),fm(()=>{this.element&&cm(this,i,d)},h)):(this.attr(i,void 0,l||d.complete),Xs(i,function(u,g){d.step&&d.step.call(this,u,{prop:g,pos:1,elem:this})},this)),this}applyTextOutline(i){let o=this.element;i.indexOf("contrast")!==-1&&(i=i.replace(/contrast/g,this.renderer.getContrast(o.style.fill)));let l=i.indexOf(" "),d=i.substring(l+1),h=i.substring(0,l);if(h&&h!=="none"&&J.svg){this.fakeTS=!0,h=h.replace(/(^[\d\.]+)(.*?)$/g,function(_,b,C){return 2*Number(b)+C}),this.removeTextOutline();let u=Ki.createElementNS(Zi,"tspan");Kc(u,{class:"highcharts-text-outline",fill:d,stroke:d,"stroke-width":h,"stroke-linejoin":"round"});let g=o.querySelector("textPath")||o;[].forEach.call(g.childNodes,_=>{let b=_.cloneNode(!0);b.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(C=>b.removeAttribute(C)),u.appendChild(b)});let m=0;[].forEach.call(g.querySelectorAll("text tspan"),_=>{m+=Number(_.getAttribute("dy"))});let x=Ki.createElementNS(Zi,"tspan");x.textContent="",Kc(x,{x:Number(o.getAttribute("x")),dy:-m}),u.appendChild(x),g.insertBefore(u,g.firstChild)}}attr(i,o,l,d){let{element:h}=this,u=mr.symbolCustomAttribs,g,m,x=this,_;return typeof i=="string"&&o!==void 0&&(g=i,(i={})[g]=o),typeof i=="string"?x=(this[i+"Getter"]||this._defaultGetter).call(this,i,h):(Xs(i,function(b,C){_=!1,d||ol(this,C),this.symbolName&&u.indexOf(C)!==-1&&(m||(this.symbolAttr(i),m=!0),_=!0),this.rotation&&(C==="x"||C==="y")&&(this.doTransform=!0),_||(this[C+"Setter"]||this._defaultSetter).call(this,b,C,h)},this),this.afterSetters()),l&&l.call(this),x}clip(i){if(i&&!i.clipPath){let o=ed()+"-",l=this.renderer.createElement("clipPath").attr({id:o}).add(this.renderer.defs);us(i,{clipPath:l,id:o,count:0}),i.add(l)}return this.attr("clip-path",i?`url(${this.renderer.url}#${i.id})`:"none")}crisp(i,o){o=Math.round(o||i.strokeWidth||0);let l=i.x||this.x||0,d=i.y||this.y||0,h=(i.width||this.width||0)+l,u=(i.height||this.height||0)+d,g=Gs(l,o),m=Gs(d,o);return us(i,{x:g,y:m,width:Gs(h,o)-g,height:Gs(u,o)-m}),Ji(i.strokeWidth)&&(i.strokeWidth=o),i}complexColor(i,o,l){let d=this.renderer,h,u,g,m,x,_,b,C,T,R,F=[],$;ll(this.renderer,"complexColor",{args:arguments},function(){if(i.radialGradient?u="radialGradient":i.linearGradient&&(u="linearGradient"),u){if(g=i[u],x=d.gradients,_=i.stops,T=l.radialReference,Fn(g)&&(i[u]=g={x1:g[0],y1:g[1],x2:g[2],y2:g[3],gradientUnits:"userSpaceOnUse"}),u==="radialGradient"&&T&&!Ji(g.gradientUnits)&&(m=g,g=cl(g,d.getRadialAttr(T,m),{gradientUnits:"userSpaceOnUse"})),Xs(g,function(B,G){G!=="id"&&F.push(G,B)}),Xs(_,function(B){F.push(B)}),x[F=F.join(",")])R=x[F].attr("id");else{g.id=R=ed();let B=x[F]=d.createElement(u).attr(g).add(d.defs);B.radAttr=m,B.stops=[],_.forEach(function(G){G[1].indexOf("rgba")===0?(b=(h=Wt.parse(G[1])).get("rgb"),C=h.get("a")):(b=G[1],C=1);let X=d.createElement("stop").attr({offset:G[0],"stop-color":b,"stop-opacity":C}).add(B);B.stops.push(X)})}$="url("+d.url+"#"+R+")",l.setAttribute(o,$),l.gradient=F,i.toString=function(){return $}}})}css(i){let o=this.styles,l={},d=this.element,h,u=!o;if(o&&Xs(i,function(g,m){o&&o[m]!==g&&(l[m]=g,u=!0)}),u){o&&(i=us(o,l)),i.width===null||i.width==="auto"?delete this.textWidth:d.nodeName.toLowerCase()==="text"&&i.width&&(h=this.textWidth=dl(i.width)),us(this.styles,i),h&&!pu&&this.renderer.forExport&&delete i.width;let g=dm&&i.fontSize||null;g&&(vu(g)||/^\d+$/.test(g))&&(i.fontSize+="px");let m=cl(i);d.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(x=>m&&delete m[x]),m.color&&(m.fill=m.color,delete m.color)),gu(d,m)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),i.textOutline&&this.applyTextOutline(i.textOutline)),this}dashstyleSetter(i){let o,l=this["stroke-width"];if(l==="inherit"&&(l=1),i){let d=(i=i.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(o=d.length;o--;)d[o]=""+dl(d[o])*Ri(l,NaN);i=d.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",i)}}destroy(){let i=this,o=i.element||{},l=i.renderer,d=o.ownerSVGElement,h=o.nodeName==="SPAN"&&i.parentGroup||void 0,u,g;if(o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=o.point=null,ol(i),i.clipPath&&d){let m=i.clipPath;[].forEach.call(d.querySelectorAll("[clip-path],[CLIP-PATH]"),function(x){x.getAttribute("clip-path").indexOf(m.element.id)>-1&&x.removeAttribute("clip-path")}),i.clipPath=m.destroy()}if(i.stops){for(g=0;g<i.stops.length;g++)i.stops[g].destroy();i.stops.length=0,i.stops=void 0}for(i.safeRemoveChild(o);h!=null&&h.div&&h.div.childNodes.length===0;)u=h.parentGroup,i.safeRemoveChild(h.div),delete h.div,h=u;i.alignOptions&&Qc(l.alignedObjects,i),Xs(i,(m,x)=>{var _,b,C;(((_=i[x])==null?void 0:_.parentGroup)===i||["connector","foreignObject"].indexOf(x)!==-1)&&((C=(b=i[x])==null?void 0:b.destroy)==null||C.call(b)),delete i[x]})}dSetter(i,o,l){Fn(i)&&(typeof i[0]=="string"&&(i=this.renderer.pathToSegments(i)),this.pathArray=i,i=i.reduce((d,h,u)=>h!=null&&h.join?(u?d+" ":"")+h.join(" "):(h||"").toString(),"")),/(NaN| {2}|^$)/.test(i)&&(i="M 0 0"),this[o]!==i&&(l.setAttribute(o,i),this[o]=i)}fillSetter(i,o,l){typeof i=="string"?l.setAttribute(o,i):i&&this.complexColor(i,o,l)}hrefSetter(i,o,l){l.setAttributeNS("http://www.w3.org/1999/xlink",o,i)}getBBox(i,o){let l,d,h,u,{alignValue:g,element:m,renderer:x,styles:_,textStr:b}=this,{cache:C,cacheKeys:T}=x,R=m.namespaceURI===this.SVG_NS,F=Ri(o,this.rotation,0),$=x.styledMode?m&&mr.prototype.getStyle.call(m,"font-size"):_.fontSize;if(Ji(b)&&((u=b.toString()).indexOf("<")===-1&&(u=u.replace(/\d/g,"0")),u+=["",x.rootFontSize,$,F,this.textWidth,g,_.lineClamp,_.textOverflow,_.fontWeight].join(",")),u&&!i&&(l=C[u]),!l||l.polygon){if(R||x.forExport){try{h=this.fakeTS&&function(G){let X=m.querySelector(".highcharts-text-outline");X&&gu(X,{display:G})},mu(h)&&h("none"),l=m.getBBox?us({},m.getBBox()):{width:m.offsetWidth,height:m.offsetHeight,x:0,y:0},mu(h)&&h("")}catch{}(!l||l.width<0)&&(l={x:0,y:0,width:0,height:0})}else l=this.htmlGetBBox();d=l.height,R&&(l.height=d={"11px,17":14,"13px,20":16}[`${$||""},${Math.round(d)}`]||d),F&&(l=this.getRotatedBox(l,F));let B={bBox:l};ll(this,"afterGetBBox",B),l=B.bBox}if(u&&(b===""||l.height>0)){for(;T.length>250;)delete C[T.shift()];C[u]||T.push(u),C[u]=l}return l}getRotatedBox(i,o){let{x:l,y:d,width:h,height:u}=i,{alignValue:g,translateY:m,rotationOriginX:x=0,rotationOriginY:_=0}=this,b=Jc(g),C=Number(this.element.getAttribute("y")||0)-(m?0:d),T=o*Hs,R=(o-90)*Hs,F=Math.cos(T),$=Math.sin(T),B=h*F,G=h*$,X=Math.cos(R),fe=Math.sin(R),[[de,ue],[ye,ge]]=[x,_].map(Pt=>[Pt-Pt*F,Pt*$]),xe=l+b*(h-B)+de+ge+C*X,Ae=xe+B,Pe=Ae-u*X,Fe=Pe-B,Ge=d+C-b*G-ue+ye+C*fe,rt=Ge+G,Qe=rt-u*fe,lt=Qe-G,qe=Math.min(xe,Ae,Pe,Fe),ct=Math.min(Ge,rt,Qe,lt),bt=Math.max(xe,Ae,Pe,Fe)-qe,Tt=Math.max(Ge,rt,Qe,lt)-ct;return{x:qe,y:ct,width:bt,height:Tt,polygon:[[xe,Ge],[Ae,rt],[Pe,Qe],[Fe,lt]]}}getStyle(i){return al.getComputedStyle(this.element||this,"").getPropertyValue(i)}hasClass(i){return(""+this.attr("class")).split(" ").indexOf(i)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(i,o){this.onEvents={},this.opacity=1,this.SVG_NS=Zi,this.element=o==="span"||o==="body"?Zc(o):Ki.createElementNS(this.SVG_NS,o),this.renderer=i,this.styles={},ll(this,"afterInit")}on(i,o){let{onEvents:l}=this;return l[i]&&l[i](),l[i]=Qi(this.element,i,o),this}opacitySetter(i,o,l){let d=Number(Number(i).toFixed(3));this.opacity=d,l.setAttribute(o,d)}reAlign(){var i;(i=this.alignOptions)!=null&&i.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(i){return this.attr("class",(""+this.attr("class")).replace(xu(i)?RegExp(`(^| )${i}( |$)`):i," ").replace(/ +/g," ").trim())}removeTextOutline(){let i=this.element.querySelector("tspan.highcharts-text-outline");i&&this.safeRemoveChild(i)}safeRemoveChild(i){let o=i.parentNode;o&&o.removeChild(i)}setRadialReference(i){let o=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=i,o!=null&&o.radAttr&&o.animate(this.renderer.getRadialAttr(i,o.radAttr)),this}shadow(i){var h;let{renderer:o}=this,l=cl(((h=this.parentGroup)==null?void 0:h.rotation)===90?{offsetX:-1,offsetY:-1}:{},Vs(i)?i:{}),d=o.shadowDefinition(l);return this.attr({filter:i?`url(${o.url}#${d})`:"none"})}show(i=!0){return this.attr({visibility:i?"inherit":"visible"})}"stroke-widthSetter"(i,o,l){this[o]=i,l.setAttribute(o,i)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let i=this.getStyle("stroke-width"),o=0,l;return/px$/.test(i)?o=dl(i):i!==""&&(Kc(l=Ki.createElementNS(Zi,"rect"),{width:i,"stroke-width":0}),this.element.parentNode.appendChild(l),o=l.getBBox().width,l.parentNode.removeChild(l)),o}symbolAttr(i){let o=this;mr.symbolCustomAttribs.forEach(function(l){o[l]=Ri(i[l],o[l])}),o.attr({d:o.renderer.symbols[o.symbolName](o.x,o.y,o.width,o.height,o)})}textSetter(i){i!==this.textStr&&(delete this.textPxLength,this.textStr=i,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(i){let o=this.element,l=o.getElementsByTagName("title")[0]||Ki.createElementNS(this.SVG_NS,"title");o.insertBefore?o.insertBefore(l,o.firstChild):o.appendChild(l),l.textContent=um(Ri(i,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let i=this.element;return i.parentNode.appendChild(i),this}translate(i,o){return this.attr({translateX:i,translateY:o})}updateTransform(i="transform"){let{element:o,foreignObject:l,matrix:d,padding:h,rotation:u=0,rotationOriginX:g,rotationOriginY:m,scaleX:x,scaleY:_,text:b,translateX:C=0,translateY:T=0}=this,R=["translate("+C+","+T+")"];Ji(d)&&R.push("matrix("+d.join(",")+")"),u&&(R.push("rotate("+u+" "+(g??o.getAttribute("x")??this.x??0)+" "+(m??o.getAttribute("y")??this.y??0)+")"),(b==null?void 0:b.element.tagName)!=="SPAN"||b!=null&&b.foreignObject||b.attr({rotation:u,rotationOriginX:(g||0)-h,rotationOriginY:(m||0)-h})),(Ji(x)||Ji(_))&&R.push("scale("+Ri(x,1)+" "+Ri(_,1)+")"),R.length&&!(b||this).textPath&&((l==null?void 0:l.element)||o).setAttribute(i,R.join(" "))}visibilitySetter(i,o,l){i==="inherit"?l.removeAttribute(o):this[o]!==i&&l.setAttribute(o,i),this[o]=i}xGetter(i){return this.element.nodeName==="circle"&&(i==="x"?i="cx":i==="y"&&(i="cy")),this._defaultGetter(i)}zIndexSetter(i,o){let l=this.renderer,d=this.parentGroup,h=(d||l).element||l.box,u=this.element,g=h===l.box,m,x,_,b=!1,C,T=this.added,R;if(Ji(i)?(u.setAttribute("data-z-index",i),i*=1,this[o]===i&&(T=!1)):Ji(this[o])&&u.removeAttribute("data-z-index"),this[o]=i,T){for((i=this.zIndex)&&d&&(d.handleZ=!0),R=(m=h.childNodes).length-1;R>=0&&!b;R--)C=!Ji(_=(x=m[R]).getAttribute("data-z-index")),x!==u&&(i<0&&C&&!g&&!R?(h.insertBefore(u,m[R]),b=!0):(dl(_)<=i||C&&(!Ji(i)||i>=0))&&(h.insertBefore(u,m[R+1]),b=!0));b||(h.insertBefore(u,m[3*!!g]),b=!0)}return b}}mr.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],mr.prototype.strokeSetter=mr.prototype.fillSetter,mr.prototype.yGetter=mr.prototype.xGetter,mr.prototype.matrixSetter=mr.prototype.rotationOriginXSetter=mr.prototype.rotationOriginYSetter=mr.prototype.rotationSetter=mr.prototype.scaleXSetter=mr.prototype.scaleYSetter=mr.prototype.translateXSetter=mr.prototype.translateYSetter=mr.prototype.verticalAlignSetter=function(y,i){this[i]=y,this.doTransform=!0};let en=mr,{defined:yu,extend:pm,getAlignFactor:wu,isNumber:Ys,merge:gm,pick:qs,removeEvent:hl}=Ke;class Wn extends en{constructor(i,o,l,d,h,u,g,m,x,_){let b;super(i,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=o,this.x=l,this.y=d,this.anchorX=u,this.anchorY=g,this.baseline=x,this.className=_,this.addClass(_==="button"?"highcharts-no-tooltip":"highcharts-label"),_&&this.addClass("highcharts-"+_),this.text=i.text(void 0,0,0,m).attr({zIndex:1}),typeof h=="string"&&((b=/^url\((.*?)\)$/.test(h))||this.renderer.symbols[h])&&(this.symbolKey=h),this.bBox=Wn.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=i.styledMode||b,this.deferredAttr={},this.alignFactor=0}alignSetter(i){let o=wu(i);this.textAlign=i,o!==this.alignFactor&&(this.alignFactor=o,this.bBox&&Ys(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(i,o){this.anchorX=i,this.boxAttr(o,Math.round(i)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(i,o){this.anchorY=i,this.boxAttr(o,i-this.ySetting)}boxAttr(i,o){this.box?this.box.attr(i,o):this.deferredAttr[i]=o}css(i){if(i){let o={};i=gm(i),Wn.textProps.forEach(l=>{i[l]!==void 0&&(o[l]=i[l],delete i[l])}),this.text.css(o),"fontSize"in o||"fontWeight"in o?this.updateTextPadding():("width"in o||"textOverflow"in o)&&this.updateBoxSize()}return en.prototype.css.call(this,i)}destroy(){hl(this.element,"mouseenter"),hl(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),en.prototype.destroy.call(this)}fillSetter(i,o){i&&(this.needsBox=!0),this.fill=i,this.boxAttr(o,i)}getBBox(i,o){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:l,height:d=0,translateX:h=0,translateY:u=0,width:g=0}=this,m=qs(this.paddingLeft,l),x=o??(this.rotation||0),_={width:g,height:d,x:h+this.bBox.x-m,y:u+this.bBox.y-l+this.baselineOffset};return x&&(_=this.getRotatedBox(_,x)),_}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(i){this.heightSetting=i,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:qs(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&yu(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(i,o){Ys(i)?i!==this[o]&&(this[o]=i,this.updateTextPadding()):this[o]=void 0}rSetter(i,o){this.boxAttr(o,i)}strokeSetter(i,o){this.stroke=i,this.boxAttr(o,i)}"stroke-widthSetter"(i,o){i&&(this.needsBox=!0),this["stroke-width"]=i,this.boxAttr(o,i)}"text-alignSetter"(i){this.textAlign=this["text-align"]=i,this.updateTextPadding()}textSetter(i){i!==void 0&&this.text.attr({text:i}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let i,o=this.text,l={},d=this.padding,h=this.bBox=(!Ys(this.widthSetting)||!Ys(this.heightSetting)||this.textAlign)&&yu(o.textStr)?o.getBBox(void 0,0):Wn.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||h.height||0)+2*d;let u=this.renderer.fontMetrics(o);if(this.baselineOffset=d+Math.min((this.text.firstLineMetrics||u).b,h.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-u.h)/2),this.needsBox&&!o.textPath){if(!this.box){let g=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();g.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),g.add(this)}l.x=i=this.getCrispAdjust(),l.y=(this.baseline?-this.baselineOffset:0)+i,l.width=Math.round(this.width),l.height=Math.round(this.height),this.box.attr(pm(l,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let i=this.text,o=i.styles.textAlign||this.textAlign;if(!i.textPath){this.updateBoxSize();let l=this.baseline?0:this.baselineOffset,d=(this.paddingLeft??this.padding)+wu(o)*(this.widthSetting??this.bBox.width);(d!==i.x||l!==i.y)&&(i.attr({align:o,x:d}),l!==void 0&&i.attr("y",l)),i.x=d,i.y=l}}widthSetter(i){this.widthSetting=Ys(i)?i:void 0,this.doUpdate=!0}getPaddedWidth(){let i=this.padding,o=qs(this.paddingLeft,i),l=qs(this.paddingRight,i);return(this.widthSetting||this.bBox.width||0)+o+l}xSetter(i){this.x=i,this.alignFactor&&(i-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(i),this.attr("translateX",this.xSetting)}ySetter(i){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(i),this.attr("translateY",this.ySetting)}}Wn.emptyBBox={width:0,height:0,x:0,y:0},Wn.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Li,isNumber:ra,pick:ui}=Ke;function tn(y,i,o,l,d){let h=[];if(d){let u=d.start||0,g=d.end||0,m=ui(d.r,o),x=ui(d.r,l||o),_=2e-4/(d.borderRadius?1:Math.max(m,1)),b=Math.abs(g-u-2*Math.PI)<_;b&&(u=Math.PI/2,g=2.5*Math.PI-_);let C=d.innerR,T=ui(d.open,b),R=Math.cos(u),F=Math.sin(u),$=Math.cos(g),B=Math.sin(g),G=ui(d.longArc,g-u-Math.PI<_?0:1),X=["A",m,x,0,G,ui(d.clockwise,1),y+m*$,i+x*B];X.params={start:u,end:g,cx:y,cy:i},h.push(["M",y+m*R,i+x*F],X),Li(C)&&((X=["A",C,C,0,G,Li(d.clockwise)?1-d.clockwise:0,y+C*R,i+C*F]).params={start:g,end:u,cx:y,cy:i},h.push(T?["M",y+C*$,i+C*B]:["L",y+C*$,i+C*B],X)),T||h.push(["Z"])}return h}function bu(y,i,o,l,d){return d!=null&&d.r?td(y,i,o,l,d):[["M",y,i],["L",y+o,i],["L",y+o,i+l],["L",y,i+l],["Z"]]}function td(y,i,o,l,d){let h=(d==null?void 0:d.r)||0;return[["M",y+h,i],["L",y+o-h,i],["A",h,h,0,0,1,y+o,i+h],["L",y+o,i+l-h],["A",h,h,0,0,1,y+o-h,i+l],["L",y+h,i+l],["A",h,h,0,0,1,y,i+l-h],["L",y,i+h],["A",h,h,0,0,1,y+h,i],["Z"]]}let Su={arc:tn,callout:function(y,i,o,l,d){let h=Math.min((d==null?void 0:d.r)||0,o,l),u=h+6,g=d==null?void 0:d.anchorX,m=(d==null?void 0:d.anchorY)||0,x=td(y,i,o,l,{r:h});if(!ra(g)||g<o&&g>0&&m<l&&m>0)return x;if(y+g>o-u)if(m>i+u&&m<i+l-u)x.splice(3,1,["L",y+o,m-6],["L",y+o+6,m],["L",y+o,m+6],["L",y+o,i+l-h]);else if(g<o){let _=m<i+u,b=_?i:i+l;x.splice(_?2:5,0,["L",g,m],["L",y+o-h,b])}else x.splice(3,1,["L",y+o,l/2],["L",g,m],["L",y+o,l/2],["L",y+o,i+l-h]);else if(y+g<u)if(m>i+u&&m<i+l-u)x.splice(7,1,["L",y,m+6],["L",y-6,m],["L",y,m-6],["L",y,i+h]);else if(g>0){let _=m<i+u,b=_?i:i+l;x.splice(_?1:6,0,["L",g,m],["L",y+h,b])}else x.splice(7,1,["L",y,l/2],["L",g,m],["L",y,l/2],["L",y,i+h]);else m>l&&g<o-u?x.splice(5,1,["L",g+6,i+l],["L",g,i+l+6],["L",g-6,i+l],["L",y+h,i+l]):m<0&&g>u&&x.splice(1,1,["L",g-6,i],["L",g,i-6],["L",g+6,i],["L",o-h,i]);return x},circle:function(y,i,o,l){return tn(y+o/2,i+l/2,o/2,l/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(y,i,o,l){return[["M",y+o/2,i],["L",y+o,i+l/2],["L",y+o/2,i+l],["L",y,i+l/2],["Z"]]},rect:bu,roundedRect:td,square:bu,triangle:function(y,i,o,l){return[["M",y+o/2,i],["L",y+o,i+l],["L",y,i+l],["Z"]]},"triangle-down":function(y,i,o,l){return[["M",y,i],["L",y+o,i],["L",y+o/2,i+l],["Z"]]}},{doc:ul,SVG_NS:Ks,win:zr}=J,{attr:ia,extend:Un,fireEvent:mm,isString:rn,objectEach:vm,pick:ku}=Ke,fs=(y,i)=>y.substring(0,i)+"",xm=class{constructor(y){let i=y.styles;this.renderer=y.renderer,this.svgElement=y,this.width=y.textWidth,this.textLineHeight=i==null?void 0:i.lineHeight,this.textOutline=i==null?void 0:i.textOutline,this.ellipsis=(i==null?void 0:i.textOverflow)==="ellipsis",this.lineClamp=i==null?void 0:i.lineClamp,this.noWrap=(i==null?void 0:i.whiteSpace)==="nowrap"}buildSVG(){let y=this.svgElement,i=y.element,o=y.renderer,l=ku(y.textStr,"").toString(),d=l.indexOf("<")!==-1,h=i.childNodes,u=!y.added&&o.box,g=[l,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,y.getStyle("font-size"),y.styles.lineClamp,this.width].join(",");if(g!==y.textCache){y.textCache=g,delete y.actualWidth;for(let m=h.length;m--;)i.removeChild(h[m]);if(d||this.ellipsis||this.width||y.textPath||l.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(l))){if(l!==""){u&&u.appendChild(i);let m=new Ut(l);this.modifyTree(m.nodes),m.addToDOM(i),this.modifyDOM(),this.ellipsis&&(i.textContent||"").indexOf("")!==-1&&y.attr("title",this.unescapeEntities(y.textStr||"",["&lt;","&gt;"])),u&&u.removeChild(i)}}else i.appendChild(ul.createTextNode(this.unescapeEntities(l)));rn(this.textOutline)&&y.applyTextOutline&&y.applyTextOutline(this.textOutline)}}modifyDOM(){let y,i=this.svgElement,o=ia(i.element,"x");for(i.firstLineMetrics=void 0;(y=i.element.firstChild)&&/^[\s\u200B]*$/.test(y.textContent||" ");)i.element.removeChild(y);[].forEach.call(i.element.querySelectorAll("tspan.highcharts-br"),(u,g)=>{u.nextSibling&&u.previousSibling&&(g===0&&u.previousSibling.nodeType===1&&(i.firstLineMetrics=i.renderer.fontMetrics(u.previousSibling)),ia(u,{dy:this.getLineHeight(u.nextSibling),x:o}))});let l=this.width||0;if(!l)return;let d=(u,g)=>{var F;let m=u.textContent||"",x=m.replace(/([^\^])-/g,"$1- ").split(" "),_=!this.noWrap&&(x.length>1||i.element.childNodes.length>1),b=this.getLineHeight(g),C=Math.max(0,l-.8*b),T=0,R=i.actualWidth;if(_){let $=[],B=[];for(;g.firstChild&&g.firstChild!==u;)B.push(g.firstChild),g.removeChild(g.firstChild);for(;x.length;)if(x.length&&!this.noWrap&&T>0&&($.push(u.textContent||""),u.textContent=x.join(" ").replace(/- /g,"-")),this.truncate(u,void 0,x,T===0&&R||0,l,C,(G,X)=>x.slice(0,X).join(" ").replace(/- /g,"-")),R=i.actualWidth,T++,this.lineClamp&&T>=this.lineClamp){x.length&&(this.truncate(u,u.textContent||"",void 0,0,l,C,fs),u.textContent=((F=u.textContent)==null?void 0:F.replace("",""))+"");break}B.forEach(G=>{g.insertBefore(G,u)}),$.forEach(G=>{g.insertBefore(ul.createTextNode(G),u);let X=ul.createElementNS(Ks,"tspan");X.textContent="",ia(X,{dy:b,x:o}),g.insertBefore(X,u)})}else this.ellipsis&&m&&this.truncate(u,m,void 0,0,l,C,fs)},h=u=>{[].slice.call(u.childNodes).forEach(g=>{g.nodeType===zr.Node.TEXT_NODE?d(g,u):(g.className.baseVal.indexOf("highcharts-br")!==-1&&(i.actualWidth=0),h(g))})};h(i.element)}getLineHeight(y){let i=y.nodeType===zr.Node.TEXT_NODE?y.parentElement:y;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(i||this.svgElement.element).h}modifyTree(y){let i=(o,l)=>{let{attributes:d={},children:h,style:u={},tagName:g}=o,m=this.renderer.styledMode;if(g==="b"||g==="strong"?m?d.class="highcharts-strong":u.fontWeight="bold":(g==="i"||g==="em")&&(m?d.class="highcharts-emphasized":u.fontStyle="italic"),u!=null&&u.color&&(u.fill=u.color),g==="br"){d.class="highcharts-br",o.textContent="";let x=y[l+1];x!=null&&x.textContent&&(x.textContent=x.textContent.replace(/^ +/gm,""))}else g==="a"&&h&&h.some(x=>x.tagName==="#text")&&(o.children=[{children:h,tagName:"tspan"}]);g!=="#text"&&g!=="a"&&(o.tagName="tspan"),Un(o,{attributes:d,style:u}),h&&h.filter(x=>x.tagName!=="#text").forEach(i)};y.forEach(i),mm(this.svgElement,"afterModifyTree",{nodes:y})}truncate(y,i,o,l,d,h,u){let g,m,x=this.svgElement,{rotation:_}=x,b=[],C=o&&!l?1:0,T=(i||o||"").length,R=T;o||(d=h);let F=function($,B){let G=B||$,X=y.parentNode;if(X&&b[G]===void 0&&X.getSubStringLength)try{b[G]=l+X.getSubStringLength(0,o?G+1:G)}catch{}return b[G]};if(x.rotation=0,l+(m=F(y.textContent.length))>d){for(;C<=T;)R=Math.ceil((C+T)/2),o&&(g=u(o,R)),m=F(R,g&&g.length-1),C===T?C=T+1:m>d?T=R-1:C=R;T===0?y.textContent="":i&&T===i.length-1||(y.textContent=g||u(i||o,R)),this.ellipsis&&m>d&&this.truncate(y,y.textContent||"",void 0,0,d,h,fs)}o&&o.splice(0,R),x.actualWidth=m,x.rotation=_}unescapeEntities(y,i){return vm(this.renderer.escapes,function(o,l){i&&i.indexOf(o)!==-1||(y=y.toString().replace(RegExp(o,"g"),l))}),y}},{defaultOptions:_u}=Oi,{charts:ym,deg2rad:rd,doc:Zs,isFirefox:Hn,isMS:Cu,isWebKit:Eu,noop:id,SVG_NS:wm,symbolSizes:nd,win:nn}=J,{addEvent:fl,attr:xn,createElement:yn,crisp:sd,css:Qs,defined:Gn,destroyObjectProperties:od,extend:Vn,isArray:bm,isNumber:Xn,isObject:Js,isString:Mu,merge:ad,pick:ld,pInt:cd,replaceNested:Sm,uniqueKey:km}=Ke;class pl{constructor(i,o,l,d,h,u,g){let m,x;this.x=0,this.y=0;let _=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),b=_.element;g||_.css(this.getStyle(d||{})),i.appendChild(b),xn(i,"dir","ltr"),i.innerHTML.indexOf("xmlns")===-1&&xn(b,"xmlns",this.SVG_NS),this.box=b,this.boxWrapper=_,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Zs.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=u,this.forExport=h,this.styledMode=g,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=_.getStyle("font-size"),this.setSize(o,l,!1),Hn&&i.getBoundingClientRect&&((m=function(){Qs(i,{left:0,top:0}),x=i.getBoundingClientRect(),Qs(i,{left:Math.ceil(x.left)-x.left+"px",top:Math.ceil(x.top)-x.top+"px"})})(),this.unSubPixelFix=fl(nn,"resize",m))}definition(i){return new Ut([i]).addToDOM(this.defs.element)}getReferenceURL(){if((Hn||Eu)&&Zs.getElementsByTagName("base").length){if(!Gn(n)){let i=km(),o=new Ut([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:i},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${i})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Zs.body);Qs(o,{position:"fixed",top:0,left:0,zIndex:9e5});let l=Zs.elementFromPoint(6,6);n=(l==null?void 0:l.id)==="hitme",Zs.body.removeChild(o)}if(n)return Sm(nn.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(i){return this.style=Vn({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},i),this.style}setStyle(i){this.boxWrapper.css(this.getStyle(i))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let i=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),od(this.gradients||{}),this.gradients=null,this.defs=i.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(i){return new this.Element(this,i)}getRadialAttr(i,o){return{cx:i[0]-i[2]/2+(o.cx||0)*i[2],cy:i[1]-i[2]/2+(o.cy||0)*i[2],r:(o.r||0)*i[2]}}shadowDefinition(i){let o=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(i).map(d=>`${d}-${i[d]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),l=ad({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},i);return this.defs.element.querySelector(`#${o}`)||this.definition({tagName:"filter",attributes:{id:o,filterUnits:l.filterUnits},children:this.getShadowFilterContent(l)}),o}getShadowFilterContent(i){return[{tagName:"feDropShadow",attributes:{dx:i.offsetX,dy:i.offsetY,"flood-color":i.color,"flood-opacity":Math.min(5*i.opacity,1),stdDeviation:i.width/2}}]}buildText(i){new xm(i).buildSVG()}getContrast(i){if(i==="transparent")return"#000000";let o=Wt.parse(i).rgba,l=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Xn(o[0])||!Wt.useColorMix){let d=o.map(u=>{let g=u/255;return g<=.04?g/12.92:Math.pow((g+.055)/1.055,2.4)}),h=.2126*d[0]+.7152*d[1]+.0722*d[2];return 1.05/(h+.05)>(h+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+i+" srgb"+l+l+l+")"}button(i,o,l,d,h={},u,g,m,x,_){let b=this.label(i,o,l,x,void 0,void 0,_,void 0,"button"),C=this.styledMode,T=arguments,R=0;h=ad(_u.global.buttonTheme,h),C&&(delete h.fill,delete h.stroke,delete h["stroke-width"]);let F=h.states||{},$=h.style||{};delete h.states,delete h.style;let B=[Ut.filterUserAttributes(h)],G=[$];return C||["hover","select","disabled"].forEach((X,fe)=>{B.push(ad(B[0],Ut.filterUserAttributes(T[fe+5]||F[X]||{}))),G.push(B[fe+1].style),delete B[fe+1].style}),fl(b.element,Cu?"mouseover":"mouseenter",function(){R!==3&&b.setState(1)}),fl(b.element,Cu?"mouseout":"mouseleave",function(){R!==3&&b.setState(R)}),b.setState=(X=0)=>{if(X!==1&&(b.state=R=X),b.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][X]),!C){b.attr(B[X]);let fe=G[X];Js(fe)&&b.css(fe)}},b.attr(B[0]),!C&&(b.css(Vn({cursor:"default"},$)),_&&b.text.css({pointerEvents:"none"})),b.on("touchstart",X=>X.stopPropagation()).on("click",function(X){R!==3&&(d==null||d.call(b,X))})}crispLine(i,o){let[l,d]=i;return Gn(l[1])&&l[1]===d[1]&&(l[1]=d[1]=sd(l[1],o)),Gn(l[2])&&l[2]===d[2]&&(l[2]=d[2]=sd(l[2],o)),i}path(i){let o=this.styledMode?{}:{fill:"none"};return bm(i)?o.d=i:Js(i)&&Vn(o,i),this.createElement("path").attr(o)}circle(i,o,l){let d=Js(i)?i:i===void 0?{}:{x:i,y:o,r:l},h=this.createElement("circle");return h.xSetter=h.ySetter=function(u,g,m){m.setAttribute("c"+g,u)},h.attr(d)}arc(i,o,l,d,h,u){let g;Js(i)?(o=(g=i).y,l=g.r,d=g.innerR,h=g.start,u=g.end,i=g.x):g={innerR:d,start:h,end:u};let m=this.symbol("arc",i,o,l,l,g);return m.r=l,m}rect(i,o,l,d,h,u){let g=Js(i)?i:i===void 0?{}:{x:i,y:o,r:h,width:Math.max(l||0,0),height:Math.max(d||0,0)},m=this.createElement("rect");return this.styledMode||(u!==void 0&&(g["stroke-width"]=u,Vn(g,m.crisp(g))),g.fill="none"),m.rSetter=function(x,_,b){m.r=x,xn(b,{rx:x,ry:x})},m.rGetter=function(){return m.r||0},m.attr(g)}roundedRect(i){return this.symbol("roundedRect").attr(i)}setSize(i,o,l){this.width=i,this.height=o,this.boxWrapper.animate({width:i,height:o},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:ld(l,!0)?void 0:0}),this.alignElements()}g(i){let o=this.createElement("g");return i?o.attr({class:"highcharts-"+i}):o}image(i,o,l,d,h,u){let g={preserveAspectRatio:"none"};Xn(o)&&(g.x=o),Xn(l)&&(g.y=l),Xn(d)&&(g.width=d),Xn(h)&&(g.height=h);let m=this.createElement("image").attr(g),x=function(_){m.attr({href:i}),u.call(m,_)};if(u){m.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let _=new nn.Image;fl(_,"load",x),_.src=i,_.complete&&x({})}else m.attr({href:i});return m}symbol(i,o,l,d,h,u){var $,B;let g,m,x,_,b=this,C=/^url\((.*?)\)$/,T=C.test(i),R=!T&&(this.symbols[i]?i:"circle"),F=R&&this.symbols[R];if(F)typeof o=="number"&&(m=F.call(this.symbols,o||0,l||0,d||0,h||0,u)),g=this.path(m),b.styledMode||g.attr("fill","none"),Vn(g,{symbolName:R||void 0,x:o,y:l,width:d,height:h}),u&&Vn(g,u);else if(T){x=i.match(C)[1];let G=g=this.image(x);G.imgwidth=ld(u==null?void 0:u.width,($=nd[x])==null?void 0:$.width),G.imgheight=ld(u==null?void 0:u.height,(B=nd[x])==null?void 0:B.height),_=X=>X.attr({width:X.width,height:X.height}),["width","height"].forEach(X=>{G[`${X}Setter`]=function(fe,de){this[de]=fe;let{alignByTranslate:ue,element:ye,width:ge,height:xe,imgwidth:Ae,imgheight:Pe}=this,Fe=de==="width"?Ae:Pe,Ge=1;u&&u.backgroundSize==="within"&&ge&&xe&&Ae&&Pe?(Ge=Math.min(ge/Ae,xe/Pe),xn(ye,{width:Math.round(Ae*Ge),height:Math.round(Pe*Ge)})):ye&&Fe&&ye.setAttribute(de,Fe),!ue&&Ae&&Pe&&this.translate(((ge||0)-Ae*Ge)/2,((xe||0)-Pe*Ge)/2)}}),Gn(o)&&G.attr({x:o,y:l}),G.isImg=!0,G.symbolUrl=i,Gn(G.imgwidth)&&Gn(G.imgheight)?_(G):(G.attr({width:0,height:0}),yn("img",{onload:function(){let X=ym[b.chartIndex];this.width===0&&(Qs(this,{position:"absolute",top:"-999em"}),Zs.body.appendChild(this)),nd[x]={width:this.width,height:this.height},G.imgwidth=this.width,G.imgheight=this.height,G.element&&_(G),this.parentNode&&this.parentNode.removeChild(this),b.imgCount--,b.imgCount||!X||X.hasLoaded||X.onload()},src:x}),this.imgCount++)}return g}clipRect(i,o,l,d){return this.rect(i,o,l,d,0)}text(i,o,l,d){let h={};if(d&&(this.allowHTML||!this.forExport))return this.html(i,o,l);h.x=Math.round(o||0),l&&(h.y=Math.round(l)),Gn(i)&&(h.text=i);let u=this.createElement("text").attr(h);return d&&(!this.forExport||this.allowHTML)||(u.xSetter=function(g,m,x){let _=x.getElementsByTagName("tspan"),b=x.getAttribute(m);for(let C=0,T;C<_.length;C++)(T=_[C]).getAttribute(m)===b&&T.setAttribute(m,g);x.setAttribute(m,g)}),u}fontMetrics(i){let o=Xn(i)?i:cd(en.prototype.getStyle.call(i,"font-size")||0),l=o<24?o+3:Math.round(1.2*o),d=Math.round(.8*l);return{h:l,b:d,f:o}}rotCorr(i,o,l){let d=i;return o&&l&&(d=Math.max(d*Math.cos(o*rd),4)),{x:-i/3*Math.sin(o*rd),y:d}}pathToSegments(i){let o=[],l=[],d={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let h=0;h<i.length;h++)Mu(l[0])&&Xn(i[h])&&l.length===d[l[0].toUpperCase()]&&i.splice(h,0,l[0].replace("M","L").replace("m","l")),typeof i[h]=="string"&&(l.length&&o.push(l.slice(0)),l.length=0),l.push(i[h]);return o.push(l.slice(0)),o}label(i,o,l,d,h,u,g,m,x){return new Wn(this,i,o,l,d,h,u,g,m,x)}alignElements(){this.alignedObjects.forEach(i=>i.align())}}Vn(pl.prototype,{Element:en,SVG_NS:wm,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Su,draw:id}),qi.registerRendererType("svg",pl,!0);let{composed:Tu,isFirefox:Au}=J,{attr:ju,css:wn,createElement:_m,defined:Pu,extend:Cm,getAlignFactor:Em,isNumber:sn,pInt:Mm,pushUnique:dd}=Ke;function gl(y,i,o){var d;let l=(d=this.div)==null?void 0:d.style;en.prototype[`${i}Setter`].call(this,y,i,o),l&&(o.style[i]=l[i]=y)}let Tm=(y,i)=>{var o;if(!y.div){let l=ju(y.element,"class"),d=y.css,h=_m("div",l?{className:l}:void 0,{position:"absolute",left:`${y.translateX||0}px`,top:`${y.translateY||0}px`,...y.styles,display:y.display,opacity:y.opacity,visibility:y.visibility},((o=y.parentGroup)==null?void 0:o.div)||i);y.classSetter=(u,g,m)=>{m.setAttribute("class",u),h.className=u},y.translateXSetter=y.translateYSetter=(u,g)=>{y[g]=u,h.style[g==="translateX"?"left":"top"]=`${u}px`,y.doTransform=!0},y.scaleXSetter=y.scaleYSetter=(u,g)=>{y[g]=u,y.doTransform=!0},y.opacitySetter=y.visibilitySetter=gl,y.css=u=>(d.call(y,u),u.cursor&&(h.style.cursor=u.cursor),u.pointerEvents&&(h.style.pointerEvents=u.pointerEvents),y),y.on=function(){return en.prototype.on.apply({element:h,onEvents:y.onEvents},arguments),y},y.div=h}return y.div};class ps extends en{static compose(i){dd(Tu,this.compose)&&(i.prototype.html=function(o,l,d){return new ps(this,"span").attr({text:o,x:Math.round(l),y:Math.round(d)})})}constructor(i,o){super(i,o),ps.useForeignObject?this.foreignObject=i.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...i.styledMode?{}:{fontFamily:i.style.fontFamily,fontSize:i.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(i,o,l){this.xCorr=-i*l,this.yCorr=-o}css(i){let o,{element:l}=this,d=l.tagName==="SPAN"&&i&&"width"in i,h=d&&i.width;return d&&(delete i.width,this.textWidth=Mm(h)||void 0,o=!0),(i==null?void 0:i.textOverflow)==="ellipsis"&&(i.overflow="hidden",i.whiteSpace="nowrap"),i!=null&&i.lineClamp&&(i.display="-webkit-box",i.WebkitLineClamp=i.lineClamp,i.WebkitBoxOrient="vertical",i.overflow="hidden"),sn(Number(i==null?void 0:i.fontSize))&&(i.fontSize+="px"),Cm(this.styles,i),wn(l,i),o&&this.updateTransform(),this}htmlGetBBox(){let{element:i}=this;return{x:i.offsetLeft,y:i.offsetTop,width:i.offsetWidth,height:i.offsetHeight}}updateTransform(){var G;if(!this.added){this.alignOnAdd=!0;return}let{element:i,foreignObject:o,oldTextWidth:l,renderer:d,rotation:h,rotationOriginX:u,rotationOriginY:g,scaleX:m,scaleY:x,styles:{display:_="inline-block",whiteSpace:b},textAlign:C="left",textWidth:T,translateX:R=0,translateY:F=0,x:$=0,y:B=0}=this;if(o||wn(i,{marginLeft:`${R}px`,marginTop:`${F}px`}),i.tagName==="SPAN"){let X,fe=[h,C,i.innerHTML,T,this.textAlign].join(","),de=-(((G=this.parentGroup)==null?void 0:G.padding)*1)||0;if(T!==l){let xe=this.textPxLength?this.textPxLength:(wn(i,{width:"",whiteSpace:b||"nowrap"}),i.offsetWidth),Ae=T||0,Pe=!d.styledMode&&i.style.textOverflow===""&&i.style.webkitLineClamp;(Ae>l||xe>Ae||Pe)&&(/[\-\s\u00AD]/.test(i.textContent||i.innerText)||i.style.textOverflow==="ellipsis")&&(wn(i,{width:(h||m||xe>Ae||Pe)&&sn(T)?T+"px":"auto",display:_,whiteSpace:b||"normal"}),this.oldTextWidth=T)}o&&(wn(i,{display:"inline-block",verticalAlign:"top"}),o.attr({width:d.width,height:d.height})),fe!==this.cTT&&(X=d.fontMetrics(i).b,Pu(h)&&!o&&(h!==(this.oldRotation||0)||C!==this.oldAlign)&&wn(i,{transform:`rotate(${h}deg)`,transformOrigin:`${de}% ${de}px`}),this.getSpanCorrection(!Pu(h)&&!this.textWidth&&this.textPxLength||i.offsetWidth,X,Em(C)));let{xCorr:ue=0,yCorr:ye=0}=this,ge={left:`${$+ue}px`,top:`${B+ye}px`,textAlign:C,transformOrigin:`${(u??$)-ue-$-de}px ${(g??B)-ye-B-de}px`};(m||x)&&(ge.transform=`scale(${m??1},${x??1})`),o?(super.updateTransform(),sn($)&&sn(B)?(o.attr({x:$+ue,y:B+ye,width:i.offsetWidth+3,height:i.offsetHeight,"transform-origin":i.getAttribute("transform-origin")||"0 0"}),wn(i,{display:_,textAlign:C})):Au&&o.attr({width:0,height:0})):wn(i,ge),this.cTT=fe,this.oldRotation=h,this.oldAlign=C}}add(i){let{foreignObject:o,renderer:l}=this,d=l.box.parentNode,h=[];if(o)o.add(i),super.add(l.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(o));else{let u;if(this.parentGroup=i,i&&!(u=i.div)){let g=i;for(;g;)h.push(g),g=g.parentGroup;for(let m of h.reverse())u=Tm(m,d)}(u||d).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(i){i!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Ut.setElementHTML(this.element,i??""),this.textStr=i,this.doTransform=!0)}alignSetter(i){this.alignValue=this.textAlign=i,this.doTransform=!0}xSetter(i,o){this[o]=i,this.doTransform=!0}}let gs=ps.prototype;gs.visibilitySetter=gs.opacitySetter=gl,gs.ySetter=gs.rotationSetter=gs.rotationOriginXSetter=gs.rotationOriginYSetter=gs.xSetter,function(y){y.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},y.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:i}=this.axis.chart;return i(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(p||(p={}));let Am=p,{addEvent:jm,isFunction:Pm,objectEach:Nm,removeEvent:Om}=Ke;(v||(v={})).registerEventOptions=function(y,i){y.eventOptions=y.eventOptions||{},Nm(i.events,function(o,l){y.eventOptions[l]!==o&&(y.eventOptions[l]&&(Om(y,l,y.eventOptions[l]),delete y.eventOptions[l]),Pm(o)&&(y.eventOptions[l]=o,jm(y,l,o,{order:0})))})};let ml=v,{deg2rad:hd}=J,{clamp:Rm,correctFloat:vl,defined:ud,destroyObjectProperties:fd,extend:Nu,fireEvent:na,getAlignFactor:Lm,isNumber:xl,merge:Im,objectEach:Ou,pick:Ii}=Ke,eo=class{constructor(y,i,o,l,d){this.isNew=!0,this.isNewLabel=!0,this.axis=y,this.pos=i,this.type=o||"",this.parameters=d||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,na(this,"init"),o||l||this.addLabel()}addLabel(){var ye,ge;let y=this,i=y.axis,o=i.options,l=i.chart,d=i.categories,h=i.logarithmic,u=i.names,g=y.pos,m=Ii((ye=y.options)==null?void 0:ye.labels,o.labels),x=i.tickPositions,_=g===x[0],b=g===x[x.length-1],C=(!m.step||m.step===1)&&i.tickInterval===1,T=x.info,R=y.label,F,$,B,G=this.parameters.category||(d?Ii(d[g],u[g],g):g);h&&xl(G)&&(G=vl(h.lin2log(G))),i.dateTime&&(T?F=($=l.time.resolveDTLFormat(o.dateTimeLabelFormats[!((ge=o.grid)!=null&&ge.enabled)&&T.higherRanks[g]||T.unitName])).main:xl(G)&&(F=i.dateTime.getXDateFormat(G,o.dateTimeLabelFormats||{}))),y.isFirst=_,y.isLast=b;let X={axis:i,chart:l,dateTimeLabelFormat:F,isFirst:_,isLast:b,pos:g,tick:y,tickPositionInfo:T,value:G};na(this,"labelFormat",X);let fe=xe=>m.formatter?m.formatter.call(xe,xe):m.format?(xe.text=i.defaultLabelFormatter.call(xe),ar.format(m.format,xe,l)):i.defaultLabelFormatter.call(xe),de=fe.call(X,X),ue=$==null?void 0:$.list;ue?y.shortenLabel=function(){for(B=0;B<ue.length;B++)if(Nu(X,{dateTimeLabelFormat:ue[B]}),R.attr({text:fe.call(X,X)}),R.getBBox().width<i.getSlotWidth(y)-2*(m.padding||0))return;R.attr({text:""})}:y.shortenLabel=void 0,C&&i._addedPlotLB&&y.moveLabel(de,m),ud(R)||y.movedLabel?R&&R.textStr!==de&&!C&&(!R.textWidth||m.style.width||R.styles.width||R.css({width:null}),R.attr({text:de}),R.textPxLength=R.getBBox().width):(y.label=R=y.createLabel(de,m),y.rotation=0)}createLabel(y,i,o){let l=this.axis,{renderer:d,styledMode:h}=l.chart,u=i.style.whiteSpace,g=ud(y)&&i.enabled?d.text(y,o==null?void 0:o.x,o==null?void 0:o.y,i.useHTML).add(l.labelGroup):void 0;return g&&(h||g.css(Im(i.style)),g.textPxLength=g.getBBox().width,!h&&u&&g.css({whiteSpace:u})),g}destroy(){fd(this,this.axis)}getPosition(y,i,o,l){let d=this.axis,h=d.chart,u=l&&h.oldChartHeight||h.chartHeight,g={x:y?vl(d.translate(i+o,void 0,void 0,l)+d.transB):d.left+d.offset+(d.opposite?(l&&h.oldChartWidth||h.chartWidth)-d.right-d.left:0),y:y?u-d.bottom+d.offset-(d.opposite?d.height:0):vl(u-d.translate(i+o,void 0,void 0,l)-d.transB)};return g.y=Rm(g.y,-1e9,1e9),na(this,"afterGetPosition",{pos:g}),g}getLabelPosition(y,i,o,l,d,h,u,g){let m,x,_=this.axis,b=_.transA,C=_.isLinked&&_.linkedParent?_.linkedParent.reversed:_.reversed,T=_.staggerLines,R=_.tickRotCorr||{x:0,y:0},F=l||_.reserveSpaceDefault?0:-_.labelOffset*(_.labelAlign==="center"?.5:1),$=d.distance,B={};return m=_.side===0?o.rotation?-$:-o.getBBox().height:_.side===2?R.y+$:Math.cos(o.rotation*hd)*(R.y-o.getBBox(!1,0).height/2),ud(d.y)&&(m=_.side===0&&_.horiz?d.y+m:d.y),y=y+Ii(d.x,[0,1,0,-1][_.side]*$)+F+R.x-(h&&l?h*b*(C?-1:1):0),i=i+m-(h&&!l?h*b*(C?1:-1):0),T&&(x=u/(g||1)%T,_.opposite&&(x=T-x-1),i+=x*(_.labelOffset/T)),B.x=y,B.y=Math.round(i),na(this,"afterGetLabelPosition",{pos:B,tickmarkOffset:h,index:u}),B}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(y,i,o,l,d=!1,h){return h.crispLine([["M",y,i],["L",y+(d?0:-o),i+(d?o:0)]],l)}handleOverflow(y){var $;let i=this.axis,o=i.options.labels,l=y.x,d=i.chart.chartWidth,h=i.chart.spacing,u=Ii(i.labelLeft,Math.min(i.pos,h[3])),g=Ii(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,d-h[1])),m=this.label,x=this.rotation,_=Lm(i.labelAlign||m.attr("align")),b=m.getBBox().width,C=i.getSlotWidth(this),T=C,R=1,F;x||o.overflow!=="justify"?x<0&&l-_*b<u?F=Math.round(l/Math.cos(x*hd)-u):x>0&&l+_*b>g&&(F=Math.round((d-l)/Math.cos(x*hd))):(l-_*b<u?T=y.x+T*(1-_)-u:l+(1-_)*b>g&&(T=g-y.x+T*_,R=-1),(T=Math.min(C,T))<C&&i.labelAlign==="center"&&(y.x+=R*(C-T-_*(C-Math.min(b,T)))),(b>T||i.autoRotation&&(($=m==null?void 0:m.styles)!=null&&$.width))&&(F=T)),F&&m&&(this.shortenLabel?this.shortenLabel():m.css(Nu({},{width:Math.floor(F)+"px",lineClamp:+!i.isRadial})))}moveLabel(y,i){let o=this,l=o.label,d=o.axis,h=!1,u;l&&l.textStr===y?(o.movedLabel=l,h=!0,delete o.label):Ou(d.ticks,function(g){h||g.isNew||g===o||!g.label||g.label.textStr!==y||(o.movedLabel=g.label,h=!0,g.labelPos=o.movedLabel.xy,delete g.label)}),!h&&(o.labelPos||l)&&(u=o.labelPos||l.xy,o.movedLabel=o.createLabel(y,i,u),o.movedLabel&&o.movedLabel.attr({opacity:0}))}render(y,i,o){var R;let l=this.axis,d=l.horiz,h=this.pos,u=Ii(this.tickmarkOffset,l.tickmarkOffset),g=this.getPosition(d,h,u,i),m=g.x,x=g.y,_=l.pos,b=_+l.len,C=d?m:x,T=Ii(o,(R=this.label)==null?void 0:R.newOpacity,1);!l.chart.polar&&(vl(C)<_||C>b)&&(o=0),o??(o=1),this.isActive=!0,this.renderGridLine(i,o),this.renderMark(g,o),this.renderLabel(g,i,T,y),this.isNew=!1,na(this,"afterRender")}renderGridLine(y,i){let o=this.axis,l=o.options,d={},h=this.pos,u=this.type,g=Ii(this.tickmarkOffset,o.tickmarkOffset),m=o.chart.renderer,x=this.gridLine,_,b=l.gridLineWidth,C=l.gridLineColor,T=l.gridLineDashStyle;this.type==="minor"&&(b=l.minorGridLineWidth,C=l.minorGridLineColor,T=l.minorGridLineDashStyle),x||(o.chart.styledMode||(d.stroke=C,d["stroke-width"]=b||0,d.dashstyle=T),u||(d.zIndex=1),y&&(i=0),this.gridLine=x=m.path().attr(d).addClass("highcharts-"+(u?u+"-":"")+"grid-line").add(o.gridGroup)),x&&(_=o.getPlotLinePath({value:h+g,lineWidth:x.strokeWidth(),force:"pass",old:y,acrossPanes:!1}))&&x[y||this.isNew?"attr":"animate"]({d:_,opacity:i})}renderMark(y,i){let o=this.axis,l=o.options,d=o.chart.renderer,h=this.type,u=o.tickSize(h?h+"Tick":"tick"),g=y.x,m=y.y,x=Ii(l[h!=="minor"?"tickWidth":"minorTickWidth"],!h&&o.isXAxis?1:0),_=l[h!=="minor"?"tickColor":"minorTickColor"],b=this.mark,C=!b;u&&(o.opposite&&(u[0]=-u[0]),!b&&(this.mark=b=d.path().addClass("highcharts-"+(h?h+"-":"")+"tick").add(o.axisGroup),o.chart.styledMode||b.attr({stroke:_,"stroke-width":x})),b[C?"attr":"animate"]({d:this.getMarkPath(g,m,u[0],b.strokeWidth(),o.horiz,d),opacity:i}))}renderLabel(y,i,o,l){let d=this.axis,h=d.horiz,u=d.options,g=this.label,m=u.labels,x=m.step,_=Ii(this.tickmarkOffset,d.tickmarkOffset),b=y.x,C=y.y,T=!0;g&&xl(b)&&(g.xy=y=this.getLabelPosition(b,C,g,h,m,_,l,x),(!this.isFirst||this.isLast||u.showFirstLabel)&&(!this.isLast||this.isFirst||u.showLastLabel)?!h||m.step||m.rotation||i||o===0||this.handleOverflow(y):T=!1,x&&l%x&&(T=!1),T&&xl(y.y)?(y.opacity=o,g[this.isNewLabel?"attr":"animate"](y).show(!0),this.isNewLabel=!1):(g.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let y=this.label,i=this.axis;y&&!this.isNew&&(y.animate({opacity:0},void 0,y.destroy),delete this.label),i.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:Dm}=jr,{xAxis:Ru,yAxis:Bm}=Am,{defaultOptions:yl}=Oi,{registerEventOptions:$m}=ml,{deg2rad:zm}=J,{arrayMax:ms,arrayMin:Fm,clamp:pd,correctFloat:Sr,defined:$t,destroyObjectProperties:Lu,erase:Iu,error:kr,extend:vs,fireEvent:Gt,getClosestDistance:to,insertItem:ti,isArray:Du,isNumber:dt,isString:Bu,merge:wl,normalizeTickInterval:on,objectEach:sa,pick:wt,relativeLength:oa,removeEvent:ro,splat:$u,syncTimeout:Wm}=Ke,zu=(y,i)=>on(i,void 0,void 0,wt(y.options.allowDecimals,i<.5||y.tickAmount!==void 0),!!y.tickAmount);vs(yl,{xAxis:Ru,yAxis:wl(Ru,Bm)});class xs{constructor(i,o,l){this.init(i,o,l)}init(i,o,l=this.coll){let d=l==="xAxis",h=this.isZAxis||(i.inverted?!d:d);this.chart=i,this.horiz=h,this.isXAxis=d,this.coll=l,Gt(this,"init",{userOptions:o}),this.opposite=wt(o.opposite,this.opposite),this.side=wt(o.side,this.side,h?2*!this.opposite:this.opposite?1:3),this.setOptions(o);let u=this.options,g=u.labels;this.type??(this.type=u.type||"linear"),this.uniqueNames??(this.uniqueNames=u.uniqueNames??!0),Gt(this,"afterSetType"),this.userOptions=o,this.minPixelPadding=0,this.reversed=wt(u.reversed,this.reversed),this.visible=u.visible,this.zoomEnabled=u.zoomEnabled,this.hasNames=this.type==="category"||u.categories===!0,this.categories=Du(u.categories)&&u.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=$t(u.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=u.minRange||u.maxZoom,this.range=u.range,this.offset=u.offset||0,this.max=void 0,this.min=void 0;let m=wt(u.crosshair,$u(i.options.tooltip.crosshairs)[+!d]);this.crosshair=m===!0?{}:m,i.axes.indexOf(this)===-1&&(d?i.axes.splice(i.xAxis.length,0,this):i.axes.push(this),ti(this,i[this.coll])),i.orderItems(this.coll),this.series=this.series||[],i.inverted&&!this.isZAxis&&d&&!$t(this.reversed)&&(this.reversed=!0),this.labelRotation=dt(g.rotation)?g.rotation:void 0,$m(this,u),Gt(this,"afterInit")}setOptions(i){let o=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=wl(o,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},yl[this.coll],i),Gt(this,"afterSetOptions",{userOptions:i})}defaultLabelFormatter(){let i=this.axis,{numberFormatter:o}=this.chart,l=dt(this.value)?this.value:NaN,d=i.chart.time,h=i.categories,u=this.dateTimeLabelFormat,g=yl.lang,m=g.numericSymbols,x=g.numericSymbolMagnitude||1e3,_=i.logarithmic?Math.abs(l):i.tickInterval,b=m==null?void 0:m.length,C,T;if(h)T=`${this.value}`;else if(u)T=d.dateFormat(u,l,!0);else if(b&&m&&_>=1e3)for(;b--&&T===void 0;)_>=(C=Math.pow(x,b+1))&&10*l%C==0&&m[b]!==null&&l!==0&&(T=o(l/C,-1)+m[b]);return T===void 0&&(T=Math.abs(l)>=1e4?o(l,-1):o(l,-1,void 0,"")),T}getSeriesExtremes(){let i,o=this;Gt(this,"getSeriesExtremes",null,function(){o.hasVisibleSeries=!1,o.dataMin=o.dataMax=o.threshold=void 0,o.softThreshold=!o.isXAxis,o.series.forEach(l=>{if(l.reserveSpace()){let d=l.options,h,u=d.threshold,g,m;if(o.hasVisibleSeries=!0,o.positiveValuesOnly&&0>=(u||0)&&(u=void 0),o.isXAxis)(h=l.getColumn("x")).length&&(h=o.logarithmic?h.filter(x=>x>0):h,g=(i=l.getXExtremes(h)).min,m=i.max,dt(g)||g instanceof Date||(h=h.filter(dt),g=(i=l.getXExtremes(h)).min,m=i.max),h.length&&(o.dataMin=Math.min(wt(o.dataMin,g),g),o.dataMax=Math.max(wt(o.dataMax,m),m)));else{let x=l.applyExtremes();dt(x.dataMin)&&(g=x.dataMin,o.dataMin=Math.min(wt(o.dataMin,g),g)),dt(x.dataMax)&&(m=x.dataMax,o.dataMax=Math.max(wt(o.dataMax,m),m)),$t(u)&&(o.threshold=u),(!d.softThreshold||o.positiveValuesOnly)&&(o.softThreshold=!1)}}})}),Gt(this,"afterGetSeriesExtremes")}translate(i,o,l,d,h,u){var F;let g=this.linkedParent||this,m=d&&g.old?g.old.min:g.min;if(!dt(m))return NaN;let x=g.minPixelPadding,_=(g.isOrdinal||((F=g.brokenAxis)==null?void 0:F.hasBreaks)||g.logarithmic&&h)&&!!g.lin2val,b=1,C=0,T=d&&g.old?g.old.transA:g.transA,R=0;return T||(T=g.transA),l&&(b*=-1,C=g.len),g.reversed&&(b*=-1,C-=b*(g.sector||g.len)),o?(R=(i=i*b+C-x)/T+m,_&&(R=g.lin2val(R))):(_&&(i=g.val2lin(i)),R=b*(i-m)*T+C+b*x+(dt(u)?T*u:0),g.isRadial||(R=Sr(R))),R}toPixels(i,o){var l;return this.translate(((l=this.chart)==null?void 0:l.time.parse(i))??NaN,!1,!this.horiz,void 0,!0)+(o?0:this.pos)}toValue(i,o){return this.translate(i-(o?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(i){let o=this,l=o.chart,d=o.left,h=o.top,u=i.old,g=i.value,m=i.lineWidth,x=u&&l.oldChartHeight||l.chartHeight,_=u&&l.oldChartWidth||l.chartWidth,b=o.transB,C=i.translatedValue,T=i.force,R,F,$,B,G;function X(de,ue,ye){return T!=="pass"&&(de<ue||de>ye)&&(T?de=pd(de,ue,ye):G=!0),de}let fe={value:g,lineWidth:m,old:u,force:T,acrossPanes:i.acrossPanes,translatedValue:C};return Gt(this,"getPlotLinePath",fe,function(de){R=$=(C=pd(C=wt(C,o.translate(g,void 0,void 0,u)),-1e9,1e9))+b,F=B=x-C-b,dt(C)?o.horiz?(F=h,B=x-o.bottom+(o.options.isInternal?0:l.scrollablePixelsY||0),R=$=X(R,d,d+o.width)):(R=d,$=_-o.right+(l.scrollablePixelsX||0),F=B=X(F,h,h+o.height)):(G=!0,T=!1),de.path=G&&!T?void 0:l.renderer.crispLine([["M",R,F],["L",$,B]],m||1)}),fe.path}getLinearTickPositions(i,o,l){let d,h,u,g=Sr(Math.floor(o/i)*i),m=Sr(Math.ceil(l/i)*i),x=[];if(Sr(g+i)===g&&(u=20),this.single)return[o];for(d=g;d<=m&&(x.push(d),(d=Sr(d+i,u))!==h);)h=d;return x}getMinorTickInterval(){let{minorTicks:i,minorTickInterval:o}=this.options;return i===!0?wt(o,"auto"):i!==!1?o:void 0}getMinorTickPositions(){var _;let i=this.options,o=this.tickPositions,l=this.minorTickInterval,d=this.pointRangePadding||0,h=(this.min||0)-d,u=(this.max||0)+d,g=(_=this.brokenAxis)!=null&&_.hasBreaks?this.brokenAxis.unitLength:u-h,m=[],x;if(g&&g/l<this.len/3){let b=this.logarithmic;if(b)this.paddedTicks.forEach(function(C,T,R){T&&m.push.apply(m,b.getLogTickPositions(l,R[T-1],R[T],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")m=m.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(l),h,u,i.startOfWeek));else for(x=h+(o[0]-h)%l;x<=u&&x!==m[0];x+=l)m.push(x)}return m.length!==0&&this.trimTicks(m),m}adjustForMinRange(){let i=this.options,o=this.logarithmic,l=this.chart.time,{max:d,min:h,minRange:u}=this,g,m,x,_;this.isXAxis&&u===void 0&&!o&&(u=$t(i.min)||$t(i.max)||$t(i.floor)||$t(i.ceiling)?null:Math.min(5*(to(this.series.map(b=>{let C=b.getColumn("x");return b.xIncrement?C.slice(0,2):C}))||0),this.dataMax-this.dataMin)),dt(d)&&dt(h)&&dt(u)&&d-h<u&&(m=this.dataMax-this.dataMin>=u,g=(u-d+h)/2,x=[h-g,l.parse(i.min)??h-g],m&&(x[2]=o?o.log2lin(this.dataMin):this.dataMin),_=[(h=ms(x))+u,l.parse(i.max)??h+u],m&&(_[2]=o?o.log2lin(this.dataMax):this.dataMax),(d=Fm(_))-h<u&&(x[0]=d-u,x[1]=l.parse(i.min)??d-u,h=ms(x))),this.minRange=u,this.min=h,this.max=d}getClosest(){let i,o;if(this.categories)o=1;else{let l=[];this.series.forEach(function(d){let h=d.closestPointRange,u=d.getColumn("x");u.length===1?l.push(u[0]):d.sorted&&$t(h)&&d.reserveSpace()&&(o=$t(o)?Math.min(o,h):h)}),l.length&&(l.sort((d,h)=>d-h),i=to([l]))}return i&&o?Math.min(i,o):i||o}nameToX(i){let o=Du(this.options.categories),l=o?this.categories:this.names,d=i.options.x,h;return i.series.requireSorting=!1,$t(d)||(d=this.uniqueNames&&l?o?l.indexOf(i.name):wt(l.keys[i.name],-1):i.series.autoIncrement()),d===-1?!o&&l&&(h=l.length):dt(d)&&(h=d),h!==void 0?(this.names[h]=i.name,this.names.keys[i.name]=h):i.x&&(h=i.x),h}updateNames(){let i=this,o=this.names;o.length>0&&(Object.keys(o.keys).forEach(function(l){delete o.keys[l]}),o.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(l=>{l.xIncrement=null,(!l.points||l.isDirtyData)&&(i.max=Math.max(i.max||0,l.dataTable.rowCount-1),l.processData(),l.generatePoints());let d=l.getColumn("x").slice();l.data.forEach((h,u)=>{let g=d[u];h!=null&&h.options&&h.name!==void 0&&(g=i.nameToX(h))!==void 0&&g!==h.x&&(d[u]=h.x=g)}),l.dataTable.setColumn("x",d)}))}setAxisTranslation(){var C;let i=this,o=i.max-i.min,l=i.linkedParent,d=!!i.categories,h=i.isXAxis,u=i.axisPointRange||0,g,m=0,x=0,_,b=i.transA;(h||d||u)&&(g=i.getClosest(),l?(m=l.minPointOffset,x=l.pointRangePadding):i.series.forEach(function(T){let R=d?1:h?wt(T.options.pointRange,g,0):i.axisPointRange||0,F=T.options.pointPlacement;if(u=Math.max(u,R),!i.single||d){let $=T.is("xrange")?!h:h;m=Math.max(m,$&&Bu(F)?0:R/2),x=Math.max(x,$&&F==="on"?0:R)}}),_=(C=i.ordinal)!=null&&C.slope&&g?i.ordinal.slope/g:1,i.minPointOffset=m*=_,i.pointRangePadding=x*=_,i.pointRange=Math.min(u,i.single&&d?1:o),h&&(i.closestPointRange=g)),i.translationSlope=i.transA=b=i.staticScale||i.len/(o+x||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=b*m,Gt(this,"afterSetAxisTranslation")}minFromRange(){let{max:i,min:o}=this;return dt(i)&&dt(o)&&i-o||void 0}setTickInterval(i){var Qe,lt,qe,ct;let{categories:o,chart:l,dataMax:d,dataMin:h,dateTime:u,isXAxis:g,logarithmic:m,options:x,softThreshold:_}=this,b=l.time,C=dt(this.threshold)?this.threshold:void 0,T=this.minRange||0,{ceiling:R,floor:F,linkedTo:$,softMax:B,softMin:G}=x,X=dt($)&&((Qe=l[this.coll])==null?void 0:Qe[$]),fe=x.tickPixelInterval,de=x.maxPadding,ue=x.minPadding,ye=0,ge,xe=dt(x.tickInterval)&&x.tickInterval>=0?x.tickInterval:void 0,Ae,Pe,Fe,Ge;if(u||o||X||this.getTickAmount(),Fe=wt(this.userMin,b.parse(x.min)),Ge=wt(this.userMax,b.parse(x.max)),X?(this.linkedParent=X,ge=X.getExtremes(),this.min=wt(ge.min,ge.dataMin),this.max=wt(ge.max,ge.dataMax),this.type!==X.type&&kr(11,!0,l)):(_&&$t(C)&&dt(d)&&dt(h)&&(h>=C?(Ae=C,ue=0):d<=C&&(Pe=C,de=0)),this.min=wt(Fe,Ae,h),this.max=wt(Ge,Pe,d)),dt(this.max)&&dt(this.min)&&(m&&(this.positiveValuesOnly&&!i&&0>=Math.min(this.min,wt(h,this.min))&&kr(10,!0,l),this.min=Sr(m.log2lin(this.min),16),this.max=Sr(m.log2lin(this.max),16)),this.range&&dt(h)&&(this.userMin=this.min=Fe=Math.max(h,this.minFromRange()||0),this.userMax=Ge=this.max,this.range=void 0)),Gt(this,"foundExtremes"),this.adjustForMinRange(),dt(this.min)&&dt(this.max)){if(!dt(this.userMin)&&dt(G)&&G<this.min&&(this.min=Fe=G),!dt(this.userMax)&&dt(B)&&B>this.max&&(this.max=Ge=B),o||this.axisPointRange||(lt=this.stacking)!=null&&lt.usePercentage||X||(ye=this.max-this.min)&&(!$t(Fe)&&ue&&(this.min-=ye*ue),!$t(Ge)&&de&&(this.max+=ye*de)),!dt(this.userMin)&&dt(F)&&(this.min=Math.max(this.min,F)),!dt(this.userMax)&&dt(R)&&(this.max=Math.min(this.max,R)),_&&dt(h)&&dt(d)){let bt=C||0;!$t(Fe)&&this.min<bt&&h>=bt?this.min=x.minRange?Math.min(bt,this.max-T):bt:!$t(Ge)&&this.max>bt&&d<=bt&&(this.max=x.minRange?Math.max(bt,this.min+T):bt)}!l.polar&&this.min>this.max&&($t(x.min)?this.max=this.min:$t(x.max)&&(this.min=this.max)),ye=this.max-this.min}if(this.min!==this.max&&dt(this.min)&&dt(this.max)?X&&!xe&&fe===X.options.tickPixelInterval?this.tickInterval=xe=X.tickInterval:this.tickInterval=wt(xe,this.tickAmount?ye/Math.max(this.tickAmount-1,1):void 0,o?1:ye*fe/Math.max(this.len,fe)):this.tickInterval=1,g&&!i){let bt=this.min!==((qe=this.old)==null?void 0:qe.min)||this.max!==((ct=this.old)==null?void 0:ct.max);this.series.forEach(function(Tt){var Pt;Tt.forceCrop=(Pt=Tt.forceCropping)==null?void 0:Pt.call(Tt),Tt.processData(bt)}),Gt(this,"postProcessData",{hasExtremesChanged:bt})}this.setAxisTranslation(),Gt(this,"initialAxisTranslation"),this.pointRange&&!xe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let rt=wt(x.minTickInterval,u&&!this.series.some(bt=>!bt.sorted)?this.closestPointRange:0);!xe&&rt&&this.tickInterval<rt&&(this.tickInterval=rt),u||m||xe||(this.tickInterval=zu(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var _,b;let i=this.options,o=i.tickPositions,l=i.tickPositioner,d=this.getMinorTickInterval(),h=!this.isPanning,u=h&&i.startOnTick,g=h&&i.endOnTick,m=[],x;if(this.tickmarkOffset=this.categories&&i.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&$t(this.min)&&!this.tickAmount&&(this.min%1==0||i.allowDecimals!==!1),o)m=o.slice();else if(dt(this.min)&&dt(this.max)){if(!((_=this.ordinal)!=null&&_.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))m=[this.min,this.max],kr(19,!1,this.chart);else if(this.dateTime)m=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,(b=this.ordinal)==null?void 0:b.positions,this.closestPointRange,!0);else if(this.logarithmic)m=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let C=this.tickInterval,T=C;for(;T<=2*C&&(m=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&m.length>this.tickAmount);)this.tickInterval=zu(this,T*=1.1)}m.length>this.len&&(m=[m[0],m[m.length-1]])[0]===m[1]&&(m.length=1),l&&(this.tickPositions=m,(x=l.apply(this,[this.min,this.max]))&&(m=x))}this.tickPositions=m,this.minorTickInterval=d==="auto"&&this.tickInterval?this.tickInterval/i.minorTicksPerMajor:d,this.paddedTicks=m.slice(0),this.trimTicks(m,u,g),!this.isLinked&&dt(this.min)&&dt(this.max)&&(this.single&&m.length<2&&!this.categories&&!this.series.some(C=>C.is("heatmap")&&C.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),o||x||this.adjustTickAmount()),Gt(this,"afterSetTickPositions")}trimTicks(i,o,l){let d=i[0],h=i[i.length-1],u=!this.isOrdinal&&this.minPointOffset||0;if(Gt(this,"trimTicks"),!this.isLinked||!this.grid){if(o&&d!==-1/0)this.min=d;else for(;this.min-u>i[0];)i.shift();if(l)this.max=h;else for(;this.max+u<i[i.length-1];)i.pop();i.length===0&&$t(d)&&!this.options.tickPositions&&i.push((h+d)/2)}}alignToOthers(){let i,o=this,l=o.chart,d=[this],h=o.options,u=l.options.chart,g=this.coll==="yAxis"&&u.alignThresholds,m=[];if(o.thresholdAlignment=void 0,(u.alignTicks!==!1&&h.alignTicks||g)&&h.startOnTick!==!1&&h.endOnTick!==!1&&!o.logarithmic){let x=b=>{let{horiz:C,options:T}=b;return[C?T.left:T.top,T.width,T.height,T.pane].join(",")},_=x(this);l[this.coll].forEach(function(b){let{series:C}=b;C.length&&C.some(T=>T.visible)&&b!==o&&x(b)===_&&(i=!0,d.push(b))})}if(i&&g){d.forEach(_=>{let b=_.getThresholdAlignment(o);dt(b)&&m.push(b)});let x=m.length>1?m.reduce((_,b)=>_+=b,0)/m.length:void 0;d.forEach(_=>{_.thresholdAlignment=x})}return i}getThresholdAlignment(i){if((!dt(this.dataMin)||this!==i&&this.series.some(o=>o.isDirty||o.isDirtyData))&&this.getSeriesExtremes(),dt(this.threshold)){let o=pd((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(o=1-o),o}}getTickAmount(){let i=this.options,o=i.tickPixelInterval,l=i.tickAmount;$t(i.tickInterval)||l||!(this.len<o)||this.isRadial||this.logarithmic||!i.startOnTick||!i.endOnTick||(l=2),!l&&this.alignToOthers()&&(l=Math.ceil(this.len/o)+1),l<4&&(this.finalTickAmt=l,l=5),this.tickAmount=l}adjustTickAmount(){let i=this,{finalTickAmt:o,max:l,min:d,options:h,tickPositions:u,tickAmount:g,thresholdAlignment:m}=i,x=u==null?void 0:u.length,_=wt(i.threshold,i.softThreshold?0:null),b,C,T=i.tickInterval,R,F=()=>u.push(Sr(u[u.length-1]+T)),$=()=>u.unshift(Sr(u[0]-T));if(dt(m)&&(R=m<.5?Math.ceil(m*(g-1)):Math.floor(m*(g-1)),h.reversed&&(R=g-1-R)),i.hasData()&&dt(d)&&dt(l)){let B=()=>{i.transA*=(x-1)/(g-1),i.min=h.startOnTick?u[0]:Math.min(d,u[0]),i.max=h.endOnTick?u[u.length-1]:Math.max(l,u[u.length-1])};if(dt(R)&&dt(i.threshold)){for(;u[R]!==_||u.length!==g||u[0]>d||u[u.length-1]<l;){for(u.length=0,u.push(i.threshold);u.length<g;)u[R]===void 0||u[R]>i.threshold?$():F();if(T>8*i.tickInterval)break;T*=2}B()}else if(x<g){for(;u.length<g;)u.length%2||d===_?F():$();B()}if($t(o)){for(C=b=u.length;C--;)(o===3&&C%2==1||o<=2&&C>0&&C<b-1)&&u.splice(C,1);i.finalTickAmt=void 0}}}setScale(){var u,g,m,x,_;let{coll:i,stacking:o}=this,l=!1,d=!1;this.series.forEach(b=>{var C;l=l||b.isDirtyData||b.isDirty,d=d||((C=b.xAxis)==null?void 0:C.isDirty)||!1}),this.setAxisSize();let h=this.len!==((u=this.old)==null?void 0:u.len);h||l||d||this.isLinked||this.forceRedraw||this.userMin!==((g=this.old)==null?void 0:g.userMin)||this.userMax!==((m=this.old)==null?void 0:m.userMax)||this.alignToOthers()?(o&&i==="yAxis"&&o.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),o&&i==="xAxis"&&o.buildStacks(),this.isDirty||(this.isDirty=h||this.min!==((x=this.old)==null?void 0:x.min)||this.max!==((_=this.old)==null?void 0:_.max))):o&&o.cleanStacks(),l&&delete this.allExtremes,Gt(this,"afterSetScale")}setExtremes(i,o,l=!0,d,h){let u=this.chart;this.series.forEach(g=>{delete g.kdTree}),i=u.time.parse(i),o=u.time.parse(o),Gt(this,"setExtremes",h=vs(h,{min:i,max:o}),g=>{this.userMin=g.min,this.userMax=g.max,this.eventArgs=g,l&&u.redraw(d)})}setAxisSize(){let i=this.chart,o=this.options,l=o.offsets||[0,0,0,0],d=this.horiz,h=this.width=Math.round(oa(wt(o.width,i.plotWidth-l[3]+l[1]),i.plotWidth)),u=this.height=Math.round(oa(wt(o.height,i.plotHeight-l[0]+l[2]),i.plotHeight)),g=this.top=Math.round(oa(wt(o.top,i.plotTop+l[0]),i.plotHeight,i.plotTop)),m=this.left=Math.round(oa(wt(o.left,i.plotLeft+l[3]),i.plotWidth,i.plotLeft));this.bottom=i.chartHeight-u-g,this.right=i.chartWidth-h-m,this.len=Math.max(d?h:u,0),this.pos=d?m:g}getExtremes(){let i=this.logarithmic;return{min:i?Sr(i.lin2log(this.min)):this.min,max:i?Sr(i.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(i){let o=this.logarithmic,l=o?o.lin2log(this.min):this.min,d=o?o.lin2log(this.max):this.max;return i===null||i===-1/0?i=l:i===1/0?i=d:l>i?i=l:d<i&&(i=d),this.translate(i,0,1,0,1)}autoLabelAlign(i){let o=(wt(i,0)-90*this.side+720)%360,l={align:"center"};return Gt(this,"autoLabelAlign",l,function(d){o>15&&o<165?d.align="right":o>195&&o<345&&(d.align="left")}),l.align}tickSize(i){let o=this.options,l=wt(o[i==="tick"?"tickWidth":"minorTickWidth"],i==="tick"&&this.isXAxis&&!this.categories?1:0),d=o[i==="tick"?"tickLength":"minorTickLength"],h;l&&d&&(o[i+"Position"]==="inside"&&(d=-d),h=[d,l]);let u={tickSize:h};return Gt(this,"afterTickSize",u),u.tickSize}labelMetrics(){let i=this.chart.renderer,o=this.ticks,l=o[Object.keys(o)[0]]||{};return this.chart.renderer.fontMetrics(l.label||l.movedLabel||i.box)}unsquish(){let i=this.options.labels,o=i.padding||0,l=this.horiz,d=this.tickInterval,h=this.len/((+!!this.categories+this.max-this.min)/d),u=i.rotation,g=Sr(.8*this.labelMetrics().h),m=Math.max(this.max-this.min,0),x=function(R){let F=(R+2*o)/(h||1);return(F=F>1?Math.ceil(F):1)*d>m&&R!==1/0&&h!==1/0&&m&&(F=Math.ceil(m/d)),Sr(F*d)},_=d,b,C=Number.MAX_VALUE,T;if(l){if(!i.staggerLines&&(dt(u)?T=[u]:h<i.autoRotationLimit&&(T=i.autoRotation)),T){let R,F;for(let $ of T)($===u||$&&$>=-90&&$<=90)&&(F=(R=x(Math.abs(g/Math.sin(zm*$))))+Math.abs($/360))<C&&(C=F,b=$,_=R)}}else _=x(.75*g);return this.autoRotation=T,this.labelRotation=wt(b,dt(u)?u:0),i.step?d:_}getSlotWidth(i){let o=this.chart,l=this.horiz,d=this.options.labels,h=Math.max(this.tickPositions.length-!this.categories,1),u=o.margin[3];if(i&&dt(i.slotWidth))return i.slotWidth;if(l&&d.step<2&&!this.isRadial)return d.rotation?0:(this.staggerLines||1)*this.len/h;if(!l){let g=d.style.width;if(g!==void 0)return parseInt(String(g),10);if(!this.opposite&&u)return u-o.spacing[3]}return .33*o.chartWidth}renderUnsquish(){let i=this.chart,o=i.renderer,l=this.tickPositions,d=this.ticks,h=this.options.labels,u=h.style,g=this.horiz,m=this.getSlotWidth(),x=Math.max(1,Math.round(m-(g?2*(h.padding||0):h.distance||0))),_={},b=this.labelMetrics(),C=u.lineClamp,T,R=C??(Math.floor(this.len/(l.length*b.h))||1),F=0;Bu(h.rotation)||(_.rotation=h.rotation||0),l.forEach(function($){var X;let B=d[$];B.movedLabel&&B.replaceMovedLabel();let G=((X=B.label)==null?void 0:X.textPxLength)||0;G>F&&(F=G)}),this.maxLabelLength=F,this.autoRotation?F>x&&F>b.h?_.rotation=this.labelRotation:this.labelRotation=0:m&&(T=x),_.rotation&&(T=F>.5*i.chartHeight?.33*i.chartHeight:F,C||(R=1)),this.labelAlign=h.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(_.align=this.labelAlign),l.forEach(function($){let B=d[$],G=B==null?void 0:B.label,X=u.width,fe={};G&&(G.attr(_),B.shortenLabel?B.shortenLabel():T&&!X&&u.whiteSpace!=="nowrap"&&(T<(G.textPxLength||0)||G.element.tagName==="SPAN")?G.css(vs(fe,{width:`${T}px`,lineClamp:R})):!G.styles.width||fe.width||X||G.css({width:"auto"}),B.rotation=_.rotation)},this),this.tickRotCorr=o.rotCorr(b.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(i){return i.hasData()})||this.options.showEmpty&&$t(this.min)&&$t(this.max)}addTitle(i){let o,l=this.chart.renderer,d=this.horiz,h=this.opposite,u=this.options.title,g=this.chart.styledMode;this.axisTitle||((o=u.textAlign)||(o=(d?{low:"left",middle:"center",high:"right"}:{low:h?"right":"left",middle:"center",high:h?"left":"right"})[u.align]),this.axisTitle=l.text(u.text||"",0,0,u.useHTML).attr({zIndex:7,rotation:u.rotation||0,align:o}).addClass("highcharts-axis-title"),g||this.axisTitle.css(wl(u.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),g||u.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[i?"show":"hide"](i)}generateTick(i){let o=this.ticks;o[i]?o[i].addLabel():o[i]=new eo(this,i)}createGroups(){let{axisParent:i,chart:o,coll:l,options:d}=this,h=o.renderer,u=(g,m,x)=>h.g(g).attr({zIndex:x}).addClass(`highcharts-${l.toLowerCase()}${m} `+(this.isRadial?`highcharts-radial-axis${m} `:"")+(d.className||"")).add(i);this.axisGroup||(this.gridGroup=u("grid","-grid",d.gridZIndex),this.axisGroup=u("axis","",d.zIndex),this.labelGroup=u("axis-labels","-labels",d.labels.zIndex))}getOffset(){let i=this,{chart:o,horiz:l,options:d,side:h,ticks:u,tickPositions:g,coll:m}=i,x=o.inverted&&!i.isZAxis?[1,0,3,2][h]:h,_=i.hasData(),b=d.title,C=d.labels,T=dt(d.crossing),R=o.axisOffset,F=o.clipOffset,$=[-1,1,1,-1][h],B,G=0,X,fe=0,de=0,ue,ye;if(i.showAxis=B=_||d.showEmpty,i.staggerLines=i.horiz&&C.staggerLines||void 0,i.createGroups(),_||i.isLinked?(g.forEach(function(ge){i.generateTick(ge)}),i.renderUnsquish(),i.reserveSpaceDefault=h===0||h===2||{1:"left",3:"right"}[h]===i.labelAlign,wt(C.reserveSpace,!T&&null,i.labelAlign==="center"||null,i.reserveSpaceDefault)&&g.forEach(function(ge){de=Math.max(u[ge].getLabelSize(),de)}),i.staggerLines&&(de*=i.staggerLines),i.labelOffset=de*(i.opposite?-1:1)):sa(u,function(ge,xe){ge.destroy(),delete u[xe]}),b!=null&&b.text&&b.enabled!==!1&&(i.addTitle(B),B&&!T&&b.reserveSpace!==!1&&(i.titleOffset=G=i.axisTitle.getBBox()[l?"height":"width"],fe=$t(X=b.offset)?0:wt(b.margin,l?5:10))),i.renderLine(),i.offset=$*wt(d.offset,R[h]?R[h]+(d.margin||0):0),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},ye=h===0?-i.labelMetrics().h:h===2?i.tickRotCorr.y:0,ue=Math.abs(de)+fe,de&&(ue-=ye,ue+=$*(l?wt(C.y,i.tickRotCorr.y+$*C.distance):wt(C.x,$*C.distance))),i.axisTitleMargin=wt(X,ue),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(u,g)),m!=="colorAxis"&&F){let ge=this.tickSize("tick");R[h]=Math.max(R[h],(i.axisTitleMargin||0)+G+$*i.offset,ue,g!=null&&g.length&&ge?ge[0]+$*i.offset:0);let xe=!i.axisLine||d.offset?0:i.axisLine.strokeWidth()/2;F[x]=Math.max(F[x],xe)}Gt(this,"afterGetOffset")}getLinePath(i){let o=this.chart,l=this.opposite,d=this.offset,h=this.horiz,u=this.left+(l?this.width:0)+d,g=o.chartHeight-this.bottom-(l?this.height:0)+d;return l&&(i*=-1),o.renderer.crispLine([["M",h?this.left:u,h?g:this.top],["L",h?o.chartWidth-this.right:u,h?g:o.chartHeight-this.bottom]],i)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(i){let o=this.horiz,l=this.left,d=this.top,h=this.len,u=this.options.title,g=o?l:d,m=this.opposite,x=this.offset,_=u.x,b=u.y,C=this.chart.renderer.fontMetrics(i),T=i?Math.max(i.getBBox(!1,0).height-C.h-1,0):0,R={low:g+(o?0:h),middle:g+h/2,high:g+(o?h:0)}[u.align],F=(o?d+this.height:l)+(o?1:-1)*(m?-1:1)*(this.axisTitleMargin||0)+[-T,T,C.f,-T][this.side],$={x:o?R+_:F+(m?this.width:0)+x+_,y:o?F+b-(m?this.height:0)+x:R+b};return Gt(this,"afterGetTitlePosition",{titlePosition:$}),$}renderMinorTick(i,o){let l=this.minorTicks;l[i]||(l[i]=new eo(this,i,"minor")),o&&l[i].isNew&&l[i].render(null,!0),l[i].render(null,!1,1)}renderTick(i,o,l){var u;let d=this.isLinked,h=this.ticks;(!d||i>=this.min&&i<=this.max||(u=this.grid)!=null&&u.isColumn)&&(h[i]||(h[i]=new eo(this,i)),l&&h[i].isNew&&h[i].render(o,!0,-1),h[i].render(o))}render(){let i,o,l=this,d=l.chart,h=l.logarithmic,u=d.renderer,g=l.options,m=l.isLinked,x=l.tickPositions,_=l.axisTitle,b=l.ticks,C=l.minorTicks,T=l.alternateBands,R=g.stackLabels,F=g.alternateGridColor,$=g.crossing,B=l.tickmarkOffset,G=l.axisLine,X=l.showAxis,fe=Dm(u.globalAnimation);if(l.labelEdge.length=0,l.overlap=!1,[b,C,T].forEach(function(de){sa(de,function(ue){ue.isActive=!1})}),dt($)){let de=this.isXAxis?d.yAxis[0]:d.xAxis[0],ue=[1,-1,-1,1][this.side];if(de){let ye=de.toPixels($,!0);l.horiz&&(ye=de.len-ye),l.offset=ue*ye}}if(l.hasData()||m){let de=l.chart.hasRendered&&l.old&&dt(l.old.min);l.minorTickInterval&&!l.categories&&l.getMinorTickPositions().forEach(function(ue){l.renderMinorTick(ue,de)}),x.length&&(x.forEach(function(ue,ye){l.renderTick(ue,ye,de)}),B&&(l.min===0||l.single)&&(b[-1]||(b[-1]=new eo(l,-1,null,!0)),b[-1].render(-1))),F&&x.forEach(function(ue,ye){o=x[ye+1]!==void 0?x[ye+1]+B:l.max-B,ye%2==0&&ue<l.max&&o<=l.max+(d.polar?-B:B)&&(T[ue]||(T[ue]=new J.PlotLineOrBand(l,{})),i=ue+B,T[ue].options={from:h?h.lin2log(i):i,to:h?h.lin2log(o):o,color:F,className:"highcharts-alternate-grid"},T[ue].render(),T[ue].isActive=!0)}),l._addedPlotLB||(l._addedPlotLB=!0,(g.plotLines||[]).concat(g.plotBands||[]).forEach(function(ue){l.addPlotBandOrLine(ue)}))}[b,C,T].forEach(function(de){let ue=[],ye=fe.duration;sa(de,function(ge,xe){ge.isActive||(ge.render(xe,!1,0),ge.isActive=!1,ue.push(xe))}),Wm(function(){let ge=ue.length;for(;ge--;)de[ue[ge]]&&!de[ue[ge]].isActive&&(de[ue[ge]].destroy(),delete de[ue[ge]])},de!==T&&d.hasRendered&&ye?ye:0)}),G&&(G[G.isPlaced?"animate":"attr"]({d:this.getLinePath(G.strokeWidth())}),G.isPlaced=!0,G[X?"show":"hide"](X)),_&&X&&(_[_.isNew?"attr":"animate"](l.getTitlePosition(_)),_.isNew=!1),R!=null&&R.enabled&&l.stacking&&l.stacking.renderStackTotals(),l.old={len:l.len,max:l.max,min:l.min,transA:l.transA,userMax:l.userMax,userMin:l.userMin},l.isDirty=!1,Gt(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(i){i.render()})),this.series.forEach(function(i){i.isDirty=!0})}getKeepProps(){return this.keepProps||xs.keepProps}destroy(i){let o=this,l=o.plotLinesAndBands,d=this.eventOptions;if(Gt(this,"destroy",{keepEvents:i}),i||ro(o),[o.ticks,o.minorTicks,o.alternateBands].forEach(function(h){Lu(h)}),l){let h=l.length;for(;h--;)l[h].destroy()}for(let h in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(u){o[u]&&(o[u]=o[u].destroy())}),o.plotLinesAndBandsGroups)o.plotLinesAndBandsGroups[h]=o.plotLinesAndBandsGroups[h].destroy();sa(o,function(h,u){o.getKeepProps().indexOf(u)===-1&&delete o[u]}),this.eventOptions=d}drawCrosshair(i,o){var b;let l=this.crosshair,d=(l==null?void 0:l.snap)??!0,h=this.chart,u,g,m,x=this.cross,_;if(Gt(this,"drawCrosshair",{e:i,point:o}),i||(i=(b=this.cross)==null?void 0:b.e),l&&($t(o)||!d)!==!1){if(d?$t(o)&&(g=wt(this.coll!=="colorAxis"?o.crosshairPos:null,this.isXAxis?o.plotX:this.len-o.plotY)):g=i&&(this.horiz?i.chartX-this.pos:this.len-i.chartY+this.pos),$t(g)&&(_={value:o&&(this.isXAxis?o.x:wt(o.stackY,o.y)),translatedValue:g},h.polar&&vs(_,{isCrosshair:!0,chartX:i==null?void 0:i.chartX,chartY:i==null?void 0:i.chartY,point:o}),u=this.getPlotLinePath(_)||null),!$t(u))return void this.hideCrosshair();m=this.categories&&!this.isRadial,x||(this.cross=x=h.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(m?"category ":"thin ")+(l.className||"")).attr({zIndex:wt(l.zIndex,2)}).add(),!h.styledMode&&(x.attr({stroke:l.color||(m?Wt.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":wt(l.width,1)}).css({"pointer-events":"none"}),l.dashStyle&&x.attr({dashstyle:l.dashStyle}))),x.show().attr({d:u}),m&&!l.width&&x.attr({"stroke-width":this.transA}),this.cross.e=i}else this.hideCrosshair();Gt(this,"afterDrawCrosshair",{e:i,point:o})}hideCrosshair(){this.cross&&this.cross.hide(),Gt(this,"afterHideCrosshair")}update(i,o){let l=this.chart;i=wl(this.userOptions,i),this.destroy(!0),this.init(l,i),l.isDirtyBox=!0,wt(o,!0)&&l.redraw()}remove(i){let o=this.chart,l=this.coll,d=this.series,h=d.length;for(;h--;)d[h]&&d[h].remove(!1);Iu(o.axes,this),Iu(o[l]||[],this),o.orderItems(l),this.destroy(),o.isDirtyBox=!0,wt(i,!0)&&o.redraw()}setTitle(i,o){this.update({title:i},o)}setCategories(i,o){this.update({categories:i},o)}}xs.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Fu,getMagnitude:Um,normalizeTickInterval:Hm,timeUnits:bl}=Ke;(function(y){function i(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function o(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new l(this))}y.compose=function(d){return d.keepProps.includes("dateTime")||(d.keepProps.push("dateTime"),d.prototype.getTimeTicks=i,Fu(d,"afterSetType",o)),d};class l{constructor(h){this.axis=h}normalizeTimeTickInterval(h,u){let g=u||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],m=g[g.length-1],x=bl[m[0]],_=m[1],b;for(b=0;b<g.length&&(x=bl[(m=g[b])[0]],_=m[1],!g[b+1]||!(h<=(x*_[_.length-1]+bl[g[b+1][0]])/2));b++);x===bl.year&&h<5*x&&(_=[1,2,5]);let C=Hm(h/x,_,m[0]==="year"?Math.max(Um(h/x),1):1);return{unitRange:x,count:C,unitName:m[0]}}getXDateFormat(h,u){let{axis:g}=this,m=g.chart.time;return g.closestPointRange?m.getDateFormat(g.closestPointRange,h,g.options.startOfWeek,u)||m.resolveDTLFormat(u.year).main:m.resolveDTLFormat(u.day).main}}y.Additions=l})(w||(w={}));let Gm=w,{addEvent:Wu,normalizeTickInterval:Vm,pick:Xm}=Ke;(function(y){function i(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new l(this))}function o(){let d=this.logarithmic;d&&(this.lin2val=function(h){return d.lin2log(h)},this.val2lin=function(h){return d.log2lin(h)})}y.compose=function(d){return d.keepProps.includes("logarithmic")||(d.keepProps.push("logarithmic"),Wu(d,"afterSetType",i),Wu(d,"afterInit",o)),d};class l{constructor(h){this.axis=h}getLogTickPositions(h,u,g,m){let x=this.axis,_=x.len,b=x.options,C=[];if(m||(this.minorAutoInterval=void 0),h>=.5)h=Math.round(h),C=x.getLinearTickPositions(h,u,g);else if(h>=.08){let T,R,F,$,B,G,X,fe=Math.floor(u);for(T=h>.3?[1,2,4]:h>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],R=fe;R<g+1&&!X;R++)for(F=0,$=T.length;F<$&&!X;F++)(B=this.log2lin(this.lin2log(R)*T[F]))>u&&(!m||G<=g)&&G!==void 0&&C.push(G),G>g&&(X=!0),G=B}else{let T=this.lin2log(u),R=this.lin2log(g),F=m?x.getMinorTickInterval():b.tickInterval,$=b.tickPixelInterval/(m?5:1),B=m?_/x.tickPositions.length:_;h=Vm(h=Xm(F==="auto"?null:F,this.minorAutoInterval,(R-T)*$/(B||1))),C=x.getLinearTickPositions(h,T,R).map(this.log2lin),m||(this.minorAutoInterval=h/5)}return m||(x.tickInterval=h),C}lin2log(h){return Math.pow(10,h)}log2lin(h){return Math.log(h)/Math.LN10}}y.Additions=l})(k||(k={}));let Sl=k,{erase:Ym,extend:Uu,isNumber:kl}=Ke;(function(y){let i;function o(x){return this.addPlotBandOrLine(x,"plotBands")}function l(x,_){let b=this.userOptions,C=new i(this,x);if(this.visible&&(C=C.render()),C){if(this._addedPlotLB||(this._addedPlotLB=!0,(b.plotLines||[]).concat(b.plotBands||[]).forEach(T=>{this.addPlotBandOrLine(T)})),_){let T=b[_]||[];T.push(x),b[_]=T}this.plotLinesAndBands.push(C)}return C}function d(x){return this.addPlotBandOrLine(x,"plotLines")}function h(x,_,b){b=b||this.options;let C=this.getPlotLinePath({value:_,force:!0,acrossPanes:b.acrossPanes}),T=[],R=this.horiz,F=!kl(this.min)||!kl(this.max)||x<this.min&&_<this.min||x>this.max&&_>this.max,$=this.getPlotLinePath({value:x,force:!0,acrossPanes:b.acrossPanes}),B,G=1,X;if($&&C)for(F&&(X=$.toString()===C.toString(),G=0),B=0;B<$.length;B+=2){let fe=$[B],de=$[B+1],ue=C[B],ye=C[B+1];(fe[0]==="M"||fe[0]==="L")&&(de[0]==="M"||de[0]==="L")&&(ue[0]==="M"||ue[0]==="L")&&(ye[0]==="M"||ye[0]==="L")&&(R&&ue[1]===fe[1]?(ue[1]+=G,ye[1]+=G):R||ue[2]!==fe[2]||(ue[2]+=G,ye[2]+=G),T.push(["M",fe[1],fe[2]],["L",de[1],de[2]],["L",ye[1],ye[2]],["L",ue[1],ue[2]],["Z"])),T.isFlat=X}return T}function u(x){this.removePlotBandOrLine(x)}function g(x){let _=this.plotLinesAndBands,b=this.options,C=this.userOptions;if(_){let T=_.length;for(;T--;)_[T].id===x&&_[T].destroy();[b.plotLines||[],C.plotLines||[],b.plotBands||[],C.plotBands||[]].forEach(function(R){var F;for(T=R.length;T--;)((F=R[T])==null?void 0:F.id)===x&&Ym(R,R[T])})}}function m(x){this.removePlotBandOrLine(x)}y.compose=function(x,_){let b=_.prototype;return b.addPlotBand||(i=x,Uu(b,{addPlotBand:o,addPlotLine:d,addPlotBandOrLine:l,getPlotBandPath:h,removePlotBand:u,removePlotLine:m,removePlotBandOrLine:g})),_}})(E||(E={}));let aa=E,{addEvent:Hu,arrayMax:Gu,arrayMin:wi,defined:bi,destroyObjectProperties:qm,erase:Km,fireEvent:Zm,merge:Vu,objectEach:Xu,pick:Qm}=Ke;class _l{static compose(i,o){return Hu(i,"afterInit",function(){this.labelCollectors.push(()=>{var d;let l=[];for(let h of this.axes)for(let{label:u,options:g}of h.plotLinesAndBands)u&&!((d=g==null?void 0:g.label)!=null&&d.allowOverlap)&&l.push(u);return l})}),aa.compose(_l,o)}constructor(i,o){this.axis=i,this.options=o,this.id=o.id}render(){Zm(this,"render");let{axis:i,options:o}=this,{horiz:l,logarithmic:d}=i,{color:h,events:u,zIndex:g=0}=o,{renderer:m,time:x}=i.chart,_={},b=x.parse(o.to),C=x.parse(o.from),T=x.parse(o.value),R=o.borderWidth,F=o.label,{label:$,svgElem:B}=this,G=[],X,fe=bi(C)&&bi(b),de=bi(T),ue=!B,ye={class:"highcharts-plot-"+(fe?"band ":"line ")+(o.className||"")},ge=fe?"bands":"lines";if(!i.chart.styledMode&&(de?(ye.stroke=h||"#999999",ye["stroke-width"]=Qm(o.width,1),o.dashStyle&&(ye.dashstyle=o.dashStyle)):fe&&(ye.fill=h||"#e6e9ff",R&&(ye.stroke=o.borderColor,ye["stroke-width"]=R))),_.zIndex=g,ge+="-"+g,(X=i.plotLinesAndBandsGroups[ge])||(i.plotLinesAndBandsGroups[ge]=X=m.g("plot-"+ge).attr(_).add()),B||(this.svgElem=B=m.path().attr(ye).add(X)),bi(T))G=i.getPlotLinePath({value:(d==null?void 0:d.log2lin(T))??T,lineWidth:B.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!(bi(C)&&bi(b)))return;G=i.getPlotBandPath((d==null?void 0:d.log2lin(C))??C,(d==null?void 0:d.log2lin(b))??b,o)}return!this.eventsAdded&&u&&(Xu(u,(xe,Ae)=>{B==null||B.on(Ae,Pe=>{u[Ae].apply(this,[Pe])})}),this.eventsAdded=!0),(ue||!B.d)&&(G!=null&&G.length)?B.attr({d:G}):B&&(G?(B.show(),B.animate({d:G})):B.d&&(B.hide(),$&&(this.label=$=$.destroy()))),F&&(bi(F.text)||bi(F.formatter))&&(G!=null&&G.length)&&i.width>0&&i.height>0&&!G.isFlat?(F=Vu({align:l&&fe?"center":void 0,x:l?!fe&&4:10,verticalAlign:!l&&fe?"middle":void 0,y:l?fe?16:10:fe?6:-4,rotation:l&&!fe?90:0,...fe?{inside:!0}:{}},F),this.renderLabel(F,G,fe,g)):$&&$.hide(),this}renderLabel(i,o,l,d){var R,F,$;let h=this.axis,u=h.chart.renderer,g=i.inside,m=this.label;m||(this.label=m=u.text(this.getLabelText(i),0,0,i.useHTML).attr({align:i.textAlign||i.align,rotation:i.rotation,class:"highcharts-plot-"+(l?"band":"line")+"-label "+(i.className||""),zIndex:d}),h.chart.styledMode||m.css(Vu({color:(F=(R=h.chart.options.title)==null?void 0:R.style)==null?void 0:F.color,fontSize:"0.8em",textOverflow:l&&!g?"":"ellipsis"},i.style)),m.add());let x=o.xBounds||[o[0][1],o[1][1],l?o[2][1]:o[0][1]],_=o.yBounds||[o[0][2],o[1][2],l?o[2][2]:o[0][2]],b=wi(x),C=wi(_),T=Gu(x)-b;m.align(i,!1,{x:b,y:C,width:T,height:Gu(_)-C}),m.alignAttr.y-=u.fontMetrics(m).b,(!m.alignValue||m.alignValue==="left"||bi(g))&&m.css({width:((($=i.style)==null?void 0:$.width)||(l&&g?T:m.rotation===90?h.height-(m.alignAttr.y-h.top):(i.clip?h.width:h.chart.chartWidth)-(m.alignAttr.x-h.left)))+"px"}),m.show(!0)}getLabelText(i){return bi(i.formatter)?i.formatter.call(this):i.text}destroy(){Km(this.axis.plotLinesAndBands,this),delete this.axis,qm(this)}}let{animObject:Yu}=jr,{format:qu}=ar,{composed:Ku,dateFormats:Jm,doc:Zu,isSafari:ev}=J,{distribute:tv}=hs,{addEvent:rv,clamp:io,css:Qu,discardElement:iv,extend:nv,fireEvent:Di,getAlignFactor:sv,isArray:Ju,isNumber:ov,isObject:ef,isString:gd,merge:av,pick:no,pushUnique:lv,splat:Cl,syncTimeout:tf}=Ke;class md{constructor(i,o,l){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=i,this.init(i,o),this.pointer=l}bodyFormatter(i){return i.map(o=>{let l=o.series.tooltipOptions,d=o.formatPrefix||"point";return(l[d+"Formatter"]||o.tooltipFormatter).call(o,l[d+"Format"]||"")})}cleanSplit(i){this.chart.series.forEach(function(o){let l=o==null?void 0:o.tt;l&&(!l.isActive||i?o.tt=l.destroy():l.isActive=!1)})}defaultFormatter(i){let o,l=this.points||Cl(this);return(o=(o=[i.headerFooterFormatter(l[0])]).concat(i.bodyFormatter(l))).push(i.headerFooterFormatter(l[0],!0)),o}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),iv(this.container)),Ke.clearTimeout(this.hideTimer)}getAnchor(i,o){var _;let l,{chart:d,pointer:h}=this,u=d.inverted,g=d.plotTop,m=d.plotLeft;if(i=Cl(i),(_=i[0].series)!=null&&_.yAxis&&!i[0].series.yAxis.options.reversedStacks&&(i=i.slice().reverse()),this.followPointer&&o)o.chartX===void 0&&(o=h.normalize(o)),l=[o.chartX-m,o.chartY-g];else if(i[0].tooltipPos)l=i[0].tooltipPos;else{let b=0,C=0;i.forEach(function(T){let R=T.pos(!0);R&&(b+=R[0],C+=R[1])}),b/=i.length,C/=i.length,this.shared&&i.length>1&&o&&(u?b=o.chartX:C=o.chartY),l=[b-m,C-g]}let x={point:i[0],ret:l};return Di(this,"getAnchor",x),x.ret.map(Math.round)}getClassName(i,o,l){let d=this.options,h=i.series,u=h.options;return[d.className,"highcharts-label",l&&"highcharts-tooltip-header",o?"highcharts-tooltip-box":"highcharts-tooltip",!l&&"highcharts-color-"+no(i.colorIndex,h.colorIndex),u==null?void 0:u.className].filter(gd).join(" ")}getLabel({anchorX:i,anchorY:o}={anchorX:0,anchorY:0}){let l=this,d=this.chart.styledMode,h=this.options,u=this.split&&this.allowShared,g=this.container,m=this.chart.renderer;if(this.label){let x=!this.label.hasClass("highcharts-label");(!u&&x||u&&!x)&&this.destroy()}if(!this.label){if(this.outside){let x=this.chart,_=x.options.chart.style,b=qi.getRendererType();this.container=g=J.doc.createElement("div"),g.className="highcharts-tooltip-container "+(x.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Qu(g,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((_==null?void 0:_.zIndex)||0)+3)}),this.renderer=m=new b(g,0,0,_,void 0,void 0,m.styledMode)}if(u?this.label=m.g("tooltip"):(this.label=m.label("",i,o,h.shape||"callout",void 0,void 0,h.useHTML,void 0,"tooltip").attr({padding:h.padding,r:h.borderRadius}),d||this.label.attr({fill:h.backgroundColor,"stroke-width":h.borderWidth||0}).css(h.style).css({pointerEvents:h.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),l.outside){let x=this.label;[x.xSetter,x.ySetter].forEach((_,b)=>{x[b?"ySetter":"xSetter"]=C=>{_.call(x,l.distance),x[b?"y":"x"]=C,g&&(g.style[b?"top":"left"]=`${C}px`)}})}this.label.attr({zIndex:8}).shadow(h.shadow??!h.fixed).add()}return g&&!g.parentElement&&J.doc.body.appendChild(g),this.label}getPlayingField(){let{body:i,documentElement:o}=Zu,{chart:l,distance:d,outside:h}=this;return{width:h?Math.max(i.scrollWidth,o.scrollWidth,i.offsetWidth,o.offsetWidth,o.clientWidth)-2*d-2:l.chartWidth,height:h?Math.max(i.scrollHeight,o.scrollHeight,i.offsetHeight,o.offsetHeight,o.clientHeight):l.chartHeight}}getPosition(i,o,l){var Qe,lt;let{distance:d,chart:h,outside:u,pointer:g}=this,{inverted:m,plotLeft:x,plotTop:_,polar:b}=h,{plotX:C=0,plotY:T=0}=l,R={},F=m&&l.h||0,{height:$,width:B}=this.getPlayingField(),G=g.getChartPosition(),X=qe=>qe*G.scaleX,fe=qe=>qe*G.scaleY,de=qe=>{let ct=qe==="x";return[qe,ct?B:$,ct?i:o].concat(u?[ct?X(i):fe(o),ct?G.left-d+X(C+x):G.top-d+fe(T+_),0,ct?B:$]:[ct?i:o,ct?C+x:T+_,ct?x:_,ct?x+h.plotWidth:_+h.plotHeight])},ue=de("y"),ye=de("x"),ge,xe=!!l.negative;!b&&((lt=(Qe=h.hoverSeries)==null?void 0:Qe.yAxis)!=null&&lt.reversed)&&(xe=!xe);let Ae=!this.followPointer&&no(l.ttBelow,!b&&!m===xe),Pe=function(qe,ct,bt,Tt,Pt,Yr,Ct){let It=u?qe==="y"?fe(d):X(d):d,pt=(bt-Tt)/2,ut=Tt<Pt-d,fr=Pt+d+Tt<ct,Dt=Pt-It-bt+pt,Ht=Pt+It-pt;if(Ae&&fr)R[qe]=Ht;else if(!Ae&&ut)R[qe]=Dt;else if(ut)R[qe]=Math.min(Ct-Tt,Dt-F<0?Dt:Dt-F);else{if(!fr)return R[qe]=0,!1;R[qe]=Math.max(Yr,Ht+F+bt>ct?Ht:Ht+F)}},Fe=function(qe,ct,bt,Tt,Pt){if(Pt<d||Pt>ct-d)return!1;Pt<bt/2?R[qe]=1:Pt>ct-Tt/2?R[qe]=ct-Tt-2:R[qe]=Pt-bt/2},Ge=function(qe){[ue,ye]=[ye,ue],ge=qe},rt=()=>{Pe.apply(0,ue)!==!1?Fe.apply(0,ye)!==!1||ge||(Ge(!0),rt()):ge?R.x=R.y=0:(Ge(!0),rt())};return(m&&!b||this.len>1)&&Ge(),rt(),R}getFixedPosition(i,o,l){var C;let d=l.series,{chart:h,options:u,split:g}=this,m=u.position,x=m.relativeTo,_=u.shared||(C=d==null?void 0:d.yAxis)!=null&&C.isRadial&&(x==="pane"||!x)?"plotBox":x,b=_==="chart"?h.renderer:h[_]||h.getClipBox(d,!0);return{x:b.x+(b.width-i)*sv(m.align)+m.x,y:b.y+(b.height-o)*sv(m.verticalAlign)+(!g&&m.y||0)}}hide(i){let o=this;Ke.clearTimeout(this.hideTimer),i=no(i,this.options.hideDelay),this.isHidden||(this.hideTimer=tf(function(){let l=o.getLabel();o.getLabel().animate({opacity:0},{duration:i&&150,complete:()=>{l.hide(),o.container&&o.container.remove()}}),o.isHidden=!0},i))}init(i,o){this.chart=i,this.options=o,this.crosshairs=[],this.isHidden=!0,this.split=o.split&&!i.inverted&&!i.polar,this.shared=o.shared||this.split,this.outside=no(o.outside,!!(i.scrollablePixelsX||i.scrollablePixelsY))}shouldStickOnContact(i){return!!(!this.followPointer&&this.options.stickOnContact&&(!i||this.pointer.inClass(i.target,"highcharts-tooltip")))}move(i,o,l,d){let{followPointer:h,options:u}=this,g=Yu(!h&&!this.isHidden&&!u.fixed&&u.animation),m=h||(this.len||0)>1,x={x:i,y:o};m?x.anchorX=x.anchorY=NaN:(x.anchorX=l,x.anchorY=d),g.step=()=>this.drawTracker(),this.getLabel().animate(x,g)}refresh(i,o){let{chart:l,options:d,pointer:h,shared:u}=this,g=Cl(i),m=g[0],x=d.format,_=d.formatter||this.defaultFormatter,b=l.styledMode,C=this.allowShared;if(!d.enabled||!m.series)return;Ke.clearTimeout(this.hideTimer),this.allowShared=!(!Ju(i)&&i.series&&i.series.noSharedTooltip),C=C&&!this.allowShared,this.followPointer=!this.split&&m.series.tooltipOptions.followPointer;let T=this.getAnchor(i,o),R=T[0],F=T[1];u&&this.allowShared&&(h.applyInactiveState(g),g.forEach(G=>G.setState("hover")),m.points=g),this.len=g.length;let $=gd(x)?qu(x,m,l):_.call(m,this);m.points=void 0;let B=m.series;if(this.distance=no(B.tooltipOptions.distance,16),$===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit($,g);else{let G=R,X=F;if(o&&h.isDirectTouch&&(G=o.chartX-l.plotLeft,X=o.chartY-l.plotTop),!(l.polar||B.options.clip===!1||g.some(fe=>h.isDirectTouch||fe.series.shouldShowTooltip(G,X))))return void this.hide();{let fe=this.getLabel(C&&this.tt||{});(!d.style.width||b)&&fe.css({width:(this.outside?this.getPlayingField():l.spacingBox).width+"px"}),fe.attr({class:this.getClassName(m),text:$&&$.join?$.join(""):$}),this.outside&&fe.attr({x:io(fe.x||0,0,this.getPlayingField().width-(fe.width||0)-1)}),b||fe.attr({stroke:d.borderColor||m.color||B.color||"#666666"}),this.updatePosition({plotX:R,plotY:F,negative:m.negative,ttBelow:m.ttBelow,series:B,h:T[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Di(this,"refresh")}renderSplit(i,o){var Pt,Yr;let l=this,{chart:d,chart:{chartWidth:h,chartHeight:u,plotHeight:g,plotLeft:m,plotTop:x,scrollablePixelsY:_=0,scrollablePixelsX:b,styledMode:C},distance:T,options:R,options:{fixed:F,position:$,positioner:B},pointer:G}=l,{scrollLeft:X=0,scrollTop:fe=0}=((Pt=d.scrollablePlotArea)==null?void 0:Pt.scrollingContainer)||{},de=l.outside&&typeof b!="number"?Zu.documentElement.getBoundingClientRect():{left:X,right:X+h},ue=l.getLabel(),ye=this.renderer||d.renderer,ge=!!((Yr=d.xAxis[0])!=null&&Yr.opposite),{left:xe,top:Ae}=G.getChartPosition(),Pe=B||F,Fe=x+fe,Ge=0,rt=g-_,Qe=function(Ct,It,pt,ut=[0,0],fr=!0){let Dt,Ht;if(pt.isHeader)Ht=ge?0:rt,Dt=io(ut[0]-Ct/2,de.left,de.right-Ct-(l.outside?xe:0));else if(F&&pt){let Or=l.getFixedPosition(Ct,It,pt);Dt=Or.x,Ht=Or.y-Fe}else Ht=ut[1]-Fe,Dt=io(Dt=fr?ut[0]-Ct-T:ut[0]+T,fr?Dt:de.left,de.right);return{x:Dt,y:Ht}};gd(i)&&(i=[!1,i]);let lt=i.slice(0,o.length+1).reduce(function(Ct,It,pt){if(It!==!1&&It!==""){let ut=o[pt-1]||{isHeader:!0,plotX:o[0].plotX,plotY:g,series:{}},fr=ut.isHeader,Dt=fr?l:ut.series,Ht=Dt.tt=function(Fr,Vt,Md){let uo=Fr,{isHeader:fa,series:Td}=Vt,Cn=Td.tooltipOptions||R;if(!uo){let jl={padding:Cn.padding,r:Cn.borderRadius};C||(jl.fill=Cn.backgroundColor,jl["stroke-width"]=Cn.borderWidth??(F&&!fa?0:1)),uo=ye.label("",0,0,Cn[fa?"headerShape":"shape"]||(F&&!fa?"rect":"callout"),void 0,void 0,Cn.useHTML).addClass(l.getClassName(Vt,!0,fa)).attr(jl).add(ue)}return uo.isActive=!0,uo.attr({text:Md}),C||uo.css(Cn.style).attr({stroke:Cn.borderColor||Vt.color||Td.color||"#333333"}),uo}(Dt.tt,ut,It.toString()),Or=Ht.getBBox(),ws=Or.width+Ht.strokeWidth();fr&&(Ge=Or.height,rt+=Ge,ge&&(Fe-=Ge));let{anchorX:an,anchorY:qr}=function(Fr){let Vt,Md,{isHeader:uo,plotX:fa=0,plotY:Td=0,series:Cn}=Fr;if(uo)Vt=Math.max(m+fa,m),Md=x+g/2;else{let{xAxis:jl,yAxis:n1}=Cn;Vt=jl.pos+io(fa,-T,jl.len+T),Cn.shouldShowTooltip(0,n1.pos-x+Td,{ignoreX:!0})&&(Md=n1.pos+Td)}return{anchorX:Vt=io(Vt,de.left-T,de.right+T),anchorY:Md}}(ut);if(typeof qr=="number"){let Fr=Or.height+1,Vt=(B||Qe).call(l,ws,Fr,ut,[an,qr]);Ct.push({align:Pe?0:void 0,anchorX:an,anchorY:qr,boxWidth:ws,point:ut,rank:no(Vt.rank,+!!fr),size:Fr,target:Vt.y,tt:Ht,x:Vt.x})}else Ht.isActive=!1}return Ct},[]);!Pe&&lt.some(Ct=>{let{outside:It}=l,pt=(It?xe:0)+Ct.anchorX;return pt<de.left&&pt+Ct.boxWidth<de.right||pt<xe-de.left+Ct.boxWidth&&de.right-pt>pt})&&(lt=lt.map(Ct=>{let{x:It,y:pt}=Qe.call(this,Ct.boxWidth,Ct.size,Ct.point,[Ct.anchorX,Ct.anchorY],!1);return nv(Ct,{target:pt,x:It})})),l.cleanSplit(),tv(lt,rt);let qe={left:xe,right:xe};lt.forEach(function(Ct){let{x:It,boxWidth:pt,isHeader:ut}=Ct;!ut&&(l.outside&&xe+It<qe.left&&(qe.left=xe+It),!ut&&l.outside&&qe.left+pt>qe.right&&(qe.right=xe+It))}),lt.forEach(function(Ct){let{x:It,anchorX:pt,anchorY:ut,pos:fr,point:{isHeader:Dt}}=Ct,Ht={visibility:fr===void 0?"hidden":"inherit",x:It,y:(fr||0)+Fe+(F&&$.y||0),anchorX:pt,anchorY:ut};if(l.outside&&It<pt){let Or=xe-qe.left;Or>0&&(Dt||(Ht.x=It+Or,Ht.anchorX=pt+Or),Dt&&(Ht.x=(qe.right-qe.left)/2,Ht.anchorX=pt+Or))}Ct.tt.attr(Ht)});let{container:ct,outside:bt,renderer:Tt}=l;if(bt&&ct&&Tt){let{width:Ct,height:It,x:pt,y:ut}=ue.getBBox();Tt.setSize(Ct+pt,It+ut,!1),ct.style.left=qe.left+"px",ct.style.top=Ae+"px"}ev&&ue.attr({opacity:ue.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let i=this.chart,o=this.label,l=this.shared?i.hoverPoints:i.hoverPoint;if(!o||!l)return;let d={x:0,y:0,width:0,height:0},h=this.getAnchor(l),u=o.getBBox();h[0]+=i.plotLeft-(o.translateX||0),h[1]+=i.plotTop-(o.translateY||0),d.x=Math.min(0,h[0]),d.y=Math.min(0,h[1]),d.width=h[0]<0?Math.max(Math.abs(h[0]),u.width-h[0]):Math.max(Math.abs(h[0]),u.width),d.height=h[1]<0?Math.max(Math.abs(h[1]),u.height-Math.abs(h[1])):Math.max(Math.abs(h[1]),u.height),this.tracker?this.tracker.attr(d):(this.tracker=o.renderer.rect(d).addClass("highcharts-tracker").add(o),i.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(i){return i.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(i,o){let l=i.series,d=l.tooltipOptions,h=l.xAxis,u=h==null?void 0:h.dateTime,g={isFooter:o,point:i},m=d.xDateFormat||"",x=d[o?"footerFormat":"headerFormat"];return Di(this,"headerFormatter",g,function(_){if(u&&!m&&ov(i.key)&&(m=u.getXDateFormat(i.key,d.dateTimeLabelFormats)),u&&m){if(ef(m)){let b=m;Jm[0]=C=>l.chart.time.dateFormat(b,C),m="%0"}(i.tooltipDateKeys||["key"]).forEach(b=>{x=x.replace(RegExp("point\\."+b+"([ \\)}])"),`(point.${b}:${m})$1`)})}l.chart.styledMode&&(x=this.styledModeFormat(x)),_.text=qu(x,i,this.chart)}),g.text||""}update(i){this.destroy(),this.init(this.chart,av(!0,this.options,i))}updatePosition(i){var de;let{chart:o,container:l,distance:d,options:h,pointer:u,renderer:g}=this,{height:m=0,width:x=0}=this.getLabel(),{fixed:_,positioner:b}=h,{left:C,top:T,scaleX:R,scaleY:F}=u.getChartPosition(),$=(b||_&&this.getFixedPosition||this.getPosition).call(this,x,m,i),B=J.doc,G=(i.plotX||0)+o.plotLeft,X=(i.plotY||0)+o.plotTop,fe;if(g&&l){if(b||_){let{scrollLeft:ue=0,scrollTop:ye=0}=((de=o.scrollablePlotArea)==null?void 0:de.scrollingContainer)||{};$.x+=ue+C-d,$.y+=ye+T-d}fe=(h.borderWidth||0)+2*d+2,g.setSize(io(x+fe,0,B.documentElement.clientWidth)-1,m+fe,!1),(R!==1||F!==1)&&(Qu(l,{transform:`scale(${R}, ${F})`}),G*=R,X*=F),G+=C-$.x,X+=T-$.y}this.move(Math.round($.x),Math.round($.y||0),G,X)}}(function(y){y.compose=function(i){lv(Ku,"Core.Tooltip")&&rv(i,"afterInit",function(){let o=this.chart;o.options.tooltip&&(o.tooltip=new y(o,o.options.tooltip,this))})}})(md||(md={}));let rf=md,{animObject:cv}=jr,{defaultOptions:dv}=Oi,{format:El}=ar,{addEvent:Mt,crisp:hv,erase:K,extend:S,fireEvent:A,getNestedProperty:N,isArray:W,isFunction:H,isNumber:Y,isObject:ne,merge:se,pick:oe,syncTimeout:ee,removeEvent:te,uniqueKey:V}=Ke;class Q{animateBeforeDestroy(){let i=this,o={x:i.startXPos,opacity:0},l=i.getGraphicalProps();l.singular.forEach(function(d){i[d]=i[d].animate(d==="dataLabel"?{x:i[d].startXPos,y:i[d].startYPos,opacity:0}:o)}),l.plural.forEach(function(d){i[d].forEach(function(h){h.element&&h.animate(S({x:i.startXPos},h.startYPos?{x:h.startXPos,y:h.startYPos}:{}))})})}applyOptions(i,o){let l=this.series,d=l.options.pointValKey||l.pointValKey;return S(this,i=Q.prototype.optionsToObject.call(this,i)),this.options=this.options?S(this.options,i):i,i.group&&delete this.group,i.dataLabels&&delete this.dataLabels,d&&(this.y=Q.prototype.getNestedProperty.call(this,d)),this.selected&&(this.state="select"),"name"in this&&o===void 0&&l.xAxis&&l.xAxis.hasNames&&(this.x=l.xAxis.nameToX(this)),this.x===void 0&&l?this.x=o??l.autoIncrement():Y(i.x)&&l.options.relativeXValue?this.x=l.autoIncrement(i.x):typeof this.x=="string"&&(o??(o=l.chart.time.parse(this.x)),Y(o)&&(this.x=o)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let i=this,o=i.series,l=o.chart,d=o.options.dataSorting,h=l.hoverPoints,u=cv(i.series.chart.renderer.globalAnimation),g=()=>{for(let m in(i.graphic||i.graphics||i.dataLabel||i.dataLabels)&&(te(i),i.destroyElements()),i)delete i[m]};i.legendItem&&l.legend.destroyItem(i),h&&(i.setState(),K(h,i),h.length||(l.hoverPoints=null)),i===l.hoverPoint&&i.onMouseOut(),d!=null&&d.enabled?(this.animateBeforeDestroy(),ee(g,u.duration)):g(),l.pointCount--}this.destroyed=!0}destroyElements(i){let o=this,l=o.getGraphicalProps(i);l.singular.forEach(function(d){o[d]=o[d].destroy()}),l.plural.forEach(function(d){o[d].forEach(function(h){h!=null&&h.element&&h.destroy()}),delete o[d]})}firePointEvent(i,o,l){let d=this,h=this.series.options;d.manageEvent(i),i==="click"&&h.allowPointSelect&&(l=function(u){!d.destroyed&&d.select&&d.select(null,u.ctrlKey||u.metaKey||u.shiftKey)}),A(d,i,o,l)}getClassName(){var i;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((i=this.zone)!=null&&i.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(i){let o,l,d=this,h=[],u={singular:[],plural:[]};for((i=i||{graphic:1,dataLabel:1}).graphic&&h.push("graphic","connector"),i.dataLabel&&h.push("dataLabel","dataLabelPath","dataLabelUpper"),l=h.length;l--;)d[o=h[l]]&&u.singular.push(o);return["graphic","dataLabel"].forEach(function(g){let m=g+"s";i[g]&&d[m]&&u.plural.push(m)}),u}getNestedProperty(i){if(i)return i.indexOf("custom.")===0?N(i,this.options):this[i]}getZone(){let i=this.series,o=i.zones,l=i.zoneAxis||"y",d,h=0;for(d=o[0];this[l]>=d.value;)d=o[++h];return this.nonZonedColor||(this.nonZonedColor=this.color),d!=null&&d.color&&!this.options.color?this.color=d.color:this.color=this.nonZonedColor,d}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(i,o,l){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=i,this.applyOptions(o,l),this.id??(this.id=V()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=i.options.nullInteraction),i.chart.pointCount++,A(this,"afterInit")}isValid(){return(Y(this.x)||this.x instanceof Date)&&Y(this.y)}optionsToObject(i){var _;let o=this.series,l=o.options.keys,d=l||o.pointArrayMap||["y"],h=d.length,u={},g,m=0,x=0;if(Y(i)||i===null)u[d[0]]=i;else if(W(i))for(!l&&i.length>h&&((g=typeof i[0])=="string"?(_=o.xAxis)!=null&&_.dateTime?u.x=o.chart.time.parse(i[0]):u.name=i[0]:g==="number"&&(u.x=i[0]),m++);x<h;)l&&i[m]===void 0||(d[x].indexOf(".")>0?Q.prototype.setNestedProperty(u,i[m],d[x]):u[d[x]]=i[m]),m++,x++;else typeof i=="object"&&(u=i,i.dataLabels&&(o.hasDataLabels=()=>!0),i.marker&&(o._hasPointMarkers=!0));return u}pos(i,o=this.plotY){if(!this.destroyed){let{plotX:l,series:d}=this,{chart:h,xAxis:u,yAxis:g}=d,m=0,x=0;if(Y(l)&&Y(o))return i&&(m=u?u.pos:h.plotLeft,x=g?g.pos:h.plotTop),h.inverted&&u&&g?[g.len-o+x,u.len-l+m]:[l+m,o+x]}}resolveColor(){let i=this.series,o=i.chart.options.chart,l=i.chart.styledMode,d,h,u=o.colorCount,g;delete this.nonZonedColor,i.options.colorByPoint?(l||(d=(h=i.options.colors||i.chart.options.colors)[i.colorCounter],u=h.length),g=i.colorCounter,i.colorCounter++,i.colorCounter===u&&(i.colorCounter=0)):(l||(d=i.color),g=i.colorIndex),this.colorIndex=oe(this.options.colorIndex,g),this.color=oe(this.options.color,d)}setNestedProperty(i,o,l){return l.split(".").reduce(function(d,h,u,g){let m=g.length-1===u;return d[h]=m?o:ne(d[h],!0)?d[h]:{},d[h]},i),i}shouldDraw(){return!this.isNull}tooltipFormatter(i){var m;let{chart:o,pointArrayMap:l=["y"],tooltipOptions:d}=this.series,{valueDecimals:h="",valuePrefix:u="",valueSuffix:g=""}=d;return o.styledMode&&(i=((m=o.tooltip)==null?void 0:m.styledModeFormat(i))||i),l.forEach(x=>{x="{point."+x,(u||g)&&(i=i.replace(RegExp(x+"}","g"),u+x+"}"+g)),i=i.replace(RegExp(x+"}","g"),x+":,."+h+"f}")}),El(i,this,o)}update(i,o,l,d){let h,u=this,g=u.series,m=u.graphic,x=g.chart,_=g.options;function b(){u.applyOptions(i);let C=m&&u.hasMockGraphic,T=u.y===null?!C:C;m&&T&&(u.graphic=m.destroy(),delete u.hasMockGraphic),ne(i,!0)&&(m!=null&&m.element&&i&&i.marker&&i.marker.symbol!==void 0&&(u.graphic=m.destroy()),i!=null&&i.dataLabels&&u.dataLabel&&(u.dataLabel=u.dataLabel.destroy())),h=u.index;let R={};for(let F of g.dataColumnKeys())R[F]=u[F];g.dataTable.setRow(R,h),_.data[h]=ne(_.data[h],!0)||ne(i,!0)?u.options:oe(i,_.data[h]),g.isDirty=g.isDirtyData=!0,!g.fixedBox&&g.hasCartesianSeries&&(x.isDirtyBox=!0),_.legendType==="point"&&(x.isDirtyLegend=!0),o&&x.redraw(l)}o=oe(o,!0),d===!1?b():u.firePointEvent("update",{options:i},b)}remove(i,o){this.series.removePoint(this.series.data.indexOf(this),i,o)}select(i,o){let l=this,d=l.series,h=d.chart;i=oe(i,!l.selected),this.selectedStaging=i,l.firePointEvent(i?"select":"unselect",{accumulate:o},function(){l.selected=l.options.selected=i,d.options.data[d.data.indexOf(l)]=l.options,l.setState(i&&"select"),o||h.getSelectedPoints().forEach(function(u){let g=u.series;u.selected&&u!==l&&(u.selected=u.options.selected=!1,g.options.data[g.data.indexOf(u)]=u.options,u.setState(h.hoverPoints&&g.options.inactiveOtherPoints?"inactive":""),u.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(i){let{inverted:o,pointer:l}=this.series.chart;l&&(i=i?l.normalize(i):l.getChartCoordinatesFromPoint(this,o),l.runPointActions(i,this))}onMouseOut(){let i=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(i.hoverPoints||[]).forEach(function(o){o.setState()}),i.hoverPoints=i.hoverPoint=null}manageEvent(i){var d,h,u,g,m,x,_;let o=se(this.series.options.point,this.options),l=(d=o.events)==null?void 0:d[i];H(l)&&(!((h=this.hcEvents)!=null&&h[i])||((g=(u=this.hcEvents)==null?void 0:u[i])==null?void 0:g.map(b=>b.fn).indexOf(l))===-1)?((m=this.importedUserEvent)==null||m.call(this),this.importedUserEvent=Mt(this,i,l),this.hcEvents&&(this.hcEvents[i].userEvent=!0)):this.importedUserEvent&&!l&&((x=this.hcEvents)!=null&&x[i])&&((_=this.hcEvents)!=null&&_[i].userEvent)&&(te(this,i),delete this.hcEvents[i],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(i,o){var ue,ye;let l=this.series,d=this.state,h=l.options.states[i||"normal"]||{},u=dv.plotOptions[l.type].marker&&l.options.marker,g=u&&u.enabled===!1,m=((ue=u==null?void 0:u.states)==null?void 0:ue[i||"normal"])||{},x=m.enabled===!1,_=this.marker||{},b=l.chart,C=u&&l.markerAttribs,T=l.halo,R,F,$,B=l.stateMarkerGraphic,G;if((i=i||"")===this.state&&!o||this.selected&&i!=="select"||h.enabled===!1||i&&(x||g&&m.enabled===!1)||i&&_.states&&_.states[i]&&_.states[i].enabled===!1)return;if(this.state=i,C&&(R=l.markerAttribs(this,i)),this.graphic&&!this.hasMockGraphic){if(d&&this.graphic.removeClass("highcharts-point-"+d),i&&this.graphic.addClass("highcharts-point-"+i),!b.styledMode){F=l.pointAttribs(this,i),$=oe(b.options.chart.animation,h.animation);let ge=F.opacity;l.options.inactiveOtherPoints&&Y(ge)&&(this.dataLabels||[]).forEach(function(xe){xe&&!xe.hasClass("highcharts-data-label-hidden")&&(xe.animate({opacity:ge},$),xe.connector&&xe.connector.animate({opacity:ge},$))}),this.graphic.animate(F,$)}R&&this.graphic.animate(R,oe(b.options.chart.animation,m.animation,u.animation)),B&&B.hide()}else i&&m&&(G=_.symbol||l.symbol,B&&B.currentSymbol!==G&&(B=B.destroy()),R&&(B?B[o?"animate":"attr"]({x:R.x,y:R.y}):G&&(l.stateMarkerGraphic=B=b.renderer.symbol(G,R.x,R.y,R.width,R.height,se(u,m)).add(l.markerGroup),B.currentSymbol=G)),!b.styledMode&&B&&this.state!=="inactive"&&B.attr(l.pointAttribs(this,i))),B&&(B[i&&this.isInside?"show":"hide"](),B.element.point=this,B.addClass(this.getClassName(),!0));let X=h.halo,fe=this.graphic||B,de=(fe==null?void 0:fe.visibility)||"inherit";X!=null&&X.size&&fe&&de!=="hidden"&&!this.isCluster?(T||(l.halo=T=b.renderer.path().add(fe.parentGroup)),T.show()[o?"animate":"attr"]({d:this.haloPath(X.size)}),T.attr({class:"highcharts-halo highcharts-color-"+oe(this.colorIndex,l.colorIndex)+(this.className?" "+this.className:""),visibility:de,zIndex:-1}),T.point=this,b.styledMode||T.attr(S({fill:this.color||l.color,"fill-opacity":X.opacity},Ut.filterUserAttributes(X.attributes||{})))):(ye=T==null?void 0:T.point)!=null&&ye.haloPath&&!T.point.destroyed&&T.animate({d:T.point.haloPath(0)},null,T.hide),A(this,"afterSetState",{state:i})}haloPath(i){let o=this.pos();return o?this.series.chart.renderer.symbols.circle(hv(o[0],1)-i,o[1]-i,2*i,2*i):[]}}let Z=Q,{parse:le}=Wt,{charts:he,composed:be,isTouchDevice:_e}=J,{addEvent:$e,attr:je,css:Ne,extend:Re,find:Ie,fireEvent:Ue,isNumber:De,isObject:Xe,objectEach:Le,offset:et,pick:Ye,pushUnique:zt,splat:it}=Ke;class at{applyInactiveState(i=[]){var l,d;let o=[];for(let h of(i.forEach(u=>{let g=u.series;o.push(g),g.linkedParent&&o.push(g.linkedParent),g.linkedSeries&&o.push.apply(o,g.linkedSeries),g.navigatorSeries&&o.push(g.navigatorSeries),g.boosted&&g.markerGroup&&o.push.apply(o,this.chart.series.filter(m=>m.markerGroup===g.markerGroup))}),this.chart.series)){let u=h.options;((d=(l=u.states)==null?void 0:l.inactive)==null?void 0:d.enabled)!==!1&&(o.indexOf(h)===-1?h.setState("inactive",!0):u.inactiveOtherPoints&&h.setAllPointsToState("inactive"))}}destroy(){let i=this;this.eventsToUnbind.forEach(o=>o()),this.eventsToUnbind=[],!J.chartCount&&(at.unbindDocumentMouseUp.forEach(o=>o.unbind()),at.unbindDocumentMouseUp.length=0,at.unbindDocumentTouchEnd&&(at.unbindDocumentTouchEnd=at.unbindDocumentTouchEnd())),clearInterval(i.tooltipTimeout),Le(i,function(o,l){i[l]=void 0})}getSelectionMarkerAttrs(i,o){let l={args:{chartX:i,chartY:o},attrs:{},shapeType:"rect"};return Ue(this,"getSelectionMarkerAttrs",l,d=>{let h,{chart:u,zoomHor:g,zoomVert:m}=this,{mouseDownX:x=0,mouseDownY:_=0}=u,b=d.attrs;b.x=u.plotLeft,b.y=u.plotTop,b.width=g?1:u.plotWidth,b.height=m?1:u.plotHeight,g&&(b.width=Math.max(1,Math.abs(h=i-x)),b.x=(h>0?0:h)+x),m&&(b.height=Math.max(1,Math.abs(h=o-_)),b.y=(h>0?0:h)+_)}),l}drag(i){let{chart:o}=this,{mouseDownX:l=0,mouseDownY:d=0}=o,{panning:h,panKey:u,selectionMarkerFill:g}=o.options.chart,m=o.plotLeft,x=o.plotTop,_=o.plotWidth,b=o.plotHeight,C=Xe(h)?h.enabled:h,T=u&&i[`${u}Key`],R=i.chartX,F=i.chartY,$,B=this.selectionMarker;if((!B||!B.touch)&&(R<m?R=m:R>m+_&&(R=m+_),F<x?F=x:F>x+b&&(F=x+b),this.hasDragged=Math.sqrt(Math.pow(l-R,2)+Math.pow(d-F,2)),this.hasDragged>10)){$=o.isInsidePlot(l-m,d-x,{visiblePlotOnly:!0});let{shapeType:G,attrs:X}=this.getSelectionMarkerAttrs(R,F);this.hasZoom&&$&&!T&&!B&&(this.selectionMarker=B=o.renderer[G](),B.attr({class:"highcharts-selection-marker",zIndex:7}).add(),o.styledMode||B.attr({fill:g||le("#334eff").setOpacity(.25).get()})),B&&B.attr(X),$&&!B&&C&&o.pan(i,h)}}dragStart(i){let o=this.chart;o.mouseIsDown=i.type,o.cancelClick=!1,o.mouseDownX=i.chartX,o.mouseDownY=i.chartY}getSelectionBox(i){let o={args:{marker:i},result:i.getBBox()};return Ue(this,"getSelectionBox",o),o.result}drop(i){let o,{chart:l,selectionMarker:d}=this;for(let h of l.axes)h.isPanning&&(h.isPanning=!1,(h.options.startOnTick||h.options.endOnTick||h.series.some(u=>u.boosted))&&(h.forceRedraw=!0,h.setExtremes(h.userMin,h.userMax,!1),o=!0));if(o&&l.redraw(),d&&i){if(this.hasDragged){let h=this.getSelectionBox(d);l.transform({axes:l.axes.filter(u=>u.zoomEnabled&&(u.coll==="xAxis"&&this.zoomX||u.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:i,xAxis:[],yAxis:[],...h},from:h})}De(l.index)&&(this.selectionMarker=d.destroy())}l&&De(l.index)&&(Ne(l.container,{cursor:l._cursor}),l.cancelClick=this.hasDragged>10,l.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(i,o,l){let d;return i.forEach(function(h){let u=!(h.noSharedTooltip&&o)&&0>h.options.findNearestPointBy.indexOf("y"),g=h.searchPoint(l,u);Xe(g,!0)&&g.series&&(!Xe(d,!0)||function(m,x){var T,R;let _=m.distX-x.distX,b=m.dist-x.dist,C=((T=x.series.group)==null?void 0:T.zIndex)-((R=m.series.group)==null?void 0:R.zIndex);return _!==0&&o?_:b!==0?b:C!==0?C:m.series.index>x.series.index?-1:1}(d,g)>0)&&(d=g)}),d}getChartCoordinatesFromPoint(i,o){let{xAxis:l,yAxis:d}=i.series,h=i.shapeArgs;if(l&&d){let u=i.clientX??i.plotX??0,g=i.plotY||0;return i.isNode&&h&&De(h.x)&&De(h.y)&&(u=h.x,g=h.y),o?{chartX:d.len+d.pos-g,chartY:l.len+l.pos-u}:{chartX:u+l.pos,chartY:g+d.pos}}if(h!=null&&h.x&&h.y)return{chartX:h.x,chartY:h.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:i}=this.chart,o=et(i);this.chartPosition={left:o.left,top:o.top,scaleX:1,scaleY:1};let{offsetHeight:l,offsetWidth:d}=i;return d>2&&l>2&&(this.chartPosition.scaleX=o.width/d,this.chartPosition.scaleY=o.height/l),this.chartPosition}getCoordinates(i){let o={xAxis:[],yAxis:[]};for(let l of this.chart.axes)o[l.isXAxis?"xAxis":"yAxis"].push({axis:l,value:l.toValue(i[l.horiz?"chartX":"chartY"])});return o}getHoverData(i,o,l,d,h,u){let g=[],m=function(T){return T.visible&&!(!h&&T.directTouch)&&Ye(T.options.enableMouseTracking,!0)},x=o,_,b={chartX:u?u.chartX:void 0,chartY:u?u.chartY:void 0,shared:h};Ue(this,"beforeGetHoverData",b),_=x&&!x.stickyTracking?[x]:l.filter(T=>T.stickyTracking&&(b.filter||m)(T));let C=d&&i||!u?i:this.findNearestKDPoint(_,h,u);return x=C==null?void 0:C.series,C&&(h&&!x.noSharedTooltip?(_=l.filter(function(T){return b.filter?b.filter(T):m(T)&&!T.noSharedTooltip})).forEach(function(T){var $;let R=($=T.options)==null?void 0:$.nullInteraction,F=Ie(T.points,function(B){return B.x===C.x&&(!B.isNull||!!R)});Xe(F)&&(T.boosted&&T.boost&&(F=T.boost.getPoint(F)),g.push(F))}):g.push(C)),Ue(this,"afterGetHoverData",b={hoverPoint:C}),{hoverPoint:b.hoverPoint,hoverSeries:x,hoverPoints:g}}getPointFromEvent(i){let o=i.target,l;for(;o&&!l;)l=o.point,o=o.parentNode;return l}onTrackerMouseOut(i){let o=this.chart,l=i.relatedTarget,d=o.hoverSeries;this.isDirectTouch=!1,!d||!l||d.stickyTracking||this.inClass(l,"highcharts-tooltip")||this.inClass(l,"highcharts-series-"+d.index)&&this.inClass(l,"highcharts-tracker")||d.onMouseOut()}inClass(i,o){let l=i,d;for(;l;){if(d=je(l,"class")){if(d.indexOf(o)!==-1)return!0;if(d.indexOf("highcharts-container")!==-1)return!1}l=l.parentElement}}constructor(i,o){var l;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=o,this.chart=i,this.runChartClick=!!((l=o.chart.events)!=null&&l.click),this.pinchDown=[],this.setDOMEvents(),Ue(this,"afterInit")}normalize(i,o){let l=i.touches,d=l?l.length?l.item(0):Ye(l.changedTouches,i.changedTouches)[0]:i;o||(o=this.getChartPosition());let h=d.pageX-o.left,u=d.pageY-o.top;return Re(i,{chartX:Math.round(h/=o.scaleX),chartY:Math.round(u/=o.scaleY)})}onContainerClick(i){let o=this.chart,l=o.hoverPoint,d=this.normalize(i),h=o.plotLeft,u=o.plotTop;!o.cancelClick&&(l&&this.inClass(d.target,"highcharts-tracker")?(Ue(l.series,"click",Re(d,{point:l})),o.hoverPoint&&l.firePointEvent("click",d)):(Re(d,this.getCoordinates(d)),o.isInsidePlot(d.chartX-h,d.chartY-u,{visiblePlotOnly:!0})&&Ue(o,"click",d)))}onContainerMouseDown(i){var l;let o=(1&(i.buttons||i.button))==1;i=this.normalize(i),J.isFirefox&&i.button!==0&&this.onContainerMouseMove(i),(i.button===void 0||o)&&(this.zoomOption(i),o&&((l=i.preventDefault)==null||l.call(i)),this.dragStart(i))}onContainerMouseLeave(i){let{pointer:o}=he[Ye(at.hoverChartIndex,-1)]||{};i=this.normalize(i),this.onContainerMouseMove(i),o&&!this.inClass(i.relatedTarget,"highcharts-tooltip")&&(o.reset(),o.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(i){var h;let o=this.chart,l=o.tooltip,d=this.normalize(i);this.setHoverChartIndex(i),(o.mouseIsDown==="mousedown"||this.touchSelect(d))&&this.drag(d),!((h=o.exporting)!=null&&h.openMenu)&&(this.inClass(d.target,"highcharts-tracker")||o.isInsidePlot(d.chartX-o.plotLeft,d.chartY-o.plotTop,{visiblePlotOnly:!0}))&&!(l!=null&&l.shouldStickOnContact(d))&&(this.inClass(d.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(d))}onDocumentTouchEnd(i){this.onDocumentMouseUp(i)}onContainerTouchMove(i){this.touchSelect(i)?this.onContainerMouseMove(i):this.touch(i)}onContainerTouchStart(i){this.touchSelect(i)?this.onContainerMouseDown(i):(this.zoomOption(i),this.touch(i,!0))}onDocumentMouseMove(i){let o=this.chart,l=o.tooltip,d=this.chartPosition,h=this.normalize(i,d);!d||o.isInsidePlot(h.chartX-o.plotLeft,h.chartY-o.plotTop,{visiblePlotOnly:!0})||l!=null&&l.shouldStickOnContact(h)||h.target!==o.container.ownerDocument&&this.inClass(h.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(i){var o,l,d;i!=null&&i.touches&&this.hasPinchMoved&&((o=i==null?void 0:i.preventDefault)==null||o.call(i)),(d=(l=he[Ye(at.hoverChartIndex,-1)])==null?void 0:l.pointer)==null||d.drop(i)}pinch(i){let o=this,{chart:l,hasZoom:d,lastTouches:h}=o,u=[].map.call(i.touches||[],b=>o.normalize(b)),g=u.length,m=g===1&&(o.inClass(i.target,"highcharts-tracker")&&l.runTrackerClick||o.runChartClick),x=l.tooltip,_=g===1&&Ye(x==null?void 0:x.options.followTouchMove,!0);g>1?o.initiated=!0:_&&(o.initiated=!1),d&&o.initiated&&!m&&i.cancelable!==!1&&i.preventDefault(),i.type==="touchstart"?(o.pinchDown=u,o.res=!0,l.mouseDownX=i.chartX):_?this.runPointActions(o.normalize(i)):h&&(Ue(l,"touchpan",{originalEvent:i,touches:u},()=>{let b=C=>{let T=C[0],R=C[1]||T;return{x:T.chartX,y:T.chartY,width:R.chartX-T.chartX,height:R.chartY-T.chartY}};l.transform({axes:l.axes.filter(C=>C.zoomEnabled&&(this.zoomHor&&C.horiz||this.zoomVert&&!C.horiz)),to:b(u),from:b(h),trigger:i.type})}),o.res&&(o.res=!1,this.reset(!1,0))),o.lastTouches=u}reset(i,o){let l=this.chart,d=l.hoverSeries,h=l.hoverPoint,u=l.hoverPoints,g=l.tooltip,m=g!=null&&g.shared?u:h;i&&m&&it(m).forEach(function(x){x.series.isCartesian&&x.plotX===void 0&&(i=!1)}),i?g&&m&&it(m).length&&(g.refresh(m),g.shared&&u?u.forEach(function(x){x.setState(x.state,!0),x.series.isCartesian&&(x.series.xAxis.crosshair&&x.series.xAxis.drawCrosshair(null,x),x.series.yAxis.crosshair&&x.series.yAxis.drawCrosshair(null,x))}):h&&(h.setState(h.state,!0),l.axes.forEach(function(x){x.crosshair&&h.series[x.coll]===x&&x.drawCrosshair(null,h)}))):(h&&h.onMouseOut(),u&&u.forEach(function(x){x.setState()}),d&&d.onMouseOut(),g&&g.hide(o),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l.axes.forEach(function(x){x.hideCrosshair()}),l.hoverPoints=l.hoverPoint=void 0)}runPointActions(i,o,l){var F;let d=this.chart,h=d.series,u=(F=d.tooltip)!=null&&F.options.enabled?d.tooltip:void 0,g=!!u&&u.shared,m=o||d.hoverPoint,x=(m==null?void 0:m.series)||d.hoverSeries,_=(!i||i.type!=="touchmove")&&(!!o||(x==null?void 0:x.directTouch)&&this.isDirectTouch),b=this.getHoverData(m,x,h,_,g,i);m=b.hoverPoint,x=b.hoverSeries;let C=b.hoverPoints,T=(x==null?void 0:x.tooltipOptions.followPointer)&&!x.tooltipOptions.split,R=g&&x&&!x.noSharedTooltip;if(m&&(l||m!==d.hoverPoint||u!=null&&u.isHidden)){if((d.hoverPoints||[]).forEach(function($){C.indexOf($)===-1&&$.setState()}),d.hoverSeries!==x&&x.onMouseOver(),this.applyInactiveState(C),(C||[]).forEach(function($){$.setState("hover")}),d.hoverPoint&&d.hoverPoint.firePointEvent("mouseOut"),!m.series)return;d.hoverPoints=C,d.hoverPoint=m,m.firePointEvent("mouseOver",void 0,()=>{u&&m&&u.refresh(R?C:m,i)})}else if(T&&u&&!u.isHidden){let $=u.getAnchor([{}],i);d.isInsidePlot($[0],$[1],{visiblePlotOnly:!0})&&u.updatePosition({plotX:$[0],plotY:$[1]})}this.unDocMouseMove||(this.unDocMouseMove=$e(d.container.ownerDocument,"mousemove",$=>{var B,G;return(G=(B=he[at.hoverChartIndex??-1])==null?void 0:B.pointer)==null?void 0:G.onDocumentMouseMove($)}),this.eventsToUnbind.push(this.unDocMouseMove)),d.axes.forEach(function($){var X;let B,G=((X=$.crosshair)==null?void 0:X.snap)??!0;G&&((B=d.hoverPoint)&&B.series[$.coll]===$||(B=Ie(C,fe=>{var de;return((de=fe.series)==null?void 0:de[$.coll])===$}))),B||!G?$.drawCrosshair(i,B):$.hideCrosshair()})}setDOMEvents(){let i=this.chart.container,o=i.ownerDocument;i.onmousedown=this.onContainerMouseDown.bind(this),i.onmousemove=this.onContainerMouseMove.bind(this),i.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push($e(i,"mouseenter",this.onContainerMouseEnter.bind(this)),$e(i,"mouseleave",this.onContainerMouseLeave.bind(this))),at.unbindDocumentMouseUp.some(d=>d.doc===o)||at.unbindDocumentMouseUp.push({doc:o,unbind:$e(o,"mouseup",this.onDocumentMouseUp.bind(this))});let l=this.chart.renderTo.parentElement;for(;l&&l.tagName!=="BODY";)this.eventsToUnbind.push($e(l,"scroll",()=>{delete this.chartPosition})),l=l.parentElement;this.eventsToUnbind.push($e(i,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),$e(i,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),at.unbindDocumentTouchEnd||(at.unbindDocumentTouchEnd=$e(o,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),$e(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var h,u;if(!_e)return;let i=this.pointerCaptureEventsToUnbind,o=this.chart,l=o.container,d=Ye((h=o.options.tooltip)==null?void 0:h.followTouchMove,!0)&&o.series.some(g=>g.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&d?(i.push($e(l,"pointerdown",g=>{var m,x;(m=g.target)!=null&&m.hasPointerCapture(g.pointerId)&&((x=g.target)==null||x.releasePointerCapture(g.pointerId))}),$e(l,"pointermove",g=>{var m,x;(x=(m=o.pointer)==null?void 0:m.getPointFromEvent(g))==null||x.onMouseOver(g)})),o.styledMode||Ne(l,{"touch-action":"none"}),l.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!d&&(i.forEach(g=>g()),i.length=0,o.styledMode||Ne(l,{"touch-action":Ye((u=o.options.chart.style)==null?void 0:u["touch-action"],"manipulation")}),l.className=l.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(i){var d;let o=this.chart,l=J.charts[Ye(at.hoverChartIndex,-1)];if(l&&l!==o){let h={relatedTarget:o.container};i&&!(i!=null&&i.relatedTarget)&&Object.assign({},i,h),(d=l.pointer)==null||d.onContainerMouseLeave(i||h)}l!=null&&l.mouseIsDown||(at.hoverChartIndex=o.index)}touch(i,o){var u;let l,{chart:d,pinchDown:h=[]}=this;this.setHoverChartIndex(),(i=this.normalize(i)).touches.length===1?d.isInsidePlot(i.chartX-d.plotLeft,i.chartY-d.plotTop,{visiblePlotOnly:!0})&&!((u=d.exporting)!=null&&u.openMenu)?(o&&this.runPointActions(i),i.type==="touchmove"&&(this.hasPinchMoved=l=!!h[0]&&Math.pow(h[0].chartX-i.chartX,2)+Math.pow(h[0].chartY-i.chartY,2)>=16),Ye(l,!0)&&this.pinch(i)):o&&this.reset():i.touches.length===2&&this.pinch(i)}touchSelect(i){return!!(this.chart.zooming.singleTouch&&i.touches&&i.touches.length===1)}zoomOption(i){let o=this.chart,l=o.inverted,d=o.zooming.type||"",h,u;/touch/.test(i.type)&&(d=Ye(o.zooming.pinchType,d)),this.zoomX=h=/x/.test(d),this.zoomY=u=/y/.test(d),this.zoomHor=h&&!l||u&&l,this.zoomVert=u&&!l||h&&l,this.hasZoom=h||u}}at.unbindDocumentMouseUp=[],function(y){y.compose=function(i){zt(be,"Core.Pointer")&&$e(i,"beforeRender",function(){this.pointer=new y(this,this.options)})}}(at||(at={}));let _r=at;(function(y){y.setLength=function(i,o,l){return Array.isArray(i)?(i.length=o,i):i[l?"subarray":"slice"](0,o)},y.splice=function(i,o,l,d,h=[]){if(Array.isArray(i))return Array.isArray(h)||(h=Array.from(h)),{removed:i.splice(o,l,...h),array:i};let u=Object.getPrototypeOf(i).constructor,g=i[d?"subarray":"slice"](o,o+l),m=new u(i.length-l+h.length);return m.set(i.subarray(0,o),0),m.set(h,o),m.set(i.subarray(o+l),o+h.length),{removed:g,array:m}}})(P||(P={}));let{setLength:Bt,splice:mt}=P,{fireEvent:xt,objectEach:Lt,uniqueKey:vr}=Ke,Si=class{constructor(y={}){this.autoId=!y.id,this.columns={},this.id=y.id||vr(),this.modified=this,this.rowCount=0,this.versionTag=vr();let i=0;Lt(y.columns||{},(o,l)=>{this.columns[l]=o.slice(),i=Math.max(i,o.length)}),this.applyRowCount(i)}applyRowCount(y){this.rowCount=y,Lt(this.columns,(i,o)=>{i.length!==y&&(this.columns[o]=Bt(i,y))})}deleteRows(y,i=1){if(i>0&&y<this.rowCount){let o=0;Lt(this.columns,(l,d)=>{this.columns[d]=mt(l,y,i).array,o=l.length}),this.rowCount=o}xt(this,"afterDeleteRows",{rowIndex:y,rowCount:i}),this.versionTag=vr()}getColumn(y,i){return this.columns[y]}getColumns(y,i){return(y||Object.keys(this.columns)).reduce((o,l)=>(o[l]=this.columns[l],o),{})}getRow(y,i){return(i||Object.keys(this.columns)).map(o=>{var l;return(l=this.columns[o])==null?void 0:l[y]})}setColumn(y,i=[],o=0,l){this.setColumns({[y]:i},o,l)}setColumns(y,i,o){let l=this.rowCount;Lt(y,(d,h)=>{this.columns[h]=d.slice(),l=d.length}),this.applyRowCount(l),o!=null&&o.silent||(xt(this,"afterSetColumns"),this.versionTag=vr())}setRow(y,i=this.rowCount,o,l){let{columns:d}=this,h=o?this.rowCount+1:i+1;Lt(y,(u,g)=>{let m=d[g]||(l==null?void 0:l.addColumns)!==!1&&Array(h);m&&(o?m=mt(m,i,0,!0,[u]).array:m[i]=u,d[g]=m)}),h>this.rowCount&&this.applyRowCount(h),l!=null&&l.silent||(xt(this,"afterSetRows"),this.versionTag=vr())}},{extend:Pr,merge:so,pick:la}=Ke;(function(y){function i(o,l,d){var fe,de;let h=this.legendItem=this.legendItem||{},{chart:u,options:g}=this,{baseline:m=0,symbolWidth:x,symbolHeight:_}=o,b=this.symbol||"circle",C=_/2,T=u.renderer,R=h.group,F=m-Math.round((((fe=o.fontMetrics)==null?void 0:fe.b)||_)*(d?.4:.3)),$={},B,G=g.marker,X=0;if(u.styledMode||($["stroke-width"]=Math.min(g.lineWidth||0,24),g.dashStyle?$.dashstyle=g.dashStyle:g.linecap!=="square"&&($["stroke-linecap"]="round")),h.line=T.path().addClass("highcharts-graph").attr($).add(R),d&&(h.area=T.path().addClass("highcharts-area").add(R)),$["stroke-linecap"]&&(X=Math.min(h.line.strokeWidth(),x)/2),x){let ue=[["M",X,F],["L",x-X,F]];h.line.attr({d:ue}),(de=h.area)==null||de.attr({d:[...ue,["L",x-X,m],["L",X,m]]})}if(G&&G.enabled!==!1&&x){let ue=Math.min(la(G.radius,C),C);b.indexOf("url")===0&&(G=so(G,{width:_,height:_}),ue=0),h.symbol=B=T.symbol(b,x/2-ue,F-ue,2*ue,2*ue,Pr({context:"legend"},G)).addClass("highcharts-point").add(R),B.isMarker=!0}}y.areaMarker=function(o,l){i.call(this,o,l,!0)},y.lineMarker=i,y.rectangle=function(o,l){let d=l.legendItem||{},h=o.options,u=o.symbolHeight,g=h.squareSymbol,m=g?u:o.symbolWidth;d.symbol=this.chart.renderer.rect(g?(o.symbolWidth-u)/2:0,o.baseline-u+1,m,u,la(o.options.symbolRadius,u/2)).addClass("highcharts-point").attr({zIndex:3}).add(d.group)}})(z||(z={}));let bn=z,{defaultOptions:vd}=Oi,{extend:nf,extendClass:tj,merge:rj}=Ke;(function(y){function i(o,l){let d=vd.plotOptions||{},h=l.defaultOptions,u=l.prototype;return u.type=o,u.pointClass||(u.pointClass=Z),!y.seriesTypes[o]&&(h&&(d[o]=h),y.seriesTypes[o]=l,!0)}y.seriesTypes=J.seriesTypes,y.registerSeriesType=i,y.seriesType=function(o,l,d,h,u){let g=vd.plotOptions||{};if(l=l||"",g[o]=rj(g[l],d),delete y.seriesTypes[o],i(o,tj(y.seriesTypes[l]||ki,h)),y.seriesTypes[o].prototype.type=o,u){class m extends Z{}nf(m.prototype,u),y.seriesTypes[o].prototype.pointClass=m}return y.seriesTypes[o]}})(U||(U={}));let lr=U,{animObject:Qw,setAnimation:ij}=jr,{defaultOptions:sf}=Oi,{registerEventOptions:nj}=ml,{svg:sj,win:oj}=J,{seriesTypes:Ml}=lr,{format:aj}=ar,{arrayMax:uv,arrayMin:Jw,clamp:eb,correctFloat:tb,crisp:lj,defined:Cr,destroyObjectProperties:cj,diffObjects:dj,erase:rb,error:of,extend:Tl,find:hj,fireEvent:rr,getClosestDistance:uj,getNestedProperty:ib,insertItem:nb,isArray:sb,isNumber:Nr,isString:fj,merge:xd,objectEach:fv,pick:ir,removeEvent:pj,syncTimeout:ob}=Ke;class Sn{constructor(){this.zoneAxis="y"}init(i,o){var m,x,_;let l;rr(this,"init",{options:o}),this.dataTable??(this.dataTable=new Si);let d=i.series;this.eventsToUnbind=[],this.chart=i,this.options=this.setOptions(o);let h=this.options,u=h.visible!==!1;this.linkedSeries=[],this.bindAxes(),Tl(this,{name:h.name,state:"",visible:u,selected:h.selected===!0}),nj(this,h);let g=h.events;(g!=null&&g.click||(x=(m=h.point)==null?void 0:m.events)!=null&&x.click||h.allowPointSelect)&&(i.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(i.hasCartesianSeries=!0),d.length&&(l=d[d.length-1]),this._i=ir(l==null?void 0:l._i,-1)+1,this.opacity=this.options.opacity,i.orderItems("series",nb(this,d)),(_=h.dataSorting)!=null&&_.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(h.data,!1),rr(this,"afterInit")}is(i){return Ml[i]&&this instanceof Ml[i]}bindAxes(){let i,o=this,l=o.options,d=o.chart;rr(this,"bindAxes",null,function(){(o.axisTypes||[]).forEach(function(h){(d[h]||[]).forEach(function(u){i=u.options,(ir(l[h],0)===u.index||l[h]!==void 0&&l[h]===i.id)&&(nb(o,u.series),o[h]=u,u.isDirty=!0)}),o[h]||o.optionalAxis===h||of(18,!0,d)})}),rr(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(i,o){let l=i.marker,d=o.marker||{};return l&&(d.enabled&&!l.enabled||d.symbol!==l.symbol||d.height!==l.height||d.width!==l.width)}autoIncrement(i){let o,l=this.options,{pointIntervalUnit:d,relativeXValue:h}=this.options,u=this.chart.time,g=this.xIncrement??u.parse(l.pointStart)??0;if(this.pointInterval=o=ir(this.pointInterval,l.pointInterval,1),h&&Nr(i)&&(o*=i),d){let m=u.toParts(g);d==="day"?m[2]+=o:d==="month"?m[1]+=o:d==="year"&&(m[0]+=o),o=u.makeTime.apply(u,m)-g}return h&&Nr(i)?g+o:(this.xIncrement=g+o,g)}setDataSortingOptions(){let i=this.options;Tl(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Cr(i.pointRange)||(i.pointRange=1)}setOptions(i){var $,B;let o,l=this.chart,d=l.options.plotOptions,h=l.userOptions||{},u=xd(i),g=l.styledMode,m={plotOptions:d,userOptions:u};rr(this,"setOptions",m);let x=m.plotOptions[this.type],_=h.plotOptions||{},b=_.series||{},C=sf.plotOptions[this.type]||{},T=_[this.type]||{};x.dataLabels=this.mergeArrays(C.dataLabels,x.dataLabels),this.userOptions=m.userOptions;let R=xd(x,d.series,T,u);this.tooltipOptions=xd(sf.tooltip,($=sf.plotOptions.series)==null?void 0:$.tooltip,C==null?void 0:C.tooltip,l.userOptions.tooltip,(B=_.series)==null?void 0:B.tooltip,T.tooltip,u.tooltip),this.stickyTracking=ir(u.stickyTracking,T.stickyTracking,b.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||R.stickyTracking),x.marker===null&&delete R.marker,this.zoneAxis=R.zoneAxis||"y";let F=this.zones=(R.zones||[]).map(G=>({...G}));return(R.negativeColor||R.negativeFillColor)&&!R.zones&&(o={value:R[this.zoneAxis+"Threshold"]||R.threshold||0,className:"highcharts-negative"},g||(o.color=R.negativeColor,o.fillColor=R.negativeFillColor),F.push(o)),F.length&&Cr(F[F.length-1].value)&&F.push(g?{}:{color:this.color,fillColor:this.fillColor}),rr(this,"afterSetOptions",{options:R}),R}getName(){return this.options.name??aj(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(i,o,l){let d,h,u=this.chart,g=`${i}Index`,m=`${i}Counter`,x=(l==null?void 0:l.length)||u.options.chart.colorCount;!o&&(Cr(h=ir(i==="color"?this.options.colorIndex:void 0,this[g]))?d=h:(u.series.length||(u[m]=0),d=u[m]%x,u[m]+=1),l&&(o=l[d])),d!==void 0&&(this[g]=d),this[i]=o}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||sf.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let i=this.options.marker;this.getCyclic("symbol",i.symbol,this.chart.options.symbols)}getColumn(i,o){return(o?this.dataTable.modified:this.dataTable).getColumn(i,!0)||[]}findPointIndex(i,o){var b;let l,d,h,{id:u,x:g}=i,m=this.points,x=this.options.dataSorting,_=this.cropStart||0;if(u){let C=this.chart.get(u);C instanceof Z&&(l=C)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let C=T=>!T.touched&&T.index===i.index;if(x!=null&&x.matchByName?C=T=>!T.touched&&T.name===i.name:this.options.relativeXValue&&(C=T=>!T.touched&&T.options.x===i.x),!(l=hj(m,C)))return}return l&&(h=l==null?void 0:l.index)!==void 0&&(d=!0),h===void 0&&Nr(g)&&(h=this.getColumn("x").indexOf(g,o)),h!==-1&&h!==void 0&&this.cropped&&(h=h>=_?h-_:h),!d&&Nr(h)&&((b=m[h])!=null&&b.touched)&&(h=void 0),h}updateData(i,o){var F;let{options:l,requireSorting:d}=this,h=l.dataSorting,u=this.points,g=[],m=i.length===u.length,x,_,b,C,T=!0;if(this.xIncrement=null,i.forEach(($,B)=>{var ue;let G,X=Cr($)&&this.pointClass.prototype.optionsToObject.call({series:this},$)||{},{id:fe,x:de}=X;fe||Nr(de)?((G=this.findPointIndex(X,C))===-1||G===void 0?g.push($):u[G]&&$!==((ue=l.data)==null?void 0:ue[G])?(u[G].update($,!1,void 0,!1),u[G].touched=!0,d&&(C=G+1)):u[G]&&(u[G].touched=!0),(!m||B!==G||h!=null&&h.enabled||this.hasDerivedData)&&(x=!0)):g.push($)},this),x)for(_=u.length;_--;)(b=u[_])&&!b.touched&&((F=b.remove)==null||F.call(b,!1,o));else m&&!(h!=null&&h.enabled)?(i.forEach(($,B)=>{$===u[B].y||u[B].destroyed||u[B].update($,!1,void 0,!1)}),g.length=0):T=!1;if(u.forEach($=>{$&&($.touched=!1)}),!T)return!1;g.forEach($=>{this.addPoint($,!1,void 0,void 0,!1)},this);let R=this.getColumn("x");return this.xIncrement===null&&R.length&&(this.xIncrement=uv(R),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(i,o=!0,l,d){var ye,ge;let h=this.points,u=(h==null?void 0:h.length)||0,g=this.options,m=this.chart,x=g.dataSorting,_=this.xAxis,b=g.turboThreshold,C=this.dataTable,T=this.dataColumnKeys(),R=this.pointValKey||"y",F=(this.pointArrayMap||[]).length,$=g.keys,B,G,X=0,fe=1,de;m.options.chart.allowMutatingData||(g.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,de=xd(!0,i));let ue=(i=de||i||[]).length;if(x!=null&&x.enabled&&(i=this.sortData(i)),m.options.chart.allowMutatingData&&d!==!1&&ue&&u&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(G=this.updateData(i,l)),!G){this.xIncrement=null,this.colorCounter=0;let xe=b&&!g.relativeXValue&&ue>b;if(xe){let Ae=this.getFirstValidPoint(i),Pe=this.getFirstValidPoint(i,ue-1,-1),Fe=Ge=>!!(sb(Ge)&&($||Nr(Ge[0])));if(Nr(Ae)&&Nr(Pe)){let Ge=[],rt=[];for(let Qe of i)Ge.push(this.autoIncrement()),rt.push(Qe);C.setColumns({x:Ge,[R]:rt})}else if(Fe(Ae)&&Fe(Pe))if(F){let Ge=+(Ae.length===F),rt=Array(T.length).fill(0).map(()=>[]);for(let Qe of i){Ge&&rt[0].push(this.autoIncrement());for(let lt=Ge;lt<=F;lt++)(ye=rt[lt])==null||ye.push(Qe[lt-Ge])}C.setColumns(T.reduce((Qe,lt,qe)=>(Qe[lt]=rt[qe],Qe),{}))}else{$&&(X=$.indexOf("x"),fe=$.indexOf("y"),X=X>=0?X:0,fe=fe>=0?fe:1),Ae.length===1&&(fe=0);let Ge=[],rt=[];if(X===fe)for(let Qe of i)Ge.push(this.autoIncrement()),rt.push(Qe[fe]);else for(let Qe of i)Ge.push(Qe[X]),rt.push(Qe[fe]);C.setColumns({x:Ge,[R]:rt})}else xe=!1}if(!xe){let Ae=T.reduce((Pe,Fe)=>(Pe[Fe]=[],Pe),{});for(B=0;B<ue;B++){let Pe=this.pointClass.prototype.applyOptions.apply({series:this},[i[B]]);for(let Fe of T)Ae[Fe][B]=Pe[Fe]}C.setColumns(Ae)}for(fj(this.getColumn("y")[0])&&of(14,!0,m),this.data=[],this.options.data=this.userOptions.data=i,B=u;B--;)(ge=h[B])==null||ge.destroy();_&&(_.minRange=_.userMinRange),this.isDirty=m.isDirtyBox=!0,this.isDirtyData=!!h,l=!1}g.legendType==="point"&&(this.processData(),this.generatePoints()),o&&m.redraw(l)}sortData(i){let o=this,l=o.options.dataSorting.sortKey||"y",d=function(h,u){return Cr(u)&&h.pointClass.prototype.optionsToObject.call({series:h},u)||{}};return i.forEach(function(h,u){i[u]=d(o,h),i[u].index=u},this),i.concat().sort((h,u)=>{let g=ib(l,h),m=ib(l,u);return m<g?-1:+(m>g)}).forEach(function(h,u){h.x=u},this),o.linkedSeries&&o.linkedSeries.forEach(function(h){var m;let u=h.options,g=u.data;!((m=u.dataSorting)!=null&&m.enabled)&&g&&(g.forEach(function(x,_){g[_]=d(h,x),i[_]&&(g[_].x=i[_].x,g[_].index=_)}),h.setData(g,!1))}),i}getProcessedData(i){let o=this,{dataTable:l,isCartesian:d,options:h,xAxis:u}=o,g=h.cropThreshold,m=i||o.getExtremesFromAll,x=u==null?void 0:u.logarithmic,_=l.rowCount,b,C,T=0,R,F,$,B=o.getColumn("x"),G=l,X=!1;return u&&(F=(R=u.getExtremes()).min,$=R.max,X=!!(u.categories&&!u.names.length),d&&o.sorted&&!m&&(!g||_>g||o.forceCrop)&&(B[_-1]<F||B[0]>$?G=new Si:o.getColumn(o.pointValKey||"y").length&&(B[0]<F||B[_-1]>$)&&(G=(b=this.cropData(l,F,$)).modified,T=b.start,C=!0))),B=G.getColumn("x")||[],{modified:G,cropped:C,cropStart:T,closestPointRange:uj([x?B.map(x.log2lin):B],()=>o.requireSorting&&!X&&of(15,!1,o.chart))}}processData(i){let o=this.xAxis,l=this.dataTable;if(this.isCartesian&&!this.isDirty&&!o.isDirty&&!this.yAxis.isDirty&&!i)return!1;let d=this.getProcessedData();l.modified=d.modified,this.cropped=d.cropped,this.cropStart=d.cropStart,this.closestPointRange=this.basePointRange=d.closestPointRange,rr(this,"afterProcessData")}cropData(i,o,l){let d=i.getColumn("x",!0)||[],h=d.length,u={},g,m,x=0,_=h;for(g=0;g<h;g++)if(d[g]>=o){x=Math.max(0,g-1);break}for(m=g;m<h;m++)if(d[m]>l){_=m+1;break}for(let b of this.dataColumnKeys()){let C=i.getColumn(b,!0);C&&(u[b]=C.slice(x,_))}return{modified:new Si({columns:u}),start:x,end:_}}generatePoints(){var de,ue,ye;let i=this.options,o=this.processedData||i.data,l=this.dataTable.modified,d=this.getColumn("x",!0),h=this.pointClass,u=l.rowCount,g=this.cropStart||0,m=this.hasGroupedData,x=i.keys,_=[],b=(de=i.dataGrouping)!=null&&de.groupAll?g:0,C=(ue=this.xAxis)==null?void 0:ue.categories,T=this.pointArrayMap||["y"],R=this.dataColumnKeys(),F,$,B,G,X=this.data,fe;if(!X&&!m){let ge=[];ge.length=(o==null?void 0:o.length)||0,X=this.data=ge}for(x&&m&&(this.options.keys=!1),G=0;G<u;G++)$=g+G,m?((B=new h(this,l.getRow(G,R)||[])).dataGroup=this.groupMap[b+G],(ye=B.dataGroup)!=null&&ye.options&&(B.options=B.dataGroup.options,Tl(B,B.dataGroup.options),delete B.dataLabels)):(B=X[$],fe=o?o[$]:l.getRow(G,T),B||fe===void 0||(X[$]=B=new h(this,fe,d[G]))),B&&(B.index=m?b+G:$,_[G]=B,B.category=(C==null?void 0:C[B.x])??B.x,B.key=B.name??B.category);if(this.options.keys=x,X&&(u!==(F=X.length)||m))for(G=0;G<F;G++)G!==g||m||(G+=u),X[G]&&(X[G].destroyElements(),X[G].plotX=void 0);this.data=X,this.points=_,rr(this,"afterGeneratePoints")}getXExtremes(i){return{min:Jw(i),max:uv(i)}}getExtremes(i,o){var de;let{xAxis:l,yAxis:d}=this,h=o||this.getExtremesFromAll||this.options.getExtremesFromAll,u=h&&this.cropped?this.dataTable:this.dataTable.modified,g=u.rowCount,m=i||this.stackedYData,x=m?[m]:((de=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:de.map(ue=>u.getColumn(ue,!0)||[]))||[],_=this.getColumn("x",!0),b=[],C=this.requireSorting&&!this.is("column")?1:0,T=!!d&&d.positiveValuesOnly,R=h||this.cropped||!l,F,$,B,G=0,X=0;for(l&&(G=(F=l.getExtremes()).min,X=F.max),B=0;B<g;B++)if($=_[B],R||(_[B+C]||$)>=G&&(_[B-C]||$)<=X)for(let ue of x){let ye=ue[B];Nr(ye)&&(ye>0||!T)&&b.push(ye)}let fe={activeYData:b,dataMin:Jw(b),dataMax:uv(b)};return rr(this,"afterGetExtremes",{dataExtremes:fe}),fe}applyExtremes(){let i=this.getExtremes();return this.dataMin=i.dataMin,this.dataMax=i.dataMax,i}getFirstValidPoint(i,o=0,l=1){let d=i.length,h=o;for(;h>=0&&h<d;){if(Cr(i[h]))return i[h];h+=l}}translate(){var X;this.generatePoints();let i=this.options,o=i.stacking,l=this.xAxis,d=this.enabledDataSorting,h=this.yAxis,u=this.points,g=u.length,m=this.pointPlacementToXValue(),x=!!m,_=i.threshold,b=i.startFromThreshold?_:0,C=(i==null?void 0:i.nullInteraction)&&h.len,T,R,F,$,B=Number.MAX_VALUE;function G(fe){return eb(fe,-1e9,1e9)}for(T=0;T<g;T++){let fe,de=u[T],ue=de.x,ye,ge,xe=de.y,Ae=de.low,Pe=o&&((X=h.stacking)==null?void 0:X.stacks[(this.negStacks&&xe<(b?0:_)?"-":"")+this.stackKey]);de.plotX=Nr(R=l.translate(ue,!1,!1,!1,!0,m))?tb(G(R)):void 0,o&&this.visible&&Pe&&Pe[ue]&&($=this.getStackIndicator($,ue,this.index),!de.isNull&&$.key&&(ge=(ye=Pe[ue]).points[$.key]),ye&&sb(ge)&&(Ae=ge[0],xe=ge[1],Ae===b&&$.key===Pe[ue].base&&(Ae=ir(Nr(_)?_:h.min)),h.positiveValuesOnly&&Cr(Ae)&&Ae<=0&&(Ae=void 0),de.total=de.stackTotal=ir(ye.total),de.percentage=Cr(de.y)&&ye.total?de.y/ye.total*100:void 0,de.stackY=xe,this.irregularWidths||ye.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),de.yBottom=Cr(Ae)?G(h.translate(Ae,!1,!0,!1,!0)):void 0,this.dataModify&&(xe=this.dataModify.modifyValue(xe,T)),Nr(xe)&&de.plotX!==void 0?fe=Nr(fe=h.translate(xe,!1,!0,!1,!0))?G(fe):void 0:!Nr(xe)&&C&&(fe=C),de.plotY=fe,de.isInside=this.isPointInside(de),de.clientX=x?tb(l.translate(ue,!1,!1,!1,!0,m)):R,de.negative=(de.y||0)<(_||0),de.isNull||de.visible===!1||(F!==void 0&&(B=Math.min(B,Math.abs(R-F))),F=R),de.zone=this.zones.length?de.getZone():void 0,!de.graphic&&this.group&&d&&(de.isNew=!0)}this.closestPointRangePx=B,rr(this,"afterTranslate")}getValidPoints(i,o,l){let d=this.chart;return(i||this.points||[]).filter(function(h){let{plotX:u,plotY:g}=h;return(!!l||!h.isNull&&!!Nr(g))&&(!o||!!d.isInsidePlot(u,g,{inverted:d.inverted}))&&h.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:i,group:o,markerGroup:l}=this,d=i.sharedClips,h=i.renderer,u=i.getClipBox(this),g=this.getSharedClipKey(),m=d[g];m?m.animate(u):d[g]=m=h.clipRect(u),o&&o.clip(this.options.clip===!1?void 0:m),l&&l.clip()}animate(i){let{chart:o,group:l,markerGroup:d}=this,h=o.inverted,u=Qw(this.options.animation),g=[this.getSharedClipKey(),u.duration,u.easing,u.defer].join(","),m=o.sharedClips[g],x=o.sharedClips[g+"m"];if(i&&l){let _=o.getClipBox(this);if(m)m.attr("height",_.height);else{_.width=0,h&&(_.x=o.plotHeight),m=o.renderer.clipRect(_),o.sharedClips[g]=m;let b={x:-99,y:-99,width:h?o.plotWidth+199:99,height:h?99:o.plotHeight+199};x=o.renderer.clipRect(b),o.sharedClips[g+"m"]=x}l.clip(m),d==null||d.clip(x)}else if(m&&!m.hasClass("highcharts-animating")){let _=o.getClipBox(this),b=u.step;(d!=null&&d.element.childNodes.length||o.series.length>1)&&(u.step=function(C,T){b&&b.apply(T,arguments),T.prop==="width"&&(x!=null&&x.element)&&x.attr(h?"height":"width",C+99)}),m.addClass("highcharts-animating").animate(_,u)}}afterAnimate(){this.setClip(),fv(this.chart.sharedClips,(i,o,l)=>{i&&!this.chart.container.querySelector(`[clip-path="url(#${i.id})"]`)&&(i.destroy(),delete l[o])}),this.finishedAnimating=!0,rr(this,"afterAnimate")}drawPoints(i=this.points){let o,l,d,h,u,g,m,x=this.chart,_=x.styledMode,{colorAxis:b,options:C}=this,T=C.marker,R=C.nullInteraction,F=this[this.specialGroup||"markerGroup"],$=this.xAxis,B=ir(T.enabled,!$||!!$.isRadial||null,this.closestPointRangePx>=T.enabledThreshold*T.radius);if(T.enabled!==!1||this._hasPointMarkers)for(o=0;o<i.length;o++){h=(d=(l=i[o]).graphic)?"animate":"attr",u=l.marker||{},g=!!l.marker;let G=l.isNull;if((B&&!Cr(u.enabled)||u.enabled)&&(!G||R)&&l.visible!==!1){let X=ir(u.symbol,this.symbol,"rect");m=this.markerAttribs(l,l.selected&&"select"),this.enabledDataSorting&&(l.startXPos=$.reversed?-(m.width||0):$.width);let fe=l.isInside!==!1;if(!d&&fe&&((m.width||0)>0||l.hasImage)&&(l.graphic=d=x.renderer.symbol(X,m.x,m.y,m.width,m.height,g?u:T).add(F),this.enabledDataSorting&&x.hasRendered&&(d.attr({x:l.startXPos}),h="animate")),d&&h==="animate"&&d[fe?"show":"hide"](fe).animate(m),d){let de=this.pointAttribs(l,_||!l.selected?void 0:"select");_?b&&d.css({fill:de.fill}):d[h](de)}d&&d.addClass(l.getClassName(),!0)}else d&&(l.graphic=d.destroy())}}markerAttribs(i,o){let l=this.options,d=l.marker,h=i.marker||{},u=h.symbol||d.symbol,g={},m,x,_=ir(h.radius,d==null?void 0:d.radius);o&&(m=d.states[o],x=h.states&&h.states[o],_=ir(x==null?void 0:x.radius,m==null?void 0:m.radius,_&&_+((m==null?void 0:m.radiusPlus)||0))),i.hasImage=u&&u.indexOf("url")===0,i.hasImage&&(_=0);let b=i.pos();return Nr(_)&&b&&(l.crisp&&(b[0]=lj(b[0],i.hasImage?0:u==="rect"?(d==null?void 0:d.lineWidth)||0:1)),g.x=b[0]-_,g.y=b[1]-_),_&&(g.width=g.height=2*_),g}pointAttribs(i,o){var B;let l=this.options,d=l.marker,h=i==null?void 0:i.options,u=(h==null?void 0:h.marker)||{},g=h==null?void 0:h.color,m=i==null?void 0:i.color,x=(B=i==null?void 0:i.zone)==null?void 0:B.color,_,b,C=this.color,T,R,F=ir(u.lineWidth,d.lineWidth),$=i!=null&&i.isNull&&l.nullInteraction?0:1;return C=g||x||m||C,T=u.fillColor||d.fillColor||C,R=u.lineColor||d.lineColor||C,o=o||"normal",_=d.states[o]||{},F=ir((b=u.states&&u.states[o]||{}).lineWidth,_.lineWidth,F+ir(b.lineWidthPlus,_.lineWidthPlus,0)),T=b.fillColor||_.fillColor||T,R=b.lineColor||_.lineColor||R,{stroke:R,"stroke-width":F,fill:T,opacity:$=ir(b.opacity,_.opacity,$)}}destroy(i){var m,x;let o,l,d=this,h=d.chart,u=/AppleWebKit\/533/.test(oj.navigator.userAgent),g=d.data||[];for(rr(d,"destroy",{keepEventsForUpdate:i}),this.removeEvents(i),(d.axisTypes||[]).forEach(function(_){l=d[_],l!=null&&l.series&&(rb(l.series,d),l.isDirty=l.forceRedraw=!0)}),d.legendItem&&d.chart.legend.destroyItem(d),o=g.length;o--;)(x=(m=g[o])==null?void 0:m.destroy)==null||x.call(m);for(let _ of d.zones)cj(_,void 0,!0);Ke.clearTimeout(d.animationTimeout),fv(d,function(_,b){_ instanceof en&&!_.survive&&_[u&&b==="group"?"hide":"destroy"]()}),h.hoverSeries===d&&(h.hoverSeries=void 0),rb(h.series,d),h.orderItems("series"),fv(d,function(_,b){i&&b==="hcEvents"||delete d[b]})}applyZones(){let{area:i,chart:o,graph:l,zones:d,points:h,xAxis:u,yAxis:g,zoneAxis:m}=this,{inverted:x,renderer:_}=o,b=this[`${m}Axis`],{isXAxis:C,len:T=0,minPointOffset:R=0}=b||{},F=((l==null?void 0:l.strokeWidth())||0)/2+1,$=(B,G=0,X=0)=>{x&&(X=T-X);let{translated:fe=0,lineClip:de}=B,ue=X-fe;de==null||de.push(["L",G,Math.abs(ue)<F?X-F*(ue<=0?-1:1):fe])};if(d.length&&(l||i)&&b&&Nr(b.min)){let B=b.getExtremes().max+R,G=de=>{de.forEach((ue,ye)=>{(ue[0]==="M"||ue[0]==="L")&&(de[ye]=[ue[0],C?T-ue[1]:ue[1],C?ue[2]:T-ue[2]])})};if(d.forEach(de=>{de.lineClip=[],de.translated=eb(b.toPixels(ir(de.value,B),!0)||0,0,T)}),l&&!this.showLine&&l.hide(),i&&i.hide(),m==="y"&&h.length<u.len)for(let de of h){let{plotX:ue,plotY:ye,zone:ge}=de,xe=ge&&d[d.indexOf(ge)-1];ge&&$(ge,ue,ye),xe&&$(xe,ue,ye)}let X=[],fe=b.toPixels(b.getExtremes().min-R,!0);d.forEach(de=>{var lt,qe;let ue=de.lineClip||[],ye=Math.round(de.translated||0);u.reversed&&ue.reverse();let{clip:ge,simpleClip:xe}=de,Ae=0,Pe=0,Fe=u.len,Ge=g.len;C?(Ae=ye,Fe=fe):(Pe=ye,Ge=fe);let rt=[["M",Ae,Pe],["L",Fe,Pe],["L",Fe,Ge],["L",Ae,Ge],["Z"]],Qe=[rt[0],...ue,rt[1],rt[2],...X,rt[3],rt[4]];X=ue.reverse(),fe=ye,x&&(G(Qe),i&&G(rt)),ge?(ge.animate({d:Qe}),xe==null||xe.animate({d:rt})):(ge=de.clip=_.path(Qe),i&&(xe=de.simpleClip=_.path(rt))),l&&((lt=de.graph)==null||lt.clip(ge)),i&&((qe=de.area)==null||qe.clip(xe))})}else this.visible&&(l&&l.show(),i&&i.show())}plotGroup(i,o,l,d,h){let u=this[i],g=!u,m={visibility:l,zIndex:d||.1};return Cr(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(m.opacity=this.opacity),u||(this[i]=u=this.chart.renderer.g().add(h)),u.addClass("highcharts-"+o+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Cr(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(u.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),u.attr(m)[g?"attr":"animate"](this.getPlotBox(o)),u}getPlotBox(i){let o=this.xAxis,l=this.yAxis,d=this.chart,h=d.inverted&&!d.polar&&o&&this.invertible&&i==="series";d.inverted&&(o=l,l=this.xAxis);let u={scale:1,translateX:o?o.left:d.plotLeft,translateY:l?l.top:d.plotTop,name:i};rr(this,"getPlotBox",u);let{scale:g,translateX:m,translateY:x}=u;return{translateX:m,translateY:x,rotation:90*!!h,rotationOriginX:h?g*(o.len-l.len)/2:0,rotationOriginY:h?g*(o.len+l.len)/2:0,scaleX:h?-g:g,scaleY:g}}removeEvents(i){let{eventsToUnbind:o}=this;i||pj(this),o.length&&(o.forEach(l=>{l()}),o.length=0)}render(){var _,b,C,T,R;let i=this,{chart:o,options:l,hasRendered:d}=i,h=Qw(l.animation),u=i.visible?"inherit":"hidden",g=l.zIndex,m=o.seriesGroup,x=i.finishedAnimating?0:h.duration;rr(this,"render"),i.plotGroup("group","series",u,g,m),i.markerGroup=i.plotGroup("markerGroup","markers",u,g,m),l.clip!==!1&&i.setClip(),x&&((_=i.animate)==null||_.call(i,!0)),i.drawGraph&&(i.drawGraph(),i.applyZones()),i.visible&&i.drawPoints(),(b=i.drawDataLabels)==null||b.call(i),(C=i.redrawPoints)==null||C.call(i),l.enableMouseTracking&&((T=i.drawTracker)==null||T.call(i)),x&&((R=i.animate)==null||R.call(i)),d||(x&&h.defer&&(x+=h.defer),i.animationTimeout=ob(()=>{i.afterAnimate()},x||0)),i.isDirty=!1,i.hasRendered=!0,rr(i,"afterRender")}redraw(){let i=this.isDirty||this.isDirtyData;this.translate(),this.render(),i&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(i,o){let{xAxis:l,yAxis:d}=this,h=this.chart.inverted;return this.searchKDTree({clientX:h?l.len-i.chartY+l.pos:i.chartX-l.pos,plotY:h?d.len-i.chartX+d.pos:i.chartY-d.pos},o,i)}buildKDTree(i){this.buildingKdTree=!0;let o=this,l=o.options,d=l.findNearestPointBy.indexOf("y")>-1?2:1;delete o.kdTree,ob(function(){o.kdTree=function h(u,g,m){let x,_,b=u==null?void 0:u.length;if(b)return x=o.kdAxisArray[g%m],u.sort((C,T)=>(C[x]||0)-(T[x]||0)),{point:u[_=Math.floor(b/2)],left:h(u.slice(0,_),g+1,m),right:h(u.slice(_+1),g+1,m)}}(o.getValidPoints(void 0,!o.directTouch,l==null?void 0:l.nullInteraction),d,d),o.buildingKdTree=!1},l.kdNow||(i==null?void 0:i.type)==="touchstart"?0:1)}searchKDTree(i,o,l,d,h){let u=this,[g,m]=this.kdAxisArray,x=o?"distX":"dist",_=(u.options.findNearestPointBy||"").indexOf("y")>-1?2:1,b=!!u.isBubble,C=d||((R,F,$)=>{let B=R[$]||0,G=F[$]||0;return[B===G&&R.index>F.index||B<G?R:F,!1]}),T=h||((R,F)=>R<F);if(this.kdTree||this.buildingKdTree||this.buildKDTree(l),this.kdTree)return function R(F,$,B,G){var Ae;let X=$.point,fe=u.kdAxisArray[B%G],de=X,ue=!1;(function(Pe,Fe){var Tt;let Ge=Pe[g],rt=Fe[g],Qe=Cr(Ge)&&Cr(rt)?Ge-rt:null,lt=Pe[m],qe=Fe[m],ct=Cr(lt)&&Cr(qe)?lt-qe:0,bt=b&&((Tt=Fe.marker)==null?void 0:Tt.radius)||0;Fe.dist=Math.sqrt((Qe&&Qe*Qe||0)+ct*ct)-bt,Fe.distX=Cr(Qe)?Math.abs(Qe)-bt:Number.MAX_VALUE})(F,X);let ye=(F[fe]||0)-(X[fe]||0)+(b&&((Ae=X.marker)==null?void 0:Ae.radius)||0),ge=ye<0?"left":"right",xe=ye<0?"right":"left";return $[ge]&&([de,ue]=C(X,R(F,$[ge],B+1,G),x)),$[xe]&&T(Math.sqrt(ye*ye),de[x],ue)&&(de=C(de,R(F,$[xe],B+1,G),x)[0]),de}(i,this.kdTree,_,_)}pointPlacementToXValue(){let{options:i,xAxis:o}=this,l=i.pointPlacement;return l==="between"&&(l=o.reversed?-.5:.5),Nr(l)?l*(i.pointRange||o.pointRange):0}isPointInside(i){let{chart:o,xAxis:l,yAxis:d}=this,{plotX:h=-1,plotY:u=-1}=i;return u>=0&&u<=(d?d.len:o.plotHeight)&&h>=0&&h<=(l?l.len:o.plotWidth)}drawTracker(){var C;let i=this,o=i.options,l=o.trackByArea,d=[].concat((l?i.areaPath:i.graphPath)||[]),h=i.chart,u=h.pointer,g=h.renderer,m=((C=h.options.tooltip)==null?void 0:C.snap)||0,x=()=>{o.enableMouseTracking&&h.hoverSeries!==i&&i.onMouseOver()},_="rgba(192,192,192,"+(sj?1e-4:.002)+")",b=i.tracker;b?b.attr({d}):i.graph&&(i.tracker=b=g.path(d).attr({visibility:i.visible?"inherit":"hidden",zIndex:2}).addClass(l?"highcharts-tracker-area":"highcharts-tracker-line").add(i.group),h.styledMode||b.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:_,fill:l?_:"none","stroke-width":i.graph.strokeWidth()+(l?0:2*m)}),[i.tracker,i.markerGroup,i.dataLabelsGroup].forEach(T=>{T&&(T.addClass("highcharts-tracker").on("mouseover",x).on("mouseout",R=>{u==null||u.onTrackerMouseOut(R)}),o.cursor&&!h.styledMode&&T.css({cursor:o.cursor}),T.on("touchstart",x))})),rr(this,"afterDrawTracker")}addPoint(i,o,l,d,h){let u,g,m=this.options,{chart:x,data:_,dataTable:b,xAxis:C}=this,T=(C==null?void 0:C.hasNames)&&C.names,R=m.data,F=this.getColumn("x");o=ir(o,!0);let $={series:this};this.pointClass.prototype.applyOptions.apply($,[i]);let B=$.x;if(g=F.length,this.requireSorting&&B<F[g-1])for(u=!0;g&&F[g-1]>B;)g--;b.setRow($,g,!0,{addColumns:!1}),T&&$.name&&(T[B]=$.name),R==null||R.splice(g,0,i),(u||this.processedData)&&(this.data.splice(g,0,null),this.processData()),m.legendType==="point"&&this.generatePoints(),l&&(_[0]&&_[0].remove?_[0].remove(!1):([_,R].filter(Cr).forEach(G=>{G.shift()}),b.deleteRows(0))),h!==!1&&rr(this,"addPoint",{point:$}),this.isDirty=!0,this.isDirtyData=!0,o&&x.redraw(d)}removePoint(i,o,l){let d=this,{chart:h,data:u,points:g,dataTable:m}=d,x=u[i],_=function(){[(g==null?void 0:g.length)===u.length?g:void 0,u,d.options.data].filter(Cr).forEach(b=>{b.splice(i,1)}),m.deleteRows(i),x==null||x.destroy(),d.isDirty=!0,d.isDirtyData=!0,o&&h.redraw()};ij(l,h),o=ir(o,!0),x?x.firePointEvent("remove",null,_):_()}remove(i,o,l,d){let h=this,u=h.chart;function g(){h.destroy(d),u.isDirtyLegend=u.isDirtyBox=!0,u.linkSeries(d),ir(i,!0)&&u.redraw(o)}l!==!1?rr(h,"remove",null,g):g()}update(i,o){var B,G;rr(this,"update",{options:i=dj(i,this.userOptions)});let l=this,d=l.chart,h=l.userOptions,u=l.initialType||l.type,g=d.options.plotOptions,m=Ml[u].prototype,x=l.finishedAnimating&&{animation:!1},_={},b,C,T=Sn.keepProps.slice(),R=i.type||h.type||d.options.chart.type,F=!(this.hasDerivedData||R&&R!==this.type||i.keys!==void 0||i.pointStart!==void 0||i.pointInterval!==void 0||i.relativeXValue!==void 0||i.joinBy||i.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(X=>l.hasOptionChanged(X)));R=R||u,F?(T.push.apply(T,Sn.keepPropsForPoints),i.visible!==!1&&T.push("area","graph"),l.parallelArrays.forEach(function(X){T.push(X+"Data")}),i.data&&(i.dataSorting&&Tl(l.options.dataSorting,i.dataSorting),this.setData(i.data,!1))):this.dataTable.modified=this.dataTable,i=xd(h,{index:h.index===void 0?l.index:h.index,pointStart:((B=g==null?void 0:g.series)==null?void 0:B.pointStart)??h.pointStart??l.getColumn("x")[0]},!F&&{data:l.options.data},i,x),F&&i.data&&(i.data=l.options.data),(T=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(T)).forEach(function(X){T[X]=l[X],delete l[X]});let $=!1;if(Ml[R]){if($=R!==l.type,l.remove(!1,!1,!1,!0),$)if(d.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(l,Ml[R].prototype);else{let X=Object.hasOwnProperty.call(l,"hcEvents")&&l.hcEvents;for(C in m)l[C]=void 0;Tl(l,Ml[R].prototype),X?l.hcEvents=X:delete l.hcEvents}}else of(17,!0,d,{missingModuleFor:R});if(T.forEach(function(X){l[X]=T[X]}),l.init(d,i),F&&this.points)for(let X of((b=l.options).visible===!1?(_.graphic=1,_.dataLabel=1):(this.hasMarkerChanged(b,h)&&(_.graphic=1),(G=l.hasDataLabels)!=null&&G.call(l)||(_.dataLabel=1)),this.points))X!=null&&X.series&&(X.resolveColor(),Object.keys(_).length&&X.destroyElements(_),b.showInLegend===!1&&X.legendItem&&d.legend.destroyItem(X));l.initialType=u,d.linkSeries(),d.setSortedData(),$&&l.linkedSeries.length&&(l.isDirtyData=!0),rr(this,"afterUpdate"),ir(o,!0)&&d.redraw(!!F&&void 0)}setName(i){this.name=this.options.name=this.userOptions.name=i,this.chart.isDirtyLegend=!0}hasOptionChanged(i){var g,m;let o=this.chart,l=this.options[i],d=o.options.plotOptions,h=this.userOptions[i],u=ir((g=d==null?void 0:d[this.type])==null?void 0:g[i],(m=d==null?void 0:d.series)==null?void 0:m[i]);return h&&!Cr(u)?l!==h:l!==ir(u,l)}onMouseOver(){let i=this.chart,o=i.hoverSeries,l=i.pointer;l==null||l.setHoverChartIndex(),o&&o!==this&&o.onMouseOut(),this.options.events.mouseOver&&rr(this,"mouseOver"),this.setState("hover"),i.hoverSeries=this}onMouseOut(){let i=this.options,o=this.chart,l=o.tooltip,d=o.hoverPoint;o.hoverSeries=null,d&&d.onMouseOut(),this&&i.events.mouseOut&&rr(this,"mouseOut"),l&&!this.stickyTracking&&(!l.shared||this.noSharedTooltip)&&l.hide(),o.series.forEach(function(h){h.setState("",!0)})}setState(i,o){let l=this,d=l.options,h=l.graph,u=d.inactiveOtherPoints,g=d.states,m=ir(g[i||"normal"]&&g[i||"normal"].animation,l.chart.options.chart.animation),x=d.lineWidth,_=d.opacity;if(i=i||"",l.state!==i&&([l.group,l.markerGroup,l.dataLabelsGroup].forEach(function(b){b&&(l.state&&b.removeClass("highcharts-series-"+l.state),i&&b.addClass("highcharts-series-"+i))}),l.state=i,!l.chart.styledMode)){if(g[i]&&g[i].enabled===!1)return;if(i&&(x=g[i].lineWidth||x+(g[i].lineWidthPlus||0),_=ir(g[i].opacity,_)),h&&!h.dashstyle&&Nr(x))for(let b of[h,...this.zones.map(C=>C.graph)])b==null||b.animate({"stroke-width":x},m);u||[l.group,l.markerGroup,l.dataLabelsGroup,l.labelBySeries].forEach(function(b){b&&b.animate({opacity:_},m)})}o&&u&&l.points&&l.setAllPointsToState(i||void 0)}setAllPointsToState(i){this.points.forEach(function(o){o.setState&&o.setState(i)})}setVisible(i,o){var m;let l=this,d=l.chart,h=d.options.chart.ignoreHiddenSeries,u=l.visible;l.visible=i=l.options.visible=l.userOptions.visible=i===void 0?!u:i;let g=i?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(x=>{var _;(_=l[x])==null||_[g]()}),(d.hoverSeries===l||((m=d.hoverPoint)==null?void 0:m.series)===l)&&l.onMouseOut(),l.legendItem&&d.legend.colorizeItem(l,i),l.isDirty=!0,l.options.stacking&&d.series.forEach(x=>{x.options.stacking&&x.visible&&(x.isDirty=!0)}),l.linkedSeries.forEach(x=>{x.setVisible(i,!1)}),h&&(d.isDirtyBox=!0),rr(l,g),o!==!1&&d.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(i){this.selected=i=this.options.selected=i===void 0?!this.selected:i,this.checkbox&&(this.checkbox.checked=i),rr(this,i?"select":"unselect")}shouldShowTooltip(i,o,l={}){return l.series=this,l.visiblePlotOnly=!0,this.chart.isInsidePlot(i,o,l)}drawLegendSymbol(i,o){var l;(l=bn[this.options.legendSymbol||"rectangle"])==null||l.call(this,i,o)}}Sn.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:y}=this.series.chart;return typeof this.y!="number"?"":y(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Sn.types=lr.seriesTypes,Sn.registerType=lr.registerSeriesType,Sn.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Sn.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Tl(Sn.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Z,requireSorting:!0,sorted:!0}),lr.series=Sn;let ki=Sn,{animObject:gj,setAnimation:mj}=jr,{registerEventOptions:ab}=ml,{composed:vj,marginNames:lb}=J,{distribute:xj}=hs,{format:yj}=ar,{addEvent:af,createElement:wj,css:bj,defined:pv,discardElement:Sj,find:kj,fireEvent:ys,isNumber:cb,merge:ca,pick:kn,pushUnique:_j,relativeLength:Cj,stableSort:Ej,syncTimeout:Mj}=Ke;class gv{constructor(i,o){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=i,this.setOptions(o),o.enabled&&(this.render(),ab(this,o),af(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),af(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(i){let o=kn(i.padding,8);this.options=i,this.chart.styledMode||(this.itemStyle=i.itemStyle,this.itemHiddenStyle=ca(this.itemStyle,i.itemHiddenStyle)),this.itemMarginTop=i.itemMarginTop,this.itemMarginBottom=i.itemMarginBottom,this.padding=o,this.initialItemY=o-5,this.symbolWidth=kn(i.symbolWidth,16),this.pages=[],this.proximate=i.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(i,o){let l=this.chart;this.setOptions(ca(!0,this.options,i)),"events"in this.options&&ab(this,this.options),this.destroy(),l.isDirtyLegend=l.isDirtyBox=!0,kn(o,!0)&&l.redraw(),ys(this,"afterUpdate",{redraw:o})}colorizeItem(i,o){var x;let l=i.color,{area:d,group:h,label:u,line:g,symbol:m}=i.legendItem||{};if((i instanceof ki||i instanceof Z)&&(i.color=((x=i.options)==null?void 0:x.legendSymbolColor)||l),h==null||h[o?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:_={}}=this,b=_.color,{fillColor:C,fillOpacity:T,lineColor:R,marker:F}=i.options,$=B=>(!o&&(B.fill&&(B.fill=b),B.stroke&&(B.stroke=b)),B);u==null||u.css(ca(o?this.itemStyle:_)),g==null||g.attr($({stroke:R||i.color})),m&&m.attr($(F&&m.isMarker?i.pointAttribs():{fill:i.color})),d==null||d.attr($({fill:C||i.color,"fill-opacity":C?1:T??.75}))}i.color=l,ys(this,"afterColorizeItem",{item:i,visible:o})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(i){let{group:o,x:l=0,y:d=0}=i.legendItem||{},h=this.options,u=h.symbolPadding,g=!h.rtl,m=i.checkbox;if(o!=null&&o.element){let x={translateX:g?l:this.legendWidth-l-2*u-4,translateY:d};o[pv(o.translateY)?"animate":"attr"](x,void 0,()=>{ys(this,"afterPositionItem",{item:i})})}m&&(m.x=l,m.y=d)}destroyItem(i){let o=i.legendItem||{};for(let l of["group","label","line","symbol"])o[l]&&(o[l]=o[l].destroy());i.checkbox=Sj(i.checkbox),i.legendItem=void 0}destroy(){for(let i of this.getAllItems())this.destroyItem(i);for(let i of["clipRect","up","down","pager","nav","box","title","group"])this[i]&&(this[i]=this[i].destroy());this.display=null}positionCheckboxes(){var h;let i,o=(h=this.group)==null?void 0:h.alignAttr,l=this.clipHeight||this.legendHeight,d=this.titleHeight;o&&(i=o.translateY,this.allItems.forEach(function(u){let g,m=u.checkbox;m&&(g=i+d+m.y+(this.scrollOffset||0)+3,bj(m,{left:o.translateX+u.checkboxOffset+m.x-20+"px",top:g+"px",display:this.proximate||g>i-6&&g<i+l-6?"":"none"}))},this))}renderTitle(){let i=this.options,o=this.padding,l=i.title,d,h=0;l.text&&(this.title||(this.title=this.chart.renderer.label(l.text,o-3,o-4,void 0,void 0,void 0,i.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(l.style),this.title.add(this.group)),l.width||this.title.css({width:this.maxLegendWidth+"px"}),h=(d=this.title.getBBox()).height,this.offsetWidth=d.width,this.contentGroup.attr({translateY:h})),this.titleHeight=h}setText(i){let o=this.options;i.legendItem.label.attr({text:o.labelFormat?yj(o.labelFormat,i,this.chart):o.labelFormatter.call(i)})}renderItem(i){var ye;let o=i.legendItem=i.legendItem||{},l=this.chart,d=l.renderer,h=this.options,u=h.layout==="horizontal",g=this.symbolWidth,m=h.symbolPadding||0,x=this.itemStyle,_=this.itemHiddenStyle,b=u?kn(h.itemDistance,20):0,C=!h.rtl,T=!i.series,R=!T&&i.series.drawLegendSymbol?i.series:i,F=R.options,$=!!this.createCheckboxForItem&&F&&F.showCheckbox,B=h.useHTML,G=i.options.className,X=o.label,fe=g+m+b+20*!!$;!X&&(o.group=d.g("legend-item").addClass("highcharts-"+R.type+"-series highcharts-color-"+i.colorIndex+(G?" "+G:"")+(T?" highcharts-series-"+i.index:"")).attr({zIndex:1}).add(this.scrollGroup),o.label=X=d.text("",C?g+m:-m,this.baseline||0,B),l.styledMode||X.css(ca(i.visible?x:_)),X.attr({align:C?"left":"right",zIndex:2}).add(o.group),!this.baseline&&(this.fontMetrics=d.fontMetrics(X),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,X.attr("y",this.baseline),this.symbolHeight=kn(h.symbolHeight,this.fontMetrics.f),h.squareSymbol&&(this.symbolWidth=kn(h.symbolWidth,Math.max(this.symbolHeight,16)),fe=this.symbolWidth+m+b+20*!!$,C&&X.attr("x",this.symbolWidth+m))),R.drawLegendSymbol(this,i),this.setItemEvents&&this.setItemEvents(i,X,B)),$&&!i.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(i),this.colorizeItem(i,i.visible),(l.styledMode||!x.width)&&X.css({width:(h.itemWidth||this.widthOption||l.spacingBox.width)-fe+"px"}),this.setText(i);let de=X.getBBox(),ue=((ye=this.fontMetrics)==null?void 0:ye.h)||0;i.itemWidth=i.checkboxOffset=h.itemWidth||o.labelWidth||de.width+fe,this.maxItemWidth=Math.max(this.maxItemWidth,i.itemWidth),this.totalItemWidth+=i.itemWidth,this.itemHeight=i.itemHeight=Math.round(o.labelHeight||(de.height>1.5*ue?de.height:ue))}layoutItem(i){let o=this.options,l=this.padding,d=o.layout==="horizontal",h=i.itemHeight,u=this.itemMarginBottom,g=this.itemMarginTop,m=d?kn(o.itemDistance,20):0,x=this.maxLegendWidth,_=o.alignColumns&&this.totalItemWidth>x?this.maxItemWidth:i.itemWidth,b=i.legendItem||{};d&&this.itemX-l+_>x&&(this.itemX=l,this.lastLineHeight&&(this.itemY+=g+this.lastLineHeight+u),this.lastLineHeight=0),this.lastItemY=g+this.itemY+u,this.lastLineHeight=Math.max(h,this.lastLineHeight),b.x=this.itemX,b.y=this.itemY,d?this.itemX+=_:(this.itemY+=g+h+u,this.lastLineHeight=h),this.offsetWidth=this.widthOption||Math.max((d?this.itemX-l-(i.checkbox?0:m):_)+l,this.offsetWidth)}getAllItems(){let i=[];return this.chart.series.forEach(function(o){var d;let l=o==null?void 0:o.options;o&&kn(l.showInLegend,!pv(l.linkedTo)&&void 0,!0)&&(i=i.concat(((d=o.legendItem)==null?void 0:d.labels)||(l.legendType==="point"?o.data:o)))}),ys(this,"afterGetAllItems",{allItems:i}),i}getAlignment(){let i=this.options;return this.proximate?i.align.charAt(0)+"tv":i.floating?"":i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0)}adjustMargins(i,o){let l=this.chart,d=this.options,h=this.getAlignment();h&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((u,g)=>{u.test(h)&&!pv(i[g])&&(l[lb[g]]=Math.max(l[lb[g]],l.legend[(g+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][g]*d[g%2?"x":"y"]+(d.margin??12)+o[g]+(l.titleOffset[g]||0)))})}proximatePositions(){let i,o=this.chart,l=[],d=this.options.align==="left";for(let h of(this.allItems.forEach(function(u){let g,m,x=d,_,b;u.yAxis&&(u.xAxis.options.reversed&&(x=!x),u.points&&(g=kj(x?u.points:u.points.slice(0).reverse(),function(C){return cb(C.plotY)})),m=this.itemMarginTop+u.legendItem.label.getBBox().height+this.itemMarginBottom,b=u.yAxis.top-o.plotTop,_=u.visible?(g?g.plotY:u.yAxis.height)+(b-.3*m):b+u.yAxis.height,l.push({target:_,size:m,item:u}))},this),xj(l,o.plotHeight)))i=h.item.legendItem||{},cb(h.pos)&&(i.y=o.plotTop-o.spacing[0]+h.pos)}render(){let i=this.chart,o=i.renderer,l=this.options,d=this.padding,h=this.getAllItems(),u,g,m,x=this.group,_,b=this.box;this.itemX=d,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Cj(l.width,i.spacingBox.width-d),_=i.spacingBox.width-2*d-l.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(_/=2),this.maxLegendWidth=this.widthOption||_,x||(this.group=x=o.g("legend").addClass(l.className||"").attr({zIndex:7}).add(),this.contentGroup=o.g().attr({zIndex:1}).add(x),this.scrollGroup=o.g().add(this.contentGroup)),this.renderTitle(),Ej(h,(C,T)=>{var R,F;return(((R=C.options)==null?void 0:R.legendIndex)||0)-(((F=T.options)==null?void 0:F.legendIndex)||0)}),l.reversed&&h.reverse(),this.allItems=h,this.display=u=!!h.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,h.forEach(this.renderItem,this),h.forEach(this.layoutItem,this),g=(this.widthOption||this.offsetWidth)+d,m=this.lastItemY+this.lastLineHeight+this.titleHeight,m=this.handleOverflow(m)+d,b||(this.box=b=o.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(x)),i.styledMode||b.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),g>0&&m>0&&b[b.placed?"animate":"attr"](b.crisp.call({},{x:0,y:0,width:g,height:m},b.strokeWidth())),x[u?"show":"hide"](),i.styledMode&&x.getStyle("display")==="none"&&(g=m=0),this.legendWidth=g,this.legendHeight=m,u&&this.align(),this.proximate||this.positionItems(),ys(this,"afterRender")}align(i=this.chart.spacingBox){let o=this.chart,l=this.options,d=i.y;/(lth|ct|rth)/.test(this.getAlignment())&&o.titleOffset[0]>0?d+=o.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&o.titleOffset[2]>0&&(d-=o.titleOffset[2]),d!==i.y&&(i=ca(i,{y:d})),o.hasRendered||(this.group.placed=!1),this.group.align(ca(l,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,i)}handleOverflow(i){let o=this,l=this.chart,d=l.renderer,h=this.options,u=h.y,g=h.verticalAlign==="top",m=this.padding,x=h.maxHeight,_=h.navigation,b=kn(_.animation,!0),C=_.arrowSize||12,T=this.pages,R=this.allItems,F=function(ge){typeof ge=="number"?ye.attr({height:ge}):ye&&(o.clipRect=ye.destroy(),o.contentGroup.clip()),o.contentGroup.div&&(o.contentGroup.div.style.clip=ge?"rect("+m+"px,9999px,"+(m+ge)+"px,0)":"auto")},$=function(ge){return o[ge]=d.circle(0,0,1.3*C).translate(C/2,C/2).add(ue),l.styledMode||o[ge].attr("fill","rgba(0,0,0,0.0001)"),o[ge]},B,G,X,fe,de=l.spacingBox.height+(g?-u:u)-m,ue=this.nav,ye=this.clipRect;return h.layout!=="horizontal"||h.verticalAlign==="middle"||h.floating||(de/=2),x&&(de=Math.min(de,x)),T.length=0,i&&de>0&&i>de&&_.enabled!==!1?(this.clipHeight=B=Math.max(de-20-this.titleHeight-m,0),this.currentPage=kn(this.currentPage,1),this.fullHeight=i,R.forEach((ge,xe)=>{let Ae=(X=ge.legendItem||{}).y||0,Pe=Math.round(X.label.getBBox().height),Fe=T.length;(!Fe||Ae-T[Fe-1]>B&&(G||Ae)!==T[Fe-1])&&(T.push(G||Ae),Fe++),X.pageIx=Fe-1,G&&fe&&(fe.pageIx=Fe-1),xe===R.length-1&&Ae+Pe-T[Fe-1]>B&&Ae>T[Fe-1]&&(T.push(Ae),X.pageIx=Fe),Ae!==G&&(G=Ae),fe=X}),ye||(ye=o.clipRect=d.clipRect(0,m-2,9999,0),o.contentGroup.clip(ye)),F(B),ue||(this.nav=ue=d.g().attr({zIndex:1}).add(this.group),this.up=d.symbol("triangle",0,0,C,C).add(ue),$("upTracker").on("click",function(){o.scroll(-1,b)}),this.pager=d.text("",15,10).addClass("highcharts-legend-navigation"),!l.styledMode&&_.style&&this.pager.css(_.style),this.pager.add(ue),this.down=d.symbol("triangle-down",0,0,C,C).add(ue),$("downTracker").on("click",function(){o.scroll(1,b)})),o.scroll(0),i=de):ue&&(F(),this.nav=ue.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),i}scroll(i,o){let l=this.chart,d=this.pages,h=d.length,u=this.clipHeight,g=this.options.navigation,m=this.pager,x=this.padding,_=this.currentPage+i;_>h&&(_=h),_>0&&(o!==void 0&&mj(o,l),this.nav.attr({translateX:x,translateY:u+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(b){b.attr({class:_===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),m.attr({text:_+"/"+h}),[this.down,this.downTracker].forEach(function(b){b.attr({x:18+this.pager.getBBox().width,class:_===h?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),l.styledMode||(this.up.attr({fill:_===1?g.inactiveColor:g.activeColor}),this.upTracker.css({cursor:_===1?"default":"pointer"}),this.down.attr({fill:_===h?g.inactiveColor:g.activeColor}),this.downTracker.css({cursor:_===h?"default":"pointer"})),this.scrollOffset=-d[_-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=_,this.positionCheckboxes(),Mj(()=>{ys(this,"afterScroll",{currentPage:_})},gj(kn(o,l.renderer.globalAnimation,!0)).duration))}setItemEvents(i,o,l){let d=this,h=i.legendItem||{},u=d.chart.renderer.boxWrapper,g=i instanceof Z,m=i instanceof ki,x="highcharts-legend-"+(g?"point":"series")+"-active",_=d.chart.styledMode,b=l?[o,h.symbol]:[h.group],C=T=>{d.allItems.forEach(R=>{i!==R&&[R].concat(R.linkedSeries||[]).forEach(F=>{F.setState(T,!g)})})};for(let T of b)T&&T.on("mouseover",function(){i.visible&&C("inactive"),i.setState("hover"),i.visible&&u.addClass(x),_||o.css(d.options.itemHoverStyle)}).on("mouseout",function(){d.chart.styledMode||o.css(ca(i.visible?d.itemStyle:d.itemHiddenStyle)),C(""),u.removeClass(x),i.setState()}).on("click",function(R){let F=function(){i.setVisible&&i.setVisible(),C(i.visible?"inactive":"")};u.removeClass(x),ys(d,"itemClick",{browserEvent:R,legendItem:i},F),g?i.firePointEvent("legendItemClick",{browserEvent:R}):m&&ys(i,"legendItemClick",{browserEvent:R})})}createCheckboxForItem(i){i.checkbox=wj("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:i.selected,defaultChecked:i.selected},this.options.itemCheckboxStyle,this.chart.container),af(i.checkbox,"click",function(o){let l=o.target;ys(i.series||i,"checkboxClick",{checked:l.checked,item:i},function(){i.select()})})}}(function(y){y.compose=function(i){_j(vj,"Core.Legend")&&af(i,"beforeMargins",function(){this.legend=new y(this,this.options.legend)})}})(gv||(gv={}));let db=gv,{animate:mv,animObject:Tj,setAnimation:vv}=jr,{defaultOptions:xv}=Oi,{numberFormat:Aj}=ar,{registerEventOptions:hb}=ml,{charts:da,doc:yd,marginNames:ub,svg:jj,win:fb}=J,{seriesTypes:yv}=lr,{addEvent:wv,attr:pb,createElement:bv,css:_n,defined:oo,diffObjects:gb,discardElement:Pj,erase:Nj,error:Sv,extend:ao,find:kv,fireEvent:Ot,getAlignFactor:Oj,getStyle:_v,isArray:Rj,isNumber:Al,isObject:Lj,isString:lf,merge:Yn,objectEach:Cv,pick:fi,pInt:Ij,relativeLength:mb,removeEvent:vb,splat:cf,syncTimeout:Dj,uniqueKey:Bj}=Ke;class lo{static chart(i,o,l){return new lo(i,o,l)}constructor(i,o,l){this.sharedClips={};let d=[...arguments];(lf(i)||i.nodeName)&&(this.renderTo=d.shift()),this.init(d[0],d[1])}setZoomOptions(){let i=this.options.chart,o=i.zooming;this.zooming={...o,type:fi(i.zoomType,o.type),key:fi(i.zoomKey,o.key),pinchType:fi(i.pinchType,o.pinchType),singleTouch:fi(i.zoomBySingleTouch,o.singleTouch,!1),resetButton:Yn(o.resetButton,i.resetZoomButton)}}init(i,o){Ot(this,"init",{args:arguments},function(){var u;let l=Yn(xv,i),d=l.chart,h=this.renderTo||d.renderTo;this.userOptions=ao({},i),(this.renderTo=lf(h)?yd.getElementById(h):h)||Sv(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=o,this.isResizing=0,this.options=l,this.axes=[],this.series=[],this.locale=l.lang.locale??((u=this.renderTo.closest("[lang]"))==null?void 0:u.lang),this.time=new Hc(ao(l.time||{},{locale:this.locale}),l.lang),l.time=this.time.options,this.numberFormatter=(d.numberFormatter||Aj).bind(this),this.styledMode=d.styledMode,this.hasCartesianSeries=d.showAxes,this.index=da.length,da.push(this),J.chartCount++,hb(this,d),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Ot(this,"afterInit"),this.firstRender()})}initSeries(i){let o=this.options.chart,l=i.type||o.type,d=yv[l];d||Sv(17,!0,this,{missingModuleFor:l});let h=new d;return typeof h.init=="function"&&h.init(this,i),h}setSortedData(){this.getSeriesOrderByLinks().forEach(function(i){i.points||i.data||!i.enabledDataSorting||i.setData(i.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(i,o){return i.linkedSeries.length||o.linkedSeries.length?o.linkedSeries.length-i.linkedSeries.length:0})}orderItems(i,o=0){let l=this[i],d=this.options[i]=cf(this.options[i]).slice(),h=this.userOptions[i]=this.userOptions[i]?cf(this.userOptions[i]).slice():[];if(this.hasRendered&&(d.splice(o),h.splice(o)),l)for(let u=o,g=l.length;u<g;++u){let m=l[u];m&&(m.index=u,m instanceof ki&&(m.name=m.getName()),m.options.isInternal||(d[u]=m.options,h[u]=m.userOptions))}}getClipBox(i,o){var _,b;let l=this.inverted,{xAxis:d,yAxis:h}=i||{},{x:u,y:g,width:m,height:x}=Yn(this.clipBox);return i&&(d&&d.len!==this.plotSizeX&&(m=d.len),h&&h.len!==this.plotSizeY&&(x=h.len),l&&!i.invertible&&([m,x]=[x,m])),o&&(u+=((_=l?h:d)==null?void 0:_.pos)??this.plotLeft,g+=((b=l?d:h)==null?void 0:b.pos)??this.plotTop),{x:u,y:g,width:m,height:x}}isInsidePlot(i,o,l={}){var $;let{inverted:d,plotBox:h,plotLeft:u,plotTop:g,scrollablePlotBox:m}=this,{scrollLeft:x=0,scrollTop:_=0}=l.visiblePlotOnly&&(($=this.scrollablePlotArea)==null?void 0:$.scrollingContainer)||{},b=l.series,C=l.visiblePlotOnly&&m||h,T=l.inverted?o:i,R=l.inverted?i:o,F={x:T,y:R,isInsidePlot:!0,options:l};if(!l.ignoreX){let B=b&&(d&&!this.polar?b.yAxis:b.xAxis)||{pos:u,len:1/0},G=l.paneCoordinates?B.pos+T:u+T;G>=Math.max(x+u,B.pos)&&G<=Math.min(x+u+C.width,B.pos+B.len)||(F.isInsidePlot=!1)}if(!l.ignoreY&&F.isInsidePlot){let B=!d&&l.axis&&!l.axis.isXAxis&&l.axis||b&&(d?b.xAxis:b.yAxis)||{pos:g,len:1/0},G=l.paneCoordinates?B.pos+R:g+R;G>=Math.max(_+g,B.pos)&&G<=Math.min(_+g+C.height,B.pos+B.len)||(F.isInsidePlot=!1)}return Ot(this,"afterIsInsidePlot",F),F.isInsidePlot}redraw(i){Ot(this,"beforeRedraw");let o=this.hasCartesianSeries?this.axes:this.colorAxis||[],l=this.series,d=this.pointer,h=this.legend,u=this.userOptions.legend,g=this.renderer,m=g.isHidden(),x=[],_,b,C,T=this.isDirtyBox,R=this.isDirtyLegend,F;for(g.rootFontSize=g.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),vv(!!this.hasRendered&&i,this),m&&this.temporaryDisplay(),this.layOutTitles(!1),C=l.length;C--;)if(((F=l[C]).options.stacking||F.options.centerInCategory)&&(b=!0,F.isDirty)){_=!0;break}if(_)for(C=l.length;C--;)(F=l[C]).options.stacking&&(F.isDirty=!0);l.forEach(function($){$.isDirty&&($.options.legendType==="point"?(typeof $.updateTotals=="function"&&$.updateTotals(),R=!0):u&&(u.labelFormatter||u.labelFormat)&&(R=!0)),$.isDirtyData&&Ot($,"updatedData")}),R&&h&&h.options.enabled&&(h.render(),this.isDirtyLegend=!1),b&&this.getStacks(),o.forEach(function($){$.updateNames(),$.setScale()}),this.getMargins(),o.forEach(function($){$.isDirty&&(T=!0)}),o.forEach(function($){let B=$.min+","+$.max;$.extKey!==B&&($.extKey=B,x.push(function(){Ot($,"afterSetExtremes",ao($.eventArgs,$.getExtremes())),delete $.eventArgs})),(T||b)&&$.redraw()}),T&&this.drawChartBox(),Ot(this,"predraw"),l.forEach(function($){(T||$.isDirty)&&$.visible&&$.redraw(),$.isDirtyData=!1}),d&&d.reset(!0),g.draw(),Ot(this,"redraw"),Ot(this,"render"),m&&this.temporaryDisplay(!0),x.forEach(function($){$.call()})}get(i){let o=this.series;function l(h){return h.id===i||h.options&&h.options.id===i}let d=kv(this.axes,l)||kv(this.series,l);for(let h=0;!d&&h<o.length;h++)d=kv(o[h].points||[],l);return d}createAxes(){let i=this.userOptions;for(let o of(Ot(this,"createAxes"),["xAxis","yAxis"]))for(let l of i[o]=cf(i[o]||{}))new xs(this,l,o);Ot(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((i,o)=>(o.getPointsCollection().forEach(l=>{fi(l.selectedStaging,l.selected)&&i.push(l)}),i),[])}getSelectedSeries(){return this.series.filter(i=>i.selected)}setTitle(i,o,l){this.applyDescription("title",i),this.applyDescription("subtitle",o),this.applyDescription("caption",void 0),this.layOutTitles(l)}applyDescription(i,o){var u;let l=this,d=this.options[i]=Yn(this.options[i],o),h=this[i];h&&o&&(this[i]=h=h.destroy()),d&&!h&&((h=this.renderer.text(d.text,0,0,d.useHTML).attr({align:d.align,class:"highcharts-"+i,zIndex:d.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(g,m){l.applyDescription(i,g),l.layOutTitles(m)},this.styledMode||h.css(ao(i==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},d.style)),h.textPxLength=h.getBBox().width,h.css({whiteSpace:(u=d.style)==null?void 0:u.whiteSpace}),this[i]=h)}layOutTitles(i=!0){var g,m,x,_;let o=[0,0,0],{options:l,renderer:d,spacingBox:h}=this;["title","subtitle","caption"].forEach(b=>{var $;let C=this[b],T=this.options[b],R=Yn(h),F=(C==null?void 0:C.textPxLength)||0;if(C&&T){Ot(this,"layOutTitle",{alignTo:R,key:b,textPxLength:F});let B=d.fontMetrics(C),G=B.b,X=B.h,fe=T.verticalAlign||"top",de=fe==="top",ue=de&&T.minScale||1,ye=b==="title"?de?-3:0:de?o[0]+2:0,ge=Math.min(R.width/F,1),xe=Math.max(ue,ge),Ae=Yn({y:fe==="bottom"?G:ye+G},{align:b==="title"?ge<ue?"left":"center":($=this.title)==null?void 0:$.alignValue},T),Pe=(T.width||(ge>ue?this.chartWidth:R.width)/xe)+"px";C.alignValue!==Ae.align&&(C.placed=!1);let Fe=Math.round(C.css({width:Pe}).getBBox(T.useHTML).height);if(Ae.height=Fe,C.align(Ae,!1,R).attr({align:Ae.align,scaleX:xe,scaleY:xe,"transform-origin":`${R.x+F*xe*Oj(Ae.align)} ${X}`}),!T.floating){let Ge=Fe*(Fe<1.2*X?1:xe);fe==="top"?o[0]=Math.ceil(o[0]+Ge):fe==="bottom"&&(o[2]=Math.ceil(o[2]+Ge))}}},this),o[0]&&(((g=l.title)==null?void 0:g.verticalAlign)||"top")==="top"&&(o[0]+=((m=l.title)==null?void 0:m.margin)||0),o[2]&&((x=l.caption)==null?void 0:x.verticalAlign)==="bottom"&&(o[2]+=((_=l.caption)==null?void 0:_.margin)||0);let u=!this.titleOffset||this.titleOffset.join(",")!==o.join(",");this.titleOffset=o,Ot(this,"afterLayOutTitles"),!this.isDirtyBox&&u&&(this.isDirtyBox=this.isDirtyLegend=u,this.hasRendered&&i&&this.isDirtyBox&&this.redraw())}getContainerBox(){let i=[].map.call(this.renderTo.children,l=>{if(l!==this.container){let d=l.style.display;return l.style.display="none",[l,d]}}),o={width:_v(this.renderTo,"width",!0)||0,height:_v(this.renderTo,"height",!0)||0};return i.filter(Boolean).forEach(([l,d])=>{l.style.display=d}),o}getChartSize(){var u;let i=this.options.chart,o=i.width,l=i.height,d=this.getContainerBox(),h=d.height<=1||!((u=this.renderTo.parentElement)!=null&&u.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,o||d.width||600),this.chartHeight=Math.max(0,mb(l,this.chartWidth)||(h?400:d.height)),this.containerBox=d}temporaryDisplay(i){let o=this.renderTo,l;if(i)for(;o!=null&&o.style;)o.hcOrigStyle&&(_n(o,o.hcOrigStyle),delete o.hcOrigStyle),o.hcOrigDetached&&(yd.body.removeChild(o),o.hcOrigDetached=!1),o=o.parentNode;else for(;o!=null&&o.style&&(yd.body.contains(o)||o.parentNode||(o.hcOrigDetached=!0,yd.body.appendChild(o)),(_v(o,"display",!1)==="none"||o.hcOricDetached)&&(o.hcOrigStyle={display:o.style.display,height:o.style.height,overflow:o.style.overflow},l={display:"block",overflow:"hidden"},o!==this.renderTo&&(l.height=0),_n(o,l),o.offsetWidth||o.style.setProperty("display","block","important")),(o=o.parentNode)!==yd.body););}setClassName(i){this.container.className="highcharts-container "+(i||"")}getContainer(){var C,T;let i,o=this.options,l=o.chart,d="data-highcharts-chart",h=Bj(),u=this.renderTo,g=Ij(pb(u,d));Al(g)&&da[g]&&da[g].hasRendered&&da[g].destroy(),pb(u,d,this.index),u.innerHTML=Ut.emptyHTML,l.skipClone||u.offsetWidth||this.temporaryDisplay(),this.getChartSize();let m=this.chartHeight,x=this.chartWidth;_n(u,{overflow:"hidden"}),this.styledMode||(i=ao({position:"relative",overflow:"hidden",width:x+"px",height:m+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},l.style||{}));let _=bv("div",{id:h},i,u);this.container=_,this.getChartSize(),x!==this.chartWidth&&(x=this.chartWidth,this.styledMode||_n(_,{width:fi((C=l.style)==null?void 0:C.width,x+"px")})),this.containerBox=this.getContainerBox(),this._cursor=_.style.cursor;let b=l.renderer||!jj?qi.getRendererType(l.renderer):pl;if(this.renderer=new b(_,x,m,void 0,l.forExport,(T=o.exporting)==null?void 0:T.allowHTML,this.styledMode),vv(void 0,this),this.setClassName(l.className),this.styledMode)for(let R in o.defs)this.renderer.definition(o.defs[R]);else this.renderer.setStyle(l.style);this.renderer.chartIndex=this.index,Ot(this,"afterGetContainer")}getMargins(i){var h;let{spacing:o,margin:l,titleOffset:d}=this;this.resetMargins(),d[0]&&!oo(l[0])&&(this.plotTop=Math.max(this.plotTop,d[0]+o[0])),d[2]&&!oo(l[2])&&(this.marginBottom=Math.max(this.marginBottom,d[2]+o[2])),(h=this.legend)!=null&&h.display&&this.legend.adjustMargins(l,o),Ot(this,"getMargins"),i||this.getAxisMargins()}getAxisMargins(){let i=this,o=i.axisOffset=[0,0,0,0],l=i.colorAxis,d=i.margin,h=u=>{u.forEach(g=>{g.visible&&g.getOffset()})};i.hasCartesianSeries?h(i.axes):l!=null&&l.length&&h(l),ub.forEach((u,g)=>{oo(d[g])||(i[u]+=o[g])}),i.setChartSize()}getOptions(){return gb(this.userOptions,xv)}reflow(i){var h,u;let o=this,l=o.containerBox,d=o.getContainerBox();(h=o.pointer)==null||delete h.chartPosition,!((u=o.exporting)!=null&&u.isPrinting)&&!o.isResizing&&l&&d.width&&((d.width!==l.width||d.height!==l.height)&&(Ke.clearTimeout(o.reflowTimeout),o.reflowTimeout=Dj(function(){o.container&&o.setSize(void 0,void 0,!1)},100*!!i)),o.containerBox=d)}setReflow(){let i=this,o=l=>{var d;(d=i.options)!=null&&d.chart.reflow&&i.hasLoaded&&i.reflow(l)};if(typeof ResizeObserver=="function")new ResizeObserver(o).observe(i.renderTo);else{let l=wv(fb,"resize",o);wv(this,"destroy",l)}}setSize(i,o,l){let d=this,h=d.renderer;d.isResizing+=1,vv(l,d);let u=h.globalAnimation;d.oldChartHeight=d.chartHeight,d.oldChartWidth=d.chartWidth,i!==void 0&&(d.options.chart.width=i),o!==void 0&&(d.options.chart.height=o),d.getChartSize();let{chartWidth:g,chartHeight:m,scrollablePixelsX:x=0,scrollablePixelsY:_=0}=d;(d.isDirtyBox||g!==d.oldChartWidth||m!==d.oldChartHeight)&&(d.styledMode||(u?mv:_n)(d.container,{width:`${g+x}px`,height:`${m+_}px`},u),d.setChartSize(!0),h.setSize(g,m,u),d.axes.forEach(function(b){b.isDirty=!0,b.setScale()}),d.isDirtyLegend=!0,d.isDirtyBox=!0,d.layOutTitles(),d.getMargins(),d.redraw(u),d.oldChartHeight=void 0,Ot(d,"resize"),setTimeout(()=>{d&&Ot(d,"endResize")},Tj(u).duration)),d.isResizing-=1}setChartSize(i){let o,l,d,h,{chartHeight:u,chartWidth:g,inverted:m,spacing:x,renderer:_}=this,b=this.clipOffset,C=Math[m?"floor":"round"];this.plotLeft=o=Math.round(this.plotLeft),this.plotTop=l=Math.round(this.plotTop),this.plotWidth=d=Math.max(0,Math.round(g-o-(this.marginRight??0))),this.plotHeight=h=Math.max(0,Math.round(u-l-(this.marginBottom??0))),this.plotSizeX=m?h:d,this.plotSizeY=m?d:h,this.spacingBox=_.spacingBox={x:x[3],y:x[0],width:g-x[3]-x[1],height:u-x[0]-x[2]},this.plotBox=_.plotBox={x:o,y:l,width:d,height:h},b&&(this.clipBox={x:C(b[3]),y:C(b[0]),width:C(this.plotSizeX-b[1]-b[3]),height:C(this.plotSizeY-b[0]-b[2])}),i||(this.axes.forEach(function(T){T.setAxisSize(),T.setAxisTranslation()}),_.alignElements()),Ot(this,"afterSetChartSize",{skipAxes:i})}resetMargins(){Ot(this,"resetMargins");let i=this,o=i.options.chart,l=o.plotBorderWidth||0,d=Math.round(l)/2;["margin","spacing"].forEach(h=>{let u=o[h],g=Lj(u)?u:[u,u,u,u];["Top","Right","Bottom","Left"].forEach((m,x)=>{i[h][x]=o[`${h}${m}`]??g[x]})}),ub.forEach((h,u)=>{i[h]=i.margin[u]??i.spacing[u]}),i.axisOffset=[0,0,0,0],i.clipOffset=[d,d,d,d],i.plotBorderWidth=l}drawChartBox(){let i=this.options.chart,o=this.renderer,l=this.chartWidth,d=this.chartHeight,h=this.styledMode,u=this.plotBGImage,g=i.backgroundColor,m=i.plotBackgroundColor,x=i.plotBackgroundImage,_=this.plotLeft,b=this.plotTop,C=this.plotWidth,T=this.plotHeight,R=this.plotBox,F=this.clipRect,$=this.clipBox,B=this.chartBackground,G=this.plotBackground,X=this.plotBorder,fe,de,ue,ye="animate";B||(this.chartBackground=B=o.rect().addClass("highcharts-background").add(),ye="attr"),h?fe=de=B.strokeWidth():(de=(fe=i.borderWidth||0)+8*!!i.shadow,ue={fill:g||"none"},(fe||B["stroke-width"])&&(ue.stroke=i.borderColor,ue["stroke-width"]=fe),B.attr(ue).shadow(i.shadow)),B[ye]({x:de/2,y:de/2,width:l-de-fe%2,height:d-de-fe%2,r:i.borderRadius}),ye="animate",G||(ye="attr",this.plotBackground=G=o.rect().addClass("highcharts-plot-background").add()),G[ye](R),!h&&(G.attr({fill:m||"none"}).shadow(i.plotShadow),x&&(u?(x!==u.attr("href")&&u.attr("href",x),u.animate(R)):this.plotBGImage=o.image(x,_,b,C,T).add())),F?F.animate({width:$.width,height:$.height}):this.clipRect=o.clipRect($),ye="animate",X||(ye="attr",this.plotBorder=X=o.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),h||X.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),X[ye](X.crisp(R,-X.strokeWidth())),this.isDirtyBox=!1,Ot(this,"afterDrawChartBox")}propFromSeries(){let i,o,l,d=this,h=d.options.chart,u=d.options.series;["inverted","angular","polar"].forEach(function(g){for(o=yv[h.type],l=h[g]||o&&o.prototype[g],i=u==null?void 0:u.length;!l&&i--;)(o=yv[u[i].type])&&o.prototype[g]&&(l=!0);d[g]=l})}linkSeries(i){let o=this,l=o.series;l.forEach(function(d){d.linkedSeries.length=0}),l.forEach(function(d){let{linkedTo:h}=d.options;if(lf(h)){let u;(u=h===":previous"?o.series[d.index-1]:o.get(h))&&u.linkedParent!==d&&(u.linkedSeries.push(d),d.linkedParent=u,u.enabledDataSorting&&d.setDataSortingOptions(),d.visible=fi(d.options.visible,u.options.visible,d.visible))}}),Ot(this,"afterLinkSeries",{isUpdating:i})}renderSeries(){this.series.forEach(function(i){i.translate(),i.render()})}render(){var _;let i=this.axes,o=this.colorAxis,l=this.renderer,d=this.options.chart.axisLayoutRuns||2,h=b=>{b.forEach(C=>{C.visible&&C.render()})},u=0,g=!0,m,x=0;for(let b of(this.setTitle(),Ot(this,"beforeMargins"),(_=this.getStacks)==null||_.call(this),this.getMargins(!0),this.setChartSize(),i)){let{options:C}=b,{labels:T}=C;if(this.hasCartesianSeries&&b.horiz&&b.visible&&T.enabled&&b.series.length&&b.coll!=="colorAxis"&&!this.polar){u=C.tickLength,b.createGroups();let R=new eo(b,0,"",!0),F=R.createLabel("x",T);if(R.destroy(),F&&fi(T.reserveSpace,!Al(C.crossing))&&(u=F.getBBox().height+T.distance+Math.max(C.offset||0,0)),u){F==null||F.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-u,0);(g||m||d>1)&&x<d;){let b=this.plotWidth,C=this.plotHeight;for(let T of i)x===0?T.setScale():(T.horiz&&g||!T.horiz&&m)&&T.setTickInterval(!0);x===0?this.getAxisMargins():this.getMargins(),g=b/this.plotWidth>(x?1:1.1),m=C/this.plotHeight>(x?1:1.05),x++}this.drawChartBox(),this.hasCartesianSeries?h(i):o!=null&&o.length&&h(o),this.seriesGroup||(this.seriesGroup=l.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=l.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(i){let o=this,l=Yn(!0,this.options.credits,i);l.enabled&&!this.credits&&(this.credits=this.renderer.text(l.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){l.href&&(fb.location.href=l.href)}).attr({align:l.position.align,zIndex:8}),o.styledMode||this.credits.css(l.style),this.credits.add().align(l.position),this.credits.update=function(d){o.credits=o.credits.destroy(),o.addCredits(d)})}destroy(){var g,m;let i,o=this,l=o.axes,d=o.series,h=o.container,u=h==null?void 0:h.parentNode;for(Ot(o,"destroy"),o.renderer.forExport?Nj(da,o):da[o.index]=void 0,J.chartCount--,o.renderTo.removeAttribute("data-highcharts-chart"),vb(o),i=l.length;i--;)l[i]=l[i].destroy();for((m=(g=this.scroller)==null?void 0:g.destroy)==null||m.call(g),i=d.length;i--;)d[i]=d[i].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(x=>{var _,b;o[x]=(b=(_=o[x])==null?void 0:_.destroy)==null?void 0:b.call(_)}),h&&(h.innerHTML=Ut.emptyHTML,vb(h),u&&Pj(h)),Cv(o,function(x,_){delete o[_]})}firstRender(){var d;let i=this,o=i.options;i.getContainer(),i.resetMargins(),i.setChartSize(),i.propFromSeries(),i.createAxes();let l=Rj(o.series)?o.series:[];o.series=[],l.forEach(function(h){i.initSeries(h)}),i.linkSeries(),i.setSortedData(),Ot(i,"beforeRender"),i.render(),(d=i.pointer)==null||d.getChartPosition(),i.renderer.imgCount||i.hasLoaded||i.onload(),i.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(i){i&&this.index!==void 0&&i.apply(this,[this])},this),Ot(this,"load"),Ot(this,"render"),oo(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:i,title:o}=this;i&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((o==null?void 0:o.element.textContent)||"").replace(/</g,"&lt;")}),i.accessibility&&i.accessibility.enabled===!1||Sv('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(i,o,l){let d,h=this;return i&&(o=fi(o,!0),Ot(h,"addSeries",{options:i},function(){d=h.initSeries(i),h.isDirtyLegend=!0,h.linkSeries(),d.enabledDataSorting&&d.setData(i.data,!1),Ot(h,"afterAddSeries",{series:d}),o&&h.redraw(l)})),d}addAxis(i,o,l,d){return this.createAxis(o?"xAxis":"yAxis",{axis:i,redraw:l,animation:d})}addColorAxis(i,o,l){return this.createAxis("colorAxis",{axis:i,redraw:o,animation:l})}createAxis(i,o){let l=new xs(this,o.axis,i);return fi(o.redraw,!0)&&this.redraw(o.animation),l}showLoading(i){let o=this,l=o.options,d=l.loading,h=function(){u&&_n(u,{left:o.plotLeft+"px",top:o.plotTop+"px",width:o.plotWidth+"px",height:o.plotHeight+"px"})},u=o.loadingDiv,g=o.loadingSpan;u||(o.loadingDiv=u=bv("div",{className:"highcharts-loading highcharts-loading-hidden"},null,o.container)),g||(o.loadingSpan=g=bv("span",{className:"highcharts-loading-inner"},null,u),wv(o,"redraw",h)),u.className="highcharts-loading",Ut.setElementHTML(g,fi(i,l.lang.loading,"")),!o.styledMode&&(_n(u,ao(d.style,{zIndex:10})),_n(g,d.labelStyle),o.loadingShown||(_n(u,{opacity:0,display:""}),mv(u,{opacity:d.style.opacity||.5},{duration:d.showDuration||0}))),o.loadingShown=!0,h()}hideLoading(){let i=this.options,o=this.loadingDiv;o&&(o.className="highcharts-loading highcharts-loading-hidden",this.styledMode||mv(o,{opacity:0},{duration:i.loading.hideDuration||100,complete:function(){_n(o,{display:"none"})}})),this.loadingShown=!1}update(i,o,l,d){let h,u,g,m=this,x={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},_=i.isResponsiveOptions,b=[];Ot(m,"update",{options:i}),_||m.setResponsive(!1,!0),i=gb(i,m.options),m.userOptions=Yn(m.userOptions,i);let C=i.chart;C&&(Yn(!0,m.options.chart,C),this.setZoomOptions(),"className"in C&&m.setClassName(C.className),("inverted"in C||"polar"in C||"type"in C)&&(m.propFromSeries(),h=!0),"alignTicks"in C&&(h=!0),"events"in C&&hb(this,C),Cv(C,function(F,$){m.propsRequireUpdateSeries.indexOf("chart."+$)!==-1&&(u=!0),m.propsRequireDirtyBox.indexOf($)!==-1&&(m.isDirtyBox=!0),m.propsRequireReflow.indexOf($)!==-1&&(m.isDirtyBox=!0,_||(g=!0))}),!m.styledMode&&C.style&&m.renderer.setStyle(m.options.chart.style||{})),!m.styledMode&&i.colors&&(this.options.colors=i.colors),Cv(i,function(F,$){m[$]&&typeof m[$].update=="function"?m[$].update(F,!1):typeof m[x[$]]=="function"?m[x[$]](F):$!=="colors"&&m.collectionsWithUpdate.indexOf($)===-1&&Yn(!0,m.options[$],i[$]),$!=="chart"&&m.propsRequireUpdateSeries.indexOf($)!==-1&&(u=!0)}),this.collectionsWithUpdate.forEach(function(F){i[F]&&(cf(i[F]).forEach(function($,B){let G,X=oo($.id);X&&(G=m.get($.id)),!G&&m[F]&&(G=m[F][fi($.index,B)])&&(X&&oo(G.options.id)||G.options.isInternal)&&(G=void 0),G&&G.coll===F&&(G.update($,!1),l&&(G.touched=!0)),!G&&l&&m.collectionsWithInit[F]&&(m.collectionsWithInit[F][0].apply(m,[$].concat(m.collectionsWithInit[F][1]||[]).concat([!1])).touched=!0)}),l&&m[F].forEach(function($){$.touched||$.options.isInternal?delete $.touched:b.push($)}))}),b.forEach(function(F){F.chart&&F.remove&&F.remove(!1)}),h&&m.axes.forEach(function(F){F.update({},!1)}),u&&m.getSeriesOrderByLinks().forEach(function(F){F.chart&&F.update({},!1)},this);let T=C==null?void 0:C.width,R=C&&(lf(C.height)?mb(C.height,T||m.chartWidth):C.height);g||Al(T)&&T!==m.chartWidth||Al(R)&&R!==m.chartHeight?m.setSize(T,R,d):fi(o,!0)&&m.redraw(d),Ot(m,"afterUpdate",{options:i,redraw:o,animation:d})}setSubtitle(i,o){this.applyDescription("subtitle",i),this.layOutTitles(o)}setCaption(i,o){this.applyDescription("caption",i),this.layOutTitles(o)}showResetZoom(){let i=this,o=xv.lang,l=i.zooming.resetButton,d=l.theme,h=l.relativeTo==="chart"||l.relativeTo==="spacingBox"?null:"plotBox";function u(){i.zoomOut()}Ot(this,"beforeShowResetZoom",null,function(){i.resetZoomButton=i.renderer.button(o.resetZoom,null,null,u,d).attr({align:l.position.align,title:o.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(l.position,!1,h)}),Ot(this,"afterShowResetZoom")}zoomOut(){Ot(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(i,o){let l=this,d=typeof o=="object"?o:{enabled:o,type:"x"},h=d.type,u=h&&l[{x:"xAxis",xy:"axes",y:"yAxis"}[h]].filter(m=>m.options.panningEnabled&&!m.options.isInternal),g=l.options.chart;g!=null&&g.panning&&(g.panning=d),Ot(this,"pan",{originalEvent:i},()=>{l.transform({axes:u,event:i,to:{x:i.chartX-(l.mouseDownX||0),y:i.chartY-(l.mouseDownY||0)},trigger:"pan"}),_n(l.container,{cursor:"move"})})}transform(i){var R;let{axes:o=this.axes,event:l,from:d={},reset:h,selection:u,to:g={},trigger:m}=i,{inverted:x,time:_}=this;(R=this.hoverPoints)==null||R.forEach(F=>F.setState()),Ot(this,"transform",i);let b=i.hasZoomed||!1,C,T;for(let F of o){let{horiz:$,len:B,minPointOffset:G=0,options:X,reversed:fe}=F,de=$?"width":"height",ue=$?"x":"y",ye=fi(g[de],F.len),ge=fi(d[de],F.len),xe=10>Math.abs(ye)?1:ye/ge,Ae=(d[ue]||0)+ge/2-F.pos,Pe=Ae-((g[ue]??F.pos)+ye/2-F.pos)/xe,Fe=fe&&!x||!fe&&x?-1:1;if(!h&&(Ae<0||Ae>F.len))continue;let Ge=F.chart.polar||F.isOrdinal?0:G*Fe||0,rt=F.toValue(Pe,!0),Qe=F.toValue(Pe+B/xe,!0),lt=rt+Ge,qe=Qe-Ge,ct=F.allExtremes;if(u&&u[F.coll].push({axis:F,min:Math.min(rt,Qe),max:Math.max(rt,Qe)}),lt>qe&&([lt,qe]=[qe,lt]),xe===1&&!h&&F.coll==="yAxis"&&!ct){for(let Fr of F.series){let Vt=Fr.getExtremes(Fr.getProcessedData(!0).modified.getColumn("y")||[],!0);ct??(ct={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Al(Vt.dataMin)&&Al(Vt.dataMax)&&(ct.dataMin=Math.min(Vt.dataMin,ct.dataMin),ct.dataMax=Math.max(Vt.dataMax,ct.dataMax))}F.allExtremes=ct}let{dataMin:bt,dataMax:Tt,min:Pt,max:Yr}=ao(F.getExtremes(),ct||{}),Ct=_.parse(X.min),It=_.parse(X.max),pt=bt??Ct,ut=Tt??It,fr=qe-lt,Dt=F.categories?0:Math.min(fr,ut-pt),Ht=pt-Dt*(oo(Ct)?0:X.minPadding),Or=ut+Dt*(oo(It)?0:X.maxPadding),ws=F.allowZoomOutside||xe===1||m!=="zoom"&&xe>1,an=Math.min(Ct??Ht,Ht,ws?Pt:Ht),qr=Math.max(It??Or,Or,ws?Yr:Or);(!F.isOrdinal||xe!==1||h)&&(lt<an&&(lt=an,xe>=1&&(qe=lt+fr)),qe>qr&&(qe=qr,xe>=1&&(lt=qe-fr)),(h||F.series.length&&(lt!==Pt||qe!==Yr)&&lt>=an&&qe<=qr)&&(u?u[F.coll].push({axis:F,min:lt,max:qe}):(F.isPanning=m!=="zoom",F.isPanning&&(T=!0),F.setExtremes(h?void 0:lt,h?void 0:qe,!1,!1,{move:Pe,trigger:m,scale:xe}),!h&&(lt>an||qe<qr)&&m!=="mousewheel"&&(C=!0)),b=!0),this.hasCartesianSeries||h||m==="mousewheel"||(C=!0),l&&(this[$?"mouseDownX":"mouseDownY"]=l[$?"chartX":"chartY"]))}return b&&(u?Ot(this,"selection",u,()=>{delete i.selection,i.trigger="zoom",this.transform(i)}):(!C||T||this.resetZoomButton?!C&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(m==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),b}}ao(lo.prototype,{callbacks:[],collectionsWithInit:{xAxis:[lo.prototype.addAxis,[!0]],yAxis:[lo.prototype.addAxis,[!1]],series:[lo.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:$j}=jr,{composed:zj}=J,{addEvent:co,createElement:df,css:Ev,defined:Mv,erase:Fj,merge:xb,pushUnique:yb}=Ke;function Wj(){let y=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!y&&(this.scrollablePlotArea=y=new wd(this)),y==null||y.applyFixed()}function wb(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class wd{static compose(i,o,l){yb(zj,this.compose)&&(co(i,"afterInit",wb),co(o,"afterSetChartSize",d=>this.afterSetSize(d.target,d)),co(o,"render",Wj),co(l,"show",wb))}static afterSetSize(i,o){let l,d,h,{minWidth:u,minHeight:g}=i.options.chart.scrollablePlotArea||{},{clipBox:m,plotBox:x,inverted:_,renderer:b}=i;if(!b.forExport)if(u?(i.scrollablePixelsX=l=Math.max(0,u-i.chartWidth),l&&(i.scrollablePlotBox=xb(i.plotBox),x.width=i.plotWidth+=l,m[_?"height":"width"]+=l,h=!0)):g&&(i.scrollablePixelsY=d=Math.max(0,g-i.chartHeight),Mv(d)&&(i.scrollablePlotBox=xb(i.plotBox),x.height=i.plotHeight+=d,m[_?"width":"height"]+=d,h=!1)),Mv(h)){if(!o.skipAxes)for(let C of i.axes)(C.horiz===h||i.hasParallelCoordinates&&C.coll==="yAxis")&&(C.setAxisSize(),C.setAxisTranslation())}else delete i.scrollablePlotBox}constructor(i){var T;let o,l=i.options.chart,d=qi.getRendererType(),h=l.scrollablePlotArea||{},u=this.moveFixedElements.bind(this),g={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};i.scrollablePixelsX&&(g.overflowX="auto"),i.scrollablePixelsY&&(g.overflowY="auto"),this.chart=i;let m=this.parentDiv=df("div",{className:"highcharts-scrolling-parent"},{position:"relative"},i.renderTo),x=this.scrollingContainer=df("div",{className:"highcharts-scrolling"},g,m),_=this.innerContainer=df("div",{className:"highcharts-inner-container"},void 0,x),b=this.fixedDiv=df("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((T=l.style)==null?void 0:T.zIndex)||0)+2,top:0},void 0,!0),C=this.fixedRenderer=new d(b,i.chartWidth,i.chartHeight,l.style);this.mask=C.path().attr({fill:l.backgroundColor||"#fff","fill-opacity":h.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),x.parentNode.insertBefore(b,x),Ev(i.renderTo,{overflow:"visible"}),co(i,"afterShowResetZoom",u),co(i,"afterApplyDrilldown",u),co(i,"afterLayOutTitles",u),co(x,"scroll",()=>{let{pointer:R,hoverPoint:F}=i;R&&(delete R.chartPosition,F&&(o=F),R.runPointActions(void 0,o,!0))}),_.appendChild(i.container)}applyFixed(){var Ae;let{chart:i,fixedRenderer:o,isDirty:l,scrollingContainer:d}=this,{axisOffset:h,chartWidth:u,chartHeight:g,container:m,plotHeight:x,plotLeft:_,plotTop:b,plotWidth:C,scrollablePixelsX:T=0,scrollablePixelsY:R=0}=i,{scrollPositionX:F=0,scrollPositionY:$=0}=i.options.chart.scrollablePlotArea||{},B=u+T,G=g+R;o.setSize(u,g),(l??!0)&&(this.isDirty=!1,this.moveFixedElements()),$j(i.container),Ev(m,{width:`${B}px`,height:`${G}px`}),i.renderer.boxWrapper.attr({width:B,height:G,viewBox:[0,0,B,G].join(" ")}),(Ae=i.chartBackground)==null||Ae.attr({width:B,height:G}),Ev(d,{width:`${u}px`,height:`${g}px`}),Mv(l)||(d.scrollLeft=T*F,d.scrollTop=R*$);let X=b-h[0]-1,fe=_-h[3]-1,de=b+x+h[2]+1,ue=_+C+h[1]+1,ye=_+C-T,ge=b+x-R,xe=[["M",0,0]];T?xe=[["M",0,X],["L",_-1,X],["L",_-1,de],["L",0,de],["Z"],["M",ye,X],["L",u,X],["L",u,de],["L",ye,de],["Z"]]:R&&(xe=[["M",fe,0],["L",fe,b-1],["L",ue,b-1],["L",ue,0],["Z"],["M",fe,ge],["L",fe,g],["L",ue,g],["L",ue,ge],["Z"]]),i.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:xe})}moveFixedElements(){let i,{container:o,inverted:l,scrollablePixelsX:d,scrollablePixelsY:h}=this.chart,u=this.fixedRenderer,g=wd.fixedSelectors;if(d&&!l?i=".highcharts-yaxis":d&&l||h&&!l?i=".highcharts-xaxis":h&&l&&(i=".highcharts-yaxis"),i&&!(this.chart.hasParallelCoordinates&&i===".highcharts-yaxis"))for(let m of[`${i}:not(.highcharts-radial-axis)`,`${i}-labels:not(.highcharts-radial-axis-labels)`])yb(g,m);else for(let m of[".highcharts-xaxis",".highcharts-yaxis"])for(let x of[`${m}:not(.highcharts-radial-axis)`,`${m}-labels:not(.highcharts-radial-axis-labels)`])Fj(g,x);for(let m of g)[].forEach.call(o.querySelectorAll(m),x=>{(x.namespaceURI===u.SVG_NS?u.box:u.box.parentNode).appendChild(x),x.style.pointerEvents="auto"})}}wd.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Uj}=ar,{series:Hj}=lr,{destroyObjectProperties:Gj,fireEvent:bb,getAlignFactor:Tv,isNumber:Av,pick:bd}=Ke,Sb=class{constructor(y,i,o,l,d){let h=y.chart.inverted,u=y.reversed;this.axis=y;let g=this.isNegative=!!o!=!!u;this.options=i=i||{},this.x=l,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=d,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:i.align||(h?g?"left":"right":"center"),verticalAlign:i.verticalAlign||(h?"middle":g?"bottom":"top"),y:i.y,x:i.x},this.textAlign=i.textAlign||(h?g?"right":"left":"center")}destroy(){Gj(this,this.axis)}render(y){let i=this.axis.chart,o=this.options,l=o.format,d=l?Uj(l,this,i):o.formatter.call(this);if(this.label)this.label.attr({text:d,visibility:"hidden"});else{this.label=i.renderer.label(d,null,void 0,o.shape,void 0,void 0,o.useHTML,!1,"stack-labels");let h={r:o.borderRadius||0,text:d,padding:bd(o.padding,5),visibility:"hidden"};i.styledMode||(h.fill=o.backgroundColor,h.stroke=o.borderColor,h["stroke-width"]=o.borderWidth,this.label.css(o.style||{})),this.label.attr(h),this.label.added||this.label.add(y)}this.label.labelrank=i.plotSizeY,bb(this,"afterRender")}setOffset(y,i,o,l,d,h){let{alignOptions:u,axis:g,label:m,options:x,textAlign:_}=this,b=g.chart,C=this.getStackBox({xOffset:y,width:i,boxBottom:o,boxTop:l,defaultX:d,xAxis:h}),{verticalAlign:T}=u;if(m&&C){let R=m.getBBox(void 0,0),F=m.padding,$=bd(x.overflow,"justify")==="justify",B;u.x=x.x||0,u.y=x.y||0;let{x:G,y:X}=this.adjustStackPosition({labelBox:R,verticalAlign:T,textAlign:_});C.x-=G,C.y-=X,m.align(u,!1,C),(B=b.isInsidePlot(m.alignAttr.x+u.x+G,m.alignAttr.y+u.y+X))||($=!1),$&&Hj.prototype.justifyDataLabel.call(g,m,u,m.alignAttr,R,C),m.attr({x:m.alignAttr.x,y:m.alignAttr.y,rotation:x.rotation,rotationOriginX:R.width*Tv(x.textAlign||"center"),rotationOriginY:R.height/2}),bd(!$&&x.crop,!0)&&(B=Av(m.x)&&Av(m.y)&&b.isInsidePlot(m.x-F+(m.width||0),m.y)&&b.isInsidePlot(m.x+F,m.y)),m[B?"show":"hide"]()}bb(this,"afterSetOffset",{xOffset:y,width:i})}adjustStackPosition({labelBox:y,verticalAlign:i,textAlign:o}){return{x:y.width/2+y.width/2*(2*Tv(o)-1),y:y.height/2*2*(1-Tv(i))}}getStackBox(y){let i=this.axis,o=i.chart,{boxTop:l,defaultX:d,xOffset:h,width:u,boxBottom:g}=y,m=i.stacking.usePercentage?100:bd(l,this.total,0),x=i.toPixels(m),_=y.xAxis||o.xAxis[0],b=bd(d,_.translate(this.x))+h,C=Math.abs(x-i.toPixels(g||Av(i.min)&&i.logarithmic&&i.logarithmic.lin2log(i.min)||0)),T=o.inverted,R=this.isNegative;return T?{x:(R?x:x-C)-o.plotLeft,y:_.height-b-u+_.top-o.plotTop,width:C,height:u}:{x:b+_.transB-o.plotLeft,y:(R?x-C:x)-o.plotTop,width:u,height:C}}},{getDeferredAnimation:Vj}=jr,{series:{prototype:Xj}}=lr,{addEvent:kb,correctFloat:Sd,defined:_b,destroyObjectProperties:Yj,fireEvent:qj,isNumber:jv,objectEach:ha,pick:Pv}=Ke;function Kj(){let y=this.inverted;this.axes.forEach(i=>{var o;(o=i.stacking)!=null&&o.stacks&&i.hasVisibleSeries&&(i.stacking.oldStacks=i.stacking.stacks)}),this.series.forEach(i=>{var l;let o=((l=i.xAxis)==null?void 0:l.options)||{};i.options.stacking&&i.reserveSpace()&&(i.stackKey=[i.type,Pv(i.options.stack,""),y?o.top:o.left,y?o.height:o.width].join(","))})}function Zj(){var i;let y=this.stacking;if(y){let o=y.stacks;ha(o,(l,d)=>{Yj(l),delete o[d]}),(i=y.stackTotalGroup)==null||i.destroy()}}function Qj(){this.stacking||(this.stacking=new n2(this))}function Jj(y,i,o,l){return!_b(y)||y.x!==i||l&&y.stackKey!==l?y={x:i,index:0,key:l,stackKey:l}:y.index++,y.key=[o,i,y.index].join(","),y}function e2(){let y,i=this,o=i.yAxis,l=i.stackKey||"",d=o.stacking.stacks,h=i.getColumn("x",!0),u=i.options.stacking,g=i[u+"Stacker"];g&&[l,"-"+l].forEach(m=>{var T;let x=h.length,_,b,C;for(;x--;)_=h[x],y=i.getStackIndicator(y,_,i.index,m),b=(T=d[m])==null?void 0:T[_],(C=b==null?void 0:b.points[y.key||""])&&g.call(i,C,b,x)})}function t2(y,i,o){let l=i.total?100/i.total:0;y[0]=Sd(y[0]*l),y[1]=Sd(y[1]*l),this.stackedYData[o]=y[1]}function r2(y){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?Xj.setStackedPoints.call(this,y,"group"):y.stacking.resetStacks())}function i2(y,i){var ge,xe;let o,l,d,h,u,g,m,x=i||this.options.stacking;if(!x||!this.reserveSpace()||({group:"xAxis"}[x]||"yAxis")!==y.coll)return;let _=this.getColumn("x",!0),b=this.getColumn(this.pointValKey||"y",!0),C=[],T=b.length,R=this.options,F=R.threshold||0,$=R.startFromThreshold?F:0,B=R.stack,G=i?`${this.type},${x}`:this.stackKey||"",X="-"+G,fe=this.negStacks,de=y.stacking,ue=de.stacks,ye=de.oldStacks;for(de.stacksTouched+=1,m=0;m<T;m++){let Ae=_[m]||0,Pe=b[m],Fe=jv(Pe)&&Pe||0;g=(o=this.getStackIndicator(o,Ae,this.index)).key||"",ue[u=(l=fe&&Fe<($?0:F))?X:G]||(ue[u]={}),ue[u][Ae]||((ge=ye[u])!=null&&ge[Ae]?(ue[u][Ae]=ye[u][Ae],ue[u][Ae].total=null):ue[u][Ae]=new Sb(y,y.options.stackLabels,!!l,Ae,B)),d=ue[u][Ae],Pe!==null?(d.points[g]=d.points[this.index]=[Pv(d.cumulative,$)],_b(d.cumulative)||(d.base=g),d.touched=de.stacksTouched,o.index>0&&this.singleStacks===!1&&(d.points[g][0]=d.points[this.index+","+Ae+",0"][0])):(delete d.points[g],delete d.points[this.index]);let Ge=d.total||0;x==="percent"?(h=l?G:X,Ge=fe&&((xe=ue[h])!=null&&xe[Ae])?(h=ue[h][Ae]).total=Math.max(h.total||0,Ge)+Math.abs(Fe):Sd(Ge+Math.abs(Fe))):x==="group"?jv(Pe)&&Ge++:Ge=Sd(Ge+Fe),x==="group"?d.cumulative=(Ge||1)-1:d.cumulative=Sd(Pv(d.cumulative,$)+Fe),d.total=Ge,Pe!==null&&(d.points[g].push(d.cumulative),C[m]=d.cumulative,d.hasValidPoints=!0)}x==="percent"&&(de.usePercentage=!0),x!=="group"&&(this.stackedYData=C),de.oldStacks={}}class n2{constructor(i){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=i}buildStacks(){let i,o,l=this.axis,d=l.series,h=l.coll==="xAxis",u=l.options.reversedStacks,g=d.length;for(this.resetStacks(),this.usePercentage=!1,o=g;o--;)i=d[u?o:g-o-1],h&&i.setGroupedPoints(l),i.setStackedPoints(l);if(!h)for(o=0;o<g;o++)d[o].modifyStacks();qj(l,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,ha(this.stacks,i=>{ha(i,o=>{o.cumulative=o.total})}))}resetStacks(){ha(this.stacks,i=>{ha(i,(o,l)=>{jv(o.touched)&&o.touched<this.stacksTouched?(o.destroy(),delete i[l]):(o.total=null,o.cumulative=null)})})}renderStackTotals(){var g;let i=this.axis,o=i.chart,l=o.renderer,d=this.stacks,h=Vj(o,((g=i.options.stackLabels)==null?void 0:g.animation)||!1),u=this.stackTotalGroup=this.stackTotalGroup||l.g("stack-labels").attr({zIndex:6,opacity:0}).add();u.translate(o.plotLeft,o.plotTop),ha(d,m=>{ha(m,x=>{x.render(u)})}),u.animate({opacity:1},h)}}(D||(D={})).compose=function(y,i,o){let l=i.prototype,d=o.prototype;l.getStacks||(kb(y,"init",Qj),kb(y,"destroy",Zj),l.getStacks=Kj,d.getStackIndicator=Jj,d.modifyStacks=e2,d.percentStacker=t2,d.setGroupedPoints=r2,d.setStackedPoints=i2)};let s2=D,{defined:o2,merge:Cb,isObject:a2}=Ke;class Eb extends ki{drawGraph(){let i=this.options,o=(this.gappedPath||this.getGraphPath).call(this),l=this.chart.styledMode;[this,...this.zones].forEach((d,h)=>{let u,g=d.graph,m=g?"animate":"attr",x=d.dashStyle||i.dashStyle;g?(g.endX=this.preventGraphAnimation?null:o.xMap,g.animate({d:o})):o.length&&(d.graph=g=this.chart.renderer.path(o).addClass("highcharts-graph"+(h?` highcharts-zone-graph-${h-1} `:" ")+(h&&d.className||"")).attr({zIndex:1}).add(this.group)),g&&!l&&(u={stroke:!h&&i.lineColor||d.color||this.color||"#cccccc","stroke-width":i.lineWidth||0,fill:this.fillGraph&&this.color||"none"},x?u.dashstyle=x:i.linecap!=="square"&&(u["stroke-linecap"]=u["stroke-linejoin"]="round"),g[m](u).shadow(i.shadow&&Cb({filterUnits:"userSpaceOnUse"},a2(i.shadow)?i.shadow:{}))),g&&(g.startX=o.xMap,g.isArea=o.isArea)})}getGraphPath(i,o,l){let d=this,h=d.options,u=[],g=[],m,x=h.step,_=(i=i||d.points).reversed;return _&&i.reverse(),(x={right:1,center:2}[x]||x&&3)&&_&&(x=4-x),(i=this.getValidPoints(i,!1,h.nullInteraction||!(h.connectNulls&&!o&&!l))).forEach(function(b,C){let T,R=b.plotX,F=b.plotY,$=i[C-1],B=b.isNull||typeof F!="number";(b.leftCliff||$!=null&&$.rightCliff)&&!l&&(m=!0),B&&!o2(o)&&C>0?m=!h.connectNulls:B&&!o?m=!0:(C===0||m?T=[["M",b.plotX,b.plotY]]:d.getPointSpline?T=[d.getPointSpline(i,b,C)]:x?(T=x===1?[["L",$.plotX,F]]:x===2?[["L",($.plotX+R)/2,$.plotY],["L",($.plotX+R)/2,F]]:[["L",R,$.plotY]]).push(["L",R,F]):T=[["L",R,F]],g.push(b.x),x&&(g.push(b.x),x===2&&g.push(b.x)),u.push.apply(u,T),m=!1)}),u.xMap=g,d.graphPath=u,u}}Eb.defaultOptions=Cb(ki.defaultOptions,{legendSymbol:"lineMarker"}),lr.registerSeriesType("line",Eb);let{seriesTypes:{line:Nv}}=lr,{extend:l2,merge:c2,objectEach:d2,pick:hf}=Ke;class Ov extends Nv{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:i,options:o}=this;[this,...this.zones].forEach((l,d)=>{let h={},u=l.fillColor||o.fillColor,g=l.area,m=g?"animate":"attr";g?(g.endX=this.preventGraphAnimation?null:i.xMap,g.animate({d:i})):(h.zIndex=0,(g=l.area=this.chart.renderer.path(i).addClass("highcharts-area"+(d?` highcharts-zone-area-${d-1} `:" ")+(d&&l.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(h.fill=u||l.color||this.color,h["fill-opacity"]=u?1:o.fillOpacity??.75,g.css({pointerEvents:this.stickyTracking?"none":"auto"})),g[m](h),g.startX=i.xMap,g.shiftUnit=o.step?2:1})}getGraphPath(i){let o,l,d,h=Nv.prototype.getGraphPath,u=this.options,g=u.stacking,m=this.yAxis,x=[],_=[],b=this.index,C=m.stacking.stacks[this.stackKey],T=u.threshold,R=Math.round(m.getThreshold(u.threshold)),F=hf(u.connectNulls,g==="percent"),$=function(ue,ye,ge){let xe=i[ue],Ae=g&&C[xe.x].points[b],Pe=xe[ge+"Null"]||0,Fe=xe[ge+"Cliff"]||0,Ge,rt,Qe=!0;Fe||Pe?(Ge=(Pe?Ae[0]:Ae[1])+Fe,rt=Ae[0]+Fe,Qe=!!Pe):!g&&i[ye]&&i[ye].isNull&&(Ge=rt=T),Ge!==void 0&&(_.push({plotX:o,plotY:Ge===null?R:m.getThreshold(Ge),isNull:Qe,isCliff:!0}),x.push({plotX:o,plotY:rt===null?R:m.getThreshold(rt),doCurve:!1}))};i=i||this.points,g&&(i=this.getStackPoints(i));for(let ue=0,ye=i.length;ue<ye;++ue)g||(i[ue].leftCliff=i[ue].rightCliff=i[ue].leftNull=i[ue].rightNull=void 0),l=i[ue].isNull,o=hf(i[ue].rectPlotX,i[ue].plotX),d=g?hf(i[ue].yBottom,R):R,(!l||F)&&(F||$(ue,ue-1,"left"),l&&!g&&F||(_.push(i[ue]),x.push({x:ue,plotX:o,plotY:d})),F||$(ue,ue+1,"right"));let B=h.call(this,_,!0,!0);x.reversed=!0;let G=h.call(this,x,!0,!0),X=G[0];X&&X[0]==="M"&&(G[0]=["L",X[1],X[2]]);let fe=B.concat(G);fe.length&&fe.push(["Z"]);let de=h.call(this,_,!1,F);return this.chart.series.length>1&&g&&_.some(ue=>ue.isCliff)&&(fe.hasStackedCliffs=de.hasStackedCliffs=!0),fe.xMap=B.xMap,this.areaPath=fe,de}getStackPoints(i){let o=this,l=[],d=[],h=this.xAxis,u=this.yAxis,g=u.stacking.stacks[this.stackKey],m={},x=u.series,_=x.length,b=u.options.reversedStacks?1:-1,C=x.indexOf(o);if(i=i||this.points,this.options.stacking){for(let R=0;R<i.length;R++)i[R].leftNull=i[R].rightNull=void 0,m[i[R].x]=i[R];d2(g,function(R,F){R.total!==null&&d.push(F)}),d.sort(function(R,F){return R-F});let T=x.map(R=>R.visible);d.forEach(function(R,F){let $=0,B,G;if(m[R]&&!m[R].isNull)l.push(m[R]),[-1,1].forEach(function(X){let fe=X===1?"rightNull":"leftNull",de=g[d[F+X]],ue=0;if(de){let ye=C;for(;ye>=0&&ye<_;){let ge=x[ye].index;!(B=de.points[ge])&&(ge===o.index?m[R][fe]=!0:T[ye]&&(G=g[R].points[ge])&&(ue-=G[1]-G[0])),ye+=b}}m[R][X===1?"rightCliff":"leftCliff"]=ue});else{let X=C;for(;X>=0&&X<_;){let fe=x[X].index;if(B=g[R].points[fe]){$=B[1];break}X+=b}$=hf($,0),$=u.translate($,0,1,0,1),l.push({isNull:!0,plotX:h.translate(R,0,0,0,1),x:R,plotY:$,yBottom:$})}})}return l}}Ov.defaultOptions=c2(Nv.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),l2(Ov.prototype,{singleStacks:!1}),lr.registerSeriesType("area",Ov);let{line:Mb}=lr.seriesTypes,{merge:h2,pick:uf}=Ke;class Rv extends Mb{getPointSpline(i,o,l){let d,h,u,g,m=o.plotX||0,x=o.plotY||0,_=i[l-1],b=i[l+1];function C(R){return R&&!R.isNull&&R.doCurve!==!1&&!o.isCliff}if(C(_)&&C(b)){let R=_.plotX||0,F=_.plotY||0,$=b.plotX||0,B=b.plotY||0,G=0;d=(1.5*m+R)/2.5,h=(1.5*x+F)/2.5,u=(1.5*m+$)/2.5,g=(1.5*x+B)/2.5,u!==d&&(G=(g-h)*(u-m)/(u-d)+x-g),h+=G,g+=G,h>F&&h>x?(h=Math.max(F,x),g=2*x-h):h<F&&h<x&&(h=Math.min(F,x),g=2*x-h),g>B&&g>x?(g=Math.max(B,x),h=2*x-g):g<B&&g<x&&(g=Math.min(B,x),h=2*x-g),o.rightContX=u,o.rightContY=g,o.controlPoints={low:[d,h],high:[u,g]}}let T=["C",uf(_.rightContX,_.plotX,0),uf(_.rightContY,_.plotY,0),uf(d,m,0),uf(h,x,0),m,x];return _.rightContX=_.rightContY=void 0,T}}Rv.defaultOptions=h2(Mb.defaultOptions),lr.registerSeriesType("spline",Rv);let Tb=Rv,{area:u2,area:{prototype:Lv}}=lr.seriesTypes,{extend:f2,merge:p2}=Ke;class Iv extends Tb{}Iv.defaultOptions=p2(Tb.defaultOptions,u2.defaultOptions),f2(Iv.prototype,{getGraphPath:Lv.getGraphPath,getStackPoints:Lv.getStackPoints,drawGraph:Lv.drawGraph}),lr.registerSeriesType("areaspline",Iv);let{animObject:g2}=jr,{parse:m2}=Wt,{noop:v2}=J,{clamp:ff,crisp:pf,defined:Ab,extend:jb,fireEvent:Pb,isArray:Nb,isNumber:gf,merge:Dv,pick:kd,objectEach:x2}=Ke;class mf extends ki{animate(i){let o,l,d=this,h=this.yAxis,u=h.pos,g=h.reversed,m=d.options,{clipOffset:x,inverted:_}=this.chart,b={},C=_?"translateX":"translateY";i&&x?(b.scaleY=.001,l=ff(h.toPixels(m.threshold||0),u,u+h.len),_?b.translateX=(l+=g?-Math.floor(x[0]):Math.ceil(x[2]))-h.len:b.translateY=l+=g?Math.ceil(x[0]):-Math.floor(x[2]),d.clipBox&&d.setClip(),d.group.attr(b)):(o=Number(d.group.attr(C)),d.group.animate({scaleY:1},jb(g2(d.options.animation),{step:function(T,R){d.group&&(b[C]=o+R.pos*(u-o),d.group.attr(b))}})))}init(i,o){super.init.apply(this,arguments);let l=this;(i=l.chart).hasRendered&&i.series.forEach(function(d){d.type===l.type&&(d.isDirty=!0)})}getColumnMetrics(){var F,$;let i=this,o=i.options,l=i.xAxis,d=i.yAxis,h=l.options.reversedStacks,u=l.reversed&&!h||!l.reversed&&h,g={},m,x=0;o.grouping===!1?x=1:i.chart.series.forEach(function(B){let G,X=B.yAxis,fe=B.options;B.type===i.type&&B.reserveSpace()&&d.len===X.len&&d.pos===X.pos&&(fe.stacking&&fe.stacking!=="group"?(g[m=B.stackKey]===void 0&&(g[m]=x++),G=g[m]):fe.grouping!==!1&&(G=x++),B.columnIndex=G)});let _=Math.min(Math.abs(l.transA)*(!((F=l.brokenAxis)!=null&&F.hasBreaks)&&(($=l.ordinal)==null?void 0:$.slope)||o.pointRange||l.closestPointRange||l.tickInterval||1),l.len),b=_*o.groupPadding,C=(_-2*b)/(x||1),T=Math.min(o.maxPointWidth||l.len,kd(o.pointWidth,C*(1-2*o.pointPadding))),R=(i.columnIndex||0)+ +!!u;return i.columnMetrics={width:T,offset:(C-T)/2+(b+R*C-_/2)*(u?-1:1),paddedWidth:C,columnCount:x},i.columnMetrics}crispCol(i,o,l,d){let h=this.borderWidth,u=this.chart.inverted;return d=pf(o+d,h,u)-(o=pf(o,h,u)),this.options.crisp&&(l=pf(i+l,h)-(i=pf(i,h))),{x:i,y:o,width:l,height:d}}adjustForMissingColumns(i,o,l,d){var h;if(!l.isNull&&d.columnCount>1){let u=this.xAxis.series.filter(_=>_.visible).map(_=>_.index),g=0,m=0;x2((h=this.xAxis.stacking)==null?void 0:h.stacks,_=>{var R;let b=typeof l.x=="number"?(R=_[l.x.toString()])==null?void 0:R.points:void 0,C=b==null?void 0:b[this.index],T={};if(b&&Nb(C)){let F=this.index,$=Object.keys(b).filter(B=>!B.match(",")&&b[B]&&b[B].length>1).map(parseFloat).filter(B=>u.indexOf(B)!==-1).filter(B=>{let G=this.chart.series[B].options,X=G.stacking&&G.stack;if(Ab(X)){if(gf(T[X]))return F===B&&(F=T[X]),!1;T[X]=B}return!0}).sort((B,G)=>G-B);g=$.indexOf(F),m=$.length}}),g=this.xAxis.reversed?m-1-g:g;let x=(m-1)*d.paddedWidth+o;i=(l.plotX||0)+x/2-o-g*d.paddedWidth}return i}translate(){let i=this,o=i.chart,l=i.options,d=i.dense=i.closestPointRange*i.xAxis.transA<2,h=i.borderWidth=kd(l.borderWidth,+!d),u=i.xAxis,g=i.yAxis,m=l.threshold,x=kd(l.minPointLength,5),_=i.getColumnMetrics(),b=_.width,C=i.pointXOffset=_.offset,T=i.dataMin,R=i.dataMax,F=i.translatedThreshold=g.getThreshold(m),$=i.barW=Math.max(b,1+2*h);l.pointPadding&&l.crisp&&($=Math.ceil($)),ki.prototype.translate.apply(i),i.points.forEach(function(B){let G=kd(B.yBottom,F),X=999+Math.abs(G),fe=B.plotX||0,de=ff(B.plotY,-X,g.len+X),ue,ye=Math.min(de,G),ge=Math.max(de,G)-ye,xe=b,Ae=fe+C,Pe=$;x&&Math.abs(ge)<x&&(ge=x,ue=!g.reversed&&!B.negative||g.reversed&&B.negative,gf(m)&&gf(R)&&B.y===m&&R<=m&&(g.min||0)<m&&(T!==R||(g.max||0)<=m)&&(ue=!ue,B.negative=!B.negative),ye=Math.abs(ye-F)>x?G-x:F-(ue?x:0)),Ab(B.options.pointWidth)&&(Ae-=Math.round(((xe=Pe=Math.ceil(B.options.pointWidth))-b)/2)),l.centerInCategory&&(Ae=i.adjustForMissingColumns(Ae,xe,B,_)),B.barX=Ae,B.pointWidth=xe,B.tooltipPos=o.inverted?[ff(g.len+g.pos-o.plotLeft-de,g.pos-o.plotLeft,g.len+g.pos-o.plotLeft),u.len+u.pos-o.plotTop-Ae-Pe/2,ge]:[u.left-o.plotLeft+Ae+Pe/2,ff(de+g.pos-o.plotTop,g.pos-o.plotTop,g.len+g.pos-o.plotTop),ge],B.shapeType=i.pointClass.prototype.shapeType||"roundedRect",B.shapeArgs=i.crispCol(Ae,ye,Pe,B.isNull?0:ge)}),Pb(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(i,o){let l=this.options,d=this.pointAttrToOptions||{},h=d.stroke||"borderColor",u=d["stroke-width"]||"borderWidth",g,m,x,_=i&&i.color||this.color,b=i&&i[h]||l[h]||_,C=i&&i.options.dashStyle||l.dashStyle,T=i&&i[u]||l[u]||this[u]||0,R=i!=null&&i.isNull&&l.nullInteraction?0:(i==null?void 0:i.opacity)??l.opacity??1;i&&this.zones.length&&(m=i.getZone(),_=i.options.color||m&&(m.color||i.nonZonedColor)||this.color,m&&(b=m.borderColor||b,C=m.dashStyle||C,T=m.borderWidth||T)),o&&i&&(x=(g=Dv(l.states[o],i.options.states&&i.options.states[o]||{})).brightness,_=g.color||x!==void 0&&m2(_).brighten(g.brightness).get()||_,b=g[h]||b,T=g[u]||T,C=g.dashStyle||C,R=kd(g.opacity,R));let F={fill:_,stroke:b,"stroke-width":T,opacity:R};return C&&(F.dashstyle=C),F}drawPoints(i=this.points){let o,l=this,d=this.chart,h=l.options,u=h.nullInteraction,g=d.renderer,m=h.animationLimit||250;i.forEach(function(x){let _=x.plotY,b=x.graphic,C=!!b,T=b&&d.pointCount<m?"animate":"attr";gf(_)&&(x.y!==null||u)?(o=x.shapeArgs,b&&x.hasNewShapeType()&&(b=b.destroy()),l.enabledDataSorting&&(x.startXPos=l.xAxis.reversed?-(o&&o.width||0):l.xAxis.width),!b&&(x.graphic=b=g[x.shapeType](o).add(x.group||l.group),b&&l.enabledDataSorting&&d.hasRendered&&d.pointCount<m&&(b.attr({x:x.startXPos}),C=!0,T="animate")),b&&C&&b[T](Dv(o)),d.styledMode||b[T](l.pointAttribs(x,x.selected&&"select")).shadow(x.allowShadow!==!1&&h.shadow),b&&(b.addClass(x.getClassName(),!0),b.attr({visibility:x.visible?"inherit":"hidden"}))):b&&(x.graphic=b.destroy())})}drawTracker(i=this.points){let o,l=this,d=l.chart,h=d.pointer,u=function(g){h==null||h.normalize(g);let m=h==null?void 0:h.getPointFromEvent(g);h&&m&&l.options.enableMouseTracking&&(d.isInsidePlot(g.chartX-d.plotLeft,g.chartY-d.plotTop,{visiblePlotOnly:!0})||h!=null&&h.inClass(g.target,"highcharts-data-label"))&&(h.isDirectTouch=!0,m.onMouseOver(g))};i.forEach(function(g){o=Nb(g.dataLabels)?g.dataLabels:g.dataLabel?[g.dataLabel]:[],g.graphic&&(g.graphic.element.point=g),o.forEach(function(m){(m.div||m.element).point=g})}),l._hasTracking||(l.trackerGroups.forEach(function(g){l[g]&&(l[g].addClass("highcharts-tracker").on("mouseover",u).on("mouseout",function(m){h==null||h.onTrackerMouseOut(m)}).on("touchstart",u),!d.styledMode&&l.options.cursor&&l[g].css({cursor:l.options.cursor}))}),l._hasTracking=!0),Pb(this,"afterDrawTracker")}remove(){let i=this,o=i.chart;o.hasRendered&&o.series.forEach(function(l){l.type===i.type&&(l.isDirty=!0)}),ki.prototype.remove.apply(i,arguments)}}mf.defaultOptions=Dv(ki.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),jb(mf.prototype,{directTouch:!0,getSymbol:v2,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),lr.registerSeriesType("column",mf);let vf=mf,{getDeferredAnimation:y2}=jr,{format:w2}=ar,{defined:ua,extend:Ob,fireEvent:Bv,getAlignFactor:Rb,isArray:ho,isString:_d,merge:Cd,objectEach:b2,pick:Ed,pInt:S2,splat:Lb}=Ke;(function(y){function i(){return m(this).some(_=>_==null?void 0:_.enabled)}function o(_,b,C,T,R){var Ae;let{chart:F,enabledDataSorting:$}=this,B=this.isCartesian&&F.inverted,G=_.plotX,X=_.plotY,fe=C.rotation||0,de=ua(G)&&ua(X)&&F.isInsidePlot(G,Math.round(X),{inverted:B,paneCoordinates:!0,series:this}),ue=fe===0&&Ed(C.overflow,$?"none":"justify")==="justify",ye=this.visible&&_.visible!==!1&&ua(G)&&(_.series.forceDL||$&&!ue||de||Ed(C.inside,!!this.options.stacking)&&T&&F.isInsidePlot(G,B?T.x+1:T.y+T.height-1,{inverted:B,paneCoordinates:!0,series:this})),ge=_.pos();if(ye&&ge){var xe;let Pe=b.getBBox(),Fe=b.getBBox(void 0,0);if(T=Ob({x:ge[0],y:Math.round(ge[1]),width:0,height:0},T||{}),C.alignTo==="plotEdges"&&this.isCartesian&&(T[B?"x":"y"]=0,T[B?"width":"height"]=((Ae=this.yAxis)==null?void 0:Ae.len)||0),Ob(C,{width:Pe.width,height:Pe.height}),xe=T,$&&this.xAxis&&!ue&&this.setDataLabelStartPos(_,b,R,de,xe),b.align(Cd(C,{width:Fe.width,height:Fe.height}),!1,T,!1),b.alignAttr.x+=Rb(C.align)*(Fe.width-Pe.width),b.alignAttr.y+=Rb(C.verticalAlign)*(Fe.height-Pe.height),b[b.placed?"animate":"attr"]({"text-align":b.alignAttr["text-align"]||"center",x:b.alignAttr.x+(Pe.width-Fe.width)/2,y:b.alignAttr.y+(Pe.height-Fe.height)/2,rotationOriginX:(b.width||0)/2,rotationOriginY:(b.height||0)/2}),ue&&T.height>=0)this.justifyDataLabel(b,C,b.alignAttr,Pe,T,R);else if(Ed(C.crop,!0)){let{x:Ge,y:rt}=b.alignAttr;ye=F.isInsidePlot(Ge,rt,{paneCoordinates:!0,series:this})&&F.isInsidePlot(Ge+Pe.width-1,rt+Pe.height-1,{paneCoordinates:!0,series:this})}C.shape&&!fe&&b[R?"attr":"animate"]({anchorX:ge[0],anchorY:ge[1]})}R&&$&&(b.placed=!1),ye||$&&!ue?(b.show(),b.placed=!0):(b.hide(),b.placed=!1)}function l(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function d(_){let b=this.hasRendered||0,C=this.initDataLabelsGroup().attr({opacity:+b});return!b&&C&&(this.visible&&C.show(),this.options.animation?C.animate({opacity:1},_):C.attr({opacity:1})),C}function h(_){var ye;let b;_=_||this.points;let C=this,T=C.chart,R=C.options,F=T.renderer,{backgroundColor:$,plotBackgroundColor:B}=T.options.chart,G=F.getContrast(_d(B)&&B||_d($)&&$||"#000000"),X=m(C),{animation:fe,defer:de}=X[0],ue=de?y2(T,fe,C):{defer:0,duration:0};Bv(this,"drawDataLabels"),(ye=C.hasDataLabels)!=null&&ye.call(C)&&(b=this.initDataLabels(ue),_.forEach(ge=>{var Fe,Ge,rt;let xe=ge.dataLabels||[],Ae=ge.color||C.color;Lb(g(X,ge.dlOptions||((Fe=ge.options)==null?void 0:Fe.dataLabels))).forEach((Qe,lt)=>{var Ht;let qe=Qe.enabled&&(ge.visible||ge.dataLabelOnHidden)&&(!ge.isNull||ge.dataLabelOnNull)&&function(Or,ws){let an=ws.filter;if(an){let qr=an.operator,Fr=Or[an.property],Vt=an.value;return qr===">"&&Fr>Vt||qr==="<"&&Fr<Vt||qr===">="&&Fr>=Vt||qr==="<="&&Fr<=Vt||qr==="=="&&Fr==Vt||qr==="==="&&Fr===Vt||qr==="!="&&Fr!=Vt||qr==="!=="&&Fr!==Vt||!1}return!0}(ge,Qe),{backgroundColor:ct,borderColor:bt,distance:Tt,style:Pt={}}=Qe,Yr,Ct,It,pt={},ut=xe[lt],fr=!ut,Dt;qe&&(Ct=ua(Yr=Ed(Qe[ge.formatPrefix+"Format"],Qe.format))?w2(Yr,ge,T):(Qe[ge.formatPrefix+"Formatter"]||Qe.formatter).call(ge,Qe),It=Qe.rotation,!T.styledMode&&(Pt.color=Ed(Qe.color,Pt.color,_d(C.color)?C.color:void 0,"#000000"),Pt.color==="contrast"?(ct!=="none"&&(Dt=ct),ge.contrastColor=F.getContrast(Dt!=="auto"&&_d(Dt)&&Dt||(_d(Ae)?Ae:"")),Pt.color=Dt||!ua(Tt)&&Qe.inside||0>S2(Tt||0)||R.stacking?ge.contrastColor:G):delete ge.contrastColor,R.cursor&&(Pt.cursor=R.cursor)),pt={r:Qe.borderRadius||0,rotation:It,padding:Qe.padding,zIndex:1},T.styledMode||(pt.fill=ct==="auto"?ge.color:ct,pt.stroke=bt==="auto"?ge.color:bt,pt["stroke-width"]=Qe.borderWidth),b2(pt,(Or,ws)=>{Or===void 0&&delete pt[ws]})),!ut||qe&&ua(Ct)&&!!(ut.div||(Ht=ut.text)!=null&&Ht.foreignObject)==!!Qe.useHTML&&(ut.rotation&&Qe.rotation||ut.rotation===Qe.rotation)||(ut=void 0,fr=!0),qe&&ua(Ct)&&Ct!==""&&(ut?pt.text=Ct:(ut=F.label(Ct,0,0,Qe.shape,void 0,void 0,Qe.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+ge.colorIndex+" "+(Qe.className||"")+(Qe.useHTML?" highcharts-tracker":"")),ut&&(ut.options=Qe,ut.attr(pt),T.styledMode?Pt.width&&ut.css({width:Pt.width,textOverflow:Pt.textOverflow,whiteSpace:Pt.whiteSpace}):ut.css(Pt).shadow(Qe.shadow),Bv(ut,"beforeAddingDataLabel",{labelOptions:Qe,point:ge}),ut.added||ut.add(b),C.alignDataLabel(ge,ut,Qe,void 0,fr),ut.isActive=!0,xe[lt]&&xe[lt]!==ut&&xe[lt].destroy(),xe[lt]=ut))});let Pe=xe.length;for(;Pe--;)(Ge=xe[Pe])!=null&&Ge.isActive?xe[Pe].isActive=!1:((rt=xe[Pe])==null||rt.destroy(),xe.splice(Pe,1));ge.dataLabel=xe[0],ge.dataLabels=xe})),Bv(this,"afterDrawDataLabels")}function u(_,b,C,T,R,F){let $=this.chart,B=b.align,G=b.verticalAlign,X=_.box?0:_.padding||0,fe=$.inverted?this.yAxis:this.xAxis,de=fe?fe.left-$.plotLeft:0,ue=$.inverted?this.xAxis:this.yAxis,ye=ue?ue.top-$.plotTop:0,{x:ge=0,y:xe=0}=b,Ae,Pe;return(Ae=(C.x||0)+X+de)<0&&(B==="right"&&ge>=0?(b.align="left",b.inside=!0):ge-=Ae,Pe=!0),(Ae=(C.x||0)+T.width-X+de)>$.plotWidth&&(B==="left"&&ge<=0?(b.align="right",b.inside=!0):ge+=$.plotWidth-Ae,Pe=!0),(Ae=C.y+X+ye)<0&&(G==="bottom"&&xe>=0?(b.verticalAlign="top",b.inside=!0):xe-=Ae,Pe=!0),(Ae=(C.y||0)+T.height-X+ye)>$.plotHeight&&(G==="top"&&xe<=0?(b.verticalAlign="bottom",b.inside=!0):xe+=$.plotHeight-Ae,Pe=!0),Pe&&(b.x=ge,b.y=xe,_.placed=!F,_.align(b,void 0,R)),Pe}function g(_,b){let C=[],T;if(ho(_)&&!ho(b))C=_.map(function(R){return Cd(R,b)});else if(ho(b)&&!ho(_))C=b.map(function(R){return Cd(_,R)});else if(ho(_)||ho(b)){if(ho(_)&&ho(b))for(T=Math.max(_.length,b.length);T--;)C[T]=Cd(_[T],b[T])}else C=Cd(_,b);return C}function m(_){var C,T;let b=_.chart.options.plotOptions;return Lb(g(g((C=b==null?void 0:b.series)==null?void 0:C.dataLabels,(T=b==null?void 0:b[_.type])==null?void 0:T.dataLabels),_.options.dataLabels))}function x(_,b,C,T,R){let F=this.chart,$=F.inverted,B=this.xAxis,G=B.reversed,X=(($?b.height:b.width)||0)/2,fe=_.pointWidth,de=fe?fe/2:0;b.startXPos=$?R.x:G?-X-de:B.width-X+de,b.startYPos=$?G?this.yAxis.height-X+de:-X-de:R.y,T?b.visibility==="hidden"&&(b.show(),b.attr({opacity:0}).animate({opacity:1})):b.attr({opacity:1}).animate({opacity:0},void 0,b.hide),F.hasRendered&&(C&&b.attr({x:b.startXPos,y:b.startYPos}),b.placed=!0)}y.compose=function(_){let b=_.prototype;b.initDataLabels||(b.initDataLabels=d,b.initDataLabelsGroup=l,b.alignDataLabel=o,b.drawDataLabels=h,b.justifyDataLabel=u,b.mergeArrays=g,b.setDataLabelStartPos=x,b.hasDataLabels=i)}})(L||(L={}));let xf=L,{composed:k2}=J,{series:Ib}=lr,{merge:_2,pushUnique:C2}=Ke;(function(y){function i(o,l,d,h,u){var F,$;let{chart:g,options:m}=this,x=g.inverted,_=((F=this.xAxis)==null?void 0:F.len)||g.plotSizeX||0,b=(($=this.yAxis)==null?void 0:$.len)||g.plotSizeY||0,C=o.dlBox||o.shapeArgs,T=o.below??(o.plotY||0)>(this.translatedThreshold??b),R=d.inside??!!m.stacking;if(C){if(h=_2(C),d.overflow!=="allow"||d.crop!==!1||m.clip!==!1){h.y<0&&(h.height+=h.y,h.y=0);let B=h.y+h.height-b;B>0&&B<h.height-1&&(h.height-=B)}x&&(h={x:b-h.y-h.height,y:_-h.x-h.width,width:h.height,height:h.width}),R||(x?(h.x+=T?0:h.width,h.width=0):(h.y+=T?h.height:0,h.height=0))}d.align??(d.align=!x||R?"center":T?"right":"left"),d.verticalAlign??(d.verticalAlign=x||R?"middle":T?"top":"bottom"),Ib.prototype.alignDataLabel.call(this,o,l,d,h,u),d.inside&&o.contrastColor&&l.css({color:o.contrastColor})}y.compose=function(o){xf.compose(Ib),C2(k2,"ColumnDataLabel")&&(o.prototype.alignDataLabel=i)}})(I||(I={}));let E2=I,{extend:M2,merge:T2}=Ke;class $v extends vf{}$v.defaultOptions=T2(vf.defaultOptions,{}),M2($v.prototype,{inverted:!0}),lr.registerSeriesType("bar",$v);let{column:A2,line:Db}=lr.seriesTypes,{addEvent:j2,extend:P2,merge:N2}=Ke;class yf extends Db{applyJitter(){let i=this,o=this.options.jitter,l=this.points.length;o&&this.points.forEach(function(d,h){["x","y"].forEach(function(u,g){if(o[u]&&!d.isNull){let m=`plot${u.toUpperCase()}`,x=i[`${u}Axis`],_=o[u]*x.transA;if(x&&!x.logarithmic){let b=Math.max(0,(d[m]||0)-_),C=Math.min(x.len,(d[m]||0)+_);d[m]=b+(C-b)*function(T){let R=1e4*Math.sin(T);return R-Math.floor(R)}(h+g*l),u==="x"&&(d.clientX=d.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}yf.defaultOptions=N2(Db.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),P2(yf.prototype,{drawTracker:A2.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),j2(yf,"afterTranslate",function(){this.applyJitter()}),lr.registerSeriesType("scatter",yf);let{deg2rad:Bb}=J,{fireEvent:O2,isNumber:zv,pick:wf,relativeLength:R2}=Ke;(function(y){y.getCenter=function(){let i=this.options,o=this.chart,l=2*(i.slicedOffset||0),d=o.plotWidth-2*l,h=o.plotHeight-2*l,u=i.center,g=Math.min(d,h),m=i.thickness,x,_=i.size,b=i.innerSize||0,C,T;typeof _=="string"&&(_=parseFloat(_)),typeof b=="string"&&(b=parseFloat(b));let R=[wf(u==null?void 0:u[0],"50%"),wf(u==null?void 0:u[1],"50%"),wf(_&&_<0?void 0:i.size,"100%"),wf(b&&b<0?void 0:i.innerSize||0,"0%")];for(!o.angular||this instanceof ki||(R[3]=0),C=0;C<4;++C)T=R[C],x=C<2||C===2&&/%$/.test(T),R[C]=R2(T,[d,h,g,R[2]][C])+(x?l:0);return R[3]>R[2]&&(R[3]=R[2]),zv(m)&&2*m<R[2]&&m>0&&(R[3]=R[2]-2*m),O2(this,"afterGetCenter",{positions:R}),R},y.getStartAndEndRadians=function(i,o){let l=zv(i)?i:0,d=zv(o)&&o>l&&o-l<360?o:l+360;return{start:Bb*(l+-90),end:Bb*(d+-90)}}})(j||(j={}));let $b=j,{setAnimation:L2}=jr,{addEvent:zb,defined:I2,extend:D2,isNumber:B2,pick:$2,relativeLength:z2}=Ke;class Fb extends Z{getConnectorPath(i){let o=i.dataLabelPosition,l=i.options||{},d=l.connectorShape,h=this.connectorShapes[d]||d;return o&&h.call(this,{...o.computed,alignment:o.alignment},o.connectorPosition,l)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(i){let o=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(o.x,o.y,o.r+i,o.r+i,{innerR:o.r-1,start:o.start,end:o.end,borderRadius:o.borderRadius})}constructor(i,o,l){super(i,o,l),this.half=0,this.name??(this.name=i.chart.options.lang.pieSliceName);let d=h=>{this.slice(h.type==="select")};zb(this,"select",d),zb(this,"unselect",d)}isValid(){return B2(this.y)&&this.y>=0}setVisible(i,o=!0){i!==this.visible&&this.update({visible:i??!this.visible},o,void 0,!1)}slice(i,o,l){let d=this.series;L2(l,d.chart),o=$2(o,!0),this.sliced=this.options.sliced=i=I2(i)?i:!this.sliced,d.options.data[d.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}D2(Fb.prototype,{connectorShapes:{fixedOffset:function(y,i,o){let l=i.breakAt,d=i.touchingSliceAt,h=o.softConnector?["C",y.x+(y.alignment==="left"?-5:5),y.y,2*l.x-d.x,2*l.y-d.y,l.x,l.y]:["L",l.x,l.y];return[["M",y.x,y.y],h,["L",d.x,d.y]]},straight:function(y,i){let o=i.touchingSliceAt;return[["M",y.x,y.y],["L",o.x,o.y]]},crookedLine:function(y,i,o){let{angle:l=this.angle||0,breakAt:d,touchingSliceAt:h}=i,{series:u}=this,[g,m,x]=u.center,_=x/2,{plotLeft:b,plotWidth:C}=u.chart,T=y.alignment==="left",{x:R,y:F}=y,$=d.x;if(o.crookDistance){let G=z2(o.crookDistance,1);$=T?g+_+(C+b-g-_)*(1-G):b+(g-_)*G}else $=g+(m-F)*Math.tan(l-Math.PI/2);let B=[["M",R,F]];return(T?$<=R&&$>=d.x:$>=R&&$<=d.x)&&B.push(["L",$,F]),B.push(["L",d.x,d.y],["L",h.x,h.y]),B}}});let{getStartAndEndRadians:F2}=$b,{noop:Wb}=J,{clamp:W2,extend:U2,fireEvent:Ub,merge:Fv,pick:H2}=Ke;class Wv extends ki{animate(i){let o=this,l=o.points,d=o.startAngleRad;i||l.forEach(function(h){let u=h.graphic,g=h.shapeArgs;u&&g&&(u.attr({r:H2(h.startR,o.center&&o.center[3]/2),start:d,end:d}),u.animate({r:g.r,start:g.start,end:g.end},o.options.animation))})}drawEmpty(){let i,o,l=this.startAngleRad,d=this.endAngleRad,h=this.options;this.total===0&&this.center?(i=this.center[0],o=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(i,o,this.center[1]/2,0,l,d).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Su.arc(i,o,this.center[2]/2,0,{start:l,end:d,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":h.borderWidth,fill:h.fillColor||"none",stroke:h.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let i=this.chart.renderer;this.points.forEach(function(o){o.graphic&&o.hasNewShapeType()&&(o.graphic=o.graphic.destroy()),o.graphic||(o.graphic=i[o.shapeType](o.shapeArgs).add(o.series.group),o.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(i,o,l,d){let h=this.center,u=this.radii?this.radii[l.index]||0:h[2]/2,g=d.dataLabelPosition,m=(g==null?void 0:g.distance)||0,x=Math.asin(W2((i-h[1])/(u+m),-1,1));return h[0]+Math.cos(x)*(u+m)*(o?-1:1)+(m>0?(o?-1:1)*(d.padding||0):0)}hasData(){return this.points.some(i=>i.visible)}redrawPoints(){let i,o,l,d,h=this,u=h.chart;this.drawEmpty(),h.group&&!u.styledMode&&h.group.shadow(h.options.shadow),h.points.forEach(function(g){let m={};o=g.graphic,!g.isNull&&o?(d=g.shapeArgs,i=g.getTranslate(),u.styledMode||(l=h.pointAttribs(g,g.selected&&"select")),g.delayedRendering?(o.setRadialReference(h.center).attr(d).attr(i),u.styledMode||o.attr(l).attr({"stroke-linejoin":"round"}),g.delayedRendering=!1):(o.setRadialReference(h.center),u.styledMode||Fv(!0,m,l),Fv(!0,m,d,i),o.animate(m)),o.attr({visibility:g.visible?"inherit":"hidden"}),o.addClass(g.getClassName(),!0)):o&&(g.graphic=o.destroy())})}sortByAngle(i,o){i.sort(function(l,d){return l.angle!==void 0&&(d.angle-l.angle)*o})}translate(i){Ub(this,"translate"),this.generatePoints();let o=this.options,l=o.slicedOffset,d=F2(o.startAngle,o.endAngle),h=this.startAngleRad=d.start,u=(this.endAngleRad=d.end)-h,g=this.points,m=o.ignoreHiddenPoint,x=g.length,_,b,C,T,R,F,$,B=0;for(i||(this.center=i=this.getCenter()),F=0;F<x;F++){$=g[F],_=h+B*u,$.isValid()&&(!m||$.visible)&&(B+=$.percentage/100),b=h+B*u;let G={x:i[0],y:i[1],r:i[2]/2,innerR:i[3]/2,start:Math.round(1e3*_)/1e3,end:Math.round(1e3*b)/1e3};$.shapeType="arc",$.shapeArgs=G,(C=(b+_)/2)>1.5*Math.PI?C-=2*Math.PI:C<-Math.PI/2&&(C+=2*Math.PI),$.slicedTranslation={translateX:Math.round(Math.cos(C)*l),translateY:Math.round(Math.sin(C)*l)},T=Math.cos(C)*i[2]/2,R=Math.sin(C)*i[2]/2,$.tooltipPos=[i[0]+.7*T,i[1]+.7*R],$.half=+(C<-Math.PI/2||C>Math.PI/2),$.angle=C}Ub(this,"afterTranslate")}updateTotals(){let i=this.points,o=i.length,l=this.options.ignoreHiddenPoint,d,h,u=0;for(d=0;d<o;d++)(h=i[d]).isValid()&&(!l||h.visible)&&(u+=h.y);for(d=0,this.total=u;d<o;d++)(h=i[d]).percentage=u>0&&(h.visible||!l)?h.y/u*100:0,h.total=u}}Wv.defaultOptions=Fv(ki.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),U2(Wv.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:vf.prototype.drawTracker,getCenter:$b.getCenter,getSymbol:Wb,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:vf.prototype.pointAttribs,pointClass:Fb,requireSorting:!1,searchPoint:Wb,trackerGroups:["group","dataLabelsGroup"]}),lr.registerSeriesType("pie",Wv);let{composed:G2,noop:V2}=J,{distribute:X2}=hs,{series:Hb}=lr,{arrayMax:Y2,clamp:Gb,defined:Vb,isNumber:q2,pick:K2,pushUnique:Z2,relativeLength:Xb}=Ke;(function(y){let i={radialDistributionY:function(u,g){var m;return(((m=g.dataLabelPosition)==null?void 0:m.top)||0)+u.distributeBox.pos},radialDistributionX:function(u,g,m,x,_){let b=_.dataLabelPosition;return u.getX(m<((b==null?void 0:b.top)||0)+2||m>((b==null?void 0:b.bottom)||0)-2?x:m,g.half,g,_)},justify:function(u,g,m,x){var _;return x[0]+(u.half?-1:1)*(m+(((_=g.dataLabelPosition)==null?void 0:_.distance)||0))},alignToPlotEdges:function(u,g,m,x){let _=u.getBBox().width;return g?_+x:m-_-x},alignToConnectors:function(u,g,m,x){let _=0,b;return u.forEach(function(C){(b=C.dataLabel.getBBox().width)>_&&(_=b)}),g?_+x:m-_-x}};function o(u,g){let m=Math.PI/2,{start:x=0,end:_=0}=u.shapeArgs||{},b=u.angle||0;g>0&&x<m&&_>m&&b>m/2&&b<1.5*m&&(b=b<=m?Math.max(m/2,(x+m)/2):Math.min(1.5*m,(m+_)/2));let{center:C,options:T}=this,R=C[2]/2,F=Math.cos(b),$=Math.sin(b),B=C[0]+F*R,G=C[1]+$*R,X=Math.min((T.slicedOffset||0)+(T.borderWidth||0),g/5);return{natural:{x:B+F*g,y:G+$*g},computed:{},alignment:g<0?"center":u.half?"right":"left",connectorPosition:{angle:b,breakAt:{x:B+F*X,y:G+$*X},touchingSliceAt:{x:B,y:G}},distance:g}}function l(){var ye;let u=this,g=u.points,m=u.chart,x=m.plotWidth,_=m.plotHeight,b=m.plotLeft,C=Math.round(m.chartWidth/3),T=u.center,R=T[2]/2,F=T[1],$=[[],[]],B=[0,0,0,0],G=u.dataLabelPositioners,X,fe,de,ue=0;u.visible&&((ye=u.hasDataLabels)!=null&&ye.call(u))&&(g.forEach(ge=>{(ge.dataLabels||[]).forEach(xe=>{xe.shortened&&(xe.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),xe.shortened=!1)})}),Hb.prototype.drawDataLabels.apply(u),g.forEach(ge=>{(ge.dataLabels||[]).forEach((xe,Ae)=>{var rt;let Pe=T[2]/2,Fe=xe.options,Ge=Xb((Fe==null?void 0:Fe.distance)||0,Pe);Ae===0&&$[ge.half].push(ge),!Vb((rt=Fe==null?void 0:Fe.style)==null?void 0:rt.width)&&xe.getBBox().width>C&&(xe.css({width:Math.round(.7*C)+"px"}),xe.shortened=!0),xe.dataLabelPosition=this.getDataLabelPosition(ge,Ge),ue=Math.max(ue,Ge)})}),$.forEach((ge,xe)=>{let Ae=ge.length,Pe=[],Fe,Ge,rt=0,Qe;Ae&&(u.sortByAngle(ge,xe-.5),ue>0&&(Fe=Math.max(0,F-R-ue),Ge=Math.min(F+R+ue,m.plotHeight),ge.forEach(lt=>{(lt.dataLabels||[]).forEach(qe=>{var bt;let ct=qe.dataLabelPosition;ct&&ct.distance>0&&(ct.top=Math.max(0,F-R-ct.distance),ct.bottom=Math.min(F+R+ct.distance,m.plotHeight),rt=qe.getBBox().height||21,qe.lineHeight=m.renderer.fontMetrics(qe.text||qe).h+2*qe.padding,lt.distributeBox={target:(((bt=qe.dataLabelPosition)==null?void 0:bt.natural.y)||0)-ct.top+qe.lineHeight/2,size:rt,rank:lt.y},Pe.push(lt.distributeBox))})}),X2(Pe,Qe=Ge+rt-Fe,Qe/5)),ge.forEach(lt=>{(lt.dataLabels||[]).forEach(qe=>{let ct=qe.options||{},bt=lt.distributeBox,Tt=qe.dataLabelPosition,Pt=(Tt==null?void 0:Tt.natural.y)||0,Yr=ct.connectorPadding||0,Ct=qe.lineHeight||21,It=(Ct-qe.getBBox().height)/2,pt=0,ut=Pt,fr="inherit";if(Tt){if(Pe&&Vb(bt)&&Tt.distance>0&&(bt.pos===void 0?fr="hidden":(de=bt.size,ut=G.radialDistributionY(lt,qe))),ct.justify)pt=G.justify(lt,qe,R,T);else switch(ct.alignTo){case"connectors":pt=G.alignToConnectors(ge,xe,x,b);break;case"plotEdges":pt=G.alignToPlotEdges(qe,xe,x,b);break;default:pt=G.radialDistributionX(u,lt,ut-It,Pt,qe)}if(Tt.attribs={visibility:fr,align:Tt.alignment},Tt.posAttribs={x:pt+(ct.x||0)+({left:Yr,right:-Yr}[Tt.alignment]||0),y:ut+(ct.y||0)-Ct/2},Tt.computed.x=pt,Tt.computed.y=ut-It,K2(ct.crop,!0)){let Dt;pt-(fe=qe.getBBox().width)<Yr&&xe===1?(Dt=Math.round(fe-pt+Yr),B[3]=Math.max(Dt,B[3])):pt+fe>x-Yr&&xe===0&&(Dt=Math.round(pt+fe-x+Yr),B[1]=Math.max(Dt,B[1])),ut-de/2<0?B[0]=Math.max(Math.round(-ut+de/2),B[0]):ut+de/2>_&&(B[2]=Math.max(Math.round(ut+de/2-_),B[2])),Tt.sideOverflow=Dt}}})}))}),(Y2(B)===0||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),this.points.forEach(ge=>{(ge.dataLabels||[]).forEach(xe=>{var Ge;let{connectorColor:Ae,connectorWidth:Pe=1}=xe.options||{},Fe=xe.dataLabelPosition;if(q2(Pe)){let rt;X=xe.connector,Fe&&Fe.distance>0?(rt=!X,X||(xe.connector=X=m.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ge.colorIndex+(ge.className?" "+ge.className:"")).add(u.dataLabelsGroup)),m.styledMode||X.attr({"stroke-width":Pe,stroke:Ae||ge.color||"#666666"}),X[rt?"attr":"animate"]({d:ge.getConnectorPath(xe)}),X.attr({visibility:(Ge=Fe.attribs)==null?void 0:Ge.visibility})):X&&(xe.connector=X.destroy())}})})))}function d(){this.points.forEach(u=>{(u.dataLabels||[]).forEach(g=>{var x,_;let m=g.dataLabelPosition;m?(m.sideOverflow&&(g.css({width:Math.max(g.getBBox().width-m.sideOverflow,0)+"px",textOverflow:((_=(x=g.options)==null?void 0:x.style)==null?void 0:_.textOverflow)||"ellipsis"}),g.shortened=!0),g.attr(m.attribs),g[g.moved?"animate":"attr"](m.posAttribs),g.moved=!0):g&&g.attr({y:-9999})}),delete u.distributeBox},this)}function h(u){let g=this.center,m=this.options,x=m.center,_=m.minSize||80,b=_,C=m.size!==null;return!C&&(x[0]!==null?b=Math.max(g[2]-Math.max(u[1],u[3]),_):(b=Math.max(g[2]-u[1]-u[3],_),g[0]+=(u[3]-u[1])/2),x[1]!==null?b=Gb(b,_,g[2]-Math.max(u[0],u[2])):(b=Gb(b,_,g[2]-u[0]-u[2]),g[1]+=(u[0]-u[2])/2),b<g[2]?(g[2]=b,g[3]=Math.min(m.thickness?Math.max(0,b-2*m.thickness):Math.max(0,Xb(m.innerSize||0,b)),b),this.translate(g),this.drawDataLabels&&this.drawDataLabels()):C=!0),C}y.compose=function(u){if(xf.compose(Hb),Z2(G2,"PieDataLabel")){let g=u.prototype;g.dataLabelPositioners=i,g.alignDataLabel=V2,g.drawDataLabels=l,g.getDataLabelPosition=o,g.placeDataLabels=d,g.verifyDataLabelOverflow=h}}})(O||(O={}));let Q2=O;(function(y){y.getCenterOfPoints=function(i){let o=i.reduce((l,d)=>(l.x+=d.x,l.y+=d.y,l),{x:0,y:0});return{x:o.x/i.length,y:o.y/i.length}},y.getDistanceBetweenPoints=function(i,o){return Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))},y.getAngleBetweenPoints=function(i,o){return Math.atan2(o.x-i.x,o.y-i.y)},y.pointInPolygon=function({x:i,y:o},l){let d=l.length,h,u,g=!1;for(h=0,u=d-1;h<d;u=h++){let[m,x]=l[h],[_,b]=l[u];x>o!=b>o&&i<(_-m)*(o-x)/(b-x)+m&&(g=!g)}return g}})(q||(q={}));let{pointInPolygon:J2}=q,{addEvent:eP,getAlignFactor:tP,fireEvent:Yb,objectEach:qb,pick:rP}=Ke;function iP(y){let i=y.length,o=(_,b)=>!(b.x>=_.x+_.width||b.x+b.width<=_.x||b.y>=_.y+_.height||b.y+b.height<=_.y),l=(_,b)=>{for(let C of _)if(J2({x:C[0],y:C[1]},b))return!0;return!1},d,h,u,g,m,x=!1;for(let _=0;_<i;_++)(d=y[_])&&(d.oldOpacity=d.opacity,d.newOpacity=1,d.absoluteBox=function(b){var C,T;if(b&&(!b.alignAttr||b.placed)){let R=b.box?0:b.padding||0,F=b.alignAttr||{x:b.attr("x"),y:b.attr("y")},{height:$,polygon:B,width:G}=b.getBBox(),X=tP(b.alignValue)*G;return b.width=G,b.height=$,{x:F.x+(((C=b.parentGroup)==null?void 0:C.translateX)||0)+R-X,y:F.y+(((T=b.parentGroup)==null?void 0:T.translateY)||0)+R,width:G-2*R,height:$-2*R,polygon:B}}}(d));y.sort((_,b)=>(b.labelrank||0)-(_.labelrank||0));for(let _=0;_<i;++_){g=(h=y[_])&&h.absoluteBox;let b=g==null?void 0:g.polygon;for(let C=_+1;C<i;++C){m=(u=y[C])&&u.absoluteBox;let T=!1;if(g&&m&&h!==u&&h.newOpacity!==0&&u.newOpacity!==0&&h.visibility!=="hidden"&&u.visibility!=="hidden"){let R=m.polygon;if(b&&R&&b!==R?l(b,R)&&(T=!0):o(g,m)&&(T=!0),T){let F=h.labelrank<u.labelrank?h:u,$=F.text;F.newOpacity=0,$!=null&&$.element.querySelector("textPath")&&$.hide()}}}}for(let _ of y)Kb(_,this)&&(x=!0);x&&Yb(this,"afterHideAllOverlappingLabels")}function Kb(y,i){let o,l=!1;return y&&(o=y.newOpacity,y.oldOpacity!==o&&(y.hasClass("highcharts-data-label")?(y[o?"removeClass":"addClass"]("highcharts-data-label-hidden"),l=!0,y[y.isOld?"animate":"attr"]({opacity:o},void 0,function(){i.styledMode||y.css({pointerEvents:o?"auto":"none"})}),Yb(i,"afterHideOverlappingLabel")):y.attr({opacity:o})),y.isOld=!0),l}function nP(){var o;let y=this,i=[];for(let l of y.labelCollectors||[])i=i.concat(l());for(let l of y.yAxis||[])l.stacking&&l.options.stackLabels&&!l.options.stackLabels.allowOverlap&&qb(l.stacking.stacks,d=>{qb(d,h=>{h.label&&i.push(h.label)})});for(let l of y.series||[])if(l.visible&&((o=l.hasDataLabels)!=null&&o.call(l))){let d=h=>{for(let u of h)u.visible&&(u.dataLabels||[]).forEach(g=>{var x;let m=g.options||{};g.labelrank=rP(m.labelrank,u.labelrank,(x=u.shapeArgs)==null?void 0:x.height),m.allowOverlap??Number(m.distance)>0?(g.oldOpacity=g.opacity,g.newOpacity=1,Kb(g,y)):i.push(g)})};d(l.nodes||[]),d(l.points)}this.hideOverlappingLabels(i)}let Zb={compose:function(y){let i=y.prototype;i.hideOverlappingLabels||(i.hideOverlappingLabels=iP,eP(y,"render",nP))}},{defaultOptions:sP}=Oi,{noop:Qb}=J,{addEvent:Jb,extend:oP,isObject:e1,merge:aP,relativeLength:Uv}=Ke,lP={radius:0,scope:"stack",where:void 0},t1=Qb,r1=Qb;function cP(y,i,o,l,d={}){let h=t1(y,i,o,l,d),{brStart:u=!0,brEnd:g=!0,innerR:m=0,r:x=o,start:_=0,end:b=0}=d;if(d.open||!d.borderRadius)return h;let C=b-_,T=Math.sin(C/2),R=Math.max(Math.min(Uv(d.borderRadius||0,x-m),(x-m)/2,x*T/(1+T)),0),F=Math.min(R,C/Math.PI*2*m),$=h.length-1;for(;$--;)(u||$!==0&&$!==3)&&(g||$!==1&&$!==2)&&function(B,G,X){let fe,de,ue,ye=B[G],ge=B[G+1];if(ge[0]==="Z"&&(ge=B[0]),(ye[0]==="M"||ye[0]==="L")&&ge[0]==="A"?(fe=ye,de=ge,ue=!0):ye[0]==="A"&&(ge[0]==="M"||ge[0]==="L")&&(fe=ge,de=ye),fe&&de&&de.params){let xe=de[1],Ae=de[5],Pe=de.params,{start:Fe,end:Ge,cx:rt,cy:Qe}=Pe,lt=Ae?xe-X:xe+X,qe=lt?Math.asin(X/lt):0,ct=Ae?qe:-qe,bt=Math.cos(qe)*lt;ue?(Pe.start=Fe+ct,fe[1]=rt+bt*Math.cos(Fe),fe[2]=Qe+bt*Math.sin(Fe),B.splice(G+1,0,["A",X,X,0,0,1,rt+xe*Math.cos(Pe.start),Qe+xe*Math.sin(Pe.start)])):(Pe.end=Ge-ct,de[6]=rt+xe*Math.cos(Pe.end),de[7]=Qe+xe*Math.sin(Pe.end),B.splice(G+1,0,["A",X,X,0,0,1,rt+bt*Math.cos(Ge),Qe+bt*Math.sin(Ge)])),de[4]=Math.abs(Pe.end-Pe.start)<Math.PI?0:1}}(h,$,$>1?F:R);return h}function dP(){var y,i;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:o,yAxis:l}=this,d=o.stacking==="percent",h=(i=(y=sP.plotOptions)==null?void 0:y[this.type])==null?void 0:i.borderRadius,u=Hv(o.borderRadius,e1(h)?h:{}),g=l.options.reversed;for(let m of this.points){let{shapeArgs:x}=m;if(m.shapeType==="roundedRect"&&x){let{width:_=0,height:b=0,y:C=0}=x,T=C,R=b;if(u.scope==="stack"&&m.stackTotal){let G=l.translate(d?100:m.stackTotal,!1,!0,!1,!0),X=l.translate(o.threshold||0,!1,!0,!1,!0),fe=this.crispCol(0,Math.min(G,X),0,Math.abs(G-X));T=fe.y,R=fe.height}let F=(m.negative?-1:1)*(g?-1:1)==-1,$=u.where;!$&&this.is("waterfall")&&Math.abs((m.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&($="all"),$||($="end");let B=Math.min(Uv(u.radius,_),_/2,$==="all"?b/2:1/0)||0;$==="end"&&(F&&(T-=B),R+=B),oP(x,{brBoxHeight:R,brBoxY:T,r:B})}}}}function Hv(y,i){return e1(y)||(y={radius:y||0}),aP(lP,i,y)}function hP(){let y=Hv(this.options.borderRadius);for(let i of this.points){let o=i.shapeArgs;o&&(o.borderRadius=Uv(y.radius,(o.r||0)-(o.innerR||0)))}}function uP(y,i,o,l,d={}){let h=r1(y,i,o,l,d),{r:u=0,brBoxHeight:g=l,brBoxY:m=i}=d,x=i-m,_=m+g-(i+l),b=x-u>-.1?0:u,C=_-u>-.1?0:u,T=Math.max(b&&x,0),R=Math.max(C&&_,0),F=[y+b,i],$=[y+o-b,i],B=[y+o,i+b],G=[y+o,i+l-C],X=[y+o-C,i+l],fe=[y+C,i+l],de=[y,i+l-C],ue=[y,i+b],ye=(ge,xe)=>Math.sqrt(Math.pow(ge,2)-Math.pow(xe,2));if(T){let ge=ye(b,b-T);F[0]-=ge,$[0]+=ge,B[1]=ue[1]=i+b-T}if(l<b-T){let ge=ye(b,b-T-l);B[0]=G[0]=y+o-b+ge,X[0]=Math.min(B[0],X[0]),fe[0]=Math.max(G[0],fe[0]),de[0]=ue[0]=y+b-ge,B[1]=ue[1]=i+l}if(R){let ge=ye(C,C-R);X[0]+=ge,fe[0]-=ge,G[1]=de[1]=i+l-C+R}if(l<C-R){let ge=ye(C,C-R-l);B[0]=G[0]=y+o-C+ge,$[0]=Math.min(B[0],$[0]),F[0]=Math.max(G[0],F[0]),de[0]=ue[0]=y+C-ge,G[1]=de[1]=i}return h.length=0,h.push(["M",...F],["L",...$],["A",b,b,0,0,1,...B],["L",...G],["A",C,C,0,0,1,...X],["L",...fe],["A",C,C,0,0,1,...de],["L",...ue],["A",b,b,0,0,1,...F],["Z"]),h}let{diffObjects:fP,extend:pP,find:gP,merge:mP,pick:bf,uniqueKey:vP}=Ke;(function(y){function i(l,d){let h=l.condition;(h.callback||function(){return this.chartWidth<=bf(h.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=bf(h.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=bf(h.minWidth,0)&&this.chartHeight>=bf(h.minHeight,0)}).call(this)&&d.push(l._id)}function o(l,d){let h=this.options.responsive,u=this.currentResponsive,g=[],m;!d&&h&&h.rules&&h.rules.forEach(b=>{b._id===void 0&&(b._id=vP()),this.matchResponsiveRule(b,g)},this);let x=mP(...g.map(b=>gP((h==null?void 0:h.rules)||[],C=>C._id===b)).map(b=>b==null?void 0:b.chartOptions));x.isResponsiveOptions=!0,g=g.toString()||void 0;let _=u==null?void 0:u.ruleIds;g!==_&&(u&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(u.undoOptions,l,!0),this.updatingResponsive=!1),g?((m=fP(x,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:g,mergedOptions:x,undoOptions:m},this.updatingResponsive||this.update(x,l,!0)):this.currentResponsive=void 0)}y.compose=function(l){let d=l.prototype;return d.matchResponsiveRule||pP(d,{matchResponsiveRule:i,setResponsive:o}),l}})(ae||(ae={}));let xP=ae;J.AST=Ut,J.Axis=xs,J.Chart=lo,J.Color=Wt,J.DataLabel=xf,J.DataTableCore=Si,J.Fx=Xr,J.HTMLElement=ps,J.Legend=db,J.LegendSymbol=bn,J.OverlappingDataLabels=J.OverlappingDataLabels||Zb,J.PlotLineOrBand=_l,J.Point=Z,J.Pointer=_r,J.RendererRegistry=qi,J.Series=ki,J.SeriesRegistry=lr,J.StackItem=Sb,J.SVGElement=en,J.SVGRenderer=pl,J.Templating=ar,J.Tick=eo,J.Time=Hc,J.Tooltip=rf,J.animate=jr.animate,J.animObject=jr.animObject,J.chart=lo.chart,J.color=Wt.parse,J.dateFormat=ar.dateFormat,J.defaultOptions=Oi.defaultOptions,J.distribute=hs.distribute,J.format=ar.format,J.getDeferredAnimation=jr.getDeferredAnimation,J.getOptions=Oi.getOptions,J.numberFormat=ar.numberFormat,J.seriesType=lr.seriesType,J.setAnimation=jr.setAnimation,J.setOptions=Oi.setOptions,J.stop=jr.stop,J.time=Oi.defaultTime,J.timers=Xr.timers,{compose:function(y,i,o){let l=y.types.pie;if(!i.symbolCustomAttribs.includes("borderRadius")){let d=o.prototype.symbols;Jb(y,"afterColumnTranslate",dP,{order:9}),Jb(l,"afterTranslate",hP),i.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),t1=d.arc,r1=d.roundedRect,d.arc=cP,d.roundedRect=uP}},optionsToObject:Hv}.compose(J.Series,J.SVGElement,J.SVGRenderer),E2.compose(J.Series.types.column),xf.compose(J.Series),Gm.compose(J.Axis),ps.compose(J.SVGRenderer),db.compose(J.Chart),Sl.compose(J.Axis),Zb.compose(J.Chart),Q2.compose(J.Series.types.pie),_l.compose(J.Chart,J.Axis),_r.compose(J.Chart),xP.compose(J.Chart),wd.compose(J.Axis,J.Chart,J.Series),s2.compose(J.Axis,J.Chart,J.Series),rf.compose(J.Pointer),Ke.extend(J,Ke);let yP=J;return ce.default})())})(lA);var I3=lA.exports;const cA=jh(I3);var dA={exports:{}};(function(e,t){(function(r,n){e.exports=n(r._Highcharts,r._Highcharts.Point,r._Highcharts.Axis,r._Highcharts.Color,r._Highcharts.SeriesRegistry,r._Highcharts.RendererRegistry,r._Highcharts.SVGRenderer,r._Highcharts.SVGElement,r._Highcharts.Templating,r._Highcharts.Chart,r._Highcharts.Series.types.column,r._Highcharts.Series,r._Highcharts.StackItem)})(typeof window>"u"?vi:window,(r,n,s,a,c,p,v,w,k,E,P,z,U)=>(()=>{let D,L,I,j;var O,q,ae,re,ce,J,we,ke,Se={28:K=>{K.exports=w},184:K=>{K.exports=U},260:K=>{K.exports=n},448:K=>{K.exports=P},512:K=>{K.exports=c},532:K=>{K.exports=s},540:K=>{K.exports=v},608:K=>{K.exports=p},620:K=>{K.exports=a},820:K=>{K.exports=z},944:K=>{K.exports=r},960:K=>{K.exports=E},984:K=>{K.exports=k}},me={};function Te(K){var S=me[K];if(S!==void 0)return S.exports;var A=me[K]={exports:{}};return Se[K](A,A.exports,Te),A.exports}Te.n=K=>{var S=K&&K.__esModule?()=>K.default:()=>K;return Te.d(S,{a:S}),S},Te.d=(K,S)=>{for(var A in S)Te.o(S,A)&&!Te.o(K,A)&&Object.defineProperty(K,A,{enumerable:!0,get:S[A]})},Te.o=(K,S)=>Object.prototype.hasOwnProperty.call(K,S);var We={};Te.d(We,{default:()=>hv});var Je=Te(944),ie=Te.n(Je),ve=Te(260);let{tooltipFormatter:pe}=Te.n(ve)().prototype,{addEvent:Me,arrayMax:ze,arrayMin:Be,correctFloat:Ee,defined:Ze,isArray:ot,isNumber:tt,isString:Ce,pick:Oe}=ie();(function(K){function S(te,V,Q){!this.isXAxis&&(this.series.forEach(function(Z){te==="compare"&&typeof V!="boolean"?Z.setCompare(V,!1):te!=="cumulative"||Ce(V)||Z.setCumulative(V,!1)}),Oe(Q,!0)&&this.chart.redraw())}function A(te){let V=this,{numberFormatter:Q}=V.series.chart,Z=function(le){te=te.replace("{point."+le+"}",(V[le]>0&&le==="change"?"+":"")+Q(V[le],Oe(V.series.tooltipOptions.changeDecimals,2)))};return Ze(V.change)&&Z("change"),Ze(V.cumulativeSum)&&Z("cumulativeSum"),pe.apply(this,[te])}function N(){let te,V=this.options.compare;(V==="percent"||V==="value"||this.options.cumulative)&&(te=new ee(this),V==="percent"||V==="value"?te.initCompare(V):te.initCumulative()),this.dataModify=te}function W(te){let V=te.dataExtremes,Q=V.activeYData;if(this.dataModify&&V){let Z;this.options.compare?Z=[this.dataModify.modifyValue(V.dataMin),this.dataModify.modifyValue(V.dataMax)]:this.options.cumulative&&ot(Q)&&Q.length>=2&&(Z=ee.getCumulativeExtremes(Q)),Z&&(V.dataMin=Be(Z),V.dataMax=ze(Z))}}function H(te,V){this.options.compare=this.userOptions.compare=te,this.update({},Oe(V,!0)),this.dataModify&&(te==="value"||te==="percent")?this.dataModify.initCompare(te):this.points.forEach(Q=>{delete Q.change})}function Y(){let te=this.getColumn(this.pointArrayMap&&(this.options.pointValKey||this.pointValKey)||"y",!0);if(this.xAxis&&te.length&&this.dataModify){let V=this.getColumn("x",!0),Q=this.dataTable.rowCount,Z=+(this.options.compareStart!==!0);for(let le=0;le<Q-Z;le++){let he=te[le];if(tt(he)&&he!==0&&V[le+Z]>=(this.xAxis.min||0)){this.dataModify.compareValue=he;break}}}}function ne(te,V){this.setModifier("compare",te,V)}function se(te,V){te=Oe(te,!1),this.options.cumulative=this.userOptions.cumulative=te,this.update({},Oe(V,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(Q=>{delete Q.cumulativeSum})}function oe(te,V){this.setModifier("cumulative",te,V)}K.compose=function(te,V,Q){let Z=V.prototype,le=Q.prototype,he=te.prototype;return he.setCompare||(he.setCompare=H,he.setCumulative=se,Me(te,"afterInit",N),Me(te,"afterGetExtremes",W),Me(te,"afterProcessData",Y)),Z.setCompare||(Z.setCompare=ne,Z.setModifier=S,Z.setCumulative=oe,le.tooltipFormatter=A),te};class ee{constructor(V){this.series=V}modifyValue(){return 0}static getCumulativeExtremes(V){let Q=1/0,Z=-1/0;return V.reduce((le,he)=>{let be=le+he;return Q=Math.min(Q,be,le),Z=Math.max(Z,be,le),be}),[Q,Z]}initCompare(V){this.modifyValue=function(Q,Z){Q===null&&(Q=0);let le=this.compareValue;if(Q!==void 0&&le!==void 0){if(V==="value"?Q-=le:Q=Q/le*100-100*(this.series.options.compareBase!==100),Z!==void 0){let he=this.series.points[Z];he&&(he.change=Q)}return Q}return 0}}initCumulative(){this.modifyValue=function(V,Q){if(V===null&&(V=0),V!==void 0&&Q!==void 0){let Z=Q>0?this.series.points[Q-1]:null;Z&&Z.cumulativeSum&&(V=Ee(Z.cumulativeSum+V));let le=this.series.points[Q],he=le.series.options.cumulativeStart,be=le.x<=this.series.xAxis.max&&le.x>=this.series.xAxis.min;return le&&(!he||be?le.cumulativeSum=V:le.cumulativeSum=void 0),V}return 0}}}K.Additions=ee})(O||(O={}));let st=O;var ht=Te(532),vt=Te.n(ht);let{isTouchDevice:ft}=ie(),{addEvent:St,merge:Ke,pick:$r}=ie(),Hr=[];function Xi(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function ci(){var H;let K,S,A,N=this.legend,W=this.navigator;if(W){K=N&&N.options,S=W.xAxis,A=W.yAxis;let{scrollbarHeight:Y,scrollButtonSize:ne}=W;this.inverted?(W.left=W.opposite?this.chartWidth-Y-W.height:this.spacing[3]+Y,W.top=this.plotTop+ne):(W.left=$r(S.left,this.plotLeft+ne),W.top=W.navigatorOptions.top||this.chartHeight-W.height-Y-(((H=this.scrollbar)==null?void 0:H.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(K&&K.verticalAlign==="bottom"&&K.layout!=="proximate"&&K.enabled&&!K.floating?N.legendHeight+$r(K.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),S&&A&&(this.inverted?S.options.left=A.options.left=W.left:S.options.top=A.options.top=W.top,S.setAxisSize(),A.setAxisSize())}}function Gr(K){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new D(this),$r(K.redraw,!0)&&this.redraw(K.animation))}function Yi(){let K=this.options;(K.navigator.enabled||K.scrollbar.enabled)&&(this.scroller=this.navigator=new D(this))}function Fc(){let K=this.options,S=K.navigator,A=K.rangeSelector;if((S&&S.enabled||A&&A.enabled)&&(!ft&&this.zooming.type==="x"||ft&&this.zooming.pinchType==="x"))return!1}function Ko(K){let S=K.navigator;if(S&&K.xAxis[0]){let A=K.xAxis[0].getExtremes();S.render(A.min,A.max)}}function Gg(K){let S=K.options.navigator||{},A=K.options.scrollbar||{};!this.navigator&&!this.scroller&&(S.enabled||A.enabled)&&(Ke(!0,this.options.navigator,S),Ke(!0,this.options.scrollbar,A),delete K.options.navigator,delete K.options.scrollbar)}let Vg={compose:function(K,S){if(ie().pushUnique(Hr,K)){let A=K.prototype;D=S,A.callbacks.push(Ko),St(K,"afterAddSeries",Xi),St(K,"afterSetChartSize",ci),St(K,"afterUpdate",Gr),St(K,"beforeRender",Yi),St(K,"beforeShowResetZoom",Fc),St(K,"update",Gg)}}},{isTouchDevice:Bn}=ie(),{addEvent:Yh,correctFloat:Ja,defined:Wc,isNumber:qh,pick:Kh}=ie();function Xg(){this.navigatorAxis||(this.navigatorAxis=new Uc(this))}function Zh(K){let S,A=this.chart,N=A.options,W=N.navigator,H=this.navigatorAxis,Y=A.zooming.pinchType,ne=N.rangeSelector,se=A.zooming.type;if(this.isXAxis&&(W!=null&&W.enabled||ne!=null&&ne.enabled)){if(se==="y"&&K.trigger==="zoom")S=!1;else if((K.trigger==="zoom"&&se==="xy"||Bn&&Y==="xy")&&this.options.range){let oe=H.previousZoom;Wc(K.min)?H.previousZoom=[this.min,this.max]:oe&&(K.min=oe[0],K.max=oe[1],H.previousZoom=void 0)}}S!==void 0&&K.preventDefault()}class Uc{static compose(S){S.keepProps.includes("navigatorAxis")||(S.keepProps.push("navigatorAxis"),Yh(S,"init",Xg),Yh(S,"setExtremes",Zh))}constructor(S){this.axis=S}destroy(){this.axis=void 0}toFixedRange(S,A,N,W){let H=this.axis,Y=(H.pointRange||0)/2,ne=Kh(N,H.translate(S,!0,!H.horiz)),se=Kh(W,H.translate(A,!0,!H.horiz));return Wc(N)||(ne=Ja(ne+Y)),Wc(W)||(se=Ja(se-Y)),qh(ne)&&qh(se)||(ne=se=void 0),{min:ne,max:se}}}var or=Te(620),Hc=Te.n(or),Yg=Te(512),di=Te.n(Yg);let{parse:qg}=Hc(),{seriesTypes:mn}=di(),Zo={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:qg("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:mn.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{defined:Oi,isNumber:Zw,pick:el}=ie(),Kg={rect:function(K,S,A,N,W){return W!=null&&W.r?function(H,Y,ne,se,oe){let ee=(oe==null?void 0:oe.r)||0;return[["M",H+ee,Y],["L",H+ne-ee,Y],["A",ee,ee,0,0,1,H+ne,Y+ee],["L",H+ne,Y+se-ee],["A",ee,ee,0,0,1,H+ne-ee,Y+se],["L",H+ee,Y+se],["A",ee,ee,0,0,1,H,Y+se-ee],["L",H,Y+ee],["A",ee,ee,0,0,1,H+ee,Y],["Z"]]}(K,S,A,N,W):[["M",K,S],["L",K+A,S],["L",K+A,S+N],["L",K,S+N],["Z"]]}},{relativeLength:Zg}=ie(),Vr={"navigator-handle":function(K,S,A,N,W={}){let H=W.width?W.width/2:A,Y=Zg(W.borderRadius||0,Math.min(2*H,N));return[["M",-1.5,(N=W.height||N)/2-3.5],["L",-1.5,N/2+4.5],["M",.5,N/2-3.5],["L",.5,N/2+4.5],...Kg.rect(-H-1,.5,2*H+1,N,{r:Y})]}};var Qh=Te(608),Gc=Te.n(Qh);let{defined:tl}=ie(),Wt={setFixedRange:function(K){let S=this.xAxis[0];tl(S.dataMax)&&tl(S.dataMin)&&K?this.fixedRange=Math.min(K,S.dataMax-S.dataMin):this.fixedRange=K}},{defaultOptions:Jh}=ie(),{composed:Qg}=ie(),{getRendererType:Vc}=Gc(),{setFixedRange:Jg}=Wt,{addEvent:Xr,extend:eu,pushUnique:em}=ie();function tm(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let rm={compose:function(K,S,A){Uc.compose(S),em(Qg,"Navigator")&&(K.prototype.setFixedRange=Jg,eu(Vc().prototype.symbols,Vr),eu(Jh,{navigator:Zo}),Xr(A,"afterUpdate",tm))}},{composed:Xc}=ie(),{addEvent:Qo,correctFloat:tu,defined:cs,pick:rl,pushUnique:ru}=ie();(function(K){let S;function A(Y){var oe,ee,te;let ne=rl((oe=Y.options)==null?void 0:oe.min,Y.min),se=rl((ee=Y.options)==null?void 0:ee.max,Y.max);return{axisMin:ne,axisMax:se,scrollMin:cs(Y.dataMin)?Math.min(ne,Y.min??1/0,Y.dataMin,Y.threshold??1/0):ne,scrollMax:((te=Y.treeGrid)==null?void 0:te.adjustedMax)??(cs(Y.dataMax)?Math.max(se,Y.max??-1/0,Y.dataMax,Y.threshold??-1/0):se)}}function N(){let Y=this.scrollbar,ne=Y&&!Y.options.opposite,se=this.horiz?2:ne?3:1;Y&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[se]+=Y.size+(Y.options.margin||0))}function W(){var ne,se;let Y=this;(se=(ne=Y.options)==null?void 0:ne.scrollbar)!=null&&se.enabled&&(Y.options.scrollbar.vertical=!Y.horiz,Y.options.startOnTick=Y.options.endOnTick=!1,Y.scrollbar=new S(Y.chart.renderer,Y.options.scrollbar,Y.chart),Qo(Y.scrollbar,"changed",function(oe){let ee,te,{axisMin:V,axisMax:Q,scrollMin:Z,scrollMax:le}=A(Y),he=Y.toPixels(Z),be=Y.toPixels(le)-he;if(cs(V)&&cs(Q))if(Y.horiz&&!Y.reversed||!Y.horiz&&Y.reversed?(ee=Math.min(le,Y.toValue(he+be*this.to)),te=Math.max(Z,Y.toValue(he+be*this.from))):(ee=Math.min(le,Y.toValue(he+be*(1-this.from))),te=Math.max(Z,Y.toValue(he+be*(1-this.to)))),this.shouldUpdateExtremes(oe.DOMType)){let _e=oe.DOMType!=="mousemove"&&oe.DOMType!=="touchmove"&&void 0;Y.setExtremes(tu(te),tu(ee),!0,_e,oe)}else this.setRange(this.from,this.to)}))}function H(){let Y,ne,se,{scrollMin:oe,scrollMax:ee}=A(this),te=this.scrollbar,V=(this.axisTitleMargin||0)+(this.titleOffset||0),Q=this.chart.scrollbarsOffsets,Z=this.options.margin||0;if(te&&Q){if(this.horiz)this.opposite||(Q[1]+=V),te.position(this.left,this.top+this.height+2+Q[1]-(this.opposite?Z:0),this.width,this.height),this.opposite||(Q[1]+=Z),Y=1;else{let le;this.opposite&&(Q[0]+=V),le=te.options.opposite?this.left+this.width+2+Q[0]-(this.opposite?0:Z):this.opposite?0:Z,te.position(le,this.top,this.width,this.height),this.opposite&&(Q[0]+=Z),Y=0}if(Q[Y]+=te.size+(te.options.margin||0),isNaN(oe)||isNaN(ee)||!cs(this.min)||!cs(this.max)||cs(this.dataMin)&&this.dataMin===this.dataMax)te.setRange(0,1);else if(this.min===this.max){let le=this.pointRange/(this.dataMax+1);ne=le*this.min,se=le*(this.max+1),te.setRange(ne,se)}else ne=(this.toPixels(this.min)-this.toPixels(oe))/(this.toPixels(ee)-this.toPixels(oe)),se=(this.toPixels(this.max)-this.toPixels(oe))/(this.toPixels(ee)-this.toPixels(oe)),this.horiz&&!this.reversed||!this.horiz&&this.reversed?te.setRange(ne,se):te.setRange(1-se,1-ne)}}K.compose=function(Y,ne){ru(Xc,"Axis.Scrollbar")&&(S=ne,Qo(Y,"afterGetOffset",N),Qo(Y,"afterInit",W),Qo(Y,"afterRender",H))}})(q||(q={}));let jr=q,Jo={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:iu}=ie(),{composed:im}=ie(),{addEvent:nm,correctFloat:ds,crisp:ea,defined:nu,destroyObjectProperties:su,extend:ou,fireEvent:ta,merge:il,pick:$n,pushUnique:sm,removeEvent:Ut}=ie();class zn{static compose(S){jr.compose(S,zn),sm(im,"Scrollbar")&&ou(iu,{scrollbar:Jo})}static swapXY(S,A){return A&&S.forEach(N=>{let W,H=N.length;for(let Y=0;Y<H;Y+=2)typeof(W=N[Y+1])=="number"&&(N[Y+1]=N[Y+2],N[Y+2]=W)}),S}constructor(S,A,N){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(S,A,N)}addEvents(){let S=this.options.inverted?[1,0]:[0,1],A=this.scrollbarButtons,N=this.scrollbarGroup.element,W=this.track.element,H=this.mouseDownHandler.bind(this),Y=this.mouseMoveHandler.bind(this),ne=this.mouseUpHandler.bind(this),se=[[A[S[0]].element,"click",this.buttonToMinClick.bind(this)],[A[S[1]].element,"click",this.buttonToMaxClick.bind(this)],[W,"click",this.trackClick.bind(this)],[N,"mousedown",H],[N.ownerDocument,"mousemove",Y],[N.ownerDocument,"mouseup",ne],[N,"touchstart",H],[N.ownerDocument,"touchmove",Y],[N.ownerDocument,"touchend",ne]];se.forEach(function(oe){nm.apply(null,oe)}),this._events=se}buttonToMaxClick(S){let A=(this.to-this.from)*$n(this.options.step,.2);this.updatePosition(this.from+A,this.to+A),ta(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})}buttonToMinClick(S){let A=ds(this.to-this.from)*$n(this.options.step,.2);this.updatePosition(ds(this.from-A),ds(this.to-A)),ta(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})}cursorToScrollbarPosition(S){let A=this.options,N=A.minWidth>this.calculatedWidth?A.minWidth:0;return{chartX:(S.chartX-this.x-this.xOffset)/(this.barWidth-N),chartY:(S.chartY-this.y-this.yOffset)/(this.barWidth-N)}}destroy(){let S=this,A=S.chart.scroller;S.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(N){S[N]&&S[N].destroy&&(S[N]=S[N].destroy())}),A&&S===A.scrollbar&&(A.scrollbar=null,su(A.scrollbarButtons))}drawScrollbarButton(S){let A=this.renderer,N=this.scrollbarButtons,W=this.options,H=this.size,Y=A.g().add(this.group);if(N.push(Y),W.buttonsEnabled){let ne=A.rect().addClass("highcharts-scrollbar-button").add(Y);this.chart.styledMode||ne.attr({stroke:W.buttonBorderColor,"stroke-width":W.buttonBorderWidth,fill:W.buttonBackgroundColor}),ne.attr(ne.crisp({x:-.5,y:-.5,width:H,height:H,r:W.buttonBorderRadius},ne.strokeWidth()));let se=A.path(zn.swapXY([["M",H/2+(S?-1:1),H/2-3],["L",H/2+(S?-1:1),H/2+3],["L",H/2+(S?2:-2),H/2]],W.vertical)).addClass("highcharts-scrollbar-arrow").add(N[S]);this.chart.styledMode||se.attr({fill:W.buttonArrowColor})}}init(S,A,N){this.scrollbarButtons=[],this.renderer=S,this.userOptions=A,this.options=il(Jo,iu.scrollbar,A),this.options.margin=$n(this.options.margin,10),this.chart=N,this.size=$n(this.options.size,this.options.height),A.enabled&&(this.render(),this.addEvents())}mouseDownHandler(S){var W;let A=((W=this.chart.pointer)==null?void 0:W.normalize(S))||S,N=this.cursorToScrollbarPosition(A);this.chartX=N.chartX,this.chartY=N.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(S){var Y;let A,N=((Y=this.chart.pointer)==null?void 0:Y.normalize(S))||S,W=this.options.vertical?"chartY":"chartX",H=this.initPositions||[];this.grabbedCenter&&(!S.touches||S.touches[0][W]!==0)&&(A=this.cursorToScrollbarPosition(N)[W]-this[W],this.hasDragged=!0,this.updatePosition(H[0]+A,H[1]+A),this.hasDragged&&ta(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:S.type,DOMEvent:S}))}mouseUpHandler(S){this.hasDragged&&ta(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:S.type,DOMEvent:S}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(S,A,N,W){let{buttonsEnabled:H,margin:Y=0,vertical:ne}=this.options,se=this.rendered?"animate":"attr",oe=W,ee=0;this.group.show(),this.x=S,this.y=A+this.trackBorderWidth,this.width=N,this.height=W,this.xOffset=oe,this.yOffset=ee,ne?(this.width=this.yOffset=N=ee=this.size,this.xOffset=oe=0,this.yOffset=ee=H?this.size:0,this.barWidth=W-(H?2*N:0),this.x=S+=Y):(this.height=W=this.size,this.xOffset=oe=H?this.size:0,this.barWidth=N-(H?2*W:0),this.y=this.y+Y),this.group[se]({translateX:S,translateY:this.y}),this.track[se]({width:N,height:W}),this.scrollbarButtons[1][se]({translateX:ne?0:N-oe,translateY:ne?W-ee:0})}removeEvents(){this._events.forEach(function(S){Ut.apply(null,S)}),this._events.length=0}render(){let S=this.renderer,A=this.options,N=this.size,W=this.chart.styledMode,H=S.g("scrollbar").attr({zIndex:A.zIndex}).hide().add();this.group=H,this.track=S.rect().addClass("highcharts-scrollbar-track").attr({r:A.trackBorderRadius||0,height:N,width:N}).add(H),W||this.track.attr({fill:A.trackBackgroundColor,stroke:A.trackBorderColor,"stroke-width":A.trackBorderWidth});let Y=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-ea(0,Y),y:-ea(0,Y)}),this.scrollbarGroup=S.g().add(H),this.scrollbar=S.rect().addClass("highcharts-scrollbar-thumb").attr({height:N-Y,width:N-Y,r:A.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=S.path(zn.swapXY([["M",-3,N/4],["L",-3,2*N/3],["M",0,N/4],["L",0,2*N/3],["M",3,N/4],["L",3,2*N/3]],A.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),W||(this.scrollbar.attr({fill:A.barBackgroundColor,stroke:A.barBorderColor,"stroke-width":A.barBorderWidth}),this.scrollbarRifles.attr({stroke:A.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-ea(0,this.scrollbarStrokeWidth),-ea(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(S,A){let N,W,H=this.options,Y=H.vertical,ne=H.minWidth,se=this.barWidth,oe=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!nu(se))return;let ee=se*Math.min(A,1);N=Math.ceil(se*(S=Math.max(S,0))),this.calculatedWidth=W=ds(ee-N),W<ne&&(N=(se-ne+W)*S,W=ne);let te=Math.floor(N+this.xOffset+this.yOffset),V=W/2-.5;this.from=S,this.to=A,Y?(this.scrollbarGroup[oe]({translateY:te}),this.scrollbar[oe]({height:W}),this.scrollbarRifles[oe]({translateY:V}),this.scrollbarTop=te,this.scrollbarLeft=0):(this.scrollbarGroup[oe]({translateX:te}),this.scrollbar[oe]({width:W}),this.scrollbarRifles[oe]({translateX:V}),this.scrollbarLeft=te,this.scrollbarTop=0),W<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),H.showFull===!1&&(S<=0&&A>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(S){return $n(this.options.liveRedraw,ie().svg&&!ie().isTouchDevice&&!this.chart.boosted)||S==="mouseup"||S==="touchend"||!nu(S)}trackClick(S){var Y;let A=((Y=this.chart.pointer)==null?void 0:Y.normalize(S))||S,N=this.to-this.from,W=this.y+this.scrollbarTop,H=this.x+this.scrollbarLeft;this.options.vertical&&A.chartY>W||!this.options.vertical&&A.chartX>H?this.updatePosition(this.from+N,this.to+N):this.updatePosition(this.from-N,this.to-N),ta(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:S})}update(S){this.destroy(),this.init(this.chart.renderer,il(!0,this.options,S),this.chart)}updatePosition(S,A){A>1&&(S=ds(1-ds(A-S)),A=1),S<0&&(A=ds(A-S),S=0),this.from=S,this.to=A}}zn.defaultOptions=Jo;var au=Te(540),om=Te.n(au);let{defaultOptions:Yc}=ie(),{isTouchDevice:am}=ie(),{prototype:{symbols:lu}}=om(),{addEvent:br,clamp:cu,correctFloat:nl,defined:Fs,destroyObjectProperties:lm,erase:vn,extend:du,find:hu,fireEvent:Ws,isArray:qc,isNumber:ar,merge:qi,pick:hi,removeEvent:sl,splat:uu}=ie();function Us(K,...S){let A=[].filter.call(S,ar);if(A.length)return Math[K].apply(0,A)}class hs{static compose(S,A,N){Vg.compose(S,hs),rm.compose(S,A,N)}constructor(S){this.isDirty=!1,this.scrollbarHeight=0,this.init(S)}drawHandle(S,A,N,W){let H=this.navigatorOptions.handles.height;this.handles[A][W](N?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(S,10)+.5-H)}:{translateX:Math.round(this.left+parseInt(S,10)),translateY:Math.round(this.top+this.height/2-H/2-1)})}drawOutline(S,A,N,W){let H=this.navigatorOptions.maskInside,Y=this.outline.strokeWidth(),ne=Y/2,se=Y%2/2,oe=this.scrollButtonSize,ee=this.size,te=this.top,V=this.height,Q=te-ne,Z=te+V,le=this.left,he,be;N?(he=te+A+se,A=te+S+se,be=[["M",le+V,te-oe-se],["L",le+V,he],["L",le,he],["M",le,A],["L",le+V,A],["L",le+V,te+ee+oe]],H&&be.push(["M",le+V,he-ne],["L",le+V,A+ne])):(le-=oe,S+=le+oe-se,A+=le+oe-se,be=[["M",le,Q],["L",S,Q],["L",S,Z],["M",A,Z],["L",A,Q],["L",le+ee+2*oe,Q]],H&&be.push(["M",S-ne,Q],["L",A+ne,Q])),this.outline[W]({d:be})}drawMasks(S,A,N,W){let H,Y,ne,se,oe=this.left,ee=this.top,te=this.height;N?(ne=[oe,oe,oe],se=[ee,ee+S,ee+A],Y=[te,te,te],H=[S,A-S,this.size-A]):(ne=[oe,oe+S,oe+A],se=[ee,ee,ee],Y=[S,A-S,this.size-A],H=[te,te,te]),this.shades.forEach((V,Q)=>{V[W]({x:ne[Q],y:se[Q],width:Y[Q],height:H[Q]})})}renderElements(){var oe;let S=this,A=S.navigatorOptions,N=A.maskInside,W=S.chart,H=W.inverted,Y=W.renderer,ne={cursor:H?"ns-resize":"ew-resize"},se=S.navigatorGroup??(S.navigatorGroup=Y.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!N,N,!N].forEach((ee,te)=>{let V=S.shades[te]??(S.shades[te]=Y.rect().addClass("highcharts-navigator-mask"+(te===1?"-inside":"-outside")).add(se));W.styledMode||(V.attr({fill:ee?A.maskFill:"rgba(0,0,0,0)"}),te===1&&V.css(ne))}),S.outline||(S.outline=Y.path().addClass("highcharts-navigator-outline").add(se)),W.styledMode||S.outline.attr({"stroke-width":A.outlineWidth,stroke:A.outlineColor}),(oe=A.handles)==null?void 0:oe.enabled){let ee=A.handles,{height:te,width:V}=ee;[0,1].forEach(Q=>{var le;let Z=ee.symbols[Q];if(S.handles[Q]&&S.handles[Q].symbolUrl===Z){if(!S.handles[Q].isImg&&S.handles[Q].symbolName!==Z){let he=lu[Z].call(lu,-V/2-1,0,V,te);S.handles[Q].attr({d:he}),S.handles[Q].symbolName=Z}}else(le=S.handles[Q])==null||le.destroy(),S.handles[Q]=Y.symbol(Z,-V/2-1,0,V,te,ee),S.handles[Q].attr({zIndex:7-Q}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][Q]).add(se),S.addMouseEvents();W.inverted&&S.handles[Q].attr({rotation:90,rotationOriginX:Math.floor(-V/2),rotationOriginY:(te+V)/2}),W.styledMode||S.handles[Q].attr({fill:ee.backgroundColor,stroke:ee.borderColor,"stroke-width":ee.lineWidth,width:ee.width,height:ee.height,x:-V/2-1,y:0}).css(ne)})}}update(S,A=!1){var H;let N=this.chart,W=N.options.chart.inverted!==((H=N.scrollbar)==null?void 0:H.options.vertical);if(qi(!0,N.options.navigator,S),this.navigatorOptions=N.options.navigator||{},this.setOpposite(),Fs(S.enabled)||W)return this.destroy(),this.navigatorEnabled=S.enabled||this.navigatorEnabled,this.init(N);if(this.navigatorEnabled&&(this.isDirty=!0,S.adaptToUpdatedData===!1&&this.baseSeries.forEach(Y=>{sl(Y,"updatedData",this.updatedDataHandler)},this),S.adaptToUpdatedData&&this.baseSeries.forEach(Y=>{Y.eventsToUnbind.push(br(Y,"updatedData",this.updatedDataHandler))},this),(S.series||S.baseSeries)&&this.setBaseSeries(void 0,!1),S.height||S.xAxis||S.yAxis)){this.height=S.height??this.height;let Y=this.getXAxisOffsets();this.xAxis.update({...S.xAxis,offsets:Y,[N.inverted?"width":"height"]:this.height,[N.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...S.yAxis,[N.inverted?"width":"height"]:this.height},!1)}A&&N.redraw()}render(S,A,N,W){let H=this.chart,Y=this.xAxis,ne=Y.pointRange||0,se=Y.navigatorAxis.fake?H.xAxis[0]:Y,oe=this.navigatorEnabled,ee=this.rendered,te=H.inverted,V=H.xAxis[0].minRange,Q=H.xAxis[0].options.maxRange,Z=this.scrollButtonSize,le,he,be,_e=this.scrollbarHeight,$e,je;if(this.hasDragged&&!Fs(N))return;if(this.isDirty&&this.renderElements(),S=nl(S-ne/2),A=nl(A+ne/2),!ar(S)||!ar(A))if(ee)N=0,W=hi(Y.width,se.width);else return;this.left=hi(Y.left,H.plotLeft+Z+(te?H.plotWidth:0));let Ne=this.size=$e=hi(Y.len,(te?H.plotHeight:H.plotWidth)-2*Z);le=te?_e:$e+2*Z,N=hi(N,Y.toPixels(S,!0)),W=hi(W,Y.toPixels(A,!0)),ar(N)&&Math.abs(N)!==1/0||(N=0,W=le);let Re=Y.toValue(N,!0),Ie=Y.toValue(W,!0),Ue=Math.abs(nl(Ie-Re));Ue<V?this.grabbedLeft?N=Y.toPixels(Ie-V-ne,!0):this.grabbedRight&&(W=Y.toPixels(Re+V+ne,!0)):Fs(Q)&&nl(Ue-ne)>Q&&(this.grabbedLeft?N=Y.toPixels(Ie-Q-ne,!0):this.grabbedRight&&(W=Y.toPixels(Re+Q+ne,!0))),this.zoomedMax=cu(Math.max(N,W),0,Ne),this.zoomedMin=cu(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(N,W),0,Ne),this.range=this.zoomedMax-this.zoomedMin,Ne=Math.round(this.zoomedMax);let De=Math.round(this.zoomedMin);oe&&(this.navigatorGroup.attr({visibility:"inherit"}),je=ee&&!this.hasDragged?"animate":"attr",this.drawMasks(De,Ne,te,je),this.drawOutline(De,Ne,te,je),this.navigatorOptions.handles.enabled&&(this.drawHandle(De,0,te,je),this.drawHandle(Ne,1,te,je))),this.scrollbar&&(te?(be=this.top-Z,he=this.left-_e+(oe||!se.opposite?0:(se.titleOffset||0)+se.axisTitleMargin),_e=$e+2*Z):(be=this.top+(oe?this.height:-_e),he=this.left-Z),this.scrollbar.position(he,be,le,_e),this.scrollbar.setRange(this.zoomedMin/($e||1),this.zoomedMax/($e||1))),this.rendered=!0,this.isDirty=!1,Ws(this,"afterRender")}addMouseEvents(){let S=this,A=S.chart,N=A.container,W=[],H,Y;S.mouseMoveHandler=H=function(ne){S.onMouseMove(ne)},S.mouseUpHandler=Y=function(ne){S.onMouseUp(ne)},(W=S.getPartsEvents("mousedown")).push(br(A.renderTo,"mousemove",H),br(N.ownerDocument,"mouseup",Y),br(A.renderTo,"touchmove",H),br(N.ownerDocument,"touchend",Y)),W.concat(S.getPartsEvents("touchstart")),S.eventsToUnbind=W,S.series&&S.series[0]&&W.push(br(S.series[0].xAxis,"foundExtremes",function(){A.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(S){let A=this,N=[];return["shades","handles"].forEach(function(W){A[W].forEach(function(H,Y){N.push(br(H.element,S,function(ne){A[W+"Mousedown"](ne,Y)}))})}),N}shadesMousedown(S,A){var Z;S=((Z=this.chart.pointer)==null?void 0:Z.normalize(S))||S;let N=this.chart,W=this.xAxis,H=this.zoomedMin,Y=this.size,ne=this.range,se=this.left,oe=S.chartX,ee,te,V,Q;N.inverted&&(oe=S.chartY,se=this.top),A===1?(this.grabbedCenter=oe,this.fixedWidth=ne,this.dragOffset=oe-H):(Q=oe-se-ne/2,A===0?Q=Math.max(0,Q):A===2&&Q+ne>=Y&&(Q=Y-ne,this.reversedExtremes?(Q-=ne,te=this.getUnionExtremes().dataMin):ee=this.getUnionExtremes().dataMax),Q!==H&&(this.fixedWidth=ne,Fs((V=W.navigatorAxis.toFixedRange(Q,Q+ne,te,ee)).min)&&Ws(this,"setRange",{min:Math.min(V.min,V.max),max:Math.max(V.min,V.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(S,A){var Y;S=((Y=this.chart.pointer)==null?void 0:Y.normalize(S))||S;let N=this.chart,W=N.xAxis[0],H=this.reversedExtremes;A===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=H?W.min:W.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=H?W.max:W.min),N.setFixedRange(void 0)}onMouseMove(S){var ee;let A=this,N=A.chart,W=A.navigatorSize,H=A.range,Y=A.dragOffset,ne=N.inverted,se=A.left,oe;(!S.touches||S.touches[0].pageX!==0)&&(oe=(S=((ee=N.pointer)==null?void 0:ee.normalize(S))||S).chartX,ne&&(se=A.top,oe=S.chartY),A.grabbedLeft?(A.hasDragged=!0,A.render(0,0,oe-se,A.otherHandlePos)):A.grabbedRight?(A.hasDragged=!0,A.render(0,0,A.otherHandlePos,oe-se)):A.grabbedCenter&&(A.hasDragged=!0,oe<Y?oe=Y:oe>W+Y-H&&(oe=W+Y-H),A.render(0,0,oe-Y,oe-Y+H)),A.hasDragged&&A.scrollbar&&hi(A.scrollbar.options.liveRedraw,!am&&!this.chart.boosted)&&(S.DOMType=S.type,setTimeout(function(){A.onMouseUp(S)},0)))}onMouseUp(S){let A,N,W,H,Y,ne,se=this.chart,oe=this.xAxis,ee=this.scrollbar,te=S.DOMEvent||S,V=se.inverted,Q=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!ee||!ee.hasDragged)||S.trigger==="scrollbar")&&(W=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?H=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(Y=this.fixedExtreme),this.zoomedMax===this.size&&(Y=this.reversedExtremes?W.dataMin:W.dataMax),this.zoomedMin===0&&(H=this.reversedExtremes?W.dataMax:W.dataMin),Fs((ne=oe.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,H,Y)).min)&&Ws(this,"setRange",{min:Math.min(ne.min,ne.max),max:Math.max(ne.min,ne.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:te}})),S.DOMType!=="mousemove"&&S.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&ar(this.zoomedMin)&&ar(this.zoomedMax)&&(N=Math.round(this.zoomedMin),A=Math.round(this.zoomedMax),this.shades&&this.drawMasks(N,A,V,Q),this.outline&&this.drawOutline(N,A,V,Q),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(N,0,V,Q),this.drawHandle(A,1,V,Q)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(S){S()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let S=this.baseSeries||[];this.navigatorEnabled&&S[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&S.forEach(function(A){sl(A,"updatedData",this.updatedDataHandler)},this),S[0].xAxis&&sl(S[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(S){var le,he;let A=S.options,N=A.navigator||{},W=N.enabled,H=A.scrollbar||{},Y=H.enabled,ne=W&&N.height||0,se=Y&&H.height||0,oe=H.buttonsEnabled&&se||0;this.handles=[],this.shades=[],this.chart=S,this.setBaseSeries(),this.height=ne,this.scrollbarHeight=se,this.scrollButtonSize=oe,this.scrollbarEnabled=Y,this.navigatorEnabled=W,this.navigatorOptions=N,this.scrollbarOptions=H,this.setOpposite();let ee=this,te=ee.baseSeries,V=S.xAxis.length,Q=S.yAxis.length,Z=te&&te[0]&&te[0].xAxis||S.xAxis[0]||{options:{}};if(S.isDirtyBox=!0,ee.navigatorEnabled){let be=this.getXAxisOffsets();ee.xAxis=new(vt())(S,qi({breaks:Z.options.breaks,ordinal:Z.options.ordinal,overscroll:Z.options.overscroll},N.xAxis,{type:"datetime",yAxis:(le=N.yAxis)==null?void 0:le.id,index:V,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:Z.options.ordinal?0:Z.options.minPadding,maxPadding:Z.options.ordinal?0:Z.options.maxPadding,zoomEnabled:!1},S.inverted?{offsets:be,width:ne}:{offsets:be,height:ne}),"xAxis"),ee.yAxis=new(vt())(S,qi(N.yAxis,{alignTicks:!1,offset:0,index:Q,isInternal:!0,reversed:hi(N.yAxis&&N.yAxis.reversed,S.yAxis[0]&&S.yAxis[0].reversed,!1),zoomEnabled:!1},S.inverted?{width:ne}:{height:ne}),"yAxis"),te||N.series.data?ee.updateNavigatorSeries(!1):S.series.length===0&&(ee.unbindRedraw=br(S,"beforeRedraw",function(){S.series.length>0&&!ee.series&&(ee.setBaseSeries(),ee.unbindRedraw())})),ee.reversedExtremes=S.inverted&&!ee.xAxis.reversed||!S.inverted&&ee.xAxis.reversed,ee.renderElements(),ee.addMouseEvents()}else ee.xAxis={chart:S,navigatorAxis:{fake:!0},translate:function(be,_e){let $e=S.xAxis[0],je=$e.getExtremes(),Ne=$e.len-2*oe,Re=Us("min",$e.options.min,je.dataMin),Ie=Us("max",$e.options.max,je.dataMax)-Re;return _e?be*Ie/Ne+Re:Ne*(be-Re)/Ie},toPixels:function(be){return this.translate(be)},toValue:function(be){return this.translate(be,!0)}},ee.xAxis.navigatorAxis.axis=ee.xAxis,ee.xAxis.navigatorAxis.toFixedRange=Uc.prototype.toFixedRange.bind(ee.xAxis.navigatorAxis);if((he=S.options.scrollbar)!=null&&he.enabled){let be=qi(S.options.scrollbar,{vertical:S.inverted});ar(be.margin)||(be.margin=S.inverted?-3:3),S.scrollbar=ee.scrollbar=new zn(S.renderer,be,S),br(ee.scrollbar,"changed",function(_e){let $e=ee.size,je=$e*this.to,Ne=$e*this.from;ee.hasDragged=ee.scrollbar.hasDragged,ee.render(0,0,Ne,je),this.shouldUpdateExtremes(_e.DOMType)&&setTimeout(function(){ee.onMouseUp(_e)})})}ee.addBaseSeriesEvents(),ee.addChartEvents()}setOpposite(){let S=this.navigatorOptions,A=this.navigatorEnabled,N=this.chart;this.opposite=hi(S.opposite,!!(!A&&N.inverted))}getUnionExtremes(S){let A,N=this.chart.xAxis[0],W=this.chart.time,H=this.xAxis,Y=H.options,ne=N.options;return S&&N.dataMin===null||(A={dataMin:hi(W.parse(Y==null?void 0:Y.min),Us("min",W.parse(ne.min),N.dataMin,H.dataMin,H.min)),dataMax:hi(W.parse(Y==null?void 0:Y.max),Us("max",W.parse(ne.max),N.dataMax,H.dataMax,H.max))}),A}setBaseSeries(S,A){let N=this.chart,W=this.baseSeries=[];S=S||N.options&&N.options.navigator.baseSeries||(N.series.length?hu(N.series,H=>!H.options.isInternal).index:0),(N.series||[]).forEach((H,Y)=>{!H.options.isInternal&&(H.options.showInNavigator||(Y===S||H.options.id===S)&&H.options.showInNavigator!==!1)&&W.push(H)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,A)}updateNavigatorSeries(S,A){var V,Q;let N=this,W=N.chart,H=N.baseSeries,Y={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:(V=this.navigatorOptions.xAxis)==null?void 0:V.id,yAxis:(Q=this.navigatorOptions.yAxis)==null?void 0:Q.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},ne=N.series=(N.series||[]).filter(Z=>{let le=Z.baseSeries;return!(0>H.indexOf(le))||(le&&(sl(le,"updatedData",N.updatedDataHandler),delete le.navigatorSeries),Z.chart&&Z.destroy(),!1)}),se,oe,ee=N.navigatorOptions.series,te;H&&H.length&&H.forEach(Z=>{var _e;let le=Z.navigatorSeries,he=du({color:Z.color,visible:Z.visible},qc(ee)?Yc.navigator.series:ee);if(le&&N.navigatorOptions.adaptToUpdatedData===!1)return;Y.name="Navigator "+H.length,te=(se=Z.options||{}).navigatorOptions||{},he.dataLabels=uu(he.dataLabels),(oe=qi(se,Y,he,te)).pointRange=hi(he.pointRange,te.pointRange,Yc.plotOptions[oe.type||"line"].pointRange);let be=te.data||he.data;N.hasNavigatorData=N.hasNavigatorData||!!be,oe.data=be||((_e=se.data)==null?void 0:_e.slice(0)),le&&le.options?le.update(oe,A):(Z.navigatorSeries=W.initSeries(oe),W.setSortedData(),Z.navigatorSeries.baseSeries=Z,ne.push(Z.navigatorSeries))}),(ee.data&&!(H&&H.length)||qc(ee))&&(N.hasNavigatorData=!1,(ee=uu(ee)).forEach((Z,le)=>{Y.name="Navigator "+(ne.length+1),(oe=qi(Yc.navigator.series,{color:W.series[le]&&!W.series[le].options.isInternal&&W.series[le].color||W.options.colors[le]||W.options.colors[0]},Y,Z)).data=Z.data,oe.data&&(N.hasNavigatorData=!0,ne.push(W.initSeries(oe)))})),S&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let S=this,A=S.baseSeries||[];A[0]&&A[0].xAxis&&A[0].eventsToUnbind.push(br(A[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),A.forEach(N=>{N.eventsToUnbind.push(br(N,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),N.eventsToUnbind.push(br(N,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&N.xAxis&&N.eventsToUnbind.push(br(N,"updatedData",this.updatedDataHandler)),N.eventsToUnbind.push(br(N,"remove",function(){A&&vn(A,N),this.navigatorSeries&&S.series&&(vn(S.series,this.navigatorSeries),Fs(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(S){return this.baseSeries.reduce(function(A,N){return Math.min(A,N.getColumn("x")[0]??A)},S)}modifyNavigatorAxisExtremes(){let S=this.xAxis;if(S.getExtremes!==void 0){let A=this.getUnionExtremes(!0);A&&(A.dataMin!==S.min||A.dataMax!==S.max)&&(S.min=A.dataMin,S.max=A.dataMax)}}modifyBaseAxisExtremes(){var le;let S,A,N=this.chart.navigator,W=this.getExtremes(),H=W.min,Y=W.max,ne=W.dataMin,se=W.dataMax,oe=Y-H,ee=N.stickToMin,te=N.stickToMax,V=hi((le=this.ordinal)==null?void 0:le.convertOverscroll(this.options.overscroll),0),Q=N.series&&N.series[0],Z=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(ee&&(S=(A=ne)+oe),te&&(S=se+V,ee||(A=Math.max(ne,S-oe,N.getBaseSeriesMin(Q&&Q.xData?Q.xData[0]:-Number.MAX_VALUE)))),Z&&(ee||te)&&ar(A)&&(this.min=this.userMin=A,this.max=this.userMax=S)),N.stickToMin=N.stickToMax=null}updatedDataHandler(){let S=this.chart.navigator,A=this.navigatorSeries,N=S.reversedExtremes?Math.round(S.zoomedMin)===0:Math.round(S.zoomedMax)>=Math.round(S.size);S.stickToMax=hi(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,N),S.stickToMin=S.shouldStickToMin(this,S),A&&!S.hasNavigatorData&&(A.options.pointStart=this.getColumn("x")[0],A.setData(this.options.data,!1,null,!1))}shouldStickToMin(S,A){let N=A.getBaseSeriesMin(S.getColumn("x")[0]),W=S.xAxis,H=W.max,Y=W.min,ne=W.options.range;return!!(ar(H)&&ar(Y))&&(ne&&H-N>0?H-N<ne:Y<=N)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(br(this.chart,"redraw",function(){let S=this.navigator,A=S&&(S.baseSeries&&S.baseSeries[0]&&S.baseSeries[0].xAxis||this.xAxis[0]);A&&S.render(A.min,A.max)}),br(this.chart,"getMargins",function(){var N;let S=this.navigator,A=S.opposite?"plotTop":"marginBottom";this.inverted&&(A=S.opposite?"marginRight":"plotLeft"),this[A]=(this[A]||0)+(S.navigatorEnabled||!this.inverted?S.height+(((N=this.scrollbar)==null?void 0:N.options.margin)||0)+S.scrollbarHeight:0)+(S.navigatorOptions.margin||0)}),br(hs,"setRange",function(S){this.chart.xAxis[0].setExtremes(S.min,S.max,S.redraw,S.animation,S.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(vn(this.chart.xAxis,this.xAxis),vn(this.chart.axes,this.xAxis)),this.yAxis&&(vn(this.chart.yAxis,this.yAxis),vn(this.chart.axes,this.yAxis)),(this.series||[]).forEach(S=>{S.destroy&&S.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(S=>{this[S]&&this[S].destroy&&this[S].destroy(),this[S]=null}),[this.handles].forEach(S=>{lm(S)}),this.baseSeries.forEach(S=>{S.navigatorSeries=void 0}),this.navigatorEnabled=!1}}(function(K){K.setLength=function(S,A,N){return Array.isArray(S)?(S.length=A,S):S[N?"subarray":"slice"](0,A)},K.splice=function(S,A,N,W,H=[]){if(Array.isArray(S))return Array.isArray(H)||(H=Array.from(H)),{removed:S.splice(A,N,...H),array:S};let Y=Object.getPrototypeOf(S).constructor,ne=S[W?"subarray":"slice"](A,A+N),se=new Y(S.length-N+H.length);return se.set(S.subarray(0,A),0),se.set(H,A),se.set(S.subarray(A+N),A+H.length),{removed:ne,array:se}}})(ae||(ae={}));let{setLength:cm,splice:fu}=ae,{fireEvent:ol,objectEach:Hs,uniqueKey:Ki}=ie(),pu=class{constructor(K={}){this.autoId=!K.id,this.columns={},this.id=K.id||Ki(),this.modified=this,this.rowCount=0,this.versionTag=Ki();let S=0;Hs(K.columns||{},(A,N)=>{this.columns[N]=A.slice(),S=Math.max(S,A.length)}),this.applyRowCount(S)}applyRowCount(K){this.rowCount=K,Hs(this.columns,(S,A)=>{S.length!==K&&(this.columns[A]=cm(S,K))})}deleteRows(K,S=1){if(S>0&&K<this.rowCount){let A=0;Hs(this.columns,(N,W)=>{this.columns[W]=fu(N,K,S).array,A=N.length}),this.rowCount=A}ol(this,"afterDeleteRows",{rowIndex:K,rowCount:S}),this.versionTag=Ki()}getColumn(K,S){return this.columns[K]}getColumns(K,S){return(K||Object.keys(this.columns)).reduce((A,N)=>(A[N]=this.columns[N],A),{})}getRow(K,S){return(S||Object.keys(this.columns)).map(A=>{var N;return(N=this.columns[A])==null?void 0:N[K]})}setColumn(K,S=[],A=0,N){this.setColumns({[K]:S},A,N)}setColumns(K,S,A){let N=this.rowCount;Hs(K,(W,H)=>{this.columns[H]=W.slice(),N=W.length}),this.applyRowCount(N),A!=null&&A.silent||(ol(this,"afterSetColumns"),this.versionTag=Ki())}setRow(K,S=this.rowCount,A,N){let{columns:W}=this,H=A?this.rowCount+1:S+1;Hs(K,(Y,ne)=>{let se=W[ne]||(N==null?void 0:N.addColumns)!==!1&&Array(H);se&&(A?se=fu(se,S,0,!0,[Y]).array:se[S]=Y,W[ne]=se)}),H>this.rowCount&&this.applyRowCount(H),N!=null&&N.silent||(ol(this,"afterSetRows"),this.versionTag=Ki())}},{addEvent:Zi,correctFloat:al,css:dm,defined:Qi,error:Kc,isNumber:Zc,pick:Gs,timeUnits:gu,isString:Ji}=ie();(function(K){function S(V,Q,Z,le,he=[],be=0,_e){let $e={},je=this.options.tickPixelInterval,Ne=this.chart.time,Re=[],Ie,Ue,De,Xe,Le,et=0,Ye=[],zt=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!he||he.length<3||Q===void 0)return Ne.getTimeTicks.apply(Ne,arguments);let it=he.length;for(Ie=0;Ie<it;Ie++){if(Le=Ie&&he[Ie-1]>Z,he[Ie]<Q&&(et=Ie),Ie===it-1||he[Ie+1]-he[Ie]>5*be||Le){if(he[Ie]>zt){for(Ue=Ne.getTimeTicks(V,he[et],he[Ie],le);Ue.length&&Ue[0]<=zt;)Ue.shift();Ue.length&&(zt=Ue[Ue.length-1]),Re.push(Ye.length),Ye=Ye.concat(Ue)}et=Ie+1}if(Le)break}if(Ue){if(Xe=Ue.info,_e&&Xe.unitRange<=gu.hour){for(et=1,Ie=Ye.length-1;et<Ie;et++)Ne.dateFormat("%d",Ye[et])!==Ne.dateFormat("%d",Ye[et-1])&&($e[Ye[et]]="day",De=!0);De&&($e[Ye[0]]="day"),Xe.higherRanks=$e}Xe.segmentStarts=Re,Ye.info=Xe}else Kc(12,!1,this.chart);if(_e&&Qi(je)){let at=Ye.length,_r=[],Bt=[],mt,xt,Lt,vr,Si,Pr=at;for(;Pr--;)xt=this.translate(Ye[Pr]),Lt&&(Bt[Pr]=Lt-xt),_r[Pr]=Lt=xt;for(Bt.sort((so,la)=>so-la),(vr=Bt[Math.floor(Bt.length/2)])<.6*je&&(vr=null),Pr=Ye[at-1]>Z?at-1:at,Lt=void 0;Pr--;)Si=Math.abs(Lt-(xt=_r[Pr])),Lt&&Si<.8*je&&(vr===null||Si<.8*vr)?($e[Ye[Pr]]&&!$e[Ye[Pr+1]]?(mt=Pr+1,Lt=xt):mt=Pr,Ye.splice(mt,1)):Lt=xt}return Ye}function A(V){let Q=this.ordinal.positions;if(!Q)return V;let Z=Q.length-1,le;return V<0?V=Q[0]:V>Z?V=Q[Z]:(Z=Math.floor(V),le=V-Z),le!==void 0&&Q[Z]!==void 0?Q[Z]+(le?le*(Q[Z+1]-Q[Z]):0):V}function N(V){let Q=this.ordinal,Z=this.old?this.old.min:this.min,le=this.old?this.old.transA:this.transA,he=Q.getExtendedPositions();if(he!=null&&he.length){let be=al((V-Z)*le+this.minPixelPadding),_e=al(Q.getIndexOfPoint(be,he)),$e=al(_e%1);if(_e>=0&&_e<=he.length-1){let je=he[Math.floor(_e)],Ne=he[Math.ceil(_e)];return he[Math.floor(_e)]+$e*(Ne-je)}}return V}function W(V,Q){let Z=K.Additions.findIndexOf(V,Q,!0);if(V[Z]===Q)return Z;let le=(Q-V[Z])/(V[Z+1]-V[Z]);return Z+le}function H(){this.ordinal||(this.ordinal=new K.Additions(this))}function Y(){let{eventArgs:V,options:Q}=this;if(this.isXAxis&&Qi(Q.overscroll)&&Q.overscroll!==0&&Zc(this.max)&&Zc(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&((V==null?void 0:V.trigger)!=="pan"||this.isInternal)&&(V==null?void 0:V.trigger)!=="navigator")){let Z=this.ordinal.convertOverscroll(Q.overscroll);this.max+=Z,!this.isInternal&&Qi(this.userMin)&&(V==null?void 0:V.trigger)!=="mousewheel"&&(this.min+=Z)}}function ne(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function se(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function oe(V){var _e;let Q=this.xAxis[0],Z=Q.ordinal.convertOverscroll(Q.options.overscroll),le=V.originalEvent.chartX,he=this.options.chart.panning,be=!1;if((he==null?void 0:he.type)!=="y"&&Q.options.ordinal&&Q.series.length&&(!V.touches||V.touches.length<=1)){let $e,je,Ne=this.mouseDownX,Re=Q.getExtremes(),Ie=Re.dataMin,Ue=Re.dataMax,De=Re.min,Xe=Re.max,Le=this.hoverPoints,et=Q.closestPointRange||((_e=Q.ordinal)==null?void 0:_e.overscrollPointsRange),Ye=Math.round((Ne-le)/(Q.translationSlope*(Q.ordinal.slope||et))),zt=Q.ordinal.getExtendedPositions(),it={ordinal:{positions:zt,extendedOrdinalPositions:zt}},at=Q.index2val,_r=Q.val2lin;if(De<=Ie&&Ye<=0||Xe>=Ue+Z&&Ye>=0)return void V.preventDefault();it.ordinal.positions?Math.abs(Ye)>1&&(Le&&Le.forEach(function(Bt){Bt.setState()}),je=it.ordinal.positions,Z&&(je=it.ordinal.positions=je.concat(Q.ordinal.getOverscrollPositions())),Ue>je[je.length-1]&&je.push(Ue),this.setFixedRange(Xe-De),($e=Q.navigatorAxis.toFixedRange(void 0,void 0,at.apply(it,[_r.apply(it,[De,!0])+Ye]),at.apply(it,[_r.apply(it,[Xe,!0])+Ye]))).min>=Math.min(je[0],De)&&$e.max<=Math.max(je[je.length-1],Xe)+Z&&Q.setExtremes($e.min,$e.max,!0,!1,{trigger:"pan"}),this.mouseDownX=le,dm(this.container,{cursor:"move"})):be=!0}else be=!0;be||he&&/y/.test(he.type)?Z&&Zc(Q.dataMax)&&(Q.max=Q.dataMax+Z):V.preventDefault()}function ee(){let V=this.xAxis;V!=null&&V.options.ordinal&&(delete V.ordinal.index,delete V.ordinal.originalOrdinalRange)}function te(V,Q){var je;let Z,le=this.ordinal,he=le.positions,be=le.slope,_e;if(!he)return V;let $e=he.length;if(he[0]<=V&&he[$e-1]>=V)Z=W(he,V);else{if(_e=(je=le.getExtendedPositions)==null?void 0:je.call(le),!(_e!=null&&_e.length))return V;let Ne=_e.length;be||(be=(_e[Ne-1]-_e[0])/Ne);let Re=W(_e,he[0]);if(V>=_e[0]&&V<=_e[Ne-1])Z=W(_e,V)-Re;else{if(!Q)return V;Z=V<_e[0]?-Re-(_e[0]-V)/be:(V-_e[Ne-1])/be+Ne-Re}}return Q?Z:be*(Z||0)+le.offset}K.compose=function(V,Q,Z){let le=V.prototype;return le.ordinal2lin||(le.getTimeTicks=S,le.index2val=A,le.lin2val=N,le.val2lin=te,le.ordinal2lin=le.val2lin,Zi(V,"afterInit",H),Zi(V,"foundExtremes",Y),Zi(V,"afterSetScale",ne),Zi(V,"initialAxisTranslation",se),Zi(Z,"pan",oe),Zi(Z,"touchpan",oe),Zi(Q,"updatedData",ee)),V},K.Additions=class{constructor(V){this.index={},this.axis=V}beforeSetTickPositions(){var at;let V=this.axis,Q=V.ordinal,Z=V.getExtremes(),le=Z.min,he=Z.max,be=(at=V.brokenAxis)==null?void 0:at.hasBreaks,_e=V.options.ordinal,$e=V.options.overscroll&&V.ordinal.convertOverscroll(V.options.overscroll)||0,je,Ne,Re,Ie,Ue,De,Xe,Le=[],et=Number.MAX_VALUE,Ye=!1,zt=!1,it=!1;if(_e||be){let _r=0;if(V.series.forEach(function(Bt,mt){let xt=Bt.getColumn("x",!0);if(Ne=[],mt>0&&Bt.options.id!=="highcharts-navigator-series"&&xt.length>1&&(zt=_r!==xt[1]-xt[0]),_r=xt[1]-xt[0],Bt.boosted&&(it=Bt.boosted),Bt.reserveSpace()&&(Bt.takeOrdinalPosition!==!1||be)&&(je=(Le=Le.concat(xt)).length,Le.sort(function(Lt,vr){return Lt-vr}),et=Math.min(et,Gs(Bt.closestPointRange,et)),je)){for(mt=0;mt<je-1;)Le[mt]!==Le[mt+1]&&Ne.push(Le[mt+1]),mt++;Ne[0]!==Le[0]&&Ne.unshift(Le[0]),Le=Ne}}),V.ordinal.originalOrdinalRange||(V.ordinal.originalOrdinalRange=(Le.length-1)*et),zt&&it&&(Le.pop(),Le.shift()),(je=Le.length)>2){for(Re=Le[1]-Le[0],Xe=je-1;Xe--&&!Ye;)Le[Xe+1]-Le[Xe]!==Re&&(Ye=!0);!V.options.keepOrdinalPadding&&(Le[0]-le>Re||he-$e-Le[je-1]>Re)&&(Ye=!0)}else V.options.overscroll&&(je===2?et=Le[1]-Le[0]:je===1?(et=$e,Le=[Le[0],Le[0]+et]):et=Q.overscrollPointsRange);Ye||V.forceOrdinal?(V.options.overscroll&&(Q.overscrollPointsRange=et,Le=Le.concat(Q.getOverscrollPositions())),Q.positions=Le,Ie=V.ordinal2lin(Math.max(le,Le[0]),!0),Ue=Math.max(V.ordinal2lin(Math.min(he,Le[Le.length-1]),!0),1),Q.slope=De=(he-le)/(Ue-Ie),Q.offset=le-Ie*De):(Q.overscrollPointsRange=Gs(V.closestPointRange,Q.overscrollPointsRange),Q.positions=V.ordinal.slope=Q.offset=void 0)}V.isOrdinal=_e&&Ye,Q.groupIntervalFactor=null}static findIndexOf(V,Q,Z){let le=0,he=V.length-1,be;for(;le<he;)V[be=Math.ceil((le+he)/2)]<=Q?le=be:he=be-1;return V[le]===Q||Z?le:-1}getExtendedPositions(V=!0){let Q=this,Z=Q.axis,le=Z.constructor.prototype,he=Z.chart,be=Z.series.reduce((Ie,Ue)=>{let De=Ue.currentDataGrouping;return Ie+(De?De.count+De.unitName:"raw")},""),_e=V?Z.ordinal.convertOverscroll(Z.options.overscroll):0,$e=Z.getExtremes(),je,Ne,Re=Q.index;return Re||(Re=Q.index={}),!Re[be]&&((je={series:[],chart:he,forceOrdinal:!1,getExtremes:function(){return{min:$e.dataMin,max:$e.dataMax+_e}},applyGrouping:le.applyGrouping,getGroupPixelWidth:le.getGroupPixelWidth,getTimeTicks:le.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:le.ordinal2lin,getIndexOfPoint:le.getIndexOfPoint,val2lin:le.val2lin}).ordinal.axis=je,Z.series.forEach(Ie=>{var De,Xe,Le;if(Ie.takeOrdinalPosition===!1)return;Ne={xAxis:je,chart:he,groupPixelWidth:Ie.groupPixelWidth,destroyGroupedData:ie().noop,getColumn:Ie.getColumn,applyGrouping:Ie.applyGrouping,getProcessedData:Ie.getProcessedData,reserveSpace:Ie.reserveSpace,visible:Ie.visible};let Ue=Ie.getColumn("x").concat(V?Q.getOverscrollPositions():[]);Ne.dataTable=new pu({columns:{x:Ue}}),Ne.options={...Ie.options,dataGrouping:Ie.currentDataGrouping?{firstAnchor:(De=Ie.options.dataGrouping)==null?void 0:De.firstAnchor,anchor:(Xe=Ie.options.dataGrouping)==null?void 0:Xe.anchor,lastAnchor:(Le=Ie.options.dataGrouping)==null?void 0:Le.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[Ie.currentDataGrouping.unitName,[Ie.currentDataGrouping.count]]]}:{enabled:!1}},je.series.push(Ne),Ie.processData.apply(Ne)}),je.applyGrouping({hasExtremesChanged:!0}),(Ne==null?void 0:Ne.closestPointRange)!==(Ne==null?void 0:Ne.basePointRange)&&Ne.currentDataGrouping&&(je.forceOrdinal=!0),Z.ordinal.beforeSetTickPositions.apply({axis:je}),!Z.ordinal.originalOrdinalRange&&je.ordinal.originalOrdinalRange&&(Z.ordinal.originalOrdinalRange=je.ordinal.originalOrdinalRange),je.ordinal.positions&&(Re[be]=je.ordinal.positions)),Re[be]}getGroupIntervalFactor(V,Q,Z){let le=Z.getColumn("x",!0),he=le.length,be=[],_e,$e,je=this.groupIntervalFactor;if(!je){for($e=0;$e<he-1;$e++)be[$e]=le[$e+1]-le[$e];be.sort(function(Ne,Re){return Ne-Re}),_e=be[Math.floor(he/2)],V=Math.max(V,le[0]),Q=Math.min(Q,le[he-1]),this.groupIntervalFactor=je=he*_e/(Q-V)}return je}getIndexOfPoint(V,Q){let Z=this.axis,le=Z.min,he=Z.minPixelPadding;return W(Q,le)+al((V-he)/(Z.translationSlope*(this.slope||Z.closestPointRange||this.overscrollPointsRange)))}getOverscrollPositions(){let V=this.axis,Q=this.convertOverscroll(V.options.overscroll),Z=this.overscrollPointsRange,le=[],he=V.dataMax;if(Qi(Z))for(;he<V.dataMax+Q;)le.push(he+=Z);return le}postProcessTickInterval(V){let Q=this.axis,Z=this.slope,le=Q.closestPointRange;return Z&&le?Q.options.breaks?le||V:V/(Z/le):V}convertOverscroll(V=0){let Q=this,Z=Q.axis,le=function(he){return Gs(Q.originalOrdinalRange,Qi(Z.dataMax)&&Qi(Z.dataMin)?Z.dataMax-Z.dataMin:0)*he};if(Ji(V)){let he,be=parseInt(V,10);if(Qi(Z.min)&&Qi(Z.max)&&Qi(Z.dataMin)&&Qi(Z.dataMax)&&((he=Z.max-Z.min==Z.dataMax-Z.dataMin)||(this.originalOrdinalRange=Z.max-Z.min)),/%$/.test(V))return le(be/100);if(/px/.test(V)){let _e=Math.min(be,.9*Z.len)/Z.len;return le(_e/(he?1-_e:1))}return 0}return V}}})(re||(re={}));let Qc=re,us={lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"",rangeSelector:{allText:"All",allTitle:"View all",monthText:"{count}m",monthTitle:"View {count} {#eq count 1}month{else}months{/eq}",yearText:"{count}y",yearTitle:"View {count} {#eq count 1}year{else}years{/eq}",ytdText:"YTD",ytdTitle:"View year to date"}},rangeSelector:{allButtonsEnabled:!1,buttons:[{type:"month",count:1},{type:"month",count:3},{type:"month",count:6},{type:"ytd"},{type:"year",count:1},{type:"all"}],buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%[ebY]",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}},{defaultOptions:ll}=ie(),{composed:Jc}=ie(),{addEvent:Fn,defined:mu,extend:vu,isNumber:Vs,merge:xu,pick:cl,pushUnique:Xs}=ie(),Ri=[];function dl(){let K,S,A=this.range,N=A.type,W=this.max,H=this.chart.time,Y=function(se,oe){let ee=H.toParts(se),te=ee.slice();N==="year"?te[0]+=oe:te[1]+=oe;let V=H.makeTime.apply(H,te),Q=H.toParts(V);return N==="month"&&ee[1]===Q[1]&&Math.abs(oe)===1&&(te[0]=ee[0],te[1]=ee[1],te[2]=0),(V=H.makeTime.apply(H,te))-se};Vs(A)?(K=W-A,S=A):A&&(K=W+Y(W,-(A.count||1)),this.chart&&this.chart.setFixedRange(W-K));let ne=cl(this.dataMin,Number.MIN_VALUE);return Vs(K)||(K=ne),K<=ne&&(K=ne,S===void 0&&(S=Y(K,A.count)),this.newMax=Math.min(K+S,cl(this.dataMax,Number.MAX_VALUE))),Vs(W)?!Vs(A)&&A&&A._offsetMin&&(K+=A._offsetMin):K=void 0,K}function hm(){var K;(K=this.rangeSelector)==null||K.redrawElements()}function um(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new L(this))}function fm(){let K=this.rangeSelector;if(K){Vs(K.deferredYTDClick)&&(K.clickButton(K.deferredYTDClick),delete K.deferredYTDClick);let S=K.options.verticalAlign;K.options.floating||(S==="bottom"?this.extraBottomMargin=!0:S==="top"&&(this.extraTopMargin=!0))}}function ed(){let K,S=this.rangeSelector;if(!S)return;let A=this.xAxis[0].getExtremes(),N=this.legend,W=S&&S.options.verticalAlign;Vs(A.min)&&S.render(A.min,A.max),N.display&&W==="top"&&W===N.options.verticalAlign&&(K=xu(this.spacingBox),N.options.layout==="vertical"?K.y=this.plotTop:K.y+=S.getHeight(),N.group.placed=!1,N.align(K))}function mr(){for(let K=0,S=Ri.length;K<S;++K){let A=Ri[K];if(A[0]===this){A[1].forEach(N=>N()),Ri.splice(K,1);return}}}function en(){var S;let K=this.rangeSelector;if((S=K==null?void 0:K.options)!=null&&S.enabled){let A=K.getHeight(),N=K.options.verticalAlign;K.options.floating||(N==="bottom"?this.marginBottom+=A:N!=="middle"&&(this.plotTop+=A))}}function yu(K){let S=K.options.rangeSelector,A=this.extraBottomMargin,N=this.extraTopMargin,W=this.rangeSelector;if(S&&S.enabled&&!mu(W)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=W=new L(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,W){let H=S&&S.verticalAlign||W.options&&W.options.verticalAlign;W.options.floating||(H==="bottom"?this.extraBottomMargin=!0:H!=="middle"&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==A||this.extraTopMargin!==N)&&(this.isDirtyBox=!0)}}let pm={compose:function(K,S,A){if(L=A,Xs(Jc,"RangeSelector")){let N=S.prototype;K.prototype.minFromRange=dl,Fn(S,"afterGetContainer",um),Fn(S,"beforeRender",fm),Fn(S,"destroy",mr),Fn(S,"getMargins",en),Fn(S,"redraw",ed),Fn(S,"update",yu),Fn(S,"beforeRedraw",hm),N.callbacks.push(ed),vu(ll,{rangeSelector:us.rangeSelector}),vu(ll.lang,us.lang)}}};var wu=Te(28),Ys=Te.n(wu),gm=Te(984),qs=Te.n(gm);let{defaultOptions:hl}=ie(),{format:Wn}=qs(),{addEvent:Li,createElement:ra,css:ui,defined:tn,destroyObjectProperties:bu,diffObjects:td,discardElement:Su,extend:ul,fireEvent:Ks,isNumber:zr,isString:ia,merge:Un,objectEach:mm,pick:rn,splat:vm}=ie();function ku(K){let S=W=>RegExp(`%[[a-zA-Z]*${W}`).test(K);if(ia(K)?K.indexOf("%L")!==-1:K.fractionalSecondDigits)return"text";let A=ia(K)?["a","A","d","e","w","b","B","m","o","y","Y"].some(S):K.dateStyle||K.day||K.month||K.year,N=ia(K)?["H","k","I","l","M","S"].some(S):K.timeStyle||K.hour||K.minute||K.second;return A&&N?"datetime-local":A?"date":N?"time":"text"}class fs{static compose(S,A){pm.compose(S,A,fs)}constructor(S){this.isDirty=!1,this.buttonOptions=[],this.initialButtonGroupWidth=0,this.maxButtonWidth=()=>{let A=0;return this.buttons.forEach(N=>{let W=N.getBBox();W.width>A&&(A=W.width)}),A},this.init(S)}clickButton(S,A){let N=this.chart,W=this.buttonOptions[S],H=N.xAxis[0],Y=N.scroller&&N.scroller.getUnionExtremes()||H||{},ne=W.type,se=W.dataGrouping,oe=Y.dataMin,ee=Y.dataMax,te,V=zr(H==null?void 0:H.max)?Math.round(Math.min(H.max,ee??H.max)):void 0,Q,Z=W._range,le,he,be,_e=!0;if(oe!==null&&ee!==null){if(this.setSelected(S),se&&(this.forcedDataGrouping=!0,vt().prototype.setDataGrouping.call(H||{chart:this.chart},se,!1),this.frozenStates=W.preserveDataGrouping),ne==="month"||ne==="year")H?(he={range:W,max:V,chart:N,dataMin:oe,dataMax:ee},te=H.minFromRange.call(he),zr(he.newMax)&&(V=he.newMax),_e=!1):Z=W;else if(Z)zr(V)&&(V=Math.min((te=Math.max(V-Z,oe))+Z,ee),_e=!1);else if(ne==="ytd")if(H)!H.hasData()||zr(ee)&&zr(oe)||(oe=Number.MAX_VALUE,ee=-Number.MAX_VALUE,N.series.forEach($e=>{let je=$e.getColumn("x");je.length&&(oe=Math.min(je[0],oe),ee=Math.max(je[je.length-1],ee))}),A=!1),zr(ee)&&zr(oe)&&(te=le=(be=this.getYTDExtremes(ee,oe)).min,V=be.max);else{this.deferredYTDClick=S;return}else ne==="all"&&H&&(N.navigator&&N.navigator.baseSeries[0]&&(N.navigator.baseSeries[0].xAxis.options.range=void 0),te=oe,V=ee);if(_e&&W._offsetMin&&tn(te)&&(te+=W._offsetMin),W._offsetMax&&tn(V)&&(V+=W._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=S+1),H)zr(te)&&zr(V)&&(H.setExtremes(te,V,rn(A,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:W}),N.setFixedRange(W._range));else{Q=vm(N.options.xAxis||{})[0];let $e=Li(N,"afterCreateAxes",function(){let je=N.xAxis[0];je.range=je.options.range=Z,je.min=je.options.min=le});Li(N,"load",function(){let je=N.xAxis[0];N.setFixedRange(W._range),je.options.range=Q.range,je.options.min=Q.min,$e()})}Ks(this,"afterBtnClick")}}setSelected(S){this.selected=this.options.selected=S}init(S){let A=this,N=S.options.rangeSelector,W=S.options.lang,H=N.buttons,Y=N.selected,ne=function(){let se=A.minInput,oe=A.maxInput;se&&se.blur&&Ks(se,"blur"),oe&&oe.blur&&Ks(oe,"blur")};A.chart=S,A.options=N,A.buttons=[],A.buttonOptions=H.map(se=>(se.type&&W.rangeSelector&&(se.text??(se.text=W.rangeSelector[`${se.type}Text`]),se.title??(se.title=W.rangeSelector[`${se.type}Title`])),se.text=Wn(se.text,{count:se.count||1}),se.title=Wn(se.title,{count:se.count||1}),se)),this.eventsToUnbind=[],this.eventsToUnbind.push(Li(S.container,"mousedown",ne)),this.eventsToUnbind.push(Li(S,"resize",ne)),H.forEach(A.computeButtonRange),Y!==void 0&&H[Y]&&this.clickButton(Y,!1),this.eventsToUnbind.push(Li(S,"load",function(){S.xAxis&&S.xAxis[0]&&Li(S.xAxis[0],"setExtremes",function(se){zr(this.max)&&zr(this.min)&&this.max-this.min!==S.fixedRange&&se.trigger!=="rangeSelectorButton"&&se.trigger!=="updatedData"&&A.forcedDataGrouping&&!A.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let S=this,A=this.chart,N=this.dropdown,W=this.dropdownLabel,H=A.xAxis[0],Y=Math.round(H.max-H.min),ne=!H.hasVisibleSeries,se=24*36e5,oe=A.scroller&&A.scroller.getUnionExtremes()||H,ee=oe.dataMin,te=oe.dataMax,V=S.getYTDExtremes(te,ee),Q=V.min,Z=V.max,le=S.selected,he=S.options.allButtonsEnabled,be=Array(S.buttonOptions.length).fill(0),_e=zr(le),$e=S.buttons,je=!1,Ne=null;S.buttonOptions.forEach((Re,Ie)=>{var mt;let Ue=Re._range,De=Re.type,Xe=Re.count||1,Le=Re._offsetMax-Re._offsetMin,et=Ie===le,Ye=Ue>te-ee,zt=Ue<H.minRange,it=!1,at=Ue===Y;if(et&&Ye&&(je=!0),H.isOrdinal&&((mt=H.ordinal)==null?void 0:mt.positions)&&Ue&&Y<Ue){let xt=H.ordinal.positions,Lt=Qc.Additions.findIndexOf(xt,H.min,!0),vr=Math.min(Qc.Additions.findIndexOf(xt,H.max,!0)+1,xt.length-1);xt[vr]-xt[Lt]>Ue&&(at=!0)}else(De==="month"||De==="year")&&Y+36e5>={month:28,year:365}[De]*se*Xe-Le&&Y-36e5<={month:31,year:366}[De]*se*Xe+Le?at=!0:De==="ytd"?(at=Z-Q+Le===Y,it=!et):De==="all"&&(at=H.max-H.min>=te-ee);let _r=!he&&!(je&&De==="all")&&(Ye||zt||ne),Bt=je&&De==="all"||!it&&at||et&&S.frozenStates;_r?be[Ie]=3:Bt&&(!_e||Ie===le)&&(Ne=Ie)}),Ne!==null?(be[Ne]=2,S.setSelected(Ne),this.dropdown&&(this.dropdown.selectedIndex=Ne+1)):(S.setSelected(),this.dropdown&&(this.dropdown.selectedIndex=-1),W&&(W.setState(0),W.attr({text:(hl.lang.rangeSelectorZoom||"")+" "})));for(let Re=0;Re<be.length;Re++){let Ie=be[Re],Ue=$e[Re];if(Ue.state!==Ie&&(Ue.setState(Ie),N)){N.options[Re+1].disabled=Ie===3,Ie===2&&(W&&(W.setState(2),W.attr({text:S.buttonOptions[Re].text+" "})),N.selectedIndex=Re+1);let De=W.getBBox();ui(N,{width:`${De.width}px`,height:`${De.height}px`})}}}computeButtonRange(S){let A=S.type,N=S.count||1,W={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};W[A]?S._range=W[A]*N:(A==="month"||A==="year")&&(S._range=24*{month:30,year:365}[A]*36e5*N),S._offsetMin=rn(S.offsetMin,0),S._offsetMax=rn(S.offsetMax,0),S._range+=S._offsetMax-S._offsetMin}getInputValue(S){let A=S==="min"?this.minInput:this.maxInput,N=this.chart.options.rangeSelector,W=this.chart.time;return A?(A.type==="text"&&N.inputDateParser||this.defaultInputDateParser)(A.value,W.timezone==="UTC",W):0}setInputValue(S,A){let N=this.options,W=this.chart.time,H=S==="min"?this.minInput:this.maxInput,Y=S==="min"?this.minDateBox:this.maxDateBox;if(H){H.setAttribute("type",ku(N.inputDateFormat||"%e %b %Y"));let ne=H.getAttribute("data-hc-time"),se=tn(ne)?Number(ne):void 0;if(tn(A)){let oe=se;tn(oe)&&H.setAttribute("data-hc-time-previous",oe),H.setAttribute("data-hc-time",A),se=A}H.value=W.dateFormat(this.inputTypeFormats[H.type]||N.inputEditDateFormat,se),Y&&Y.attr({text:W.dateFormat(N.inputDateFormat,se)})}}setInputExtremes(S,A,N){let W=S==="min"?this.minInput:this.maxInput;if(W){let H=this.inputTypeFormats[W.type],Y=this.chart.time;if(H){let ne=Y.dateFormat(H,A);W.min!==ne&&(W.min=ne);let se=Y.dateFormat(H,N);W.max!==se&&(W.max=se)}}}showInput(S){let A=S==="min"?this.minDateBox:this.maxDateBox,N=S==="min"?this.minInput:this.maxInput;if(N&&A&&this.inputGroup){let W=N.type==="text",{translateX:H=0,translateY:Y=0}=this.inputGroup,{x:ne=0,width:se=0,height:oe=0}=A,{inputBoxWidth:ee}=this.options;ui(N,{width:W?se+(ee?-2:20)+"px":"auto",height:oe-2+"px",border:"2px solid silver"}),W&&ee?ui(N,{left:H+ne+"px",top:Y+"px"}):ui(N,{left:Math.min(Math.round(ne+H-(N.offsetWidth-se)/2),this.chart.chartWidth-N.offsetWidth)+"px",top:Y-(N.offsetHeight-oe)/2+"px"})}}hideInput(S){let A=S==="min"?this.minInput:this.maxInput;A&&ui(A,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(S,A,N){return(N==null?void 0:N.parse(S))||0}drawInput(S){let{chart:A,div:N,inputGroup:W}=this,H=this,Y=A.renderer.style||{},ne=A.renderer,se=A.options.rangeSelector,oe=hl.lang,ee=S==="min";function te(be){var Xe;let{maxInput:_e,minInput:$e}=H,je=A.xAxis[0],Ne=((Xe=A.scroller)==null?void 0:Xe.getUnionExtremes())||je,Re=Ne.dataMin,Ie=Ne.dataMax,Ue=A.xAxis[0].getExtremes()[be],De=H.getInputValue(be);zr(De)&&De!==Ue&&(ee&&_e&&zr(Re)?De>Number(_e.getAttribute("data-hc-time"))?De=void 0:De<Re&&(De=Re):$e&&zr(Ie)&&(De<Number($e.getAttribute("data-hc-time"))?De=void 0:De>Ie&&(De=Ie)),De!==void 0&&je.setExtremes(ee?De:je.min,ee?je.max:De,void 0,void 0,{trigger:"rangeSelectorInput"}))}let V=oe[ee?"rangeSelectorFrom":"rangeSelectorTo"]||"",Q=ne.label(V,0).addClass("highcharts-range-label").attr({padding:2*!!V,height:V?se.inputBoxHeight:0}).add(W),Z=ne.label("",0).addClass("highcharts-range-input").attr({padding:2,width:se.inputBoxWidth,height:se.inputBoxHeight,"text-align":"center"}).on("click",function(){H.showInput(S),H[S+"Input"].focus()});A.styledMode||Z.attr({stroke:se.inputBoxBorderColor,"stroke-width":1}),Z.add(W);let le=ra("input",{name:S,className:"highcharts-range-selector"},void 0,N);le.setAttribute("type",ku(se.inputDateFormat||"%e %b %Y")),A.styledMode||(Q.css(Un(Y,se.labelStyle)),Z.css(Un({color:"#333333"},Y,se.inputStyle)),ui(le,ul({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:Y.fontSize,fontFamily:Y.fontFamily,top:"-9999em"},se.inputStyle))),le.onfocus=()=>{H.showInput(S)},le.onblur=()=>{le===ie().doc.activeElement&&te(S),H.hideInput(S),H.setInputValue(S),le.blur()};let he=!1;return le.onchange=()=>{he||(te(S),H.hideInput(S),le.blur())},le.onkeypress=be=>{be.keyCode===13&&te(S)},le.onkeydown=be=>{he=!0,(be.key==="ArrowUp"||be.key==="ArrowDown"||be.key==="Tab")&&te(S)},le.onkeyup=()=>{he=!1},{dateBox:Z,input:le,label:Q}}getPosition(){let S=this.chart,A=S.options.rangeSelector,N=A.verticalAlign==="top"?S.plotTop-S.axisOffset[0]:0;return{buttonTop:N+A.buttonPosition.y,inputTop:N+A.inputPosition.y-10}}getYTDExtremes(S,A){let N=this.chart.time,W=N.toParts(S)[0];return{max:S,min:Math.max(A,N.makeTime(W,0))}}createElements(){var se;let S=this.chart,A=S.renderer,N=S.container,W=S.options,H=W.rangeSelector,Y=H.inputEnabled,ne=rn((se=W.chart.style)==null?void 0:se.zIndex,0)+1;H.enabled!==!1&&(this.group=A.g("range-selector-group").attr({zIndex:7}).add(),this.div=ra("div",void 0,{position:"relative",height:0,zIndex:ne}),this.buttonOptions.length&&this.renderButtons(),N.parentNode&&N.parentNode.insertBefore(this.div,N),Y&&this.createInputs())}createInputs(){this.inputGroup=this.chart.renderer.g("input-group").add(this.group);let S=this.drawInput("min");this.minDateBox=S.dateBox,this.minLabel=S.label,this.minInput=S.input;let A=this.drawInput("max");this.maxDateBox=A.dateBox,this.maxLabel=A.label,this.maxInput=A.input}render(S,A){var H,Y;if(this.options.enabled===!1)return;let N=this.chart,W=N.options.rangeSelector;if(W.inputEnabled){this.inputGroup||this.createInputs(),this.setInputValue("min",S),this.setInputValue("max",A),this.chart.styledMode||((H=this.maxLabel)==null||H.css(W.labelStyle),(Y=this.minLabel)==null||Y.css(W.labelStyle));let ne=N.scroller&&N.scroller.getUnionExtremes()||N.xAxis[0]||{};if(tn(ne.dataMin)&&tn(ne.dataMax)){let se=N.xAxis[0].minRange||0;this.setInputExtremes("min",ne.dataMin,Math.min(ne.dataMax,this.getInputValue("max"))-se),this.setInputExtremes("max",Math.max(ne.dataMin,this.getInputValue("min"))+se,ne.dataMax)}if(this.inputGroup){let se=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(oe=>{if(oe){let{width:ee}=oe.getBBox();ee&&(oe.attr({x:se}),se+=ee+W.inputSpacing)}})}}else this.inputGroup&&(this.inputGroup.destroy(),delete this.inputGroup);!this.chart.styledMode&&this.zoomText&&this.zoomText.css(W.labelStyle),this.alignElements(),this.updateButtonStates()}renderButtons(){var V;var S;let{chart:A,options:N}=this,W=hl.lang,H=A.renderer,Y=Un(N.buttonTheme),ne=Y&&Y.states;delete Y.width,delete Y.states,this.buttonGroup=H.g("range-selector-buttons").add(this.group);let se=this.dropdown=ra("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),oe=(V=A.userOptions.rangeSelector)==null?void 0:V.buttonTheme;this.dropdownLabel=H.button("",0,0,()=>{},Un(Y,{"stroke-width":rn(Y["stroke-width"],0),width:"auto",paddingLeft:rn(N.buttonTheme.paddingLeft,oe==null?void 0:oe.padding,8),paddingRight:rn(N.buttonTheme.paddingRight,oe==null?void 0:oe.padding,8)}),ne&&ne.hover,ne&&ne.select,ne&&ne.disabled).hide().add(this.group),Li(se,"touchstart",()=>{se.style.fontSize="16px"});let ee=ie().isMS?"mouseover":"mouseenter",te=ie().isMS?"mouseout":"mouseleave";Li(se,ee,()=>{Ks(this.dropdownLabel.element,ee)}),Li(se,te,()=>{Ks(this.dropdownLabel.element,te)}),Li(se,"change",()=>{Ks(this.buttons[se.selectedIndex-1].element,"click")}),this.zoomText=H.label(W.rangeSelectorZoom||"",0).attr({padding:N.buttonTheme.padding,height:N.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(N.labelStyle),(S=N.buttonTheme)["stroke-width"]??(S["stroke-width"]=0)),ra("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,se),this.createButtons()}createButtons(){let{options:S}=this,A=Un(S.buttonTheme),N=A&&A.states,W=A.width||28;delete A.width,delete A.states,this.buttonOptions.forEach((H,Y)=>{this.createButton(H,Y,W,N)})}createButton(S,A,N,W){let{dropdown:H,buttons:Y,chart:ne,options:se}=this,oe=ne.renderer,ee=Un(se.buttonTheme);H==null||H.add(ra("option",{textContent:S.title||S.text}),A+2),Y[A]=oe.button(S.text??"",0,0,te=>{let V,Q=S.events&&S.events.click;Q&&(V=Q.call(S,te)),V!==!1&&this.clickButton(A),this.isActive=!0},ee,W&&W.hover,W&&W.select,W&&W.disabled).attr({"text-align":"center",width:N}).add(this.buttonGroup),S.title&&Y[A].attr("title",S.title)}alignElements(){var le;let{buttonGroup:S,buttons:A,chart:N,group:W,inputGroup:H,options:Y,zoomText:ne}=this,se=N.options,oe=se.exporting&&se.exporting.enabled!==!1&&se.navigation&&se.navigation.buttonOptions,{buttonPosition:ee,inputPosition:te,verticalAlign:V}=Y,Q=(he,be,_e)=>oe&&this.titleCollision(N)&&V==="top"&&_e&&be.y-he.getBBox().height-12<(oe.y||0)+(oe.height||0)+N.spacing[0]?-40:0,Z=N.plotLeft;if(W&&ee&&te){let he=ee.x-N.spacing[3];if(S){if(this.positionButtons(),!this.initialButtonGroupWidth){let De=0;ne&&(De+=ne.getBBox().width+5),A.forEach((Xe,Le)=>{De+=Xe.width||0,Le!==A.length-1&&(De+=Y.buttonSpacing)}),this.initialButtonGroupWidth=De}Z-=N.spacing[3];let Ue=Q(S,ee,ee.align==="right"||te.align==="right");this.alignButtonGroup(Ue),(le=this.buttonGroup)!=null&&le.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),W.placed=S.placed=N.hasLoaded}let be=0;Y.inputEnabled&&H&&(be=Q(H,te,ee.align==="right"||te.align==="right"),te.align==="left"?he=Z:te.align==="right"&&(he=-Math.max(N.axisOffset[1],-be)),H.align({y:te.y,width:H.getBBox().width,align:te.align,x:te.x+he-2},!0,N.spacingBox),H.placed=N.hasLoaded),this.handleCollision(be),W.align({verticalAlign:V},!0,N.spacingBox);let _e=W.alignAttr.translateY,$e=W.getBBox().height+20,je=0;if(V==="bottom"){let Ue=N.legend&&N.legend.options;je=_e-($e=$e+(Ue&&Ue.verticalAlign==="bottom"&&Ue.enabled&&!Ue.floating?N.legend.legendHeight+rn(Ue.margin,10):0)-20)-(Y.floating?0:Y.y)-(N.titleOffset?N.titleOffset[2]:0)-10}V==="top"?(Y.floating&&(je=0),N.titleOffset&&N.titleOffset[0]&&(je=N.titleOffset[0]),je+=N.margin[0]-N.spacing[0]||0):V==="middle"&&(te.y===ee.y?je=_e:(te.y||ee.y)&&(te.y<0||ee.y<0?je-=Math.min(te.y,ee.y):je=_e-$e)),W.translate(Y.x,Y.y+Math.floor(je));let{minInput:Ne,maxInput:Re,dropdown:Ie}=this;Y.inputEnabled&&Ne&&Re&&(Ne.style.marginTop=W.translateY+"px",Re.style.marginTop=W.translateY+"px"),Ie&&(Ie.style.marginTop=W.translateY+"px")}}redrawElements(){var W,H,Y,ne,se;let S=this.chart,{inputBoxHeight:A,inputBoxBorderColor:N}=this.options;if((W=this.maxDateBox)==null||W.attr({height:A}),(H=this.minDateBox)==null||H.attr({height:A}),S.styledMode||((Y=this.maxDateBox)==null||Y.attr({stroke:N}),(ne=this.minDateBox)==null||ne.attr({stroke:N})),this.isDirty){this.isDirty=!1,this.isCollapsed=void 0;let oe=this.options.buttons??[],ee=Math.min(oe.length,this.buttonOptions.length),{dropdown:te,options:V}=this,Q=Un(V.buttonTheme),Z=Q&&Q.states,le=Q.width||28;if(oe.length<this.buttonOptions.length)for(let he=this.buttonOptions.length-1;he>=oe.length;he--){let be=this.buttons.pop();be==null||be.destroy(),(se=this.dropdown)==null||se.options.remove(he+1)}for(let he=ee-1;he>=0;he--)if(Object.keys(td(oe[he],this.buttonOptions[he])).length!==0){let be=oe[he];this.buttons[he].destroy(),te==null||te.options.remove(he+1),this.createButton(be,he,le,Z),this.computeButtonRange(be)}if(oe.length>this.buttonOptions.length)for(let he=this.buttonOptions.length;he<oe.length;he++)this.createButton(oe[he],he,le,Z),this.computeButtonRange(oe[he]);this.buttonOptions=this.options.buttons??[],tn(this.options.selected)&&this.buttons.length&&this.clickButton(this.options.selected,!1)}}alignButtonGroup(S,A){let{chart:N,options:W,buttonGroup:H,dropdown:Y,dropdownLabel:ne}=this,{buttonPosition:se}=W,oe=N.plotLeft-N.spacing[3],ee=se.x-N.spacing[3],te=N.plotLeft;se.align==="right"?(ee+=S-oe,this.hasVisibleDropdown&&(te=N.chartWidth+S-this.maxButtonWidth()-20)):se.align==="center"&&(ee-=oe/2,this.hasVisibleDropdown&&(te=N.chartWidth/2-this.maxButtonWidth())),Y&&ui(Y,{left:te+"px",top:(H==null?void 0:H.translateY)+"px"}),ne==null||ne.attr({x:te}),H&&H.align({y:se.y,width:rn(A,this.initialButtonGroupWidth),align:se.align,x:ee},!0,N.spacingBox)}positionButtons(){let{buttons:S,chart:A,options:N,zoomText:W}=this,H=A.hasLoaded?"animate":"attr",{buttonPosition:Y}=N,ne=A.plotLeft,se=ne;W&&W.visibility!=="hidden"&&(W[H]({x:rn(ne+Y.x,ne)}),se+=Y.x+W.getBBox().width+5);for(let oe=0,ee=this.buttonOptions.length;oe<ee;++oe)S[oe].visibility!=="hidden"?(S[oe][H]({x:se}),se+=(S[oe].width||0)+N.buttonSpacing):S[oe][H]({x:ne})}handleCollision(S){let{chart:A,buttonGroup:N,inputGroup:W,initialButtonGroupWidth:H}=this,{buttonPosition:Y,dropdown:ne,inputPosition:se}=this.options,oe=()=>{W&&N&&W.attr({translateX:W.alignAttr.translateX+(A.axisOffset[1]>=-S?0:-S),translateY:W.alignAttr.translateY+N.getBBox().height+10})};W&&N?se.align===Y.align?(oe(),H>A.plotWidth+S-20?this.collapseButtons():this.expandButtons()):H-S+W.getBBox().width>A.plotWidth?ne==="responsive"?this.collapseButtons():oe():this.expandButtons():N&&ne==="responsive"&&(H>A.plotWidth?this.collapseButtons():this.expandButtons()),N&&(ne==="always"&&this.collapseButtons(),ne==="never"&&this.expandButtons()),this.alignButtonGroup(S)}collapseButtons(){let{buttons:S,zoomText:A}=this;this.isCollapsed!==!0&&(this.isCollapsed=!0,A.hide(),S.forEach(N=>void N.hide()),this.showDropdown())}expandButtons(){let{buttons:S,zoomText:A}=this;this.isCollapsed!==!1&&(this.isCollapsed=!1,this.hideDropdown(),A.show(),S.forEach(N=>void N.show()),this.positionButtons())}showDropdown(){let{buttonGroup:S,dropdownLabel:A,dropdown:N}=this;S&&N&&(A.show(),ui(N,{visibility:"inherit"}),this.hasVisibleDropdown=!0)}hideDropdown(){let{dropdown:S}=this;S&&(this.dropdownLabel.hide(),ui(S,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let S=this.options,A=this.group,N=S.inputPosition,W=S.buttonPosition,H=S.y,Y=W.y,ne=N.y,se=0;if(S.height)return S.height;this.alignElements(),se=A?A.getBBox(!0).height+13+H:0;let oe=Math.min(ne,Y);return(ne<0&&Y<0||ne>0&&Y>0)&&(se+=Math.abs(oe)),se}titleCollision(S){return!(S.options.title.text||S.options.subtitle.text)}update(S,A=!0){let N=this.chart;if(Un(!0,this.options,S),this.options.selected&&this.options.selected>=this.options.buttons.length&&(this.options.selected=void 0,N.options.rangeSelector.selected=void 0),tn(S.enabled))return this.destroy(),this.init(N);this.isDirty=!!S.buttons,A&&this.render()}destroy(){let S=this,A=S.minInput,N=S.maxInput;S.eventsToUnbind&&(S.eventsToUnbind.forEach(W=>W()),S.eventsToUnbind=void 0),bu(S.buttons),A&&(A.onfocus=A.onblur=A.onchange=null),N&&(N.onfocus=N.onblur=N.onchange=null),mm(S,function(W,H){W&&H!=="chart"&&(W instanceof Ys()?W.destroy():W instanceof window.HTMLElement&&Su(W),delete S[H]),W!==fs.prototype[H]&&(S[H]=null)},this),this.buttons=[]}}ul(fs.prototype,{inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}});var xm=Te(960),_u=Te.n(xm);let{format:ym}=qs(),{getOptions:rd}=ie(),{setFixedRange:Zs}=Wt,{addEvent:Hn,clamp:Cu,crisp:Eu,defined:id,extend:wm,find:nd,isNumber:nn,isString:fl,merge:xn,pick:yn,splat:sd}=ie();function Qs(K,S,A){return K==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:K==="yAxis"?{labels:{y:-2},opposite:A.opposite??S.opposite??!0,showLastLabel:!!(S.categories||S.type==="category"),title:{text:void 0}}:{}}function Gn(K,S){var A;if(K==="xAxis"){let N=yn((A=S.navigator)==null?void 0:A.enabled,Zo.enabled,!0),W={type:"datetime",categories:void 0};return N&&(W.startOnTick=!1,W.endOnTick=!1),W}return{}}class od extends _u(){init(S,A){var se,oe;let N=rd(),W=S.xAxis,H=S.yAxis,Y=yn((se=S.navigator)==null?void 0:se.enabled,Zo.enabled,!0);S.xAxis=S.yAxis=void 0;let ne=xn({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:Y},scrollbar:{enabled:yn(Jo.enabled,!0)},rangeSelector:{enabled:yn(us.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:yn((oe=N.tooltip)==null?void 0:oe.split,!0),crosshairs:!0},legend:{enabled:!1}},S,{isStock:!0});S.xAxis=W,S.yAxis=H,ne.xAxis=sd(S.xAxis||{}).map(ee=>xn(Qs("xAxis",ee,N.xAxis),ee,Gn("xAxis",S))),ne.yAxis=sd(S.yAxis||{}).map(ee=>xn(Qs("yAxis",ee,N.yAxis),ee)),super.init(ne,A)}createAxis(S,A){return A.axis=xn(Qs(S,A.axis,rd()[S]),A.axis,Gn(S,this.userOptions)),super.createAxis(S,A)}}Hn(_u(),"update",function(K){let S=K.options;"scrollbar"in S&&this.navigator&&(xn(!0,this.options.scrollbar,S.scrollbar),this.navigator.update({enabled:!!this.navigator.navigatorEnabled}),delete S.scrollbar)}),function(K){function S(oe){var Lt,vr,Si,Pr;if(!((vr=(Lt=this.crosshair)==null?void 0:Lt.label)!=null&&vr.enabled&&this.cross&&nn(this.min)&&nn(this.max)))return;let ee=this.chart,te=this.logarithmic,V=this.crosshair.label,Q=this.horiz,Z=this.opposite,le=this.left,he=this.top,be=this.width,_e=this.options.tickPosition==="inside",$e=this.crosshair.snap!==!1,je=oe.e||((Si=this.cross)==null?void 0:Si.e),Ne=oe.point,Re=this.crossLabel,Ie,Ue,De=V.format,Xe="",Le,et=0,Ye=this.min,zt=this.max;te&&(Ye=te.lin2log(this.min),zt=te.lin2log(this.max));let it=Q?"center":Z?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center";!Re&&(Re=this.crossLabel=ee.renderer.label("",0,void 0,V.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(Ne!=null&&Ne.series?Ne.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:V.align||it,padding:yn(V.padding,8),r:yn(V.borderRadius,3),zIndex:2}).add(this.labelGroup),ee.styledMode||Re.attr({fill:V.backgroundColor||((Pr=Ne==null?void 0:Ne.series)==null?void 0:Pr.color)||"#666666",stroke:V.borderColor||"","stroke-width":V.borderWidth||0}).css(wm({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},V.style||{}))),Q?(Ie=$e?(Ne.plotX||0)+le:je.chartX,Ue=he+(Z?0:this.height)):(Ie=le+this.offset+(Z?be:0),Ue=$e?(Ne.plotY||0)+he:je.chartY),De||V.formatter||(this.dateTime&&(Xe="%b %d, %Y"),De="{value"+(Xe?":"+Xe:"")+"}");let at=$e?this.isXAxis?Ne.x:Ne.y:this.toValue(Q?je.chartX:je.chartY),_r=Ne!=null&&Ne.series?Ne.series.isPointInside(Ne):nn(at)&&at>Ye&&at<zt,Bt="";De?Bt=ym(De,{value:at},ee):V.formatter&&nn(at)&&(Bt=V.formatter.call(this,at)),Re.attr({text:Bt,x:Ie,y:Ue,visibility:_r?"inherit":"hidden"});let mt=Re.getBBox();!nn(Re.x)||Q||Z||(Ie=Re.x-mt.width/2),nn(Re.y)&&(Q?(_e&&!Z||!_e&&Z)&&(Ue=Re.y-mt.height):Ue=Re.y-mt.height/2),Le=Q?{left:le,right:le+this.width}:{left:this.labelAlign==="left"?le:0,right:this.labelAlign==="right"?le+this.width:ee.chartWidth};let xt=Re.translateX||0;xt<Le.left&&(et=Le.left-xt),xt+mt.width>=Le.right&&(et=-(xt+mt.width-Le.right)),Re.attr({x:Math.max(0,Ie+et),y:Math.max(0,Ue),anchorX:Q?Ie:this.opposite?0:ee.chartWidth,anchorY:Q?this.opposite?ee.chartHeight:0:Ue+mt.height/2})}function A(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function N(oe){let ee=this.chart,te=this.options,V=ee._labelPanes=ee._labelPanes||{},Q=te.labels;if(ee.options.isStock&&this.coll==="yAxis"){let Z=te.top+","+te.height;!V[Z]&&Q.enabled&&(Q.distance===15&&this.side===1&&(Q.distance=0),Q.align===void 0&&(Q.align="right"),V[Z]=this,oe.align="right",oe.preventDefault())}}function W(){let oe=this.chart,ee=this.options&&this.options.top+","+this.options.height;ee&&oe._labelPanes&&oe._labelPanes[ee]===this&&delete oe._labelPanes[ee]}function H(oe){let ee=this,te=ee.isLinked&&!ee.series&&ee.linkedParent?ee.linkedParent.series:ee.series,{chart:V,horiz:Q}=ee,Z=V.renderer,le=[],{acrossPanes:he=!0,force:be,translatedValue:_e,value:$e}=oe,je=(ee.isXAxis?V.yAxis:V.xAxis)||[];function Ne(De,Xe,Le){le.push(["M",Q?De:Xe,Q?Xe:De],["L",Q?De:Le,Q?Le:De])}let Re=[],Ie,Ue;if(V.options.isStock&&(ee.coll==="xAxis"||ee.coll==="yAxis")){for(let De of(oe.preventDefault(),Re=(Xe=>{let Le=Xe==="xAxis"?"yAxis":"xAxis",et=ee.options[Le];return he&&!ee.options.isInternal?je.filter(Ye=>!Ye.options.isInternal):nn(et)?[V[Le][et]]:fl(et)?[V.get(et)]:te.map(Ye=>Ye[Le])})(ee.coll),je))if(!De.options.isInternal){let Xe=De.isXAxis?"yAxis":"xAxis";ee===(id(De.options[Xe])&&V[Xe][De.options[Xe]])&&Re.push(De)}for(let De of(Ie=Re.length?[]:[ee.isXAxis?V.yAxis[0]:V.xAxis[0]],Re))Ie.indexOf(De)!==-1||nd(Ie,Xe=>Xe.pos===De.pos&&Xe.len===De.len)||Ie.push(De);if(nn(Ue=yn(_e,ee.translate($e||0,void 0,void 0,oe.old)))){let De,Xe=Q?Ue+ee.pos:ee.pos+ee.len-Ue;if(be!=="pass"&&(Xe<ee.pos||Xe>ee.pos+ee.len)&&(be?Xe=Cu(Xe,ee.pos,ee.pos+ee.len):De=!0),!De){let Le=Q?"top":"left",et=Q?"height":"width";if(!he&&(ee.options[Le]||ee.options[et]))Ne(Xe,ee[Le],ee[Le]+ee[et]);else for(let Ye of Ie)Ne(Xe,Ye.pos,Ye.pos+Ye.len)}}oe.path=le.length>0?Z.crispPolyLine(le,oe.lineWidth||1):void 0}}function Y(oe){if(this.chart.options.isStock){let ee;this.is("column")||this.is("columnrange")?ee={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(ee={marker:{enabled:!1,radius:2}}),ee&&(oe.plotOptions[this.type]=xn(oe.plotOptions[this.type],ee))}}function ne(){let oe=this.chart,ee=this.options.dataGrouping;return this.allowDG!==!1&&ee&&yn(ee.enabled,oe.options.isStock)}function se(oe,ee){for(let te=0;te<oe.length;te+=2){let V=oe[te],Q=oe[te+1];id(V[1])&&V[1]===Q[1]&&(V[1]=Q[1]=Eu(V[1],ee)),id(V[2])&&V[2]===Q[2]&&(V[2]=Q[2]=Eu(V[2],ee))}return oe}K.compose=function(oe,ee,te,V){let Q=te.prototype;Q.forceCropping||(Hn(ee,"afterDrawCrosshair",S),Hn(ee,"afterHideCrosshair",A),Hn(ee,"autoLabelAlign",N),Hn(ee,"destroy",W),Hn(ee,"getPlotLinePath",H),oe.prototype.setFixedRange=Zs,Q.forceCropping=ne,Hn(te,"setOptions",Y),V.prototype.crispPolyLine=se)},K.stockChart=function(oe,ee,te){return new K(oe,ee,te)}}(od||(od={}));let Vn=od,{column:{prototype:{pointClass:bm}}}=di().seriesTypes,{column:Xn}=di().seriesTypes,{crisp:Js,extend:Mu,merge:ad}=ie(),{defaultOptions:ld}=ie();class cd extends Xn{extendStem(S,A,N){let W=S[0],H=S[1];typeof W[2]=="number"&&(W[2]=Math.max(N+A,W[2])),typeof H[2]=="number"&&(H[2]=Math.min(N-A,H[2]))}getPointPath(S,A){let N=A.strokeWidth(),W=S.series,H=Js(S.plotX||0,N),Y=Math.round(S.shapeArgs.width/2),ne=[["M",H,Math.round(S.yBottom)],["L",H,Math.round(S.plotHigh)]];if(S.close!==null){let se=Js(S.plotClose,N);ne.push(["M",H,se],["L",H+Y,se]),W.extendStem(ne,N/2,se)}return ne}drawSinglePoint(S){let A=S.series,N=A.chart,W,H=S.graphic;S.plotY!==void 0&&(H||(S.graphic=H=N.renderer.path().add(A.group)),N.styledMode||H.attr(A.pointAttribs(S,S.selected&&"select")),W=A.getPointPath(S,H),H[H?"animate":"attr"]({d:W}).addClass(S.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(S,A){let N=super.pointAttribs.call(this,S,A);return delete N.fill,N}toYData(S){return[S.high,S.low,S.close]}translate(){let S=this,A=S.yAxis,N=this.pointArrayMap&&this.pointArrayMap.slice()||[],W=N.map(H=>`plot${H.charAt(0).toUpperCase()+H.slice(1)}`);W.push("yBottom"),N.push("low"),super.translate.apply(S),S.points.forEach(function(H){N.forEach(function(Y,ne){let se=H[Y];se!==null&&(S.dataModify&&(se=S.dataModify.modifyValue(se)),H[W[ne]]=A.toPixels(se,!0))}),H.tooltipPos[1]=H.plotHigh+A.pos-S.chart.plotTop})}}cd.defaultOptions=ad(Xn.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),Mu(cd.prototype,{pointClass:class extends bm{},animate:null,directTouch:!1,keysAffectYAxis:["low","high"],pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),Mu(ld.lang,{stockOpen:"Open",stockHigh:"High",stockLow:"Low",stockClose:"Close"}),di().registerSeriesType("hlc",cd);let{seriesTypes:{hlc:Sm}}=di();class km extends Sm.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){let S=super.getZone();return this.resolveUpColor(),S}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}let{composed:pl}=ie(),{hlc:Tu}=di().seriesTypes,{addEvent:Au,crisp:ju,extend:wn,merge:_m,pushUnique:Pu}=ie();function Cm(K){let S=K.options,A=S.dataGrouping;A&&S.useOhlcData&&S.id!=="highcharts-navigator-series"&&(A.approximation="ohlc")}function Em(K){let S=K.options;S.useOhlcData&&S.id!=="highcharts-navigator-series"&&wn(this,{pointValKey:sn.prototype.pointValKey,pointArrayMap:sn.prototype.pointArrayMap,toYData:sn.prototype.toYData})}class sn extends Tu{static compose(S,...A){Pu(pl,"OHLCSeries")&&(Au(S,"afterSetOptions",Cm),Au(S,"init",Em))}getPointPath(S,A){let N=super.getPointPath(S,A),W=A.strokeWidth(),H=ju(S.plotX||0,W),Y=Math.round(S.shapeArgs.width/2);if(S.open!==null){let ne=ju(S.plotOpen,W);N.push(["M",H,ne],["L",H-Y,ne]),super.extendStem(N,W/2,ne)}return N}pointAttribs(S,A){let N=super.pointAttribs.call(this,S,A),W=this.options;return delete N.fill,!S.options.color&&W.upColor&&S.open<S.close&&(N.stroke=W.upColor),N}toYData(S){return[S.open,S.high,S.low,S.close]}}sn.defaultOptions=_m(Tu.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>{series.chart.options.lang.stockOpen}: {point.open}<br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'}}),wn(sn.prototype,{pointClass:km,pointArrayMap:["open","high","low","close"]}),di().registerSeriesType("ohlc",sn);let{column:Mm,ohlc:dd}=di().seriesTypes,{crisp:gl,merge:Tm}=ie();class ps extends dd{pointAttribs(S,A){let N=Mm.prototype.pointAttribs.call(this,S,A),W=this.options,H=S.open<S.close,Y=W.lineColor||this.color,ne=S.color||this.color;if(N["stroke-width"]=W.lineWidth,N.fill=S.options.color||H&&W.upColor||ne,N.stroke=S.options.lineColor||H&&W.upLineColor||Y,A){let se=W.states[A];N.fill=se.color||N.fill,N.stroke=se.lineColor||N.stroke,N["stroke-width"]=se.lineWidth||N["stroke-width"]}return N}drawPoints(){let S=this.points,A=this.chart,N=this.yAxis.reversed;for(let W of S){let H=W.graphic,Y,ne,se,oe,ee,te,V,Q,Z,le=!H;if(W.plotY!==void 0){H||(W.graphic=H=A.renderer.path().add(this.group)),this.chart.styledMode||H.attr(this.pointAttribs(W,W.selected&&"select")).shadow(this.options.shadow);let he=H.strokeWidth();V=gl(W.plotX||0,he),se=Math.min(Y=W.plotOpen,ne=W.plotClose),oe=Math.max(Y,ne),Z=Math.round(W.shapeArgs.width/2),ee=N?oe!==W.yBottom:Math.round(se)!==Math.round(W.plotHigh||0),te=N?Math.round(se)!==Math.round(W.plotHigh||0):oe!==W.yBottom,se=gl(se,he),oe=gl(oe,he),(Q=[]).push(["M",V-Z,oe],["L",V-Z,se],["L",V+Z,se],["L",V+Z,oe],["Z"],["M",V,se],["L",V,ee?Math.round(N?W.yBottom:W.plotHigh):se],["M",V,oe],["L",V,te?Math.round(N?W.plotHigh:W.yBottom):oe]),H[le?"attr":"animate"]({d:Q}).addClass(W.getClassName(),!0)}}}}ps.defaultOptions=Tm(dd.defaultOptions,{tooltip:dd.defaultOptions.tooltip},{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),di().registerSeriesType("candlestick",ps);let{column:{prototype:{pointClass:gs}}}=di().seriesTypes,{isNumber:Am}=ie(),jm=class extends gs{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return Am(this.y)||this.y===void 0}hasNewShapeType(){let K=this.options.shape||this.series.options.shape;return this.graphic&&K&&K!==this.graphic.symbolKey}};(function(K){let S=[];function A(W,H,Y,ne,se){let oe=se&&se.anchorX||W,ee=se&&se.anchorY||H,te=this.circle(oe-1,ee-1,2,2);return te.push(["M",oe,ee],["L",W,H+ne],["L",W,H],["L",W+Y,H],["L",W+Y,H+ne],["L",W,H+ne],["Z"]),te}function N(W,H){W[H+"pin"]=function(Y,ne,se,oe,ee){let te,V=ee&&ee.anchorX,Q=ee&&ee.anchorY;if(H==="circle"&&oe>se&&(Y-=Math.round((oe-se)/2),se=oe),te=W[H](Y,ne,se,oe,ee),V&&Q){let Z=V;if(H==="circle")Z=Y+se/2;else{let he=te[0],be=te[1];he[0]==="M"&&be[0]==="L"&&(Z=(he[1]+be[1])/2)}let le=ne>Q?ne:ne+oe;te.push(["M",Z,le],["L",V,Q]),te=te.concat(W.circle(V-1,Q-1,2,2))}return te}}K.compose=function(W){if(S.indexOf(W)===-1){S.push(W);let Y=W.prototype.symbols;Y.flag=A,N(Y,"circle"),N(Y,"square")}let H=Gc().getRendererType();S.indexOf(H)&&S.push(H)}})(ce||(ce={}));let Pm=ce;var Nm=Te(448),Om=Te.n(Nm),ml=Te(820),hd=Te.n(ml);let{composed:Rm}=ie(),{prototype:vl}=Om(),{prototype:ud}=hd(),{defined:fd,pushUnique:Nu,stableSort:na}=ie();(function(K){function S(N){return ud.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,N)}function A(){var De,Xe;vl.translate.apply(this);let N=this,W=N.options,H=N.chart,Y=N.points,ne=W.onSeries,se=ne&&H.get(ne),oe=se&&se.options.step,ee=se&&se.points,te=H.inverted,V=N.xAxis,Q=N.yAxis,Z=Y.length-1,le,he,be=W.onKey||"y",_e=ee&&ee.length,$e=0,je,Ne,Re,Ie,Ue;if(se&&se.visible&&_e){for($e=(se.pointXOffset||0)+(se.barW||0)/2,Ie=se.currentDataGrouping,Ne=ee[_e-1].x+(Ie?Ie.totalRange:0),na(Y,(Le,et)=>Le.x-et.x),be="plot"+be[0].toUpperCase()+be.substr(1);_e--&&Y[Z];)if(je=ee[_e],(le=Y[Z]).y=je.y,je.x<=le.x&&je[be]!==void 0){if(le.x<=Ne&&(le.plotY=je[be],je.x<le.x&&!oe&&(Re=ee[_e+1]))&&Re[be]!==void 0)if(fd(le.plotX)&&se.is("spline")){let Le=[je.plotX||0,je.plotY||0],et=[Re.plotX||0,Re.plotY||0],Ye=((De=je.controlPoints)==null?void 0:De.high)||Le,zt=((Xe=Re.controlPoints)==null?void 0:Xe.low)||et,it=(mt,xt)=>Math.pow(1-mt,3)*Le[xt]+3*(1-mt)*(1-mt)*mt*Ye[xt]+3*(1-mt)*mt*mt*zt[xt]+mt*mt*mt*et[xt],at=0,_r=1,Bt;for(let mt=0;mt<100;mt++){let xt=(at+_r)/2,Lt=it(xt,0);if(Lt===null)break;if(.25>Math.abs(Lt-le.plotX)){Bt=xt;break}Lt<le.plotX?at=xt:_r=xt}fd(Bt)&&(le.plotY=it(Bt,1),le.y=Q.toValue(le.plotY,!0))}else Ue=(le.x-je.x)/(Re.x-je.x),le.plotY+=Ue*(Re[be]-je[be]),le.y+=Ue*(Re.y-je.y);if(Z--,_e++,Z<0)break}}Y.forEach((Le,et)=>{let Ye;Le.plotX+=$e,(Le.plotY===void 0||te)&&(Le.plotX>=0&&Le.plotX<=V.len?te?(Le.plotY=V.translate(Le.x,0,1,0,1),Le.plotX=fd(Le.y)?Q.translate(Le.y,0,0,0,1):0):Le.plotY=(V.opposite?0:N.yAxis.len)+V.offset:Le.shapeArgs={}),(he=Y[et-1])&&he.plotX===Le.plotX&&(he.stackIndex===void 0&&(he.stackIndex=0),Ye=he.stackIndex+1),Le.stackIndex=Ye}),this.onSeries=se}K.compose=function(N){if(Nu(Rm,"OnSeries")){let W=N.prototype;W.getPlotBox=S,W.translate=A}return N},K.getPlotBox=S,K.translate=A})(J||(J={}));let Lm=J,{noop:xl}=ie(),{distribute:Im}=ie(),{series:Ou,seriesTypes:{column:Ii}}=di(),{addEvent:eo,defined:Dm,extend:Ru,isNumber:Bm,merge:yl,objectEach:$m,wrap:zm}=ie();class ms extends Ii{animate(S){S&&this.setClip()}drawPoints(){let S,A,N,W,H,Y,ne,se,oe,ee,te,V=this.points,Q=this.chart,Z=Q.renderer,le=Q.inverted,he=this.options,be=he.y,_e=this.yAxis,$e={},je=[],Ne=Bm(he.borderRadius)?he.borderRadius:0;for(W=V.length;W--;)H=V[W],ee=(le?H.plotY:H.plotX)>this.xAxis.len,S=H.plotX,ne=H.stackIndex,N=H.options.shape||he.shape,(A=H.plotY)!==void 0&&(A=H.plotY+be-(ne!==void 0&&ne*he.stackDistance)),H.anchorX=ne?void 0:H.plotX,se=ne?void 0:H.plotY,te=N!=="flag",Y=H.graphic,A!==void 0&&S>=0&&!ee?(Y&&H.hasNewShapeType()&&(Y=Y.destroy()),Y||(Y=H.graphic=Z.label("",0,void 0,N,void 0,void 0,he.useHTML).addClass("highcharts-point").add(this.markerGroup),H.graphic.div&&(H.graphic.div.point=H),Y.isNew=!0),Y.attr({align:te?"center":"left",width:he.width,height:he.height,"text-align":he.textAlign,r:Ne}),Q.styledMode||Y.attr(this.pointAttribs(H)).css(yl(he.style,H.style)).shadow(he.shadow),S>0&&(S-=Y.strokeWidth()%2),oe={y:A,anchorY:se},he.allowOverlapX&&(oe.x=S,oe.anchorX=H.anchorX),Y.attr({text:H.options.title??he.title??"A"})[Y.isNew?"attr":"animate"](oe),he.allowOverlapX||($e[H.plotX]?$e[H.plotX].size=Math.max($e[H.plotX].size,Y.width||0):$e[H.plotX]={align:.5*!!te,size:Y.width||0,target:S,anchorX:S}),H.tooltipPos=[S,A+_e.pos-Q.plotTop]):Y&&(H.graphic=Y.destroy());if(!he.allowOverlapX){let Re=100;for(let Ie of($m($e,function(Ue){Ue.plotX=Ue.anchorX,je.push(Ue),Re=Math.max(Ue.size,Re)}),Im(je,le?_e.len:this.xAxis.len,Re),V)){let Ue=Ie.plotX,De=Ie.graphic,Xe=De&&$e[Ue];Xe&&De&&(Dm(Xe.pos)?De[De.isNew?"attr":"animate"]({x:Xe.pos+(Xe.align||0)*Xe.size,anchorX:Ie.anchorX}).show().isNew=!1:De.hide().isNew=!0)}}he.useHTML&&this.markerGroup&&zm(this.markerGroup,"on",function(Re){return Ys().prototype.on.apply(Re.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){let S=this.points;for(let A of(super.drawTracker(),S)){let N=A.graphic;N&&(A.unbindMouseOver&&A.unbindMouseOver(),A.unbindMouseOver=eo(N.element,"mouseover",function(){for(let W of(A.stackIndex>0&&!A.raised&&(A._y=N.y,N.attr({y:A._y-8}),A.raised=!0),S))W!==A&&W.raised&&W.graphic&&(W.graphic.attr({y:W._y}),W.raised=!1)}))}}pointAttribs(S,A){let N=this.options,W=S&&S.color||this.color,H=N.lineColor,Y=S&&S.lineWidth,ne=S&&S.fillColor||N.fillColor;return A&&(ne=N.states[A].fillColor,H=N.states[A].lineColor,Y=N.states[A].lineWidth),{fill:ne||W,stroke:H||W,"stroke-width":Y||N.lineWidth||0}}setClip(){Ou.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}ms.compose=Pm.compose,ms.defaultOptions=yl(Ii.defaultOptions,{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold"}}),Lm.compose(ms),Ru(ms.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:jm,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:xl,init:Ou.prototype.init}),di().registerSeriesType("flags",ms);var Fm=Te(184),pd=Te.n(Fm);let{addEvent:Sr,find:$t,fireEvent:Lu,isArray:Iu,isNumber:kr,pick:vs}=ie();(function(K){function S(){this.brokenAxis!==void 0&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function A(){var ee;Object.keys(((ee=this.options.breaks)==null?void 0:ee[0])||{}).length&&(this.options.ordinal=!1)}function N(){let ee=this.brokenAxis;if(ee!=null&&ee.hasBreaks){let te=this.tickPositions,V=this.tickPositions.info,Q=[];for(let Z=0;Z<te.length;Z++)ee.isInAnyBreak(te[Z])||Q.push(te[Z]);this.tickPositions=Q,this.tickPositions.info=V}}function W(){this.brokenAxis||(this.brokenAxis=new oe(this))}function H(){var le,he;let{isDirty:ee,options:{connectNulls:te},points:V,xAxis:Q,yAxis:Z}=this;if(ee){let be=V.length;for(;be--;){let _e=V[be],$e=(_e.y!==null||te!==!1)&&(((le=Q==null?void 0:Q.brokenAxis)==null?void 0:le.isInAnyBreak(_e.x,!0))||((he=Z==null?void 0:Z.brokenAxis)==null?void 0:he.isInAnyBreak(_e.y,!0)));_e.visible=!$e&&_e.options.visible!==!1}}}function Y(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,vs(this.pointArrayMap,["y"]))}function ne(ee,te){var be;let V,Q,Z,le=this,he=le.points;if((be=ee==null?void 0:ee.brokenAxis)!=null&&be.hasBreaks){let _e=ee.brokenAxis;te.forEach(function($e){V=(_e==null?void 0:_e.breakArray)||[],Q=ee.isXAxis?ee.min:vs(le.options.threshold,ee.min),he.forEach(function(je){Z=je["stack"+$e.toUpperCase()]??je[$e],V.forEach(function(Ne){if(kr(Q)&&kr(Z)){let Re="";Q<Ne.from&&Z>Ne.to||Q>Ne.from&&Z<Ne.from?Re="pointBreak":(Q<Ne.from&&Z>Ne.from&&Z<Ne.to||Q>Ne.from&&Z>Ne.to&&Z<Ne.from)&&(Re="pointInBreak"),Re&&Lu(ee,Re,{point:je,brk:Ne})}})})})}}function se(){let ee=this.currentDataGrouping,te=ee==null?void 0:ee.gapSize,V=this.points.slice(),Q=this.yAxis,Z=this.options.gapSize,le=V.length-1;if(Z&&le>0){let he,be;for(this.options.gapUnit!=="value"&&(Z*=this.basePointRange),te&&te>Z&&te>=this.basePointRange&&(Z=te);le--;)if(be&&be.visible!==!1||(be=V[le+1]),he=V[le],be.visible!==!1&&he.visible!==!1){if(be.x-he.x>Z){let _e=(he.x+be.x)/2;V.splice(le+1,0,{isNull:!0,x:_e}),Q.stacking&&this.options.stacking&&((Q.stacking.stacks[this.stackKey][_e]=new(pd())(Q,Q.options.stackLabels,!1,_e,this.stack)).total=0)}be=he}}return this.getGraphPath(V)}K.compose=function(ee,te){if(!ee.keepProps.includes("brokenAxis")){ee.keepProps.push("brokenAxis"),Sr(ee,"init",W),Sr(ee,"afterInit",S),Sr(ee,"afterSetTickPositions",N),Sr(ee,"afterSetOptions",A);let V=te.prototype;V.drawBreaks=ne,V.gappedPath=se,Sr(te,"afterGeneratePoints",H),Sr(te,"afterRender",Y)}return ee};class oe{static isInBreak(te,V){let Q=te.repeat||1/0,Z=te.from,le=te.to-te.from,he=V>=Z?(V-Z)%Q:Q-(Z-V)%Q;return te.inclusive?he<=le:he<le&&he!==0}static lin2Val(te){let V=this.min||0,Q=this.brokenAxis,Z=Q==null?void 0:Q.breakArray;if(!(Z!=null&&Z.length)||!kr(te))return te;let le=te;if(te>V)for(let he of Z){if(he.from>le)break;(he.to<=le&&he.to>V||oe.isInBreak(he,le))&&(le+=he.len)}else if(te<V)for(let he of Z){if(he.from>V)break;(he.from>=le&&he.from<V||oe.isInBreak(he,le))&&(le-=he.len)}return le}static val2Lin(te){let V=this.min||0,Q=this.brokenAxis,Z=Q==null?void 0:Q.breakArray;if(!(Z!=null&&Z.length)||!kr(te))return te;let le=te;if(te>V)for(let he of Z)if(he.to<=te&&he.to>V)le-=he.len;else{if(he.from>te)break;if(oe.isInBreak(he,te)){le-=te-he.from;break}}else if(te<V)for(let he of Z)if(he.from>=te&&he.from<V)le+=he.len;else{if(he.from>V)break;if(oe.isInBreak(he,te)){le+=he.to-te;break}}return le}constructor(te){this.axis=te}findBreakAt(te,V){return $t(V,function(Q){return Q.from<te&&te<Q.to})}isInAnyBreak(te,V){let Q=this.axis,Z=Q.options.breaks||[],le=Z.length,he,be,_e;if(le&&kr(te)){for(;le--;)oe.isInBreak(Z[le],te)&&(he=!0,be||(be=vs(Z[le].showPoints,!Q.isXAxis)));_e=he&&V?he&&!be:he}return _e}setBreaks(te,V){let Q=this,Z=Q.axis,le=Z.chart.time,he=Iu(te)&&!!Object.keys((te==null?void 0:te[0])||{}).length;Z.isDirty=(Q.hasBreaks??!1)!==he,Q.hasBreaks=he,te==null||te.forEach(be=>{be.from=le.parse(be.from)||0,be.to=le.parse(be.to)||0}),te!==Z.options.breaks&&(Z.options.breaks=Z.userOptions.breaks=te),Z.forceRedraw=!0,Z.series.forEach(function(be){be.isDirty=!0}),he||Z.val2lin!==oe.val2Lin||(delete Z.val2lin,delete Z.lin2val),he&&(Z.userOptions.ordinal=!1,Z.lin2val=oe.lin2Val,Z.val2lin=oe.val2Lin,Z.setExtremes=function(be,_e,$e,je,Ne){var Re;if(Q.hasBreaks&&!((Re=Z.treeGrid)!=null&&Re.tree)){let Ie,Ue=this.brokenAxis.breakArray||[];for(;Ie=Q.findBreakAt(be,Ue);)be=Ie.to;for(;Ie=Q.findBreakAt(_e,Ue);)_e=Ie.from;_e<be&&(_e=be)}Z.constructor.prototype.setExtremes.call(this,be,_e,$e,je,Ne)},Z.setAxisTranslation=function(){var be;if(Z.constructor.prototype.setAxisTranslation.call(this),Q.unitLength=void 0,Q.hasBreaks){let _e=Z.options.breaks||[],$e=[],je=[],Ne=Z.pointRangePadding??0,Re=0,Ie,Ue,De=Z.userMin??Z.min,Xe=Z.userMax??Z.max,Le=Z.dataMin??De,et=Z.dataMax??Xe,Ye,zt;kr(Z.threshold)&&(Le=Math.min(Le??Z.threshold,Z.threshold),et=Math.max(et??Z.threshold,Z.threshold)),(be=Z.treeGrid)!=null&&be.tree||_e.forEach(function(it){Ue=it.repeat||1/0,kr(De)&&kr(Xe)&&(oe.isInBreak(it,De)&&(De+=it.to%Ue-De%Ue),oe.isInBreak(it,Xe)&&(Xe-=Xe%Ue-it.from%Ue))}),kr(Le)&&kr(et)&&_e.forEach(function(it){for(Ye=it.from,Ue=it.repeat||1/0;Ye-Ue>Le;)Ye-=Ue;for(;Ye<Le;)Ye+=Ue;for(zt=Ye;zt<et;zt+=Ue)$e.push({value:zt,move:"in"}),$e.push({value:zt+it.to-it.from,move:"out",size:it.breakSize})}),$e.sort(function(it,at){return it.value===at.value?(it.move!=="in")-(at.move!=="in"):it.value-at.value}),Ie=0,Ye=Le,$e.forEach(it=>{(Ie+=it.move==="in"?1:-1)===1&&it.move==="in"&&(Ye=it.value),Ie===0&&kr(Ye)&&(je.push({from:Ye,to:it.value,len:it.value-Ye-(it.size||0)}),kr(De)&&kr(Xe)&&Ye<Xe&&it.value>De&&(Re+=it.value-Ye-(it.size||0)))}),Q.breakArray=je,kr(De)&&kr(Xe)&&kr(Z.min)&&(Q.unitLength=Xe-De-Re+Ne,Lu(Z,"afterBreaks"),Z.staticScale?Z.transA=Z.staticScale:Q.unitLength&&(Z.transA*=(Xe-Z.min+Ne)/Q.unitLength),Ne&&(Z.minPixelPadding=Z.transA*(Z.minPointOffset||0)),Z.min=De,Z.max=Xe)}}),vs(V,!0)&&Z.chart.redraw()}}K.Additions=oe})(we||(we={}));let Gt=we,to=ie();to.BrokenAxis=to.BrokenAxis||Gt,to.BrokenAxis.compose(to.Axis,to.Series);let ti={},{arrayMax:Du,arrayMin:dt,correctFloat:Bu,extend:wl,isNumber:on}=ie();function sa(K){let S=K.length,A=wt(K);return on(A)&&S&&(A=Bu(A/S)),A}function wt(K){let S=K.length,A;if(!S&&K.hasNulls)A=null;else if(S)for(A=0;S--;)A+=K[S];return A}let oa={average:sa,averages:function(){let K=[];return[].forEach.call(arguments,function(S){K.push(sa(S))}),K[0]===void 0?void 0:K},close:function(K){return K.length?K[K.length-1]:K.hasNulls?null:void 0},high:function(K){return K.length?Du(K):K.hasNulls?null:void 0},hlc:function(K,S,A){if(K=ti.high(K),S=ti.low(S),A=ti.close(A),on(K)||on(S)||on(A))return[K,S,A]},low:function(K){return K.length?dt(K):K.hasNulls?null:void 0},ohlc:function(K,S,A,N){if(K=ti.open(K),S=ti.high(S),A=ti.low(A),N=ti.close(N),on(K)||on(S)||on(A)||on(N))return[K,S,A,N]},open:function(K){return K.length?K[0]:K.hasNulls?null:void 0},range:function(K,S){return K=ti.low(K),S=ti.high(S),on(K)||on(S)?[K,S]:K===null&&S===null?null:void 0},sum:wt};wl(ti,oa);let ro={common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["%v %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]},{addEvent:$u,extend:Wm,merge:zu,pick:xs}=ie();function Fu(K){let S=this,A=S.series;A.forEach(function(N){N.groupPixelWidth=void 0}),A.forEach(function(N){N.groupPixelWidth=S.getGroupPixelWidth&&S.getGroupPixelWidth(),N.groupPixelWidth&&(N.hasProcessed=!0),N.applyGrouping(!!K.hasExtremesChanged)})}function Um(){let K=this.series,S=K.length,A=0,N=!1,W,H;for(;S--;)(H=K[S].options.dataGrouping)&&(A=Math.max(A,xs(H.groupPixelWidth,ro.common.groupPixelWidth)),W=(K[S].dataTable.modified||K[S].dataTable).rowCount,(K[S].groupPixelWidth||W>this.chart.plotSizeX/A||W&&H.forced)&&(N=!0));return N?A:0}function Hm(){this.series.forEach(function(K){K.hasProcessed=!1})}function bl(K,S){let A;if(S=xs(S,!0),K||(K={forced:!1,units:null}),this instanceof I)for(A=this.series.length;A--;)this.series[A].update({dataGrouping:K},!1);else this.chart.options.series.forEach(function(N){N.dataGrouping=typeof K=="boolean"?K:zu(K,N.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),S&&this.chart.redraw()}let Gm={compose:function(K){I=K;let S=K.prototype;S.applyGrouping||($u(K,"afterSetScale",Hm),$u(K,"postProcessData",Fu),Wm(S,{applyGrouping:Fu,getGroupPixelWidth:Um,setDataGrouping:bl}))}},{addEvent:Wu,getMagnitude:Vm,normalizeTickInterval:Xm,timeUnits:Sl}=ie();(function(K){function S(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function A(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new N(this))}K.compose=function(W){return W.keepProps.includes("dateTime")||(W.keepProps.push("dateTime"),W.prototype.getTimeTicks=S,Wu(W,"afterSetType",A)),W};class N{constructor(H){this.axis=H}normalizeTimeTickInterval(H,Y){let ne=Y||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],se=ne[ne.length-1],oe=Sl[se[0]],ee=se[1],te;for(te=0;te<ne.length&&(oe=Sl[(se=ne[te])[0]],ee=se[1],!ne[te+1]||!(H<=(oe*ee[ee.length-1]+Sl[ne[te+1][0]])/2));te++);oe===Sl.year&&H<5*oe&&(ee=[1,2,5]);let V=Xm(H/oe,ee,se[0]==="year"?Math.max(Vm(H/oe),1):1);return{unitRange:oe,count:V,unitName:se[0]}}getXDateFormat(H,Y){let{axis:ne}=this,se=ne.chart.time;return ne.closestPointRange?se.getDateFormat(ne.closestPointRange,H,ne.options.startOfWeek,Y)||se.resolveDTLFormat(Y.year).main:se.resolveDTLFormat(Y.day).main}}K.Additions=N})(ke||(ke={}));let Ym=ke,{series:{prototype:Uu}}=di(),{addEvent:kl,defined:aa,error:Hu,extend:Gu,isNumber:wi,merge:bi,pick:qm,splat:Km}=ie(),Zm=Uu.generatePoints;function Vu(K){var S,A,N;let W,H,Y=this.chart,ne=this.options.dataGrouping,se=this.allowDG!==!1&&ne&&qm(ne.enabled,Y.options.isStock),oe=this.reserveSpace(),ee=this.currentDataGrouping,te,V,Q=!1;se&&!this.requireSorting&&(this.requireSorting=Q=!0);let Z=(S=this,A=K,!!(S.isCartesian&&!S.isDirty&&!S.xAxis.isDirty&&!S.yAxis.isDirty&&!A)||!se);if(Q&&(this.requireSorting=!1),Z)return;this.destroyGroupedData();let le=ne.groupAll?this.dataTable:this.dataTable.modified||this.dataTable,he=this.getColumn("x",!ne.groupAll),be=Y.plotSizeX,_e=this.xAxis,$e=_e.getExtremes(),je=_e.options.ordinal,Ne=this.groupPixelWidth;if(Ne&&he&&le.rowCount&&be&&wi($e.min)){H=!0,this.isDirty=!0,this.points=null;let Re=$e.min,Ie=$e.max,Ue=je&&_e.ordinal&&_e.ordinal.getGroupIntervalFactor(Re,Ie,this)||1,De=Ne*(Ie-Re)/be*Ue,Xe=_e.getTimeTicks(Ym.Additions.prototype.normalizeTimeTickInterval(De,ne.units||ro.units),Math.min(Re,he[0]),Math.max(Ie,he[he.length-1]),_e.options.startOfWeek,he,this.closestPointRange),Le=Uu.groupData.apply(this,[le,Xe,ne.approximation]),et=Le.modified,Ye=et.getColumn("x",!0),zt=0;for(ne!=null&&ne.smoothed&&et.rowCount&&(ne.firstAnchor="firstPoint",ne.anchor="middle",ne.lastAnchor="lastPoint",Hu(32,!1,Y,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),W=1;W<Xe.length;W++)Xe.info.segmentStarts&&Xe.info.segmentStarts.indexOf(W)!==-1||(zt=Math.max(Xe[W]-Xe[W-1],zt));(te=Xe.info).gapSize=zt,this.closestPointRange=Xe.info.totalRange,this.groupMap=Le.groupMap,this.currentDataGrouping=te,function(it,at,_r){let Bt=it.options.dataGrouping,mt=it.currentDataGrouping&&it.currentDataGrouping.gapSize,xt=it.getColumn("x");if(!(Bt&&xt.length&&mt&&it.groupMap))return;let Lt=at.length-1,vr=Bt.anchor,Si=Bt.firstAnchor,Pr=Bt.lastAnchor,so=at.length-1,la=0;if(Si&&xt[0]>=at[0]){let bn;la++;let vd=it.groupMap[0].start,nf=it.groupMap[0].length;wi(vd)&&wi(nf)&&(bn=vd+(nf-1)),at[0]={start:at[0],middle:at[0]+.5*mt,end:at[0]+mt,firstPoint:xt[0],lastPoint:bn&&xt[bn]}[Si]}if(Lt>0&&Pr&&mt&&at[Lt]>=_r-mt){so--;let bn=it.groupMap[it.groupMap.length-1].start;at[Lt]={start:at[Lt],middle:at[Lt]+.5*mt,end:at[Lt]+mt,firstPoint:bn&&xt[bn],lastPoint:xt[xt.length-1]}[Pr]}if(vr&&vr!=="start"){let bn=mt*{middle:.5,end:1}[vr];for(;so>=la;)at[so]+=bn,so--}}(this,Ye||[],Ie),oe&&Ye&&(aa((N=Ye)[0])&&wi(_e.min)&&wi(_e.dataMin)&&N[0]<_e.min&&((!aa(_e.options.min)&&_e.min<=_e.dataMin||_e.min===_e.dataMin)&&(_e.min=Math.min(N[0],_e.min)),_e.dataMin=Math.min(N[0],_e.dataMin)),aa(N[N.length-1])&&wi(_e.max)&&wi(_e.dataMax)&&N[N.length-1]>_e.max&&((!aa(_e.options.max)&&wi(_e.dataMax)&&_e.max>=_e.dataMax||_e.max===_e.dataMax)&&(_e.max=Math.max(N[N.length-1],_e.max)),_e.dataMax=Math.max(N[N.length-1],_e.dataMax))),ne.groupAll&&(this.allGroupedTable=et,Ye=(et=(V=this.cropData(et,_e.min||0,_e.max||0)).modified).getColumn("x"),this.cropStart=V.start),this.dataTable.modified=et}else this.groupMap=void 0,this.currentDataGrouping=void 0;this.hasGroupedData=H,this.preventGraphAnimation=(ee&&ee.totalRange)!==(te&&te.totalRange)}function Xu(){this.groupedData&&(this.groupedData.forEach(function(K,S){K&&(this.groupedData[S]=K.destroy?K.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function Qm(){Zm.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function _l(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function Yu(K,S,A){let N=K.getColumn("x",!0)||[],W=K.getColumn("y",!0),H=this,Y=H.data,ne=H.options&&H.options.data,se=[],oe=new pu,ee=[],te=K.rowCount,V=!!W,Q=[],Z=H.pointArrayMap,le=Z&&Z.length,he=["x"].concat(Z||["y"]),be=(Z||["y"]).map(()=>[]),_e=this.options.dataGrouping&&this.options.dataGrouping.groupAll,$e,je,Ne,Re=0,Ie=0,Ue=typeof A=="function"?A:A&&ti[A]?ti[A]:ti[H.getDGApproximation&&H.getDGApproximation()||"average"];if(le){let Le=Z.length;for(;Le--;)Q.push([])}else Q.push([]);let De=le||1;for(let Le=0;Le<=te;Le++)if(!(N[Le]<S[0])){for(;S[Re+1]!==void 0&&N[Le]>=S[Re+1]||Le===te;){if($e=S[Re],H.dataGroupInfo={start:_e?Ie:H.cropStart+Ie,length:Q[0].length,groupStart:$e},Ne=Ue.apply(H,Q),H.pointClass&&!aa(H.dataGroupInfo.options)&&(H.dataGroupInfo.options=bi(H.pointClass.prototype.optionsToObject.call({series:H},H.options.data[H.cropStart+Ie])),he.forEach(function(et){delete H.dataGroupInfo.options[et]})),Ne!==void 0){se.push($e);let et=Km(Ne);for(let Ye=0;Ye<et.length;Ye++)be[Ye].push(et[Ye]);ee.push(H.dataGroupInfo)}Ie=Le;for(let et=0;et<De;et++)Q[et].length=0,Q[et].hasNulls=!1;if(Re+=1,Le===te)break}if(Le===te)break;if(Z){let et,Ye=_e?Le:H.cropStart+Le,zt=Y&&Y[Ye]||H.pointClass.prototype.applyOptions.apply({series:H},[ne[Ye]]);for(let it=0;it<le;it++)wi(et=zt[Z[it]])?Q[it].push(et):et===null&&(Q[it].hasNulls=!0)}else wi(je=V?W[Le]:null)?Q[0].push(je):je===null&&(Q[0].hasNulls=!0)}let Xe={x:se};return(Z||["y"]).forEach((Le,et)=>{Xe[Le]=be[et]}),oe.setColumns(Xe),{groupMap:ee,modified:oe}}function qu(K){let S=K.options,A=this.type,N=this.chart.options.plotOptions,W=this.useCommonDataGrouping&&ro.common,H=ro.seriesSpecific,Y=ie().defaultOptions.plotOptions[A].dataGrouping;if(N&&(H[A]||W)){let ne=this.chart.rangeSelector;Y||(Y=bi(ro.common,H[A])),S.dataGrouping=bi(W,Y,N.series&&N.series.dataGrouping,N[A].dataGrouping,this.userOptions.dataGrouping,!S.isInternal&&ne&&wi(ne.selected)&&ne.buttonOptions[ne.selected].dataGrouping)}}let Ku={compose:function(K){let S=K.prototype;S.applyGrouping||(kl(K.prototype.pointClass,"update",function(){if(this.dataGroup)return Hu(24,!1,this.series.chart),!1}),kl(K,"afterSetOptions",qu),kl(K,"destroy",Xu),Gu(S,{applyGrouping:Vu,destroyGroupedData:Xu,generatePoints:Qm,getDGApproximation:_l,groupData:Yu}))},groupData:Yu},{format:Jm}=qs(),{composed:Zu}=ie(),{addEvent:ev,extend:tv,isNumber:rv,pick:io,pushUnique:Qu}=ie();function iv(K){var he;let S=this.chart,A=S.time,N=K.point,W=N.series,H=W.options,Y=W.tooltipOptions,ne=H.dataGrouping,se=W.xAxis,oe=Y.xDateFormat||"",ee,te,V,Q,Z,le=Y[K.isFooter?"footerFormat":"headerFormat"];if(se&&se.options.type==="datetime"&&ne&&rv(N.key)){te=W.currentDataGrouping,V=ne.dateTimeLabelFormats||ro.common.dateTimeLabelFormats,te?(Q=V[te.unitName],te.count===1?oe=Q[0]:(oe=Q[1],ee=Q[2])):!oe&&V&&se.dateTime&&(oe=se.dateTime.getXDateFormat(N.x,Y.dateTimeLabelFormats));let be=io((he=W.groupMap)==null?void 0:he[N.index].groupStart,N.key),_e=be+((te==null?void 0:te.totalRange)||0)-1;Z=A.dateFormat(oe,be),ee&&(Z+=A.dateFormat(ee,_e)),W.chart.styledMode&&(le=this.styledModeFormat(le)),K.text=Jm(le,{point:tv(N,{key:Z}),series:W},S),K.preventDefault()}}let nv={compose:function(K,S,A){Gm.compose(K),Ku.compose(S),A&&Qu(Zu,"DataGrouping")&&ev(A,"headerFormatter",iv)},groupData:Ku.groupData},Di=ie();Di.dataGrouping=Di.dataGrouping||{},Di.dataGrouping.approximationDefaults=Di.dataGrouping.approximationDefaults||oa,Di.dataGrouping.approximations=Di.dataGrouping.approximations||ti,nv.compose(Di.Axis,Di.Series,Di.Tooltip);let{defined:sv,isNumber:Ju,pick:ov}=ie(),{addEvent:ef,isObject:gd,pick:av,defined:no,merge:lv}=ie(),{getAssignedAxis:Cl}={getAssignedAxis:function(K){return K.filter(S=>{let A=S.axis.getExtremes(),N=A.min,W=A.max,H=ov(S.axis.minPointOffset,0);return Ju(N)&&Ju(W)&&S.value>=N-H&&S.value<=W+H&&!S.axis.options.isInternal})[0]}},tf=[],md={enabled:!0,sensitivity:1.1},rf=K=>(gd(K)||(K={enabled:K??!0}),lv(md,K)),cv=function(K,S,A,N,W,H,Y){let ne=av(Y.type,K.zooming.type,""),se=[];ne==="x"?se=A:ne==="y"?se=N:ne==="xy"&&(se=K.axes);let oe=K.transform({axes:se,to:{x:W-5,y:H-5,width:10,height:10},from:{x:W-5*S,y:H-5*S,width:10*S,height:10*S},trigger:"mousewheel"});return oe&&(no(j)&&clearTimeout(j),j=setTimeout(()=>{var ee;(ee=K.pointer)==null||ee.drop()},400)),oe};function dv(){let K=rf(this.zooming.mouseWheel);K.enabled&&ef(this.container,"wheel",S=>{var W,H;S=((W=this.pointer)==null?void 0:W.normalize(S))||S;let{pointer:A}=this,N=A&&!A.inClass(S.target,"highcharts-no-mousewheel");if(this.isInsidePlot(S.chartX-this.plotLeft,S.chartY-this.plotTop)&&N){let Y=K.sensitivity||1.1,ne=S.detail||(S.deltaY||0)/120,se=Cl(A.getCoordinates(S).xAxis),oe=Cl(A.getCoordinates(S).yAxis);cv(this,Math.pow(Y,ne),se?[se.axis]:this.xAxis,oe?[oe.axis]:this.yAxis,S.chartX,S.chartY,K)&&((H=S.preventDefault)==null||H.call(S))}})}/**
* @license Highcharts JS v12.4.0 (2025-09-04)
* @module highcharts/modules/mouse-wheel-zoom
* @requires highcharts
*
* Mousewheel zoom module
*
* (c) 2023 Askel Eirik Johansson
*
* License: www.highcharts.com/license
*/let El=ie();El.MouseWheelZoom=El.MouseWheelZoom||{compose:function(K){tf.indexOf(K)===-1&&(tf.push(K),ef(K,"afterGetContainer",dv))}},El.MouseWheelZoom.compose(El.Chart);let Mt=ie();Mt.Navigator=Mt.Navigator||hs,Mt.OrdinalAxis=Mt.OrdinalAxis||Qc,Mt.RangeSelector=Mt.RangeSelector||fs,Mt.Scrollbar=Mt.Scrollbar||zn,Mt.stockChart=Mt.stockChart||Vn.stockChart,Mt.StockChart=Mt.StockChart||Mt.stockChart,Mt.extend(Mt.StockChart,Vn),st.compose(Mt.Series,Mt.Axis,Mt.Point),ms.compose(Mt.Renderer),sn.compose(Mt.Series),Mt.Navigator.compose(Mt.Chart,Mt.Axis,Mt.Series),Mt.OrdinalAxis.compose(Mt.Axis,Mt.Series,Mt.Chart),Mt.RangeSelector.compose(Mt.Axis,Mt.Chart),Mt.Scrollbar.compose(Mt.Axis),Mt.StockChart.compose(Mt.Chart,Mt.Axis,Mt.Series,Mt.SVGRenderer);let hv=ie();return We.default})())})(dA);var D3=dA.exports;const Ek=jh(D3);try{const e=Ek.default||Ek;typeof window<"u"&&typeof e=="function"&&e(cA)}catch(e){console.error("Failed to initialize Highcharts Stock module:",e)}function B3({data:e,onMatchClick:t}){const r=M.useMemo(()=>{const n=[];let s=1500;return e.forEach((a,c)=>{let p=s;const v=a.rating,w=Math.max(p,v)+5,k=Math.min(p,v)-5;a.isReset?n.push({x:c,open:p,high:w,low:k,close:v,color:"#6b7280",lineColor:"#4b5563",upColor:"#6b7280",upLineColor:"#4b5563"}):n.push([c,p,w,k,v]),s=v}),{chart:{type:"candlestick",backgroundColor:"transparent",height:400,spacingBottom:20},credits:{enabled:!0},exporting:{enabled:!0},navigator:{enabled:!1},scrollbar:{enabled:!1},rangeSelector:{enabled:!1},title:null,subtitle:null,xAxis:{type:"linear",title:{text:"Match Number",style:{fontSize:"12px"}},labels:{formatter:function(){return String(this.value+1)}},min:e.length>0?0:void 0,max:e.length>0?Math.max(0,e.length-1):void 0,plotLines:[],accessibility:{rangeDescription:"Range: Match 1 to "+e.length}},yAxis:{title:{text:"Rating",style:{fontSize:"12px"}},opposite:!1,accessibility:{description:"Rating value"}},legend:{enabled:!1},plotOptions:{candlestick:{color:"#ef4444",upColor:"#22c55e",lineColor:"#ef4444",upLineColor:"#22c55e",dataLabels:{enabled:!1}},series:{cursor:"pointer",point:{events:{click:function(){const a=e[this.x];t&&a&&!a.isReset&&t(a.matchId)}}}}},tooltip:{shared:!0,useHTML:!0,formatter:function(){var k,E;if(!this.points||this.points.length===0)return"";const a=e[this.x];if(!a)return"";if(a.isReset){let P=1500;for(let U=this.x-1;U>=0;U--)if(e[U]&&!((k=e[U])!=null&&k.isReset)){P=((E=e[U])==null?void 0:E.rating)||1500;break}const z=P-a.rating;return`<div class="highcharts-tooltip-custom">
              <div style="font-weight: bold; color: #4b5563;"> Season Reset</div>
              <div style="margin-top: 4px; font-size: 12px; color: #374151;">
                <div>Previous Rating: <b>${P.toFixed(0)}</b></div>
                <div>Reset to: <b>${a.rating.toFixed(0)}</b></div>
                ${z>0?`<div style="color: #ef4444; font-weight: bold;">Rating Drop: -${z.toFixed(0)}</div>`:""}
                <div style="margin-top: 4px; font-size: 11px; color: #6b7280;">New season begins at 1500</div>
              </div>
            </div>`}const c=a.change>=0?"#22c55e":"#ef4444",p=a.change>=0?"+":"",v=a.won?" Win":" Loss";return`<div class="highcharts-tooltip-custom">
            <div style="font-weight: bold; color: ${a.won?"#22c55e":"#ef4444"};">${v} vs ${a.opponentName}</div>
            <div style="margin-top: 4px; font-size: 12px;">
              <div>Rating: <b>${a.rating.toFixed(0)}</b></div>
              <div style="color: ${c};">Change: <b>${p}${a.change.toFixed(1)}</b></div>
              ${a.eventTitle?`<div style="margin-top: 4px; font-size: 11px;">Event: ${a.eventTitle}</div>`:""}
            </div>
          </div>`}},series:[{name:"Rating Progress",data:n,type:"candlestick"}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:300},xAxis:{labels:{enabled:!1}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"}}}]}}},[e,t]);return f.jsx("div",{className:"w-full overflow-hidden",children:f.jsx(L3,{highcharts:cA,options:r,constructorType:"chart"})})}const Ud=20;function Wx(e,t=0){return e.toLocaleString(void 0,{maximumFractionDigits:t,minimumFractionDigits:t})}function $3(){const{id:e}=ZC(),t=e?parseInt(e):NaN,[r,n]=M.useState(1),{openMatch:s}=Vw(),[a,c]=M.useState([]),{players:p,loading:v}=wg(),[w,k]=M.useState([]),[E,P]=M.useState(!0),[z,U]=M.useState([]),[D,L]=M.useState([]),[I,j]=M.useState(null);M.useEffect(()=>{let Se=!0;return(async()=>{const me=await $h();Se&&U(me)})(),()=>{Se=!1}},[]),M.useEffect(()=>{let Se=!0;return(async()=>{const me=await zc();Se&&L(me)})(),()=>{Se=!1}},[]),M.useEffect(()=>{let Se=!0;return(async()=>{P(!0);const me=await EB();Se&&(k(me),P(!1))})(),()=>{Se=!1}},[]),M.useEffect(()=>{if(isNaN(t))return;let Se=!0;return(async()=>{const me=await Ve.from("rating_events").select("*").eq("player_id",t).eq("event_type","match").not("match_id","is",null).order("id",{ascending:!0});Se&&!me.error&&me.data&&c(me.data)})(),()=>{Se=!1}},[t,w]);const O=M.useMemo(()=>isNaN(t)?void 0:p.find(Se=>Se.id===t),[p,t]);fn(O?`Player - ${O.name}`:"Player");const q=M.useMemo(()=>O?[...p].sort((me,Te)=>(Te.rating??0)-(me.rating??0)).findIndex(me=>me.id===O.id)+1:null,[p,O]),ae=M.useMemo(()=>isNaN(t)?[]:w.filter(me=>me.player1_id===t||me.player2_id===t).sort((me,Te)=>Te.id-me.id),[w,t]),re=M.useMemo(()=>I===null?ae:ae.filter(Se=>Se.season_id===I),[ae,I]),ce=M.useMemo(()=>{let Se=0,me=0;const Te=[];for(const Je of ae){if(!Je.winner_id)continue;Je.winner_id===t?(Se++,Te.length<10&&Te.push("W")):(me++,Te.length<10&&Te.push("L"))}const We=Se+me>0?Se/(Se+me)*100:0;return{w:Se,l:me,winRate:We,recentForm:Te}},[ae,t]),J=M.useMemo(()=>{if(!O)return[];if(a.length>0){const ie=a.filter(Be=>Be.match_id).map(Be=>{let Ee="Unknown";if(Be.opponent_id){const Ze=p.find(ot=>ot.id===Be.opponent_id);Ee=(Ze==null?void 0:Ze.name)||`Player ${Be.opponent_id}`}return{eventId:Be.id,rating:Be.rating,change:Be.rating_change||0,won:Be.result===1,matchId:Be.match_id||0,opponentName:Ee,eventTitle:null,isReset:!1,seasonId:Be.season_id}}),ve=new Map;for(const Be of ie){const Ee=Be.matchId?ve.get(Be.matchId):void 0;(!Ee||Ee&&Be.eventId>Ee.eventId)&&Be.matchId&&ve.set(Be.matchId,Be)}let pe=Array.from(ve.values());pe.sort((Be,Ee)=>Be.eventId-Ee.eventId);const Me=pe.length;if(pe=pe.slice(-Me),pe.length===0)return[];const ze=[];for(let Be=0;Be<pe.length;Be++){const Ee=pe[Be],Ze=Be>0?pe[Be-1]:null;Ze&&Ze.seasonId!==Ee.seasonId&&ze.push({matchNum:ze.length+1,rating:1500,change:0,won:!1,matchId:0,opponentName:"Season Reset",eventTitle:null,isReset:!0}),ze.push({matchNum:ze.length+1,rating:Ee.rating,change:Ee.change,won:Ee.won,matchId:Ee.matchId,opponentName:Ee.opponentName,eventTitle:Ee.eventTitle,isReset:!1})}return ze}const Se=ae.length;let me=[...ae].slice(0,Se).reverse();if(me.length===0)return[];let Te=O.rating??1500;for(const ie of me){if(!ie.winner_id)continue;const ve=ie.player1_id===t?ie.rating_change_p1||0:ie.rating_change_p2||0;Te-=ve}const We=[];let Je=Te;return me.forEach((ie,ve)=>{if(!ie.winner_id)return;const pe=ie.player1_id===t?ie.rating_change_p1||0:ie.rating_change_p2||0,Me=ie.winner_id===t,ze=ie.player1_id===t?ie.player2_id:ie.player1_id,Be=p.find(Ze=>Ze.id===ze),Ee=ie.event_id?z.find(Ze=>Ze.id===ie.event_id):null;Je+=pe,We.push({matchNum:ve+1,rating:Je,change:pe,won:Me,matchId:ie.id,opponentName:(Be==null?void 0:Be.name)||`Player ${ze}`,eventTitle:(Ee==null?void 0:Ee.title)||null,isReset:!1})}),We},[ae,t,O,p,z,a]),we=Math.ceil(re.length/Ud),ke=M.useMemo(()=>{const Se=(r-1)*Ud,me=Se+Ud;return re.slice(Se,me)},[re,r]);return M.useEffect(()=>{n(1)},[I]),f.jsxs("section",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Player"}),f.jsx(Ar,{className:"text-sm text-primary",to:"/players",children:" Back to Players"})]}),v&&f.jsx("p",{className:"text-muted-foreground",children:"Loading..."}),!O&&!v&&f.jsx("p",{className:"text-muted-foreground",children:"Player not found."}),O&&f.jsxs(f.Fragment,{children:[f.jsxs(Kt,{children:[f.jsx(yr,{children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Rs,{name:O.name,twitter:O.twitter,size:64,className:"h-16 w-16"}),f.jsxs("div",{children:[f.jsx(wr,{children:O.name}),O.twitter&&f.jsxs("a",{href:`https://twitter.com/${O.twitter.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-primary",children:["@",O.twitter.replace("@","")]})]})]})}),f.jsxs(er,{className:"grid grid-cols-2 gap-4 sm:grid-cols-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-muted-foreground text-xs",children:[f.jsx("span",{className:"sm:hidden",children:"Rtng"}),f.jsx("span",{className:"hidden sm:inline",children:"Rating"})]}),f.jsx("div",{className:"font-medium text-lg",children:Wx(O.rating??0,0)})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-muted-foreground text-xs",children:"RD"}),f.jsx("div",{children:Wx(O.rd??0,0)})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-muted-foreground text-xs",children:[f.jsx("span",{className:"sm:hidden",children:"Vol"}),f.jsx("span",{className:"hidden sm:inline",children:"Volatility"})]}),f.jsx("div",{children:(O.volatility??0).toFixed(3)})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-muted-foreground text-xs",children:[f.jsx("span",{className:"sm:hidden",children:"W-L"}),f.jsx("span",{className:"hidden sm:inline",children:"Record"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:ce.w}),f.jsx("span",{className:"mx-1 text-muted-foreground",children:"-"}),f.jsx("span",{children:ce.l}),f.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",ce.winRate.toFixed(1),"%)"]})]})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[f.jsxs(Kt,{children:[f.jsx(yr,{children:f.jsxs(wr,{className:"flex items-center gap-2 text-base",children:[f.jsx(HE,{size:18,className:"text-yellow-500"}),"Rankings & Achievements"]})}),f.jsxs(er,{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Rank"}),f.jsxs("span",{className:"font-semibold text-lg",children:["#",q,q&&q<=10&&f.jsx("span",{className:"ml-2 text-xs bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 px-2 py-0.5 rounded",children:"Top 10"})]})]}),O.peak_rating&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Peak Rating"}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"font-semibold",children:Wx(O.peak_rating,0)}),O.peak_rating_date&&f.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(O.peak_rating_date).toLocaleDateString()})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Matches"}),f.jsx("span",{className:"font-semibold",children:ae.length})]})]})]}),f.jsxs(Kt,{children:[f.jsxs(yr,{children:[f.jsxs(wr,{className:"flex items-center gap-2 text-base",children:[f.jsx(qS,{size:18,className:"text-blue-500"}),"Recent Form"]}),f.jsx(Zr,{children:"Last 10 matches"})]}),f.jsx(er,{children:f.jsx("div",{className:"flex items-center gap-1.5 flex-wrap",children:ce.recentForm.length===0?f.jsx("span",{className:"text-sm text-muted-foreground",children:"No recent matches"}):ce.recentForm.map((Se,me)=>f.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-xs font-bold ${Se==="W"?"bg-green-500/20 text-green-600 dark:text-green-400":"bg-red-500/20 text-red-600 dark:text-red-400"}`,children:Se},me))})})]})]}),J.length>0&&f.jsxs(Kt,{children:[f.jsxs(yr,{children:[f.jsxs(wr,{className:"flex items-center gap-2 text-base",children:[f.jsx(qS,{size:18,className:"text-purple-500"}),"Rating Progression"]}),f.jsxs(Zr,{children:["All ",J.length," matches"]})]}),f.jsx(er,{children:f.jsx(B3,{data:J,onMatchClick:s})})]}),f.jsxs(Kt,{children:[f.jsx(yr,{children:f.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[f.jsx(wr,{children:"Recent Matches"}),f.jsx("div",{className:"w-full sm:w-64",children:f.jsx(Cs,{value:I===null?"all":String(I),onValueChange:Se=>{j(Se==="all"?null:parseInt(Se,10))},placeholder:"Select season...",searchPlaceholder:"Search seasons...",options:[{value:"all",label:"All seasons"},...D.filter(Se=>Se.status==="active").map(Se=>({value:String(Se.id),label:`${Se.name} (Active)`})),...D.filter(Se=>Se.status==="archived").sort((Se,me)=>Se.id-me.id).map(Se=>({value:String(Se.id),label:`${Se.name} (Archived)`}))]})})]})}),f.jsx(er,{children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"text-left text-muted-foreground",children:f.jsxs("tr",{className:"border-b",children:[f.jsx("th",{className:"py-2 pr-2 w-8"}),f.jsxs("th",{className:"py-2 pr-4",children:[f.jsx("span",{className:"sm:hidden",children:"Opp"}),f.jsx("span",{className:"hidden sm:inline",children:"Opponent"})]}),f.jsxs("th",{className:"py-2 pr-4",children:[f.jsx("span",{className:"sm:hidden",children:"Score"}),f.jsx("span",{className:"hidden sm:inline",children:"Score"})]}),f.jsxs("th",{className:"py-2 pr-4",children:[f.jsx("span",{className:"sm:hidden",children:""}),f.jsx("span",{className:"hidden sm:inline",children:"Change"})]}),f.jsxs("th",{className:"py-2 pr-4",children:[f.jsx("span",{className:"sm:hidden",children:"Evt"}),f.jsx("span",{className:"hidden sm:inline",children:"Event"})]})]})}),f.jsx("tbody",{children:ke.map(Se=>{const me=Se.player1_id===t?Se.player2_id:Se.player1_id,Te=p.find(Me=>Me.id===me),We=Se.winner_id===t,Je=Se.player1_id===t?Se.rating_change_p1:Se.rating_change_p2,ie=Se.event_id?z.find(Me=>Me.id===Se.event_id):null,ve=Se.player1_id===t?Se.player1_score??"?":Se.player2_score??"?",pe=Se.player1_id===t?Se.player2_score??"?":Se.player1_score??"?";return f.jsxs("tr",{className:"border-b last:border-0",children:[f.jsx("td",{className:"py-2 pr-2 text-muted-foreground",children:f.jsx("button",{onClick:()=>s(Se.id),title:"Open match",className:"inline-flex items-center hover:text-primary",children:f.jsx(YB,{size:16})})}),f.jsx("td",{className:"py-2 pr-4",children:Te?f.jsxs(Ar,{className:"flex items-center gap-2 text-primary hover:underline min-w-0",to:`/players/${me}`,children:[f.jsx(Rs,{name:Te.name,twitter:Te.twitter,size:24,className:"h-6 w-6 flex-shrink-0"}),f.jsx("span",{className:"truncate",children:Te.name})]}):f.jsx("span",{className:"text-muted-foreground",children:"Unknown Player"})}),f.jsxs("td",{className:"py-2 pr-4",children:[f.jsx("span",{className:`font-medium ${We?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:ve}),f.jsx("span",{className:"mx-1 text-muted-foreground",children:"-"}),f.jsx("span",{className:"text-muted-foreground",children:pe})]}),f.jsx("td",{className:"py-2 pr-4 font-medium",children:Je!=null?f.jsxs("span",{className:"inline-flex items-center gap-1",children:[Je>=0?f.jsx(Ta,{size:14,className:"text-green-600 dark:text-green-400"}):f.jsx(Ma,{size:14,className:"text-red-600 dark:text-red-400"}),f.jsx("span",{className:Je>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:Math.abs(Je).toFixed(1)})]}):f.jsx("span",{className:"text-muted-foreground",children:""})}),f.jsx("td",{className:"py-2 pr-4",children:ie?f.jsx(Ar,{className:"text-primary hover:underline",to:`/events/${ie.id}`,children:ie.title}):f.jsx("span",{className:"text-muted-foreground",children:""})})]},Se.id)})})]})})})]}),re.length>Ud&&f.jsx(gw,{currentPage:r,totalPages:we,onPageChange:n,itemsPerPage:Ud,totalItems:re.length})]})]})}const hA=M.createContext(void 0);function z3({children:e}){const[t,r]=M.useState(null),[n,s]=M.useState(!0),[a,c]=M.useState(!1);M.useEffect(()=>{let v=!0;(async()=>{var E;const{data:k}=await Ve.auth.getSession();if(v){if(r(k.session),(E=k.session)!=null&&E.user){const P=k.session.user.app_metadata;v&&c((P==null?void 0:P.role)==="admin")}else c(!1);s(!1)}})();const{data:w}=Ve.auth.onAuthStateChange(async(k,E)=>{if(r(E),E!=null&&E.user){const P=E.user.app_metadata;c((P==null?void 0:P.role)==="admin")}else c(!1);E&&window.location.hash.includes("access_token")&&(window.location.hash="#/")});return()=>{v=!1,w.subscription.unsubscribe()}},[]);const p=M.useMemo(()=>({session:t,loading:n,isAdmin:a,async signInWithGithub(){await Ve.auth.signInWithOAuth({provider:"github",options:{redirectTo:"https://ofc.horseface.no/",skipBrowserRedirect:!1}})},async signInWithTwitter(){await Ve.auth.signInWithOAuth({provider:"twitter",options:{redirectTo:"https://ofc.horseface.no/",skipBrowserRedirect:!1}})},async signOut(){await Ve.auth.signOut()}}),[t,n,a]);return f.jsx(hA.Provider,{value:p,children:e})}function Xw(){const e=M.useContext(hA);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}var uA={exports:{}},fA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=M;function F3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var W3=typeof Object.is=="function"?Object.is:F3,U3=Mc.useState,H3=Mc.useEffect,G3=Mc.useLayoutEffect,V3=Mc.useDebugValue;function X3(e,t){var r=t(),n=U3({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return G3(function(){s.value=r,s.getSnapshot=t,Ux(s)&&a({inst:s})},[e,r,t]),H3(function(){return Ux(s)&&a({inst:s}),e(function(){Ux(s)&&a({inst:s})})},[e]),V3(r),r}function Ux(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!W3(e,r)}catch{return!0}}function Y3(e,t){return t()}var q3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Y3:X3;fA.useSyncExternalStore=Mc.useSyncExternalStore!==void 0?Mc.useSyncExternalStore:q3;uA.exports=fA;var K3=uA.exports;function Z3(){return K3.useSyncExternalStore(Q3,()=>!0,()=>!1)}function Q3(){return()=>{}}var Yw="Avatar",[J3]=Vo(Yw),[e5,pA]=J3(Yw),gA=M.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=M.useState("idle");return f.jsx(e5,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:f.jsx(yt.span,{...n,ref:t})})});gA.displayName=Yw;var mA="AvatarImage",vA=M.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,c=pA(mA,r),p=t5(n,a),v=Ls(w=>{s(w),c.onImageLoadingStatusChange(w)});return Br(()=>{p!=="idle"&&v(p)},[p,v]),p==="loaded"?f.jsx(yt.img,{...a,ref:t,src:n}):null});vA.displayName=mA;var xA="AvatarFallback",yA=M.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=pA(xA,r),[c,p]=M.useState(n===void 0);return M.useEffect(()=>{if(n!==void 0){const v=window.setTimeout(()=>p(!0),n);return()=>window.clearTimeout(v)}},[n]),c&&a.imageLoadingStatus!=="loaded"?f.jsx(yt.span,{...s,ref:t}):null});yA.displayName=xA;function Mk(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function t5(e,{referrerPolicy:t,crossOrigin:r}){const n=Z3(),s=M.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[c,p]=M.useState(()=>Mk(a,e));return Br(()=>{p(Mk(a,e))},[a,e]),Br(()=>{const v=E=>()=>{p(E)};if(!a)return;const w=v("loaded"),k=v("error");return a.addEventListener("load",w),a.addEventListener("error",k),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",w),a.removeEventListener("error",k)}},[a,r,t]),c}var wA=gA,bA=vA,SA=yA;const kA=M.forwardRef(({className:e,...t},r)=>f.jsx(wA,{ref:r,className:gt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));kA.displayName=wA.displayName;const _A=M.forwardRef(({className:e,lazy:t=!0,twitterHandle:r,onError:n,...s},a)=>{const[c,p]=M.useState(!1),v=w=>{r&&XL(r),n==null||n(w)};return f.jsx(bA,{ref:a,className:gt("aspect-square h-full w-full transition-opacity duration-300",c?"opacity-100":"opacity-0",e),loading:t?"lazy":"eager",onLoad:()=>p(!0),onError:v,...s})});_A.displayName=bA.displayName;const CA=M.forwardRef(({className:e,...t},r)=>f.jsx(SA,{ref:r,className:gt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));CA.displayName=SA.displayName;function r5(){var j,O,q,ae,re;fn("Login");const{signInWithGithub:e,signInWithTwitter:t,signOut:r,session:n}=Xw(),[s,a]=M.useState(!1),[c,p]=M.useState(""),[v,w]=M.useState(""),[k,E]=M.useState(!1),[P,z]=M.useState(null),U=async ce=>{ce.preventDefault(),E(!0),z(null);const{error:J}=await Ve.auth.signInWithPassword({email:c,password:v});J&&z(J.message),E(!1)},D=(O=(j=n==null?void 0:n.user)==null?void 0:j.user_metadata)==null?void 0:O.avatar_url,L=(ae=(q=n==null?void 0:n.user)==null?void 0:q.user_metadata)==null?void 0:ae.full_name,I=((re=n==null?void 0:n.user)==null?void 0:re.email)??void 0;return f.jsx("section",{className:"mx-auto max-w-md p-4",children:f.jsxs(Kt,{children:[f.jsxs(yr,{children:[f.jsx(wr,{children:"Welcome"}),f.jsx(Zr,{children:"Sign in to continue"})]}),f.jsx(er,{children:n?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs(kA,{children:[f.jsx(_A,{src:D}),f.jsx(CA,{children:(L==null?void 0:L.slice(0,2).toUpperCase())||(I==null?void 0:I.slice(0,2).toUpperCase())||"U"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium leading-tight",children:L||"Signed in"}),I&&f.jsx("p",{className:"text-sm text-muted-foreground",children:I})]})]}),f.jsx(_t,{variant:"secondary",onClick:r,className:"w-full",children:"Sign out"})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid gap-3",children:[f.jsxs(_t,{onClick:e,className:"w-full",variant:"default",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"mr-2 h-4 w-4",children:f.jsx("path",{d:"M12 .5C5.73.5.9 5.33.9 11.6c0 4.87 3.16 9 7.54 10.45.55.1.76-.24.76-.53 0-.26-.01-1.1-.02-1.99-3.07.67-3.72-1.3-3.72-1.3-.5-1.28-1.22-1.62-1.22-1.62-.99-.67.08-.66.08-.66 1.1.08 1.67 1.13 1.67 1.13.98 1.67 2.58 1.19 3.21.91.1-.71.38-1.19.69-1.46-2.45-.28-5.02-1.23-5.02-5.47 0-1.21.43-2.2 1.13-2.98-.11-.28-.49-1.41.11-2.94 0 0 .92-.3 3.01 1.14A10.5 10.5 0 0 1 12 6.84c.93 0 1.86.13 2.73.38 2.09-1.44 3.01-1.14 3.01-1.14.6 1.53.22 2.66.11 2.94.7.78 1.13 1.77 1.13 2.98 0 4.25-2.58 5.19-5.04 5.46.39.34.73 1.01.73 2.03 0 1.46-.01 2.64-.01 3 0 .29.2.63.77.52A10.72 10.72 0 0 0 23.1 11.6C23.1 5.33 18.27.5 12 .5Z"})}),"Sign in with GitHub"]}),f.jsxs(_t,{onClick:t,className:"w-full",variant:"outline",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"mr-2 h-4 w-4",children:f.jsx("path",{d:"M18.244 2H21l-6.356 7.27L22 22h-6.9l-4.8-6.263L4.7 22H2l6.78-7.757L2 2h7l4.3 5.7L18.244 2Zm-2.412 18h2.23L8.258 4H5.9l9.932 16Z"})}),"Sign in with X (Twitter)"]})]}),s?f.jsx("div",{className:"pt-2 border-t",children:f.jsxs("form",{onSubmit:U,className:"space-y-3",children:[f.jsx(Qr,{type:"email",placeholder:"Email",value:c,onChange:ce=>p(ce.target.value),required:!0,disabled:k}),f.jsx(Qr,{type:"password",placeholder:"Password",value:v,onChange:ce=>w(ce.target.value),required:!0,disabled:k}),P&&f.jsx("p",{className:"text-xs text-destructive",children:P}),f.jsx(_t,{type:"submit",className:"w-full",size:"sm",disabled:k,children:k?"Signing in...":"Sign in with Email"}),f.jsx("button",{type:"button",onClick:()=>a(!1),className:"w-full text-xs text-muted-foreground hover:text-foreground",children:"Back"})]})}):f.jsx("button",{onClick:()=>a(!0),className:"w-full text-xs text-muted-foreground hover:text-foreground transition-colors",children:"Other options"})]})})]})})}function i5(){return fn("Not Found"),f.jsxs("section",{className:"space-y-4",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Page not found"}),f.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist."})]})}async function EA(e,t="Full recalculation",r){try{const{data:n,error:s}=await Ve.from("players").select("id, name").order("id");if(s)throw s;if(!n||n.length===0)throw new Error("No players found");let a=Ve.from("matches").select("id, player1_id, player2_id, winner_id, season_id").not("winner_id","is",null);r!==void 0&&(a=a.eq("season_id",r));const{data:c,error:p}=await a.order("id");if(p)throw p;if(!c||c.length===0){if(r!==void 0){const{error:I}=await Ve.from("rating_events").delete().eq("season_id",r);I&&console.warn("Failed to delete old rating events:",I)}const L=await Tk(r);return L.success||console.warn("Failed to sync player ratings:",L.error),e==null||e({totalMatches:0,processedMatches:0,currentMatch:0,status:"complete"}),{success:!0,eventsCreated:0}}if(r!==void 0){const{error:L}=await Ve.from("rating_events").delete().eq("season_id",r);if(L)throw L}const v=await AA(n.map(L=>({id:L.id})),c.map(L=>({id:L.id,player1_id:L.player1_id,player2_id:L.player2_id,winner_id:L.winner_id})),c.length,L=>{const I=c[Math.min(L.processedMatches,c.length-1)];I&&(e==null||e({totalMatches:c.length,processedMatches:L.processedMatches,currentMatch:I.id,status:"running"}))}),w=new Map;c.forEach(L=>{w.set(L.id,L.season_id)});const k=v.map(L=>({...L,reason:null,season_id:w.get(L.match_id)||0})),E=50;for(let L=0;L<k.length;L+=E){const I=k.slice(L,L+E),{error:j}=await Ve.from("rating_events").insert(I);if(j)throw j;await new Promise(O=>setTimeout(O,100))}console.log(" Syncing player ratings from events...");const P=await Tk(r);if(P.success?console.log(" Player ratings synced successfully"):console.warn("Failed to sync player ratings:",P.error),r===0){const L=new Set;if(c.forEach(I=>{L.add(I.player1_id),L.add(I.player2_id)}),L.size>0){const{error:I}=await Ve.from("players").update({has_played_this_season:!0}).in("id",Array.from(L));I?console.warn("Failed to mark players as having played:",I):console.log(` Marked ${L.size} players as active this season`)}}const z=new Map;k.forEach(L=>{if(!L.match_id)return;const I=z.get(L.match_id)||{},j=c.find(O=>O.id===L.match_id);j&&(L.player_id===j.player1_id?I.rating_change_p1=L.rating_change||0:L.player_id===j.player2_id&&(I.rating_change_p2=L.rating_change||0),z.set(L.match_id,I))});const U=Array.from(z.entries()).map(([L,I])=>({id:L,...I}));let D=0;for(let L=0;L<U.length;L++){const I=U[L];if(!I)continue;const{id:j,rating_change_p1:O,rating_change_p2:q}=I,ae={};if(O!==void 0&&(ae.rating_change_p1=O??null),q!==void 0&&(ae.rating_change_p2=q??null),Object.keys(ae).length===0)continue;const{error:re}=await Ve.from("matches").update(ae).eq("id",j);re?console.warn(` Failed to update match ${j}:`,re):D++,L%50===0&&(console.log(`   Updated ${D} / ${U.length} matches`),await new Promise(ce=>setTimeout(ce,25)))}return console.log(" Matches updated"),e==null||e({totalMatches:c.length,processedMatches:c.length,currentMatch:0,status:"complete"}),console.log(` Recalculation complete! Created ${k.length} match events`),{success:!0,eventsCreated:k.length}}catch(n){return console.error("Rating recalculation failed:",n),e==null||e({totalMatches:0,processedMatches:0,currentMatch:0,status:"error"}),{success:!1,error:n instanceof Error?n.message:String(n),eventsCreated:0}}}async function MA(e){try{e==null||e("Updating ratings..."),console.log(" Clearing existing rating events...");const{error:t}=await Ve.from("rating_events").delete().eq("season_id",0);if(t)throw console.error("Failed to clear rating events:",t),new Error(`Failed to clear existing ratings: ${t.message}`);console.log(" Cleared all existing rating events"),await new Promise(n=>setTimeout(n,100));const r=await EA(void 0,"Auto-update after match result",0);return r.success&&(e==null||e("Ratings updated successfully")),r}catch(t){return console.error("Failed to update ratings:",t),{success:!1}}}async function qw(e){try{const{data:t,error:r}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id").eq("id",e).single();if(r||!t)return{canRollback:!1,reason:"Match not found"};if(!t.winner_id)return{canRollback:!1,reason:"Cannot rollback upcoming matches"};const{data:n,error:s}=await Ve.from("matches").select("id").gt("id",e).not("winner_id","is",null).or(`player1_id.eq.${t.player1_id},player2_id.eq.${t.player1_id}`).limit(1);if(s)return console.error("Error checking player1 matches:",s),{canRollback:!1,reason:"Error checking match history"};const a=n&&n.length>0,{data:c,error:p}=await Ve.from("matches").select("id").gt("id",e).not("winner_id","is",null).or(`player1_id.eq.${t.player2_id},player2_id.eq.${t.player2_id}`).limit(1);if(p)return console.error("Error checking player2 matches:",p),{canRollback:!1,reason:"Error checking match history"};const v=c&&c.length>0;if(a||v){let w="Cannot rollback: ";return a&&v?w+="both players have played matches afterwards":a?w+="player 1 has played matches afterwards":w+="player 2 has played matches afterwards",{canRollback:!1,reason:w,player1HasLaterMatches:a,player2HasLaterMatches:v}}return{canRollback:!0,player1HasLaterMatches:!1,player2HasLaterMatches:!1}}catch(t){return console.error("Error checking rollback eligibility:",t),{canRollback:!1,reason:t instanceof Error?t.message:"Unknown error"}}}async function TA(e,t){try{t==null||t("Checking if match can be rolled back...");const r=await qw(e);if(!r.canRollback)return{success:!1,error:r.reason||"Cannot rollback this match"};t==null||t("Removing rating events for match...");const{error:n}=await Ve.from("rating_events").delete().eq("match_id",e);if(n)throw console.error("Failed to delete rating events for match:",n),new Error(`Failed to delete rating events for match: ${n.message}`);t==null||t("Reverting match to upcoming...");const{error:s}=await Ve.from("matches").update({winner_id:null,player1_score:null,player2_score:null,rating_change_p1:null,rating_change_p2:null}).eq("id",e);if(s)throw console.error("Failed to revert match:",s),new Error(`Failed to revert match: ${s.message}`);console.log(` Reverted match ${e} to upcoming`),t==null||t("Recalculating ratings...");const a=await MA(c=>{t==null||t(c)});return a.success?(t==null||t("Match rolled back successfully (match reverted to upcoming)"),{success:!0}):{success:!1,error:`Match deleted but rating update failed: ${a.error}`}}catch(r){return console.error("Failed to rollback match:",r),{success:!1,error:r instanceof Error?r.message:String(r)}}}async function AA(e,t,r,n){return new Promise((s,a)=>{const c=new Worker(new URL("/assets/ratingWorker-RzEzWG7K.js",import.meta.url),{type:"module"}),p=()=>{c.terminate()};c.onmessage=v=>{const w=v.data;if(w.type==="progress"){n==null||n(w),(w.processedMatches===0||w.processedMatches%50===0)&&console.log(`   Worker processed ${Math.min(w.processedMatches,r)} / ${r} matches`);return}if(w.type==="result"){p(),s(w.events);return}w.type==="error"&&(p(),a(new Error(w.error)))},c.onerror=v=>{p(),a(new Error(v.message||"Worker encountered an error"))},c.postMessage({players:e,matches:t})})}async function Tk(e){try{const{data:t,error:r}=await Ve.from("players").select("id");if(r||!t)return{success:!1,error:`Failed to fetch players: ${r==null?void 0:r.message}`};const n=[];for(const a of t){let c=Ve.from("rating_events").select("rating, rd, volatility, created_at, event_type").eq("player_id",a.id);e!==void 0&&(c=c.eq("season_id",e));const{data:p,error:v}=await c.order("id",{ascending:!1});if(v){console.warn(`Failed to fetch events for player ${a.id}:`,v);continue}if(!p||p.length===0)continue;const w=p[0],k=p.filter(z=>z.event_type==="match").length,E=p.reduce((z,U)=>U.rating>((z==null?void 0:z.rating)||0)?U:z,null),P=p.find(z=>z.event_type==="match");n.push({id:a.id,rating:(w==null?void 0:w.rating)??null,rd:(w==null?void 0:w.rd)??null,volatility:(w==null?void 0:w.volatility)??null,matches_played:k,last_match_date:(P==null?void 0:P.created_at)??null,peak_rating:(E==null?void 0:E.rating)??null,peak_rating_date:(E==null?void 0:E.created_at)??null})}const s=20;for(let a=0;a<n.length;a+=s){const c=n.slice(a,a+s);for(const p of c){const{error:v}=await Ve.from("players").update({rating:p.rating,rd:p.rd,volatility:p.volatility,matches_played:p.matches_played,last_match_date:p.last_match_date,peak_rating:p.peak_rating,peak_rating_date:p.peak_rating_date}).eq("id",p.id);v&&console.warn(`Failed to update player ${p.id}:`,v)}await new Promise(p=>setTimeout(p,50))}return console.log(` Updated ${n.length} players from rating events`),{success:!0}}catch(t){return console.error("Failed to sync player ratings:",t),{success:!1,error:t instanceof Error?t.message:String(t)}}}async function jA(e,t){return MA(t)}async function n5(e,t){try{console.log(` Starting rating calculation for season ${e}...`),t==null||t({totalMatches:0,processedMatches:0,currentMatch:0,status:"running"});const{data:r,error:n}=await Ve.from("seasons").select("*").eq("id",e).single();if(n||!r)throw new Error(`Season ${e} not found`);console.log(` Found season: ${r.name}`),console.log(` Fetching matches for season ${e}...`);const{data:s,error:a}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id").eq("season_id",e).not("winner_id","is",null).order("id");if(a)throw a;if(!s||s.length===0)return console.log(" No completed matches found for this season"),{success:!0,eventsCreated:0};console.log(` Found ${s.length} matches`);const c=new Set;s.forEach(U=>{c.add(U.player1_id),c.add(U.player2_id),c.add(U.winner_id)});const{data:p,error:v}=await Ve.from("players").select("id").in("id",Array.from(c));if(v)throw v;if(!p||p.length===0)throw new Error("No players found for this season");console.log(` Processing ${p.length} players`);const{count:w}=await Ve.from("rating_events").select("*",{count:"exact",head:!0}).eq("season_id",e).eq("event_type","match");if((w||0)>0){console.log(` Found ${w} existing match events for this season - deleting them...`);const{error:U}=await Ve.from("rating_events").delete().eq("season_id",e).eq("event_type","match");if(U)throw U;console.log(" Deleted existing match events")}console.log(` Processing ${s.length} matches with worker...`);const E=(await AA(p.map(U=>({id:U.id})),s.map(U=>({id:U.id,player1_id:U.player1_id,player2_id:U.player2_id,winner_id:U.winner_id})),s.length,U=>{const D=s[Math.min(U.processedMatches,s.length-1)];D&&(t==null||t({totalMatches:s.length,processedMatches:U.processedMatches,currentMatch:D.id,status:"running"}))})).map(U=>({...U,season_id:e,reason:null}));console.log(` Worker produced ${E.length} match events`);const P=50;console.log(` Inserting ${E.length} events in batches...`);for(let U=0;U<E.length;U+=P){const D=E.slice(U,U+P),L=Math.floor(U/P)+1,I=Math.ceil(E.length/P),{error:j}=await Ve.from("rating_events").insert(D);if(j)throw j;await new Promise(O=>setTimeout(O,100))}console.log(" All match events inserted"),console.log(" Creating final snapshots...");const z=[];for(const U of p){const{data:D}=await Ve.from("rating_events").select("rating, rd, volatility").eq("player_id",U.id).eq("season_id",e).order("id",{ascending:!1}).limit(1).single();if(D){const L=s.filter(I=>(I.player1_id===U.id||I.player2_id===U.id)&&I.winner_id).length;z.push({season_id:e,player_id:U.id,final_rating:D.rating,final_rd:D.rd,final_volatility:D.volatility,matches_played_count:L,peak_rating:null,peak_rating_date:null,final_rank:null})}}if(z.length>0){z.sort((L,I)=>I.final_rating-L.final_rating);const{count:U}=await Ve.from("season_player_snapshots").select("*",{count:"exact",head:!0}).eq("season_id",e);if((U||0)>0){console.log(` Deleting ${U} existing snapshots...`);const{error:L}=await Ve.from("season_player_snapshots").delete().eq("season_id",e);if(L)throw L}const{error:D}=await Ve.from("season_player_snapshots").insert(z);if(D)throw D;console.log(` Created ${z.length} season snapshots`)}return t==null||t({totalMatches:s.length,processedMatches:s.length,currentMatch:0,status:"complete"}),console.log(` Season ${e} rating calculation complete! Created ${E.length} match events`),{success:!0,eventsCreated:E.length}}catch(r){return console.error(" Season rating calculation failed:",r),t==null||t({totalMatches:0,processedMatches:0,currentMatch:0,status:"error"}),{success:!1,error:r instanceof Error?r.message:String(r),eventsCreated:0}}}var Hx="rovingFocusGroup.onEntryFocus",s5={bubbles:!1,cancelable:!0},Xh="RovingFocusGroup",[p0,PA,o5]=XE(Xh),[a5,NA]=Vo(Xh,[o5]),[l5,c5]=a5(Xh),OA=M.forwardRef((e,t)=>f.jsx(p0.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(p0.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(d5,{...e,ref:t})})}));OA.displayName=Xh;var d5=M.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:v,onEntryFocus:w,preventScrollOnEntryFocus:k=!1,...E}=e,P=M.useRef(null),z=sr(t,P),U=Ew(a),[D,L]=_c({prop:c,defaultProp:p??null,onChange:v,caller:Xh}),[I,j]=M.useState(!1),O=Ls(w),q=PA(r),ae=M.useRef(!1),[re,ce]=M.useState(0);return M.useEffect(()=>{const J=P.current;if(J)return J.addEventListener(Hx,O),()=>J.removeEventListener(Hx,O)},[O]),f.jsx(l5,{scope:r,orientation:n,dir:U,loop:s,currentTabStopId:D,onItemFocus:M.useCallback(J=>L(J),[L]),onItemShiftTab:M.useCallback(()=>j(!0),[]),onFocusableItemAdd:M.useCallback(()=>ce(J=>J+1),[]),onFocusableItemRemove:M.useCallback(()=>ce(J=>J-1),[]),children:f.jsx(yt.div,{tabIndex:I||re===0?-1:0,"data-orientation":n,...E,ref:z,style:{outline:"none",...e.style},onMouseDown:At(e.onMouseDown,()=>{ae.current=!0}),onFocus:At(e.onFocus,J=>{const we=!ae.current;if(J.target===J.currentTarget&&we&&!I){const ke=new CustomEvent(Hx,s5);if(J.currentTarget.dispatchEvent(ke),!ke.defaultPrevented){const Se=q().filter(ie=>ie.focusable),me=Se.find(ie=>ie.active),Te=Se.find(ie=>ie.id===D),Je=[me,Te,...Se].filter(Boolean).map(ie=>ie.ref.current);IA(Je,k)}}ae.current=!1}),onBlur:At(e.onBlur,()=>j(!1))})})}),RA="RovingFocusGroupItem",LA=M.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:c,...p}=e,v=mi(),w=a||v,k=c5(RA,r),E=k.currentTabStopId===w,P=PA(r),{onFocusableItemAdd:z,onFocusableItemRemove:U,currentTabStopId:D}=k;return M.useEffect(()=>{if(n)return z(),()=>U()},[n,z,U]),f.jsx(p0.ItemSlot,{scope:r,id:w,focusable:n,active:s,children:f.jsx(yt.span,{tabIndex:E?0:-1,"data-orientation":k.orientation,...p,ref:t,onMouseDown:At(e.onMouseDown,L=>{n?k.onItemFocus(w):L.preventDefault()}),onFocus:At(e.onFocus,()=>k.onItemFocus(w)),onKeyDown:At(e.onKeyDown,L=>{if(L.key==="Tab"&&L.shiftKey){k.onItemShiftTab();return}if(L.target!==L.currentTarget)return;const I=f5(L,k.orientation,k.dir);if(I!==void 0){if(L.metaKey||L.ctrlKey||L.altKey||L.shiftKey)return;L.preventDefault();let O=P().filter(q=>q.focusable).map(q=>q.ref.current);if(I==="last")O.reverse();else if(I==="prev"||I==="next"){I==="prev"&&O.reverse();const q=O.indexOf(L.currentTarget);O=k.loop?p5(O,q+1):O.slice(q+1)}setTimeout(()=>IA(O))}}),children:typeof c=="function"?c({isCurrentTabStop:E,hasTabStop:D!=null}):c})})});LA.displayName=RA;var h5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function u5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function f5(e,t,r){const n=u5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return h5[n]}function IA(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function p5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var g5=OA,m5=LA,zg="Tabs",[v5]=Vo(zg,[NA]),DA=NA(),[x5,Kw]=v5(zg),BA=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:c="horizontal",dir:p,activationMode:v="automatic",...w}=e,k=Ew(p),[E,P]=_c({prop:n,onChange:s,defaultProp:a??"",caller:zg});return f.jsx(x5,{scope:r,baseId:mi(),value:E,onValueChange:P,orientation:c,dir:k,activationMode:v,children:f.jsx(yt.div,{dir:k,"data-orientation":c,...w,ref:t})})});BA.displayName=zg;var $A="TabsList",zA=M.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=Kw($A,r),c=DA(r);return f.jsx(g5,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:n,children:f.jsx(yt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});zA.displayName=$A;var FA="TabsTrigger",WA=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,c=Kw(FA,r),p=DA(r),v=GA(c.baseId,n),w=VA(c.baseId,n),k=n===c.value;return f.jsx(m5,{asChild:!0,...p,focusable:!s,active:k,children:f.jsx(yt.button,{type:"button",role:"tab","aria-selected":k,"aria-controls":w,"data-state":k?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:v,...a,ref:t,onMouseDown:At(e.onMouseDown,E=>{!s&&E.button===0&&E.ctrlKey===!1?c.onValueChange(n):E.preventDefault()}),onKeyDown:At(e.onKeyDown,E=>{[" ","Enter"].includes(E.key)&&c.onValueChange(n)}),onFocus:At(e.onFocus,()=>{const E=c.activationMode!=="manual";!k&&!s&&E&&c.onValueChange(n)})})})});WA.displayName=FA;var UA="TabsContent",HA=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...c}=e,p=Kw(UA,r),v=GA(p.baseId,n),w=VA(p.baseId,n),k=n===p.value,E=M.useRef(k);return M.useEffect(()=>{const P=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(P)},[]),f.jsx(Qa,{present:s||k,children:({present:P})=>f.jsx(yt.div,{"data-state":k?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":v,hidden:!P,id:w,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:E.current?"0s":void 0},children:P&&a})})});HA.displayName=UA;function GA(e,t){return`${e}-trigger-${t}`}function VA(e,t){return`${e}-content-${t}`}var y5=BA,XA=zA,YA=WA,qA=HA;const w5=y5,KA=M.forwardRef(({className:e,...t},r)=>f.jsx(XA,{ref:r,className:gt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));KA.displayName=XA.displayName;const ba=M.forwardRef(({className:e,...t},r)=>f.jsx(YA,{ref:r,className:gt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));ba.displayName=YA.displayName;const Sa=M.forwardRef(({className:e,...t},r)=>f.jsx(qA,{ref:r,className:gt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Sa.displayName=qA.displayName;var b5="Label",ZA=M.forwardRef((e,t)=>f.jsx(yt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ZA.displayName=b5;var QA=ZA;const S5=pE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mr=M.forwardRef(({className:e,...t},r)=>f.jsx(QA,{ref:r,className:gt(S5(),e),...t}));Mr.displayName=QA.displayName;const Fg=M.forwardRef(({className:e,...t},r)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:r,className:gt("w-full caption-bottom text-sm",e),...t})}));Fg.displayName="Table";const Wg=M.forwardRef(({className:e,...t},r)=>f.jsx("thead",{ref:r,className:gt("[&_tr]:border-b",e),...t}));Wg.displayName="TableHeader";const Ug=M.forwardRef(({className:e,...t},r)=>f.jsx("tbody",{ref:r,className:gt("[&_tr:last-child]:border-0",e),...t}));Ug.displayName="TableBody";const k5=M.forwardRef(({className:e,...t},r)=>f.jsx("tfoot",{ref:r,className:gt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));k5.displayName="TableFooter";const os=M.forwardRef(({className:e,...t},r)=>f.jsx("tr",{ref:r,className:gt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));os.displayName="TableRow";const ai=M.forwardRef(({className:e,...t},r)=>f.jsx("th",{ref:r,className:gt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ai.displayName="TableHead";const Ir=M.forwardRef(({className:e,...t},r)=>f.jsx("td",{ref:r,className:gt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Ir.displayName="TableCell";const _5=M.forwardRef(({className:e,...t},r)=>f.jsx("caption",{ref:r,className:gt("mt-4 text-sm text-muted-foreground",e),...t}));_5.displayName="TableCaption";function C5({id:e,title:t,description:r,variant:n="default",onClose:s}){return M.useEffect(()=>{const a=setTimeout(()=>{s()},5e3);return()=>clearTimeout(a)},[s]),f.jsxs("div",{className:gt("pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-4 pr-8 shadow-lg transition-all",n==="destructive"&&"border-destructive bg-destructive text-destructive-foreground",n==="success"&&"border-green-500 bg-green-500/10 text-green-600 dark:text-green-400",n==="default"&&"border bg-background"),children:[f.jsxs("div",{className:"grid gap-1",children:[t&&f.jsx("div",{className:"text-sm font-semibold",children:t}),r&&f.jsx("div",{className:"text-sm opacity-90",children:r})]}),f.jsx("button",{onClick:s,className:"absolute right-2 top-2 rounded-md p-1 opacity-70 transition-opacity hover:opacity-100",children:f.jsx(Cw,{className:"h-4 w-4"})})]})}function E5({children:e}){return f.jsx("div",{className:"fixed bottom-0 right-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",children:e})}let M5=0,Ak=null,Fl=null;function T5(){return Fl||(Fl=document.createElement("div"),Fl.id="toast-container",document.body.appendChild(Fl),Ak=HC(Fl)),{container:Fl,root:Ak}}const Yp=new Map;let qp=null;function A5(){const[,e]=M.useReducer(r=>r+1,0);M.useEffect(()=>(qp=e,()=>{qp=null}),[]);const t=r=>{Yp.delete(r),e()};return f.jsx(E5,{children:Array.from(Yp.entries()).map(([r,n])=>f.jsx(C5,{id:r,...n,onClose:()=>t(r)},r))})}function j5(e){const t=`toast-${++M5}`;Yp.set(t,e);const{root:r}=T5();return r.render(f.jsx(A5,{})),{id:t,dismiss:()=>{Yp.delete(t),qp&&qp()}}}function Hg(){return{toast:j5}}function P5(){const{toast:e}=Hg(),[t,r]=M.useState([]),[n,s]=M.useState(!0),[a,c]=M.useState(!1),[p,v]=M.useState(!1),[w,k]=M.useState(null),[E,P]=M.useState({name:"",twitter:""}),[z,U]=M.useState(!1),[D,L]=M.useState(null),[I,j]=M.useState("");M.useEffect(()=>{O()},[]);const O=async(we=!1)=>{we?c(!0):s(!0);const{data:ke,error:Se}=await Ve.from("players").select("*").order("name");Se?(console.error("Error loading players:",Se),L(Se.message),e({variant:"destructive",title:"Error loading players",description:Se.message})):r(ke||[]),s(!1),c(!1)},q=()=>{k(null),P({name:"",twitter:""}),L(null),v(!0)},ae=we=>{k(we),P({name:we.name,twitter:we.twitter||""}),L(null),v(!0)},re=async we=>{we.preventDefault(),U(!0),L(null);try{if(w){const{error:ke}=await Ve.from("players").update({name:E.name,twitter:E.twitter||null}).eq("id",w.id);if(ke)throw ke;e({variant:"success",title:"Player updated",description:`${E.name} has been updated successfully.`})}else{const{error:ke}=await Ve.from("players").insert({name:E.name,twitter:E.twitter||null,rating:1500,rd:350,volatility:.06});if(ke)throw ke;e({variant:"success",title:"Player created",description:`${E.name} has been created successfully.`})}v(!1),O(!0)}catch(ke){L(ke.message),e({variant:"destructive",title:"Error",description:ke.message})}finally{U(!1)}},ce=async we=>{if(!confirm(`Are you sure you want to delete ${we.name}? This will also delete all their matches.`))return;const{error:ke}=await Ve.from("players").delete().eq("id",we.id);ke?e({variant:"destructive",title:"Error deleting player",description:ke.message}):(e({variant:"success",title:"Player deleted",description:`${we.name} has been deleted.`}),O(!0))},J=t.filter(we=>{var ke;return we.name.toLowerCase().includes(I.toLowerCase())||((ke=we.twitter)==null?void 0:ke.toLowerCase().includes(I.toLowerCase()))});return f.jsxs(Kt,{children:[f.jsx(yr,{children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx(wr,{children:"Player Management"}),f.jsx(Zr,{children:"Create, edit, and delete players"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(_t,{onClick:()=>O(!0),variant:"outline",size:"icon",disabled:a,children:f.jsx(bg,{className:`h-4 w-4 ${a?"animate-spin":""}`})}),f.jsxs(_t,{onClick:q,children:[f.jsx(kw,{className:"h-4 w-4 mr-2"}),"New Player"]})]})]})}),f.jsxs(er,{className:"space-y-4",children:[f.jsx(Qr,{placeholder:"Search players...",value:I,onChange:we=>j(we.target.value),className:"max-w-sm"}),n?f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):f.jsxs(Fg,{children:[f.jsx(Wg,{children:f.jsxs(os,{children:[f.jsx(ai,{children:"Name"}),f.jsx(ai,{children:"Twitter"}),f.jsx(ai,{children:"Rating"}),f.jsx(ai,{children:"Matches"}),f.jsx(ai,{className:"text-right",children:"Actions"})]})}),f.jsx(Ug,{children:J.length===0?f.jsx(os,{children:f.jsx(Ir,{colSpan:5,className:"text-center text-muted-foreground",children:"No players found"})}):J.map(we=>f.jsxs(os,{children:[f.jsx(Ir,{className:"font-medium",children:we.name}),f.jsx(Ir,{children:we.twitter||"-"}),f.jsx(Ir,{children:Math.round(we.rating??0)}),f.jsx(Ir,{children:we.matches_played||0}),f.jsxs(Ir,{className:"text-right space-x-2",children:[f.jsx(_t,{variant:"outline",size:"sm",onClick:()=>ae(we),children:f.jsx(Sw,{className:"h-4 w-4"})}),f.jsx(_t,{variant:"destructive",size:"sm",onClick:()=>ce(we),children:f.jsx(_w,{className:"h-4 w-4"})})]})]},we.id))})]})]}),f.jsx(Cc,{open:p,onOpenChange:v,children:f.jsxs(Ha,{children:[f.jsxs(Ga,{children:[f.jsx(Va,{children:w?"Edit Player":"Create Player"}),f.jsx(Gh,{children:w?"Update player information":"Add a new player to the system"})]}),f.jsxs("form",{onSubmit:re,children:[f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"name",children:"Name *"}),f.jsx(Qr,{id:"name",value:E.name,onChange:we=>P({...E,name:we.target.value}),required:!0,placeholder:"Player name"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"twitter",children:"Twitter Handle"}),f.jsx(Qr,{id:"twitter",value:E.twitter,onChange:we=>P({...E,twitter:we.target.value}),placeholder:"@username"})]}),D&&f.jsx("div",{className:"text-sm text-destructive",children:D})]}),f.jsxs(Hh,{children:[f.jsx(_t,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),f.jsx(_t,{type:"submit",disabled:z,children:z?"Saving...":w?"Update":"Create"})]})]})]})})]})}const JA=M.forwardRef(({className:e,...t},r)=>f.jsx("textarea",{className:gt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));JA.displayName="Textarea";function N5(){const{toast:e}=Hg(),[t,r]=M.useState([]),[n,s]=M.useState([]),[a,c]=M.useState(null),[p,v]=M.useState(!0),[w,k]=M.useState(!1),[E,P]=M.useState(!1),[z,U]=M.useState(null),[D,L]=M.useState({title:"",event_date:"",stream_url:"",vod_link:"",description:""}),[I,j]=M.useState(!1),[O,q]=M.useState(null);M.useEffect(()=>{re(),ae()},[]);const ae=async()=>{const me=await zc();s(me);const Te=me.find(We=>We.status==="active");Te&&c(Te.id)},re=async(me=!1)=>{me?k(!0):v(!0);const{data:Te,error:We}=await Ve.from("events").select("*").order("event_date",{ascending:!1});We?(console.error("Error loading events:",We),q(We.message),e({variant:"destructive",title:"Error loading events",description:We.message})):r(Te||[]),v(!1),k(!1)},ce=()=>{U(null),L({title:"",event_date:"",stream_url:"",vod_link:"",description:""}),q(null),P(!0)},J=me=>{U(me);const Te=new Date(me.event_date).toISOString().slice(0,16);L({title:me.title,event_date:Te,stream_url:me.stream_url||"",vod_link:me.vod_link||"",description:me.description||""}),q(null),P(!0)},we=async me=>{me.preventDefault(),j(!0),q(null);try{if(!D.event_date)throw new Error("Event date and time are required.");const Te={title:D.title,event_date:new Date(D.event_date).toISOString(),stream_url:D.stream_url||null,vod_link:D.vod_link||null,description:D.description||null};if(z){const{error:We}=await Ve.from("events").update(Te).eq("id",z.id);if(We)throw We;e({variant:"success",title:"Event updated",description:`${D.title} has been updated successfully.`})}else{const{error:We}=await Ve.from("events").insert(Te);if(We)throw We;e({variant:"success",title:"Event created",description:`${D.title} has been created successfully.`})}P(!1),re(!0)}catch(Te){q(Te.message),e({variant:"destructive",title:"Error",description:Te.message})}finally{j(!1)}},ke=async me=>{if(!confirm(`Are you sure you want to delete "${me.title}"? Matches will be kept but unlinked from this event.`))return;const{error:Te}=await Ve.from("events").delete().eq("id",me.id);Te?e({variant:"destructive",title:"Error deleting event",description:Te.message}):(e({variant:"success",title:"Event deleted",description:`${me.title} has been deleted.`}),re(!0))},Se=me=>new Date(me).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return f.jsxs(Kt,{children:[f.jsx(yr,{children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx(wr,{children:"Event Management"}),f.jsx(Zr,{children:"Create, edit, and delete events"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(_t,{onClick:()=>re(!0),variant:"outline",size:"icon",disabled:w,children:f.jsx(bg,{className:`h-4 w-4 ${w?"animate-spin":""}`})}),f.jsxs(_t,{onClick:ce,children:[f.jsx(kw,{className:"h-4 w-4 mr-2"}),"New Event"]})]})]})}),f.jsxs(er,{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Season:"}),f.jsxs(Lg,{value:(a==null?void 0:a.toString())??"",onValueChange:me=>c(parseInt(me)),children:[f.jsx(Fh,{className:"w-40",children:f.jsx(Ig,{})}),f.jsxs(Wh,{children:[n.filter(me=>me.status==="active").map(me=>f.jsxs(As,{value:me.id.toString(),children:[me.name," (Active)"]},me.id)),n.filter(me=>me.status==="archived").sort((me,Te)=>me.id-Te.id).map(me=>f.jsxs(As,{value:me.id.toString(),children:[me.name," (Archived)"]},me.id))]})]})]}),p?f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):f.jsxs(Fg,{children:[f.jsx(Wg,{children:f.jsxs(os,{children:[f.jsx(ai,{children:"Title"}),f.jsx(ai,{children:"Date"}),f.jsx(ai,{children:"Description"}),f.jsx(ai,{className:"text-right",children:"Actions"})]})}),f.jsx(Ug,{children:t.length===0?f.jsx(os,{children:f.jsx(Ir,{colSpan:4,className:"text-center text-muted-foreground",children:"No events found"})}):t.map(me=>f.jsxs(os,{children:[f.jsx(Ir,{className:"font-medium",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(LB,{className:"h-4 w-4 text-muted-foreground"}),me.title]})}),f.jsx(Ir,{children:Se(me.event_date)}),f.jsx(Ir,{className:"max-w-xs truncate",children:me.description||"-"}),f.jsxs(Ir,{className:"text-right space-x-2",children:[f.jsx(_t,{variant:"outline",size:"sm",onClick:()=>J(me),children:f.jsx(Sw,{className:"h-4 w-4"})}),f.jsx(_t,{variant:"destructive",size:"sm",onClick:()=>ke(me),children:f.jsx(_w,{className:"h-4 w-4"})})]})]},me.id))})]})]}),f.jsx(Cc,{open:E,onOpenChange:P,children:f.jsxs(Ha,{className:"max-w-2xl",children:[f.jsxs(Ga,{children:[f.jsx(Va,{children:z?"Edit Event":"Create Event"}),f.jsx(Gh,{children:z?"Update event information":"Add a new event to the system"})]}),f.jsxs("form",{onSubmit:we,children:[f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"title",children:"Title *"}),f.jsx(Qr,{id:"title",value:D.title,onChange:me=>L({...D,title:me.target.value}),required:!0,placeholder:"Event title"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"event_date",children:"Date & Time *"}),f.jsx("input",{id:"event_date",type:"datetime-local",className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm text-foreground shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [color-scheme:light] dark:[color-scheme:dark]",value:D.event_date,onChange:me=>L({...D,event_date:me.target.value}),min:new Date().toISOString().slice(0,16),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"stream_url",children:"Stream URL"}),f.jsx(Qr,{id:"stream_url",type:"url",value:D.stream_url,onChange:me=>L({...D,stream_url:me.target.value}),placeholder:"https://twitch.tv/..."})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"vod_link",children:"VOD Link"}),f.jsx(Qr,{id:"vod_link",type:"url",value:D.vod_link,onChange:me=>L({...D,vod_link:me.target.value}),placeholder:"https://youtube.com/..."})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"description",children:"Description"}),f.jsx(JA,{id:"description",value:D.description,onChange:me=>L({...D,description:me.target.value}),placeholder:"Event description",rows:3})]}),O&&f.jsx("div",{className:"text-sm text-destructive",children:O})]}),f.jsxs(Hh,{children:[f.jsx(_t,{type:"button",variant:"outline",onClick:()=>P(!1),children:"Cancel"}),f.jsx(_t,{type:"submit",disabled:I,children:I?"Saving...":z?"Update":"Create"})]})]})]})})]})}function O5(){const{toast:e}=Hg(),[t,r]=M.useState([]),[n,s]=M.useState([]),[a,c]=M.useState([]),[p,v]=M.useState([]),[w,k]=M.useState(null),[E,P]=M.useState(!0),[z,U]=M.useState(!1),[D,L]=M.useState(!1),[I,j]=M.useState(null),[O,q]=M.useState({player1_id:"",player2_id:"",winner_id:"",player1_score:"",player2_score:"",event_id:"",match_order:"0",vod_link:""}),[ae,re]=M.useState(!1),[ce,J]=M.useState(null),[we,ke]=M.useState("all"),[Se,me]=M.useState(new Map),[Te,We]=M.useState(new Set);M.useEffect(()=>{ie(),Je()},[]);const Je=async()=>{const Ce=await zc();v(Ce);const Oe=Ce.find(st=>st.status==="active");Oe&&k(Oe.id)},ie=async(Ce=!1,Oe=w)=>{Ce?U(!0):P(!0);let st=Ve.from("matches").select("*").order("id",{ascending:!1}).limit(100);Oe!=null&&(st=st.eq("season_id",Oe));const[ht,vt,ft]=await Promise.all([st,Ve.from("players").select("*").order("name"),Ve.from("events").select("*").order("event_date",{ascending:!1})]);ht.error?(console.error("Error loading matches:",ht.error),e({variant:"destructive",title:"Error loading matches",description:ht.error.message})):r(ht.data||[]),vt.error?console.error("Error loading players:",vt.error):s(vt.data||[]),ft.error?console.error("Error loading events:",ft.error):c(ft.data||[]),P(!1),U(!1)};M.useEffect(()=>{w!==null&&ie(!1,w)},[w]);const ve=Ce=>{var Oe;return((Oe=n.find(st=>st.id===Ce))==null?void 0:Oe.name)||"Unknown"},pe=Ce=>{var Oe;return Ce?((Oe=a.find(st=>st.id===Ce))==null?void 0:Oe.title)||"Unknown":"-"},Me=()=>{j(null),q({player1_id:"",player2_id:"",winner_id:"none",player1_score:"",player2_score:"",event_id:"none",match_order:"0",vod_link:""}),J(null),L(!0)},ze=Ce=>{j(Ce),q({player1_id:String(Ce.player1_id),player2_id:String(Ce.player2_id),winner_id:Ce.winner_id?String(Ce.winner_id):"none",player1_score:Ce.player1_score!==void 0&&Ce.player1_score!==null?String(Ce.player1_score):"",player2_score:Ce.player2_score!==void 0&&Ce.player2_score!==null?String(Ce.player2_score):"",event_id:Ce.event_id?String(Ce.event_id):"none",match_order:Ce.match_order?String(Ce.match_order):"0",vod_link:Ce.vod_link||""}),J(null),L(!0)},Be=async Ce=>{Ce.preventDefault(),re(!0),J(null);try{if(O.player1_id===O.player2_id)throw new Error("Player 1 and Player 2 must be different");if(O.winner_id&&O.winner_id!=="none"&&O.winner_id!==O.player1_id&&O.winner_id!==O.player2_id)throw new Error("Winner must be one of the two players");const Oe=O.winner_id&&O.winner_id!=="none"?parseInt(O.winner_id):null,st=O.player1_score!==""?parseInt(O.player1_score):null,ht=O.player2_score!==""?parseInt(O.player2_score):null;if((Oe!==null||st!==null||ht!==null)&&(Oe===null||st===null||ht===null))throw new Error("To complete a match, enter both scores and select a winner");const ft={player1_id:parseInt(O.player1_id),player2_id:parseInt(O.player2_id),winner_id:Oe,player1_score:st,player2_score:ht,event_id:O.event_id&&O.event_id!=="none"?parseInt(O.event_id):null,match_order:O.match_order?parseInt(O.match_order):0,vod_link:O.vod_link||null,season_id:w??0},St=ft.winner_id!==null,Ke=(I==null?void 0:I.winner_id)!==null,$r=I&&Ke&&St&&(I.winner_id!==ft.winner_id||I.player1_score!==ft.player1_score||I.player2_score!==ft.player2_score),Hr=!I&&St,Xi=$r||Hr||I&&St;let ci=null;if(I){const{error:Gr}=await Ve.from("matches").update(ft).eq("id",I.id);if(Gr)throw Gr;St&&!Ke&&await Ve.from("players").update({has_played_this_season:!0}).in("id",[ft.player1_id,ft.player2_id]),e({title:"Match updated",description:St?"Match updated. Calculating ratings...":"Match has been updated successfully."}),Xi&&(ci=I.id)}else{const{data:Gr,error:Yi}=await Ve.from("matches").insert(ft).select();if(Yi)throw Yi;Hr&&await Ve.from("players").update({has_played_this_season:!0}).in("id",[ft.player1_id,ft.player2_id]),e({title:"Match created",description:Hr?"Match created. Calculating ratings...":"Match has been created successfully."}),Hr&&Gr&&Gr[0]&&(ci=Gr[0].id)}if(L(!1),ie(!0),ci){const Gr=await jA(ci);Gr.success?(e({variant:"success",title:"Ratings updated",description:"Player ratings have been calculated."}),await ie(!0)):e({variant:"destructive",title:"Rating update failed",description:Gr.error||"Failed to update ratings."})}}catch(Oe){J(Oe.message),e({variant:"destructive",title:"Error",description:Oe.message})}finally{re(!1)}},Ee=async Ce=>{if(!confirm("Are you sure you want to delete this match?"))return;const{error:Oe}=await Ve.from("matches").delete().eq("id",Ce.id);Oe?e({variant:"destructive",title:"Error deleting match",description:Oe.message}):(e({variant:"success",title:"Match deleted",description:"Match has been deleted."}),ie(!0))},Ze=async Ce=>{We(st=>new Set(st).add(Ce));const Oe=await qw(Ce);return me(st=>new Map(st).set(Ce,Oe.canRollback)),We(st=>{const ht=new Set(st);return ht.delete(Ce),ht}),Oe},ot=async Ce=>{const Oe=await Ze(Ce.id);if(!Oe.canRollback){e({variant:"destructive",title:"Cannot rollback match",description:Oe.reason||"This match cannot be rolled back"});return}const st=ve(Ce.player1_id),ht=ve(Ce.player2_id);if(!confirm(`Rollback match "${st} vs ${ht}"?

This will revert the match to an upcoming state and recalculate all ratings.`))return;re(!0);const vt=await TA(Ce.id);vt.success?(e({variant:"success",title:"Match rolled back",description:"The match was reverted to upcoming and ratings have been recalculated."}),ie(!0)):e({variant:"destructive",title:"Rollback failed",description:vt.error||"Failed to rollback match"}),re(!1)},tt=we==="all"?t:t.filter(Ce=>Ce.event_id===parseInt(we));return f.jsxs(Kt,{children:[f.jsx(yr,{children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx(wr,{children:"Match Management"}),f.jsx(Zr,{children:"Create, edit, and delete matches"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(_t,{onClick:()=>ie(!0),variant:"outline",size:"icon",disabled:z,children:f.jsx(bg,{className:`h-4 w-4 ${z?"animate-spin":""}`})}),f.jsxs(_t,{onClick:Me,children:[f.jsx(kw,{className:"h-4 w-4 mr-2"}),"New Match"]})]})]})}),f.jsxs(er,{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-2 flex-wrap",children:[f.jsxs(Lg,{value:(w==null?void 0:w.toString())??"",onValueChange:Ce=>k(Ce==="0"?0:parseInt(Ce,10)),children:[f.jsx(Fh,{className:"w-full sm:w-64",children:f.jsx(Ig,{placeholder:"Select a season"})}),f.jsxs(Wh,{children:[p.filter(Ce=>Ce.status==="active").map(Ce=>f.jsxs(As,{value:Ce.id.toString(),children:[Ce.name," (Active)"]},Ce.id)),p.filter(Ce=>Ce.status==="archived").sort((Ce,Oe)=>Ce.id-Oe.id).map(Ce=>f.jsxs(As,{value:Ce.id.toString(),children:[Ce.name," (Archived)"]},Ce.id))]})]}),f.jsx(Cs,{value:we,onValueChange:ke,options:[{value:"all",label:"All Events"},{value:"0",label:"No Event"},...a.map(Ce=>({value:String(Ce.id),label:Ce.title}))],placeholder:"Filter by event",searchPlaceholder:"Search events...",className:"w-[250px]"})]}),E?f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):f.jsxs(Fg,{children:[f.jsx(Wg,{children:f.jsxs(os,{children:[f.jsx(ai,{children:"Player 1"}),f.jsx(ai,{children:"Player 2"}),f.jsx(ai,{children:"Score"}),f.jsx(ai,{children:"Winner"}),f.jsx(ai,{children:"Event"}),f.jsx(ai,{className:"text-right",children:"Actions"})]})}),f.jsx(Ug,{children:tt.length===0?f.jsx(os,{children:f.jsx(Ir,{colSpan:6,className:"text-center text-muted-foreground",children:"No matches found"})}):tt.map(Ce=>f.jsxs(os,{children:[f.jsx(Ir,{className:"font-medium",children:ve(Ce.player1_id)}),f.jsx(Ir,{className:"font-medium",children:ve(Ce.player2_id)}),f.jsxs(Ir,{children:[Ce.player1_score??"?"," - ",Ce.player2_score??"?"]}),f.jsx(Ir,{children:Ce.winner_id?ve(Ce.winner_id):f.jsx("span",{className:"text-muted-foreground",children:"Upcoming"})}),f.jsx(Ir,{children:pe(Ce.event_id)}),f.jsxs(Ir,{className:"text-right space-x-2",children:[f.jsx(_t,{variant:"outline",size:"sm",onClick:()=>ze(Ce),children:f.jsx(Sw,{className:"h-4 w-4"})}),Ce.winner_id&&f.jsx(_t,{variant:"outline",size:"sm",onClick:()=>ot(Ce),disabled:ae,title:"Rollback match (only if both players have no matches afterwards)",children:f.jsx(GE,{className:"h-4 w-4"})}),f.jsx(_t,{variant:"destructive",size:"sm",onClick:()=>Ee(Ce),children:f.jsx(_w,{className:"h-4 w-4"})})]})]},Ce.id))})]})]}),f.jsx(Cc,{open:D,onOpenChange:L,children:f.jsxs(Ha,{className:"max-w-2xl",children:[f.jsxs(Ga,{children:[f.jsx(Va,{children:I?"Edit Match":"Create Match"}),f.jsx(Gh,{children:I?"Update match information":"Add a new match to the system"})]}),f.jsxs("form",{onSubmit:Be,children:[f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"player1_id",children:"Player 1 *"}),f.jsx(Cs,{value:O.player1_id,onValueChange:Ce=>q({...O,player1_id:Ce}),options:n.map(Ce=>({value:String(Ce.id),label:Ce.name})),placeholder:"Select player 1",searchPlaceholder:"Search players..."})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"player2_id",children:"Player 2 *"}),f.jsx(Cs,{value:O.player2_id,onValueChange:Ce=>q({...O,player2_id:Ce}),options:n.map(Ce=>({value:String(Ce.id),label:Ce.name})),placeholder:"Select player 2",searchPlaceholder:"Search players..."})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"player1_score",children:"Player 1 Score"}),f.jsx(Qr,{id:"player1_score",type:"number",min:"0",value:O.player1_score,onChange:Ce=>q({...O,player1_score:Ce.target.value}),placeholder:"Leave empty for upcoming"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"player2_score",children:"Player 2 Score"}),f.jsx(Qr,{id:"player2_score",type:"number",min:"0",value:O.player2_score,onChange:Ce=>q({...O,player2_score:Ce.target.value}),placeholder:"Leave empty for upcoming"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"winner_id",children:"Winner (leave empty for upcoming match)"}),f.jsx(Cs,{value:O.winner_id,onValueChange:Ce=>q({...O,winner_id:Ce}),options:[{value:"none",label:"No winner (upcoming)"},...O.player1_id?[{value:O.player1_id,label:ve(parseInt(O.player1_id))}]:[],...O.player2_id?[{value:O.player2_id,label:ve(parseInt(O.player2_id))}]:[]],placeholder:"Select winner",searchPlaceholder:"Search..."})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"event_id",children:"Event"}),f.jsx(Cs,{value:O.event_id,onValueChange:Ce=>q({...O,event_id:Ce}),options:[{value:"none",label:"No event"},...a.map(Ce=>({value:String(Ce.id),label:Ce.title}))],placeholder:"Select event",searchPlaceholder:"Search events..."})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"match_order",children:"Match Order"}),f.jsx(Qr,{id:"match_order",type:"number",min:"0",value:O.match_order,onChange:Ce=>q({...O,match_order:Ce.target.value})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{htmlFor:"vod_link",children:"VOD Link"}),f.jsx(Qr,{id:"vod_link",type:"url",value:O.vod_link,onChange:Ce=>q({...O,vod_link:Ce.target.value}),placeholder:"https://youtube.com/..."})]}),ce&&f.jsx("div",{className:"text-sm text-destructive",children:ce})]}),f.jsxs(Hh,{children:[f.jsx(_t,{type:"button",variant:"outline",onClick:()=>L(!1),children:"Cancel"}),f.jsx(_t,{type:"submit",disabled:ae,children:ae?"Saving...":I?"Update":"Create"})]})]})]})})]})}function R5(){const{toast:e}=Hg(),[t,r]=M.useState([]),[n,s]=M.useState(""),[a,c]=M.useState([]),[p,v]=M.useState([]),[w,k]=M.useState(!1),[E,P]=M.useState(!1),[z,U]=M.useState(!1),[D,L]=M.useState(null),[I,j]=M.useState({player1_score:"",player2_score:"",winner_id:""}),[O,q]=M.useState(!1),[ae,re]=M.useState(null);M.useEffect(()=>{ce(),J()},[]),M.useEffect(()=>{n&&we()},[n]);const ce=async()=>{const{data:ve,error:pe}=await Ve.from("events").select("*").order("event_date",{ascending:!1});pe?(console.error("Error loading events:",pe),e({variant:"destructive",title:"Error loading events",description:pe.message})):(r(ve||[]),ve&&ve.length>0&&!n&&s(String(ve[0].id)))},J=async()=>{const{data:ve,error:pe}=await Ve.from("players").select("*").order("name");pe?console.error("Error loading players:",pe):v(ve||[])},we=async(ve=!1)=>{if(!n)return;ve?P(!0):k(!0);const{data:pe,error:Me}=await Ve.from("matches").select("*").eq("event_id",parseInt(n)).order("match_order");Me?(console.error("Error loading matches:",Me),e({variant:"destructive",title:"Error loading matches",description:Me.message})):c(pe||[]),k(!1),P(!1)},ke=ve=>{var pe;return((pe=p.find(Me=>Me.id===ve))==null?void 0:pe.name)||"Unknown"},Se=ve=>{L(ve),j({player1_score:ve.player1_score!==void 0&&ve.player1_score!==null?String(ve.player1_score):"",player2_score:ve.player2_score!==void 0&&ve.player2_score!==null?String(ve.player2_score):"",winner_id:ve.winner_id?String(ve.winner_id):""}),re(null),U(!0)},me=async ve=>{if(ve.preventDefault(),!!D){q(!0),re(null);try{const pe=I.player1_score!==""?parseInt(I.player1_score):null,Me=I.player2_score!==""?parseInt(I.player2_score):null,ze=I.winner_id?parseInt(I.winner_id):null,Be=pe!==null||Me!==null||ze!==null;if(Be){if(pe===null||Me===null||ze===null)throw new Error("To complete a match, enter both scores and select a winner");if(ze!==D.player1_id&&ze!==D.player2_id)throw new Error("Winner must be one of the two players")}const Ze=D.winner_id!==null&&Be&&(D.winner_id!==ze||(D.player1_score??null)!==pe||(D.player2_score??null)!==Me),{error:ot}=await Ve.from("matches").update({player1_score:pe,player2_score:Me,winner_id:ze}).eq("id",D.id);if(ot)throw ot;if(Be&&await Ve.from("players").update({has_played_this_season:!0}).in("id",[D.player1_id,D.player2_id]),e({title:"Score updated",description:Be?"Match updated. Calculating ratings...":"Match kept as upcoming."}),U(!1),we(!0),Be){const tt=await jA(D.id);tt.success?(e({variant:"success",title:"Ratings updated",description:"Player ratings have been calculated."}),await we(!0)):e({variant:"destructive",title:"Rating update failed",description:tt.error||"Failed to update ratings."})}}catch(pe){re(pe.message),e({variant:"destructive",title:"Error",description:pe.message})}finally{q(!1)}}},Te=async ve=>{const pe=await qw(ve.id);if(!pe.canRollback){e({variant:"destructive",title:"Cannot rollback match",description:pe.reason||"This match cannot be rolled back"});return}const Me=ke(ve.player1_id),ze=ke(ve.player2_id);if(!confirm(`Rollback match "${Me} vs ${ze}"?

This will revert the match to an upcoming state and recalculate all ratings.`))return;q(!0);const Be=await TA(ve.id);Be.success?(e({variant:"success",title:"Match rolled back",description:"The match was reverted to upcoming and ratings have been recalculated."}),we(!0)):e({variant:"destructive",title:"Rollback failed",description:Be.error||"Failed to rollback match"}),q(!1)},We=t.find(ve=>ve.id===parseInt(n)),Je=a.filter(ve=>ve.winner_id!==null),ie=a.filter(ve=>ve.winner_id===null);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Kt,{children:[f.jsx(yr,{children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx(wr,{children:"Event Dashboard"}),f.jsx(Zr,{children:"Register scores for matches within an event"})]}),n&&f.jsx(_t,{onClick:()=>we(!0),variant:"outline",size:"icon",disabled:E,children:f.jsx(bg,{className:`h-4 w-4 ${E?"animate-spin":""}`})})]})}),f.jsxs(er,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{children:"Select Event"}),f.jsx(Cs,{value:n,onValueChange:s,options:t.map(ve=>({value:String(ve.id),label:`${ve.title} - ${new Date(ve.event_date).toLocaleDateString()}`})),placeholder:"Choose an event",searchPlaceholder:"Search events..."})]}),We&&f.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[f.jsx("h3",{className:"font-semibold mb-2",children:We.title}),f.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(We.event_date).toLocaleString()}),We.description&&f.jsx("p",{className:"text-sm mt-2",children:We.description}),f.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(XS,{className:"h-4 w-4 text-green-500"}),f.jsxs("span",{children:[Je.length," completed"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(YS,{className:"h-4 w-4 text-orange-500"}),f.jsxs("span",{children:[ie.length," upcoming"]})]})]})]})]})]}),n&&!w&&f.jsxs(f.Fragment,{children:[ie.length>0&&f.jsxs(Kt,{children:[f.jsxs(yr,{children:[f.jsxs(wr,{className:"flex items-center gap-2",children:[f.jsx(YS,{className:"h-5 w-5 text-orange-500"}),"Upcoming Matches"]}),f.jsx(Zr,{children:"Click to register scores"})]}),f.jsx(er,{children:f.jsx("div",{className:"space-y-3",children:ie.map(ve=>f.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>Se(ve),children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-sm text-muted-foreground",children:["#",ve.match_order||0]}),f.jsxs("div",{className:"font-medium",children:[ke(ve.player1_id)," vs ",ke(ve.player2_id)]})]}),f.jsx(_t,{size:"sm",variant:"outline",children:"Register Score"})]},ve.id))})})]}),Je.length>0&&f.jsxs(Kt,{children:[f.jsxs(yr,{children:[f.jsxs(wr,{className:"flex items-center gap-2",children:[f.jsx(XS,{className:"h-5 w-5 text-green-500"}),"Completed Matches"]}),f.jsx(Zr,{children:"Click to edit scores"})]}),f.jsx(er,{children:f.jsx("div",{className:"space-y-3",children:Je.map(ve=>f.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-4 flex-1 cursor-pointer",onClick:()=>Se(ve),children:[f.jsxs("div",{className:"text-sm text-muted-foreground",children:["#",ve.match_order||0]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:ve.winner_id===ve.player1_id?"font-bold":"",children:ke(ve.player1_id)}),f.jsxs("span",{className:"text-muted-foreground",children:[ve.player1_score??"?"," - ",ve.player2_score??"?"]}),f.jsx("span",{className:ve.winner_id===ve.player2_id?"font-bold":"",children:ke(ve.player2_id)})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(HE,{className:"h-4 w-4 text-yellow-500"}),f.jsx("span",{className:"font-medium",children:ke(ve.winner_id)})]}),f.jsx(_t,{size:"sm",variant:"outline",onClick:pe=>{pe.stopPropagation(),Te(ve)},disabled:O,title:"Rollback match (only if both players have no matches afterwards)",children:f.jsx(GE,{className:"h-4 w-4"})})]})]},ve.id))})})]}),a.length===0&&f.jsx(Kt,{children:f.jsx(er,{className:"py-8 text-center text-muted-foreground",children:"No matches found for this event. Create matches in the Match Management section."})})]}),w&&f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading matches..."}),f.jsx(Cc,{open:z,onOpenChange:U,children:f.jsxs(Ha,{children:[f.jsxs(Ga,{children:[f.jsx(Va,{children:"Register Match Score"}),f.jsx(Gh,{children:D&&f.jsxs(f.Fragment,{children:[ke(D.player1_id)," vs ",ke(D.player2_id)]})})]}),D&&f.jsxs("form",{onSubmit:me,children:[f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Mr,{children:[ke(D.player1_id)," Score *"]}),f.jsx(Qr,{type:"number",min:"0",value:I.player1_score,onChange:ve=>j({...I,player1_score:ve.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Mr,{children:[ke(D.player2_id)," Score *"]}),f.jsx(Qr,{type:"number",min:"0",value:I.player2_score,onChange:ve=>j({...I,player2_score:ve.target.value})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Mr,{children:"Winner *"}),f.jsx(Cs,{value:I.winner_id,onValueChange:ve=>j({...I,winner_id:ve}),options:[{value:String(D.player1_id),label:ke(D.player1_id)},{value:String(D.player2_id),label:ke(D.player2_id)}],placeholder:"Select winner",searchPlaceholder:"Search players..."})]}),ae&&f.jsx("div",{className:"text-sm text-destructive",children:ae})]}),f.jsxs(Hh,{children:[f.jsx(_t,{type:"button",variant:"outline",onClick:()=>U(!1),children:"Cancel"}),f.jsx(_t,{type:"submit",disabled:O,children:O?"Saving...":"Save Score"})]})]})]})})]})}function L5(){fn("Admin");const{session:e,isAdmin:t,loading:r}=Xw(),[n,s]=M.useState(null),[a,c]=M.useState([]),[p,v]=M.useState(!0),[w,k]=M.useState("Season Complete"),[E,P]=M.useState(!1),[z,U]=M.useState(null),[D,L]=M.useState(null),[I,j]=M.useState(!1),[O,q]=M.useState(null),[ae,re]=M.useState(null),[ce,J]=M.useState({totalMatches:0,processedMatches:0,currentMatch:0,status:"idle"}),[we,ke]=M.useState(null);M.useEffect(()=>{Se()},[]);const Se=async()=>{v(!0);try{const ie=await bF(),ve=await zc();s(ie),c(ve)}catch(ie){console.error("Failed to load seasons:",ie)}finally{v(!1)}},me=async()=>{if(!n){alert("No active season found");return}const ie=`Season ${a.filter(Me=>Me.status==="archived").length+1}`,ve=` Archive "${n.name}" and start "${ie}"?

This will:
 Create snapshots of all current player standings
 Mark current season as archived
 Reset all players' ratings
 Create a new active season

This action cannot be undone!`;if(!confirm(ve))return;P(!0),U(null);const pe=await SF(ie,Me=>{console.log("Archive progress:",Me)});U(pe),P(!1),pe.success&&await Se()},Te=async ie=>{const ve=a.find(ze=>ze.id===ie);if(!ve){alert("Season not found");return}const pe=` Restore "${ve.name}" as the active season?

This will:
 Archive the current active season with all its matches
 Restore player ratings from ${ve.name}'s snapshots
 Make ${ve.name} the current active season for new matches

This action cannot be undone!`;if(!confirm(pe))return;L(ie),j(!0),q(null);const Me=await _F(ie,ze=>{console.log("Activate progress:",ze)});q(Me),j(!1),Me.success&&await Se()},We=async ie=>{const ve=a.find(Be=>Be.id===ie);if(!ve){alert("Season not found");return}const pe=ie===0,Me=pe?` Recalculate ratings for "${ve.name}"?

This will:
 Recalculate all matches in the current season
 Update player ratings and standings
 Preserve all match history

Existing rating data will be recalculated. Continue?`:` Calculate ratings for "${ve.name}"?

This will:
 Create rating events from scratch for all matches in this season
 Calculate final player ratings and standings
 Create snapshots of the final leaderboard
 Recalculate all rating changes for matches

Existing rating data will be recalculated. Continue?`;if(!confirm(Me))return;re(ie),J({totalMatches:0,processedMatches:0,currentMatch:0,status:"running"}),ke(null);const ze=pe?await EA(Be=>{J(Be)},"Recalculate active season",0):await n5(ie,Be=>{J(Be)});ke(ze)},Je=()=>ce.totalMatches===0?0:Math.round(ce.processedMatches/ce.totalMatches*100);return r?f.jsx("div",{className:"container py-8",children:f.jsx("div",{className:"text-center",children:"Loading..."})}):e?t?f.jsx("div",{className:"container py-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[f.jsx("h1",{className:"text-4xl font-bold",children:"Admin Dashboard"}),f.jsxs(w5,{defaultValue:"dashboard",className:"space-y-6",children:[f.jsxs(KA,{children:[f.jsx(ba,{value:"dashboard",children:"Event Dashboard"}),f.jsx(ba,{value:"events",children:"Events"}),f.jsx(ba,{value:"matches",children:"Matches"}),f.jsx(ba,{value:"players",children:"Players"}),f.jsx(ba,{value:"seasons",children:"Seasons"}),f.jsx(ba,{value:"tools",children:"Tools"})]}),f.jsx(Sa,{value:"dashboard",children:f.jsx(R5,{})}),f.jsx(Sa,{value:"events",children:f.jsx(N5,{})}),f.jsx(Sa,{value:"matches",children:f.jsx(O5,{})}),f.jsx(Sa,{value:"players",children:f.jsx(P5,{})}),f.jsxs(Sa,{value:"seasons",className:"space-y-6",children:[f.jsxs(Kt,{children:[f.jsxs(yr,{children:[f.jsx(wr,{children:"Active Season"}),f.jsx(Zr,{children:"Current season where matches are being recorded"})]}),f.jsx(er,{className:"space-y-4",children:p?f.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):n?f.jsx("div",{className:"space-y-3",children:f.jsxs("div",{className:"p-3 bg-secondary rounded-lg",children:[f.jsx("p",{className:"text-sm font-semibold",children:n.name}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Started: ",new Date(n.start_date).toLocaleDateString()]})]})}):f.jsx("p",{className:"text-sm text-destructive",children:"No active season found!"})})]}),f.jsxs(Kt,{className:"border-amber-500/50 bg-amber-500/5",children:[f.jsxs(yr,{children:[f.jsxs(wr,{className:"flex items-center gap-2",children:[f.jsx(UB,{className:"h-5 w-5 text-amber-500"}),"Archive Season & Start New"]}),f.jsx(Zr,{children:"End the current season, create snapshots, and reset for a new season"})]}),f.jsxs(er,{className:"space-y-4",children:[f.jsxs("div",{className:"p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:[f.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 font-semibold",children:" This will:"}),f.jsxs("ul",{className:"text-sm text-muted-foreground mt-2 space-y-1 list-disc list-inside",children:[f.jsx("li",{children:"Create final standings snapshots for all active players"}),f.jsx("li",{children:"Archive the current season permanently"}),f.jsx("li",{children:"Reset all player ratings to NULL (inactive)"}),f.jsx("li",{children:"Create a new active season for fresh matches"})]})]}),f.jsx(_t,{onClick:me,disabled:E||!n,size:"lg",className:"w-full",children:E?"Archiving Season...":"Archive Season & Start New"}),z&&!z.success&&f.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive rounded-lg",children:[f.jsx("p",{className:"text-destructive font-semibold",children:"Error"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:z.error})]}),z&&z.success&&f.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[f.jsx("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:" Season Archived!"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Season has been archived and a new active season created."})]})]})]}),f.jsxs(Kt,{children:[f.jsxs(yr,{children:[f.jsx(wr,{children:"Season History"}),f.jsx(Zr,{children:'Previously archived seasons. Click "Activate" to restore a season as the current active season.'})]}),f.jsxs(er,{children:[p?f.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):a.filter(ie=>ie.status==="archived").length>0?f.jsx("div",{className:"space-y-3",children:a.filter(ie=>ie.status==="archived").sort((ie,ve)=>ve.id-ie.id).map(ie=>f.jsx("div",{className:"p-3 bg-secondary rounded-lg",children:f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-medium",children:ie.name}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(ie.start_date).toLocaleDateString(),ie.end_date&&` - ${new Date(ie.end_date).toLocaleDateString()}`]}),ie.description&&f.jsx("p",{className:"text-xs text-muted-foreground",children:ie.description})]}),f.jsx(_t,{onClick:()=>Te(ie.id),disabled:I&&D===ie.id,size:"sm",variant:"outline",children:I&&D===ie.id?"Activating...":"Activate"})]})},ie.id))}):f.jsx("p",{className:"text-sm text-muted-foreground",children:"No archived seasons yet"}),O&&!O.success&&f.jsxs("div",{className:"mt-4 p-4 bg-destructive/10 border border-destructive rounded-lg",children:[f.jsx("p",{className:"text-destructive font-semibold",children:"Error"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:O.error})]}),O&&O.success&&f.jsxs("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[f.jsx("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:" Season Activated!"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Season has been restored as the active season and player ratings have been restored."})]})]})]})]}),f.jsx(Sa,{value:"tools",className:"space-y-6",children:f.jsxs(Kt,{children:[f.jsxs(yr,{children:[f.jsx(wr,{children:"Calculate Season Ratings"}),f.jsx(Zr,{children:"Calculate ratings for seasons. Select the active season to recalculate current season, or archived seasons to retroactively calculate."})]}),f.jsxs(er,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Select Season"}),f.jsxs(Lg,{value:ae!==null?ae.toString():"",onValueChange:ie=>{const ve=ie?parseInt(ie):null;re(ve)},children:[f.jsx(Fh,{className:"w-full",children:f.jsx(Ig,{placeholder:"Choose a season..."})}),f.jsx(Wh,{children:a.sort((ie,ve)=>ie.id===0?-1:ve.id===0?1:ie.id-ve.id).map(ie=>f.jsxs(As,{value:ie.id.toString(),children:[ie.name," ",ie.status==="active"?"(Active)":""]},ie.id))})]})]}),f.jsx(_t,{onClick:()=>ae!==null&&We(ae),disabled:ae===null||ce.status==="running",size:"lg",className:"w-full",children:ce.status==="running"?"Calculating...":"Calculate Season Ratings"}),ce.status==="running"&&f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[f.jsxs("span",{children:["Processing match ",ce.currentMatch]}),f.jsxs("span",{children:[ce.processedMatches," / ",ce.totalMatches]})]}),f.jsx("div",{className:"w-full bg-secondary rounded-full h-2.5",children:f.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-300",style:{width:`${Je()}%`}})}),f.jsxs("div",{className:"text-center text-sm font-medium",children:[Je(),"%"]})]}),we&&!we.success&&f.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive rounded-lg",children:[f.jsx("p",{className:"text-destructive font-semibold",children:"Error"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:we.error})]}),we&&we.success&&f.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[f.jsx("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:" Success!"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created ",we.eventsCreated," rating events and snapshots for this season."]})]})]})]})})]})]})}):f.jsx("div",{className:"container py-8",children:f.jsx("div",{className:"max-w-2xl mx-auto",children:f.jsxs(Kt,{children:[f.jsxs(yr,{children:[f.jsx(wr,{children:"Access Denied"}),f.jsx(Zr,{children:"You don't have admin privileges. Please contact an administrator."})]}),f.jsxs(er,{children:[f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your user ID: ",f.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:e.user.id})]}),f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"To grant yourself admin access, run this SQL in Supabase Studio:"}),f.jsx("pre",{className:"bg-muted p-3 rounded mt-2 text-xs overflow-x-auto",children:`UPDATE auth.users
SET raw_app_meta_data = COALESCE(raw_app_meta_data, '{}'::jsonb) || jsonb_build_object('role', 'admin')
WHERE id = '${e.user.id}';`}),f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Then refresh this page."})]})]})})}):f.jsx(tE,{to:"/login",replace:!0})}function jk(){fn("Upcoming Matches");const[e,t]=M.useState([]),[r,n]=M.useState([]),[s,a]=M.useState([]),[c,p]=M.useState(!0);M.useEffect(()=>{let k=!0;return(async()=>{const[E,P,z]=await Promise.all([bw(),MB(),CB()]);k&&(t(E),n(P),a(z),p(!1))})(),()=>{k=!1}},[]);const v=M.useMemo(()=>{if(!e.length||!r.length)return[];const k=new Map(e.map(E=>[E.id,E]));return r.map(E=>({...E,matches:s.filter(P=>P.event_id===E.id).map(P=>({...P,player1:k.get(P.player1_id),player2:k.get(P.player2_id)})).sort((P,z)=>(P.match_order??0)-(z.match_order??0))}))},[e,r,s]),w=k=>{const E=new Date(k);return E.setHours(E.getHours()+3),E.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})};return c?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Upcoming Matches"}),f.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]}):v.length===0?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Upcoming Matches"}),f.jsx(Kt,{children:f.jsx(er,{className:"pt-6",children:f.jsx("p",{className:"text-muted-foreground",children:"No upcoming events scheduled."})})})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Upcoming Matches"}),v.map(k=>f.jsxs(Kt,{children:[f.jsx(yr,{children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx(wr,{children:k.title}),f.jsx(Zr,{children:w(k.event_date)}),k.description&&f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:k.description})]}),k.stream_url&&f.jsx("a",{href:k.stream_url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium",children:"Watch Stream"})]})}),f.jsx(er,{children:k.matches.length===0?f.jsx("p",{className:"text-muted-foreground text-sm",children:"No matches scheduled for this event yet."}):f.jsx("div",{className:"space-y-4",children:k.matches.map((E,P)=>{const{player1:z,player2:U}=E;if(!z||!U)return f.jsx("div",{className:"p-4 border rounded-lg",children:f.jsxs("p",{className:"text-muted-foreground",children:["Match ",P+1,": Player data not found"]})},E.id);const D=T3(z,U);return f.jsxs("div",{className:"p-3 border rounded-lg",children:[f.jsxs("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:["Match ",P+1]}),f.jsxs("div",{className:"flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx(Ar,{to:`/players/${z.id}`,className:"hover:underline text-primary shrink-0",children:f.jsx(Rs,{name:z.name,twitter:z.twitter,size:40,className:"h-10 w-10"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx(Ar,{to:`/players/${z.id}`,className:"hover:underline text-primary",children:f.jsx("div",{className:"font-semibold text-sm leading-tight truncate",children:z.name})}),f.jsx("div",{className:"text-xs text-muted-foreground leading-tight",children:z.rating===null?"Unrated":Math.round(z.rating)})]}),f.jsxs("div",{className:"shrink-0 text-right",children:[f.jsxs("div",{className:"text-green-600 dark:text-green-400 font-semibold text-sm leading-tight",children:["W:",nc(D.player1.winRatingChange)]}),f.jsxs("div",{className:"text-red-600 dark:text-red-400 font-semibold text-sm leading-tight",children:["L:",nc(D.player1.loseRatingChange)]})]})]}),f.jsx("div",{className:"font-bold text-muted-foreground shrink-0",children:"VS"}),f.jsxs("div",{className:"flex items-center gap-2 flex-1 flex-row-reverse",children:[f.jsx(Ar,{to:`/players/${U.id}`,className:"hover:underline text-primary shrink-0",children:f.jsx(Rs,{name:U.name,twitter:U.twitter,size:40,className:"h-10 w-10"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx(Ar,{to:`/players/${U.id}`,className:"hover:underline text-primary",children:f.jsx("div",{className:"font-semibold text-sm leading-tight truncate text-right",children:U.name})}),f.jsx("div",{className:"text-xs text-muted-foreground leading-tight text-right",children:U.rating===null?"Unrated":Math.round(U.rating)})]}),f.jsxs("div",{className:"shrink-0 text-left",children:[f.jsxs("div",{className:"text-green-600 dark:text-green-400 font-semibold text-sm leading-tight",children:["W:",nc(D.player2.winRatingChange)]}),f.jsxs("div",{className:"text-red-600 dark:text-red-400 font-semibold text-sm leading-tight",children:["L:",nc(D.player2.loseRatingChange)]})]})]})]})]},E.id)})})})]},k.id))]})}const ej=M.createContext(void 0);function I5(){return typeof window>"u"?"light":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Pk(e){const t=document.documentElement;(e==="system"?I5():e)==="dark"?t.classList.add("dark"):t.classList.remove("dark")}function D5({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"}){const[n,s]=M.useState(()=>typeof window>"u"?t:window.localStorage.getItem(r)??t);M.useEffect(()=>{Pk(n);try{window.localStorage.setItem(r,n)}catch{}},[n,r]),M.useEffect(()=>{if(n!=="system"||typeof window>"u")return;const c=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>Pk("system");try{c.addEventListener("change",p)}catch{c.addListener(p)}return()=>{try{c.removeEventListener("change",p)}catch{c.removeListener(p)}}},[n]);const a=M.useMemo(()=>({theme:n,setTheme:s}),[n]);return f.jsx(ej.Provider,{value:a,children:e})}function B5(){const e=M.useContext(ej);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}function $5(){const{theme:e,setTheme:t}=B5(),r=e==="system"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e,n=r==="light"?"dark":"light",s=r==="light"?"Switch to dark":"Switch to light";return f.jsx("div",{className:"flex items-center gap-1",children:f.jsxs(_t,{variant:"ghost",size:"icon","aria-label":s,title:s,onClick:()=>t(n),className:"relative h-10 w-10",children:[f.jsx(s$,{className:"absolute h-6 w-6 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),f.jsx(QB,{className:"absolute h-6 w-6 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})})}function z5({matchId:e,open:t,onOpenChange:r}){const{players:n,matches:s}=wg(),[a,c]=M.useState(null),[p,v]=M.useState(null),[w,k]=M.useState({}),[E,P]=M.useState(null),[z,U]=M.useState(!1),D=M.useMemo(()=>s.find(J=>J.id===e),[s,e]),L=M.useMemo(()=>D||E,[D,E]),I=n.find(J=>J.id===(L==null?void 0:L.player1_id)),j=n.find(J=>J.id===(L==null?void 0:L.player2_id));M.useEffect(()=>{if(!e||D)return;let J=!0;return U(!0),(async()=>{try{const{data:we,error:ke}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("id",e).single();if(!J)return;if(ke){console.warn("Failed to fetch match from server:",ke),P(null),U(!1);return}we&&(console.log("Fetched match from server:",we),P(we)),U(!1)}catch(we){if(!J)return;console.warn("Error fetching match from server:",we),P(null),U(!1)}})(),()=>{J=!1}},[e,D]),M.useEffect(()=>{let J=!0;return L!=null&&L.id?((async()=>{try{const{data:we,error:ke}=await Ve.from("rating_events").select("player_id, rating, rating_change, event_type").eq("match_id",L.id);if(!J)return;if(ke){console.warn("Failed to fetch rating events for match",L.id,ke),k({});return}const Se={};for(const me of we??[])(me==null?void 0:me.event_type)!=="match"||typeof(me==null?void 0:me.player_id)!="number"||(Se[me.player_id]={rating:typeof me.rating=="number"?me.rating:me.rating??null,rating_change:typeof me.rating_change=="number"?me.rating_change:me.rating_change??null});k(Se)}catch(we){if(!J)return;console.warn("Failed to load rating events for match",L.id,we),k({})}})(),()=>{J=!1}):(k({}),()=>{J=!1})},[L==null?void 0:L.id]);const O=M.useMemo(()=>{if(!L)return{p1:null,p2:null};const J=(me,Te)=>{if(!me)return null;const We=s.filter(pe=>pe.id>L.id&&(pe.player1_id===me.id||pe.player2_id===me.id));let Je=me.rating??1500;for(const pe of We){const Me=pe.player1_id===me.id?pe.rating_change_p1??0:pe.rating_change_p2??0;Je-=Me}const ie=Te??null,ve=ie!==null?Je-ie:null;return{ratingAfter:Number.isFinite(Je)?Je:null,ratingBefore:ve!==null&&Number.isFinite(ve)?ve:null,ratingChange:ie}},we=(me,Te)=>{if(!me)return null;const We=w[me.id];if(!We)return null;const Je=We.rating_change??Te??null,ie=We.rating??null,ve=Je!==null&&ie!==null?ie-Je:null;return{ratingAfter:ie,ratingBefore:ve,ratingChange:Je}},ke=J(I,L.rating_change_p1??null),Se=J(j,L.rating_change_p2??null);return{p1:we(I,L.rating_change_p1??null)??ke,p2:we(j,L.rating_change_p2??null)??Se}},[L,I,j,s,w]),q=O.p1,ae=O.p2,re=(q==null?void 0:q.ratingChange)??(L==null?void 0:L.rating_change_p1)??null,ce=(ae==null?void 0:ae.ratingChange)??(L==null?void 0:L.rating_change_p2)??null;return M.useEffect(()=>{if(!(L!=null&&L.event_id)){c(null);return}let J=!0;return(async()=>{const we=await $h();if(!J)return;const ke=we.find(Se=>Se.id===L.event_id);c((ke==null?void 0:ke.title)??null)})(),()=>{J=!1}},[L==null?void 0:L.event_id]),M.useEffect(()=>{if(!(L!=null&&L.season_id)){v(null);return}let J=!0;return(async()=>{try{const{data:we,error:ke}=await Ve.from("seasons").select("name").eq("id",L.season_id).single();if(!J)return;if(ke){console.warn("Failed to fetch season",ke),v(null);return}v((we==null?void 0:we.name)??null)}catch(we){if(!J)return;console.warn("Failed to load season",we),v(null)}})(),()=>{J=!1}},[L==null?void 0:L.season_id]),L?f.jsx(Cc,{open:t,onOpenChange:r,children:f.jsxs(Ha,{className:"max-w-4xl",children:[f.jsx(Ga,{className:"sr-only",children:f.jsx(Va,{children:"Match Details"})}),f.jsxs("div",{className:"space-y-8 py-2",children:[f.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-8 items-start",children:[f.jsx("div",{className:"flex flex-col items-center gap-4",children:I&&f.jsxs(f.Fragment,{children:[f.jsxs(Ar,{className:"group text-center",to:`/players/${I.id}`,onClick:()=>r(!1),children:[f.jsx(Rs,{name:I.name,twitter:I.twitter,size:96,className:"h-24 w-24 mx-auto ring-2 ring-border group-hover:ring-primary transition-all"}),f.jsx("div",{className:"font-semibold text-lg mt-3 group-hover:text-primary transition-colors",children:I.name})]}),f.jsx("div",{className:`w-full rounded-lg border-2 p-4 ${L.winner_id===L.player1_id?"border-green-500/50 bg-green-500/5":"border-border"}`,children:f.jsxs("div",{className:"text-center space-y-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-6xl font-bold mb-1",style:{color:L.winner_id===L.player1_id?"hsl(var(--chart-2))":"hsl(var(--muted-foreground))"},children:L.player1_score??"?"}),L.winner_id===L.player1_id&&f.jsx("div",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Winner"})]}),re!==null&&f.jsxs("div",{className:"pt-3 border-t space-y-2",children:[f.jsx("div",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:"Rating Change"}),f.jsxs("div",{className:"inline-flex items-center gap-2 text-xl font-bold",children:[(re??0)>=0?f.jsx(Ta,{size:20,className:"text-green-600 dark:text-green-400"}):f.jsx(Ma,{size:20,className:"text-red-600 dark:text-red-400"}),f.jsx("span",{className:(re??0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:Math.abs(re??0).toFixed(1)})]}),q&&q.ratingBefore!==null&&q.ratingAfter!==null&&f.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[f.jsx("span",{className:"font-semibold text-foreground",children:Math.round(q.ratingBefore)}),f.jsx("span",{className:(re??0)>=0?"text-green-600 dark:text-green-400 text-lg":"text-red-600 dark:text-red-400 text-lg",children:""}),f.jsx("span",{className:"font-semibold text-foreground",children:Math.round(q.ratingAfter)})]})]})]})})]})}),f.jsx("div",{className:"flex items-center justify-center pt-20",children:f.jsx("div",{className:"text-3xl font-bold text-muted-foreground",children:"VS"})}),f.jsx("div",{className:"flex flex-col items-center gap-4",children:j&&f.jsxs(f.Fragment,{children:[f.jsxs(Ar,{className:"group text-center",to:`/players/${j.id}`,onClick:()=>r(!1),children:[f.jsx(Rs,{name:j.name,twitter:j.twitter,size:96,className:"h-24 w-24 mx-auto ring-2 ring-border group-hover:ring-primary transition-all"}),f.jsx("div",{className:"font-semibold text-lg mt-3 group-hover:text-primary transition-colors",children:j.name})]}),f.jsx("div",{className:`w-full rounded-lg border-2 p-4 ${L.winner_id===L.player2_id?"border-green-500/50 bg-green-500/5":"border-border"}`,children:f.jsxs("div",{className:"text-center space-y-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-6xl font-bold mb-1",style:{color:L.winner_id===L.player2_id?"hsl(var(--chart-2))":"hsl(var(--muted-foreground))"},children:L.player2_score??"?"}),L.winner_id===L.player2_id&&f.jsx("div",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Winner"})]}),ce!==null&&f.jsxs("div",{className:"pt-3 border-t space-y-2",children:[f.jsx("div",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:"Rating Change"}),f.jsxs("div",{className:"inline-flex items-center gap-2 text-xl font-bold",children:[(ce??0)>=0?f.jsx(Ta,{size:20,className:"text-green-600 dark:text-green-400"}):f.jsx(Ma,{size:20,className:"text-red-600 dark:text-red-400"}),f.jsx("span",{className:(ce??0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:Math.abs(ce??0).toFixed(1)})]}),ae&&ae.ratingBefore!==null&&ae.ratingAfter!==null&&f.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[f.jsx("span",{className:"font-semibold text-foreground",children:Math.round(ae.ratingBefore)}),f.jsx("span",{className:(ce??0)>=0?"text-green-600 dark:text-green-400 text-lg":"text-red-600 dark:text-red-400 text-lg",children:""}),f.jsx("span",{className:"font-semibold text-foreground",children:Math.round(ae.ratingAfter)})]})]})]})})]})})]}),(L.event_id||L.vod_link||p)&&f.jsxs("div",{className:"flex items-center justify-center gap-8 pt-4 border-t flex-wrap",children:[p&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Season:"}),f.jsx("span",{className:"font-medium text-base",children:p})]}),L.event_id&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Event:"}),f.jsx(Ar,{className:"text-primary hover:underline font-medium text-base",to:`/events/${L.event_id}`,onClick:()=>r(!1),children:a??"Loading..."})]}),L.vod_link&&f.jsxs("a",{href:L.vod_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-primary hover:underline font-medium text-base",children:[L.vod_link.includes("youtube.com")||L.vod_link.includes("youtu.be")?f.jsx(VE,{className:"h-5 w-5 text-red-600"}):L.vod_link.includes("twitch.tv")?f.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",style:{color:"#9146FF"},children:f.jsx("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})}):f.jsx(UE,{className:"h-5 w-5"}),"Watch Video"]})]})]})]})}):f.jsx(Cc,{open:t,onOpenChange:r,children:f.jsxs(Ha,{children:[f.jsx(Ga,{children:f.jsx(Va,{children:"Match Not Found"})}),z?f.jsx("p",{className:"text-muted-foreground text-sm",children:"Fetching match data from server..."}):f.jsx("p",{className:"text-muted-foreground text-sm",children:"The match you're looking for doesn't exist."})]})})}function F5(){const{session:e,loading:t,signOut:r}=Xw(),[n,s]=M.useState(!1),{matchId:a,closeMatch:c}=Vw();return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[f.jsx("nav",{className:"border-b",children:f.jsxs("div",{className:"container flex items-center gap-4 md:gap-6 py-3 md:py-4 flex-wrap",children:[f.jsx(po,{to:"/",className:"shrink-0",children:f.jsx("span",{className:"bg-red-600 text-white font-bold px-3 py-1.5 rounded-md text-sm",children:"OFC"})}),f.jsxs("div",{className:"hidden md:flex gap-4 text-sm",children:[f.jsx(po,{to:"/rankings",className:({isActive:p})=>p?"text-primary":"",children:"Rankings"}),f.jsx(po,{to:"/matches",className:({isActive:p})=>p?"text-primary":"",children:"Matches"}),f.jsx(po,{to:"/events",className:({isActive:p})=>p?"text-primary":"",children:"Events"})]}),f.jsxs("div",{className:"ml-auto flex items-center gap-2 md:gap-3 min-w-0",children:[t?f.jsx("div",{className:"h-8 w-24 animate-pulse rounded-md bg-muted","aria-hidden":!0}):e?f.jsx(_t,{variant:"ghost",size:"sm",onClick:r,children:"Sign out"}):f.jsx(_t,{asChild:!0,variant:"outline",size:"sm",children:f.jsx(po,{to:"/login",children:"Login"})}),f.jsx($5,{}),f.jsx("button",{type:"button","aria-label":"Toggle menu","aria-expanded":n,className:"inline-flex h-9 w-9 items-center justify-center rounded-md hover:bg-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring md:hidden",onClick:()=>s(p=>!p),children:n?f.jsx(Cw,{className:"h-5 w-5"}):f.jsx(KB,{className:"h-5 w-5"})})]}),f.jsx("div",{className:`${n?"block":"hidden"} w-full md:hidden`,onClick:()=>s(!1),children:f.jsxs("div",{className:"flex flex-col gap-2 pt-2 pb-3 text-sm",children:[f.jsx(po,{to:"/rankings",className:({isActive:p})=>p?"text-primary":"",children:"Rankings"}),f.jsx(po,{to:"/matches",className:({isActive:p})=>p?"text-primary":"",children:"Matches"}),f.jsx(po,{to:"/events",className:({isActive:p})=>p?"text-primary":"",children:"Events"})]})})]})}),f.jsx("main",{className:"container py-6",children:f.jsxs(IR,{children:[f.jsx(Bi,{path:"/",element:f.jsx(jk,{})}),f.jsx(Bi,{path:"/rankings",element:f.jsx(CF,{})}),f.jsx(Bi,{path:"/players",element:f.jsx(tE,{to:"/rankings",replace:!0})}),f.jsx(Bi,{path:"/players/:id",element:f.jsx($3,{})}),f.jsx(Bi,{path:"/matches",element:f.jsx(j3,{})}),f.jsx(Bi,{path:"/events",element:f.jsx(P3,{})}),f.jsx(Bi,{path:"/events/:id",element:f.jsx(N3,{})}),f.jsx(Bi,{path:"/upcoming",element:f.jsx(jk,{})}),f.jsx(Bi,{path:"/profile",element:f.jsx(O3,{})}),f.jsx(Bi,{path:"/login",element:f.jsx(r5,{})}),f.jsx(Bi,{path:"/admin",element:f.jsx(L5,{})}),f.jsx(Bi,{path:"*",element:f.jsx(i5,{})})]})})]}),f.jsx(z5,{matchId:a,open:a!==null,onOpenChange:p=>!p&&c()})]})}function W5(){return f.jsx(A3,{children:f.jsx(F5,{})})}Gx.createRoot(document.getElementById("root")).render(f.jsx(Jn.StrictMode,{children:f.jsx(z3,{children:f.jsx(D5,{defaultTheme:"system",storageKey:"scelo-theme",children:f.jsx(GR,{children:f.jsx(W5,{})})})})}));
