function _T(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function CT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var LS={exports:{}},Qp={},IS={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),ET=Symbol.for("react.portal"),MT=Symbol.for("react.fragment"),jT=Symbol.for("react.strict_mode"),AT=Symbol.for("react.profiler"),NT=Symbol.for("react.provider"),TT=Symbol.for("react.context"),PT=Symbol.for("react.forward_ref"),OT=Symbol.for("react.suspense"),RT=Symbol.for("react.memo"),LT=Symbol.for("react.lazy"),l1=Symbol.iterator;function IT(e){return e===null||typeof e!="object"?null:(e=l1&&e[l1]||e["@@iterator"],typeof e=="function"?e:null)}var DS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BS=Object.assign,$S={};function Ac(e,t,r){this.props=e,this.context=t,this.refs=$S,this.updater=r||DS}Ac.prototype.isReactComponent={};Ac.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ac.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zS(){}zS.prototype=Ac.prototype;function v0(e,t,r){this.props=e,this.context=t,this.refs=$S,this.updater=r||DS}var x0=v0.prototype=new zS;x0.constructor=v0;BS(x0,Ac.prototype);x0.isPureReactComponent=!0;var c1=Array.isArray,FS=Object.prototype.hasOwnProperty,y0={current:null},WS={key:!0,ref:!0,__self:!0,__source:!0};function US(e,t,r){var n,s={},a=null,c=null;if(t!=null)for(n in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)FS.call(t,n)&&!WS.hasOwnProperty(n)&&(s[n]=t[n]);var p=arguments.length-2;if(p===1)s.children=r;else if(1<p){for(var v=Array(p),y=0;y<p;y++)v[y]=arguments[y+2];s.children=v}if(e&&e.defaultProps)for(n in p=e.defaultProps,p)s[n]===void 0&&(s[n]=p[n]);return{$$typeof:Ou,type:e,key:a,ref:c,props:s,_owner:y0.current}}function DT(e,t){return{$$typeof:Ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function b0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ou}function BT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var d1=/\/+/g;function Xv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BT(""+e.key):t.toString(36)}function Jf(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Ou:case ET:c=!0}}if(c)return c=e,s=s(c),e=n===""?"."+Xv(c,0):n,c1(s)?(r="",e!=null&&(r=e.replace(d1,"$&/")+"/"),Jf(s,t,r,"",function(y){return y})):s!=null&&(b0(s)&&(s=DT(s,r+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(d1,"$&/")+"/")+e)),t.push(s)),1;if(c=0,n=n===""?".":n+":",c1(e))for(var p=0;p<e.length;p++){a=e[p];var v=n+Xv(a,p);c+=Jf(a,t,r,v,s)}else if(v=IT(e),typeof v=="function")for(e=v.call(e),p=0;!(a=e.next()).done;)a=a.value,v=n+Xv(a,p++),c+=Jf(a,t,r,v,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function _f(e,t,r){if(e==null)return e;var n=[],s=0;return Jf(e,n,"","",function(a){return t.call(r,a,s++)}),n}function $T(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xi={current:null},ep={transition:null},zT={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:ep,ReactCurrentOwner:y0};function HS(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:_f,forEach:function(e,t,r){_f(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _f(e,function(){t++}),t},toArray:function(e){return _f(e,function(t){return t})||[]},only:function(e){if(!b0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pt.Component=Ac;Pt.Fragment=MT;Pt.Profiler=AT;Pt.PureComponent=v0;Pt.StrictMode=jT;Pt.Suspense=OT;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zT;Pt.act=HS;Pt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=BS({},e.props),s=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=y0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(v in t)FS.call(t,v)&&!WS.hasOwnProperty(v)&&(n[v]=t[v]===void 0&&p!==void 0?p[v]:t[v])}var v=arguments.length-2;if(v===1)n.children=r;else if(1<v){p=Array(v);for(var y=0;y<v;y++)p[y]=arguments[y+2];n.children=p}return{$$typeof:Ou,type:e.type,key:s,ref:a,props:n,_owner:c}};Pt.createContext=function(e){return e={$$typeof:TT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NT,_context:e},e.Consumer=e};Pt.createElement=US;Pt.createFactory=function(e){var t=US.bind(null,e);return t.type=e,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(e){return{$$typeof:PT,render:e}};Pt.isValidElement=b0;Pt.lazy=function(e){return{$$typeof:LT,_payload:{_status:-1,_result:e},_init:$T}};Pt.memo=function(e,t){return{$$typeof:RT,type:e,compare:t===void 0?null:t}};Pt.startTransition=function(e){var t=ep.transition;ep.transition={};try{e()}finally{ep.transition=t}};Pt.unstable_act=HS;Pt.useCallback=function(e,t){return xi.current.useCallback(e,t)};Pt.useContext=function(e){return xi.current.useContext(e)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(e){return xi.current.useDeferredValue(e)};Pt.useEffect=function(e,t){return xi.current.useEffect(e,t)};Pt.useId=function(){return xi.current.useId()};Pt.useImperativeHandle=function(e,t,r){return xi.current.useImperativeHandle(e,t,r)};Pt.useInsertionEffect=function(e,t){return xi.current.useInsertionEffect(e,t)};Pt.useLayoutEffect=function(e,t){return xi.current.useLayoutEffect(e,t)};Pt.useMemo=function(e,t){return xi.current.useMemo(e,t)};Pt.useReducer=function(e,t,r){return xi.current.useReducer(e,t,r)};Pt.useRef=function(e){return xi.current.useRef(e)};Pt.useState=function(e){return xi.current.useState(e)};Pt.useSyncExternalStore=function(e,t,r){return xi.current.useSyncExternalStore(e,t,r)};Pt.useTransition=function(){return xi.current.useTransition()};Pt.version="18.3.1";IS.exports=Pt;var M=IS.exports;const Jn=Pu(M),w0=_T({__proto__:null,default:Jn},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT=M,WT=Symbol.for("react.element"),UT=Symbol.for("react.fragment"),HT=Object.prototype.hasOwnProperty,GT=FT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VT={key:!0,ref:!0,__self:!0,__source:!0};function GS(e,t,r){var n,s={},a=null,c=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(n in t)HT.call(t,n)&&!VT.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:WT,type:e,key:a,ref:c,props:s,_owner:GT.current}}Qp.Fragment=UT;Qp.jsx=GS;Qp.jsxs=GS;LS.exports=Qp;var h=LS.exports,Xx={},VS={exports:{}},Gi={},XS={exports:{}},YS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(he,Me){var $e=he.length;he.push(Me);e:for(;0<$e;){var Ie=$e-1>>>1,Ee=he[Ie];if(0<s(Ee,Me))he[Ie]=Me,he[$e]=Ee,$e=Ie;else break e}}function r(he){return he.length===0?null:he[0]}function n(he){if(he.length===0)return null;var Me=he[0],$e=he.pop();if($e!==Me){he[0]=$e;e:for(var Ie=0,Ee=he.length,Ze=Ee>>>1;Ie<Ze;){var ot=2*(Ie+1)-1,tt=he[ot],Ce=ot+1,Oe=he[Ce];if(0>s(tt,$e))Ce<Ee&&0>s(Oe,tt)?(he[Ie]=Oe,he[Ce]=$e,Ie=Ce):(he[Ie]=tt,he[ot]=$e,Ie=ot);else if(Ce<Ee&&0>s(Oe,$e))he[Ie]=Oe,he[Ce]=$e,Ie=Ce;else break e}}return Me}function s(he,Me){var $e=he.sortIndex-Me.sortIndex;return $e!==0?$e:he.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,p=c.now();e.unstable_now=function(){return c.now()-p}}var v=[],y=[],S=1,E=null,T=3,z=!1,U=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(he){for(var Me=r(y);Me!==null;){if(Me.callback===null)n(y);else if(Me.startTime<=he)n(y),Me.sortIndex=Me.expirationTime,t(v,Me);else break;Me=r(y)}}function q(he){if(D=!1,O(he),!U)if(r(v)!==null)U=!0,ie(ae);else{var Me=r(y);Me!==null&&ge(q,Me.startTime-he)}}function ae(he,Me){U=!1,D&&(D=!1,I(J),J=-1),z=!0;var $e=T;try{for(O(Me),E=r(v);E!==null&&(!(E.expirationTime>Me)||he&&!be());){var Ie=E.callback;if(typeof Ie=="function"){E.callback=null,T=E.priorityLevel;var Ee=Ie(E.expirationTime<=Me);Me=e.unstable_now(),typeof Ee=="function"?E.callback=Ee:E===r(v)&&n(v),O(Me)}else n(v);E=r(v)}if(E!==null)var Ze=!0;else{var ot=r(y);ot!==null&&ge(q,ot.startTime-Me),Ze=!1}return Ze}finally{E=null,T=$e,z=!1}}var te=!1,ce=null,J=-1,we=5,Se=-1;function be(){return!(e.unstable_now()-Se<we)}function ve(){if(ce!==null){var he=e.unstable_now();Se=he;var Me=!0;try{Me=ce(!0,he)}finally{Me?je():(te=!1,ce=null)}}else te=!1}var je;if(typeof N=="function")je=function(){N(ve)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Ye=Fe.port2;Fe.port1.onmessage=ve,je=function(){Ye.postMessage(null)}}else je=function(){R(ve,0)};function ie(he){ce=he,te||(te=!0,je())}function ge(he,Me){J=R(function(){he(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(he){he.callback=null},e.unstable_continueExecution=function(){U||z||(U=!0,ie(ae))},e.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<he?Math.floor(1e3/he):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(he){switch(T){case 1:case 2:case 3:var Me=3;break;default:Me=T}var $e=T;T=Me;try{return he()}finally{T=$e}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(he,Me){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var $e=T;T=he;try{return Me()}finally{T=$e}},e.unstable_scheduleCallback=function(he,Me,$e){var Ie=e.unstable_now();switch(typeof $e=="object"&&$e!==null?($e=$e.delay,$e=typeof $e=="number"&&0<$e?Ie+$e:Ie):$e=Ie,he){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=$e+Ee,he={id:S++,callback:Me,priorityLevel:he,startTime:$e,expirationTime:Ee,sortIndex:-1},$e>Ie?(he.sortIndex=$e,t(y,he),r(v)===null&&he===r(y)&&(D?(I(J),J=-1):D=!0,ge(q,$e-Ie))):(he.sortIndex=Ee,t(v,he),U||z||(U=!0,ie(ae))),he},e.unstable_shouldYield=be,e.unstable_wrapCallback=function(he){var Me=T;return function(){var $e=T;T=Me;try{return he.apply(this,arguments)}finally{T=$e}}}})(YS);XS.exports=YS;var XT=XS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT=M,Hi=XT;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qS=new Set,du={};function Va(e,t){gc(e,t),gc(e+"Capture",t)}function gc(e,t){for(du[e]=t,e=0;e<t.length;e++)qS.add(t[e])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yx=Object.prototype.hasOwnProperty,qT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u1={},h1={};function KT(e){return Yx.call(h1,e)?!0:Yx.call(u1,e)?!1:qT.test(e)?h1[e]=!0:(u1[e]=!0,!1)}function ZT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QT(e,t,r,n){if(t===null||typeof t>"u"||ZT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yi(e,t,r,n,s,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var Jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jr[e]=new yi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jr[t]=new yi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jr[e]=new yi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jr[e]=new yi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jr[e]=new yi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jr[e]=new yi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jr[e]=new yi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jr[e]=new yi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jr[e]=new yi(e,5,!1,e.toLowerCase(),null,!1,!1)});var k0=/[\-:]([a-z])/g;function S0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(k0,S0);Jr[t]=new yi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(k0,S0);Jr[t]=new yi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(k0,S0);Jr[t]=new yi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jr[e]=new yi(e,1,!1,e.toLowerCase(),null,!1,!1)});Jr.xlinkHref=new yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jr[e]=new yi(e,1,!1,e.toLowerCase(),null,!0,!0)});function _0(e,t,r,n){var s=Jr.hasOwnProperty(t)?Jr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QT(t,r,s,n)&&(r=null),n||s===null?KT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $s=YT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cf=Symbol.for("react.element"),Gl=Symbol.for("react.portal"),Vl=Symbol.for("react.fragment"),C0=Symbol.for("react.strict_mode"),qx=Symbol.for("react.profiler"),KS=Symbol.for("react.provider"),ZS=Symbol.for("react.context"),E0=Symbol.for("react.forward_ref"),Kx=Symbol.for("react.suspense"),Zx=Symbol.for("react.suspense_list"),M0=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),QS=Symbol.for("react.offscreen"),f1=Symbol.iterator;function Nd(e){return e===null||typeof e!="object"?null:(e=f1&&e[f1]||e["@@iterator"],typeof e=="function"?e:null)}var dr=Object.assign,Yv;function Vd(e){if(Yv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Yv=t&&t[1]||""}return`
`+Yv+e}var qv=!1;function Kv(e,t){if(!e||qv)return"";qv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(y){var n=y}Reflect.construct(e,[],t)}else{try{t.call()}catch(y){n=y}e.call(t.prototype)}else{try{throw Error()}catch(y){n=y}e()}}catch(y){if(y&&n&&typeof y.stack=="string"){for(var s=y.stack.split(`
`),a=n.stack.split(`
`),c=s.length-1,p=a.length-1;1<=c&&0<=p&&s[c]!==a[p];)p--;for(;1<=c&&0<=p;c--,p--)if(s[c]!==a[p]){if(c!==1||p!==1)do if(c--,p--,0>p||s[c]!==a[p]){var v=`
`+s[c].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=c&&0<=p);break}}}finally{qv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vd(e):""}function JT(e){switch(e.tag){case 5:return Vd(e.type);case 16:return Vd("Lazy");case 13:return Vd("Suspense");case 19:return Vd("SuspenseList");case 0:case 2:case 15:return e=Kv(e.type,!1),e;case 11:return e=Kv(e.type.render,!1),e;case 1:return e=Kv(e.type,!0),e;default:return""}}function Qx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vl:return"Fragment";case Gl:return"Portal";case qx:return"Profiler";case C0:return"StrictMode";case Kx:return"Suspense";case Zx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ZS:return(e.displayName||"Context")+".Consumer";case KS:return(e._context.displayName||"Context")+".Provider";case E0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M0:return t=e.displayName||null,t!==null?t:Qx(e.type)||"Memo";case wo:t=e._payload,e=e._init;try{return Qx(e(t))}catch{}}return null}function eP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qx(t);case 8:return t===C0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tP(e){var t=JS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){n=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(c){n=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ef(e){e._valueTracker||(e._valueTracker=tP(e))}function e_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=JS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function pp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jx(e,t){var r=t.checked;return dr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function p1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function t_(e,t){t=t.checked,t!=null&&_0(e,"checked",t,!1)}function ey(e,t){t_(e,t);var r=Bo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ty(e,t.type,r):t.hasOwnProperty("defaultValue")&&ty(e,t.type,Bo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function g1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ty(e,t,r){(t!=="number"||pp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xd=Array.isArray;function oc(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ry(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return dr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function m1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(He(92));if(Xd(r)){if(1<r.length)throw Error(He(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bo(r)}}function r_(e,t){var r=Bo(t.value),n=Bo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function v1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mf,n_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mf=Mf||document.createElement("div"),Mf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Qd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rP=["Webkit","ms","Moz","O"];Object.keys(Qd).forEach(function(e){rP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qd[t]=Qd[e]})});function s_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Qd.hasOwnProperty(e)&&Qd[e]?(""+t).trim():t+"px"}function o_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=s_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var iP=dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ny(e,t){if(t){if(iP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function sy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oy=null;function j0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ay=null,ac=null,lc=null;function x1(e){if(e=Iu(e)){if(typeof ay!="function")throw Error(He(280));var t=e.stateNode;t&&(t=ig(t),ay(e.stateNode,e.type,t))}}function a_(e){ac?lc?lc.push(e):lc=[e]:ac=e}function l_(){if(ac){var e=ac,t=lc;if(lc=ac=null,x1(e),t)for(e=0;e<t.length;e++)x1(t[e])}}function c_(e,t){return e(t)}function d_(){}var Zv=!1;function u_(e,t,r){if(Zv)return e(t,r);Zv=!0;try{return c_(e,t,r)}finally{Zv=!1,(ac!==null||lc!==null)&&(d_(),l_())}}function hu(e,t){var r=e.stateNode;if(r===null)return null;var n=ig(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(He(231,t,typeof r));return r}var ly=!1;if(Ts)try{var Td={};Object.defineProperty(Td,"passive",{get:function(){ly=!0}}),window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{ly=!1}function nP(e,t,r,n,s,a,c,p,v){var y=Array.prototype.slice.call(arguments,3);try{t.apply(r,y)}catch(S){this.onError(S)}}var Jd=!1,gp=null,mp=!1,cy=null,sP={onError:function(e){Jd=!0,gp=e}};function oP(e,t,r,n,s,a,c,p,v){Jd=!1,gp=null,nP.apply(sP,arguments)}function aP(e,t,r,n,s,a,c,p,v){if(oP.apply(this,arguments),Jd){if(Jd){var y=gp;Jd=!1,gp=null}else throw Error(He(198));mp||(mp=!0,cy=y)}}function Xa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function h_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y1(e){if(Xa(e)!==e)throw Error(He(188))}function lP(e){var t=e.alternate;if(!t){if(t=Xa(e),t===null)throw Error(He(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return y1(s),e;if(a===n)return y1(s),t;a=a.sibling}throw Error(He(188))}if(r.return!==n.return)r=s,n=a;else{for(var c=!1,p=s.child;p;){if(p===r){c=!0,r=s,n=a;break}if(p===n){c=!0,n=s,r=a;break}p=p.sibling}if(!c){for(p=a.child;p;){if(p===r){c=!0,r=a,n=s;break}if(p===n){c=!0,n=a,r=s;break}p=p.sibling}if(!c)throw Error(He(189))}}if(r.alternate!==n)throw Error(He(190))}if(r.tag!==3)throw Error(He(188));return r.stateNode.current===r?e:t}function f_(e){return e=lP(e),e!==null?p_(e):null}function p_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=p_(e);if(t!==null)return t;e=e.sibling}return null}var g_=Hi.unstable_scheduleCallback,b1=Hi.unstable_cancelCallback,cP=Hi.unstable_shouldYield,dP=Hi.unstable_requestPaint,vr=Hi.unstable_now,uP=Hi.unstable_getCurrentPriorityLevel,A0=Hi.unstable_ImmediatePriority,m_=Hi.unstable_UserBlockingPriority,vp=Hi.unstable_NormalPriority,hP=Hi.unstable_LowPriority,v_=Hi.unstable_IdlePriority,Jp=null,ns=null;function fP(e){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(Jp,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:mP,pP=Math.log,gP=Math.LN2;function mP(e){return e>>>=0,e===0?32:31-(pP(e)/gP|0)|0}var jf=64,Af=4194304;function Yd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,c=r&268435455;if(c!==0){var p=c&~s;p!==0?n=Yd(p):(a&=c,a!==0&&(n=Yd(a)))}else c=r&~s,c!==0?n=Yd(c):a!==0&&(n=Yd(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pn(t),s=1<<r,n|=e[r],t&=~s;return n}function vP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-Pn(a),p=1<<c,v=s[c];v===-1?(!(p&r)||p&n)&&(s[c]=vP(p,t)):v<=t&&(e.expiredLanes|=p),a&=~p}}function dy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function x_(){var e=jf;return jf<<=1,!(jf&4194240)&&(jf=64),e}function Qv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ru(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=r}function yP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Pn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function N0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ft=0;function y_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var b_,T0,w_,k_,S_,uy=!1,Nf=[],Ao=null,No=null,To=null,fu=new Map,pu=new Map,So=[],bP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w1(e,t){switch(e){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":fu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(t.pointerId)}}function Pd(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Iu(t),t!==null&&T0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function wP(e,t,r,n,s){switch(t){case"focusin":return Ao=Pd(Ao,e,t,r,n,s),!0;case"dragenter":return No=Pd(No,e,t,r,n,s),!0;case"mouseover":return To=Pd(To,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return fu.set(a,Pd(fu.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,pu.set(a,Pd(pu.get(a)||null,e,t,r,n,s)),!0}return!1}function __(e){var t=Ca(e.target);if(t!==null){var r=Xa(t);if(r!==null){if(t=r.tag,t===13){if(t=h_(r),t!==null){e.blockedOn=t,S_(e.priority,function(){w_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);oy=n,r.target.dispatchEvent(n),oy=null}else return t=Iu(r),t!==null&&T0(t),e.blockedOn=r,!1;t.shift()}return!0}function k1(e,t,r){tp(e)&&r.delete(t)}function kP(){uy=!1,Ao!==null&&tp(Ao)&&(Ao=null),No!==null&&tp(No)&&(No=null),To!==null&&tp(To)&&(To=null),fu.forEach(k1),pu.forEach(k1)}function Od(e,t){e.blockedOn===t&&(e.blockedOn=null,uy||(uy=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,kP)))}function gu(e){function t(s){return Od(s,e)}if(0<Nf.length){Od(Nf[0],e);for(var r=1;r<Nf.length;r++){var n=Nf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ao!==null&&Od(Ao,e),No!==null&&Od(No,e),To!==null&&Od(To,e),fu.forEach(t),pu.forEach(t),r=0;r<So.length;r++)n=So[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<So.length&&(r=So[0],r.blockedOn===null);)__(r),r.blockedOn===null&&So.shift()}var cc=$s.ReactCurrentBatchConfig,yp=!0;function SP(e,t,r,n){var s=Ft,a=cc.transition;cc.transition=null;try{Ft=1,P0(e,t,r,n)}finally{Ft=s,cc.transition=a}}function _P(e,t,r,n){var s=Ft,a=cc.transition;cc.transition=null;try{Ft=4,P0(e,t,r,n)}finally{Ft=s,cc.transition=a}}function P0(e,t,r,n){if(yp){var s=hy(e,t,r,n);if(s===null)lx(e,t,n,bp,r),w1(e,n);else if(wP(s,e,t,r,n))n.stopPropagation();else if(w1(e,n),t&4&&-1<bP.indexOf(e)){for(;s!==null;){var a=Iu(s);if(a!==null&&b_(a),a=hy(e,t,r,n),a===null&&lx(e,t,n,bp,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else lx(e,t,n,null,r)}}var bp=null;function hy(e,t,r,n){if(bp=null,e=j0(n),e=Ca(e),e!==null)if(t=Xa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=h_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bp=e,null}function C_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uP()){case A0:return 1;case m_:return 4;case vp:case hP:return 16;case v_:return 536870912;default:return 16}default:return 16}}var Eo=null,O0=null,rp=null;function E_(){if(rp)return rp;var e,t=O0,r=t.length,n,s="value"in Eo?Eo.value:Eo.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var c=r-e;for(n=1;n<=c&&t[r-n]===s[a-n];n++);return rp=s.slice(e,1<n?1-n:void 0)}function ip(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tf(){return!0}function S1(){return!1}function Vi(e){function t(r,n,s,a,c){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(r=e[p],this[p]=r?r(a):a[p]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Tf:S1,this.isPropagationStopped=S1,this}return dr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tf)},persist:function(){},isPersistent:Tf}),t}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R0=Vi(Nc),Lu=dr({},Nc,{view:0,detail:0}),CP=Vi(Lu),Jv,ex,Rd,eg=dr({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rd&&(Rd&&e.type==="mousemove"?(Jv=e.screenX-Rd.screenX,ex=e.screenY-Rd.screenY):ex=Jv=0,Rd=e),Jv)},movementY:function(e){return"movementY"in e?e.movementY:ex}}),_1=Vi(eg),EP=dr({},eg,{dataTransfer:0}),MP=Vi(EP),jP=dr({},Lu,{relatedTarget:0}),tx=Vi(jP),AP=dr({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),NP=Vi(AP),TP=dr({},Nc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PP=Vi(TP),OP=dr({},Nc,{data:0}),C1=Vi(OP),RP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IP[e])?!!t[e]:!1}function L0(){return DP}var BP=dr({},Lu,{key:function(e){if(e.key){var t=RP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ip(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L0,charCode:function(e){return e.type==="keypress"?ip(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ip(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$P=Vi(BP),zP=dr({},eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E1=Vi(zP),FP=dr({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L0}),WP=Vi(FP),UP=dr({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),HP=Vi(UP),GP=dr({},eg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VP=Vi(GP),XP=[9,13,27,32],I0=Ts&&"CompositionEvent"in window,eu=null;Ts&&"documentMode"in document&&(eu=document.documentMode);var YP=Ts&&"TextEvent"in window&&!eu,M_=Ts&&(!I0||eu&&8<eu&&11>=eu),M1=" ",j1=!1;function j_(e,t){switch(e){case"keyup":return XP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xl=!1;function qP(e,t){switch(e){case"compositionend":return A_(t);case"keypress":return t.which!==32?null:(j1=!0,M1);case"textInput":return e=t.data,e===M1&&j1?null:e;default:return null}}function KP(e,t){if(Xl)return e==="compositionend"||!I0&&j_(e,t)?(e=E_(),rp=O0=Eo=null,Xl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M_&&t.locale!=="ko"?null:t.data;default:return null}}var ZP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZP[e.type]:t==="textarea"}function N_(e,t,r,n){a_(n),t=wp(t,"onChange"),0<t.length&&(r=new R0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var tu=null,mu=null;function QP(e){F_(e,0)}function tg(e){var t=Kl(e);if(e_(t))return e}function JP(e,t){if(e==="change")return t}var T_=!1;if(Ts){var rx;if(Ts){var ix="oninput"in document;if(!ix){var N1=document.createElement("div");N1.setAttribute("oninput","return;"),ix=typeof N1.oninput=="function"}rx=ix}else rx=!1;T_=rx&&(!document.documentMode||9<document.documentMode)}function T1(){tu&&(tu.detachEvent("onpropertychange",P_),mu=tu=null)}function P_(e){if(e.propertyName==="value"&&tg(mu)){var t=[];N_(t,mu,e,j0(e)),u_(QP,t)}}function eO(e,t,r){e==="focusin"?(T1(),tu=t,mu=r,tu.attachEvent("onpropertychange",P_)):e==="focusout"&&T1()}function tO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tg(mu)}function rO(e,t){if(e==="click")return tg(t)}function iO(e,t){if(e==="input"||e==="change")return tg(t)}function nO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:nO;function vu(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Yx.call(t,s)||!Rn(e[s],t[s]))return!1}return!0}function P1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O1(e,t){var r=P1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=P1(r)}}function O_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?O_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function R_(){for(var e=window,t=pp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pp(e.document)}return t}function D0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sO(e){var t=R_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&O_(r.ownerDocument.documentElement,r)){if(n!==null&&D0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=O1(r,a);var c=O1(r,n);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oO=Ts&&"documentMode"in document&&11>=document.documentMode,Yl=null,fy=null,ru=null,py=!1;function R1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;py||Yl==null||Yl!==pp(n)||(n=Yl,"selectionStart"in n&&D0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ru&&vu(ru,n)||(ru=n,n=wp(fy,"onSelect"),0<n.length&&(t=new R0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yl)))}function Pf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ql={animationend:Pf("Animation","AnimationEnd"),animationiteration:Pf("Animation","AnimationIteration"),animationstart:Pf("Animation","AnimationStart"),transitionend:Pf("Transition","TransitionEnd")},nx={},L_={};Ts&&(L_=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function rg(e){if(nx[e])return nx[e];if(!ql[e])return e;var t=ql[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in L_)return nx[e]=t[r];return e}var I_=rg("animationend"),D_=rg("animationiteration"),B_=rg("animationstart"),$_=rg("transitionend"),z_=new Map,L1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uo(e,t){z_.set(e,t),Va(t,[e])}for(var sx=0;sx<L1.length;sx++){var ox=L1[sx],aO=ox.toLowerCase(),lO=ox[0].toUpperCase()+ox.slice(1);Uo(aO,"on"+lO)}Uo(I_,"onAnimationEnd");Uo(D_,"onAnimationIteration");Uo(B_,"onAnimationStart");Uo("dblclick","onDoubleClick");Uo("focusin","onFocus");Uo("focusout","onBlur");Uo($_,"onTransitionEnd");gc("onMouseEnter",["mouseout","mouseover"]);gc("onMouseLeave",["mouseout","mouseover"]);gc("onPointerEnter",["pointerout","pointerover"]);gc("onPointerLeave",["pointerout","pointerover"]);Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Va("onBeforeInput",["compositionend","keypress","textInput","paste"]);Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cO=new Set("cancel close invalid load scroll toggle".split(" ").concat(qd));function I1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,aP(n,t,void 0,e),e.currentTarget=null}function F_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var c=n.length-1;0<=c;c--){var p=n[c],v=p.instance,y=p.currentTarget;if(p=p.listener,v!==a&&s.isPropagationStopped())break e;I1(s,p,y),a=v}else for(c=0;c<n.length;c++){if(p=n[c],v=p.instance,y=p.currentTarget,p=p.listener,v!==a&&s.isPropagationStopped())break e;I1(s,p,y),a=v}}}if(mp)throw e=cy,mp=!1,cy=null,e}function Zt(e,t){var r=t[yy];r===void 0&&(r=t[yy]=new Set);var n=e+"__bubble";r.has(n)||(W_(t,e,2,!1),r.add(n))}function ax(e,t,r){var n=0;t&&(n|=4),W_(r,e,n,t)}var Of="_reactListening"+Math.random().toString(36).slice(2);function xu(e){if(!e[Of]){e[Of]=!0,qS.forEach(function(r){r!=="selectionchange"&&(cO.has(r)||ax(r,!1,e),ax(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Of]||(t[Of]=!0,ax("selectionchange",!1,t))}}function W_(e,t,r,n){switch(C_(t)){case 1:var s=SP;break;case 4:s=_P;break;default:s=P0}r=s.bind(null,t,r,e),s=void 0,!ly||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function lx(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var p=n.stateNode.containerInfo;if(p===s||p.nodeType===8&&p.parentNode===s)break;if(c===4)for(c=n.return;c!==null;){var v=c.tag;if((v===3||v===4)&&(v=c.stateNode.containerInfo,v===s||v.nodeType===8&&v.parentNode===s))return;c=c.return}for(;p!==null;){if(c=Ca(p),c===null)return;if(v=c.tag,v===5||v===6){n=a=c;continue e}p=p.parentNode}}n=n.return}u_(function(){var y=a,S=j0(r),E=[];e:{var T=z_.get(e);if(T!==void 0){var z=R0,U=e;switch(e){case"keypress":if(ip(r)===0)break e;case"keydown":case"keyup":z=$P;break;case"focusin":U="focus",z=tx;break;case"focusout":U="blur",z=tx;break;case"beforeblur":case"afterblur":z=tx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=_1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=MP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=WP;break;case I_:case D_:case B_:z=NP;break;case $_:z=HP;break;case"scroll":z=CP;break;case"wheel":z=VP;break;case"copy":case"cut":case"paste":z=PP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=E1}var D=(t&4)!==0,R=!D&&e==="scroll",I=D?T!==null?T+"Capture":null:T;D=[];for(var N=y,O;N!==null;){O=N;var q=O.stateNode;if(O.tag===5&&q!==null&&(O=q,I!==null&&(q=hu(N,I),q!=null&&D.push(yu(N,q,O)))),R)break;N=N.return}0<D.length&&(T=new z(T,U,null,r,S),E.push({event:T,listeners:D}))}}if(!(t&7)){e:{if(T=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",T&&r!==oy&&(U=r.relatedTarget||r.fromElement)&&(Ca(U)||U[Ps]))break e;if((z||T)&&(T=S.window===S?S:(T=S.ownerDocument)?T.defaultView||T.parentWindow:window,z?(U=r.relatedTarget||r.toElement,z=y,U=U?Ca(U):null,U!==null&&(R=Xa(U),U!==R||U.tag!==5&&U.tag!==6)&&(U=null)):(z=null,U=y),z!==U)){if(D=_1,q="onMouseLeave",I="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(D=E1,q="onPointerLeave",I="onPointerEnter",N="pointer"),R=z==null?T:Kl(z),O=U==null?T:Kl(U),T=new D(q,N+"leave",z,r,S),T.target=R,T.relatedTarget=O,q=null,Ca(S)===y&&(D=new D(I,N+"enter",U,r,S),D.target=O,D.relatedTarget=R,q=D),R=q,z&&U)t:{for(D=z,I=U,N=0,O=D;O;O=Nl(O))N++;for(O=0,q=I;q;q=Nl(q))O++;for(;0<N-O;)D=Nl(D),N--;for(;0<O-N;)I=Nl(I),O--;for(;N--;){if(D===I||I!==null&&D===I.alternate)break t;D=Nl(D),I=Nl(I)}D=null}else D=null;z!==null&&D1(E,T,z,D,!1),U!==null&&R!==null&&D1(E,R,U,D,!0)}}e:{if(T=y?Kl(y):window,z=T.nodeName&&T.nodeName.toLowerCase(),z==="select"||z==="input"&&T.type==="file")var ae=JP;else if(A1(T))if(T_)ae=iO;else{ae=tO;var te=eO}else(z=T.nodeName)&&z.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(ae=rO);if(ae&&(ae=ae(e,y))){N_(E,ae,r,S);break e}te&&te(e,T,y),e==="focusout"&&(te=T._wrapperState)&&te.controlled&&T.type==="number"&&ty(T,"number",T.value)}switch(te=y?Kl(y):window,e){case"focusin":(A1(te)||te.contentEditable==="true")&&(Yl=te,fy=y,ru=null);break;case"focusout":ru=fy=Yl=null;break;case"mousedown":py=!0;break;case"contextmenu":case"mouseup":case"dragend":py=!1,R1(E,r,S);break;case"selectionchange":if(oO)break;case"keydown":case"keyup":R1(E,r,S)}var ce;if(I0)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Xl?j_(e,r)&&(J="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(J="onCompositionStart");J&&(M_&&r.locale!=="ko"&&(Xl||J!=="onCompositionStart"?J==="onCompositionEnd"&&Xl&&(ce=E_()):(Eo=S,O0="value"in Eo?Eo.value:Eo.textContent,Xl=!0)),te=wp(y,J),0<te.length&&(J=new C1(J,e,null,r,S),E.push({event:J,listeners:te}),ce?J.data=ce:(ce=A_(r),ce!==null&&(J.data=ce)))),(ce=YP?qP(e,r):KP(e,r))&&(y=wp(y,"onBeforeInput"),0<y.length&&(S=new C1("onBeforeInput","beforeinput",null,r,S),E.push({event:S,listeners:y}),S.data=ce))}F_(E,t)})}function yu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wp(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=hu(e,r),a!=null&&n.unshift(yu(e,a,s)),a=hu(e,t),a!=null&&n.push(yu(e,a,s))),e=e.return}return n}function Nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function D1(e,t,r,n,s){for(var a=t._reactName,c=[];r!==null&&r!==n;){var p=r,v=p.alternate,y=p.stateNode;if(v!==null&&v===n)break;p.tag===5&&y!==null&&(p=y,s?(v=hu(r,a),v!=null&&c.unshift(yu(r,v,p))):s||(v=hu(r,a),v!=null&&c.push(yu(r,v,p)))),r=r.return}c.length!==0&&e.push({event:t,listeners:c})}var dO=/\r\n?/g,uO=/\u0000|\uFFFD/g;function B1(e){return(typeof e=="string"?e:""+e).replace(dO,`
`).replace(uO,"")}function Rf(e,t,r){if(t=B1(t),B1(e)!==t&&r)throw Error(He(425))}function kp(){}var gy=null,my=null;function vy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xy=typeof setTimeout=="function"?setTimeout:void 0,hO=typeof clearTimeout=="function"?clearTimeout:void 0,$1=typeof Promise=="function"?Promise:void 0,fO=typeof queueMicrotask=="function"?queueMicrotask:typeof $1<"u"?function(e){return $1.resolve(null).then(e).catch(pO)}:xy;function pO(e){setTimeout(function(){throw e})}function cx(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),gu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);gu(t)}function Po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function z1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),ts="__reactFiber$"+Tc,bu="__reactProps$"+Tc,Ps="__reactContainer$"+Tc,yy="__reactEvents$"+Tc,gO="__reactListeners$"+Tc,mO="__reactHandles$"+Tc;function Ca(e){var t=e[ts];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ps]||r[ts]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=z1(e);e!==null;){if(r=e[ts])return r;e=z1(e)}return t}e=r,r=e.parentNode}return null}function Iu(e){return e=e[ts]||e[Ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function ig(e){return e[bu]||null}var by=[],Zl=-1;function Ho(e){return{current:e}}function Qt(e){0>Zl||(e.current=by[Zl],by[Zl]=null,Zl--)}function qt(e,t){Zl++,by[Zl]=e.current,e.current=t}var $o={},ai=Ho($o),Ai=Ho(!1),Na=$o;function mc(e,t){var r=e.type.contextTypes;if(!r)return $o;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ni(e){return e=e.childContextTypes,e!=null}function Sp(){Qt(Ai),Qt(ai)}function F1(e,t,r){if(ai.current!==$o)throw Error(He(168));qt(ai,t),qt(Ai,r)}function U_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(He(108,eP(e)||"Unknown",s));return dr({},r,n)}function _p(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$o,Na=ai.current,qt(ai,e),qt(Ai,Ai.current),!0}function W1(e,t,r){var n=e.stateNode;if(!n)throw Error(He(169));r?(e=U_(e,t,Na),n.__reactInternalMemoizedMergedChildContext=e,Qt(Ai),Qt(ai),qt(ai,e)):Qt(Ai),qt(Ai,r)}var Cs=null,ng=!1,dx=!1;function H_(e){Cs===null?Cs=[e]:Cs.push(e)}function vO(e){ng=!0,H_(e)}function Go(){if(!dx&&Cs!==null){dx=!0;var e=0,t=Ft;try{var r=Cs;for(Ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Cs=null,ng=!1}catch(s){throw Cs!==null&&(Cs=Cs.slice(e+1)),g_(A0,Go),s}finally{Ft=t,dx=!1}}return null}var Ql=[],Jl=0,Cp=null,Ep=0,cn=[],dn=0,Ta=null,Ms=1,js="";function ya(e,t){Ql[Jl++]=Ep,Ql[Jl++]=Cp,Cp=e,Ep=t}function G_(e,t,r){cn[dn++]=Ms,cn[dn++]=js,cn[dn++]=Ta,Ta=e;var n=Ms;e=js;var s=32-Pn(n)-1;n&=~(1<<s),r+=1;var a=32-Pn(t)+s;if(30<a){var c=s-s%5;a=(n&(1<<c)-1).toString(32),n>>=c,s-=c,Ms=1<<32-Pn(t)+s|r<<s|n,js=a+e}else Ms=1<<a|r<<s|n,js=e}function B0(e){e.return!==null&&(ya(e,1),G_(e,1,0))}function $0(e){for(;e===Cp;)Cp=Ql[--Jl],Ql[Jl]=null,Ep=Ql[--Jl],Ql[Jl]=null;for(;e===Ta;)Ta=cn[--dn],cn[dn]=null,js=cn[--dn],cn[dn]=null,Ms=cn[--dn],cn[dn]=null}var Wi=null,Fi=null,rr=!1,Tn=null;function V_(e,t){var r=un(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function U1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wi=e,Fi=Po(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wi=e,Fi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ta!==null?{id:Ms,overflow:js}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=un(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wi=e,Fi=null,!0):!1;default:return!1}}function wy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ky(e){if(rr){var t=Fi;if(t){var r=t;if(!U1(e,t)){if(wy(e))throw Error(He(418));t=Po(r.nextSibling);var n=Wi;t&&U1(e,t)?V_(n,r):(e.flags=e.flags&-4097|2,rr=!1,Wi=e)}}else{if(wy(e))throw Error(He(418));e.flags=e.flags&-4097|2,rr=!1,Wi=e}}}function H1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wi=e}function Lf(e){if(e!==Wi)return!1;if(!rr)return H1(e),rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vy(e.type,e.memoizedProps)),t&&(t=Fi)){if(wy(e))throw X_(),Error(He(418));for(;t;)V_(e,t),t=Po(t.nextSibling)}if(H1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fi=Po(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fi=null}}else Fi=Wi?Po(e.stateNode.nextSibling):null;return!0}function X_(){for(var e=Fi;e;)e=Po(e.nextSibling)}function vc(){Fi=Wi=null,rr=!1}function z0(e){Tn===null?Tn=[e]:Tn.push(e)}var xO=$s.ReactCurrentBatchConfig;function Ld(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(He(309));var n=r.stateNode}if(!n)throw Error(He(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var p=s.refs;c===null?delete p[a]:p[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(He(284));if(!r._owner)throw Error(He(290,e))}return e}function If(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function G1(e){var t=e._init;return t(e._payload)}function Y_(e){function t(I,N){if(e){var O=I.deletions;O===null?(I.deletions=[N],I.flags|=16):O.push(N)}}function r(I,N){if(!e)return null;for(;N!==null;)t(I,N),N=N.sibling;return null}function n(I,N){for(I=new Map;N!==null;)N.key!==null?I.set(N.key,N):I.set(N.index,N),N=N.sibling;return I}function s(I,N){return I=Io(I,N),I.index=0,I.sibling=null,I}function a(I,N,O){return I.index=O,e?(O=I.alternate,O!==null?(O=O.index,O<N?(I.flags|=2,N):O):(I.flags|=2,N)):(I.flags|=1048576,N)}function c(I){return e&&I.alternate===null&&(I.flags|=2),I}function p(I,N,O,q){return N===null||N.tag!==6?(N=vx(O,I.mode,q),N.return=I,N):(N=s(N,O),N.return=I,N)}function v(I,N,O,q){var ae=O.type;return ae===Vl?S(I,N,O.props.children,q,O.key):N!==null&&(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===wo&&G1(ae)===N.type)?(q=s(N,O.props),q.ref=Ld(I,N,O),q.return=I,q):(q=dp(O.type,O.key,O.props,null,I.mode,q),q.ref=Ld(I,N,O),q.return=I,q)}function y(I,N,O,q){return N===null||N.tag!==4||N.stateNode.containerInfo!==O.containerInfo||N.stateNode.implementation!==O.implementation?(N=xx(O,I.mode,q),N.return=I,N):(N=s(N,O.children||[]),N.return=I,N)}function S(I,N,O,q,ae){return N===null||N.tag!==7?(N=Aa(O,I.mode,q,ae),N.return=I,N):(N=s(N,O),N.return=I,N)}function E(I,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return N=vx(""+N,I.mode,O),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Cf:return O=dp(N.type,N.key,N.props,null,I.mode,O),O.ref=Ld(I,null,N),O.return=I,O;case Gl:return N=xx(N,I.mode,O),N.return=I,N;case wo:var q=N._init;return E(I,q(N._payload),O)}if(Xd(N)||Nd(N))return N=Aa(N,I.mode,O,null),N.return=I,N;If(I,N)}return null}function T(I,N,O,q){var ae=N!==null?N.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ae!==null?null:p(I,N,""+O,q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Cf:return O.key===ae?v(I,N,O,q):null;case Gl:return O.key===ae?y(I,N,O,q):null;case wo:return ae=O._init,T(I,N,ae(O._payload),q)}if(Xd(O)||Nd(O))return ae!==null?null:S(I,N,O,q,null);If(I,O)}return null}function z(I,N,O,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number")return I=I.get(O)||null,p(N,I,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Cf:return I=I.get(q.key===null?O:q.key)||null,v(N,I,q,ae);case Gl:return I=I.get(q.key===null?O:q.key)||null,y(N,I,q,ae);case wo:var te=q._init;return z(I,N,O,te(q._payload),ae)}if(Xd(q)||Nd(q))return I=I.get(O)||null,S(N,I,q,ae,null);If(N,q)}return null}function U(I,N,O,q){for(var ae=null,te=null,ce=N,J=N=0,we=null;ce!==null&&J<O.length;J++){ce.index>J?(we=ce,ce=null):we=ce.sibling;var Se=T(I,ce,O[J],q);if(Se===null){ce===null&&(ce=we);break}e&&ce&&Se.alternate===null&&t(I,ce),N=a(Se,N,J),te===null?ae=Se:te.sibling=Se,te=Se,ce=we}if(J===O.length)return r(I,ce),rr&&ya(I,J),ae;if(ce===null){for(;J<O.length;J++)ce=E(I,O[J],q),ce!==null&&(N=a(ce,N,J),te===null?ae=ce:te.sibling=ce,te=ce);return rr&&ya(I,J),ae}for(ce=n(I,ce);J<O.length;J++)we=z(ce,I,J,O[J],q),we!==null&&(e&&we.alternate!==null&&ce.delete(we.key===null?J:we.key),N=a(we,N,J),te===null?ae=we:te.sibling=we,te=we);return e&&ce.forEach(function(be){return t(I,be)}),rr&&ya(I,J),ae}function D(I,N,O,q){var ae=Nd(O);if(typeof ae!="function")throw Error(He(150));if(O=ae.call(O),O==null)throw Error(He(151));for(var te=ae=null,ce=N,J=N=0,we=null,Se=O.next();ce!==null&&!Se.done;J++,Se=O.next()){ce.index>J?(we=ce,ce=null):we=ce.sibling;var be=T(I,ce,Se.value,q);if(be===null){ce===null&&(ce=we);break}e&&ce&&be.alternate===null&&t(I,ce),N=a(be,N,J),te===null?ae=be:te.sibling=be,te=be,ce=we}if(Se.done)return r(I,ce),rr&&ya(I,J),ae;if(ce===null){for(;!Se.done;J++,Se=O.next())Se=E(I,Se.value,q),Se!==null&&(N=a(Se,N,J),te===null?ae=Se:te.sibling=Se,te=Se);return rr&&ya(I,J),ae}for(ce=n(I,ce);!Se.done;J++,Se=O.next())Se=z(ce,I,J,Se.value,q),Se!==null&&(e&&Se.alternate!==null&&ce.delete(Se.key===null?J:Se.key),N=a(Se,N,J),te===null?ae=Se:te.sibling=Se,te=Se);return e&&ce.forEach(function(ve){return t(I,ve)}),rr&&ya(I,J),ae}function R(I,N,O,q){if(typeof O=="object"&&O!==null&&O.type===Vl&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Cf:e:{for(var ae=O.key,te=N;te!==null;){if(te.key===ae){if(ae=O.type,ae===Vl){if(te.tag===7){r(I,te.sibling),N=s(te,O.props.children),N.return=I,I=N;break e}}else if(te.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===wo&&G1(ae)===te.type){r(I,te.sibling),N=s(te,O.props),N.ref=Ld(I,te,O),N.return=I,I=N;break e}r(I,te);break}else t(I,te);te=te.sibling}O.type===Vl?(N=Aa(O.props.children,I.mode,q,O.key),N.return=I,I=N):(q=dp(O.type,O.key,O.props,null,I.mode,q),q.ref=Ld(I,N,O),q.return=I,I=q)}return c(I);case Gl:e:{for(te=O.key;N!==null;){if(N.key===te)if(N.tag===4&&N.stateNode.containerInfo===O.containerInfo&&N.stateNode.implementation===O.implementation){r(I,N.sibling),N=s(N,O.children||[]),N.return=I,I=N;break e}else{r(I,N);break}else t(I,N);N=N.sibling}N=xx(O,I.mode,q),N.return=I,I=N}return c(I);case wo:return te=O._init,R(I,N,te(O._payload),q)}if(Xd(O))return U(I,N,O,q);if(Nd(O))return D(I,N,O,q);If(I,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,N!==null&&N.tag===6?(r(I,N.sibling),N=s(N,O),N.return=I,I=N):(r(I,N),N=vx(O,I.mode,q),N.return=I,I=N),c(I)):r(I,N)}return R}var xc=Y_(!0),q_=Y_(!1),Mp=Ho(null),jp=null,ec=null,F0=null;function W0(){F0=ec=jp=null}function U0(e){var t=Mp.current;Qt(Mp),e._currentValue=t}function Sy(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function dc(e,t){jp=e,F0=ec=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ji=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(F0!==e)if(e={context:e,memoizedValue:t,next:null},ec===null){if(jp===null)throw Error(He(308));ec=e,jp.dependencies={lanes:0,firstContext:e}}else ec=ec.next=e;return t}var Ea=null;function H0(e){Ea===null?Ea=[e]:Ea.push(e)}function K_(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,H0(t)):(r.next=s.next,s.next=r),t.interleaved=r,Os(e,n)}function Os(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ko=!1;function G0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function As(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Rt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Os(e,r)}return s=n.interleaved,s===null?(t.next=t,H0(n)):(t.next=s.next,s.next=t),n.interleaved=t,Os(e,r)}function np(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N0(e,r)}}function V1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=c:a=a.next=c,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ap(e,t,r,n){var s=e.updateQueue;ko=!1;var a=s.firstBaseUpdate,c=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var v=p,y=v.next;v.next=null,c===null?a=y:c.next=y,c=v;var S=e.alternate;S!==null&&(S=S.updateQueue,p=S.lastBaseUpdate,p!==c&&(p===null?S.firstBaseUpdate=y:p.next=y,S.lastBaseUpdate=v))}if(a!==null){var E=s.baseState;c=0,S=y=v=null,p=a;do{var T=p.lane,z=p.eventTime;if((n&T)===T){S!==null&&(S=S.next={eventTime:z,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var U=e,D=p;switch(T=t,z=r,D.tag){case 1:if(U=D.payload,typeof U=="function"){E=U.call(z,E,T);break e}E=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=D.payload,T=typeof U=="function"?U.call(z,E,T):U,T==null)break e;E=dr({},E,T);break e;case 2:ko=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,T=s.effects,T===null?s.effects=[p]:T.push(p))}else z={eventTime:z,lane:T,tag:p.tag,payload:p.payload,callback:p.callback,next:null},S===null?(y=S=z,v=E):S=S.next=z,c|=T;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;T=p,p=T.next,T.next=null,s.lastBaseUpdate=T,s.shared.pending=null}}while(!0);if(S===null&&(v=E),s.baseState=v,s.firstBaseUpdate=y,s.lastBaseUpdate=S,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Oa|=c,e.lanes=c,e.memoizedState=E}}function X1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(He(191,s));s.call(n)}}}var Du={},ss=Ho(Du),wu=Ho(Du),ku=Ho(Du);function Ma(e){if(e===Du)throw Error(He(174));return e}function V0(e,t){switch(qt(ku,t),qt(wu,e),qt(ss,Du),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iy(t,e)}Qt(ss),qt(ss,t)}function yc(){Qt(ss),Qt(wu),Qt(ku)}function Q_(e){Ma(ku.current);var t=Ma(ss.current),r=iy(t,e.type);t!==r&&(qt(wu,e),qt(ss,r))}function X0(e){wu.current===e&&(Qt(ss),Qt(wu))}var ar=Ho(0);function Np(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ux=[];function Y0(){for(var e=0;e<ux.length;e++)ux[e]._workInProgressVersionPrimary=null;ux.length=0}var sp=$s.ReactCurrentDispatcher,hx=$s.ReactCurrentBatchConfig,Pa=0,lr=null,Or=null,zr=null,Tp=!1,iu=!1,Su=0,yO=0;function ti(){throw Error(He(321))}function q0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rn(e[r],t[r]))return!1;return!0}function K0(e,t,r,n,s,a){if(Pa=a,lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sp.current=e===null||e.memoizedState===null?SO:_O,e=r(n,s),iu){a=0;do{if(iu=!1,Su=0,25<=a)throw Error(He(301));a+=1,zr=Or=null,t.updateQueue=null,sp.current=CO,e=r(n,s)}while(iu)}if(sp.current=Pp,t=Or!==null&&Or.next!==null,Pa=0,zr=Or=lr=null,Tp=!1,t)throw Error(He(300));return e}function Z0(){var e=Su!==0;return Su=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?lr.memoizedState=zr=e:zr=zr.next=e,zr}function gn(){if(Or===null){var e=lr.alternate;e=e!==null?e.memoizedState:null}else e=Or.next;var t=zr===null?lr.memoizedState:zr.next;if(t!==null)zr=t,Or=e;else{if(e===null)throw Error(He(310));Or=e,e={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},zr===null?lr.memoizedState=zr=e:zr=zr.next=e}return zr}function _u(e,t){return typeof t=="function"?t(e):t}function fx(e){var t=gn(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=Or,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var c=s.next;s.next=a.next,a.next=c}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var p=c=null,v=null,y=a;do{var S=y.lane;if((Pa&S)===S)v!==null&&(v=v.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),n=y.hasEagerState?y.eagerState:e(n,y.action);else{var E={lane:S,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};v===null?(p=v=E,c=n):v=v.next=E,lr.lanes|=S,Oa|=S}y=y.next}while(y!==null&&y!==a);v===null?c=n:v.next=p,Rn(n,t.memoizedState)||(ji=!0),t.memoizedState=n,t.baseState=c,t.baseQueue=v,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,lr.lanes|=a,Oa|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function px(e){var t=gn(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var c=s=s.next;do a=e(a,c.action),c=c.next;while(c!==s);Rn(a,t.memoizedState)||(ji=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function J_(){}function eC(e,t){var r=lr,n=gn(),s=t(),a=!Rn(n.memoizedState,s);if(a&&(n.memoizedState=s,ji=!0),n=n.queue,Q0(iC.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||zr!==null&&zr.memoizedState.tag&1){if(r.flags|=2048,Cu(9,rC.bind(null,r,n,s,t),void 0,null),Fr===null)throw Error(He(349));Pa&30||tC(r,t,s)}return s}function tC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rC(e,t,r,n){t.value=r,t.getSnapshot=n,nC(t)&&sC(e)}function iC(e,t,r){return r(function(){nC(t)&&sC(e)})}function nC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rn(e,r)}catch{return!0}}function sC(e){var t=Os(e,1);t!==null&&On(t,e,1,-1)}function Y1(e){var t=Zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:e},t.queue=e,e=e.dispatch=kO.bind(null,lr,e),[t.memoizedState,e]}function Cu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function oC(){return gn().memoizedState}function op(e,t,r,n){var s=Zn();lr.flags|=e,s.memoizedState=Cu(1|t,r,void 0,n===void 0?null:n)}function sg(e,t,r,n){var s=gn();n=n===void 0?null:n;var a=void 0;if(Or!==null){var c=Or.memoizedState;if(a=c.destroy,n!==null&&q0(n,c.deps)){s.memoizedState=Cu(t,r,a,n);return}}lr.flags|=e,s.memoizedState=Cu(1|t,r,a,n)}function q1(e,t){return op(8390656,8,e,t)}function Q0(e,t){return sg(2048,8,e,t)}function aC(e,t){return sg(4,2,e,t)}function lC(e,t){return sg(4,4,e,t)}function cC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dC(e,t,r){return r=r!=null?r.concat([e]):null,sg(4,4,cC.bind(null,t,e),r)}function J0(){}function uC(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function hC(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function fC(e,t,r){return Pa&21?(Rn(r,t)||(r=x_(),lr.lanes|=r,Oa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ji=!0),e.memoizedState=r)}function bO(e,t){var r=Ft;Ft=r!==0&&4>r?r:4,e(!0);var n=hx.transition;hx.transition={};try{e(!1),t()}finally{Ft=r,hx.transition=n}}function pC(){return gn().memoizedState}function wO(e,t,r){var n=Lo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gC(e))mC(t,r);else if(r=K_(e,t,r,n),r!==null){var s=gi();On(r,e,n,s),vC(r,t,n)}}function kO(e,t,r){var n=Lo(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gC(e))mC(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,p=a(c,r);if(s.hasEagerState=!0,s.eagerState=p,Rn(p,c)){var v=t.interleaved;v===null?(s.next=s,H0(t)):(s.next=v.next,v.next=s),t.interleaved=s;return}}catch{}finally{}r=K_(e,t,s,n),r!==null&&(s=gi(),On(r,e,n,s),vC(r,t,n))}}function gC(e){var t=e.alternate;return e===lr||t!==null&&t===lr}function mC(e,t){iu=Tp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N0(e,r)}}var Pp={readContext:pn,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},SO={readContext:pn,useCallback:function(e,t){return Zn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:q1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,op(4194308,4,cC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return op(4194308,4,e,t)},useInsertionEffect:function(e,t){return op(4,2,e,t)},useMemo:function(e,t){var r=Zn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=wO.bind(null,lr,e),[n.memoizedState,e]},useRef:function(e){var t=Zn();return e={current:e},t.memoizedState=e},useState:Y1,useDebugValue:J0,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=Y1(!1),t=e[0];return e=bO.bind(null,e[1]),Zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=lr,s=Zn();if(rr){if(r===void 0)throw Error(He(407));r=r()}else{if(r=t(),Fr===null)throw Error(He(349));Pa&30||tC(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,q1(iC.bind(null,n,a,e),[e]),n.flags|=2048,Cu(9,rC.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Zn(),t=Fr.identifierPrefix;if(rr){var r=js,n=Ms;r=(n&~(1<<32-Pn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Su++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_O={readContext:pn,useCallback:uC,useContext:pn,useEffect:Q0,useImperativeHandle:dC,useInsertionEffect:aC,useLayoutEffect:lC,useMemo:hC,useReducer:fx,useRef:oC,useState:function(){return fx(_u)},useDebugValue:J0,useDeferredValue:function(e){var t=gn();return fC(t,Or.memoizedState,e)},useTransition:function(){var e=fx(_u)[0],t=gn().memoizedState;return[e,t]},useMutableSource:J_,useSyncExternalStore:eC,useId:pC,unstable_isNewReconciler:!1},CO={readContext:pn,useCallback:uC,useContext:pn,useEffect:Q0,useImperativeHandle:dC,useInsertionEffect:aC,useLayoutEffect:lC,useMemo:hC,useReducer:px,useRef:oC,useState:function(){return px(_u)},useDebugValue:J0,useDeferredValue:function(e){var t=gn();return Or===null?t.memoizedState=e:fC(t,Or.memoizedState,e)},useTransition:function(){var e=px(_u)[0],t=gn().memoizedState;return[e,t]},useMutableSource:J_,useSyncExternalStore:eC,useId:pC,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=dr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _y(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:dr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var og={isMounted:function(e){return(e=e._reactInternals)?Xa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gi(),s=Lo(e),a=As(n,s);a.payload=t,r!=null&&(a.callback=r),t=Oo(e,a,s),t!==null&&(On(t,e,s,n),np(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gi(),s=Lo(e),a=As(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Oo(e,a,s),t!==null&&(On(t,e,s,n),np(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gi(),n=Lo(e),s=As(r,n);s.tag=2,t!=null&&(s.callback=t),t=Oo(e,s,n),t!==null&&(On(t,e,n,r),np(t,e,n))}};function K1(e,t,r,n,s,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,c):t.prototype&&t.prototype.isPureReactComponent?!vu(r,n)||!vu(s,a):!0}function xC(e,t,r){var n=!1,s=$o,a=t.contextType;return typeof a=="object"&&a!==null?a=pn(a):(s=Ni(t)?Na:ai.current,n=t.contextTypes,a=(n=n!=null)?mc(e,s):$o),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=og,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Z1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&og.enqueueReplaceState(t,t.state,null)}function Cy(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},G0(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=pn(a):(a=Ni(t)?Na:ai.current,s.context=mc(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(_y(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&og.enqueueReplaceState(s,s.state,null),Ap(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bc(e,t){try{var r="",n=t;do r+=JT(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function gx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ey(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var EO=typeof WeakMap=="function"?WeakMap:Map;function yC(e,t,r){r=As(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Rp||(Rp=!0,Iy=n),Ey(e,t)},r}function bC(e,t,r){r=As(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ey(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ey(e,t),typeof n!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),r}function Q1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new EO;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=zO.bind(null,e,t,r),t.then(e,e))}function J1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ek(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=As(-1,1),t.tag=2,Oo(r,t,1))),r.lanes|=1),e)}var MO=$s.ReactCurrentOwner,ji=!1;function fi(e,t,r,n){t.child=e===null?q_(t,null,r,n):xc(t,e.child,r,n)}function tk(e,t,r,n,s){r=r.render;var a=t.ref;return dc(t,s),n=K0(e,t,r,n,a,s),r=Z0(),e!==null&&!ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rs(e,t,s)):(rr&&r&&B0(t),t.flags|=1,fi(e,t,n,s),t.child)}function rk(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!ab(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,wC(e,t,a,n,s)):(e=dp(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var c=a.memoizedProps;if(r=r.compare,r=r!==null?r:vu,r(c,n)&&e.ref===t.ref)return Rs(e,t,s)}return t.flags|=1,e=Io(a,n),e.ref=t.ref,e.return=t,t.child=e}function wC(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(vu(a,n)&&e.ref===t.ref)if(ji=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(ji=!0);else return t.lanes=e.lanes,Rs(e,t,s)}return My(e,t,r,n,s)}function kC(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(rc,$i),$i|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(rc,$i),$i|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,qt(rc,$i),$i|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,qt(rc,$i),$i|=n;return fi(e,t,s,r),t.child}function SC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function My(e,t,r,n,s){var a=Ni(r)?Na:ai.current;return a=mc(t,a),dc(t,s),r=K0(e,t,r,n,a,s),n=Z0(),e!==null&&!ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rs(e,t,s)):(rr&&n&&B0(t),t.flags|=1,fi(e,t,r,s),t.child)}function ik(e,t,r,n,s){if(Ni(r)){var a=!0;_p(t)}else a=!1;if(dc(t,s),t.stateNode===null)ap(e,t),xC(t,r,n),Cy(t,r,n,s),n=!0;else if(e===null){var c=t.stateNode,p=t.memoizedProps;c.props=p;var v=c.context,y=r.contextType;typeof y=="object"&&y!==null?y=pn(y):(y=Ni(r)?Na:ai.current,y=mc(t,y));var S=r.getDerivedStateFromProps,E=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function";E||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==n||v!==y)&&Z1(t,c,n,y),ko=!1;var T=t.memoizedState;c.state=T,Ap(t,n,c,s),v=t.memoizedState,p!==n||T!==v||Ai.current||ko?(typeof S=="function"&&(_y(t,r,S,n),v=t.memoizedState),(p=ko||K1(t,r,p,n,T,v,y))?(E||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=v),c.props=n,c.state=v,c.context=y,n=p):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,Z_(e,t),p=t.memoizedProps,y=t.type===t.elementType?p:jn(t.type,p),c.props=y,E=t.pendingProps,T=c.context,v=r.contextType,typeof v=="object"&&v!==null?v=pn(v):(v=Ni(r)?Na:ai.current,v=mc(t,v));var z=r.getDerivedStateFromProps;(S=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==E||T!==v)&&Z1(t,c,n,v),ko=!1,T=t.memoizedState,c.state=T,Ap(t,n,c,s);var U=t.memoizedState;p!==E||T!==U||Ai.current||ko?(typeof z=="function"&&(_y(t,r,z,n),U=t.memoizedState),(y=ko||K1(t,r,y,n,T,U,v)||!1)?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,U,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,U,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=U),c.props=n,c.state=U,c.context=v,n=y):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),n=!1)}return jy(e,t,r,n,a,s)}function jy(e,t,r,n,s,a){SC(e,t);var c=(t.flags&128)!==0;if(!n&&!c)return s&&W1(t,r,!1),Rs(e,t,a);n=t.stateNode,MO.current=t;var p=c&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&c?(t.child=xc(t,e.child,null,a),t.child=xc(t,null,p,a)):fi(e,t,p,a),t.memoizedState=n.state,s&&W1(t,r,!0),t.child}function _C(e){var t=e.stateNode;t.pendingContext?F1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&F1(e,t.context,!1),V0(e,t.containerInfo)}function nk(e,t,r,n,s){return vc(),z0(s),t.flags|=256,fi(e,t,r,n),t.child}var Ay={dehydrated:null,treeContext:null,retryLane:0};function Ny(e){return{baseLanes:e,cachePool:null,transitions:null}}function CC(e,t,r){var n=t.pendingProps,s=ar.current,a=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(s&2)!==0),p?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qt(ar,s&1),e===null)return ky(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=n.children,e=n.fallback,a?(n=t.mode,a=t.child,c={mode:"hidden",children:c},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=cg(c,n,0,null),e=Aa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ny(r),t.memoizedState=Ay,e):eb(t,c));if(s=e.memoizedState,s!==null&&(p=s.dehydrated,p!==null))return jO(e,t,c,n,p,s,r);if(a){a=n.fallback,c=t.mode,s=e.child,p=s.sibling;var v={mode:"hidden",children:n.children};return!(c&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=v,t.deletions=null):(n=Io(s,v),n.subtreeFlags=s.subtreeFlags&14680064),p!==null?a=Io(p,a):(a=Aa(a,c,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,c=e.child.memoizedState,c=c===null?Ny(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~r,t.memoizedState=Ay,n}return a=e.child,e=a.sibling,n=Io(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function eb(e,t){return t=cg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Df(e,t,r,n){return n!==null&&z0(n),xc(t,e.child,null,r),e=eb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jO(e,t,r,n,s,a,c){if(r)return t.flags&256?(t.flags&=-257,n=gx(Error(He(422))),Df(e,t,c,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=cg({mode:"visible",children:n.children},s,0,null),a=Aa(a,s,c,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&xc(t,e.child,null,c),t.child.memoizedState=Ny(c),t.memoizedState=Ay,a);if(!(t.mode&1))return Df(e,t,c,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var p=n.dgst;return n=p,a=Error(He(419)),n=gx(a,n,void 0),Df(e,t,c,n)}if(p=(c&e.childLanes)!==0,ji||p){if(n=Fr,n!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|c)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Os(e,s),On(n,e,s,-1))}return ob(),n=gx(Error(He(421))),Df(e,t,c,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=FO.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Fi=Po(s.nextSibling),Wi=t,rr=!0,Tn=null,e!==null&&(cn[dn++]=Ms,cn[dn++]=js,cn[dn++]=Ta,Ms=e.id,js=e.overflow,Ta=t),t=eb(t,n.children),t.flags|=4096,t)}function sk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sy(e.return,t,r)}function mx(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function EC(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(fi(e,t,n.children,r),n=ar.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sk(e,r,t);else if(e.tag===19)sk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qt(ar,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Np(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),mx(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Np(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}mx(t,!0,r,null,a);break;case"together":mx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ap(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Oa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,r=Io(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Io(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function AO(e,t,r){switch(t.tag){case 3:_C(t),vc();break;case 5:Q_(t);break;case 1:Ni(t.type)&&_p(t);break;case 4:V0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;qt(Mp,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qt(ar,ar.current&1),t.flags|=128,null):r&t.child.childLanes?CC(e,t,r):(qt(ar,ar.current&1),e=Rs(e,t,r),e!==null?e.sibling:null);qt(ar,ar.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return EC(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qt(ar,ar.current),n)break;return null;case 22:case 23:return t.lanes=0,kC(e,t,r)}return Rs(e,t,r)}var MC,Ty,jC,AC;MC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ty=function(){};jC=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ma(ss.current);var a=null;switch(r){case"input":s=Jx(e,s),n=Jx(e,n),a=[];break;case"select":s=dr({},s,{value:void 0}),n=dr({},n,{value:void 0}),a=[];break;case"textarea":s=ry(e,s),n=ry(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=kp)}ny(r,n);var c;r=null;for(y in s)if(!n.hasOwnProperty(y)&&s.hasOwnProperty(y)&&s[y]!=null)if(y==="style"){var p=s[y];for(c in p)p.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(du.hasOwnProperty(y)?a||(a=[]):(a=a||[]).push(y,null));for(y in n){var v=n[y];if(p=s!=null?s[y]:void 0,n.hasOwnProperty(y)&&v!==p&&(v!=null||p!=null))if(y==="style")if(p){for(c in p)!p.hasOwnProperty(c)||v&&v.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in v)v.hasOwnProperty(c)&&p[c]!==v[c]&&(r||(r={}),r[c]=v[c])}else r||(a||(a=[]),a.push(y,r)),r=v;else y==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,p=p?p.__html:void 0,v!=null&&p!==v&&(a=a||[]).push(y,v)):y==="children"?typeof v!="string"&&typeof v!="number"||(a=a||[]).push(y,""+v):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(du.hasOwnProperty(y)?(v!=null&&y==="onScroll"&&Zt("scroll",e),a||p===v||(a=[])):(a=a||[]).push(y,v))}r&&(a=a||[]).push("style",r);var y=a;(t.updateQueue=y)&&(t.flags|=4)}};AC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Id(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ri(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function NO(e,t,r){var n=t.pendingProps;switch($0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(t),null;case 1:return Ni(t.type)&&Sp(),ri(t),null;case 3:return n=t.stateNode,yc(),Qt(Ai),Qt(ai),Y0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Lf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&($y(Tn),Tn=null))),Ty(e,t),ri(t),null;case 5:X0(t);var s=Ma(ku.current);if(r=t.type,e!==null&&t.stateNode!=null)jC(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(He(166));return ri(t),null}if(e=Ma(ss.current),Lf(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ts]=t,n[bu]=a,e=(t.mode&1)!==0,r){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(s=0;s<qd.length;s++)Zt(qd[s],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":p1(n,a),Zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Zt("invalid",n);break;case"textarea":m1(n,a),Zt("invalid",n)}ny(r,a),s=null;for(var c in a)if(a.hasOwnProperty(c)){var p=a[c];c==="children"?typeof p=="string"?n.textContent!==p&&(a.suppressHydrationWarning!==!0&&Rf(n.textContent,p,e),s=["children",p]):typeof p=="number"&&n.textContent!==""+p&&(a.suppressHydrationWarning!==!0&&Rf(n.textContent,p,e),s=["children",""+p]):du.hasOwnProperty(c)&&p!=null&&c==="onScroll"&&Zt("scroll",n)}switch(r){case"input":Ef(n),g1(n,a,!0);break;case"textarea":Ef(n),v1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=kp)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),r==="select"&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[ts]=t,e[bu]=n,MC(e,t,!1,!1),t.stateNode=e;e:{switch(c=sy(r,n),r){case"dialog":Zt("cancel",e),Zt("close",e),s=n;break;case"iframe":case"object":case"embed":Zt("load",e),s=n;break;case"video":case"audio":for(s=0;s<qd.length;s++)Zt(qd[s],e);s=n;break;case"source":Zt("error",e),s=n;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),s=n;break;case"details":Zt("toggle",e),s=n;break;case"input":p1(e,n),s=Jx(e,n),Zt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=dr({},n,{value:void 0}),Zt("invalid",e);break;case"textarea":m1(e,n),s=ry(e,n),Zt("invalid",e);break;default:s=n}ny(r,s),p=s;for(a in p)if(p.hasOwnProperty(a)){var v=p[a];a==="style"?o_(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&n_(e,v)):a==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&uu(e,v):typeof v=="number"&&uu(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(du.hasOwnProperty(a)?v!=null&&a==="onScroll"&&Zt("scroll",e):v!=null&&_0(e,a,v,c))}switch(r){case"input":Ef(e),g1(e,n,!1);break;case"textarea":Ef(e),v1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bo(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?oc(e,!!n.multiple,a,!1):n.defaultValue!=null&&oc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=kp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ri(t),null;case 6:if(e&&t.stateNode!=null)AC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(He(166));if(r=Ma(ku.current),Ma(ss.current),Lf(t)){if(n=t.stateNode,r=t.memoizedProps,n[ts]=t,(a=n.nodeValue!==r)&&(e=Wi,e!==null))switch(e.tag){case 3:Rf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rf(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ts]=t,t.stateNode=n}return ri(t),null;case 13:if(Qt(ar),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rr&&Fi!==null&&t.mode&1&&!(t.flags&128))X_(),vc(),t.flags|=98560,a=!1;else if(a=Lf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(He(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(He(317));a[ts]=t}else vc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ri(t),a=!1}else Tn!==null&&($y(Tn),Tn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ar.current&1?Lr===0&&(Lr=3):ob())),t.updateQueue!==null&&(t.flags|=4),ri(t),null);case 4:return yc(),Ty(e,t),e===null&&xu(t.stateNode.containerInfo),ri(t),null;case 10:return U0(t.type._context),ri(t),null;case 17:return Ni(t.type)&&Sp(),ri(t),null;case 19:if(Qt(ar),a=t.memoizedState,a===null)return ri(t),null;if(n=(t.flags&128)!==0,c=a.rendering,c===null)if(n)Id(a,!1);else{if(Lr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Np(e),c!==null){for(t.flags|=128,Id(a,!1),n=c.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qt(ar,ar.current&1|2),t.child}e=e.sibling}a.tail!==null&&vr()>wc&&(t.flags|=128,n=!0,Id(a,!1),t.lanes=4194304)}else{if(!n)if(e=Np(c),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Id(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!rr)return ri(t),null}else 2*vr()-a.renderingStartTime>wc&&r!==1073741824&&(t.flags|=128,n=!0,Id(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(r=a.last,r!==null?r.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=vr(),t.sibling=null,r=ar.current,qt(ar,n?r&1|2:r&1),t):(ri(t),null);case 22:case 23:return sb(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$i&1073741824&&(ri(t),t.subtreeFlags&6&&(t.flags|=8192)):ri(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function TO(e,t){switch($0(t),t.tag){case 1:return Ni(t.type)&&Sp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yc(),Qt(Ai),Qt(ai),Y0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return X0(t),null;case 13:if(Qt(ar),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));vc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qt(ar),null;case 4:return yc(),null;case 10:return U0(t.type._context),null;case 22:case 23:return sb(),null;case 24:return null;default:return null}}var Bf=!1,si=!1,PO=typeof WeakSet=="function"?WeakSet:Set,nt=null;function tc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(e,t,n)}else r.current=null}function Py(e,t,r){try{r()}catch(n){fr(e,t,n)}}var ok=!1;function OO(e,t){if(gy=yp,e=R_(),D0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var c=0,p=-1,v=-1,y=0,S=0,E=e,T=null;t:for(;;){for(var z;E!==r||s!==0&&E.nodeType!==3||(p=c+s),E!==a||n!==0&&E.nodeType!==3||(v=c+n),E.nodeType===3&&(c+=E.nodeValue.length),(z=E.firstChild)!==null;)T=E,E=z;for(;;){if(E===e)break t;if(T===r&&++y===s&&(p=c),T===a&&++S===n&&(v=c),(z=E.nextSibling)!==null)break;E=T,T=E.parentNode}E=z}r=p===-1||v===-1?null:{start:p,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(my={focusedElem:e,selectionRange:r},yp=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var U=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var D=U.memoizedProps,R=U.memoizedState,I=t.stateNode,N=I.getSnapshotBeforeUpdate(t.elementType===t.type?D:jn(t.type,D),R);I.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(q){fr(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return U=ok,ok=!1,U}function nu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Py(t,r,a)}s=s.next}while(s!==n)}}function ag(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Oy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function NC(e){var t=e.alternate;t!==null&&(e.alternate=null,NC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ts],delete t[bu],delete t[yy],delete t[gO],delete t[mO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TC(e){return e.tag===5||e.tag===3||e.tag===4}function ak(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ry(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=kp));else if(n!==4&&(e=e.child,e!==null))for(Ry(e,t,r),e=e.sibling;e!==null;)Ry(e,t,r),e=e.sibling}function Ly(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ly(e,t,r),e=e.sibling;e!==null;)Ly(e,t,r),e=e.sibling}var Yr=null,An=!1;function po(e,t,r){for(r=r.child;r!==null;)PC(e,t,r),r=r.sibling}function PC(e,t,r){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(Jp,r)}catch{}switch(r.tag){case 5:si||tc(r,t);case 6:var n=Yr,s=An;Yr=null,po(e,t,r),Yr=n,An=s,Yr!==null&&(An?(e=Yr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yr.removeChild(r.stateNode));break;case 18:Yr!==null&&(An?(e=Yr,r=r.stateNode,e.nodeType===8?cx(e.parentNode,r):e.nodeType===1&&cx(e,r),gu(e)):cx(Yr,r.stateNode));break;case 4:n=Yr,s=An,Yr=r.stateNode.containerInfo,An=!0,po(e,t,r),Yr=n,An=s;break;case 0:case 11:case 14:case 15:if(!si&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&Py(r,t,c),s=s.next}while(s!==n)}po(e,t,r);break;case 1:if(!si&&(tc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(p){fr(r,t,p)}po(e,t,r);break;case 21:po(e,t,r);break;case 22:r.mode&1?(si=(n=si)||r.memoizedState!==null,po(e,t,r),si=n):po(e,t,r);break;default:po(e,t,r)}}function lk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new PO),t.forEach(function(n){var s=WO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function En(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,c=t,p=c;e:for(;p!==null;){switch(p.tag){case 5:Yr=p.stateNode,An=!1;break e;case 3:Yr=p.stateNode.containerInfo,An=!0;break e;case 4:Yr=p.stateNode.containerInfo,An=!0;break e}p=p.return}if(Yr===null)throw Error(He(160));PC(a,c,s),Yr=null,An=!1;var v=s.alternate;v!==null&&(v.return=null),s.return=null}catch(y){fr(s,t,y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)OC(t,e),t=t.sibling}function OC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),qn(e),n&4){try{nu(3,e,e.return),ag(3,e)}catch(D){fr(e,e.return,D)}try{nu(5,e,e.return)}catch(D){fr(e,e.return,D)}}break;case 1:En(t,e),qn(e),n&512&&r!==null&&tc(r,r.return);break;case 5:if(En(t,e),qn(e),n&512&&r!==null&&tc(r,r.return),e.flags&32){var s=e.stateNode;try{uu(s,"")}catch(D){fr(e,e.return,D)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,c=r!==null?r.memoizedProps:a,p=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{p==="input"&&a.type==="radio"&&a.name!=null&&t_(s,a),sy(p,c);var y=sy(p,a);for(c=0;c<v.length;c+=2){var S=v[c],E=v[c+1];S==="style"?o_(s,E):S==="dangerouslySetInnerHTML"?n_(s,E):S==="children"?uu(s,E):_0(s,S,E,y)}switch(p){case"input":ey(s,a);break;case"textarea":r_(s,a);break;case"select":var T=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var z=a.value;z!=null?oc(s,!!a.multiple,z,!1):T!==!!a.multiple&&(a.defaultValue!=null?oc(s,!!a.multiple,a.defaultValue,!0):oc(s,!!a.multiple,a.multiple?[]:"",!1))}s[bu]=a}catch(D){fr(e,e.return,D)}}break;case 6:if(En(t,e),qn(e),n&4){if(e.stateNode===null)throw Error(He(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(D){fr(e,e.return,D)}}break;case 3:if(En(t,e),qn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gu(t.containerInfo)}catch(D){fr(e,e.return,D)}break;case 4:En(t,e),qn(e);break;case 13:En(t,e),qn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ib=vr())),n&4&&lk(e);break;case 22:if(S=r!==null&&r.memoizedState!==null,e.mode&1?(si=(y=si)||S,En(t,e),si=y):En(t,e),qn(e),n&8192){if(y=e.memoizedState!==null,(e.stateNode.isHidden=y)&&!S&&e.mode&1)for(nt=e,S=e.child;S!==null;){for(E=nt=S;nt!==null;){switch(T=nt,z=T.child,T.tag){case 0:case 11:case 14:case 15:nu(4,T,T.return);break;case 1:tc(T,T.return);var U=T.stateNode;if(typeof U.componentWillUnmount=="function"){n=T,r=T.return;try{t=n,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch(D){fr(n,r,D)}}break;case 5:tc(T,T.return);break;case 22:if(T.memoizedState!==null){dk(E);continue}}z!==null?(z.return=T,nt=z):dk(E)}S=S.sibling}e:for(S=null,E=e;;){if(E.tag===5){if(S===null){S=E;try{s=E.stateNode,y?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(p=E.stateNode,v=E.memoizedProps.style,c=v!=null&&v.hasOwnProperty("display")?v.display:null,p.style.display=s_("display",c))}catch(D){fr(e,e.return,D)}}}else if(E.tag===6){if(S===null)try{E.stateNode.nodeValue=y?"":E.memoizedProps}catch(D){fr(e,e.return,D)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;S===E&&(S=null),E=E.return}S===E&&(S=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:En(t,e),qn(e),n&4&&lk(e);break;case 21:break;default:En(t,e),qn(e)}}function qn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(TC(r)){var n=r;break e}r=r.return}throw Error(He(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(uu(s,""),n.flags&=-33);var a=ak(e);Ly(e,a,s);break;case 3:case 4:var c=n.stateNode.containerInfo,p=ak(e);Ry(e,p,c);break;default:throw Error(He(161))}}catch(v){fr(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RO(e,t,r){nt=e,RC(e)}function RC(e,t,r){for(var n=(e.mode&1)!==0;nt!==null;){var s=nt,a=s.child;if(s.tag===22&&n){var c=s.memoizedState!==null||Bf;if(!c){var p=s.alternate,v=p!==null&&p.memoizedState!==null||si;p=Bf;var y=si;if(Bf=c,(si=v)&&!y)for(nt=s;nt!==null;)c=nt,v=c.child,c.tag===22&&c.memoizedState!==null?uk(s):v!==null?(v.return=c,nt=v):uk(s);for(;a!==null;)nt=a,RC(a),a=a.sibling;nt=s,Bf=p,si=y}ck(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,nt=a):ck(e)}}function ck(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:si||ag(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!si)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:jn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&X1(t,a,n);break;case 3:var c=t.updateQueue;if(c!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}X1(t,c,r)}break;case 5:var p=t.stateNode;if(r===null&&t.flags&4){r=p;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var y=t.alternate;if(y!==null){var S=y.memoizedState;if(S!==null){var E=S.dehydrated;E!==null&&gu(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}si||t.flags&512&&Oy(t)}catch(T){fr(t,t.return,T)}}if(t===e){nt=null;break}if(r=t.sibling,r!==null){r.return=t.return,nt=r;break}nt=t.return}}function dk(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,nt=r;break}nt=t.return}}function uk(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ag(4,t)}catch(v){fr(t,r,v)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(v){fr(t,s,v)}}var a=t.return;try{Oy(t)}catch(v){fr(t,a,v)}break;case 5:var c=t.return;try{Oy(t)}catch(v){fr(t,c,v)}}}catch(v){fr(t,t.return,v)}if(t===e){nt=null;break}var p=t.sibling;if(p!==null){p.return=t.return,nt=p;break}nt=t.return}}var LO=Math.ceil,Op=$s.ReactCurrentDispatcher,tb=$s.ReactCurrentOwner,hn=$s.ReactCurrentBatchConfig,Rt=0,Fr=null,Er=null,Qr=0,$i=0,rc=Ho(0),Lr=0,Eu=null,Oa=0,lg=0,rb=0,su=null,Ei=null,ib=0,wc=1/0,Ss=null,Rp=!1,Iy=null,Ro=null,$f=!1,Mo=null,Lp=0,ou=0,Dy=null,lp=-1,cp=0;function gi(){return Rt&6?vr():lp!==-1?lp:lp=vr()}function Lo(e){return e.mode&1?Rt&2&&Qr!==0?Qr&-Qr:xO.transition!==null?(cp===0&&(cp=x_()),cp):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:C_(e.type)),e):1}function On(e,t,r,n){if(50<ou)throw ou=0,Dy=null,Error(He(185));Ru(e,r,n),(!(Rt&2)||e!==Fr)&&(e===Fr&&(!(Rt&2)&&(lg|=r),Lr===4&&_o(e,Qr)),Ti(e,n),r===1&&Rt===0&&!(t.mode&1)&&(wc=vr()+500,ng&&Go()))}function Ti(e,t){var r=e.callbackNode;xP(e,t);var n=xp(e,e===Fr?Qr:0);if(n===0)r!==null&&b1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&b1(r),t===1)e.tag===0?vO(hk.bind(null,e)):H_(hk.bind(null,e)),fO(function(){!(Rt&6)&&Go()}),r=null;else{switch(y_(n)){case 1:r=A0;break;case 4:r=m_;break;case 16:r=vp;break;case 536870912:r=v_;break;default:r=vp}r=WC(r,LC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function LC(e,t){if(lp=-1,cp=0,Rt&6)throw Error(He(327));var r=e.callbackNode;if(uc()&&e.callbackNode!==r)return null;var n=xp(e,e===Fr?Qr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ip(e,n);else{t=n;var s=Rt;Rt|=2;var a=DC();(Fr!==e||Qr!==t)&&(Ss=null,wc=vr()+500,ja(e,t));do try{BO();break}catch(p){IC(e,p)}while(!0);W0(),Op.current=a,Rt=s,Er!==null?t=0:(Fr=null,Qr=0,t=Lr)}if(t!==0){if(t===2&&(s=dy(e),s!==0&&(n=s,t=By(e,s))),t===1)throw r=Eu,ja(e,0),_o(e,n),Ti(e,vr()),r;if(t===6)_o(e,n);else{if(s=e.current.alternate,!(n&30)&&!IO(s)&&(t=Ip(e,n),t===2&&(a=dy(e),a!==0&&(n=a,t=By(e,a))),t===1))throw r=Eu,ja(e,0),_o(e,n),Ti(e,vr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(He(345));case 2:ba(e,Ei,Ss);break;case 3:if(_o(e,n),(n&130023424)===n&&(t=ib+500-vr(),10<t)){if(xp(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){gi(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=xy(ba.bind(null,e,Ei,Ss),t);break}ba(e,Ei,Ss);break;case 4:if(_o(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var c=31-Pn(n);a=1<<c,c=t[c],c>s&&(s=c),n&=~a}if(n=s,n=vr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LO(n/1960))-n,10<n){e.timeoutHandle=xy(ba.bind(null,e,Ei,Ss),n);break}ba(e,Ei,Ss);break;case 5:ba(e,Ei,Ss);break;default:throw Error(He(329))}}}return Ti(e,vr()),e.callbackNode===r?LC.bind(null,e):null}function By(e,t){var r=su;return e.current.memoizedState.isDehydrated&&(ja(e,t).flags|=256),e=Ip(e,t),e!==2&&(t=Ei,Ei=r,t!==null&&$y(t)),e}function $y(e){Ei===null?Ei=e:Ei.push.apply(Ei,e)}function IO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Rn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _o(e,t){for(t&=~rb,t&=~lg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pn(t),n=1<<r;e[r]=-1,t&=~n}}function hk(e){if(Rt&6)throw Error(He(327));uc();var t=xp(e,0);if(!(t&1))return Ti(e,vr()),null;var r=Ip(e,t);if(e.tag!==0&&r===2){var n=dy(e);n!==0&&(t=n,r=By(e,n))}if(r===1)throw r=Eu,ja(e,0),_o(e,t),Ti(e,vr()),r;if(r===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ba(e,Ei,Ss),Ti(e,vr()),null}function nb(e,t){var r=Rt;Rt|=1;try{return e(t)}finally{Rt=r,Rt===0&&(wc=vr()+500,ng&&Go())}}function Ra(e){Mo!==null&&Mo.tag===0&&!(Rt&6)&&uc();var t=Rt;Rt|=1;var r=hn.transition,n=Ft;try{if(hn.transition=null,Ft=1,e)return e()}finally{Ft=n,hn.transition=r,Rt=t,!(Rt&6)&&Go()}}function sb(){$i=rc.current,Qt(rc)}function ja(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hO(r)),Er!==null)for(r=Er.return;r!==null;){var n=r;switch($0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sp();break;case 3:yc(),Qt(Ai),Qt(ai),Y0();break;case 5:X0(n);break;case 4:yc();break;case 13:Qt(ar);break;case 19:Qt(ar);break;case 10:U0(n.type._context);break;case 22:case 23:sb()}r=r.return}if(Fr=e,Er=e=Io(e.current,null),Qr=$i=t,Lr=0,Eu=null,rb=lg=Oa=0,Ei=su=null,Ea!==null){for(t=0;t<Ea.length;t++)if(r=Ea[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var c=a.next;a.next=s,n.next=c}r.pending=n}Ea=null}return e}function IC(e,t){do{var r=Er;try{if(W0(),sp.current=Pp,Tp){for(var n=lr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Tp=!1}if(Pa=0,zr=Or=lr=null,iu=!1,Su=0,tb.current=null,r===null||r.return===null){Lr=1,Eu=t,Er=null;break}e:{var a=e,c=r.return,p=r,v=t;if(t=Qr,p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var y=v,S=p,E=S.tag;if(!(S.mode&1)&&(E===0||E===11||E===15)){var T=S.alternate;T?(S.updateQueue=T.updateQueue,S.memoizedState=T.memoizedState,S.lanes=T.lanes):(S.updateQueue=null,S.memoizedState=null)}var z=J1(c);if(z!==null){z.flags&=-257,ek(z,c,p,a,t),z.mode&1&&Q1(a,y,t),t=z,v=y;var U=t.updateQueue;if(U===null){var D=new Set;D.add(v),t.updateQueue=D}else U.add(v);break e}else{if(!(t&1)){Q1(a,y,t),ob();break e}v=Error(He(426))}}else if(rr&&p.mode&1){var R=J1(c);if(R!==null){!(R.flags&65536)&&(R.flags|=256),ek(R,c,p,a,t),z0(bc(v,p));break e}}a=v=bc(v,p),Lr!==4&&(Lr=2),su===null?su=[a]:su.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=yC(a,v,t);V1(a,I);break e;case 1:p=v;var N=a.type,O=a.stateNode;if(!(a.flags&128)&&(typeof N.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ro===null||!Ro.has(O)))){a.flags|=65536,t&=-t,a.lanes|=t;var q=bC(a,p,t);V1(a,q);break e}}a=a.return}while(a!==null)}$C(r)}catch(ae){t=ae,Er===r&&r!==null&&(Er=r=r.return);continue}break}while(!0)}function DC(){var e=Op.current;return Op.current=Pp,e===null?Pp:e}function ob(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Fr===null||!(Oa&268435455)&&!(lg&268435455)||_o(Fr,Qr)}function Ip(e,t){var r=Rt;Rt|=2;var n=DC();(Fr!==e||Qr!==t)&&(Ss=null,ja(e,t));do try{DO();break}catch(s){IC(e,s)}while(!0);if(W0(),Rt=r,Op.current=n,Er!==null)throw Error(He(261));return Fr=null,Qr=0,Lr}function DO(){for(;Er!==null;)BC(Er)}function BO(){for(;Er!==null&&!cP();)BC(Er)}function BC(e){var t=FC(e.alternate,e,$i);e.memoizedProps=e.pendingProps,t===null?$C(e):Er=t,tb.current=null}function $C(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=TO(r,t),r!==null){r.flags&=32767,Er=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lr=6,Er=null;return}}else if(r=NO(r,t,$i),r!==null){Er=r;return}if(t=t.sibling,t!==null){Er=t;return}Er=t=e}while(t!==null);Lr===0&&(Lr=5)}function ba(e,t,r){var n=Ft,s=hn.transition;try{hn.transition=null,Ft=1,$O(e,t,r,n)}finally{hn.transition=s,Ft=n}return null}function $O(e,t,r,n){do uc();while(Mo!==null);if(Rt&6)throw Error(He(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(yP(e,a),e===Fr&&(Er=Fr=null,Qr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$f||($f=!0,WC(vp,function(){return uc(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=hn.transition,hn.transition=null;var c=Ft;Ft=1;var p=Rt;Rt|=4,tb.current=null,OO(e,r),OC(r,e),sO(my),yp=!!gy,my=gy=null,e.current=r,RO(r),dP(),Rt=p,Ft=c,hn.transition=a}else e.current=r;if($f&&($f=!1,Mo=e,Lp=s),a=e.pendingLanes,a===0&&(Ro=null),fP(r.stateNode),Ti(e,vr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Rp)throw Rp=!1,e=Iy,Iy=null,e;return Lp&1&&e.tag!==0&&uc(),a=e.pendingLanes,a&1?e===Dy?ou++:(ou=0,Dy=e):ou=0,Go(),null}function uc(){if(Mo!==null){var e=y_(Lp),t=hn.transition,r=Ft;try{if(hn.transition=null,Ft=16>e?16:e,Mo===null)var n=!1;else{if(e=Mo,Mo=null,Lp=0,Rt&6)throw Error(He(331));var s=Rt;for(Rt|=4,nt=e.current;nt!==null;){var a=nt,c=a.child;if(nt.flags&16){var p=a.deletions;if(p!==null){for(var v=0;v<p.length;v++){var y=p[v];for(nt=y;nt!==null;){var S=nt;switch(S.tag){case 0:case 11:case 15:nu(8,S,a)}var E=S.child;if(E!==null)E.return=S,nt=E;else for(;nt!==null;){S=nt;var T=S.sibling,z=S.return;if(NC(S),S===y){nt=null;break}if(T!==null){T.return=z,nt=T;break}nt=z}}}var U=a.alternate;if(U!==null){var D=U.child;if(D!==null){U.child=null;do{var R=D.sibling;D.sibling=null,D=R}while(D!==null)}}nt=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,nt=c;else e:for(;nt!==null;){if(a=nt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,nt=I;break e}nt=a.return}}var N=e.current;for(nt=N;nt!==null;){c=nt;var O=c.child;if(c.subtreeFlags&2064&&O!==null)O.return=c,nt=O;else e:for(c=N;nt!==null;){if(p=nt,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:ag(9,p)}}catch(ae){fr(p,p.return,ae)}if(p===c){nt=null;break e}var q=p.sibling;if(q!==null){q.return=p.return,nt=q;break e}nt=p.return}}if(Rt=s,Go(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(Jp,e)}catch{}n=!0}return n}finally{Ft=r,hn.transition=t}}return!1}function fk(e,t,r){t=bc(r,t),t=yC(e,t,1),e=Oo(e,t,1),t=gi(),e!==null&&(Ru(e,1,t),Ti(e,t))}function fr(e,t,r){if(e.tag===3)fk(e,e,r);else for(;t!==null;){if(t.tag===3){fk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ro===null||!Ro.has(n))){e=bc(r,e),e=bC(t,e,1),t=Oo(t,e,1),e=gi(),t!==null&&(Ru(t,1,e),Ti(t,e));break}}t=t.return}}function zO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gi(),e.pingedLanes|=e.suspendedLanes&r,Fr===e&&(Qr&r)===r&&(Lr===4||Lr===3&&(Qr&130023424)===Qr&&500>vr()-ib?ja(e,0):rb|=r),Ti(e,t)}function zC(e,t){t===0&&(e.mode&1?(t=Af,Af<<=1,!(Af&130023424)&&(Af=4194304)):t=1);var r=gi();e=Os(e,t),e!==null&&(Ru(e,t,r),Ti(e,r))}function FO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),zC(e,r)}function WO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(He(314))}n!==null&&n.delete(t),zC(e,r)}var FC;FC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ai.current)ji=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ji=!1,AO(e,t,r);ji=!!(e.flags&131072)}else ji=!1,rr&&t.flags&1048576&&G_(t,Ep,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ap(e,t),e=t.pendingProps;var s=mc(t,ai.current);dc(t,r),s=K0(null,t,n,e,s,r);var a=Z0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(n)?(a=!0,_p(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,G0(t),s.updater=og,t.stateNode=s,s._reactInternals=t,Cy(t,n,e,r),t=jy(null,t,n,!0,a,r)):(t.tag=0,rr&&a&&B0(t),fi(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ap(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=HO(n),e=jn(n,e),s){case 0:t=My(null,t,n,e,r);break e;case 1:t=ik(null,t,n,e,r);break e;case 11:t=tk(null,t,n,e,r);break e;case 14:t=rk(null,t,n,jn(n.type,e),r);break e}throw Error(He(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),My(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),ik(e,t,n,s,r);case 3:e:{if(_C(t),e===null)throw Error(He(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Z_(e,t),Ap(t,n,null,r);var c=t.memoizedState;if(n=c.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=bc(Error(He(423)),t),t=nk(e,t,n,r,s);break e}else if(n!==s){s=bc(Error(He(424)),t),t=nk(e,t,n,r,s);break e}else for(Fi=Po(t.stateNode.containerInfo.firstChild),Wi=t,rr=!0,Tn=null,r=q_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vc(),n===s){t=Rs(e,t,r);break e}fi(e,t,n,r)}t=t.child}return t;case 5:return Q_(t),e===null&&ky(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,c=s.children,vy(n,s)?c=null:a!==null&&vy(n,a)&&(t.flags|=32),SC(e,t),fi(e,t,c,r),t.child;case 6:return e===null&&ky(t),null;case 13:return CC(e,t,r);case 4:return V0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xc(t,null,n,r):fi(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),tk(e,t,n,s,r);case 7:return fi(e,t,t.pendingProps,r),t.child;case 8:return fi(e,t,t.pendingProps.children,r),t.child;case 12:return fi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,c=s.value,qt(Mp,n._currentValue),n._currentValue=c,a!==null)if(Rn(a.value,c)){if(a.children===s.children&&!Ai.current){t=Rs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var p=a.dependencies;if(p!==null){c=a.child;for(var v=p.firstContext;v!==null;){if(v.context===n){if(a.tag===1){v=As(-1,r&-r),v.tag=2;var y=a.updateQueue;if(y!==null){y=y.shared;var S=y.pending;S===null?v.next=v:(v.next=S.next,S.next=v),y.pending=v}}a.lanes|=r,v=a.alternate,v!==null&&(v.lanes|=r),Sy(a.return,r,t),p.lanes|=r;break}v=v.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(He(341));c.lanes|=r,p=c.alternate,p!==null&&(p.lanes|=r),Sy(c,r,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}fi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,dc(t,r),s=pn(s),n=n(s),t.flags|=1,fi(e,t,n,r),t.child;case 14:return n=t.type,s=jn(n,t.pendingProps),s=jn(n.type,s),rk(e,t,n,s,r);case 15:return wC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),ap(e,t),t.tag=1,Ni(n)?(e=!0,_p(t)):e=!1,dc(t,r),xC(t,n,s),Cy(t,n,s,r),jy(null,t,n,!0,e,r);case 19:return EC(e,t,r);case 22:return kC(e,t,r)}throw Error(He(156,t.tag))};function WC(e,t){return g_(e,t)}function UO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,r,n){return new UO(e,t,r,n)}function ab(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HO(e){if(typeof e=="function")return ab(e)?1:0;if(e!=null){if(e=e.$$typeof,e===E0)return 11;if(e===M0)return 14}return 2}function Io(e,t){var r=e.alternate;return r===null?(r=un(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function dp(e,t,r,n,s,a){var c=2;if(n=e,typeof e=="function")ab(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Vl:return Aa(r.children,s,a,t);case C0:c=8,s|=8;break;case qx:return e=un(12,r,t,s|2),e.elementType=qx,e.lanes=a,e;case Kx:return e=un(13,r,t,s),e.elementType=Kx,e.lanes=a,e;case Zx:return e=un(19,r,t,s),e.elementType=Zx,e.lanes=a,e;case QS:return cg(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case KS:c=10;break e;case ZS:c=9;break e;case E0:c=11;break e;case M0:c=14;break e;case wo:c=16,n=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=un(c,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Aa(e,t,r,n){return e=un(7,e,n,t),e.lanes=r,e}function cg(e,t,r,n){return e=un(22,e,n,t),e.elementType=QS,e.lanes=r,e.stateNode={isHidden:!1},e}function vx(e,t,r){return e=un(6,e,null,t),e.lanes=r,e}function xx(e,t,r){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qv(0),this.expirationTimes=Qv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qv(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lb(e,t,r,n,s,a,c,p,v){return e=new GO(e,t,r,p,v),t===1?(t=1,a===!0&&(t|=8)):t=0,a=un(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},G0(a),e}function VO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function UC(e){if(!e)return $o;e=e._reactInternals;e:{if(Xa(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var r=e.type;if(Ni(r))return U_(e,r,t)}return t}function HC(e,t,r,n,s,a,c,p,v){return e=lb(r,n,!0,e,s,a,c,p,v),e.context=UC(null),r=e.current,n=gi(),s=Lo(r),a=As(n,s),a.callback=t??null,Oo(r,a,s),e.current.lanes=s,Ru(e,s,n),Ti(e,n),e}function dg(e,t,r,n){var s=t.current,a=gi(),c=Lo(s);return r=UC(r),t.context===null?t.context=r:t.pendingContext=r,t=As(a,c),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Oo(s,t,c),e!==null&&(On(e,s,c,a),np(e,s,c)),c}function Dp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cb(e,t){pk(e,t),(e=e.alternate)&&pk(e,t)}function XO(){return null}var GC=typeof reportError=="function"?reportError:function(e){console.error(e)};function db(e){this._internalRoot=e}ug.prototype.render=db.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));dg(e,t,null,null)};ug.prototype.unmount=db.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ra(function(){dg(null,e,null,null)}),t[Ps]=null}};function ug(e){this._internalRoot=e}ug.prototype.unstable_scheduleHydration=function(e){if(e){var t=k_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<So.length&&t!==0&&t<So[r].priority;r++);So.splice(r,0,e),r===0&&__(e)}};function ub(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gk(){}function YO(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var y=Dp(c);a.call(y)}}var c=HC(t,n,e,0,null,!1,!1,"",gk);return e._reactRootContainer=c,e[Ps]=c.current,xu(e.nodeType===8?e.parentNode:e),Ra(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var p=n;n=function(){var y=Dp(v);p.call(y)}}var v=lb(e,0,!1,null,null,!1,!1,"",gk);return e._reactRootContainer=v,e[Ps]=v.current,xu(e.nodeType===8?e.parentNode:e),Ra(function(){dg(t,v,r,n)}),v}function fg(e,t,r,n,s){var a=r._reactRootContainer;if(a){var c=a;if(typeof s=="function"){var p=s;s=function(){var v=Dp(c);p.call(v)}}dg(t,c,e,s)}else c=YO(r,t,e,s,n);return Dp(c)}b_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yd(t.pendingLanes);r!==0&&(N0(t,r|1),Ti(t,vr()),!(Rt&6)&&(wc=vr()+500,Go()))}break;case 13:Ra(function(){var n=Os(e,1);if(n!==null){var s=gi();On(n,e,1,s)}}),cb(e,1)}};T0=function(e){if(e.tag===13){var t=Os(e,134217728);if(t!==null){var r=gi();On(t,e,134217728,r)}cb(e,134217728)}};w_=function(e){if(e.tag===13){var t=Lo(e),r=Os(e,t);if(r!==null){var n=gi();On(r,e,t,n)}cb(e,t)}};k_=function(){return Ft};S_=function(e,t){var r=Ft;try{return Ft=e,t()}finally{Ft=r}};ay=function(e,t,r){switch(t){case"input":if(ey(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ig(n);if(!s)throw Error(He(90));e_(n),ey(n,s)}}}break;case"textarea":r_(e,r);break;case"select":t=r.value,t!=null&&oc(e,!!r.multiple,t,!1)}};c_=nb;d_=Ra;var qO={usingClientEntryPoint:!1,Events:[Iu,Kl,ig,a_,l_,nb]},Dd={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KO={bundleType:Dd.bundleType,version:Dd.version,rendererPackageName:Dd.rendererPackageName,rendererConfig:Dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=f_(e),e===null?null:e.stateNode},findFiberByHostInstance:Dd.findFiberByHostInstance||XO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{Jp=zf.inject(KO),ns=zf}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qO;Gi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ub(t))throw Error(He(200));return VO(e,t,null,r)};Gi.createRoot=function(e,t){if(!ub(e))throw Error(He(299));var r=!1,n="",s=GC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lb(e,1,!1,null,null,r,!1,n,s),e[Ps]=t.current,xu(e.nodeType===8?e.parentNode:e),new db(t)};Gi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=f_(t),e=e===null?null:e.stateNode,e};Gi.flushSync=function(e){return Ra(e)};Gi.hydrate=function(e,t,r){if(!hg(t))throw Error(He(200));return fg(null,e,t,!0,r)};Gi.hydrateRoot=function(e,t,r){if(!ub(e))throw Error(He(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",c=GC;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),t=HC(t,null,e,1,r??null,s,!1,a,c),e[Ps]=t.current,xu(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ug(t)};Gi.render=function(e,t,r){if(!hg(t))throw Error(He(200));return fg(null,e,t,!1,r)};Gi.unmountComponentAtNode=function(e){if(!hg(e))throw Error(He(40));return e._reactRootContainer?(Ra(function(){fg(null,null,e,!1,function(){e._reactRootContainer=null,e[Ps]=null})}),!0):!1};Gi.unstable_batchedUpdates=nb;Gi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hg(r))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return fg(e,t,r,!1,n)};Gi.version="18.3.1-next-f1338f8080-20240426";function VC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VC)}catch(e){console.error(e)}}VC(),VS.exports=Gi;var Pc=VS.exports;const ZO=Pu(Pc);var XC,mk=Pc;XC=Xx.createRoot=mk.createRoot,Xx.hydrateRoot=mk.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mu.apply(this,arguments)}var jo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jo||(jo={}));const vk="popstate";function QO(e){e===void 0&&(e={});function t(s,a){let{pathname:c="/",search:p="",hash:v=""}=Ya(s.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),zy("",{pathname:c,search:p,hash:v},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let c=s.document.querySelector("base"),p="";if(c&&c.getAttribute("href")){let v=s.location.href,y=v.indexOf("#");p=y===-1?v:v.slice(0,y)}return p+"#"+(typeof a=="string"?a:Bp(a))}function n(s,a){hb(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return eR(t,r,n,e)}function cr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JO(){return Math.random().toString(36).substr(2,8)}function xk(e,t){return{usr:e.state,key:e.key,idx:t}}function zy(e,t,r,n){return r===void 0&&(r=null),Mu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ya(t):t,{state:r,key:t&&t.key||n||JO()})}function Bp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ya(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function eR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,c=s.history,p=jo.Pop,v=null,y=S();y==null&&(y=0,c.replaceState(Mu({},c.state,{idx:y}),""));function S(){return(c.state||{idx:null}).idx}function E(){p=jo.Pop;let R=S(),I=R==null?null:R-y;y=R,v&&v({action:p,location:D.location,delta:I})}function T(R,I){p=jo.Push;let N=zy(D.location,R,I);r&&r(N,R),y=S()+1;let O=xk(N,y),q=D.createHref(N);try{c.pushState(O,"",q)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;s.location.assign(q)}a&&v&&v({action:p,location:D.location,delta:1})}function z(R,I){p=jo.Replace;let N=zy(D.location,R,I);r&&r(N,R),y=S();let O=xk(N,y),q=D.createHref(N);c.replaceState(O,"",q),a&&v&&v({action:p,location:D.location,delta:0})}function U(R){let I=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof R=="string"?R:Bp(R);return N=N.replace(/ $/,"%20"),cr(I,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,I)}let D={get action(){return p},get location(){return e(s,c)},listen(R){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(vk,E),v=R,()=>{s.removeEventListener(vk,E),v=null}},createHref(R){return t(s,R)},createURL:U,encodeLocation(R){let I=U(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:T,replace:z,go(R){return c.go(R)}};return D}var yk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(yk||(yk={}));function tR(e,t,r){return r===void 0&&(r="/"),rR(e,t,r)}function rR(e,t,r,n){let s=typeof t=="string"?Ya(t):t,a=kc(s.pathname||"/",r);if(a==null)return null;let c=YC(e);iR(c);let p=null;for(let v=0;p==null&&v<c.length;++v){let y=pR(a);p=hR(c[v],y)}return p}function YC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,c,p)=>{let v={relativePath:p===void 0?a.path||"":p,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};v.relativePath.startsWith("/")&&(cr(v.relativePath.startsWith(n),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(n.length));let y=Do([n,v.relativePath]),S=r.concat(v);a.children&&a.children.length>0&&(cr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),YC(a.children,t,S,y)),!(a.path==null&&!a.index)&&t.push({path:y,score:dR(y,a.index),routesMeta:S})};return e.forEach((a,c)=>{var p;if(a.path===""||!((p=a.path)!=null&&p.includes("?")))s(a,c);else for(let v of qC(a.path))s(a,c,v)}),t}function qC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let c=qC(n.join("/")),p=[];return p.push(...c.map(v=>v===""?a:[a,v].join("/"))),s&&p.push(...c),p.map(v=>e.startsWith("/")&&v===""?"/":v)}function iR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nR=/^:[\w-]+$/,sR=3,oR=2,aR=1,lR=10,cR=-2,bk=e=>e==="*";function dR(e,t){let r=e.split("/"),n=r.length;return r.some(bk)&&(n+=cR),t&&(n+=oR),r.filter(s=>!bk(s)).reduce((s,a)=>s+(nR.test(a)?sR:a===""?aR:lR),n)}function uR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function hR(e,t,r){let{routesMeta:n}=e,s={},a="/",c=[];for(let p=0;p<n.length;++p){let v=n[p],y=p===n.length-1,S=a==="/"?t:t.slice(a.length)||"/",E=Fy({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},S),T=v.route;if(!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:Do([a,E.pathname]),pathnameBase:xR(Do([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=Do([a,E.pathnameBase]))}return c}function Fy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=fR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:n.reduce((y,S,E)=>{let{paramName:T,isOptional:z}=S;if(T==="*"){let D=p[E]||"";c=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const U=p[E];return z&&!U?y[T]=void 0:y[T]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:e}}function fR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),hb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,v)=>(n.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function pR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function gR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ya(e):e;return{pathname:r?r.startsWith("/")?r:mR(r,t):t,search:yR(n),hash:bR(s)}}function mR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function fb(e,t){let r=vR(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pb(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ya(e):(s=Mu({},e),cr(!s.pathname||!s.pathname.includes("?"),yx("?","pathname","search",s)),cr(!s.pathname||!s.pathname.includes("#"),yx("#","pathname","hash",s)),cr(!s.search||!s.search.includes("#"),yx("#","search","hash",s)));let a=e===""||s.pathname==="",c=a?"/":s.pathname,p;if(c==null)p=r;else{let E=t.length-1;if(!n&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;s.pathname=T.join("/")}p=E>=0?t[E]:"/"}let v=gR(s,p),y=c&&c!=="/"&&c.endsWith("/"),S=(a||c===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(y||S)&&(v.pathname+="/"),v}const Do=e=>e.join("/").replace(/\/\/+/g,"/"),xR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KC=["post","put","patch","delete"];new Set(KC);const kR=["get",...KC];new Set(kR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(this,arguments)}const pg=M.createContext(null),ZC=M.createContext(null),zs=M.createContext(null),gg=M.createContext(null),Fs=M.createContext({outlet:null,matches:[],isDataRoute:!1}),QC=M.createContext(null);function SR(e,t){let{relative:r}=t===void 0?{}:t;Oc()||cr(!1);let{basename:n,navigator:s}=M.useContext(zs),{hash:a,pathname:c,search:p}=mg(e,{relative:r}),v=c;return n!=="/"&&(v=c==="/"?n:Do([n,c])),s.createHref({pathname:v,search:p,hash:a})}function Oc(){return M.useContext(gg)!=null}function qa(){return Oc()||cr(!1),M.useContext(gg).location}function JC(e){M.useContext(zs).static||M.useLayoutEffect(e)}function gb(){let{isDataRoute:e}=M.useContext(Fs);return e?IR():_R()}function _R(){Oc()||cr(!1);let e=M.useContext(pg),{basename:t,future:r,navigator:n}=M.useContext(zs),{matches:s}=M.useContext(Fs),{pathname:a}=qa(),c=JSON.stringify(fb(s,r.v7_relativeSplatPath)),p=M.useRef(!1);return JC(()=>{p.current=!0}),M.useCallback(function(y,S){if(S===void 0&&(S={}),!p.current)return;if(typeof y=="number"){n.go(y);return}let E=pb(y,JSON.parse(c),a,S.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Do([t,E.pathname])),(S.replace?n.replace:n.push)(E,S.state,S)},[t,n,c,a,e])}function eE(){let{matches:e}=M.useContext(Fs),t=e[e.length-1];return t?t.params:{}}function mg(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=M.useContext(zs),{matches:s}=M.useContext(Fs),{pathname:a}=qa(),c=JSON.stringify(fb(s,n.v7_relativeSplatPath));return M.useMemo(()=>pb(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function CR(e,t){return ER(e,t)}function ER(e,t,r,n){Oc()||cr(!1);let{navigator:s}=M.useContext(zs),{matches:a}=M.useContext(Fs),c=a[a.length-1],p=c?c.params:{};c&&c.pathname;let v=c?c.pathnameBase:"/";c&&c.route;let y=qa(),S;if(t){var E;let R=typeof t=="string"?Ya(t):t;v==="/"||(E=R.pathname)!=null&&E.startsWith(v)||cr(!1),S=R}else S=y;let T=S.pathname||"/",z=T;if(v!=="/"){let R=v.replace(/^\//,"").split("/");z="/"+T.replace(/^\//,"").split("/").slice(R.length).join("/")}let U=tR(e,{pathname:z}),D=TR(U&&U.map(R=>Object.assign({},R,{params:Object.assign({},p,R.params),pathname:Do([v,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?v:Do([v,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,r,n);return t&&D?M.createElement(gg.Provider,{value:{location:ju({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:jo.Pop}},D):D}function MR(){let e=LR(),t=wR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:s},r):null,null)}const jR=M.createElement(MR,null);class AR extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?M.createElement(Fs.Provider,{value:this.props.routeContext},M.createElement(QC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NR(e){let{routeContext:t,match:r,children:n}=e,s=M.useContext(pg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(Fs.Provider,{value:t},n)}function TR(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,p=(s=r)==null?void 0:s.errors;if(p!=null){let S=c.findIndex(E=>E.route.id&&(p==null?void 0:p[E.route.id])!==void 0);S>=0||cr(!1),c=c.slice(0,Math.min(c.length,S+1))}let v=!1,y=-1;if(r&&n&&n.v7_partialHydration)for(let S=0;S<c.length;S++){let E=c[S];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=S),E.route.id){let{loaderData:T,errors:z}=r,U=E.route.loader&&T[E.route.id]===void 0&&(!z||z[E.route.id]===void 0);if(E.route.lazy||U){v=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((S,E,T)=>{let z,U=!1,D=null,R=null;r&&(z=p&&E.route.id?p[E.route.id]:void 0,D=E.route.errorElement||jR,v&&(y<0&&T===0?(DR("route-fallback"),U=!0,R=null):y===T&&(U=!0,R=E.route.hydrateFallbackElement||null)));let I=t.concat(c.slice(0,T+1)),N=()=>{let O;return z?O=D:U?O=R:E.route.Component?O=M.createElement(E.route.Component,null):E.route.element?O=E.route.element:O=S,M.createElement(NR,{match:E,routeContext:{outlet:S,matches:I,isDataRoute:r!=null},children:O})};return r&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?M.createElement(AR,{location:r.location,revalidation:r.revalidation,component:D,error:z,children:N(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):N()},null)}var tE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tE||{}),rE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rE||{});function PR(e){let t=M.useContext(pg);return t||cr(!1),t}function OR(e){let t=M.useContext(ZC);return t||cr(!1),t}function RR(e){let t=M.useContext(Fs);return t||cr(!1),t}function iE(e){let t=RR(),r=t.matches[t.matches.length-1];return r.route.id||cr(!1),r.route.id}function LR(){var e;let t=M.useContext(QC),r=OR(),n=iE();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function IR(){let{router:e}=PR(tE.UseNavigateStable),t=iE(rE.UseNavigateStable),r=M.useRef(!1);return JC(()=>{r.current=!0}),M.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ju({fromRouteId:t},a)))},[e,t])}const wk={};function DR(e,t,r){wk[e]||(wk[e]=!0)}function BR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nE(e){let{to:t,replace:r,state:n,relative:s}=e;Oc()||cr(!1);let{future:a,static:c}=M.useContext(zs),{matches:p}=M.useContext(Fs),{pathname:v}=qa(),y=gb(),S=pb(t,fb(p,a.v7_relativeSplatPath),v,s==="path"),E=JSON.stringify(S);return M.useEffect(()=>y(JSON.parse(E),{replace:r,state:n,relative:s}),[y,E,s,r,n]),null}function Bi(e){cr(!1)}function $R(e){let{basename:t="/",children:r=null,location:n,navigationType:s=jo.Pop,navigator:a,static:c=!1,future:p}=e;Oc()&&cr(!1);let v=t.replace(/^\/*/,"/"),y=M.useMemo(()=>({basename:v,navigator:a,static:c,future:ju({v7_relativeSplatPath:!1},p)}),[v,p,a,c]);typeof n=="string"&&(n=Ya(n));let{pathname:S="/",search:E="",hash:T="",state:z=null,key:U="default"}=n,D=M.useMemo(()=>{let R=kc(S,v);return R==null?null:{location:{pathname:R,search:E,hash:T,state:z,key:U},navigationType:s}},[v,S,E,T,z,U,s]);return D==null?null:M.createElement(zs.Provider,{value:y},M.createElement(gg.Provider,{children:r,value:D}))}function zR(e){let{children:t,location:r}=e;return CR(Wy(t),r)}new Promise(()=>{});function Wy(e,t){t===void 0&&(t=[]);let r=[];return M.Children.forEach(e,(n,s)=>{if(!M.isValidElement(n))return;let a=[...t,s];if(n.type===M.Fragment){r.push.apply(r,Wy(n.props.children,a));return}n.type!==Bi&&cr(!1),!n.props.index||!n.props.children||cr(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Wy(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$p.apply(this,arguments)}function sE(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function FR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WR(e,t){return e.button===0&&(!t||t==="_self")&&!FR(e)}function Uy(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function UR(e,t){let r=Uy(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const HR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],GR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],VR="6";try{window.__reactRouterVersion=VR}catch{}const XR=M.createContext({isTransitioning:!1}),YR="startTransition",kk=w0[YR];function qR(e){let{basename:t,children:r,future:n,window:s}=e,a=M.useRef();a.current==null&&(a.current=QO({window:s,v5Compat:!0}));let c=a.current,[p,v]=M.useState({action:c.action,location:c.location}),{v7_startTransition:y}=n||{},S=M.useCallback(E=>{y&&kk?kk(()=>v(E)):v(E)},[v,y]);return M.useLayoutEffect(()=>c.listen(S),[c,S]),M.useEffect(()=>BR(n),[n]),M.createElement($R,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:c,future:n})}const KR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mr=M.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:c,state:p,target:v,to:y,preventScrollReset:S,viewTransition:E}=t,T=sE(t,HR),{basename:z}=M.useContext(zs),U,D=!1;if(typeof y=="string"&&ZR.test(y)&&(U=y,KR))try{let O=new URL(window.location.href),q=y.startsWith("//")?new URL(O.protocol+y):new URL(y),ae=kc(q.pathname,z);q.origin===O.origin&&ae!=null?y=ae+q.search+q.hash:D=!0}catch{}let R=SR(y,{relative:s}),I=JR(y,{replace:c,state:p,target:v,preventScrollReset:S,relative:s,viewTransition:E});function N(O){n&&n(O),O.defaultPrevented||I(O)}return M.createElement("a",$p({},T,{href:U||R,onClick:D||a?n:N,ref:r,target:v}))}),go=M.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:c=!1,style:p,to:v,viewTransition:y,children:S}=t,E=sE(t,GR),T=mg(v,{relative:E.relative}),z=qa(),U=M.useContext(ZC),{navigator:D,basename:R}=M.useContext(zs),I=U!=null&&eL(T)&&y===!0,N=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,O=z.pathname,q=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;s||(O=O.toLowerCase(),q=q?q.toLowerCase():null,N=N.toLowerCase()),q&&R&&(q=kc(q,R)||q);const ae=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let te=O===N||!c&&O.startsWith(N)&&O.charAt(ae)==="/",ce=q!=null&&(q===N||!c&&q.startsWith(N)&&q.charAt(N.length)==="/"),J={isActive:te,isPending:ce,isTransitioning:I},we=te?n:void 0,Se;typeof a=="function"?Se=a(J):Se=[a,te?"active":null,ce?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let be=typeof p=="function"?p(J):p;return M.createElement(Mr,$p({},E,{"aria-current":we,className:Se,ref:r,style:be,to:v,viewTransition:y}),typeof S=="function"?S(J):S)});var Hy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hy||(Hy={}));var Sk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Sk||(Sk={}));function QR(e){let t=M.useContext(pg);return t||cr(!1),t}function JR(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:p}=t===void 0?{}:t,v=gb(),y=qa(),S=mg(e,{relative:c});return M.useCallback(E=>{if(WR(E,r)){E.preventDefault();let T=n!==void 0?n:Bp(y)===Bp(S);v(e,{replace:T,state:s,preventScrollReset:a,relative:c,viewTransition:p})}},[y,v,S,n,s,r,e,a,c,p])}function oE(e){let t=M.useRef(Uy(e)),r=M.useRef(!1),n=qa(),s=M.useMemo(()=>UR(n.search,r.current?null:t.current),[n.search]),a=gb(),c=M.useCallback((p,v)=>{const y=Uy(typeof p=="function"?p(s):p);r.current=!0,a("?"+y,v)},[a,s]);return[s,c]}function eL(e,t){t===void 0&&(t={});let r=M.useContext(XR);r==null&&cr(!1);let{basename:n}=QR(Hy.useViewTransitionState),s=mg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=kc(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=kc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Fy(s.pathname,c)!=null||Fy(s.pathname,a)!=null}function fn(e,t){const r=M.useRef(null),n="OFC";M.useEffect(()=>{r.current===null&&(r.current=document.title);const s=e==null?void 0:e.trim();return document.title=s?`${n} - ${s}`:n,()=>{if(r.current!==null){const a=s?`${n} - ${s}`:n;document.title===a&&(document.title=r.current)}}},[e,t==null?void 0:t.preserveOnUnmount])}function aE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=aE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function lE(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=aE(e))&&(n&&(n+=" "),n+=t);return n}const mb="-",tL=e=>{const t=iL(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const p=c.split(mb);return p[0]===""&&p.length!==1&&p.shift(),cE(p,t)||rL(c)},getConflictingClassGroupIds:(c,p)=>{const v=r[c]||[];return p&&n[c]?[...v,...n[c]]:v}}},cE=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?cE(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(mb);return(c=t.validators.find(({validator:p})=>p(a)))==null?void 0:c.classGroupId},_k=/^\[(.+)\]$/,rL=e=>{if(_k.test(e)){const t=_k.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},iL=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return sL(Object.entries(e.classGroups),r).forEach(([a,c])=>{Gy(c,n,a,t)}),n},Gy=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Ck(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(nL(s)){Gy(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,c])=>{Gy(c,Ck(t,a),r,n)})})},Ck=(e,t)=>{let r=e;return t.split(mb).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},nL=e=>e.isThemeGetter,sL=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,p])=>[t+c,p])):a);return[r,s]}):e,oL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,c)=>{r.set(a,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let c=r.get(a);if(c!==void 0)return c;if((c=n.get(a))!==void 0)return s(a,c),c},set(a,c){r.has(a)?r.set(a,c):s(a,c)}}},dE="!",aL=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,c=p=>{const v=[];let y=0,S=0,E;for(let R=0;R<p.length;R++){let I=p[R];if(y===0){if(I===s&&(n||p.slice(R,R+a)===t)){v.push(p.slice(S,R)),S=R+a;continue}if(I==="/"){E=R;continue}}I==="["?y++:I==="]"&&y--}const T=v.length===0?p:p.substring(S),z=T.startsWith(dE),U=z?T.substring(1):T,D=E&&E>S?E-S:void 0;return{modifiers:v,hasImportantModifier:z,baseClassName:U,maybePostfixModifierPosition:D}};return r?p=>r({className:p,parseClassName:c}):c},lL=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},cL=e=>({cache:oL(e.cacheSize),parseClassName:aL(e),...tL(e)}),dL=/\s+/,uL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],c=e.trim().split(dL);let p="";for(let v=c.length-1;v>=0;v-=1){const y=c[v],{modifiers:S,hasImportantModifier:E,baseClassName:T,maybePostfixModifierPosition:z}=r(y);let U=!!z,D=n(U?T.substring(0,z):T);if(!D){if(!U){p=y+(p.length>0?" "+p:p);continue}if(D=n(T),!D){p=y+(p.length>0?" "+p:p);continue}U=!1}const R=lL(S).join(":"),I=E?R+dE:R,N=I+D;if(a.includes(N))continue;a.push(N);const O=s(D,U);for(let q=0;q<O.length;++q){const ae=O[q];a.push(I+ae)}p=y+(p.length>0?" "+p:p)}return p};function hL(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=uE(t))&&(n&&(n+=" "),n+=r);return n}const uE=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=uE(e[n]))&&(r&&(r+=" "),r+=t);return r};function fL(e,...t){let r,n,s,a=c;function c(v){const y=t.reduce((S,E)=>E(S),e());return r=cL(y),n=r.cache.get,s=r.cache.set,a=p,p(v)}function p(v){const y=n(v);if(y)return y;const S=uL(v,r);return s(v,S),S}return function(){return a(hL.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},hE=/^\[(?:([a-z-]+):)?(.+)\]$/i,pL=/^\d+\/\d+$/,gL=new Set(["px","full","screen"]),mL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ks=e=>hc(e)||gL.has(e)||pL.test(e),mo=e=>Rc(e,"length",jL),hc=e=>!!e&&!Number.isNaN(Number(e)),bx=e=>Rc(e,"number",hc),Bd=e=>!!e&&Number.isInteger(Number(e)),wL=e=>e.endsWith("%")&&hc(e.slice(0,-1)),Et=e=>hE.test(e),vo=e=>mL.test(e),kL=new Set(["length","size","percentage"]),SL=e=>Rc(e,kL,fE),_L=e=>Rc(e,"position",fE),CL=new Set(["image","url"]),EL=e=>Rc(e,CL,NL),ML=e=>Rc(e,"",AL),$d=()=>!0,Rc=(e,t,r)=>{const n=hE.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},jL=e=>vL.test(e)&&!xL.test(e),fE=()=>!1,AL=e=>yL.test(e),NL=e=>bL.test(e),TL=()=>{const e=Kt("colors"),t=Kt("spacing"),r=Kt("blur"),n=Kt("brightness"),s=Kt("borderColor"),a=Kt("borderRadius"),c=Kt("borderSpacing"),p=Kt("borderWidth"),v=Kt("contrast"),y=Kt("grayscale"),S=Kt("hueRotate"),E=Kt("invert"),T=Kt("gap"),z=Kt("gradientColorStops"),U=Kt("gradientColorStopPositions"),D=Kt("inset"),R=Kt("margin"),I=Kt("opacity"),N=Kt("padding"),O=Kt("saturate"),q=Kt("scale"),ae=Kt("sepia"),te=Kt("skew"),ce=Kt("space"),J=Kt("translate"),we=()=>["auto","contain","none"],Se=()=>["auto","hidden","clip","visible","scroll"],be=()=>["auto",Et,t],ve=()=>[Et,t],je=()=>["",ks,mo],Fe=()=>["auto",hc,Et],Ye=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>["start","end","center","between","around","evenly","stretch"],Me=()=>["","0",Et],$e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ie=()=>[hc,Et];return{cacheSize:500,separator:":",theme:{colors:[$d],spacing:[ks,mo],blur:["none","",vo,Et],brightness:Ie(),borderColor:[e],borderRadius:["none","","full",vo,Et],borderSpacing:ve(),borderWidth:je(),contrast:Ie(),grayscale:Me(),hueRotate:Ie(),invert:Me(),gap:ve(),gradientColorStops:[e],gradientColorStopPositions:[wL,mo],inset:be(),margin:be(),opacity:Ie(),padding:ve(),saturate:Ie(),scale:Ie(),sepia:Me(),skew:Ie(),space:ve(),translate:ve()},classGroups:{aspect:[{aspect:["auto","square","video",Et]}],container:["container"],columns:[{columns:[vo]}],"break-after":[{"break-after":$e()}],"break-before":[{"break-before":$e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ye(),Et]}],overflow:[{overflow:Se()}],"overflow-x":[{"overflow-x":Se()}],"overflow-y":[{"overflow-y":Se()}],overscroll:[{overscroll:we()}],"overscroll-x":[{"overscroll-x":we()}],"overscroll-y":[{"overscroll-y":we()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[D]}],"inset-x":[{"inset-x":[D]}],"inset-y":[{"inset-y":[D]}],start:[{start:[D]}],end:[{end:[D]}],top:[{top:[D]}],right:[{right:[D]}],bottom:[{bottom:[D]}],left:[{left:[D]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bd,Et]}],basis:[{basis:be()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Et]}],grow:[{grow:Me()}],shrink:[{shrink:Me()}],order:[{order:["first","last","none",Bd,Et]}],"grid-cols":[{"grid-cols":[$d]}],"col-start-end":[{col:["auto",{span:["full",Bd,Et]},Et]}],"col-start":[{"col-start":Fe()}],"col-end":[{"col-end":Fe()}],"grid-rows":[{"grid-rows":[$d]}],"row-start-end":[{row:["auto",{span:[Bd,Et]},Et]}],"row-start":[{"row-start":Fe()}],"row-end":[{"row-end":Fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Et]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...he()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...he(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...he(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[ce]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ce]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Et,t]}],"min-w":[{"min-w":[Et,t,"min","max","fit"]}],"max-w":[{"max-w":[Et,t,"none","full","min","max","fit","prose",{screen:[vo]},vo]}],h:[{h:[Et,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Et,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Et,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Et,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vo,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bx]}],"font-family":[{font:[$d]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Et]}],"line-clamp":[{"line-clamp":["none",hc,bx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ks,Et]}],"list-image":[{"list-image":["none",Et]}],"list-style-type":[{list:["none","disc","decimal",Et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ks,mo]}],"underline-offset":[{"underline-offset":["auto",ks,Et]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ve()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ye(),_L]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[U]}],"gradient-via-pos":[{via:[U]}],"gradient-to-pos":[{to:[U]}],"gradient-from":[{from:[z]}],"gradient-via":[{via:[z]}],"gradient-to":[{to:[z]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[ks,Et]}],"outline-w":[{outline:[ks,mo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:je()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[ks,mo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vo,ML]}],"shadow-color":[{shadow:[$d]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...ge(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",vo,Et]}],grayscale:[{grayscale:[y]}],"hue-rotate":[{"hue-rotate":[S]}],invert:[{invert:[E]}],saturate:[{saturate:[O]}],sepia:[{sepia:[ae]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[S]}],"backdrop-invert":[{"backdrop-invert":[E]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Et]}],duration:[{duration:Ie()}],ease:[{ease:["linear","in","out","in-out",Et]}],delay:[{delay:Ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Bd,Et]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[te]}],"skew-y":[{"skew-y":[te]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Et]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Et]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ve()}],"scroll-mx":[{"scroll-mx":ve()}],"scroll-my":[{"scroll-my":ve()}],"scroll-ms":[{"scroll-ms":ve()}],"scroll-me":[{"scroll-me":ve()}],"scroll-mt":[{"scroll-mt":ve()}],"scroll-mr":[{"scroll-mr":ve()}],"scroll-mb":[{"scroll-mb":ve()}],"scroll-ml":[{"scroll-ml":ve()}],"scroll-p":[{"scroll-p":ve()}],"scroll-px":[{"scroll-px":ve()}],"scroll-py":[{"scroll-py":ve()}],"scroll-ps":[{"scroll-ps":ve()}],"scroll-pe":[{"scroll-pe":ve()}],"scroll-pt":[{"scroll-pt":ve()}],"scroll-pr":[{"scroll-pr":ve()}],"scroll-pb":[{"scroll-pb":ve()}],"scroll-pl":[{"scroll-pl":ve()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Et]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ks,mo,bx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PL=fL(TL);function gt(...e){return PL(lE(e))}const pr=M.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:gt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));pr.displayName="Card";const qr=({className:e,...t})=>h.jsx("div",{className:gt("flex flex-col space-y-1.5 p-6",e),...t}),Kr=({className:e,...t})=>h.jsx("h3",{className:gt("text-2xl font-semibold leading-none tracking-tight",e),...t}),pi=({className:e,...t})=>h.jsx("p",{className:gt("text-sm text-muted-foreground",e),...t}),xr=({className:e,...t})=>h.jsx("div",{className:gt("p-6 pt-0",e),...t}),Lc=e=>{let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return Math.abs(t)},pE=(e,t)=>Math.floor(e/Math.pow(10,t)%10),Vy=(e,t)=>!(pE(e,t)%2),ni=(e,t,r)=>{const n=e%t;return r&&pE(e,r)%2===0?-n:n},La=(e,t,r)=>t[e%r],OL=e=>{e.slice(0,1)==="#"&&(e=e.slice(1));const t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16);return(t*299+r*587+n*114)/1e3>=128?"#000000":"#FFFFFF"},RL=4,Xt=80;function LL(e,t){const r=Lc(e),n=t&&t.length;return Array.from({length:RL},(s,a)=>({color:La(r+a,t,n),translateX:ni(r*(a+1),Xt/2-(a+17),1),translateY:ni(r*(a+1),Xt/2-(a+17),2),rotate:ni(r*(a+1),360),isSquare:Vy(r,2)}))}const Ek=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=LL(e,t),p=M.useId();return h.jsxs("svg",{viewBox:"0 0 "+Xt+" "+Xt,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:Xt,height:Xt,children:h.jsx("rect",{width:Xt,height:Xt,rx:n?void 0:Xt*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${p})`,children:[h.jsx("rect",{width:Xt,height:Xt,fill:c[0].color}),h.jsx("rect",{x:(Xt-60)/2,y:(Xt-20)/2,width:Xt,height:c[1].isSquare?Xt:Xt/8,fill:c[1].color,transform:"translate("+c[1].translateX+" "+c[1].translateY+") rotate("+c[1].rotate+" "+Xt/2+" "+Xt/2+")"}),h.jsx("circle",{cx:Xt/2,cy:Xt/2,fill:c[2].color,r:Xt/5,transform:"translate("+c[2].translateX+" "+c[2].translateY+")"}),h.jsx("line",{x1:0,y1:Xt/2,x2:Xt,y2:Xt/2,strokeWidth:2,stroke:c[3].color,transform:"translate("+c[3].translateX+" "+c[3].translateY+") rotate("+c[3].rotate+" "+Xt/2+" "+Xt/2+")"})]})]})},ga=90,IL=5;function DL(e,t){const r=Lc(e),n=t&&t.length,s=Array.from({length:IL},(c,p)=>La(r+p,t,n)),a=[];return a[0]=s[0],a[1]=s[1],a[2]=s[1],a[3]=s[2],a[4]=s[2],a[5]=s[3],a[6]=s[3],a[7]=s[0],a[8]=s[4],a}const BL=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=DL(e,t),p=Jn.useId();return h.jsxs("svg",{viewBox:"0 0 "+ga+" "+ga,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:ga,height:ga,children:h.jsx("rect",{width:ga,height:ga,rx:n?void 0:ga*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${p})`,children:[h.jsx("path",{d:"M0 0h90v45H0z",fill:c[0]}),h.jsx("path",{d:"M0 45h90v45H0z",fill:c[1]}),h.jsx("path",{d:"M83 45a38 38 0 00-76 0h76z",fill:c[2]}),h.jsx("path",{d:"M83 45a38 38 0 01-76 0h76z",fill:c[3]}),h.jsx("path",{d:"M77 45a32 32 0 10-64 0h64z",fill:c[4]}),h.jsx("path",{d:"M77 45a32 32 0 11-64 0h64z",fill:c[5]}),h.jsx("path",{d:"M71 45a26 26 0 00-52 0h52z",fill:c[6]}),h.jsx("path",{d:"M71 45a26 26 0 01-52 0h52z",fill:c[7]}),h.jsx("circle",{cx:45,cy:45,r:23,fill:c[8]})]})]})},$L=64,ma=80;function zL(e,t){const r=Lc(e),n=t&&t.length;return Array.from({length:$L},(s,a)=>La(r%(a+1),t,n))}const FL=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=zL(e,t),p=M.useId();return h.jsxs("svg",{viewBox:"0 0 "+ma+" "+ma,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:p,"mask-type":"alpha",maskUnits:"userSpaceOnUse",x:0,y:0,width:ma,height:ma,children:h.jsx("rect",{width:ma,height:ma,rx:n?void 0:ma*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${p})`,children:[h.jsx("rect",{width:10,height:10,fill:c[0]}),h.jsx("rect",{x:20,width:10,height:10,fill:c[1]}),h.jsx("rect",{x:40,width:10,height:10,fill:c[2]}),h.jsx("rect",{x:60,width:10,height:10,fill:c[3]}),h.jsx("rect",{x:10,width:10,height:10,fill:c[4]}),h.jsx("rect",{x:30,width:10,height:10,fill:c[5]}),h.jsx("rect",{x:50,width:10,height:10,fill:c[6]}),h.jsx("rect",{x:70,width:10,height:10,fill:c[7]}),h.jsx("rect",{y:10,width:10,height:10,fill:c[8]}),h.jsx("rect",{y:20,width:10,height:10,fill:c[9]}),h.jsx("rect",{y:30,width:10,height:10,fill:c[10]}),h.jsx("rect",{y:40,width:10,height:10,fill:c[11]}),h.jsx("rect",{y:50,width:10,height:10,fill:c[12]}),h.jsx("rect",{y:60,width:10,height:10,fill:c[13]}),h.jsx("rect",{y:70,width:10,height:10,fill:c[14]}),h.jsx("rect",{x:20,y:10,width:10,height:10,fill:c[15]}),h.jsx("rect",{x:20,y:20,width:10,height:10,fill:c[16]}),h.jsx("rect",{x:20,y:30,width:10,height:10,fill:c[17]}),h.jsx("rect",{x:20,y:40,width:10,height:10,fill:c[18]}),h.jsx("rect",{x:20,y:50,width:10,height:10,fill:c[19]}),h.jsx("rect",{x:20,y:60,width:10,height:10,fill:c[20]}),h.jsx("rect",{x:20,y:70,width:10,height:10,fill:c[21]}),h.jsx("rect",{x:40,y:10,width:10,height:10,fill:c[22]}),h.jsx("rect",{x:40,y:20,width:10,height:10,fill:c[23]}),h.jsx("rect",{x:40,y:30,width:10,height:10,fill:c[24]}),h.jsx("rect",{x:40,y:40,width:10,height:10,fill:c[25]}),h.jsx("rect",{x:40,y:50,width:10,height:10,fill:c[26]}),h.jsx("rect",{x:40,y:60,width:10,height:10,fill:c[27]}),h.jsx("rect",{x:40,y:70,width:10,height:10,fill:c[28]}),h.jsx("rect",{x:60,y:10,width:10,height:10,fill:c[29]}),h.jsx("rect",{x:60,y:20,width:10,height:10,fill:c[30]}),h.jsx("rect",{x:60,y:30,width:10,height:10,fill:c[31]}),h.jsx("rect",{x:60,y:40,width:10,height:10,fill:c[32]}),h.jsx("rect",{x:60,y:50,width:10,height:10,fill:c[33]}),h.jsx("rect",{x:60,y:60,width:10,height:10,fill:c[34]}),h.jsx("rect",{x:60,y:70,width:10,height:10,fill:c[35]}),h.jsx("rect",{x:10,y:10,width:10,height:10,fill:c[36]}),h.jsx("rect",{x:10,y:20,width:10,height:10,fill:c[37]}),h.jsx("rect",{x:10,y:30,width:10,height:10,fill:c[38]}),h.jsx("rect",{x:10,y:40,width:10,height:10,fill:c[39]}),h.jsx("rect",{x:10,y:50,width:10,height:10,fill:c[40]}),h.jsx("rect",{x:10,y:60,width:10,height:10,fill:c[41]}),h.jsx("rect",{x:10,y:70,width:10,height:10,fill:c[42]}),h.jsx("rect",{x:30,y:10,width:10,height:10,fill:c[43]}),h.jsx("rect",{x:30,y:20,width:10,height:10,fill:c[44]}),h.jsx("rect",{x:30,y:30,width:10,height:10,fill:c[45]}),h.jsx("rect",{x:30,y:40,width:10,height:10,fill:c[46]}),h.jsx("rect",{x:30,y:50,width:10,height:10,fill:c[47]}),h.jsx("rect",{x:30,y:60,width:10,height:10,fill:c[48]}),h.jsx("rect",{x:30,y:70,width:10,height:10,fill:c[49]}),h.jsx("rect",{x:50,y:10,width:10,height:10,fill:c[50]}),h.jsx("rect",{x:50,y:20,width:10,height:10,fill:c[51]}),h.jsx("rect",{x:50,y:30,width:10,height:10,fill:c[52]}),h.jsx("rect",{x:50,y:40,width:10,height:10,fill:c[53]}),h.jsx("rect",{x:50,y:50,width:10,height:10,fill:c[54]}),h.jsx("rect",{x:50,y:60,width:10,height:10,fill:c[55]}),h.jsx("rect",{x:50,y:70,width:10,height:10,fill:c[56]}),h.jsx("rect",{x:70,y:10,width:10,height:10,fill:c[57]}),h.jsx("rect",{x:70,y:20,width:10,height:10,fill:c[58]}),h.jsx("rect",{x:70,y:30,width:10,height:10,fill:c[59]}),h.jsx("rect",{x:70,y:40,width:10,height:10,fill:c[60]}),h.jsx("rect",{x:70,y:50,width:10,height:10,fill:c[61]}),h.jsx("rect",{x:70,y:60,width:10,height:10,fill:c[62]}),h.jsx("rect",{x:70,y:70,width:10,height:10,fill:c[63]})]})]})},hr=36;function WL(e,t){const r=Lc(e),n=t&&t.length,s=La(r,t,n),a=ni(r,10,1),c=a<5?a+hr/9:a,p=ni(r,10,2),v=p<5?p+hr/9:p;return{wrapperColor:s,faceColor:OL(s),backgroundColor:La(r+13,t,n),wrapperTranslateX:c,wrapperTranslateY:v,wrapperRotate:ni(r,360),wrapperScale:1+ni(r,hr/12)/10,isMouthOpen:Vy(r,2),isCircle:Vy(r,1),eyeSpread:ni(r,5),mouthSpread:ni(r,3),faceRotate:ni(r,10,3),faceTranslateX:c>hr/6?c/2:ni(r,8,1),faceTranslateY:v>hr/6?v/2:ni(r,7,2)}}const Mk=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=WL(e,t),p=M.useId();return h.jsxs("svg",{viewBox:"0 0 "+hr+" "+hr,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:hr,height:hr,children:h.jsx("rect",{width:hr,height:hr,rx:n?void 0:hr*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${p})`,children:[h.jsx("rect",{width:hr,height:hr,fill:c.backgroundColor}),h.jsx("rect",{x:"0",y:"0",width:hr,height:hr,transform:"translate("+c.wrapperTranslateX+" "+c.wrapperTranslateY+") rotate("+c.wrapperRotate+" "+hr/2+" "+hr/2+") scale("+c.wrapperScale+")",fill:c.wrapperColor,rx:c.isCircle?hr:hr/6}),h.jsxs("g",{transform:"translate("+c.faceTranslateX+" "+c.faceTranslateY+") rotate("+c.faceRotate+" "+hr/2+" "+hr/2+")",children:[c.isMouthOpen?h.jsx("path",{d:"M15 "+(19+c.mouthSpread)+"c2 1 4 1 6 0",stroke:c.faceColor,fill:"none",strokeLinecap:"round"}):h.jsx("path",{d:"M13,"+(19+c.mouthSpread)+" a1,0.75 0 0,0 10,0",fill:c.faceColor}),h.jsx("rect",{x:14-c.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:c.faceColor}),h.jsx("rect",{x:20+c.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:c.faceColor})]})]})]})},UL=4,_i=80;function HL(e,t){const r=Lc(e),n=t&&t.length;return Array.from({length:UL},(s,a)=>La(r+a,t,n))}const GL=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=HL(e,t),p=e.replace(/\s/g,""),v=M.useId();return h.jsxs("svg",{viewBox:"0 0 "+_i+" "+_i,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:v,maskUnits:"userSpaceOnUse",x:0,y:0,width:_i,height:_i,children:h.jsx("rect",{width:_i,height:_i,rx:n?void 0:_i*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${v})`,children:[h.jsx("path",{fill:"url(#gradient_paint0_linear_"+p+")",d:"M0 0h80v40H0z"}),h.jsx("path",{fill:"url(#gradient_paint1_linear_"+p+")",d:"M0 40h80v40H0z"})]}),h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"gradient_paint0_linear_"+p,x1:_i/2,y1:0,x2:_i/2,y2:_i/2,gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{stopColor:c[0]}),h.jsx("stop",{offset:1,stopColor:c[1]})]}),h.jsxs("linearGradient",{id:"gradient_paint1_linear_"+p,x1:_i/2,y1:_i/2,x2:_i/2,y2:_i,gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{stopColor:c[2]}),h.jsx("stop",{offset:1,stopColor:c[3]})]})]})]})},VL=3,ii=80;function XL(e,t){const r=Lc(e),n=t&&t.length;return Array.from({length:VL},(s,a)=>({color:La(r+a,t,n),translateX:ni(r*(a+1),ii/10,1),translateY:ni(r*(a+1),ii/10,2),scale:1.2+ni(r*(a+1),ii/20)/10,rotate:ni(r*(a+1),360,1)}))}const gE=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=XL(e,t),p=M.useId();return h.jsxs("svg",{viewBox:"0 0 "+ii+" "+ii,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:ii,height:ii,children:h.jsx("rect",{width:ii,height:ii,rx:n?void 0:ii*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${p})`,children:[h.jsx("rect",{width:ii,height:ii,fill:c[0].color}),h.jsx("path",{filter:`url(#filter_${p})`,d:"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z",fill:c[1].color,transform:"translate("+c[1].translateX+" "+c[1].translateY+") rotate("+c[1].rotate+" "+ii/2+" "+ii/2+") scale("+c[2].scale+")"}),h.jsx("path",{filter:`url(#filter_${p})`,style:{mixBlendMode:"overlay"},d:"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z",fill:c[2].color,transform:"translate("+c[2].translateX+" "+c[2].translateY+") rotate("+c[2].rotate+" "+ii/2+" "+ii/2+") scale("+c[2].scale+")"})]}),h.jsx("defs",{children:h.jsxs("filter",{id:`filter_${p}`,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[h.jsx("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),h.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),h.jsx("feGaussianBlur",{stdDeviation:7,result:"effect1_foregroundBlur"})]})})]})},YL={pixel:FL,bauhaus:Ek,ring:BL,beam:Mk,sunset:GL,marble:gE,geometric:Mk,abstract:Ek},qL=({variant:e="marble",colors:t=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"],name:r="Clara Barton",title:n=!1,size:s="40px",square:a=!1,...c})=>{const p=YL[e]||gE;return h.jsx(p,{colors:t,name:r,title:n,size:s,square:a,...c})},jk=new Map,mE=new Set;function vb(e,t=48,r="default"){if(!e)return"";const n=`${e}-${t}`,s=jk.get(n);if(s)return s;if(mE.has(e))return"";const c=`https://unavatar.io/twitter/${e.startsWith("@")?e.slice(1):e}?size=${t}&fallback=false&format=jpeg&quality=80`;return jk.set(n,c),c}function KL(e){if(e){const t=e.startsWith("@")?e.slice(1):e;mE.add(t),console.warn(`[Avatar] Failed to load Twitter avatar for: @${t}`)}}const ZL="modulepreload",QL=function(e){return"/"+e},Ak={},Bu=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(r.map(v=>{if(v=QL(v),v in Ak)return;Ak[v]=!0;const y=v.endsWith(".css"),S=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":ZL,y||(E.as="script"),E.crossOrigin="",E.href=v,p&&E.setAttribute("nonce",p),document.head.appendChild(E),y)return new Promise((T,z)=>{E.addEventListener("load",T),E.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${v}`)))})}))}function a(c){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=c,window.dispatchEvent(p),!p.defaultPrevented)throw c}return s.then(c=>{for(const p of c||[])p.status==="rejected"&&a(p.reason);return t().catch(a)})},JL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bu(async()=>{const{default:n}=await Promise.resolve().then(()=>Ic);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class xb extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Nk extends xb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Tk extends xb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Pk extends xb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Xy||(Xy={}));var eI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{y(n.next(S))}catch(E){c(E)}}function v(S){try{y(n.throw(S))}catch(E){c(E)}}function y(S){S.done?a(S.value):s(S.value).then(p,v)}y((n=n.apply(e,t||[])).next())})};class tI{constructor(t,{headers:r={},customFetch:n,region:s=Xy.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=JL(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return eI(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:c,signal:p}=r;let v={},{region:y}=r;y||(y=this.region);const S=new URL(`${this.url}/${t}`);y&&y!=="any"&&(v["x-region"]=y,S.searchParams.set("forceFunctionRegion",y));let E;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=c):typeof c=="string"?(v["Content-Type"]="text/plain",E=c):typeof FormData<"u"&&c instanceof FormData?E=c:(v["Content-Type"]="application/json",E=JSON.stringify(c)));const T=yield this.fetch(S.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),s),body:E,signal:p}).catch(R=>{throw R.name==="AbortError"?R:new Nk(R)}),z=T.headers.get("x-relay-error");if(z&&z==="true")throw new Tk(T);if(!T.ok)throw new Pk(T);let U=((n=T.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),D;return U==="application/json"?D=yield T.json():U==="application/octet-stream"?D=yield T.blob():U==="text/event-stream"?D=T:U==="multipart/form-data"?D=yield T.formData():D=yield T.text(),{data:D,error:null,response:T}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Nk(s)}:{data:null,error:s,response:s instanceof Pk||s instanceof Tk?s.context:void 0}}})}}var Mi={},yb={},vg={},$u={},xg={},yg={},rI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sc=rI();const iI=Sc.fetch,vE=Sc.fetch.bind(Sc),xE=Sc.Headers,nI=Sc.Request,sI=Sc.Response,Ic=Object.freeze(Object.defineProperty({__proto__:null,Headers:xE,Request:nI,Response:sI,default:vE,fetch:iI},Symbol.toStringTag,{value:"Module"})),oI=CT(Ic);var bg={};Object.defineProperty(bg,"__esModule",{value:!0});let aI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};bg.default=aI;var yE=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yg,"__esModule",{value:!0});const lI=yE(oI),cI=yE(bg);let dI=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var c,p,v,y;let S=null,E=null,T=null,z=a.status,U=a.statusText;if(a.ok){if(this.method!=="HEAD"){const N=await a.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?E=N:E=JSON.parse(N))}const R=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),I=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");R&&I&&I.length>1&&(T=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(S={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,T=null,z=406,U="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const R=await a.text();try{S=JSON.parse(R),Array.isArray(S)&&a.status===404&&(E=[],S=null,z=200,U="OK")}catch{a.status===404&&R===""?(z=204,U="No Content"):S={message:R}}if(S&&this.isMaybeSingle&&(!((y=S==null?void 0:S.details)===null||y===void 0)&&y.includes("0 rows"))&&(S=null,z=200,U="OK"),S&&this.shouldThrowOnError)throw new cI.default(S)}return{error:S,data:E,count:T,status:z,statusText:U}});return this.shouldThrowOnError||(s=s.catch(a=>{var c,p,v;return{error:{message:`${(c=a==null?void 0:a.name)!==null&&c!==void 0?c:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=a==null?void 0:a.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};yg.default=dI;var uI=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xg,"__esModule",{value:!0});const hI=uI(yg);let fI=class extends hI.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const c=a?`${a}.order`:"order",p=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${p?`${p},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(c,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:c="text"}={}){var p;const v=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${y}"; options=${v};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};xg.default=fI;var pI=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($u,"__esModule",{value:!0});const gI=pI(xg);let mI=class extends gI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const c=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${c}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};$u.default=mI;var vI=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vg,"__esModule",{value:!0});const zd=vI($u);let xI=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const c=(t??"*").split("").map(p=>/\s/.test(p)&&!a?"":(p==='"'&&(a=!a),p)).join("");return this.url.searchParams.set("select",c),n&&this.headers.append("Prefer",`count=${n}`),new zd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(c.length>0){const p=[...new Set(c)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new zd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var c;const p="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const v=t.reduce((y,S)=>y.concat(Object.keys(S)),[]);if(v.length>0){const y=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",y.join(","))}}return new zd.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new zd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new zd.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};vg.default=xI;var bE=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yb,"__esModule",{value:!0});const yI=bE(vg),bI=bE($u);let wI=class wE{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new yI.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var c;let p;const v=new URL(`${this.url}/rpc/${t}`);let y;n||s?(p=n?"HEAD":"GET",Object.entries(r).filter(([E,T])=>T!==void 0).map(([E,T])=>[E,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([E,T])=>{v.searchParams.append(E,T)})):(p="POST",y=r);const S=new Headers(this.headers);return a&&S.set("Prefer",`count=${a}`),new bI.default({method:p,url:v,headers:S,schema:this.schemaName,body:y,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};yb.default=wI;var Dc=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.PostgrestError=Mi.PostgrestBuilder=Mi.PostgrestTransformBuilder=Mi.PostgrestFilterBuilder=Mi.PostgrestQueryBuilder=Mi.PostgrestClient=void 0;const kE=Dc(yb);Mi.PostgrestClient=kE.default;const SE=Dc(vg);Mi.PostgrestQueryBuilder=SE.default;const _E=Dc($u);Mi.PostgrestFilterBuilder=_E.default;const CE=Dc(xg);Mi.PostgrestTransformBuilder=CE.default;const EE=Dc(yg);Mi.PostgrestBuilder=EE.default;const ME=Dc(bg);Mi.PostgrestError=ME.default;var kI=Mi.default={PostgrestClient:kE.default,PostgrestQueryBuilder:SE.default,PostgrestFilterBuilder:_E.default,PostgrestTransformBuilder:CE.default,PostgrestBuilder:EE.default,PostgrestError:ME.default};const{PostgrestClient:SI,PostgrestQueryBuilder:QF,PostgrestFilterBuilder:JF,PostgrestTransformBuilder:eW,PostgrestBuilder:tW,PostgrestError:rW}=kI;class _I{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const CI="2.15.5",EI=`realtime-js/${CI}`,MI="1.0.0",Yy=1e4,jI=1e3,AI=100;var au;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(au||(au={}));var Pr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pr||(Pr={}));var Nn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Nn||(Nn={}));var qy;(function(e){e.websocket="websocket"})(qy||(qy={}));var _a;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_a||(_a={}));class NI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let c=this.HEADER_LENGTH+2;const p=n.decode(t.slice(c,c+s));c=c+s;const v=n.decode(t.slice(c,c+a));c=c+a;const y=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:p,event:v,payload:y}}}class jE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const Ok=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,c)=>(a[c]=TI(c,e,t,s),a),{})},TI=(e,t,r,n)=>{const s=t.find(p=>p.name===e),a=s==null?void 0:s.type,c=r[e];return a&&!n.includes(a)?AE(a,c):Ky(c)},AE=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return LI(t,r)}switch(e){case Yt.bool:return PI(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return OI(t);case Yt.json:case Yt.jsonb:return RI(t);case Yt.timestamp:return II(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return Ky(t);default:return Ky(t)}},Ky=e=>e,PI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},RI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},LI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(p=>AE(t,p))}return e},II=e=>typeof e=="string"?e.replace(" ","T"):e,NE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class wx{constructor(t,r,n={},s=Yy){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rk||(Rk={}));class lu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:c,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lu.syncState(this.state,s,a,c),this.pendingDiffs.forEach(v=>{this.state=lu.syncDiff(this.state,v,a,c)}),this.pendingDiffs=[],p()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:c,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=lu.syncDiff(this.state,s,a,c),p())}),this.onJoin((s,a,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:c})}),this.onLeave((s,a,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),c=this.transformState(r),p={},v={};return this.map(a,(y,S)=>{c[y]||(v[y]=S)}),this.map(c,(y,S)=>{const E=a[y];if(E){const T=S.map(R=>R.presence_ref),z=E.map(R=>R.presence_ref),U=S.filter(R=>z.indexOf(R.presence_ref)<0),D=E.filter(R=>T.indexOf(R.presence_ref)<0);U.length>0&&(p[y]=U),D.length>0&&(v[y]=D)}else p[y]=S}),this.syncDiff(a,{joins:p,leaves:v},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(p,v)=>{var y;const S=(y=t[p])!==null&&y!==void 0?y:[];if(t[p]=this.cloneDeep(v),S.length>0){const E=t[p].map(z=>z.presence_ref),T=S.filter(z=>E.indexOf(z.presence_ref)<0);t[p].unshift(...T)}n(p,S,v)}),this.map(c,(p,v)=>{let y=t[p];if(!y)return;const S=v.map(E=>E.presence_ref);y=y.filter(E=>S.indexOf(E.presence_ref)<0),t[p]=y,s(p,y,v),y.length===0&&delete t[p]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Lk||(Lk={}));var cu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cu||(cu={}));var _s;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_s||(_s={}));class bb{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wx(this,Nn.join,this.params,this.timeout),this.rejoinTimer=new jE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new lu(this),this.broadcastEndpointURL=NE(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Pr.closed){const{config:{broadcast:c,presence:p,private:v}}=this.params,y=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(z=>z.filter))!==null&&s!==void 0?s:[],S=!!this.bindings[cu.PRESENCE]&&this.bindings[cu.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,E={},T={broadcast:c,presence:Object.assign(Object.assign({},p),{enabled:S}),postgres_changes:y,private:v};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(z=>t==null?void 0:t(_s.CHANNEL_ERROR,z)),this._onClose(()=>t==null?void 0:t(_s.CLOSED)),this.updateJoinPayload(Object.assign({config:T},E)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:z})=>{var U;if(this.socket.setAuth(),z===void 0){t==null||t(_s.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,R=(U=D==null?void 0:D.length)!==null&&U!==void 0?U:0,I=[];for(let N=0;N<R;N++){const O=D[N],{filter:{event:q,schema:ae,table:te,filter:ce}}=O,J=z&&z[N];if(J&&J.event===q&&J.schema===ae&&J.table===te&&J.filter===ce)I.push(Object.assign(Object.assign({},O),{id:J.id}));else{this.unsubscribe(),this.state=Pr.errored,t==null||t(_s.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t(_s.SUBSCRIBED);return}}).receive("error",z=>{this.state=Pr.errored,t==null||t(_s.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(z).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_s.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pr.joined&&t===cu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:c}=t,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=y.body)===null||s===void 0?void 0:s.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,p,v;const y=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((v=(p=(c=this.params)===null||c===void 0?void 0:c.config)===null||p===void 0?void 0:p.broadcast)===null||v===void 0)&&v.ack)&&a("ok"),y.receive("ok",()=>a("ok")),y.receive("error",()=>a("error")),y.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new wx(this,Nn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wx(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>AI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const c=t.toLocaleLowerCase(),{close:p,error:v,leave:y,join:S}=Nn;if(n&&[p,v,y,S].indexOf(c)>=0&&n!==this._joinRef())return;let T=this._onMessage(c,r,n);if(r&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(z=>{var U,D,R;return((U=z.filter)===null||U===void 0?void 0:U.event)==="*"||((R=(D=z.filter)===null||D===void 0?void 0:D.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(z=>z.callback(T,n)):(a=this.bindings[c])===null||a===void 0||a.filter(z=>{var U,D,R,I,N,O;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in z){const q=z.id,ae=(U=z.filter)===null||U===void 0?void 0:U.event;return q&&((D=r.ids)===null||D===void 0?void 0:D.includes(q))&&(ae==="*"||(ae==null?void 0:ae.toLocaleLowerCase())===((R=r.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const q=(N=(I=z==null?void 0:z.filter)===null||I===void 0?void 0:I.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return q==="*"||q===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return z.type.toLocaleLowerCase()===c}).map(z=>{if(typeof T=="object"&&"ids"in T){const U=T.data,{schema:D,table:R,commit_timestamp:I,type:N,errors:O}=U;T=Object.assign(Object.assign({},{schema:D,table:R,commit_timestamp:I,eventType:N,new:{},old:{},errors:O}),this._getPayloadRecords(U))}z.callback(T,n)})}_isClosed(){return this.state===Pr.closed}_isJoined(){return this.state===Pr.joined}_isJoining(){return this.state===Pr.joining}_isLeaving(){return this.state===Pr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&bb.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Nn.close,{},t)}_onError(t){this._on(Nn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ok(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ok(t.columns,t.old_record)),r}}const kx=()=>{},Ff={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DI=[1e3,2e3,5e3,1e4],BI=1e4,$I=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yy,this.transport=null,this.heartbeatIntervalMs=Ff.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kx,this.ref=0,this.reconnectTimer=null,this.logger=kx,this.conn=null,this.sendBuffer=[],this.serializer=new NI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...c)=>Bu(async()=>{const{default:p}=await Promise.resolve().then(()=>Ic);return{default:p}},void 0).then(({default:p})=>p(...c)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...c)=>a(...c)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${qy.websocket}`,this.httpEndpoint=NE(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_I.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:MI}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case au.connecting:return _a.Connecting;case au.open:return _a.Open;case au.closing:return _a.Closing;default:return _a.Closed}}isConnected(){return this.connectionState()===_a.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new bb(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,c=()=>{this.encode(t,p=>{var v;(v=this.conn)===null||v===void 0||v.send(p)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ff.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:c}=r,p=c?`(${c})`:"",v=a.status||"";this.log("receive",`${v} ${n} ${s} ${p}`.trim(),a),this.channels.filter(y=>y._isMember(n)).forEach(y=>y._trigger(s,a,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Nn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$I],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:EI};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Nn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new jE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ff.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,c,p,v,y,S;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Yy,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ff.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(p=t==null?void 0:t.heartbeatCallback)!==null&&p!==void 0?p:kx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=t==null?void 0:t.reconnectAfterMs)!==null&&v!==void 0?v:E=>DI[E-1]||BI,this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:(E,T)=>T(JSON.stringify(E)),this.decode=(S=t==null?void 0:t.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class wb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _r(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class FI extends wb{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zy extends wb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var WI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{y(n.next(S))}catch(E){c(E)}}function v(S){try{y(n.throw(S))}catch(E){c(E)}}function y(S){S.done?a(S.value):s(S.value).then(p,v)}y((n=n.apply(e,t||[])).next())})};const TE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bu(async()=>{const{default:n}=await Promise.resolve().then(()=>Ic);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},UI=()=>WI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bu(()=>Promise.resolve().then(()=>Ic),void 0)).Response:Response}),Qy=e=>{if(Array.isArray(e))return e.map(r=>Qy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Qy(n)}),t},HI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ka=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{y(n.next(S))}catch(E){c(E)}}function v(S){try{y(n.throw(S))}catch(E){c(E)}}function y(S){S.done?a(S.value):s(S.value).then(p,v)}y((n=n.apply(e,t||[])).next())})};const Sx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GI=(e,t,r)=>Ka(void 0,void 0,void 0,function*(){const n=yield UI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,c=(s==null?void 0:s.statusCode)||a+"";t(new FI(Sx(s),a,c))}).catch(s=>{t(new Zy(Sx(s),s))}):t(new Zy(Sx(e),e))}),VI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(HI(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function zu(e,t,r,n,s,a){return Ka(this,void 0,void 0,function*(){return new Promise((c,p)=>{e(r,VI(t,n,s,a)).then(v=>{if(!v.ok)throw v;return n!=null&&n.noResolveJson?v:v.json()}).then(v=>c(v)).catch(v=>GI(v,p,n))})})}function zp(e,t,r,n){return Ka(this,void 0,void 0,function*(){return zu(e,"GET",t,r,n)})}function Qn(e,t,r,n,s){return Ka(this,void 0,void 0,function*(){return zu(e,"POST",t,n,s,r)})}function Jy(e,t,r,n,s){return Ka(this,void 0,void 0,function*(){return zu(e,"PUT",t,n,s,r)})}function XI(e,t,r,n){return Ka(this,void 0,void 0,function*(){return zu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function PE(e,t,r,n,s){return Ka(this,void 0,void 0,function*(){return zu(e,"DELETE",t,n,s,r)})}var YI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{y(n.next(S))}catch(E){c(E)}}function v(S){try{y(n.throw(S))}catch(E){c(E)}}function y(S){S.done?a(S.value):s(S.value).then(p,v)}y((n=n.apply(e,t||[])).next())})};class qI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return YI(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}}var KI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{y(n.next(S))}catch(E){c(E)}}function v(S){try{y(n.throw(S))}catch(E){c(E)}}function y(S){S.done?a(S.value):s(S.value).then(p,v)}y((n=n.apply(e,t||[])).next())})};class ZI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new qI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return KI(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}}var Ci=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{y(n.next(S))}catch(E){c(E)}}function v(S){try{y(n.throw(S))}catch(E){c(E)}}function y(S){S.done?a(S.value):s(S.value).then(p,v)}y((n=n.apply(e,t||[])).next())})};const QI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ik={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JI{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=TE(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Ci(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},Ik),s);let p=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const v=c.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),v&&a.append("metadata",this.encodeMetadata(v)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl),v&&a.append("metadata",this.encodeMetadata(v))):(a=n,p["cache-control"]=`max-age=${c.cacheControl}`,p["content-type"]=c.contentType,v&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),s!=null&&s.headers&&(p=Object.assign(Object.assign({},p),s.headers));const y=this._removeEmptyFolders(r),S=this._getFinalPath(y),E=yield(t=="PUT"?Jy:Qn)(this.fetch,`${this.url}/object/${S}`,a,Object.assign({headers:p},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:y,id:E.Id,fullPath:E.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ci(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ci(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),p=new URL(this.url+`/object/upload/sign/${c}`);p.searchParams.set("token",r);try{let v;const y=Object.assign({upsert:Ik.upsert},s),S=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&n instanceof Blob?(v=new FormData,v.append("cacheControl",y.cacheControl),v.append("",n)):typeof FormData<"u"&&n instanceof FormData?(v=n,v.append("cacheControl",y.cacheControl)):(v=n,S["cache-control"]=`max-age=${y.cacheControl}`,S["content-type"]=y.contentType);const E=yield Jy(this.fetch,p.toString(),v,{headers:S});return{data:{path:a,fullPath:E.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(_r(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(t,r){return Ci(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Qn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),c=new URL(this.url+a.url),p=c.searchParams.get("token");if(!p)throw new wb("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:p},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ci(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ci(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ci(this,void 0,void 0,function*(){try{return{data:{path:(yield Qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ci(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Qn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ci(this,void 0,void 0,function*(){try{const s=yield Qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=a?`?${a}`:"",p=this._getFinalPath(t),v=()=>zp(this.fetch,`${this.url}/${s}/${p}${c}`,{headers:this.headers,noResolveJson:!0});return new ZI(v,this.shouldThrowOnError)}info(t){return Ci(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield zp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qy(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}exists(t){return Ci(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield XI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n)&&n instanceof Zy){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const p=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});v!==""&&s.push(v);let y=s.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${n}${y}`)}}}remove(t){return Ci(this,void 0,void 0,function*(){try{return{data:yield PE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ci(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},QI),r),{prefix:t||""});return{data:yield Qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}listV2(t,r){return Ci(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const eD="2.12.2",tD={"X-Client-Info":`storage-js/${eD}`};var Tl=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{y(n.next(S))}catch(E){c(E)}}function v(S){try{y(n.throw(S))}catch(E){c(E)}}function y(S){S.done?a(S.value):s(S.value).then(p,v)}y((n=n.apply(e,t||[])).next())})};class rD{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},tD),r),this.fetch=TE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Tl(this,void 0,void 0,function*(){try{return{data:yield zp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}getBucket(t){return Tl(this,void 0,void 0,function*(){try{return{data:yield zp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Tl(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Tl(this,void 0,void 0,function*(){try{return{data:yield Jy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Tl(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Tl(this,void 0,void 0,function*(){try{return{data:yield PE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}}class iD extends rD{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new JI(this.url,this.headers,t,this.fetch)}}const nD="2.58.0";let Kd="";typeof Deno<"u"?Kd="deno":typeof document<"u"?Kd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kd="react-native":Kd="node";const sD={"X-Client-Info":`supabase-js-${Kd}/${nD}`},oD={headers:sD},aD={schema:"public"},lD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cD={};var dD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{y(n.next(S))}catch(E){c(E)}}function v(S){try{y(n.throw(S))}catch(E){c(E)}}function y(S){S.done?a(S.value):s(S.value).then(p,v)}y((n=n.apply(e,t||[])).next())})};const uD=e=>{let t;return e?t=e:typeof fetch>"u"?t=vE:t=fetch,(...r)=>t(...r)},hD=()=>typeof Headers>"u"?xE:Headers,fD=(e,t,r)=>{const n=uD(r),s=hD();return(a,c)=>dD(void 0,void 0,void 0,function*(){var p;const v=(p=yield t())!==null&&p!==void 0?p:e;let y=new s(c==null?void 0:c.headers);return y.has("apikey")||y.set("apikey",e),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),n(a,Object.assign(Object.assign({},c),{headers:y}))})};var pD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{y(n.next(S))}catch(E){c(E)}}function v(S){try{y(n.throw(S))}catch(E){c(E)}}function y(S){S.done?a(S.value):s(S.value).then(p,v)}y((n=n.apply(e,t||[])).next())})};function gD(e){return e.endsWith("/")?e:e+"/"}function mD(e,t){var r,n;const{db:s,auth:a,realtime:c,global:p}=e,{db:v,auth:y,realtime:S,global:E}=t,T={db:Object.assign(Object.assign({},v),s),auth:Object.assign(Object.assign({},y),a),realtime:Object.assign(Object.assign({},S),c),storage:{},global:Object.assign(Object.assign(Object.assign({},E),p),{headers:Object.assign(Object.assign({},(r=E==null?void 0:E.headers)!==null&&r!==void 0?r:{}),(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>pD(this,void 0,void 0,function*(){return""})};return e.accessToken?T.accessToken=e.accessToken:delete T.accessToken,T}function vD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const OE="2.72.0",zl=30*1e3,e0=3,_x=e0*zl,xD="http://localhost:9999",yD="supabase.auth.token",bD={"X-Client-Info":`gotrue-js/${OE}`},t0="X-Supabase-Api-Version",RE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kD=10*60*1e3;class kb extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function St(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class SD extends kb{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _D(e){return St(e)&&e.name==="AuthApiError"}class LE extends kb{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vo extends kb{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class yo extends Vo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CD(e){return St(e)&&e.name==="AuthSessionMissingError"}class Fd extends Vo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wf extends Vo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Uf extends Vo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ED(e){return St(e)&&e.name==="AuthImplicitGrantRedirectError"}class Dk extends Vo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class r0 extends Vo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Cx(e){return St(e)&&e.name==="AuthRetryableFetchError"}class Bk extends Vo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class i0 extends Vo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$k=` 	
\r=`.split(""),MD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$k.length;t+=1)e[$k[t].charCodeAt(0)]=-2;for(let t=0;t<Fp.length;t+=1)e[Fp[t].charCodeAt(0)]=t;return e})();function zk(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fp[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Fp[n]),t.queuedBits-=6}}function IE(e,t,r){const n=MD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Fk(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=c=>{ND(c,n,r)};for(let c=0;c<e.length;c+=1)IE(e.charCodeAt(c),s,a);return t.join("")}function jD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function AD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}jD(n,t)}}function ND(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function TD(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)IE(e.charCodeAt(s),r,n);return new Uint8Array(t)}function PD(e){const t=[];return AD(e,r=>t.push(r)),new Uint8Array(t)}function OD(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>zk(s,r,n)),zk(null,r,n),t.join("")}function RD(e){return Math.round(Date.now()/1e3)+e}function LD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ln=()=>typeof window<"u"&&typeof document<"u",va={tested:!1,writable:!1},DE=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(va.tested)return va.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),va.tested=!0,va.writable=!0}catch{va.tested=!0,va.writable=!1}return va.writable};function ID(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const BE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Bu(async()=>{const{default:n}=await Promise.resolve().then(()=>Ic);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},DD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xo=async(e,t)=>{await e.removeItem(t)};class wg{constructor(){this.promise=new wg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}wg.promiseConstructor=Promise;function Ex(e){const t=e.split(".");if(t.length!==3)throw new i0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!wD.test(t[n]))throw new i0("JWT not in base64url format");return{header:JSON.parse(Fk(t[0])),payload:JSON.parse(Fk(t[1])),signature:TD(t[2]),raw:{header:t[0],payload:t[1]}}}async function BD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $D(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){n(c);return}}catch(c){if(!t(a,c)){s(c);return}}})()})}function zD(e){return("0"+e.toString(16)).substr(-2)}function FD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,zD).join("")}async function WD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function UD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await WD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pl(e,t,r=!1){const n=FD();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Fl(e,`${t}-code-verifier`,s);const a=await UD(n);return[a,n===a?"plain":"s256"]}const HD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GD(e){const t=e.headers.get(t0);if(!t||!t.match(HD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function VD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function XD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ol(e){if(!YD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wk(e){return JSON.parse(JSON.stringify(e))}var qD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const wa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KD=[502,503,504];async function Uk(e){var t;if(!DD(e))throw new r0(wa(e),0);if(KD.includes(e.status))throw new r0(wa(e),e.status);let r;try{r=await e.json()}catch(a){throw new LE(wa(a),a)}let n;const s=GD(e);if(s&&s.getTime()>=RE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bk(wa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new yo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Bk(wa(r),e.status,r.weak_password.reasons);throw new SD(wa(r),e.status||500,n)}const ZD=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Nt(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[t0]||(a[t0]=RE["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const c=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const p=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",v=await QD(e,t,r+p,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(v):{data:Object.assign({},v),error:null}}async function QD(e,t,r,n,s,a){const c=ZD(t,n,s,a);let p;try{p=await e(r,Object.assign({},c))}catch(v){throw console.error(v),new r0(wa(v),0)}if(p.ok||await Uk(p),n!=null&&n.noResolveJson)return p;try{return await p.json()}catch(v){await Uk(v)}}function Kn(e){var t;let r=null;r5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=RD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Hk(e){const t=Kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Co(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function JD(e){return{data:e,error:null}}function e5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,c=qD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},v=Object.assign({},c);return{data:{properties:p,user:v},error:null}}function t5(e){return e}function r5(e){return e.access_token&&e.refresh_token&&e.expires_in}const jx=["global","local","others"];var i5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class n5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=BE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=jx[0]){if(jx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jx.join(", ")}`);try{return await Nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Co})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=i5(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:e5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(St(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Co})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,c,p,v;try{const y={nextPage:null,lastPage:0,total:0},S=await Nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:t5});if(S.error)throw S.error;const E=await S.json(),T=(c=S.headers.get("x-total-count"))!==null&&c!==void 0?c:0,z=(v=(p=S.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&v!==void 0?v:[];return z.length>0&&(z.forEach(U=>{const D=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(U.split(";")[1].split("=")[1]);y[`${R}Page`]=D}),y.total=parseInt(T)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(St(y))return{data:{users:[]},error:y};throw y}}async getUserById(t){Ol(t);try{return await Nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Co})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ol(t);try{return await Nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Co})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ol(t);try{return await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Co})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ol(t.userId);try{const{data:r,error:n}=await Nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ol(t.userId),Ol(t.id);try{return{data:await Nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}}function Gk(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function s5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rl={debug:!!(globalThis&&DE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $E extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class o5 extends $E{}async function a5(e,t,r){Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new o5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function zE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function l5(e){return parseInt(e,16)}function c5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function d5(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:c,notBefore:p,requestId:v,resources:y,scheme:S,uri:E,version:T}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const z=zE(e.address),U=S?`${S}://${n}`:n,D=e.statement?`${e.statement}
`:"",R=`${U} wants you to sign in with your Ethereum account:
${z}

${D}`;let I=`URI: ${E}
Version: ${T}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(s&&(I+=`
Expiration Time: ${s.toISOString()}`),p&&(I+=`
Not Before: ${p.toISOString()}`),v&&(I+=`
Request ID: ${v}`),y){let N=`
Resources:`;for(const O of y){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);N+=`
- ${O}`}I+=N}return`${R}
${I}`}s5();const u5={url:xD,storageKey:yD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vk(e,t,r){return await r()}const Ll={};class Au{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Au.nextInstanceID,Au.nextInstanceID+=1,this.instanceID>0&&ln()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},u5),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new n5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=BE(s.fetch),this.lock=s.lock||Vk,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ln()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=a5:this.lock=Vk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:DE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gk(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Gk(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ll[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ll[this.storageKey]=Object.assign(Object.assign({},Ll[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ll[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ll[this.storageKey]=Object.assign(Object.assign({},Ll[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${OE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ID(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ln()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),ED(a)){const v=(t=a.details)===null||t===void 0?void 0:t.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:p}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",p),await this._saveSession(c),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return St(r)?{error:r}:{error:new LE("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Kn}),{data:c,error:p}=a;if(p||!c)return{data:{user:null,session:null},error:p};const v=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(a){if(St(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:S,password:E,options:T}=t;let z=null,U=null;this.flowType==="pkce"&&([z,U]=await Pl(this.storage,this.storageKey)),a=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:S,password:E,data:(r=T==null?void 0:T.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:z,code_challenge_method:U},xform:Kn})}else if("phone"in t){const{phone:S,password:E,options:T}=t;a=await Nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:E,data:(n=T==null?void 0:T.data)!==null&&n!==void 0?n:{},channel:(s=T==null?void 0:T.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:Kn})}else throw new Wf("You must provide either an email or phone number and a password");const{data:c,error:p}=a;if(p||!c)return{data:{user:null,session:null},error:p};const v=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(a){if(St(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:p}=t;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Hk})}else if("phone"in t){const{phone:a,password:c,options:p}=t;r=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Hk})}else throw new Wf("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Fd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,c,p,v,y,S,E,T;let z,U;if("message"in t)z=t.message,U=t.signature;else{const{chain:D,wallet:R,statement:I,options:N}=t;let O;if(ln())if(typeof R=="object")O=R;else{const we=window;if("ethereum"in we&&typeof we.ethereum=="object"&&"request"in we.ethereum&&typeof we.ethereum.request=="function")O=we.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=R}const q=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),ae=await O.request({method:"eth_requestAccounts"}).then(we=>we).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=zE(ae[0]);let ce=(n=N==null?void 0:N.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!ce){const we=await O.request({method:"eth_chainId"});ce=l5(we)}const J={domain:q.host,address:te,statement:I,uri:q.href,version:"1",chainId:ce,nonce:(s=N==null?void 0:N.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(v=N==null?void 0:N.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(y=N==null?void 0:N.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(S=N==null?void 0:N.signInWithEthereum)===null||S===void 0?void 0:S.resources};z=d5(J),U=await O.request({method:"personal_sign",params:[c5(z),te]})}try{const{data:D,error:R}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:z,signature:U},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(T=t.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Kn});if(R)throw R;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new Fd}:(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:R})}catch(D){if(St(D))return{data:{user:null,session:null},error:D};throw D}}async signInWithSolana(t){var r,n,s,a,c,p,v,y,S,E,T,z;let U,D;if("message"in t)U=t.message,D=t.signature;else{const{chain:R,wallet:I,statement:N,options:O}=t;let q;if(ln())if(typeof I=="object")q=I;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))q=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=I}const ae=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){const te=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),N?{statement:N}:null));let ce;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")ce=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)ce=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)U=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),D=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${ae.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(s=(n=O==null?void 0:O.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=O==null?void 0:O.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((p=O==null?void 0:O.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((v=O==null?void 0:O.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((y=O==null?void 0:O.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((E=(S=O==null?void 0:O.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||E===void 0)&&E.length?["Resources",...O.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);const te=await q.signMessage(new TextEncoder().encode(U),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=te}}try{const{data:R,error:I}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:OD(D)},!((T=t.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(z=t.options)===null||z===void 0?void 0:z.captchaToken}}:null),xform:Kn});if(I)throw I;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new Fd}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:I})}catch(R){if(St(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(t){const r=await xa(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:c}=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Kn});if(await xo(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Fd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:c})}catch(a){if(St(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:c}=t,p=await Nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Kn}),{data:v,error:y}=p;return y?{data:{user:null,session:null},error:y}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Fd}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:y})}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,c;try{if("email"in t){const{email:p,options:v}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await Pl(this.storage,this.storageKey));const{error:E}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},create_user:(n=v==null?void 0:v.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:S},redirectTo:v==null?void 0:v.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in t){const{phone:p,options:v}=t,{data:y,error:S}=await Nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},create_user:(a=v==null?void 0:v.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(c=v==null?void 0:v.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:S}}throw new Wf("You must provide either an email or phone number.")}catch(p){if(St(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:p}=await Nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Kn});if(p)throw p;if(!c)throw new Error("An error occurred on token verification.");const v=c.session,y=c.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(s){if(St(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Pl(this.storage,this.storageKey)),await Nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:JD})}catch(a){if(St(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new yo;const{error:s}=await Nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(St(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:c}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:c,error:p}=await Nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:p}}throw new Wf("You must provide either an email or phone number and a type")}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<_x:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await xa(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Mx()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(v,y,S)=>(!c&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,y,S))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Co}):await this._useSession(async r=>{var n,s,a;const{data:c,error:p}=r;if(p)throw p;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yo}:await Nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Co})})}catch(r){if(St(r))return CD(r)&&(await this._removeSession(),await xo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new yo;const c=s.session;let p=null,v=null;this.flowType==="pkce"&&t.email!=null&&([p,v]=await Pl(this.storage,this.storageKey));const{data:y,error:S}=await Nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:v}),jwt:c.access_token,xform:Co});if(S)throw S;return c.user=y.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yo;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:c}=Ex(t.access_token);if(c.exp&&(n=c.exp,s=n<=r),s){const{session:p,error:v}=await this._callRefreshToken(t.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!p)return{data:{user:null,session:null},error:null};a=p}else{const{data:p,error:v}=await this._getUser(t.access_token);if(v)throw v;a={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(St(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:p}=r;if(p)throw p;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new yo;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ln())throw new Uf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Uf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Dk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Dk("No code detected.");const{data:N,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:c,expires_in:p,expires_at:v,token_type:y}=t;if(!a||!p||!c||!y)throw new Uf("No session defined in URL");const S=Math.round(Date.now()/1e3),E=parseInt(p);let T=S+E;v&&(T=parseInt(v));const z=T-S;z*1e3<=zl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${z}s, should have been closer to ${E}s`);const U=T-E;S-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,T,S):S-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,T,S);const{data:D,error:R}=await this._getUser(a);if(R)throw R;const I={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:E,expires_at:T,refresh_token:c,token_type:y,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(n){if(St(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const c=(n=s.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:p}=await this.admin.signOut(c,t);if(p&&!(_D(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return t!=="others"&&(await this._removeSession(),await xo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=LD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Pl(this.storage,this.storageKey,!0));try{return await Nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(St(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var c,p,v,y,S;const{data:E,error:T}=a;if(T)throw T;const z=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(v=t.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await Nt(this.fetch,"GET",z,{headers:this.headers,jwt:(S=(y=E.session)===null||y===void 0?void 0:y.access_token)!==null&&S!==void 0?S:void 0})});if(s)throw s;return ln()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(St(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:c}=r;if(c)throw c;return await Nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $D(async s=>(s>0&&await BD(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kn})),(s,a)=>{const c=200*Math.pow(2,s);return a&&Cx(a)&&Date.now()+c-n<zl})}catch(n){if(this._debug(r,"error",n),St(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await xa(this.storage,this.storageKey);if(s&&this.userStorage){let c=await xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await Fl(this.userStorage,this.storageKey+"-user",c)),s.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Mx()}else if(s&&!s.user&&!s.user){const c=await xa(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(s.user=c.user,await xo(this.storage,this.storageKey+"-user"),await Fl(this.storage,this.storageKey,s)):s.user=Mx()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_x;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${_x}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),Cx(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:p}=await this._getUser(s.access_token);!p&&(c!=null&&c.user)?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new yo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wg;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new yo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const p={session:a.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(a){if(this._debug(s,"error",a),St(a)){const c={session:null,error:a};return Cx(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,r)}catch(v){a.push(v)}});if(await Promise.all(c),a.length>0){for(let p=0;p<a.length;p+=1)console.error(a[p]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Wk(s);await Fl(this.storage,this.storageKey,a)}else{const s=Wk(r);await Fl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await xo(this.storage,this.storageKey),await xo(this.storage,this.storageKey+"-code-verifier"),await xo(this.storage,this.storageKey+"-user"),this.userStorage&&await xo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/zl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${zl}ms, refresh threshold is ${e0} ticks`),s<=e0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $E)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,c]=await Pl(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(p.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:c}=r;if(c)return{data:null,error:c};const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:v,error:y}=await Nt(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return y?{data:null,error:y}:(t.factorType==="totp"&&(!((s=v==null?void 0:v.totp)===null||s===void 0)&&s.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:c,error:p}=await Nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:p})})}catch(r){if(St(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(St(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Ex(s.access_token);let p=null;c.aal&&(p=c.aal);let v=p;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(E=>E.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const S=c.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:S},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(p=>p.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(p=>p.kid===t),n&&this.jwks_cached_at+kD>s)return n;const{data:a,error:c}=await Nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(p=>p.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:z,error:U}=await this.getSession();if(U||!z.session)return{data:null,error:U};n=z.session.access_token}const{header:s,payload:a,signature:c,raw:{header:p,payload:v}}=Ex(n);r!=null&&r.allowExpired||VD(a.exp);const y=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!y){const{error:z}=await this.getUser(n);if(z)throw z;return{data:{claims:a,header:s,signature:c},error:null}}const S=XD(s.alg),E=await crypto.subtle.importKey("jwk",y,S,!0,["verify"]);if(!await crypto.subtle.verify(S,E,c,PD(`${p}.${v}`)))throw new i0("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}}}Au.nextInstanceID=0;const h5=Au;class f5 extends h5{constructor(t){super(t)}}var p5=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{y(n.next(S))}catch(E){c(E)}}function v(S){try{y(n.throw(S))}catch(E){c(E)}}function y(S){S.done?a(S.value):s(S.value).then(p,v)}y((n=n.apply(e,t||[])).next())})};class g5{constructor(t,r,n){var s,a,c;this.supabaseUrl=t,this.supabaseKey=r;const p=vD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const v=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:aD,realtime:cD,auth:Object.assign(Object.assign({},lD),{storageKey:v}),global:oD},S=mD(n??{},y);this.storageKey=(s=S.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=S.global.headers)!==null&&a!==void 0?a:{},S.accessToken?(this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(E,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=S.auth)!==null&&c!==void 0?c:{},this.headers,S.global.fetch),this.fetch=fD(r,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},S.realtime)),this.rest=new SI(new URL("rest/v1",p).href,{headers:this.headers,schema:S.db.schema,fetch:this.fetch}),this.storage=new iD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),S.accessToken||this._listenForAuthEvents()}get functions(){return new tI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return p5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:c,flowType:p,lock:v,debug:y},S,E){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f5({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),S),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:p,lock:v,debug:y,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(z=>z.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new zI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const m5=(e,t,r)=>new g5(e,t,r);function v5(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}v5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const x5="http://127.0.0.1:54321",y5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0",Ve=m5(x5,y5),FE=M.createContext(null);function b5(){const e=M.useContext(FE);if(!e)throw new Error("useAvatarCache must be used within an AvatarCacheProvider");return e}const es=new Map,Wl=new Map;async function Ax(e,t=96){const r=e.toLowerCase();if(es.has(r))return es.get(r);if(Wl.has(r))return Wl.get(r);const n=vb(e,t);if(!n)return null;const s=new Promise(a=>{const c=new Image;c.crossOrigin="anonymous",c.onload=()=>{es.set(r,n),Wl.delete(r),a(n)},c.onerror=()=>{Wl.delete(r),a(null)},c.src=n});return Wl.set(r,s),s}function w5({children:e}){const[t,r]=M.useState(es),[n,s]=M.useState(!1);M.useEffect(()=>{let y=!1;async function S(){try{const{data:E,error:T}=await Ve.from("players").select("twitter").not("twitter","is",null);if(T||!E||y)return;const z=[...new Set(E.map(R=>R.twitter).filter(R=>!!R))],U=5,D=100;for(let R=0;R<z.length&&!y;R+=U){const I=z.slice(R,R+U);await Promise.all(I.map(N=>Ax(N))),y||r(new Map(es)),R+U<z.length&&await new Promise(N=>setTimeout(N,D))}y||s(!0)}catch(E){console.warn("Failed to preload avatars:",E),y||s(!0)}}return S(),()=>{y=!0}},[]);const a=M.useCallback(y=>es.has(y.toLowerCase()),[]),c=M.useCallback((y,S=96)=>{if(!y)return null;const E=y.toLowerCase();return es.has(E)?es.get(E):(Ax(y,S).then(()=>{}),vb(y,S))},[]),p=M.useCallback(y=>{const S=y.toLowerCase();es.delete(S),Wl.delete(S),Ax(y).then(()=>{r(new Map(es))})},[]),v=M.useMemo(()=>({avatarCache:t,isCached:a,getCachedUrl:c,isPreloaded:n,refreshAvatar:p}),[t,a,c,n,p]);return h.jsx(FE.Provider,{value:v,children:e})}function Ls({name:e,twitter:t,size:r=40,className:n,variant:s="beam",colors:a=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"]}){const[c,p]=M.useState(!1),{getCachedUrl:v}=b5(),y=t&&!c,S=t?v(t,r*2)||vb(t,r*2):null;return h.jsx("div",{className:gt("relative overflow-hidden rounded-full shrink-0",n),style:{width:r,height:r},children:y?h.jsx("img",{src:S,alt:e,className:"h-full w-full object-cover",onError:()=>p(!0)}):h.jsx(qL,{size:r,name:e,variant:s,colors:a})})}function Xk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ia(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Xk(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Xk(e[s],null)}}}}function ir(...e){return M.useCallback(Ia(...e),e)}function Da(e){const t=S5(e),r=M.forwardRef((n,s)=>{const{children:a,...c}=n,p=M.Children.toArray(a),v=p.find(C5);if(v){const y=v.props.children,S=p.map(E=>E===v?M.Children.count(y)>1?M.Children.only(null):M.isValidElement(y)?y.props.children:null:E);return h.jsx(t,{...c,ref:s,children:M.isValidElement(y)?M.cloneElement(y,void 0,S):null})}return h.jsx(t,{...c,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var k5=Da("Slot");function S5(e){const t=M.forwardRef((r,n)=>{const{children:s,...a}=r;if(M.isValidElement(s)){const c=M5(s),p=E5(a,s.props);return s.type!==M.Fragment&&(p.ref=n?Ia(n,c):c),M.cloneElement(s,p)}return M.Children.count(s)>1?M.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _5=Symbol("radix.slottable");function C5(e){return M.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_5}function E5(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...p)=>{const v=a(...p);return s(...p),v}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function M5(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Yk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qk=lE,WE=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return qk(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,c=Object.keys(s).map(y=>{const S=r==null?void 0:r[y],E=a==null?void 0:a[y];if(S===null)return null;const T=Yk(S)||Yk(E);return s[y][T]}),p=r&&Object.entries(r).reduce((y,S)=>{let[E,T]=S;return T===void 0||(y[E]=T),y},{}),v=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((y,S)=>{let{class:E,className:T,...z}=S;return Object.entries(z).every(U=>{let[D,R]=U;return Array.isArray(R)?R.includes({...a,...p}[D]):{...a,...p}[D]===R})?[...y,E,T]:y},[]);return qk(e,c,v,r==null?void 0:r.class,r==null?void 0:r.className)},j5=WE("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background text-foreground hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_t=M.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const c=n?k5:"button";return h.jsx(c,{className:gt(j5({variant:t,size:r,className:e})),ref:a,...s})});_t.displayName="Button";function Sb({currentPage:e,totalPages:t,onPageChange:r,itemsPerPage:n,totalItems:s}){const a=(e-1)*n+1,c=Math.min(e*n,s),p=()=>{const v=[];if(t<=7)for(let y=1;y<=t;y++)v.push(y);else{v.push(1),e>3&&v.push("...");const y=Math.max(2,e-1),S=Math.min(t-1,e+1);for(let E=y;E<=S;E++)v.push(E);e<t-2&&v.push("..."),v.push(t)}return v};return t<=1?null:h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-2",children:[h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",a," to ",c," of ",s," results"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_t,{variant:"outline",size:"sm",onClick:()=>r(e-1),disabled:e===1,children:"Previous"}),h.jsx("div",{className:"flex items-center gap-1",children:p().map((v,y)=>typeof v=="number"?h.jsx(_t,{variant:e===v?"default":"outline",size:"sm",onClick:()=>r(v),className:"w-10",children:v},y):h.jsx("span",{className:"px-2 text-muted-foreground",children:v},y))}),h.jsx(_t,{variant:"outline",size:"sm",onClick:()=>r(e+1),disabled:e===t,children:"Next"})]})]})}async function _b(){try{const{data:e,error:t}=await Ve.from("players").select("id, name, twitter, created, rating, rd, volatility, peak_rating, peak_rating_date, has_played_this_season").order("rating",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchPlayers failed:",e),[]}}async function UE(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchMatches failed:",e),[]}}async function A5(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).not("winner_id","is",null).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchCompletedMatches failed:",e),[]}}async function N5(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).is("winner_id",null).order("match_order",{ascending:!0});if(t)throw t;return e??[]}catch(e){return console.warn("fetchUpcomingMatches failed:",e),[]}}async function T5(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").not("winner_id","is",null).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchAllCompletedMatches failed:",e),[]}}async function Fu(){try{const{data:e,error:t}=await Ve.from("events").select("*").order("event_date",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchEvents failed:",e),[]}}async function P5(){try{const{data:e,error:t}=await Ve.from("events").select("*").gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0});if(t)throw t;return e??[]}catch(e){return console.warn("fetchUpcomingEvents failed:",e),[]}}function kg(){const[e,t]=M.useState(null),[r,n]=M.useState(null),[s,a]=M.useState(null);return M.useEffect(()=>{let p=!0;return(async()=>{try{const[v,y]=await Promise.all([_b(),A5()]);if(!p)return;t(v),n(y)}catch(v){if(!p)return;a(v.message)}})(),()=>{p=!1}},[]),{players:e??[],matches:r??[],loading:e===null||r===null,error:s}}const Zr=M.forwardRef(({className:e,type:t="text",...r},n)=>h.jsx("input",{type:t,className:gt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Zr.displayName="Input";/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:c,...p},v)=>M.createElement("svg",{ref:v,...R5,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:HE("lucide",s),...p},[...c.map(([y,S])=>M.createElement(y,S)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(e,t)=>{const r=M.forwardRef(({className:n,...s},a)=>M.createElement(L5,{ref:a,iconNode:t,className:HE(`lucide-${O5(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ic=Jt("ArrowDown",I5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Hf=Jt("ArrowUpDown",D5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],nc=Jt("ArrowUp",B5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],z5=Jt("Calendar",$5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],GE=Jt("Check",F5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],VE=Jt("ChevronDown",W5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],H5=Jt("ChevronUp",U5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],V5=Jt("ChevronsUpDown",G5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Y5=Jt("CircleAlert",X5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Kk=Jt("CircleCheck",q5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Zk=Jt("Clock",K5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],XE=Jt("ExternalLink",Z5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],J5=Jt("Menu",Q5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],t3=Jt("Moon",e3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Cb=Jt("Pencil",r3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Eb=Jt("Plus",i3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sg=Jt("RefreshCw",n3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],o3=Jt("Search",s3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]],l3=Jt("SunMedium",a3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Mb=Jt("Trash2",c3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],u3=Jt("TrendingUp",d3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],YE=Jt("Trophy",h3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],qE=Jt("Undo2",f3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jb=Jt("X",p3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],KE=Jt("Youtube",g3);function Qk(e,[t,r]){return Math.min(r,Math.max(t,e))}function At(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function m3(e,t){const r=M.createContext(t),n=a=>{const{children:c,...p}=a,v=M.useMemo(()=>p,Object.values(p));return h.jsx(r.Provider,{value:v,children:c})};n.displayName=e+"Provider";function s(a){const c=M.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Xo(e,t=[]){let r=[];function n(a,c){const p=M.createContext(c),v=r.length;r=[...r,c];const y=E=>{var I;const{scope:T,children:z,...U}=E,D=((I=T==null?void 0:T[e])==null?void 0:I[v])||p,R=M.useMemo(()=>U,Object.values(U));return h.jsx(D.Provider,{value:R,children:z})};y.displayName=a+"Provider";function S(E,T){var D;const z=((D=T==null?void 0:T[e])==null?void 0:D[v])||p,U=M.useContext(z);if(U)return U;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${a}\``)}return[y,S]}const s=()=>{const a=r.map(c=>M.createContext(c));return function(p){const v=(p==null?void 0:p[e])||a;return M.useMemo(()=>({[`__scope${e}`]:{...p,[e]:v}}),[p,v])}};return s.scopeName=e,[n,v3(s,...t)]}function v3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const c=n.reduce((p,{useScope:v,scopeName:y})=>{const E=v(a)[`__scope${y}`];return{...p,...E}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function ZE(e){const t=e+"CollectionProvider",[r,n]=Xo(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=D=>{const{scope:R,children:I}=D,N=Jn.useRef(null),O=Jn.useRef(new Map).current;return h.jsx(s,{scope:R,itemMap:O,collectionRef:N,children:I})};c.displayName=t;const p=e+"CollectionSlot",v=Da(p),y=Jn.forwardRef((D,R)=>{const{scope:I,children:N}=D,O=a(p,I),q=ir(R,O.collectionRef);return h.jsx(v,{ref:q,children:N})});y.displayName=p;const S=e+"CollectionItemSlot",E="data-radix-collection-item",T=Da(S),z=Jn.forwardRef((D,R)=>{const{scope:I,children:N,...O}=D,q=Jn.useRef(null),ae=ir(R,q),te=a(S,I);return Jn.useEffect(()=>(te.itemMap.set(q,{ref:q,...O}),()=>void te.itemMap.delete(q))),h.jsx(T,{[E]:"",ref:ae,children:N})});z.displayName=S;function U(D){const R=a(e+"CollectionConsumer",D);return Jn.useCallback(()=>{const N=R.collectionRef.current;if(!N)return[];const O=Array.from(N.querySelectorAll(`[${E}]`));return Array.from(R.itemMap.values()).sort((te,ce)=>O.indexOf(te.ref.current)-O.indexOf(ce.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:c,Slot:y,ItemSlot:z},U,n]}var x3=M.createContext(void 0);function Ab(e){const t=M.useContext(x3);return e||t||"ltr"}var y3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yt=y3.reduce((e,t)=>{const r=Da(`Primitive.${t}`),n=M.forwardRef((s,a)=>{const{asChild:c,...p}=s,v=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(v,{...p,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function b3(e,t){e&&Pc.flushSync(()=>e.dispatchEvent(t))}function Is(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function w3(e,t=globalThis==null?void 0:globalThis.document){const r=Is(e);M.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var k3="DismissableLayer",n0="dismissableLayer.update",S3="dismissableLayer.pointerDownOutside",_3="dismissableLayer.focusOutside",Jk,QE=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_g=M.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:c,onDismiss:p,...v}=e,y=M.useContext(QE),[S,E]=M.useState(null),T=(S==null?void 0:S.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,z]=M.useState({}),U=ir(t,ce=>E(ce)),D=Array.from(y.layers),[R]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),I=D.indexOf(R),N=S?D.indexOf(S):-1,O=y.layersWithOutsidePointerEventsDisabled.size>0,q=N>=I,ae=M3(ce=>{const J=ce.target,we=[...y.branches].some(Se=>Se.contains(J));!q||we||(s==null||s(ce),c==null||c(ce),ce.defaultPrevented||p==null||p())},T),te=j3(ce=>{const J=ce.target;[...y.branches].some(Se=>Se.contains(J))||(a==null||a(ce),c==null||c(ce),ce.defaultPrevented||p==null||p())},T);return w3(ce=>{N===y.layers.size-1&&(n==null||n(ce),!ce.defaultPrevented&&p&&(ce.preventDefault(),p()))},T),M.useEffect(()=>{if(S)return r&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(Jk=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(S)),y.layers.add(S),eS(),()=>{r&&y.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=Jk)}},[S,T,r,y]),M.useEffect(()=>()=>{S&&(y.layers.delete(S),y.layersWithOutsidePointerEventsDisabled.delete(S),eS())},[S,y]),M.useEffect(()=>{const ce=()=>z({});return document.addEventListener(n0,ce),()=>document.removeEventListener(n0,ce)},[]),h.jsx(yt.div,{...v,ref:U,style:{pointerEvents:O?q?"auto":"none":void 0,...e.style},onFocusCapture:At(e.onFocusCapture,te.onFocusCapture),onBlurCapture:At(e.onBlurCapture,te.onBlurCapture),onPointerDownCapture:At(e.onPointerDownCapture,ae.onPointerDownCapture)})});_g.displayName=k3;var C3="DismissableLayerBranch",E3=M.forwardRef((e,t)=>{const r=M.useContext(QE),n=M.useRef(null),s=ir(t,n);return M.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),h.jsx(yt.div,{...e,ref:s})});E3.displayName=C3;function M3(e,t=globalThis==null?void 0:globalThis.document){const r=Is(e),n=M.useRef(!1),s=M.useRef(()=>{});return M.useEffect(()=>{const a=p=>{if(p.target&&!n.current){let v=function(){JE(S3,r,y,{discrete:!0})};const y={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=v,t.addEventListener("click",s.current,{once:!0})):v()}else t.removeEventListener("click",s.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function j3(e,t=globalThis==null?void 0:globalThis.document){const r=Is(e),n=M.useRef(!1);return M.useEffect(()=>{const s=a=>{a.target&&!n.current&&JE(_3,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eS(){const e=new CustomEvent(n0);document.dispatchEvent(e)}function JE(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?b3(s,a):s.dispatchEvent(a)}var Nx=0;function Nb(){M.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tS()),document.body.insertAdjacentElement("beforeend",e[1]??tS()),Nx++,()=>{Nx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nx--}},[])}function tS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tx="focusScope.autoFocusOnMount",Px="focusScope.autoFocusOnUnmount",rS={bubbles:!1,cancelable:!0},A3="FocusScope",Cg=M.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...c}=e,[p,v]=M.useState(null),y=Is(s),S=Is(a),E=M.useRef(null),T=ir(t,D=>v(D)),z=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(n){let D=function(O){if(z.paused||!p)return;const q=O.target;p.contains(q)?E.current=q:bo(E.current,{select:!0})},R=function(O){if(z.paused||!p)return;const q=O.relatedTarget;q!==null&&(p.contains(q)||bo(E.current,{select:!0}))},I=function(O){if(document.activeElement===document.body)for(const ae of O)ae.removedNodes.length>0&&bo(p)};document.addEventListener("focusin",D),document.addEventListener("focusout",R);const N=new MutationObserver(I);return p&&N.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",D),document.removeEventListener("focusout",R),N.disconnect()}}},[n,p,z.paused]),M.useEffect(()=>{if(p){nS.add(z);const D=document.activeElement;if(!p.contains(D)){const I=new CustomEvent(Tx,rS);p.addEventListener(Tx,y),p.dispatchEvent(I),I.defaultPrevented||(N3(L3(e2(p)),{select:!0}),document.activeElement===D&&bo(p))}return()=>{p.removeEventListener(Tx,y),setTimeout(()=>{const I=new CustomEvent(Px,rS);p.addEventListener(Px,S),p.dispatchEvent(I),I.defaultPrevented||bo(D??document.body,{select:!0}),p.removeEventListener(Px,S),nS.remove(z)},0)}}},[p,y,S,z]);const U=M.useCallback(D=>{if(!r&&!n||z.paused)return;const R=D.key==="Tab"&&!D.altKey&&!D.ctrlKey&&!D.metaKey,I=document.activeElement;if(R&&I){const N=D.currentTarget,[O,q]=T3(N);O&&q?!D.shiftKey&&I===q?(D.preventDefault(),r&&bo(O,{select:!0})):D.shiftKey&&I===O&&(D.preventDefault(),r&&bo(q,{select:!0})):I===N&&D.preventDefault()}},[r,n,z.paused]);return h.jsx(yt.div,{tabIndex:-1,...c,ref:T,onKeyDown:U})});Cg.displayName=A3;function N3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(bo(n,{select:t}),document.activeElement!==r)return}function T3(e){const t=e2(e),r=iS(t,e),n=iS(t.reverse(),e);return[r,n]}function e2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function iS(e,t){for(const r of e)if(!P3(r,{upTo:t}))return r}function P3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function O3(e){return e instanceof HTMLInputElement&&"select"in e}function bo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&O3(e)&&t&&e.select()}}var nS=R3();function R3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=sS(e,t),e.unshift(t)},remove(t){var r;e=sS(e,t),(r=e[0])==null||r.resume()}}}function sS(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function L3(e){return e.filter(t=>t.tagName!=="A")}var Ir=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},I3=w0[" useId ".trim().toString()]||(()=>{}),D3=0;function mi(e){const[t,r]=M.useState(I3());return Ir(()=>{r(n=>n??String(D3++))},[e]),t?`radix-${t}`:""}const B3=["top","right","bottom","left"],zo=Math.min,zi=Math.max,Wp=Math.round,Gf=Math.floor,os=e=>({x:e,y:e}),$3={left:"right",right:"left",bottom:"top",top:"bottom"},z3={start:"end",end:"start"};function s0(e,t,r){return zi(e,zo(t,r))}function Ds(e,t){return typeof e=="function"?e(t):e}function Bs(e){return e.split("-")[0]}function Bc(e){return e.split("-")[1]}function Tb(e){return e==="x"?"y":"x"}function Pb(e){return e==="y"?"height":"width"}const F3=new Set(["top","bottom"]);function is(e){return F3.has(Bs(e))?"y":"x"}function Ob(e){return Tb(is(e))}function W3(e,t,r){r===void 0&&(r=!1);const n=Bc(e),s=Ob(e),a=Pb(s);let c=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=Up(c)),[c,Up(c)]}function U3(e){const t=Up(e);return[o0(e),t,o0(t)]}function o0(e){return e.replace(/start|end/g,t=>z3[t])}const oS=["left","right"],aS=["right","left"],H3=["top","bottom"],G3=["bottom","top"];function V3(e,t,r){switch(e){case"top":case"bottom":return r?t?aS:oS:t?oS:aS;case"left":case"right":return t?H3:G3;default:return[]}}function X3(e,t,r,n){const s=Bc(e);let a=V3(Bs(e),r==="start",n);return s&&(a=a.map(c=>c+"-"+s),t&&(a=a.concat(a.map(o0)))),a}function Up(e){return e.replace(/left|right|bottom|top/g,t=>$3[t])}function Y3(e){return{top:0,right:0,bottom:0,left:0,...e}}function t2(e){return typeof e!="number"?Y3(e):{top:e,right:e,bottom:e,left:e}}function Hp(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function lS(e,t,r){let{reference:n,floating:s}=e;const a=is(t),c=Ob(t),p=Pb(c),v=Bs(t),y=a==="y",S=n.x+n.width/2-s.width/2,E=n.y+n.height/2-s.height/2,T=n[p]/2-s[p]/2;let z;switch(v){case"top":z={x:S,y:n.y-s.height};break;case"bottom":z={x:S,y:n.y+n.height};break;case"right":z={x:n.x+n.width,y:E};break;case"left":z={x:n.x-s.width,y:E};break;default:z={x:n.x,y:n.y}}switch(Bc(t)){case"start":z[c]-=T*(r&&y?-1:1);break;case"end":z[c]+=T*(r&&y?-1:1);break}return z}const q3=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:c}=r,p=a.filter(Boolean),v=await(c.isRTL==null?void 0:c.isRTL(t));let y=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:S,y:E}=lS(y,n,v),T=n,z={},U=0;for(let D=0;D<p.length;D++){const{name:R,fn:I}=p[D],{x:N,y:O,data:q,reset:ae}=await I({x:S,y:E,initialPlacement:n,placement:T,strategy:s,middlewareData:z,rects:y,platform:c,elements:{reference:e,floating:t}});S=N??S,E=O??E,z={...z,[R]:{...z[R],...q}},ae&&U<=50&&(U++,typeof ae=="object"&&(ae.placement&&(T=ae.placement),ae.rects&&(y=ae.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):ae.rects),{x:S,y:E}=lS(y,T,v)),D=-1)}return{x:S,y:E,placement:T,strategy:s,middlewareData:z}};async function Nu(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:c,elements:p,strategy:v}=e,{boundary:y="clippingAncestors",rootBoundary:S="viewport",elementContext:E="floating",altBoundary:T=!1,padding:z=0}=Ds(t,e),U=t2(z),R=p[T?E==="floating"?"reference":"floating":E],I=Hp(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(R)))==null||r?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(p.floating)),boundary:y,rootBoundary:S,strategy:v})),N=E==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(p.floating)),q=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},ae=Hp(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:N,offsetParent:O,strategy:v}):N);return{top:(I.top-ae.top+U.top)/q.y,bottom:(ae.bottom-I.bottom+U.bottom)/q.y,left:(I.left-ae.left+U.left)/q.x,right:(ae.right-I.right+U.right)/q.x}}const K3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:c,elements:p,middlewareData:v}=t,{element:y,padding:S=0}=Ds(e,t)||{};if(y==null)return{};const E=t2(S),T={x:r,y:n},z=Ob(s),U=Pb(z),D=await c.getDimensions(y),R=z==="y",I=R?"top":"left",N=R?"bottom":"right",O=R?"clientHeight":"clientWidth",q=a.reference[U]+a.reference[z]-T[z]-a.floating[U],ae=T[z]-a.reference[z],te=await(c.getOffsetParent==null?void 0:c.getOffsetParent(y));let ce=te?te[O]:0;(!ce||!await(c.isElement==null?void 0:c.isElement(te)))&&(ce=p.floating[O]||a.floating[U]);const J=q/2-ae/2,we=ce/2-D[U]/2-1,Se=zo(E[I],we),be=zo(E[N],we),ve=Se,je=ce-D[U]-be,Fe=ce/2-D[U]/2+J,Ye=s0(ve,Fe,je),ie=!v.arrow&&Bc(s)!=null&&Fe!==Ye&&a.reference[U]/2-(Fe<ve?Se:be)-D[U]/2<0,ge=ie?Fe<ve?Fe-ve:Fe-je:0;return{[z]:T[z]+ge,data:{[z]:Ye,centerOffset:Fe-Ye-ge,...ie&&{alignmentOffset:ge}},reset:ie}}}),Z3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:c,initialPlacement:p,platform:v,elements:y}=t,{mainAxis:S=!0,crossAxis:E=!0,fallbackPlacements:T,fallbackStrategy:z="bestFit",fallbackAxisSideDirection:U="none",flipAlignment:D=!0,...R}=Ds(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const I=Bs(s),N=is(p),O=Bs(p)===p,q=await(v.isRTL==null?void 0:v.isRTL(y.floating)),ae=T||(O||!D?[Up(p)]:U3(p)),te=U!=="none";!T&&te&&ae.push(...X3(p,D,U,q));const ce=[p,...ae],J=await Nu(t,R),we=[];let Se=((n=a.flip)==null?void 0:n.overflows)||[];if(S&&we.push(J[I]),E){const Fe=W3(s,c,q);we.push(J[Fe[0]],J[Fe[1]])}if(Se=[...Se,{placement:s,overflows:we}],!we.every(Fe=>Fe<=0)){var be,ve;const Fe=(((be=a.flip)==null?void 0:be.index)||0)+1,Ye=ce[Fe];if(Ye&&(!(E==="alignment"?N!==is(Ye):!1)||Se.every(he=>is(he.placement)===N?he.overflows[0]>0:!0)))return{data:{index:Fe,overflows:Se},reset:{placement:Ye}};let ie=(ve=Se.filter(ge=>ge.overflows[0]<=0).sort((ge,he)=>ge.overflows[1]-he.overflows[1])[0])==null?void 0:ve.placement;if(!ie)switch(z){case"bestFit":{var je;const ge=(je=Se.filter(he=>{if(te){const Me=is(he.placement);return Me===N||Me==="y"}return!0}).map(he=>[he.placement,he.overflows.filter(Me=>Me>0).reduce((Me,$e)=>Me+$e,0)]).sort((he,Me)=>he[1]-Me[1])[0])==null?void 0:je[0];ge&&(ie=ge);break}case"initialPlacement":ie=p;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function cS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dS(e){return B3.some(t=>e[t]>=0)}const Q3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ds(e,t);switch(n){case"referenceHidden":{const a=await Nu(t,{...s,elementContext:"reference"}),c=cS(a,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:dS(c)}}}case"escaped":{const a=await Nu(t,{...s,altBoundary:!0}),c=cS(a,r.floating);return{data:{escapedOffsets:c,escaped:dS(c)}}}default:return{}}}}},r2=new Set(["left","top"]);async function J3(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=Bs(r),p=Bc(r),v=is(r)==="y",y=r2.has(c)?-1:1,S=a&&v?-1:1,E=Ds(t,e);let{mainAxis:T,crossAxis:z,alignmentAxis:U}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return p&&typeof U=="number"&&(z=p==="end"?U*-1:U),v?{x:z*S,y:T*y}:{x:T*y,y:z*S}}const e4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:c,middlewareData:p}=t,v=await J3(t,e);return c===((r=p.offset)==null?void 0:r.placement)&&(n=p.arrow)!=null&&n.alignmentOffset?{}:{x:s+v.x,y:a+v.y,data:{...v,placement:c}}}}},t4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:p={fn:R=>{let{x:I,y:N}=R;return{x:I,y:N}}},...v}=Ds(e,t),y={x:r,y:n},S=await Nu(t,v),E=is(Bs(s)),T=Tb(E);let z=y[T],U=y[E];if(a){const R=T==="y"?"top":"left",I=T==="y"?"bottom":"right",N=z+S[R],O=z-S[I];z=s0(N,z,O)}if(c){const R=E==="y"?"top":"left",I=E==="y"?"bottom":"right",N=U+S[R],O=U-S[I];U=s0(N,U,O)}const D=p.fn({...t,[T]:z,[E]:U});return{...D,data:{x:D.x-r,y:D.y-n,enabled:{[T]:a,[E]:c}}}}}},r4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:c}=t,{offset:p=0,mainAxis:v=!0,crossAxis:y=!0}=Ds(e,t),S={x:r,y:n},E=is(s),T=Tb(E);let z=S[T],U=S[E];const D=Ds(p,t),R=typeof D=="number"?{mainAxis:D,crossAxis:0}:{mainAxis:0,crossAxis:0,...D};if(v){const O=T==="y"?"height":"width",q=a.reference[T]-a.floating[O]+R.mainAxis,ae=a.reference[T]+a.reference[O]-R.mainAxis;z<q?z=q:z>ae&&(z=ae)}if(y){var I,N;const O=T==="y"?"width":"height",q=r2.has(Bs(s)),ae=a.reference[E]-a.floating[O]+(q&&((I=c.offset)==null?void 0:I[E])||0)+(q?0:R.crossAxis),te=a.reference[E]+a.reference[O]+(q?0:((N=c.offset)==null?void 0:N[E])||0)-(q?R.crossAxis:0);U<ae?U=ae:U>te&&(U=te)}return{[T]:z,[E]:U}}}},i4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:c,elements:p}=t,{apply:v=()=>{},...y}=Ds(e,t),S=await Nu(t,y),E=Bs(s),T=Bc(s),z=is(s)==="y",{width:U,height:D}=a.floating;let R,I;E==="top"||E==="bottom"?(R=E,I=T===(await(c.isRTL==null?void 0:c.isRTL(p.floating))?"start":"end")?"left":"right"):(I=E,R=T==="end"?"top":"bottom");const N=D-S.top-S.bottom,O=U-S.left-S.right,q=zo(D-S[R],N),ae=zo(U-S[I],O),te=!t.middlewareData.shift;let ce=q,J=ae;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(J=O),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(ce=N),te&&!T){const Se=zi(S.left,0),be=zi(S.right,0),ve=zi(S.top,0),je=zi(S.bottom,0);z?J=U-2*(Se!==0||be!==0?Se+be:zi(S.left,S.right)):ce=D-2*(ve!==0||je!==0?ve+je:zi(S.top,S.bottom))}await v({...t,availableWidth:J,availableHeight:ce});const we=await c.getDimensions(p.floating);return U!==we.width||D!==we.height?{reset:{rects:!0}}:{}}}};function Eg(){return typeof window<"u"}function $c(e){return i2(e)?(e.nodeName||"").toLowerCase():"#document"}function Ui(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cs(e){var t;return(t=(i2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function i2(e){return Eg()?e instanceof Node||e instanceof Ui(e).Node:!1}function Ln(e){return Eg()?e instanceof Element||e instanceof Ui(e).Element:!1}function ls(e){return Eg()?e instanceof HTMLElement||e instanceof Ui(e).HTMLElement:!1}function uS(e){return!Eg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ui(e).ShadowRoot}const n4=new Set(["inline","contents"]);function Wu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=In(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!n4.has(s)}const s4=new Set(["table","td","th"]);function o4(e){return s4.has($c(e))}const a4=[":popover-open",":modal"];function Mg(e){return a4.some(t=>{try{return e.matches(t)}catch{return!1}})}const l4=["transform","translate","scale","rotate","perspective"],c4=["transform","translate","scale","rotate","perspective","filter"],d4=["paint","layout","strict","content"];function Rb(e){const t=Lb(),r=Ln(e)?In(e):e;return l4.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||c4.some(n=>(r.willChange||"").includes(n))||d4.some(n=>(r.contain||"").includes(n))}function u4(e){let t=Fo(e);for(;ls(t)&&!_c(t);){if(Rb(t))return t;if(Mg(t))return null;t=Fo(t)}return null}function Lb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const h4=new Set(["html","body","#document"]);function _c(e){return h4.has($c(e))}function In(e){return Ui(e).getComputedStyle(e)}function jg(e){return Ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fo(e){if($c(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uS(e)&&e.host||cs(e);return uS(t)?t.host:t}function n2(e){const t=Fo(e);return _c(t)?e.ownerDocument?e.ownerDocument.body:e.body:ls(t)&&Wu(t)?t:n2(t)}function Tu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=n2(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),c=Ui(s);if(a){const p=a0(c);return t.concat(c,c.visualViewport||[],Wu(s)?s:[],p&&r?Tu(p):[])}return t.concat(s,Tu(s,[],r))}function a0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function s2(e){const t=In(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ls(e),a=s?e.offsetWidth:r,c=s?e.offsetHeight:n,p=Wp(r)!==a||Wp(n)!==c;return p&&(r=a,n=c),{width:r,height:n,$:p}}function Ib(e){return Ln(e)?e:e.contextElement}function fc(e){const t=Ib(e);if(!ls(t))return os(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=s2(t);let c=(a?Wp(r.width):r.width)/n,p=(a?Wp(r.height):r.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!p||!Number.isFinite(p))&&(p=1),{x:c,y:p}}const f4=os(0);function o2(e){const t=Ui(e);return!Lb()||!t.visualViewport?f4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function p4(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ui(e)?!1:t}function Ba(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Ib(e);let c=os(1);t&&(n?Ln(n)&&(c=fc(n)):c=fc(e));const p=p4(a,r,n)?o2(a):os(0);let v=(s.left+p.x)/c.x,y=(s.top+p.y)/c.y,S=s.width/c.x,E=s.height/c.y;if(a){const T=Ui(a),z=n&&Ln(n)?Ui(n):n;let U=T,D=a0(U);for(;D&&n&&z!==U;){const R=fc(D),I=D.getBoundingClientRect(),N=In(D),O=I.left+(D.clientLeft+parseFloat(N.paddingLeft))*R.x,q=I.top+(D.clientTop+parseFloat(N.paddingTop))*R.y;v*=R.x,y*=R.y,S*=R.x,E*=R.y,v+=O,y+=q,U=Ui(D),D=a0(U)}}return Hp({width:S,height:E,x:v,y})}function Ag(e,t){const r=jg(e).scrollLeft;return t?t.left+r:Ba(cs(e)).left+r}function a2(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Ag(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function g4(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",c=cs(n),p=t?Mg(t.floating):!1;if(n===c||p&&a)return r;let v={scrollLeft:0,scrollTop:0},y=os(1);const S=os(0),E=ls(n);if((E||!E&&!a)&&(($c(n)!=="body"||Wu(c))&&(v=jg(n)),ls(n))){const z=Ba(n);y=fc(n),S.x=z.x+n.clientLeft,S.y=z.y+n.clientTop}const T=c&&!E&&!a?a2(c,v):os(0);return{width:r.width*y.x,height:r.height*y.y,x:r.x*y.x-v.scrollLeft*y.x+S.x+T.x,y:r.y*y.y-v.scrollTop*y.y+S.y+T.y}}function m4(e){return Array.from(e.getClientRects())}function v4(e){const t=cs(e),r=jg(e),n=e.ownerDocument.body,s=zi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=zi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Ag(e);const p=-r.scrollTop;return In(n).direction==="rtl"&&(c+=zi(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:c,y:p}}const hS=25;function x4(e,t){const r=Ui(e),n=cs(e),s=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,p=0,v=0;if(s){a=s.width,c=s.height;const S=Lb();(!S||S&&t==="fixed")&&(p=s.offsetLeft,v=s.offsetTop)}const y=Ag(n);if(y<=0){const S=n.ownerDocument,E=S.body,T=getComputedStyle(E),z=S.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,U=Math.abs(n.clientWidth-E.clientWidth-z);U<=hS&&(a-=U)}else y<=hS&&(a+=y);return{width:a,height:c,x:p,y:v}}const y4=new Set(["absolute","fixed"]);function b4(e,t){const r=Ba(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=ls(e)?fc(e):os(1),c=e.clientWidth*a.x,p=e.clientHeight*a.y,v=s*a.x,y=n*a.y;return{width:c,height:p,x:v,y}}function fS(e,t,r){let n;if(t==="viewport")n=x4(e,r);else if(t==="document")n=v4(cs(e));else if(Ln(t))n=b4(t,r);else{const s=o2(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Hp(n)}function l2(e,t){const r=Fo(e);return r===t||!Ln(r)||_c(r)?!1:In(r).position==="fixed"||l2(r,t)}function w4(e,t){const r=t.get(e);if(r)return r;let n=Tu(e,[],!1).filter(p=>Ln(p)&&$c(p)!=="body"),s=null;const a=In(e).position==="fixed";let c=a?Fo(e):e;for(;Ln(c)&&!_c(c);){const p=In(c),v=Rb(c);!v&&p.position==="fixed"&&(s=null),(a?!v&&!s:!v&&p.position==="static"&&!!s&&y4.has(s.position)||Wu(c)&&!v&&l2(e,c))?n=n.filter(S=>S!==c):s=p,c=Fo(c)}return t.set(e,n),n}function k4(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const c=[...r==="clippingAncestors"?Mg(t)?[]:w4(t,this._c):[].concat(r),n],p=c[0],v=c.reduce((y,S)=>{const E=fS(t,S,s);return y.top=zi(E.top,y.top),y.right=zo(E.right,y.right),y.bottom=zo(E.bottom,y.bottom),y.left=zi(E.left,y.left),y},fS(t,p,s));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function S4(e){const{width:t,height:r}=s2(e);return{width:t,height:r}}function _4(e,t,r){const n=ls(t),s=cs(t),a=r==="fixed",c=Ba(e,!0,a,t);let p={scrollLeft:0,scrollTop:0};const v=os(0);function y(){v.x=Ag(s)}if(n||!n&&!a)if(($c(t)!=="body"||Wu(s))&&(p=jg(t)),n){const z=Ba(t,!0,a,t);v.x=z.x+t.clientLeft,v.y=z.y+t.clientTop}else s&&y();a&&!n&&s&&y();const S=s&&!n&&!a?a2(s,p):os(0),E=c.left+p.scrollLeft-v.x-S.x,T=c.top+p.scrollTop-v.y-S.y;return{x:E,y:T,width:c.width,height:c.height}}function Ox(e){return In(e).position==="static"}function pS(e,t){if(!ls(e)||In(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return cs(e)===r&&(r=r.ownerDocument.body),r}function c2(e,t){const r=Ui(e);if(Mg(e))return r;if(!ls(e)){let s=Fo(e);for(;s&&!_c(s);){if(Ln(s)&&!Ox(s))return s;s=Fo(s)}return r}let n=pS(e,t);for(;n&&o4(n)&&Ox(n);)n=pS(n,t);return n&&_c(n)&&Ox(n)&&!Rb(n)?r:n||u4(e)||r}const C4=async function(e){const t=this.getOffsetParent||c2,r=this.getDimensions,n=await r(e.floating);return{reference:_4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function E4(e){return In(e).direction==="rtl"}const M4={convertOffsetParentRelativeRectToViewportRelativeRect:g4,getDocumentElement:cs,getClippingRect:k4,getOffsetParent:c2,getElementRects:C4,getClientRects:m4,getDimensions:S4,getScale:fc,isElement:Ln,isRTL:E4};function d2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function j4(e,t){let r=null,n;const s=cs(e);function a(){var p;clearTimeout(n),(p=r)==null||p.disconnect(),r=null}function c(p,v){p===void 0&&(p=!1),v===void 0&&(v=1),a();const y=e.getBoundingClientRect(),{left:S,top:E,width:T,height:z}=y;if(p||t(),!T||!z)return;const U=Gf(E),D=Gf(s.clientWidth-(S+T)),R=Gf(s.clientHeight-(E+z)),I=Gf(S),O={rootMargin:-U+"px "+-D+"px "+-R+"px "+-I+"px",threshold:zi(0,zo(1,v))||1};let q=!0;function ae(te){const ce=te[0].intersectionRatio;if(ce!==v){if(!q)return c();ce?c(!1,ce):n=setTimeout(()=>{c(!1,1e-7)},1e3)}ce===1&&!d2(y,e.getBoundingClientRect())&&c(),q=!1}try{r=new IntersectionObserver(ae,{...O,root:s.ownerDocument})}catch{r=new IntersectionObserver(ae,O)}r.observe(e)}return c(!0),a}function A4(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:v=!1}=n,y=Ib(e),S=s||a?[...y?Tu(y):[],...Tu(t)]:[];S.forEach(I=>{s&&I.addEventListener("scroll",r,{passive:!0}),a&&I.addEventListener("resize",r)});const E=y&&p?j4(y,r):null;let T=-1,z=null;c&&(z=new ResizeObserver(I=>{let[N]=I;N&&N.target===y&&z&&(z.unobserve(t),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var O;(O=z)==null||O.observe(t)})),r()}),y&&!v&&z.observe(y),z.observe(t));let U,D=v?Ba(e):null;v&&R();function R(){const I=Ba(e);D&&!d2(D,I)&&r(),D=I,U=requestAnimationFrame(R)}return r(),()=>{var I;S.forEach(N=>{s&&N.removeEventListener("scroll",r),a&&N.removeEventListener("resize",r)}),E==null||E(),(I=z)==null||I.disconnect(),z=null,v&&cancelAnimationFrame(U)}}const N4=e4,T4=t4,P4=Z3,O4=i4,R4=Q3,gS=K3,L4=r4,I4=(e,t,r)=>{const n=new Map,s={platform:M4,...r},a={...s.platform,_c:n};return q3(e,t,{...s,platform:a})};var D4=typeof document<"u",B4=function(){},up=D4?M.useLayoutEffect:B4;function Gp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Gp(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Gp(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function u2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mS(e,t){const r=u2(e);return Math.round(t*r)/r}function Rx(e){const t=M.useRef(e);return up(()=>{t.current=e}),t}function $4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:c}={},transform:p=!0,whileElementsMounted:v,open:y}=e,[S,E]=M.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[T,z]=M.useState(n);Gp(T,n)||z(n);const[U,D]=M.useState(null),[R,I]=M.useState(null),N=M.useCallback(he=>{he!==te.current&&(te.current=he,D(he))},[]),O=M.useCallback(he=>{he!==ce.current&&(ce.current=he,I(he))},[]),q=a||U,ae=c||R,te=M.useRef(null),ce=M.useRef(null),J=M.useRef(S),we=v!=null,Se=Rx(v),be=Rx(s),ve=Rx(y),je=M.useCallback(()=>{if(!te.current||!ce.current)return;const he={placement:t,strategy:r,middleware:T};be.current&&(he.platform=be.current),I4(te.current,ce.current,he).then(Me=>{const $e={...Me,isPositioned:ve.current!==!1};Fe.current&&!Gp(J.current,$e)&&(J.current=$e,Pc.flushSync(()=>{E($e)}))})},[T,t,r,be,ve]);up(()=>{y===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,E(he=>({...he,isPositioned:!1})))},[y]);const Fe=M.useRef(!1);up(()=>(Fe.current=!0,()=>{Fe.current=!1}),[]),up(()=>{if(q&&(te.current=q),ae&&(ce.current=ae),q&&ae){if(Se.current)return Se.current(q,ae,je);je()}},[q,ae,je,Se,we]);const Ye=M.useMemo(()=>({reference:te,floating:ce,setReference:N,setFloating:O}),[N,O]),ie=M.useMemo(()=>({reference:q,floating:ae}),[q,ae]),ge=M.useMemo(()=>{const he={position:r,left:0,top:0};if(!ie.floating)return he;const Me=mS(ie.floating,S.x),$e=mS(ie.floating,S.y);return p?{...he,transform:"translate("+Me+"px, "+$e+"px)",...u2(ie.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Me,top:$e}},[r,p,ie.floating,S.x,S.y]);return M.useMemo(()=>({...S,update:je,refs:Ye,elements:ie,floatingStyles:ge}),[S,je,Ye,ie,ge])}const z4=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?gS({element:n.current,padding:s}).fn(r):{}:n?gS({element:n,padding:s}).fn(r):{}}}},F4=(e,t)=>({...N4(e),options:[e,t]}),W4=(e,t)=>({...T4(e),options:[e,t]}),U4=(e,t)=>({...L4(e),options:[e,t]}),H4=(e,t)=>({...P4(e),options:[e,t]}),G4=(e,t)=>({...O4(e),options:[e,t]}),V4=(e,t)=>({...R4(e),options:[e,t]}),X4=(e,t)=>({...z4(e),options:[e,t]});var Y4="Arrow",h2=M.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return h.jsx(yt.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});h2.displayName=Y4;var q4=h2;function K4(e){const[t,r]=M.useState(void 0);return Ir(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let c,p;if("borderBoxSize"in a){const v=a.borderBoxSize,y=Array.isArray(v)?v[0]:v;c=y.inlineSize,p=y.blockSize}else c=e.offsetWidth,p=e.offsetHeight;r({width:c,height:p})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Db="Popper",[f2,Ng]=Xo(Db),[Z4,p2]=f2(Db),g2=e=>{const{__scopePopper:t,children:r}=e,[n,s]=M.useState(null);return h.jsx(Z4,{scope:t,anchor:n,onAnchorChange:s,children:r})};g2.displayName=Db;var m2="PopperAnchor",v2=M.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=p2(m2,r),c=M.useRef(null),p=ir(t,c),v=M.useRef(null);return M.useEffect(()=>{const y=v.current;v.current=(n==null?void 0:n.current)||c.current,y!==v.current&&a.onAnchorChange(v.current)}),n?null:h.jsx(yt.div,{...s,ref:p})});v2.displayName=m2;var Bb="PopperContent",[Q4,J4]=f2(Bb),x2=M.forwardRef((e,t)=>{var Oe,st,ut,vt,ft,kt;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:c=0,arrowPadding:p=0,avoidCollisions:v=!0,collisionBoundary:y=[],collisionPadding:S=0,sticky:E="partial",hideWhenDetached:T=!1,updatePositionStrategy:z="optimized",onPlaced:U,...D}=e,R=p2(Bb,r),[I,N]=M.useState(null),O=ir(t,Qe=>N(Qe)),[q,ae]=M.useState(null),te=K4(q),ce=(te==null?void 0:te.width)??0,J=(te==null?void 0:te.height)??0,we=n+(a!=="center"?"-"+a:""),Se=typeof S=="number"?S:{top:0,right:0,bottom:0,left:0,...S},be=Array.isArray(y)?y:[y],ve=be.length>0,je={padding:Se,boundary:be.filter(tB),altBoundary:ve},{refs:Fe,floatingStyles:Ye,placement:ie,isPositioned:ge,middlewareData:he}=$4({strategy:"fixed",placement:we,whileElementsMounted:(...Qe)=>A4(...Qe,{animationFrame:z==="always"}),elements:{reference:R.anchor},middleware:[F4({mainAxis:s+J,alignmentAxis:c}),v&&W4({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?U4():void 0,...je}),v&&H4({...je}),G4({...je,apply:({elements:Qe,rects:Dr,availableWidth:Wr,availableHeight:Xi})=>{const{width:li,height:Ur}=Dr.reference,Yi=Qe.floating.style;Yi.setProperty("--radix-popper-available-width",`${Wr}px`),Yi.setProperty("--radix-popper-available-height",`${Xi}px`),Yi.setProperty("--radix-popper-anchor-width",`${li}px`),Yi.setProperty("--radix-popper-anchor-height",`${Ur}px`)}}),q&&X4({element:q,padding:p}),rB({arrowWidth:ce,arrowHeight:J}),T&&V4({strategy:"referenceHidden",...je})]}),[Me,$e]=w2(ie),Ie=Is(U);Ir(()=>{ge&&(Ie==null||Ie())},[ge,Ie]);const Ee=(Oe=he.arrow)==null?void 0:Oe.x,Ze=(st=he.arrow)==null?void 0:st.y,ot=((ut=he.arrow)==null?void 0:ut.centerOffset)!==0,[tt,Ce]=M.useState();return Ir(()=>{I&&Ce(window.getComputedStyle(I).zIndex)},[I]),h.jsx("div",{ref:Fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ye,transform:ge?Ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(vt=he.transformOrigin)==null?void 0:vt.x,(ft=he.transformOrigin)==null?void 0:ft.y].join(" "),...((kt=he.hide)==null?void 0:kt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(Q4,{scope:r,placedSide:Me,onArrowChange:ae,arrowX:Ee,arrowY:Ze,shouldHideArrow:ot,children:h.jsx(yt.div,{"data-side":Me,"data-align":$e,...D,ref:O,style:{...D.style,animation:ge?void 0:"none"}})})})});x2.displayName=Bb;var y2="PopperArrow",eB={top:"bottom",right:"left",bottom:"top",left:"right"},b2=M.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=J4(y2,n),c=eB[a.placedSide];return h.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:h.jsx(q4,{...s,ref:r,style:{...s.style,display:"block"}})})});b2.displayName=y2;function tB(e){return e!==null}var rB=e=>({name:"transformOrigin",options:e,fn(t){var R,I,N;const{placement:r,rects:n,middlewareData:s}=t,c=((R=s.arrow)==null?void 0:R.centerOffset)!==0,p=c?0:e.arrowWidth,v=c?0:e.arrowHeight,[y,S]=w2(r),E={start:"0%",center:"50%",end:"100%"}[S],T=(((I=s.arrow)==null?void 0:I.x)??0)+p/2,z=(((N=s.arrow)==null?void 0:N.y)??0)+v/2;let U="",D="";return y==="bottom"?(U=c?E:`${T}px`,D=`${-v}px`):y==="top"?(U=c?E:`${T}px`,D=`${n.floating.height+v}px`):y==="right"?(U=`${-v}px`,D=c?E:`${z}px`):y==="left"&&(U=`${n.floating.width+v}px`,D=c?E:`${z}px`),{data:{x:U,y:D}}}});function w2(e){const[t,r="center"]=e.split("-");return[t,r]}var k2=g2,$b=v2,S2=x2,_2=b2,iB="Portal",Tg=M.forwardRef((e,t)=>{var p;const{container:r,...n}=e,[s,a]=M.useState(!1);Ir(()=>a(!0),[]);const c=r||s&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return c?ZO.createPortal(h.jsx(yt.div,{...n,ref:t}),c):null});Tg.displayName=iB;var nB=w0[" useInsertionEffect ".trim().toString()]||Ir;function Cc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,c]=sB({defaultProp:t,onChange:r}),p=e!==void 0,v=p?e:s;{const S=M.useRef(e!==void 0);M.useEffect(()=>{const E=S.current;E!==p&&console.warn(`${n} is changing from ${E?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),S.current=p},[p,n])}const y=M.useCallback(S=>{var E;if(p){const T=oB(S)?S(e):S;T!==e&&((E=c.current)==null||E.call(c,T))}else a(S)},[p,e,a,c]);return[v,y]}function sB({defaultProp:e,onChange:t}){const[r,n]=M.useState(e),s=M.useRef(r),a=M.useRef(t);return nB(()=>{a.current=t},[t]),M.useEffect(()=>{var c;s.current!==r&&((c=a.current)==null||c.call(a,r),s.current=r)},[r,s]),[r,n,a]}function oB(e){return typeof e=="function"}function aB(e){const t=M.useRef({value:e,previous:e});return M.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var C2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lB="VisuallyHidden",cB=M.forwardRef((e,t)=>h.jsx(yt.span,{...e,ref:t,style:{...C2,...e.style}}));cB.displayName=lB;var dB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Il=new WeakMap,Vf=new WeakMap,Xf={},Lx=0,E2=function(e){return e&&(e.host||E2(e.parentNode))},uB=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=E2(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},hB=function(e,t,r,n){var s=uB(t,Array.isArray(e)?e:[e]);Xf[r]||(Xf[r]=new WeakMap);var a=Xf[r],c=[],p=new Set,v=new Set(s),y=function(E){!E||p.has(E)||(p.add(E),y(E.parentNode))};s.forEach(y);var S=function(E){!E||v.has(E)||Array.prototype.forEach.call(E.children,function(T){if(p.has(T))S(T);else try{var z=T.getAttribute(n),U=z!==null&&z!=="false",D=(Il.get(T)||0)+1,R=(a.get(T)||0)+1;Il.set(T,D),a.set(T,R),c.push(T),D===1&&U&&Vf.set(T,!0),R===1&&T.setAttribute(r,"true"),U||T.setAttribute(n,"true")}catch(I){console.error("aria-hidden: cannot operate on ",T,I)}})};return S(t),p.clear(),Lx++,function(){c.forEach(function(E){var T=Il.get(E)-1,z=a.get(E)-1;Il.set(E,T),a.set(E,z),T||(Vf.has(E)||E.removeAttribute(n),Vf.delete(E)),z||E.removeAttribute(r)}),Lx--,Lx||(Il=new WeakMap,Il=new WeakMap,Vf=new WeakMap,Xf={})}},zb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=dB(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),hB(n,s,r,"aria-hidden")):function(){return null}},rs=function(){return rs=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},rs.apply(this,arguments)};function M2(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function fB(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var hp="right-scroll-bar-position",fp="width-before-scroll-bar",pB="with-scroll-bars-hidden",gB="--removed-body-scroll-bar-size";function Ix(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mB(e,t){var r=M.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var vB=typeof window<"u"?M.useLayoutEffect:M.useEffect,vS=new WeakMap;function xB(e,t){var r=mB(null,function(n){return e.forEach(function(s){return Ix(s,n)})});return vB(function(){var n=vS.get(r);if(n){var s=new Set(n),a=new Set(e),c=r.current;s.forEach(function(p){a.has(p)||Ix(p,null)}),a.forEach(function(p){s.has(p)||Ix(p,c)})}vS.set(r,e)},[e]),r}function yB(e){return e}function bB(e,t){t===void 0&&(t=yB);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(p){return p!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(p){return a(p)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var p=r;r=[],p.forEach(a),c=r}var v=function(){var S=c;c=[],S.forEach(a)},y=function(){return Promise.resolve().then(v)};y(),r={push:function(S){c.push(S),y()},filter:function(S){return c=c.filter(S),r}}}};return s}function wB(e){e===void 0&&(e={});var t=bB(null);return t.options=rs({async:!0,ssr:!1},e),t}var j2=function(e){var t=e.sideCar,r=M2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return M.createElement(n,rs({},r))};j2.isSideCarExport=!0;function kB(e,t){return e.useMedium(t),j2}var A2=wB(),Dx=function(){},Pg=M.forwardRef(function(e,t){var r=M.useRef(null),n=M.useState({onScrollCapture:Dx,onWheelCapture:Dx,onTouchMoveCapture:Dx}),s=n[0],a=n[1],c=e.forwardProps,p=e.children,v=e.className,y=e.removeScrollBar,S=e.enabled,E=e.shards,T=e.sideCar,z=e.noRelative,U=e.noIsolation,D=e.inert,R=e.allowPinchZoom,I=e.as,N=I===void 0?"div":I,O=e.gapMode,q=M2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ae=T,te=xB([r,t]),ce=rs(rs({},q),s);return M.createElement(M.Fragment,null,S&&M.createElement(ae,{sideCar:A2,removeScrollBar:y,shards:E,noRelative:z,noIsolation:U,inert:D,setCallbacks:a,allowPinchZoom:!!R,lockRef:r,gapMode:O}),c?M.cloneElement(M.Children.only(p),rs(rs({},ce),{ref:te})):M.createElement(N,rs({},ce,{className:v,ref:te}),p))});Pg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pg.classNames={fullWidth:fp,zeroRight:hp};var SB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _B(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SB();return t&&e.setAttribute("nonce",t),e}function CB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function EB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var MB=function(){var e=0,t=null;return{add:function(r){e==0&&(t=_B())&&(CB(t,r),EB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jB=function(){var e=MB();return function(t,r){M.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},N2=function(){var e=jB(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},AB={left:0,top:0,right:0,gap:0},Bx=function(e){return parseInt(e||"",10)||0},NB=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Bx(r),Bx(n),Bx(s)]},TB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return AB;var t=NB(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},PB=N2(),pc="data-scroll-locked",OB=function(e,t,r,n){var s=e.left,a=e.top,c=e.right,p=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(pB,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(p,"px ").concat(n,`;
  }
  body[`).concat(pc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hp,` {
    right: `).concat(p,"px ").concat(n,`;
  }
  
  .`).concat(fp,` {
    margin-right: `).concat(p,"px ").concat(n,`;
  }
  
  .`).concat(hp," .").concat(hp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(fp," .").concat(fp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(pc,`] {
    `).concat(gB,": ").concat(p,`px;
  }
`)},xS=function(){var e=parseInt(document.body.getAttribute(pc)||"0",10);return isFinite(e)?e:0},RB=function(){M.useEffect(function(){return document.body.setAttribute(pc,(xS()+1).toString()),function(){var e=xS()-1;e<=0?document.body.removeAttribute(pc):document.body.setAttribute(pc,e.toString())}},[])},LB=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;RB();var a=M.useMemo(function(){return TB(s)},[s]);return M.createElement(PB,{styles:OB(a,!t,s,r?"":"!important")})},l0=!1;if(typeof window<"u")try{var Yf=Object.defineProperty({},"passive",{get:function(){return l0=!0,!0}});window.addEventListener("test",Yf,Yf),window.removeEventListener("test",Yf,Yf)}catch{l0=!1}var Dl=l0?{passive:!1}:!1,IB=function(e){return e.tagName==="TEXTAREA"},T2=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!IB(e)&&r[t]==="visible")},DB=function(e){return T2(e,"overflowY")},BB=function(e){return T2(e,"overflowX")},yS=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=P2(e,n);if(s){var a=O2(e,n),c=a[1],p=a[2];if(c>p)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$B=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},zB=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},P2=function(e,t){return e==="v"?DB(t):BB(t)},O2=function(e,t){return e==="v"?$B(t):zB(t)},FB=function(e,t){return e==="h"&&t==="rtl"?-1:1},WB=function(e,t,r,n,s){var a=FB(e,window.getComputedStyle(t).direction),c=a*n,p=r.target,v=t.contains(p),y=!1,S=c>0,E=0,T=0;do{if(!p)break;var z=O2(e,p),U=z[0],D=z[1],R=z[2],I=D-R-a*U;(U||I)&&P2(e,p)&&(E+=I,T+=U);var N=p.parentNode;p=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!v&&p!==document.body||v&&(t.contains(p)||t===p));return(S&&Math.abs(E)<1||!S&&Math.abs(T)<1)&&(y=!0),y},qf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bS=function(e){return[e.deltaX,e.deltaY]},wS=function(e){return e&&"current"in e?e.current:e},UB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},HB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GB=0,Bl=[];function VB(e){var t=M.useRef([]),r=M.useRef([0,0]),n=M.useRef(),s=M.useState(GB++)[0],a=M.useState(N2)[0],c=M.useRef(e);M.useEffect(function(){c.current=e},[e]),M.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var D=fB([e.lockRef.current],(e.shards||[]).map(wS),!0).filter(Boolean);return D.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),D.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var p=M.useCallback(function(D,R){if("touches"in D&&D.touches.length===2||D.type==="wheel"&&D.ctrlKey)return!c.current.allowPinchZoom;var I=qf(D),N=r.current,O="deltaX"in D?D.deltaX:N[0]-I[0],q="deltaY"in D?D.deltaY:N[1]-I[1],ae,te=D.target,ce=Math.abs(O)>Math.abs(q)?"h":"v";if("touches"in D&&ce==="h"&&te.type==="range")return!1;var J=yS(ce,te);if(!J)return!0;if(J?ae=ce:(ae=ce==="v"?"h":"v",J=yS(ce,te)),!J)return!1;if(!n.current&&"changedTouches"in D&&(O||q)&&(n.current=ae),!ae)return!0;var we=n.current||ae;return WB(we,R,D,we==="h"?O:q)},[]),v=M.useCallback(function(D){var R=D;if(!(!Bl.length||Bl[Bl.length-1]!==a)){var I="deltaY"in R?bS(R):qf(R),N=t.current.filter(function(ae){return ae.name===R.type&&(ae.target===R.target||R.target===ae.shadowParent)&&UB(ae.delta,I)})[0];if(N&&N.should){R.cancelable&&R.preventDefault();return}if(!N){var O=(c.current.shards||[]).map(wS).filter(Boolean).filter(function(ae){return ae.contains(R.target)}),q=O.length>0?p(R,O[0]):!c.current.noIsolation;q&&R.cancelable&&R.preventDefault()}}},[]),y=M.useCallback(function(D,R,I,N){var O={name:D,delta:R,target:I,should:N,shadowParent:XB(I)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(q){return q!==O})},1)},[]),S=M.useCallback(function(D){r.current=qf(D),n.current=void 0},[]),E=M.useCallback(function(D){y(D.type,bS(D),D.target,p(D,e.lockRef.current))},[]),T=M.useCallback(function(D){y(D.type,qf(D),D.target,p(D,e.lockRef.current))},[]);M.useEffect(function(){return Bl.push(a),e.setCallbacks({onScrollCapture:E,onWheelCapture:E,onTouchMoveCapture:T}),document.addEventListener("wheel",v,Dl),document.addEventListener("touchmove",v,Dl),document.addEventListener("touchstart",S,Dl),function(){Bl=Bl.filter(function(D){return D!==a}),document.removeEventListener("wheel",v,Dl),document.removeEventListener("touchmove",v,Dl),document.removeEventListener("touchstart",S,Dl)}},[]);var z=e.removeScrollBar,U=e.inert;return M.createElement(M.Fragment,null,U?M.createElement(a,{styles:HB(s)}):null,z?M.createElement(LB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function XB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const YB=kB(A2,VB);var Og=M.forwardRef(function(e,t){return M.createElement(Pg,rs({},e,{ref:t,sideCar:YB}))});Og.classNames=Pg.classNames;var qB=[" ","Enter","ArrowUp","ArrowDown"],KB=[" ","Enter"],$a="Select",[Rg,Lg,ZB]=ZE($a),[zc]=Xo($a,[ZB,Ng]),Ig=Ng(),[QB,Yo]=zc($a),[JB,e$]=zc($a),R2=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:c,defaultValue:p,onValueChange:v,dir:y,name:S,autoComplete:E,disabled:T,required:z,form:U}=e,D=Ig(t),[R,I]=M.useState(null),[N,O]=M.useState(null),[q,ae]=M.useState(!1),te=Ab(y),[ce,J]=Cc({prop:n,defaultProp:s??!1,onChange:a,caller:$a}),[we,Se]=Cc({prop:c,defaultProp:p,onChange:v,caller:$a}),be=M.useRef(null),ve=R?U||!!R.closest("form"):!0,[je,Fe]=M.useState(new Set),Ye=Array.from(je).map(ie=>ie.props.value).join(";");return h.jsx(k2,{...D,children:h.jsxs(QB,{required:z,scope:t,trigger:R,onTriggerChange:I,valueNode:N,onValueNodeChange:O,valueNodeHasChildren:q,onValueNodeHasChildrenChange:ae,contentId:mi(),value:we,onValueChange:Se,open:ce,onOpenChange:J,dir:te,triggerPointerDownPosRef:be,disabled:T,children:[h.jsx(Rg.Provider,{scope:t,children:h.jsx(JB,{scope:e.__scopeSelect,onNativeOptionAdd:M.useCallback(ie=>{Fe(ge=>new Set(ge).add(ie))},[]),onNativeOptionRemove:M.useCallback(ie=>{Fe(ge=>{const he=new Set(ge);return he.delete(ie),he})},[]),children:r})}),ve?h.jsxs(nM,{"aria-hidden":!0,required:z,tabIndex:-1,name:S,autoComplete:E,value:we,onChange:ie=>Se(ie.target.value),disabled:T,form:U,children:[we===void 0?h.jsx("option",{value:""}):null,Array.from(je)]},Ye):null]})})};R2.displayName=$a;var L2="SelectTrigger",I2=M.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Ig(r),c=Yo(L2,r),p=c.disabled||n,v=ir(t,c.onTriggerChange),y=Lg(r),S=M.useRef("touch"),[E,T,z]=oM(D=>{const R=y().filter(O=>!O.disabled),I=R.find(O=>O.value===c.value),N=aM(R,D,I);N!==void 0&&c.onValueChange(N.value)}),U=D=>{p||(c.onOpenChange(!0),z()),D&&(c.triggerPointerDownPosRef.current={x:Math.round(D.pageX),y:Math.round(D.pageY)})};return h.jsx($b,{asChild:!0,...a,children:h.jsx(yt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":sM(c.value)?"":void 0,...s,ref:v,onClick:At(s.onClick,D=>{D.currentTarget.focus(),S.current!=="mouse"&&U(D)}),onPointerDown:At(s.onPointerDown,D=>{S.current=D.pointerType;const R=D.target;R.hasPointerCapture(D.pointerId)&&R.releasePointerCapture(D.pointerId),D.button===0&&D.ctrlKey===!1&&D.pointerType==="mouse"&&(U(D),D.preventDefault())}),onKeyDown:At(s.onKeyDown,D=>{const R=E.current!=="";!(D.ctrlKey||D.altKey||D.metaKey)&&D.key.length===1&&T(D.key),!(R&&D.key===" ")&&qB.includes(D.key)&&(U(),D.preventDefault())})})})});I2.displayName=L2;var D2="SelectValue",B2=M.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:c="",...p}=e,v=Yo(D2,r),{onValueNodeHasChildrenChange:y}=v,S=a!==void 0,E=ir(t,v.onValueNodeChange);return Ir(()=>{y(S)},[y,S]),h.jsx(yt.span,{...p,ref:E,style:{pointerEvents:"none"},children:sM(v.value)?h.jsx(h.Fragment,{children:c}):a})});B2.displayName=D2;var t$="SelectIcon",$2=M.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return h.jsx(yt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});$2.displayName=t$;var r$="SelectPortal",z2=e=>h.jsx(Tg,{asChild:!0,...e});z2.displayName=r$;var za="SelectContent",F2=M.forwardRef((e,t)=>{const r=Yo(za,e.__scopeSelect),[n,s]=M.useState();if(Ir(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Pc.createPortal(h.jsx(W2,{scope:e.__scopeSelect,children:h.jsx(Rg.Slot,{scope:e.__scopeSelect,children:h.jsx("div",{children:e.children})})}),a):null}return h.jsx(U2,{...e,ref:t})});F2.displayName=za;var Mn=10,[W2,qo]=zc(za),i$="SelectContentImpl",n$=Da("SelectContent.RemoveScroll"),U2=M.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:c,side:p,sideOffset:v,align:y,alignOffset:S,arrowPadding:E,collisionBoundary:T,collisionPadding:z,sticky:U,hideWhenDetached:D,avoidCollisions:R,...I}=e,N=Yo(za,r),[O,q]=M.useState(null),[ae,te]=M.useState(null),ce=ir(t,Oe=>q(Oe)),[J,we]=M.useState(null),[Se,be]=M.useState(null),ve=Lg(r),[je,Fe]=M.useState(!1),Ye=M.useRef(!1);M.useEffect(()=>{if(O)return zb(O)},[O]),Nb();const ie=M.useCallback(Oe=>{const[st,...ut]=ve().map(kt=>kt.ref.current),[vt]=ut.slice(-1),ft=document.activeElement;for(const kt of Oe)if(kt===ft||(kt==null||kt.scrollIntoView({block:"nearest"}),kt===st&&ae&&(ae.scrollTop=0),kt===vt&&ae&&(ae.scrollTop=ae.scrollHeight),kt==null||kt.focus(),document.activeElement!==ft))return},[ve,ae]),ge=M.useCallback(()=>ie([J,O]),[ie,J,O]);M.useEffect(()=>{je&&ge()},[je,ge]);const{onOpenChange:he,triggerPointerDownPosRef:Me}=N;M.useEffect(()=>{if(O){let Oe={x:0,y:0};const st=vt=>{var ft,kt;Oe={x:Math.abs(Math.round(vt.pageX)-(((ft=Me.current)==null?void 0:ft.x)??0)),y:Math.abs(Math.round(vt.pageY)-(((kt=Me.current)==null?void 0:kt.y)??0))}},ut=vt=>{Oe.x<=10&&Oe.y<=10?vt.preventDefault():O.contains(vt.target)||he(!1),document.removeEventListener("pointermove",st),Me.current=null};return Me.current!==null&&(document.addEventListener("pointermove",st),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",st),document.removeEventListener("pointerup",ut,{capture:!0})}}},[O,he,Me]),M.useEffect(()=>{const Oe=()=>he(!1);return window.addEventListener("blur",Oe),window.addEventListener("resize",Oe),()=>{window.removeEventListener("blur",Oe),window.removeEventListener("resize",Oe)}},[he]);const[$e,Ie]=oM(Oe=>{const st=ve().filter(ft=>!ft.disabled),ut=st.find(ft=>ft.ref.current===document.activeElement),vt=aM(st,Oe,ut);vt&&setTimeout(()=>vt.ref.current.focus())}),Ee=M.useCallback((Oe,st,ut)=>{const vt=!Ye.current&&!ut;(N.value!==void 0&&N.value===st||vt)&&(we(Oe),vt&&(Ye.current=!0))},[N.value]),Ze=M.useCallback(()=>O==null?void 0:O.focus(),[O]),ot=M.useCallback((Oe,st,ut)=>{const vt=!Ye.current&&!ut;(N.value!==void 0&&N.value===st||vt)&&be(Oe)},[N.value]),tt=n==="popper"?c0:H2,Ce=tt===c0?{side:p,sideOffset:v,align:y,alignOffset:S,arrowPadding:E,collisionBoundary:T,collisionPadding:z,sticky:U,hideWhenDetached:D,avoidCollisions:R}:{};return h.jsx(W2,{scope:r,content:O,viewport:ae,onViewportChange:te,itemRefCallback:Ee,selectedItem:J,onItemLeave:Ze,itemTextRefCallback:ot,focusSelectedItem:ge,selectedItemText:Se,position:n,isPositioned:je,searchRef:$e,children:h.jsx(Og,{as:n$,allowPinchZoom:!0,children:h.jsx(Cg,{asChild:!0,trapped:N.open,onMountAutoFocus:Oe=>{Oe.preventDefault()},onUnmountAutoFocus:At(s,Oe=>{var st;(st=N.trigger)==null||st.focus({preventScroll:!0}),Oe.preventDefault()}),children:h.jsx(_g,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:Oe=>Oe.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:h.jsx(tt,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:Oe=>Oe.preventDefault(),...I,...Ce,onPlaced:()=>Fe(!0),ref:ce,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:At(I.onKeyDown,Oe=>{const st=Oe.ctrlKey||Oe.altKey||Oe.metaKey;if(Oe.key==="Tab"&&Oe.preventDefault(),!st&&Oe.key.length===1&&Ie(Oe.key),["ArrowUp","ArrowDown","Home","End"].includes(Oe.key)){let vt=ve().filter(ft=>!ft.disabled).map(ft=>ft.ref.current);if(["ArrowUp","End"].includes(Oe.key)&&(vt=vt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Oe.key)){const ft=Oe.target,kt=vt.indexOf(ft);vt=vt.slice(kt+1)}setTimeout(()=>ie(vt)),Oe.preventDefault()}})})})})})})});U2.displayName=i$;var s$="SelectItemAlignedPosition",H2=M.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Yo(za,r),c=qo(za,r),[p,v]=M.useState(null),[y,S]=M.useState(null),E=ir(t,ce=>S(ce)),T=Lg(r),z=M.useRef(!1),U=M.useRef(!0),{viewport:D,selectedItem:R,selectedItemText:I,focusSelectedItem:N}=c,O=M.useCallback(()=>{if(a.trigger&&a.valueNode&&p&&y&&D&&R&&I){const ce=a.trigger.getBoundingClientRect(),J=y.getBoundingClientRect(),we=a.valueNode.getBoundingClientRect(),Se=I.getBoundingClientRect();if(a.dir!=="rtl"){const ft=Se.left-J.left,kt=we.left-ft,Qe=ce.left-kt,Dr=ce.width+Qe,Wr=Math.max(Dr,J.width),Xi=window.innerWidth-Mn,li=Qk(kt,[Mn,Math.max(Mn,Xi-Wr)]);p.style.minWidth=Dr+"px",p.style.left=li+"px"}else{const ft=J.right-Se.right,kt=window.innerWidth-we.right-ft,Qe=window.innerWidth-ce.right-kt,Dr=ce.width+Qe,Wr=Math.max(Dr,J.width),Xi=window.innerWidth-Mn,li=Qk(kt,[Mn,Math.max(Mn,Xi-Wr)]);p.style.minWidth=Dr+"px",p.style.right=li+"px"}const be=T(),ve=window.innerHeight-Mn*2,je=D.scrollHeight,Fe=window.getComputedStyle(y),Ye=parseInt(Fe.borderTopWidth,10),ie=parseInt(Fe.paddingTop,10),ge=parseInt(Fe.borderBottomWidth,10),he=parseInt(Fe.paddingBottom,10),Me=Ye+ie+je+he+ge,$e=Math.min(R.offsetHeight*5,Me),Ie=window.getComputedStyle(D),Ee=parseInt(Ie.paddingTop,10),Ze=parseInt(Ie.paddingBottom,10),ot=ce.top+ce.height/2-Mn,tt=ve-ot,Ce=R.offsetHeight/2,Oe=R.offsetTop+Ce,st=Ye+ie+Oe,ut=Me-st;if(st<=ot){const ft=be.length>0&&R===be[be.length-1].ref.current;p.style.bottom="0px";const kt=y.clientHeight-D.offsetTop-D.offsetHeight,Qe=Math.max(tt,Ce+(ft?Ze:0)+kt+ge),Dr=st+Qe;p.style.height=Dr+"px"}else{const ft=be.length>0&&R===be[0].ref.current;p.style.top="0px";const Qe=Math.max(ot,Ye+D.offsetTop+(ft?Ee:0)+Ce)+ut;p.style.height=Qe+"px",D.scrollTop=st-ot+D.offsetTop}p.style.margin=`${Mn}px 0`,p.style.minHeight=$e+"px",p.style.maxHeight=ve+"px",n==null||n(),requestAnimationFrame(()=>z.current=!0)}},[T,a.trigger,a.valueNode,p,y,D,R,I,a.dir,n]);Ir(()=>O(),[O]);const[q,ae]=M.useState();Ir(()=>{y&&ae(window.getComputedStyle(y).zIndex)},[y]);const te=M.useCallback(ce=>{ce&&U.current===!0&&(O(),N==null||N(),U.current=!1)},[O,N]);return h.jsx(a$,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:z,onScrollButtonChange:te,children:h.jsx("div",{ref:v,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:h.jsx(yt.div,{...s,ref:E,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});H2.displayName=s$;var o$="SelectPopperPosition",c0=M.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Mn,...a}=e,c=Ig(r);return h.jsx(S2,{...c,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});c0.displayName=o$;var[a$,Fb]=zc(za,{}),d0="SelectViewport",G2=M.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=qo(d0,r),c=Fb(d0,r),p=ir(t,a.onViewportChange),v=M.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),h.jsx(Rg.Slot,{scope:r,children:h.jsx(yt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:At(s.onScroll,y=>{const S=y.currentTarget,{contentWrapper:E,shouldExpandOnScrollRef:T}=c;if(T!=null&&T.current&&E){const z=Math.abs(v.current-S.scrollTop);if(z>0){const U=window.innerHeight-Mn*2,D=parseFloat(E.style.minHeight),R=parseFloat(E.style.height),I=Math.max(D,R);if(I<U){const N=I+z,O=Math.min(U,N),q=N-O;E.style.height=O+"px",E.style.bottom==="0px"&&(S.scrollTop=q>0?q:0,E.style.justifyContent="flex-end")}}}v.current=S.scrollTop})})})]})});G2.displayName=d0;var V2="SelectGroup",[l$,c$]=zc(V2),d$=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=mi();return h.jsx(l$,{scope:r,id:s,children:h.jsx(yt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});d$.displayName=V2;var X2="SelectLabel",Y2=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=c$(X2,r);return h.jsx(yt.div,{id:s.id,...n,ref:t})});Y2.displayName=X2;var Vp="SelectItem",[u$,q2]=zc(Vp),K2=M.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...c}=e,p=Yo(Vp,r),v=qo(Vp,r),y=p.value===n,[S,E]=M.useState(a??""),[T,z]=M.useState(!1),U=ir(t,N=>{var O;return(O=v.itemRefCallback)==null?void 0:O.call(v,N,n,s)}),D=mi(),R=M.useRef("touch"),I=()=>{s||(p.onValueChange(n),p.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(u$,{scope:r,value:n,disabled:s,textId:D,isSelected:y,onItemTextChange:M.useCallback(N=>{E(O=>O||((N==null?void 0:N.textContent)??"").trim())},[]),children:h.jsx(Rg.ItemSlot,{scope:r,value:n,disabled:s,textValue:S,children:h.jsx(yt.div,{role:"option","aria-labelledby":D,"data-highlighted":T?"":void 0,"aria-selected":y&&T,"data-state":y?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:U,onFocus:At(c.onFocus,()=>z(!0)),onBlur:At(c.onBlur,()=>z(!1)),onClick:At(c.onClick,()=>{R.current!=="mouse"&&I()}),onPointerUp:At(c.onPointerUp,()=>{R.current==="mouse"&&I()}),onPointerDown:At(c.onPointerDown,N=>{R.current=N.pointerType}),onPointerMove:At(c.onPointerMove,N=>{var O;R.current=N.pointerType,s?(O=v.onItemLeave)==null||O.call(v):R.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:At(c.onPointerLeave,N=>{var O;N.currentTarget===document.activeElement&&((O=v.onItemLeave)==null||O.call(v))}),onKeyDown:At(c.onKeyDown,N=>{var q;((q=v.searchRef)==null?void 0:q.current)!==""&&N.key===" "||(KB.includes(N.key)&&I(),N.key===" "&&N.preventDefault())})})})})});K2.displayName=Vp;var Zd="SelectItemText",Z2=M.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,c=Yo(Zd,r),p=qo(Zd,r),v=q2(Zd,r),y=e$(Zd,r),[S,E]=M.useState(null),T=ir(t,I=>E(I),v.onItemTextChange,I=>{var N;return(N=p.itemTextRefCallback)==null?void 0:N.call(p,I,v.value,v.disabled)}),z=S==null?void 0:S.textContent,U=M.useMemo(()=>h.jsx("option",{value:v.value,disabled:v.disabled,children:z},v.value),[v.disabled,v.value,z]),{onNativeOptionAdd:D,onNativeOptionRemove:R}=y;return Ir(()=>(D(U),()=>R(U)),[D,R,U]),h.jsxs(h.Fragment,{children:[h.jsx(yt.span,{id:v.textId,...a,ref:T}),v.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Pc.createPortal(a.children,c.valueNode):null]})});Z2.displayName=Zd;var Q2="SelectItemIndicator",J2=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return q2(Q2,r).isSelected?h.jsx(yt.span,{"aria-hidden":!0,...n,ref:t}):null});J2.displayName=Q2;var u0="SelectScrollUpButton",eM=M.forwardRef((e,t)=>{const r=qo(u0,e.__scopeSelect),n=Fb(u0,e.__scopeSelect),[s,a]=M.useState(!1),c=ir(t,n.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let p=function(){const y=v.scrollTop>0;a(y)};const v=r.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),s?h.jsx(rM,{...e,ref:c,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=r;p&&v&&(p.scrollTop=p.scrollTop-v.offsetHeight)}}):null});eM.displayName=u0;var h0="SelectScrollDownButton",tM=M.forwardRef((e,t)=>{const r=qo(h0,e.__scopeSelect),n=Fb(h0,e.__scopeSelect),[s,a]=M.useState(!1),c=ir(t,n.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let p=function(){const y=v.scrollHeight-v.clientHeight,S=Math.ceil(v.scrollTop)<y;a(S)};const v=r.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),s?h.jsx(rM,{...e,ref:c,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=r;p&&v&&(p.scrollTop=p.scrollTop+v.offsetHeight)}}):null});tM.displayName=h0;var rM=M.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=qo("SelectScrollButton",r),c=M.useRef(null),p=Lg(r),v=M.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return M.useEffect(()=>()=>v(),[v]),Ir(()=>{var S;const y=p().find(E=>E.ref.current===document.activeElement);(S=y==null?void 0:y.ref.current)==null||S.scrollIntoView({block:"nearest"})},[p]),h.jsx(yt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:At(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:At(s.onPointerMove,()=>{var y;(y=a.onItemLeave)==null||y.call(a),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:At(s.onPointerLeave,()=>{v()})})}),h$="SelectSeparator",iM=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return h.jsx(yt.div,{"aria-hidden":!0,...n,ref:t})});iM.displayName=h$;var f0="SelectArrow",f$=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ig(r),a=Yo(f0,r),c=qo(f0,r);return a.open&&c.position==="popper"?h.jsx(_2,{...s,...n,ref:t}):null});f$.displayName=f0;var p$="SelectBubbleInput",nM=M.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=M.useRef(null),a=ir(n,s),c=aB(t);return M.useEffect(()=>{const p=s.current;if(!p)return;const v=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(v,"value").set;if(c!==t&&S){const E=new Event("change",{bubbles:!0});S.call(p,t),p.dispatchEvent(E)}},[c,t]),h.jsx(yt.select,{...r,style:{...C2,...r.style},ref:a,defaultValue:t})});nM.displayName=p$;function sM(e){return e===""||e===void 0}function oM(e){const t=Is(e),r=M.useRef(""),n=M.useRef(0),s=M.useCallback(c=>{const p=r.current+c;t(p),function v(y){r.current=y,window.clearTimeout(n.current),y!==""&&(n.current=window.setTimeout(()=>v(""),1e3))}(p)},[t]),a=M.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function aM(e,t,r){const s=t.length>1&&Array.from(t).every(y=>y===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let c=g$(e,Math.max(a,0));s.length===1&&(c=c.filter(y=>y!==r));const v=c.find(y=>y.textValue.toLowerCase().startsWith(s.toLowerCase()));return v!==r?v:void 0}function g$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var m$=R2,lM=I2,v$=B2,x$=$2,y$=z2,cM=F2,b$=G2,dM=Y2,uM=K2,w$=Z2,k$=J2,hM=eM,fM=tM,pM=iM;const Dg=m$,Bg=v$,Uu=M.forwardRef(({className:e,children:t,...r},n)=>h.jsxs(lM,{ref:n,className:gt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,h.jsx(x$,{asChild:!0,children:h.jsx(VE,{className:"h-4 w-4 opacity-50"})})]}));Uu.displayName=lM.displayName;const gM=M.forwardRef(({className:e,...t},r)=>h.jsx(hM,{ref:r,className:gt("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(H5,{className:"h-4 w-4"})}));gM.displayName=hM.displayName;const mM=M.forwardRef(({className:e,...t},r)=>h.jsx(fM,{ref:r,className:gt("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(VE,{className:"h-4 w-4"})}));mM.displayName=fM.displayName;const Hu=M.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>h.jsx(y$,{children:h.jsxs(cM,{ref:s,className:gt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[h.jsx(gM,{}),h.jsx(b$,{className:gt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),h.jsx(mM,{})]})}));Hu.displayName=cM.displayName;const S$=M.forwardRef(({className:e,...t},r)=>h.jsx(dM,{ref:r,className:gt("px-2 py-1.5 text-sm font-semibold",e),...t}));S$.displayName=dM.displayName;const Ns=M.forwardRef(({className:e,children:t,...r},n)=>h.jsxs(uM,{ref:n,className:gt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[h.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(k$,{children:h.jsx(GE,{className:"h-4 w-4"})})}),h.jsx(w$,{children:t})]}));Ns.displayName=uM.displayName;const _$=M.forwardRef(({className:e,...t},r)=>h.jsx(pM,{ref:r,className:gt("-mx-1 my-1 h-px bg-muted",e),...t}));_$.displayName=pM.displayName;async function C$(){try{const{data:e,error:t}=await Ve.from("seasons").select("*").eq("status","active").single();if(t&&t.code!=="PGRST116")throw t;return e||null}catch(e){return console.error("Failed to fetch active season:",e),null}}async function Fc(){try{const{data:e,error:t}=await Ve.from("seasons").select("*").order("id",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Failed to fetch seasons:",e),[]}}async function E$(e="Active Season",t){try{t==null||t("Fetching current active season...");const{data:r,error:n}=await Ve.from("seasons").select("*").eq("status","active").single();if(n)throw n;if(!r)throw new Error("Active season not found");console.log(` Current season: ${r.name}`),t==null||t("Fetching active players...");const{data:s,error:a}=await Ve.from("players").select("*").not("rating","is",null);if(a)throw a;console.log(` Found ${(s==null?void 0:s.length)||0} active players`),t==null||t("Counting matches...");const{data:c,error:p}=await Ve.from("matches").select("id").eq("season_id",0);if(p)throw p;console.log(` Found ${(c==null?void 0:c.length)||0} matches in season`),t==null||t("Determining new season ID...");const{data:v,error:y}=await Ve.from("seasons").select("id").gt("id",0).order("id",{ascending:!1}).limit(1).single();if(y&&y.code!=="PGRST116")throw y;const S=((v==null?void 0:v.id)||0)+1;if(console.log(` Next season ID: ${S}`),t==null||t("Creating player snapshots..."),s&&s.length>0){const I=s.sort((O,q)=>q.rating-O.rating).map((O,q)=>({season_id:S,player_id:O.id,final_rating:O.rating,final_rd:O.rd,final_volatility:O.volatility,matches_played_count:O.matches_played||0,peak_rating:O.peak_rating,peak_rating_date:O.peak_rating_date,final_rank:q+1})),{error:N}=await Ve.from("season_player_snapshots").insert(I);if(N)throw N;console.log(` Created ${I.length} snapshots`)}t==null||t("Archiving old season...");const{error:E}=await Ve.from("seasons").delete().eq("status","active");if(E)throw E;const{error:T}=await Ve.from("seasons").insert({id:S,name:r.name,status:"archived",start_date:r.start_date,end_date:new Date().toISOString(),description:r.description});if(T)throw T;console.log(` Season ${S} archived`),t==null||t("Updating matches...");const{error:z}=await Ve.from("matches").update({season_id:S}).eq("season_id",0);if(z)throw z;t==null||t("Updating rating events...");const{error:U}=await Ve.from("rating_events").update({season_id:S}).eq("season_id",0);if(U)throw U;console.log(" Updated matches and events"),t==null||t("Creating new active season...");const{error:D}=await Ve.from("seasons").insert({id:0,name:e,status:"active",start_date:new Date().toISOString(),description:"Current active season - use id=0 to reference this"});if(D)throw D;console.log(" New active season created (id = 0)"),t==null||t("Resetting player ratings...");const{error:R}=await Ve.from("players").update({rating:null,rd:null,volatility:null}).neq("id",0);if(R)throw R;return console.log(" All player ratings reset"),t==null||t("Season transition complete!"),{success:!0,newSeasonId:S}}catch(r){const n=r instanceof Error?r.message:String(r);return console.error(" Failed to archive season:",r),{success:!1,error:n}}}async function M$(e){try{const{data:t,error:r}=await Ve.from("season_player_snapshots").select("*, player:players(id, name)").eq("season_id",e).order("final_rank");if(r)throw r;return t||[]}catch(t){return console.error(`Failed to fetch season ${e} leaderboard:`,t),[]}}async function j$(e,t){try{if(t==null||t("Starting season activation..."),e<=0)throw new Error("Cannot activate the current active season or invalid season ID");t==null||t("Fetching target season...");const{data:r,error:n}=await Ve.from("seasons").select("*").eq("id",e).single();if(n||!r)throw new Error("Target season not found");if(r.status==="active")throw new Error("Season is already active");console.log(` Activating season: ${r.name}`),t==null||t("Fetching current active season...");const{data:s,error:a}=await Ve.from("seasons").select("*").eq("status","active").single();if(a||!s)throw new Error("Current active season not found");console.log(` Current active season: ${s.name}`),t==null||t("Determining new IDs...");const{data:c}=await Ve.from("seasons").select("id").gt("id",0).order("id",{ascending:!1}).limit(1).single(),p=((c==null?void 0:c.id)||0)+1;console.log(` Current active season will get ID: ${p}`),t==null||t("Archiving current active season...");const{error:v}=await Ve.from("seasons").update({id:p,status:"archived",end_date:new Date().toISOString()}).eq("status","active");if(v)throw v;console.log(` Current active season archived with ID ${p}`),t==null||t("Updating current season matches...");const{error:y}=await Ve.from("matches").update({season_id:p}).eq("season_id",0);if(y)throw y;t==null||t("Updating current season rating events...");const{error:S}=await Ve.from("rating_events").update({season_id:p}).eq("season_id",0);if(S)throw S;console.log(" Matches and events updated"),t==null||t("Restoring player ratings from season snapshots...");const{data:E,error:T}=await Ve.from("season_player_snapshots").select("*").eq("season_id",e);if(T)throw T;if(E&&E.length>0){for(const R of E){const{error:I}=await Ve.from("players").update({rating:R.final_rating,rd:R.final_rd,volatility:R.final_volatility}).eq("id",R.player_id);I&&console.warn(` Failed to update player ${R.player_id}:`,I)}console.log(` Restored ratings for ${E.length} players`)}t==null||t("Converting target season to active...");const{error:z}=await Ve.from("seasons").update({id:0,status:"active",end_date:null}).eq("id",e);if(z)throw z;console.log(" Target season is now active"),t==null||t("Updating target season matches...");const{error:U}=await Ve.from("matches").update({season_id:0}).eq("season_id",e);if(U)throw U;t==null||t("Updating target season rating events...");const{error:D}=await Ve.from("rating_events").update({season_id:0}).eq("season_id",e);if(D)throw D;return console.log(" All matches and events restored for active season"),t==null||t("Season activation complete!"),{success:!0}}catch(r){const n=r instanceof Error?r.message:String(r);return console.error(" Failed to activate season:",r),{success:!1,error:n}}}const Wd=25;function kS(e,t=0){return e.toLocaleString(void 0,{maximumFractionDigits:t,minimumFractionDigits:t})}function A$(){fn("Leaderboard");const{players:e,matches:t,loading:r,error:n}=kg(),[s,a]=oE(),[c,p]=M.useState([]),[v,y]=M.useState(null),[S,E]=M.useState([]),[T,z]=M.useState(!1);M.useEffect(()=>{(async()=>{const ie=await Fc();p(ie);const ge=ie.find(he=>he.status==="active");ge&&y(ge.id)})()},[]),M.useEffect(()=>{const ie=c.find(he=>he.status==="active"),ge=ie&&v===ie.id;!v||ge||(async()=>{z(!0);const he=await M$(v);E(he),z(!1)})()},[v,c]);const[U,D]=M.useState(()=>{const ie=s.get("page");return ie?parseInt(ie,10):1}),[R,I]=M.useState(()=>s.get("search")||""),[N,O]=M.useState(()=>{const ie=s.get("sort");return ie&&["rating","rd","matches","name"].includes(ie)?ie:"rating"}),[q,ae]=M.useState(()=>{const ie=s.get("dir");return ie==="asc"||ie==="desc"?ie:"desc"});M.useEffect(()=>{const ie=new URLSearchParams;U!==1&&ie.set("page",U.toString()),R&&ie.set("search",R),N!=="rating"&&ie.set("sort",N),q!=="desc"&&ie.set("dir",q);const ge=ie.toString(),he=s.toString();ge!==he&&a(ie)},[U,R,N,q,a,s]);const te=M.useMemo(()=>{const ie=c.find(he=>he.status==="active"),ge=ie&&v===ie.id;return v===null?{players:e.filter(he=>he.rating!==null&&he.rd!==null&&he.volatility!==null),isArchived:!1,isAllSeasons:!0}:ge?{players:e.filter(he=>he.has_played_this_season&&he.rating!==null&&he.rd!==null&&he.volatility!==null),isArchived:!1,isAllSeasons:!1}:{players:S.map(he=>{var Me;return{id:he.player_id,name:((Me=he.player)==null?void 0:Me.name)||`Player ${he.player_id}`,rating:he.final_rating,rd:he.final_rd,volatility:he.final_volatility,matches_played:he.matches_played_count,peak_rating:he.peak_rating,peak_rating_date:he.peak_rating_date}}),isArchived:!0,isAllSeasons:!1}},[v,c,e,S,t]),{rankedPlayers:ce,playerMatchCounts:J,playerRankings:we}=M.useMemo(()=>{const ie=te.players,ge=new Map;if(!te.isArchived&&t)for(const Me of t)ge.set(Me.player1_id,(ge.get(Me.player1_id)??0)+1),ge.set(Me.player2_id,(ge.get(Me.player2_id)??0)+1);else if(te.isArchived)for(const Me of ie)ge.set(Me.id,Me.matches_played||0);const he=new Map;return ie.forEach((Me,$e)=>{he.set(Me.id,$e+1)}),{rankedPlayers:ie,playerMatchCounts:ge,playerRankings:he}},[te,t]),Se=M.useMemo(()=>{let ie=ce.filter(ge=>ge.rating!==null&&ge.rd!==null&&ge.volatility!==null);if(R.trim()){const ge=R.trim().toLowerCase();ie=ie.filter(he=>he.name.toLowerCase().includes(ge))}return ie},[ce,R]),be=M.useMemo(()=>{const ie=[...Se];return ie.sort((ge,he)=>{const Me=J.get(ge.id)??0,$e=J.get(he.id)??0;let Ie=0;switch(N){case"rating":Ie=(ge.rating??0)-(he.rating??0);break;case"rd":Ie=(ge.rd??0)-(he.rd??0);break;case"matches":Ie=Me-$e;break;case"name":Ie=ge.name.localeCompare(he.name);break}return q==="asc"?Ie:-Ie}),ie},[Se,N,q,J]),ve=ie=>{N===ie?ae(ge=>ge==="asc"?"desc":"asc"):(O(ie),ae(ie==="name"?"asc":"desc")),D(1)},je=Math.ceil(be.length/Wd),Fe=M.useMemo(()=>{const ie=(U-1)*Wd,ge=ie+Wd;return be.slice(ie,ge)},[be,U]),Ye=ie=>{const ge=Fe[ie];return ge?we.get(ge.id)??0:0};return U>je&&je>0&&D(1),h.jsxs("section",{className:"space-y-8",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-primary/30 pb-4",children:[h.jsx("h1",{className:"text-4xl font-heading font-bold text-primary drop-shadow-[0_0_10px_rgba(234,179,8,0.3)] uppercase tracking-widest",children:"Leaderboard"}),h.jsx("div",{className:"h-1 w-24 bg-primary/50 rounded-full"})]}),r&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),n&&h.jsxs("div",{className:"text-destructive text-center py-8 font-heading",children:["Error loading data: ",n]}),!r&&!n&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 bg-card/50 p-4 rounded-lg border border-border/30 backdrop-blur-sm",children:[h.jsx("div",{className:"w-full md:w-auto flex-1",children:h.jsxs(Dg,{value:v===null?"all":v.toString(),onValueChange:ie=>y(ie==="all"?null:parseInt(ie,10)),children:[h.jsx(Uu,{className:"w-full bg-background/50 border-primary/30 focus:ring-primary/50",children:h.jsx(Bg,{placeholder:"Select a season"})}),h.jsxs(Hu,{children:[h.jsx(Ns,{value:"all",children:"All seasons"}),c.filter(ie=>ie.status==="active").map(ie=>h.jsx(Ns,{value:ie.id.toString(),children:ie.name},ie.id)),c.filter(ie=>ie.status==="archived").sort((ie,ge)=>ie.id-ge.id).map(ie=>h.jsxs(Ns,{value:ie.id.toString(),children:[ie.name," (Archived)"]},ie.id))]})]})}),h.jsx("div",{className:"w-full md:w-auto flex-1",children:h.jsx(Zr,{placeholder:"Search warrior",value:R,onChange:ie=>{D(1),I(ie.target.value)},className:"w-full bg-background/50 border-primary/30 focus:ring-primary/50"})})]}),T&&h.jsx("p",{className:"text-muted-foreground text-center italic",children:"Loading season data..."}),h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(qr,{className:"border-b border-border/30 bg-muted/20",children:h.jsxs(Kr,{className:"font-heading uppercase tracking-widest text-lg flex items-center gap-2",children:[h.jsx("span",{className:"text-primary",children:""})," Current Standings"]})}),h.jsx(xr,{className:"p-0",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{className:"text-left text-muted-foreground bg-muted/30 font-heading uppercase tracking-wider text-xs",children:h.jsxs("tr",{children:[!te.isAllSeasons&&h.jsx("th",{className:"py-3 px-4 w-20 text-center",children:"Rank"}),h.jsx("th",{className:"py-3 px-4",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors",onClick:()=>ve("name"),children:[h.jsx("span",{className:"hidden sm:inline",children:"Warrior"}),h.jsx("span",{className:"sm:hidden",children:"Name"}),N==="name"?q==="asc"?h.jsx(nc,{size:14}):h.jsx(ic,{size:14}):h.jsx(Hf,{size:14,className:"opacity-50"})]})}),!te.isAllSeasons&&h.jsx("th",{className:"py-3 px-4 text-right",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors ml-auto",onClick:()=>ve("rating"),children:[h.jsx("span",{className:"hidden sm:inline",children:"Rating"}),h.jsx("span",{className:"sm:hidden",children:"Rtng"}),N==="rating"?q==="asc"?h.jsx(nc,{size:14}):h.jsx(ic,{size:14}):h.jsx(Hf,{size:14,className:"opacity-50"})]})}),!te.isAllSeasons&&h.jsx("th",{className:"py-3 px-4 text-right hidden sm:table-cell",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors ml-auto",onClick:()=>ve("rd"),title:"Rating Deviation",children:[h.jsx("span",{children:"Deviation"}),N==="rd"?q==="asc"?h.jsx(nc,{size:14}):h.jsx(ic,{size:14}):h.jsx(Hf,{size:14,className:"opacity-50"})]})}),h.jsx("th",{className:"py-3 px-4 text-right hidden sm:table-cell",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors ml-auto",onClick:()=>ve("matches"),children:[h.jsx("span",{children:"Battles"}),N==="matches"?q==="asc"?h.jsx(nc,{size:14}):h.jsx(ic,{size:14}):h.jsx(Hf,{size:14,className:"opacity-50"})]})})]})}),h.jsx("tbody",{className:"divide-y divide-border/20",children:be.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:te.isAllSeasons?2:5,className:"py-12 text-center text-muted-foreground font-heading italic",children:R?`No warriors found matching "${R}"`:"No warriors found."})}):Fe.map((ie,ge)=>{const he=Ye(ge),Me=J.get(ie.id)??0,$e=!te.isAllSeasons&&he<=3;return h.jsxs("tr",{className:`group transition-colors hover:bg-primary/5 ${$e?"bg-primary/5":""}`,children:[!te.isAllSeasons&&h.jsx("td",{className:"py-3 px-4 text-center",children:h.jsxs("div",{className:`font-heading font-bold text-base ${he===1?"text-yellow-500 drop-shadow-[0_0_5px_rgba(234,179,8,0.5)]":he===2?"text-gray-300 drop-shadow-[0_0_5px_rgba(209,213,219,0.5)]":he===3?"text-amber-700 drop-shadow-[0_0_5px_rgba(180,83,9,0.5)]":"text-muted-foreground"}`,children:["#",he]})}),h.jsx("td",{className:"py-3 px-4",children:h.jsxs(Mr,{className:"flex items-center gap-3 group/link",to:`/players/${ie.id}`,children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:`absolute inset-0 rounded-full blur-sm opacity-0 group-hover/link:opacity-100 transition-opacity ${!te.isAllSeasons&&he===1?"bg-yellow-500/50":"bg-primary/30"}`}),h.jsx(Ls,{name:ie.name,twitter:ie.twitter,size:40,className:`h-10 w-10 border-2 relative z-10 transition-colors ${te.isAllSeasons?"border-border group-hover/link:border-primary":he===1?"border-yellow-500":he===2?"border-gray-300":he===3?"border-amber-700":"border-border group-hover/link:border-primary"}`})]}),h.jsx("span",{className:`font-heading font-bold text-base transition-colors ${!te.isAllSeasons&&he<=3?"text-foreground":"text-foreground/90 group-hover/link:text-primary"}`,children:ie.name})]})}),!te.isAllSeasons&&h.jsx("td",{className:"py-3 px-4 text-right font-mono font-bold text-lg text-primary",children:kS(ie.rating??0,0)}),!te.isAllSeasons&&h.jsx("td",{className:"py-3 px-4 text-right hidden sm:table-cell text-muted-foreground font-mono",children:kS(ie.rd??0,0)}),h.jsx("td",{className:"py-3 px-4 text-right hidden sm:table-cell text-foreground font-bold",children:Me})]},ie.id)})})]})})})]})]}),!r&&be.length>Wd&&h.jsx(Sb,{currentPage:U,totalPages:je,onPageChange:D,itemsPerPage:Wd,totalItems:be.length})]})}var SS=1,N$=.9,T$=.8,P$=.17,$x=.1,zx=.999,O$=.9999,R$=.99,L$=/[\\\/_+.#"@\[\(\{&]/,I$=/[\\\/_+.#"@\[\(\{&]/g,D$=/[\s-]/,vM=/[\s-]/g;function p0(e,t,r,n,s,a,c){if(a===t.length)return s===e.length?SS:R$;var p=`${s},${a}`;if(c[p]!==void 0)return c[p];for(var v=n.charAt(a),y=r.indexOf(v,s),S=0,E,T,z,U;y>=0;)E=p0(e,t,r,n,y+1,a+1,c),E>S&&(y===s?E*=SS:L$.test(e.charAt(y-1))?(E*=T$,z=e.slice(s,y-1).match(I$),z&&s>0&&(E*=Math.pow(zx,z.length))):D$.test(e.charAt(y-1))?(E*=N$,U=e.slice(s,y-1).match(vM),U&&s>0&&(E*=Math.pow(zx,U.length))):(E*=P$,s>0&&(E*=Math.pow(zx,y-s))),e.charAt(y)!==t.charAt(a)&&(E*=O$)),(E<$x&&r.charAt(y-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&r.charAt(y-1)!==n.charAt(a))&&(T=p0(e,t,r,n,y+1,a+2,c),T*$x>E&&(E=T*$x)),E>S&&(S=E),y=r.indexOf(v,y+1);return c[p]=S,S}function _S(e){return e.toLowerCase().replace(vM," ")}function B$(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,p0(e,t,_S(e),_S(t),0,0,{})}function $$(e,t){return M.useReducer((r,n)=>t[r][n]??r,e)}var Za=e=>{const{present:t,children:r}=e,n=z$(t),s=typeof r=="function"?r({present:n.isPresent}):M.Children.only(r),a=ir(n.ref,F$(s));return typeof r=="function"||n.isPresent?M.cloneElement(s,{ref:a}):null};Za.displayName="Presence";function z$(e){const[t,r]=M.useState(),n=M.useRef(null),s=M.useRef(e),a=M.useRef("none"),c=e?"mounted":"unmounted",[p,v]=$$(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const y=Kf(n.current);a.current=p==="mounted"?y:"none"},[p]),Ir(()=>{const y=n.current,S=s.current;if(S!==e){const T=a.current,z=Kf(y);e?v("MOUNT"):z==="none"||(y==null?void 0:y.display)==="none"?v("UNMOUNT"):v(S&&T!==z?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,v]),Ir(()=>{if(t){let y;const S=t.ownerDocument.defaultView??window,E=z=>{const D=Kf(n.current).includes(CSS.escape(z.animationName));if(z.target===t&&D&&(v("ANIMATION_END"),!s.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",y=S.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},T=z=>{z.target===t&&(a.current=Kf(n.current))};return t.addEventListener("animationstart",T),t.addEventListener("animationcancel",E),t.addEventListener("animationend",E),()=>{S.clearTimeout(y),t.removeEventListener("animationstart",T),t.removeEventListener("animationcancel",E),t.removeEventListener("animationend",E)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:M.useCallback(y=>{n.current=y?getComputedStyle(y):null,r(y)},[])}}function Kf(e){return(e==null?void 0:e.animationName)||"none"}function F$(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $g="Dialog",[xM]=Xo($g),[W$,Dn]=xM($g),yM=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:c=!0}=e,p=M.useRef(null),v=M.useRef(null),[y,S]=Cc({prop:n,defaultProp:s??!1,onChange:a,caller:$g});return h.jsx(W$,{scope:t,triggerRef:p,contentRef:v,contentId:mi(),titleId:mi(),descriptionId:mi(),open:y,onOpenChange:S,onOpenToggle:M.useCallback(()=>S(E=>!E),[S]),modal:c,children:r})};yM.displayName=$g;var bM="DialogTrigger",U$=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(bM,r),a=ir(t,s.triggerRef);return h.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Hb(s.open),...n,ref:a,onClick:At(e.onClick,s.onOpenToggle)})});U$.displayName=bM;var Wb="DialogPortal",[H$,wM]=xM(Wb,{forceMount:void 0}),kM=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Dn(Wb,t);return h.jsx(H$,{scope:t,forceMount:r,children:M.Children.map(n,c=>h.jsx(Za,{present:r||a.open,children:h.jsx(Tg,{asChild:!0,container:s,children:c})}))})};kM.displayName=Wb;var Xp="DialogOverlay",SM=M.forwardRef((e,t)=>{const r=wM(Xp,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Dn(Xp,e.__scopeDialog);return a.modal?h.jsx(Za,{present:n||a.open,children:h.jsx(V$,{...s,ref:t})}):null});SM.displayName=Xp;var G$=Da("DialogOverlay.RemoveScroll"),V$=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(Xp,r);return h.jsx(Og,{as:G$,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(yt.div,{"data-state":Hb(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Fa="DialogContent",_M=M.forwardRef((e,t)=>{const r=wM(Fa,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Dn(Fa,e.__scopeDialog);return h.jsx(Za,{present:n||a.open,children:a.modal?h.jsx(X$,{...s,ref:t}):h.jsx(Y$,{...s,ref:t})})});_M.displayName=Fa;var X$=M.forwardRef((e,t)=>{const r=Dn(Fa,e.__scopeDialog),n=M.useRef(null),s=ir(t,r.contentRef,n);return M.useEffect(()=>{const a=n.current;if(a)return zb(a)},[]),h.jsx(CM,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,p=c.button===0&&c.ctrlKey===!0;(c.button===2||p)&&a.preventDefault()}),onFocusOutside:At(e.onFocusOutside,a=>a.preventDefault())})}),Y$=M.forwardRef((e,t)=>{const r=Dn(Fa,e.__scopeDialog),n=M.useRef(!1),s=M.useRef(!1);return h.jsx(CM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,p;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(n.current||(p=r.triggerRef.current)==null||p.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var v,y;(v=e.onInteractOutside)==null||v.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=a.target;((y=r.triggerRef.current)==null?void 0:y.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),CM=M.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...c}=e,p=Dn(Fa,r),v=M.useRef(null),y=ir(t,v);return Nb(),h.jsxs(h.Fragment,{children:[h.jsx(Cg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:h.jsx(_g,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Hb(p.open),...c,ref:y,onDismiss:()=>p.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(q$,{titleId:p.titleId}),h.jsx(Z$,{contentRef:v,descriptionId:p.descriptionId})]})]})}),Ub="DialogTitle",EM=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(Ub,r);return h.jsx(yt.h2,{id:s.titleId,...n,ref:t})});EM.displayName=Ub;var MM="DialogDescription",jM=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(MM,r);return h.jsx(yt.p,{id:s.descriptionId,...n,ref:t})});jM.displayName=MM;var AM="DialogClose",NM=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(AM,r);return h.jsx(yt.button,{type:"button",...n,ref:t,onClick:At(e.onClick,()=>s.onOpenChange(!1))})});NM.displayName=AM;function Hb(e){return e?"open":"closed"}var TM="DialogTitleWarning",[iW,PM]=m3(TM,{contentName:Fa,titleName:Ub,docsSlug:"dialog"}),q$=({titleId:e})=>{const t=PM(TM),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return M.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},K$="DialogDescriptionWarning",Z$=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PM(K$).contentName}}.`;return M.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},OM=yM,RM=kM,Gb=SM,Vb=_M,LM=EM,IM=jM,Q$=NM,Ud='[cmdk-group=""]',Fx='[cmdk-group-items=""]',J$='[cmdk-group-heading=""]',DM='[cmdk-item=""]',CS=`${DM}:not([aria-disabled="true"])`,g0="cmdk-item-select",Ul="data-value",ez=(e,t,r)=>B$(e,t,r),BM=M.createContext(void 0),Gu=()=>M.useContext(BM),$M=M.createContext(void 0),Xb=()=>M.useContext($M),zM=M.createContext(void 0),FM=M.forwardRef((e,t)=>{let r=Hl(()=>{var Ee,Ze;return{search:"",value:(Ze=(Ee=e.value)!=null?Ee:e.defaultValue)!=null?Ze:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Hl(()=>new Set),s=Hl(()=>new Map),a=Hl(()=>new Map),c=Hl(()=>new Set),p=WM(e),{label:v,children:y,value:S,onValueChange:E,filter:T,shouldFilter:z,loop:U,disablePointerSelection:D=!1,vimBindings:R=!0,...I}=e,N=mi(),O=mi(),q=mi(),ae=M.useRef(null),te=uz();Wa(()=>{if(S!==void 0){let Ee=S.trim();r.current.value=Ee,ce.emit()}},[S]),Wa(()=>{te(6,je)},[]);let ce=M.useMemo(()=>({subscribe:Ee=>(c.current.add(Ee),()=>c.current.delete(Ee)),snapshot:()=>r.current,setState:(Ee,Ze,ot)=>{var tt,Ce,Oe,st;if(!Object.is(r.current[Ee],Ze)){if(r.current[Ee]=Ze,Ee==="search")ve(),Se(),te(1,be);else if(Ee==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ut=document.getElementById(q);ut?ut.focus():(tt=document.getElementById(N))==null||tt.focus()}if(te(7,()=>{var ut;r.current.selectedItemId=(ut=Fe())==null?void 0:ut.id,ce.emit()}),ot||te(5,je),((Ce=p.current)==null?void 0:Ce.value)!==void 0){let ut=Ze??"";(st=(Oe=p.current).onValueChange)==null||st.call(Oe,ut);return}}ce.emit()}},emit:()=>{c.current.forEach(Ee=>Ee())}}),[]),J=M.useMemo(()=>({value:(Ee,Ze,ot)=>{var tt;Ze!==((tt=a.current.get(Ee))==null?void 0:tt.value)&&(a.current.set(Ee,{value:Ze,keywords:ot}),r.current.filtered.items.set(Ee,we(Ze,ot)),te(2,()=>{Se(),ce.emit()}))},item:(Ee,Ze)=>(n.current.add(Ee),Ze&&(s.current.has(Ze)?s.current.get(Ze).add(Ee):s.current.set(Ze,new Set([Ee]))),te(3,()=>{ve(),Se(),r.current.value||be(),ce.emit()}),()=>{a.current.delete(Ee),n.current.delete(Ee),r.current.filtered.items.delete(Ee);let ot=Fe();te(4,()=>{ve(),(ot==null?void 0:ot.getAttribute("id"))===Ee&&be(),ce.emit()})}),group:Ee=>(s.current.has(Ee)||s.current.set(Ee,new Set),()=>{a.current.delete(Ee),s.current.delete(Ee)}),filter:()=>p.current.shouldFilter,label:v||e["aria-label"],getDisablePointerSelection:()=>p.current.disablePointerSelection,listId:N,inputId:q,labelId:O,listInnerRef:ae}),[]);function we(Ee,Ze){var ot,tt;let Ce=(tt=(ot=p.current)==null?void 0:ot.filter)!=null?tt:ez;return Ee?Ce(Ee,r.current.search,Ze):0}function Se(){if(!r.current.search||p.current.shouldFilter===!1)return;let Ee=r.current.filtered.items,Ze=[];r.current.filtered.groups.forEach(tt=>{let Ce=s.current.get(tt),Oe=0;Ce.forEach(st=>{let ut=Ee.get(st);Oe=Math.max(ut,Oe)}),Ze.push([tt,Oe])});let ot=ae.current;Ye().sort((tt,Ce)=>{var Oe,st;let ut=tt.getAttribute("id"),vt=Ce.getAttribute("id");return((Oe=Ee.get(vt))!=null?Oe:0)-((st=Ee.get(ut))!=null?st:0)}).forEach(tt=>{let Ce=tt.closest(Fx);Ce?Ce.appendChild(tt.parentElement===Ce?tt:tt.closest(`${Fx} > *`)):ot.appendChild(tt.parentElement===ot?tt:tt.closest(`${Fx} > *`))}),Ze.sort((tt,Ce)=>Ce[1]-tt[1]).forEach(tt=>{var Ce;let Oe=(Ce=ae.current)==null?void 0:Ce.querySelector(`${Ud}[${Ul}="${encodeURIComponent(tt[0])}"]`);Oe==null||Oe.parentElement.appendChild(Oe)})}function be(){let Ee=Ye().find(ot=>ot.getAttribute("aria-disabled")!=="true"),Ze=Ee==null?void 0:Ee.getAttribute(Ul);ce.setState("value",Ze||void 0)}function ve(){var Ee,Ze,ot,tt;if(!r.current.search||p.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Ce=0;for(let Oe of n.current){let st=(Ze=(Ee=a.current.get(Oe))==null?void 0:Ee.value)!=null?Ze:"",ut=(tt=(ot=a.current.get(Oe))==null?void 0:ot.keywords)!=null?tt:[],vt=we(st,ut);r.current.filtered.items.set(Oe,vt),vt>0&&Ce++}for(let[Oe,st]of s.current)for(let ut of st)if(r.current.filtered.items.get(ut)>0){r.current.filtered.groups.add(Oe);break}r.current.filtered.count=Ce}function je(){var Ee,Ze,ot;let tt=Fe();tt&&(((Ee=tt.parentElement)==null?void 0:Ee.firstChild)===tt&&((ot=(Ze=tt.closest(Ud))==null?void 0:Ze.querySelector(J$))==null||ot.scrollIntoView({block:"nearest"})),tt.scrollIntoView({block:"nearest"}))}function Fe(){var Ee;return(Ee=ae.current)==null?void 0:Ee.querySelector(`${DM}[aria-selected="true"]`)}function Ye(){var Ee;return Array.from(((Ee=ae.current)==null?void 0:Ee.querySelectorAll(CS))||[])}function ie(Ee){let Ze=Ye()[Ee];Ze&&ce.setState("value",Ze.getAttribute(Ul))}function ge(Ee){var Ze;let ot=Fe(),tt=Ye(),Ce=tt.findIndex(st=>st===ot),Oe=tt[Ce+Ee];(Ze=p.current)!=null&&Ze.loop&&(Oe=Ce+Ee<0?tt[tt.length-1]:Ce+Ee===tt.length?tt[0]:tt[Ce+Ee]),Oe&&ce.setState("value",Oe.getAttribute(Ul))}function he(Ee){let Ze=Fe(),ot=Ze==null?void 0:Ze.closest(Ud),tt;for(;ot&&!tt;)ot=Ee>0?cz(ot,Ud):dz(ot,Ud),tt=ot==null?void 0:ot.querySelector(CS);tt?ce.setState("value",tt.getAttribute(Ul)):ge(Ee)}let Me=()=>ie(Ye().length-1),$e=Ee=>{Ee.preventDefault(),Ee.metaKey?Me():Ee.altKey?he(1):ge(1)},Ie=Ee=>{Ee.preventDefault(),Ee.metaKey?ie(0):Ee.altKey?he(-1):ge(-1)};return M.createElement(yt.div,{ref:t,tabIndex:-1,...I,"cmdk-root":"",onKeyDown:Ee=>{var Ze;(Ze=I.onKeyDown)==null||Ze.call(I,Ee);let ot=Ee.nativeEvent.isComposing||Ee.keyCode===229;if(!(Ee.defaultPrevented||ot))switch(Ee.key){case"n":case"j":{R&&Ee.ctrlKey&&$e(Ee);break}case"ArrowDown":{$e(Ee);break}case"p":case"k":{R&&Ee.ctrlKey&&Ie(Ee);break}case"ArrowUp":{Ie(Ee);break}case"Home":{Ee.preventDefault(),ie(0);break}case"End":{Ee.preventDefault(),Me();break}case"Enter":{Ee.preventDefault();let tt=Fe();if(tt){let Ce=new Event(g0);tt.dispatchEvent(Ce)}}}}},M.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:fz},v),zg(e,Ee=>M.createElement($M.Provider,{value:ce},M.createElement(BM.Provider,{value:J},Ee))))}),tz=M.forwardRef((e,t)=>{var r,n;let s=mi(),a=M.useRef(null),c=M.useContext(zM),p=Gu(),v=WM(e),y=(n=(r=v.current)==null?void 0:r.forceMount)!=null?n:c==null?void 0:c.forceMount;Wa(()=>{if(!y)return p.item(s,c==null?void 0:c.id)},[y]);let S=UM(s,a,[e.value,e.children,a],e.keywords),E=Xb(),T=Wo(te=>te.value&&te.value===S.current),z=Wo(te=>y||p.filter()===!1?!0:te.search?te.filtered.items.get(s)>0:!0);M.useEffect(()=>{let te=a.current;if(!(!te||e.disabled))return te.addEventListener(g0,U),()=>te.removeEventListener(g0,U)},[z,e.onSelect,e.disabled]);function U(){var te,ce;D(),(ce=(te=v.current).onSelect)==null||ce.call(te,S.current)}function D(){E.setState("value",S.current,!0)}if(!z)return null;let{disabled:R,value:I,onSelect:N,forceMount:O,keywords:q,...ae}=e;return M.createElement(yt.div,{ref:Ia(a,t),...ae,id:s,"cmdk-item":"",role:"option","aria-disabled":!!R,"aria-selected":!!T,"data-disabled":!!R,"data-selected":!!T,onPointerMove:R||p.getDisablePointerSelection()?void 0:D,onClick:R?void 0:U},e.children)}),rz=M.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...a}=e,c=mi(),p=M.useRef(null),v=M.useRef(null),y=mi(),S=Gu(),E=Wo(z=>s||S.filter()===!1?!0:z.search?z.filtered.groups.has(c):!0);Wa(()=>S.group(c),[]),UM(c,p,[e.value,e.heading,v]);let T=M.useMemo(()=>({id:c,forceMount:s}),[s]);return M.createElement(yt.div,{ref:Ia(p,t),...a,"cmdk-group":"",role:"presentation",hidden:E?void 0:!0},r&&M.createElement("div",{ref:v,"cmdk-group-heading":"","aria-hidden":!0,id:y},r),zg(e,z=>M.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?y:void 0},M.createElement(zM.Provider,{value:T},z))))}),iz=M.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=M.useRef(null),a=Wo(c=>!c.search);return!r&&!a?null:M.createElement(yt.div,{ref:Ia(s,t),...n,"cmdk-separator":"",role:"separator"})}),nz=M.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,a=Xb(),c=Wo(y=>y.search),p=Wo(y=>y.selectedItemId),v=Gu();return M.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),M.createElement(yt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":v.listId,"aria-labelledby":v.labelId,"aria-activedescendant":p,id:v.inputId,type:"text",value:s?e.value:c,onChange:y=>{s||a.setState("search",y.target.value),r==null||r(y.target.value)}})}),sz=M.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,a=M.useRef(null),c=M.useRef(null),p=Wo(y=>y.selectedItemId),v=Gu();return M.useEffect(()=>{if(c.current&&a.current){let y=c.current,S=a.current,E,T=new ResizeObserver(()=>{E=requestAnimationFrame(()=>{let z=y.offsetHeight;S.style.setProperty("--cmdk-list-height",z.toFixed(1)+"px")})});return T.observe(y),()=>{cancelAnimationFrame(E),T.unobserve(y)}}},[]),M.createElement(yt.div,{ref:Ia(a,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":p,"aria-label":n,id:v.listId},zg(e,y=>M.createElement("div",{ref:Ia(c,v.listInnerRef),"cmdk-list-sizer":""},y)))}),oz=M.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:a,container:c,...p}=e;return M.createElement(OM,{open:r,onOpenChange:n},M.createElement(RM,{container:c},M.createElement(Gb,{"cmdk-overlay":"",className:s}),M.createElement(Vb,{"aria-label":e.label,"cmdk-dialog":"",className:a},M.createElement(FM,{ref:t,...p}))))}),az=M.forwardRef((e,t)=>Wo(r=>r.filtered.count===0)?M.createElement(yt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),lz=M.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...a}=e;return M.createElement(yt.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},zg(e,c=>M.createElement("div",{"aria-hidden":!0},c)))}),Pi=Object.assign(FM,{List:sz,Item:tz,Input:nz,Group:rz,Separator:iz,Dialog:oz,Empty:az,Loading:lz});function cz(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function dz(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function WM(e){let t=M.useRef(e);return Wa(()=>{t.current=e}),t}var Wa=typeof window>"u"?M.useEffect:M.useLayoutEffect;function Hl(e){let t=M.useRef();return t.current===void 0&&(t.current=e()),t}function Wo(e){let t=Xb(),r=()=>e(t.snapshot());return M.useSyncExternalStore(t.subscribe,r,r)}function UM(e,t,r,n=[]){let s=M.useRef(),a=Gu();return Wa(()=>{var c;let p=(()=>{var y;for(let S of r){if(typeof S=="string")return S.trim();if(typeof S=="object"&&"current"in S)return S.current?(y=S.current.textContent)==null?void 0:y.trim():s.current}})(),v=n.map(y=>y.trim());a.value(e,p,v),(c=t.current)==null||c.setAttribute(Ul,p),s.current=p}),s}var uz=()=>{let[e,t]=M.useState(),r=Hl(()=>new Map);return Wa(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function hz(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function zg({asChild:e,children:t},r){return e&&M.isValidElement(t)?M.cloneElement(hz(t),{ref:t.ref},r(t.props.children)):r(t)}var fz={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ec=OM,pz=RM,HM=M.forwardRef(({className:e,...t},r)=>h.jsx(Gb,{ref:r,className:gt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));HM.displayName=Gb.displayName;const Ua=M.forwardRef(({className:e,children:t,...r},n)=>h.jsxs(pz,{children:[h.jsx(HM,{}),h.jsxs(Vb,{ref:n,className:gt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,h.jsxs(Q$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(jb,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ua.displayName=Vb.displayName;const Ha=({className:e,...t})=>h.jsx("div",{className:gt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ha.displayName="DialogHeader";const Vu=({className:e,...t})=>h.jsx("div",{className:gt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Vu.displayName="DialogFooter";const Ga=M.forwardRef(({className:e,...t},r)=>h.jsx(LM,{ref:r,className:gt("text-lg font-semibold leading-none tracking-tight",e),...t}));Ga.displayName=LM.displayName;const Xu=M.forwardRef(({className:e,...t},r)=>h.jsx(IM,{ref:r,className:gt("text-sm text-muted-foreground",e),...t}));Xu.displayName=IM.displayName;const GM=M.forwardRef(({className:e,...t},r)=>h.jsx(Pi,{ref:r,className:gt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));GM.displayName=Pi.displayName;const VM=M.forwardRef(({className:e,...t},r)=>h.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[h.jsx(o3,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),h.jsx(Pi.Input,{ref:r,className:gt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));VM.displayName=Pi.Input.displayName;const XM=M.forwardRef(({className:e,...t},r)=>h.jsx(Pi.List,{ref:r,className:gt("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));XM.displayName=Pi.List.displayName;const YM=M.forwardRef((e,t)=>h.jsx(Pi.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));YM.displayName=Pi.Empty.displayName;const qM=M.forwardRef(({className:e,...t},r)=>h.jsx(Pi.Group,{ref:r,className:gt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));qM.displayName=Pi.Group.displayName;const gz=M.forwardRef(({className:e,...t},r)=>h.jsx(Pi.Separator,{ref:r,className:gt("-mx-1 h-px bg-border",e),...t}));gz.displayName=Pi.Separator.displayName;const KM=M.forwardRef(({className:e,...t},r)=>h.jsx(Pi.Item,{ref:r,className:gt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",e),...t}));KM.displayName=Pi.Item.displayName;var Fg="Popover",[ZM]=Xo(Fg,[Ng]),Yu=Ng(),[mz,Ko]=ZM(Fg),QM=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:c=!1}=e,p=Yu(t),v=M.useRef(null),[y,S]=M.useState(!1),[E,T]=Cc({prop:n,defaultProp:s??!1,onChange:a,caller:Fg});return h.jsx(k2,{...p,children:h.jsx(mz,{scope:t,contentId:mi(),triggerRef:v,open:E,onOpenChange:T,onOpenToggle:M.useCallback(()=>T(z=>!z),[T]),hasCustomAnchor:y,onCustomAnchorAdd:M.useCallback(()=>S(!0),[]),onCustomAnchorRemove:M.useCallback(()=>S(!1),[]),modal:c,children:r})})};QM.displayName=Fg;var JM="PopoverAnchor",vz=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ko(JM,r),a=Yu(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:p}=s;return M.useEffect(()=>(c(),()=>p()),[c,p]),h.jsx($b,{...a,...n,ref:t})});vz.displayName=JM;var ej="PopoverTrigger",tj=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ko(ej,r),a=Yu(r),c=ir(t,s.triggerRef),p=h.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":oj(s.open),...n,ref:c,onClick:At(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?p:h.jsx($b,{asChild:!0,...a,children:p})});tj.displayName=ej;var Yb="PopoverPortal",[xz,yz]=ZM(Yb,{forceMount:void 0}),rj=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=Ko(Yb,t);return h.jsx(xz,{scope:t,forceMount:r,children:h.jsx(Za,{present:r||a.open,children:h.jsx(Tg,{asChild:!0,container:s,children:n})})})};rj.displayName=Yb;var Mc="PopoverContent",ij=M.forwardRef((e,t)=>{const r=yz(Mc,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=Ko(Mc,e.__scopePopover);return h.jsx(Za,{present:n||a.open,children:a.modal?h.jsx(wz,{...s,ref:t}):h.jsx(kz,{...s,ref:t})})});ij.displayName=Mc;var bz=Da("PopoverContent.RemoveScroll"),wz=M.forwardRef((e,t)=>{const r=Ko(Mc,e.__scopePopover),n=M.useRef(null),s=ir(t,n),a=M.useRef(!1);return M.useEffect(()=>{const c=n.current;if(c)return zb(c)},[]),h.jsx(Og,{as:bz,allowPinchZoom:!0,children:h.jsx(nj,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(e.onCloseAutoFocus,c=>{var p;c.preventDefault(),a.current||(p=r.triggerRef.current)==null||p.focus()}),onPointerDownOutside:At(e.onPointerDownOutside,c=>{const p=c.detail.originalEvent,v=p.button===0&&p.ctrlKey===!0,y=p.button===2||v;a.current=y},{checkForDefaultPrevented:!1}),onFocusOutside:At(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),kz=M.forwardRef((e,t)=>{const r=Ko(Mc,e.__scopePopover),n=M.useRef(!1),s=M.useRef(!1);return h.jsx(nj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,p;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(n.current||(p=r.triggerRef.current)==null||p.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var v,y;(v=e.onInteractOutside)==null||v.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=a.target;((y=r.triggerRef.current)==null?void 0:y.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),nj=M.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:S,...E}=e,T=Ko(Mc,r),z=Yu(r);return Nb(),h.jsx(Cg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:h.jsx(_g,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:S,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:y,onDismiss:()=>T.onOpenChange(!1),children:h.jsx(S2,{"data-state":oj(T.open),role:"dialog",id:T.contentId,...z,...E,ref:t,style:{...E.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),sj="PopoverClose",Sz=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ko(sj,r);return h.jsx(yt.button,{type:"button",...n,ref:t,onClick:At(e.onClick,()=>s.onOpenChange(!1))})});Sz.displayName=sj;var _z="PopoverArrow",Cz=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Yu(r);return h.jsx(_2,{...s,...n,ref:t})});Cz.displayName=_z;function oj(e){return e?"open":"closed"}var Ez=QM,Mz=tj,jz=rj,aj=ij;const Az=Ez,Nz=Mz,lj=M.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>h.jsx(jz,{children:h.jsx(aj,{ref:s,align:t,sideOffset:r,className:gt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));lj.displayName=aj.displayName;function Es({options:e,value:t,onValueChange:r,placeholder:n="Select option...",searchPlaceholder:s="Search...",emptyText:a="No option found.",className:c}){const[p,v]=M.useState(!1),y=e.find(S=>S.value===t);return h.jsxs(Az,{open:p,onOpenChange:v,children:[h.jsx(Nz,{asChild:!0,children:h.jsxs(_t,{variant:"outline",role:"combobox","aria-expanded":p,className:gt("w-full justify-between",c),children:[y?y.label:n,h.jsx(V5,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),h.jsx(lj,{className:"w-full p-0",align:"start",children:h.jsxs(GM,{children:[h.jsx(VM,{placeholder:s}),h.jsxs(XM,{children:[h.jsx(YM,{children:a}),h.jsx(qM,{children:e.map(S=>h.jsxs(KM,{value:S.label,keywords:[S.label,S.value],onSelect:()=>{r(S.value),v(!1)},children:[h.jsx(GE,{className:gt("mr-2 h-4 w-4",t===S.value?"opacity-100":"opacity-0")}),S.label]},S.value))})]})]})})]})}const Yp=.5,qp=173.7178;function Wx(e){return 1/Math.sqrt(1+3*e*e/(Math.PI*Math.PI))}function Ux(e,t,r){return 1/(1+Math.exp(-r*(e-t)))}function Zf(e){return{mu:(e.rating-1500)/qp,phi:e.rd/qp,sigma:e.vol}}function Tz(e,t,r){return{rating:e*qp+1500,rd:t*qp,vol:r}}function ES(e,t){if(t.length===0)return e;const{mu:r,phi:n,sigma:s}=Zf(e),c=1/t.reduce((ae,te)=>{const ce=Zf(te.opponent),J=Wx(ce.phi),we=Ux(r,ce.mu,J);return ae+J*J*we*(1-we)},0),p=c*t.reduce((ae,te)=>{const ce=Zf(te.opponent),J=Wx(ce.phi),we=Ux(r,ce.mu,J);return ae+J*(te.score-we)},0),v=Math.log(s*s),y=1e-6;let S=v,E;if(p*p>n*n+c)E=Math.log(Math.max(p*p-n*n-c,y));else{let ae=1;const te=1e3;for(;Qf(v-ae*Yp,p,n,c,v)<0&&ae<te;)ae++;if(ae>=te)return e;E=v-ae*Yp}let T=Qf(S,p,n,c,v),z=Qf(E,p,n,c,v),U=0;const D=100;for(;Math.abs(E-S)>y&&U<D;){const ae=S+(S-E)*T/(z-T),te=Qf(ae,p,n,c,v);te*z<0?(S=E,T=z):T/=2,E=ae,z=te,U++}if(U>=D||!isFinite(S))return e;const R=Math.exp(S/2),I=Math.sqrt(n*n+R*R),N=1/Math.sqrt(1/(I*I)+1/c),O=r+N*N*t.reduce((ae,te)=>{const ce=Zf(te.opponent),J=Wx(ce.phi),we=Ux(r,ce.mu,J);return ae+J*(te.score-we)},0),q=Tz(O,N,R);return!isFinite(q.rating)||!isFinite(q.rd)||!isFinite(q.vol)?e:q}function Qf(e,t,r,n,s){const a=Math.exp(e),c=a*(t*t-r*r-n-a),p=2*(r*r+n+a)*(r*r+n+a);return c/p-(e-s)/(Yp*Yp)}function MS(e,t){const r=e.rating??1500,n={rating:r,rd:e.rd??350,vol:e.volatility??.06},s={rating:t.rating??1500,rd:t.rd??350,vol:t.volatility??.06},a=ES(n,[{opponent:s,score:1}]),c=a.rating-r,p=ES(n,[{opponent:s,score:0}]),v=p.rating-r;return{winRatingChange:c,loseRatingChange:v,winNewRating:a.rating,loseNewRating:p.rating}}function Pz(e,t){return{player1:MS(e,t),player2:MS(t,e)}}function sc(e){return`${e>=0?"+":""}${e.toFixed(1)}`}const cj=M.createContext(void 0);function qb(){const e=M.useContext(cj);if(!e)throw new Error("useMatchModal must be used within MatchModalProvider");return e}function Oz({children:e}){const[t,r]=M.useState(null),n=M.useCallback(c=>{r(c)},[]),s=M.useCallback(()=>{r(null)},[]),a=M.useMemo(()=>({matchId:t,openMatch:n,closeMatch:s}),[t,n,s]);return h.jsx(cj.Provider,{value:a,children:e})}function Hx(e){return e.includes("youtube.com")||e.includes("youtu.be")?h.jsx(KE,{size:14}):e.includes("twitch.tv")?h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",className:"inline-block",children:h.jsx("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})}):h.jsx(XE,{size:14})}function dj({match:e,player1:t,player2:r,showMatchNumber:n,matchNumber:s,event:a,showEventLink:c=!1,showLinksInHeader:p=!1}){const{openMatch:v}=qb(),y=e.winner_id!==null,S=e.winner_id===e.player1_id,E=c&&a||e.vod_link;return h.jsxs("div",{className:"group relative p-4 border border-border/40 rounded-lg space-y-3 bg-card/40 backdrop-blur-sm hover:bg-card/60 transition-all duration-300 hover:border-primary/50 hover:shadow-[0_0_15px_rgba(var(--primary-rgb),0.2)] overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-transparent via-primary/0 to-transparent group-hover:via-primary/50 transition-all duration-500"}),(n||p&&E)&&h.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap border-b border-white/5 pb-2 mb-2",children:[h.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[p&&E&&h.jsxs(h.Fragment,{children:[c&&a&&h.jsx(Mr,{className:"text-primary hover:text-primary/80 hover:underline inline-flex items-center gap-1 font-heading font-bold tracking-wide transition-colors",to:`/events/${a.id}`,children:a.title}),e.vod_link&&!n&&h.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 hover:underline inline-flex items-center gap-1 font-bold transition-colors",children:[Hx(e.vod_link),"Watch"]})]}),n&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-xs font-heading font-bold uppercase tracking-widest text-muted-foreground",children:["Match ",s]}),y&&h.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-green-500 px-1.5 py-0.5 bg-green-500/10 rounded border border-green-500/20",children:"Completed"})]})]}),n&&e.vod_link&&h.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 hover:underline inline-flex items-center gap-1 text-xs font-bold uppercase tracking-wider transition-colors",children:[Hx(e.vod_link),"Watch"]})]}),h.jsxs("div",{className:`relative flex items-center justify-between p-2 rounded-md transition-colors ${y&&S?"bg-gradient-to-r from-yellow-500/10 to-transparent border-l-2 border-yellow-500":"hover:bg-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsx(Ls,{name:t.name,twitter:t.twitter,size:48,className:`h-12 w-12 shrink-0 border-2 ${y&&S?"border-yellow-500 shadow-[0_0_10px_rgba(234,179,8,0.3)]":"border-border"}`}),h.jsxs("div",{className:"min-w-0",children:[h.jsx(Mr,{to:`/players/${t.id}`,className:"group/player",children:h.jsxs("div",{className:`font-heading font-bold text-lg flex items-center gap-2 flex-wrap transition-colors ${y&&S?"text-yellow-500":"text-foreground group-hover/player:text-primary"}`,children:[y&&S&&h.jsx("span",{className:"text-yellow-500",children:""}),h.jsx("span",{className:"truncate",children:t.name})]})}),h.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:["Rating: ",t.rating===null?"Unrated":Math.round(t.rating)]})]})]}),y&&h.jsx("div",{className:"text-sm font-bold font-mono shrink-0",children:h.jsx("span",{className:e.rating_change_p1&&e.rating_change_p1>=0?"text-green-500":"text-red-500",children:e.rating_change_p1!==null&&e.rating_change_p1!==void 0?sc(e.rating_change_p1):""})})]}),y?h.jsxs("button",{onClick:()=>v(e.id),className:"relative flex items-center justify-center gap-4 font-heading font-black cursor-pointer w-full py-1 hover:scale-105 transition-transform",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 hover:opacity-100 transition-opacity"}),h.jsx("span",{className:S?"text-yellow-500 text-3xl drop-shadow-[0_0_10px_rgba(234,179,8,0.5)]":"text-muted-foreground text-2xl",children:e.player1_score??"?"}),h.jsx("span",{className:"text-muted-foreground/50 text-xl",children:"-"}),h.jsx("span",{className:S?"text-muted-foreground text-2xl":"text-yellow-500 text-3xl drop-shadow-[0_0_10px_rgba(234,179,8,0.5)]",children:e.player2_score??"?"})]}):h.jsx("div",{className:"flex items-center justify-center py-2",children:h.jsx("span",{className:"text-2xl font-heading font-black text-transparent bg-clip-text bg-gradient-to-b from-muted-foreground to-muted-foreground/50 italic pr-1",children:"VS"})}),h.jsxs("div",{className:`relative flex items-center justify-between p-2 rounded-md transition-colors ${y&&!S?"bg-gradient-to-r from-yellow-500/10 to-transparent border-l-2 border-yellow-500":"hover:bg-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsx(Ls,{name:r.name,twitter:r.twitter,size:48,className:`h-12 w-12 shrink-0 border-2 ${y&&!S?"border-yellow-500 shadow-[0_0_10px_rgba(234,179,8,0.3)]":"border-border"}`}),h.jsxs("div",{className:"min-w-0",children:[h.jsx(Mr,{to:`/players/${r.id}`,className:"group/player",children:h.jsxs("div",{className:`font-heading font-bold text-lg flex items-center gap-2 flex-wrap transition-colors ${y&&!S?"text-yellow-500":"text-foreground group-hover/player:text-primary"}`,children:[y&&!S&&h.jsx("span",{className:"text-yellow-500",children:""}),h.jsx("span",{className:"truncate",children:r.name})]})}),h.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:["Rating: ",r.rating===null?"Unrated":Math.round(r.rating)]})]})]}),y&&h.jsx("div",{className:"text-sm font-bold font-mono shrink-0",children:h.jsx("span",{className:e.rating_change_p2&&e.rating_change_p2>=0?"text-green-500":"text-red-500",children:e.rating_change_p2!==null&&e.rating_change_p2!==void 0?sc(e.rating_change_p2):""})})]}),!p&&!n&&E&&h.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs font-bold uppercase tracking-wider text-muted-foreground border-t border-white/5 pt-3 mt-2",children:[c&&a&&h.jsxs(Mr,{className:"text-primary hover:text-primary/80 hover:underline inline-flex items-center gap-1 transition-colors",to:`/events/${a.id}`,children:["Event: ",a.title]}),e.vod_link&&h.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 hover:underline inline-flex items-center gap-1 transition-colors",children:[Hx(e.vod_link),"Watch"]})]})]})}const Hd=25;function Rz(){fn("Matches");const{players:e,matches:t,loading:r}=kg(),[n,s]=oE(),[a,c]=M.useState([]),[p,v]=M.useState([]),[y,S]=M.useState(()=>{const te=n.get("season");if(te===null||te==="all")return null;const ce=parseInt(te,10);return Number.isFinite(ce)?ce:null}),[E,T]=M.useState(()=>n.get("search")||""),[z,U]=M.useState(()=>{const te=n.get("page");return te?parseInt(te,10):1});M.useEffect(()=>{const te=new URLSearchParams;z!==1&&te.set("page",z.toString()),E&&te.set("search",E),y!==null?te.set("season",String(y)):te.set("season","all");const ce=te.toString(),J=n.toString();ce!==J&&s(te)},[z,E,y,s,n]),M.useEffect(()=>{let te=!0;return(async()=>{const ce=await Fu();te&&c(ce)})(),()=>{te=!1}},[]),M.useEffect(()=>{let te=!0;return(async()=>{const ce=await Fc();te&&v(ce)})(),()=>{te=!1}},[]);const D=new Map(e.map(te=>[te.id,te])),R=new Map(a.map(te=>[te.id,te])),N=[...t].sort((te,ce)=>ce.id-te.id).filter(te=>{var Se,be;const ce=((Se=D.get(te.player1_id))==null?void 0:Se.name)??"",J=((be=D.get(te.player2_id))==null?void 0:be.name)??"",we=E.toLowerCase();return ce.toLowerCase().includes(we)||J.toLowerCase().includes(we)}),O=y===null?N:N.filter(te=>te.season_id===y),q=Math.ceil(O.length/Hd),ae=M.useMemo(()=>{const te=(z-1)*Hd,ce=te+Hd;return O.slice(te,ce)},[O,z]);return M.useEffect(()=>{U(1)},[E]),M.useEffect(()=>{U(1)},[y]),h.jsxs("section",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary/80 to-primary/50 drop-shadow-sm",children:"Matches"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg",children:"Battle history and upcoming bouts."})]}),r&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center bg-card/30 p-4 rounded-lg border border-border/40 backdrop-blur-sm",children:[h.jsx("div",{className:"max-w-md w-full",children:h.jsx(Zr,{placeholder:"Filter by player name...",value:E,onChange:te=>T(te.target.value),className:"bg-background/50 border-primary/30 focus:ring-primary/50 font-body"})}),h.jsx("div",{className:"w-full sm:w-64",children:h.jsx(Es,{value:y===null?"all":String(y),onValueChange:te=>{S(te==="all"?null:parseInt(te,10))},placeholder:"Select season...",searchPlaceholder:"Search seasons...",options:[{value:"all",label:"All seasons"},...p.filter(te=>te.status==="active").map(te=>({value:String(te.id),label:`${te.name} (Active)`})),...p.filter(te=>te.status==="archived").sort((te,ce)=>te.id-ce.id).map(te=>({value:String(te.id),label:`${te.name} (Archived)`}))],className:"w-full"})})]}),ae.length===0?h.jsx(pr,{className:"bg-card/40 backdrop-blur-sm border-border/40",children:h.jsxs(xr,{className:"py-12 flex flex-col items-center justify-center text-center",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("p",{className:"text-muted-foreground font-heading uppercase tracking-wider text-lg",children:E?`No matches found for "${E}"`:"No matches found"})]})}):h.jsx("div",{className:"space-y-4",children:ae.map(te=>{const ce=D.get(te.player1_id),J=D.get(te.player2_id),we=te.event_id?R.get(te.event_id):null;return!ce||!J?null:h.jsx(dj,{match:te,player1:ce,player2:J,event:we,showEventLink:!0,showLinksInHeader:!0},te.id)})}),O.length>Hd&&h.jsx("div",{className:"flex justify-center pt-8",children:h.jsx(Sb,{currentPage:z,totalPages:q,onPageChange:U,itemsPerPage:Hd,totalItems:O.length})})]})}function Lz(){fn("Events");const[e,t]=M.useState([]),[r,n]=M.useState([]),[s,a]=M.useState(!0);M.useEffect(()=>{let p=!0;return(async()=>{const[v,y]=await Promise.all([Fu(),UE()]);p&&(t(v),n(y),a(!1))})(),()=>{p=!1}},[]);const c=M.useMemo(()=>e.length?e.map(p=>{const v=r.filter(S=>S.event_id===p.id),y=v.filter(S=>S.winner_id!==null);return{...p,matchCount:v.length,completedCount:y.length}}):[],[e,r]);return s?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Events"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]}):c.length===0?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Events"}),h.jsx(pr,{children:h.jsx(xr,{className:"pt-6",children:h.jsx("p",{className:"text-muted-foreground",children:"No events found."})})})]}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary/80 to-primary/50 drop-shadow-sm",children:"Events"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg max-w-2xl",children:"Upcoming tournaments and past battle records."})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.map(p=>{const v=new Date(p.event_date)<new Date;return h.jsx(Mr,{to:`/events/${p.id}`,className:"group block h-full",children:h.jsxs(pr,{className:"h-full bg-card/40 backdrop-blur-sm border-border/40 hover:bg-card/60 hover:border-primary/50 transition-all duration-300 hover:shadow-[0_0_20px_rgba(var(--primary-rgb),0.15)] overflow-hidden relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/0 to-transparent group-hover:via-primary/50 transition-all duration-500"}),h.jsxs(qr,{className:"pb-3",children:[h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsx(Kr,{className:"font-heading text-xl font-bold tracking-wide group-hover:text-primary transition-colors line-clamp-2",children:p.title}),v?h.jsx("span",{className:"shrink-0 text-[10px] font-bold uppercase tracking-widest text-muted-foreground px-2 py-1 bg-muted/50 rounded border border-border/50",children:"Past"}):h.jsx("span",{className:"shrink-0 text-[10px] font-bold uppercase tracking-widest text-green-500 px-2 py-1 bg-green-500/10 rounded border border-green-500/20 animate-pulse",children:"Upcoming"})]}),h.jsx(pi,{className:"font-mono text-xs uppercase tracking-wider mt-1",children:new Date(p.event_date).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),h.jsxs(xr,{children:[p.description&&h.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2 border-l-2 border-primary/20 pl-3 italic",children:p.description}),h.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Matches"}),h.jsx("span",{className:"font-heading font-bold text-lg",children:p.matchCount})]}),p.matchCount>0&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Completed"}),h.jsx("span",{className:"font-heading font-bold text-lg text-primary",children:p.completedCount})]})]}),p.stream_url&&h.jsx("div",{className:`text-xs font-bold uppercase tracking-wider flex items-center gap-1 ${v?"text-muted-foreground":"text-red-500"}`,children:v?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""})," VOD"]}):h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"relative flex h-2 w-2 mr-1",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),"Live"]})})]})]})]})},p.id)})})]})}function Iz(){const{id:e}=eE(),[t,r]=M.useState([]),[n,s]=M.useState(null),[a,c]=M.useState([]),[p,v]=M.useState(!0);M.useEffect(()=>{let E=!0;return(async()=>{const[T,z,U]=await Promise.all([_b(),Fu(),UE()]);if(!E)return;r(T);const D=z.find(R=>R.id===Number(e));s(D||null),c(U.filter(R=>R.event_id===Number(e))),v(!1)})(),()=>{E=!1}},[e]);const y=M.useMemo(()=>{if(!t.length||!a.length)return[];const E=new Map(t.map(T=>[T.id,T]));return a.map(T=>({...T,player1:E.get(T.player1_id),player2:E.get(T.player2_id)})).sort((T,z)=>(T.match_order??0)-(z.match_order??0))},[t,a]);if(p)return fn("Event"),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsx(Mr,{to:"/events",children:h.jsx(_t,{variant:"outline",size:"sm",children:" Back to Events"})})}),h.jsx("h1",{className:"text-3xl font-bold",children:"Loading..."})]});if(!n)return fn("Event Not Found"),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsx(Mr,{to:"/events",children:h.jsx(_t,{variant:"outline",size:"sm",children:" Back to Events"})})}),h.jsx("h1",{className:"text-3xl font-bold",children:"Event Not Found"}),h.jsx("p",{className:"text-muted-foreground",children:"The event you're looking for doesn't exist."})]});const S=new Date(n.event_date)<new Date;return fn(`Event - ${n.title}`),h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsx(Mr,{to:"/events",children:h.jsx(_t,{variant:"ghost",size:"sm",className:"hover:bg-primary/10 hover:text-primary transition-colors font-heading uppercase tracking-wider font-bold",children:" Back to Events"})})}),h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(qr,{className:"border-b border-border/30 bg-muted/20 relative z-10",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-4",children:[h.jsxs("div",{children:[h.jsxs(Kr,{className:"flex items-center gap-3 font-heading text-3xl font-bold tracking-wide text-primary drop-shadow-md",children:[n.title,S&&h.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground px-2 py-1 bg-muted/50 rounded border border-border/50",children:"Past Event"})]}),h.jsx(pi,{className:"font-body text-lg mt-1",children:new Date(n.event_date).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})}),n.description&&h.jsx("p",{className:"text-sm text-muted-foreground mt-4 max-w-2xl leading-relaxed border-l-2 border-primary/30 pl-4 italic",children:n.description})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[n.stream_url&&h.jsxs("a",{href:n.stream_url,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-all shadow-lg hover:shadow-primary/25 font-heading font-bold uppercase tracking-wider text-sm text-center flex items-center justify-center gap-2",children:[h.jsx("span",{className:"text-lg",children:""})," ",S?"Stream VOD":"Watch Stream"]}),n.vod_link&&h.jsxs("a",{href:n.vod_link,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-all shadow-lg hover:shadow-red-600/25 font-heading font-bold uppercase tracking-wider text-sm text-center flex items-center justify-center gap-2",children:[h.jsx("span",{className:"text-lg",children:""})," Event VOD"]})]})]})}),h.jsx(xr,{className:"p-6 relative z-10",children:y.length===0?h.jsx("div",{className:"text-center py-12 border-2 border-dashed border-border/30 rounded-lg bg-card/30",children:h.jsx("p",{className:"text-muted-foreground font-heading uppercase tracking-wider",children:"No matches scheduled for this event yet."})}):h.jsx("div",{className:"space-y-4",children:y.map((E,T)=>{const{player1:z,player2:U}=E;return!z||!U?h.jsx("div",{className:"p-4 border border-border/40 rounded-lg bg-card/30 backdrop-blur-sm",children:h.jsxs("p",{className:"text-muted-foreground italic",children:["Match ",T+1,": Player data not found"]})},E.id):h.jsx(dj,{match:E,player1:z,player2:U,event:n,showMatchNumber:!0,matchNumber:T+1,showEventLink:!1},E.id)})})}),h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 pointer-events-none"})]})]})}function Dz(){return fn("Profile"),h.jsx("div",{className:"container py-20 flex justify-center",children:h.jsxs("div",{className:"max-w-md w-full bg-card/80 backdrop-blur-xl border border-border/60 shadow-[0_0_50px_rgba(0,0,0,0.5)] rounded-lg p-8 text-center relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent"}),h.jsx("h2",{className:"text-3xl font-heading font-bold text-primary mb-4",children:"Profile"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg",children:"Coming soon."}),h.jsx("div",{className:"mt-8 h-1 w-16 bg-primary/30 mx-auto rounded-full"})]})})}var uj={exports:{}};(function(e,t){(function(r,n){e.exports=n(M)})(typeof self<"u"?self:vi,function(r){return function(n){function s(c){if(a[c])return a[c].exports;var p=a[c]={i:c,l:!1,exports:{}};return n[c].call(p.exports,p,p.exports,s),p.l=!0,p.exports}var a={};return s.m=n,s.c=a,s.d=function(c,p,v){s.o(c,p)||Object.defineProperty(c,p,{configurable:!1,enumerable:!0,get:v})},s.n=function(c){var p=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(p,"a",p),p},s.o=function(c,p){return Object.prototype.hasOwnProperty.call(c,p)},s.p="",s(s.s=0)}([function(n,s,a){function c(){return c=Object.assign?Object.assign.bind():function(N){for(var O=1;O<arguments.length;O++){var q=arguments[O];for(var ae in q)Object.prototype.hasOwnProperty.call(q,ae)&&(N[ae]=q[ae])}return N},c.apply(this,arguments)}function p(N){return E(N)||S(N)||y(N)||v()}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(N,O){if(N){if(typeof N=="string")return T(N,O);var q=Object.prototype.toString.call(N).slice(8,-1);return q==="Object"&&N.constructor&&(q=N.constructor.name),q==="Map"||q==="Set"?Array.from(N):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?T(N,O):void 0}}function S(N){if(typeof Symbol<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}function E(N){if(Array.isArray(N))return T(N)}function T(N,O){(O==null||O>N.length)&&(O=N.length);for(var q=0,ae=new Array(O);q<O;q++)ae[q]=N[q];return ae}function z(N){"@babel/helpers - typeof";return(z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(N)}Object.defineProperty(s,"__esModule",{value:!0}),a.d(s,"HighchartsReact",function(){return I});var U=a(1),D=a.n(U),R=typeof window<"u"?U.useLayoutEffect:U.useEffect,I=Object(U.memo)(Object(U.forwardRef)(function(N,O){var q=Object(U.useRef)(),ae=Object(U.useRef)(),te=Object(U.useRef)(N.constructorType),ce=Object(U.useRef)(N.highcharts);return R(function(){function J(){var Se=N.highcharts||(typeof window>"u"?"undefined":z(window))==="object"&&window.Highcharts,be=N.constructorType||"chart";Se?Se[be]?N.options?ae.current=Se[be](q.current,N.options,N.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(ae.current){if(N.allowChartUpdate!==!1)if(N.constructorType!==te.current||N.highcharts!==ce.current)te.current=N.constructorType,ce.current=N.highcharts,J();else if(!N.immutable&&ae.current){var we;(we=ae.current).update.apply(we,[N.options].concat(p(N.updateArgs||[!0,!0])))}else J()}else J()},[N.options,N.allowChartUpdate,N.updateArgs,N.containerProps,N.highcharts,N.constructorType]),R(function(){return function(){ae.current&&(ae.current.destroy(),ae.current=null)}},[]),Object(U.useImperativeHandle)(O,function(){return{get chart(){return ae.current},container:q}},[]),D.a.createElement("div",c({},N.containerProps,{ref:q}))}));s.default=I},function(n,s){n.exports=r}])})})(uj);var Bz=uj.exports;const $z=Pu(Bz);var hj={exports:{}};(function(e,t){(function(r,n){r._Highcharts=n(),e.exports=r._Highcharts})(typeof window>"u"?vi:window,()=>(()=>{var o1;let r,n;var s,a,c,p,v,y,S,E,T,z,U,D,R,I,N,O,q,ae,te={};te.d=(b,i)=>{for(var o in i)te.o(i,o)&&!te.o(b,o)&&Object.defineProperty(b,o,{enumerable:!0,get:i[o]})},te.o=(b,i)=>Object.prototype.hasOwnProperty.call(b,i);var ce={};te.d(ce,{default:()=>ST}),function(b){var i,o,l,d,u,f,g;b.SVG_NS="http://www.w3.org/2000/svg",b.product="Highcharts",b.version="12.4.0",b.win=typeof window<"u"?window:{},b.doc=b.win.document,b.svg=!!((l=(o=(i=b.doc)==null?void 0:i.createElementNS)==null?void 0:o.call(i,b.SVG_NS,"svg"))!=null&&l.createSVGRect),b.pageLang=(f=(u=(d=b.doc)==null?void 0:d.documentElement)==null?void 0:u.closest("[lang]"))==null?void 0:f.lang,b.userAgent=((g=b.win.navigator)==null?void 0:g.userAgent)||"",b.isChrome=b.win.chrome,b.isFirefox=b.userAgent.indexOf("Firefox")!==-1,b.isMS=/(edge|msie|trident)/i.test(b.userAgent)&&!b.win.opera,b.isSafari=!b.isChrome&&b.userAgent.indexOf("Safari")!==-1,b.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(b.userAgent),b.isWebKit=b.userAgent.indexOf("AppleWebKit")!==-1,b.deg2rad=2*Math.PI/360,b.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],b.noop=function(){},b.supportsPassiveEvents=function(){let m=!1;if(!b.isMS){let x=Object.defineProperty({},"passive",{get:function(){m=!0}});b.win.addEventListener&&b.win.removeEventListener&&(b.win.addEventListener("testPassive",b.noop,x),b.win.removeEventListener("testPassive",b.noop,x))}return m}(),b.charts=[],b.composed=[],b.dateFormats={},b.seriesTypes={},b.symbolSizes={},b.chartCount=0}(s||(s={}));let J=s,{charts:we,doc:Se,win:be}=J;function ve(b,i,o,l){let d=i?"Highcharts error":"Highcharts warning";b===32&&(b=`${d}: Deprecated member`);let u=Me(b),f=u?`${d} #${b}: www.highcharts.com/errors/${b}/`:b.toString();if(l!==void 0){let g="";u&&(f+="?"),ut(l,function(m,x){g+=`
 - ${x}: ${m}`,u&&(f+=encodeURI(x)+"="+encodeURI(m))}),f+=g}ft(J,"displayError",{chart:o,code:b,message:f,params:l},function(){if(i)throw Error(f);be.console&&ve.messages.indexOf(f)===-1&&console.warn(f)}),ve.messages.push(f)}function je(b,i){return parseInt(b,i||10)}function Fe(b){return typeof b=="string"}function Ye(b){let i=Object.prototype.toString.call(b);return i==="[object Array]"||i==="[object Array Iterator]"}function ie(b,i){return!!b&&typeof b=="object"&&(!i||!Ye(b))}function ge(b){return ie(b)&&typeof b.nodeType=="number"}function he(b){let i=b==null?void 0:b.constructor;return!!(ie(b,!0)&&!ge(b)&&(i!=null&&i.name)&&i.name!=="Object")}function Me(b){return typeof b=="number"&&!isNaN(b)&&b<1/0&&b>-1/0}function $e(b){return b!=null}function Ie(b,i,o){let l,d=Fe(i)&&!$e(o),u=(f,g)=>{$e(f)?b.setAttribute(g,f):d?(l=b.getAttribute(g))||g!=="class"||(l=b.getAttribute(g+"Name")):b.removeAttribute(g)};return Fe(i)?u(o,i):ut(i,u),l}function Ee(b){return Ye(b)?b:[b]}function Ze(b,i){let o;for(o in b||(b={}),i)b[o]=i[o];return b}function ot(){let b=arguments,i=b.length;for(let o=0;o<i;o++){let l=b[o];if(l!=null)return l}}function tt(b,i){Ze(b.style,i)}function Ce(b){return Math.pow(10,Math.floor(Math.log(b)/Math.LN10))}function Oe(b,i){return b>1e14?b:parseFloat(b.toPrecision(i||14))}(ve||(ve={})).messages=[],Math.easeInOutSine=function(b){return-.5*(Math.cos(Math.PI*b)-1)};let st=Array.prototype.find?function(b,i){return b.find(i)}:function(b,i){let o,l=b.length;for(o=0;o<l;o++)if(i(b[o],o))return b[o]};function ut(b,i,o){for(let l in b)Object.hasOwnProperty.call(b,l)&&i.call(o||b[l],b[l],l,b)}function vt(b,i,o){function l(f,g){let m=b.removeEventListener;m&&m.call(b,f,g,!1)}function d(f){let g,m;b.nodeName&&(i?(g={})[i]=!0:g=f,ut(g,function(x,_){if(f[_])for(m=f[_].length;m--;)l(_,f[_][m].fn)}))}let u=typeof b=="function"&&b.prototype||b;if(Object.hasOwnProperty.call(u,"hcEvents")){let f=u.hcEvents;if(i){let g=f[i]||[];o?(f[i]=g.filter(function(m){return o!==m.fn}),l(i,o)):(d(f),f[i]=[])}else d(f),delete u.hcEvents}}function ft(b,i,o,l){if(o=o||{},(Se==null?void 0:Se.createEvent)&&(b.dispatchEvent||b.fireEvent&&b!==J)){let d=Se.createEvent("Events");d.initEvent(i,!0,!0),o=Ze(d,o),b.dispatchEvent?b.dispatchEvent(o):b.fireEvent(i,o)}else if(b.hcEvents){o.target||Ze(o,{preventDefault:function(){o.defaultPrevented=!0},target:b,type:i});let d=[],u=b,f=!1;for(;u.hcEvents;)Object.hasOwnProperty.call(u,"hcEvents")&&u.hcEvents[i]&&(d.length&&(f=!0),d.unshift.apply(d,u.hcEvents[i])),u=Object.getPrototypeOf(u);f&&d.sort((g,m)=>g.order-m.order),d.forEach(g=>{g.fn.call(b,o)===!1&&o.preventDefault()})}l&&!o.defaultPrevented&&l.call(b,o)}let kt=function(){let b=Math.random().toString(36).substring(2,9)+"-",i=0;return function(){return"highcharts-"+(r?"":b)+i++}}();be.jQuery&&(be.jQuery.fn.highcharts=function(){let b=[].slice.call(arguments);if(this[0])return b[0]?(new J[Fe(b[0])?b.shift():"Chart"](this[0],b[0],b[1]),this):we[Ie(this[0],"data-highcharts-chart")]});let Qe={addEvent:function(b,i,o,l={}){let d=typeof b=="function"&&b.prototype||b;Object.hasOwnProperty.call(d,"hcEvents")||(d.hcEvents={});let u=d.hcEvents;J.Point&&b instanceof J.Point&&b.series&&b.series.chart&&(b.series.chart.runTrackerClick=!0);let f=b.addEventListener;f&&f.call(b,i,o,!!J.supportsPassiveEvents&&{passive:l.passive===void 0?i.indexOf("touch")!==-1:l.passive,capture:!1}),u[i]||(u[i]=[]);let g={fn:o,order:typeof l.order=="number"?l.order:1/0};return u[i].push(g),u[i].sort((m,x)=>m.order-x.order),function(){vt(b,i,o)}},arrayMax:function(b){let i=b.length,o=b[0];for(;i--;)b[i]>o&&(o=b[i]);return o},arrayMin:function(b){let i=b.length,o=b[0];for(;i--;)b[i]<o&&(o=b[i]);return o},attr:Ie,clamp:function(b,i,o){return b>i?b<o?b:o:i},clearTimeout:function(b){$e(b)&&clearTimeout(b)},correctFloat:Oe,createElement:function(b,i,o,l,d){let u=Se.createElement(b);return i&&Ze(u,i),d&&tt(u,{padding:"0",border:"none",margin:"0"}),o&&tt(u,o),l&&l.appendChild(u),u},crisp:function(b,i=0,o){let l=i%2/2,d=o?-1:1;return(Math.round(b*d-l)+l)*d},css:tt,defined:$e,destroyObjectProperties:function(b,i,o){ut(b,function(l,d){l!==i&&(l!=null&&l.destroy)&&l.destroy(),(l!=null&&l.destroy||!o)&&delete b[d]})},diffObjects:function(b,i,o,l){let d={};return function u(f,g,m,x){let _=o?g:f;ut(f,function(w,C){if(!x&&l&&l.indexOf(C)>-1&&g[C]){w=Ee(w),m[C]=[];for(let j=0;j<Math.max(w.length,g[C].length);j++)g[C][j]&&(w[j]===void 0?m[C][j]=g[C][j]:(m[C][j]={},u(w[j],g[C][j],m[C][j],x+1)))}else ie(w,!0)&&!w.nodeType?(m[C]=Ye(w)?[]:{},u(w,g[C]||{},m[C],x+1),Object.keys(m[C]).length===0&&(C!=="colorAxis"||x!==0)&&delete m[C]):(f[C]!==g[C]||C in f&&!(C in g))&&C!=="__proto__"&&C!=="constructor"&&(m[C]=_[C])})}(b,i,d,0),d},discardElement:function(b){var i;(i=b==null?void 0:b.parentElement)==null||i.removeChild(b)},erase:function(b,i){let o=b.length;for(;o--;)if(b[o]===i){b.splice(o,1);break}},error:ve,extend:Ze,extendClass:function(b,i){let o=function(){};return o.prototype=new b,Ze(o.prototype,i),o},find:st,fireEvent:ft,getAlignFactor:(b="")=>({center:.5,right:1,middle:.5,bottom:1})[b]||0,getClosestDistance:function(b,i){let o,l,d,u=!i;return b.forEach(f=>{if(f.length>1)for(d=f.length-1;d>0;d--)(l=f[d]-f[d-1])<0&&!u?(i==null||i(),i=void 0):l&&(o===void 0||l<o)&&(o=l)}),o},getMagnitude:Ce,getNestedProperty:function(b,i){let o=b.split(".");for(;o.length&&$e(i);){let l=o.shift();if(l===void 0||l==="__proto__")return;if(l==="this"){let u;return ie(i)&&(u=i["@this"]),u??i}let d=i[l.replace(/[\\'"]/g,"")];if(!$e(d)||typeof d=="function"||typeof d.nodeType=="number"||d===be)return;i=d}return i},getStyle:function b(i,o,l){var f;let d;if(o==="width"){let g=Math.min(i.offsetWidth,i.scrollWidth),m=(f=i.getBoundingClientRect)==null?void 0:f.call(i).width;return m<g&&m>=g-1&&(g=Math.floor(m)),Math.max(0,g-(b(i,"padding-left",!0)||0)-(b(i,"padding-right",!0)||0))}if(o==="height")return Math.max(0,Math.min(i.offsetHeight,i.scrollHeight)-(b(i,"padding-top",!0)||0)-(b(i,"padding-bottom",!0)||0));let u=be.getComputedStyle(i,void 0);return u&&(d=u.getPropertyValue(o),ot(l,o!=="opacity")&&(d=je(d))),d},insertItem:function(b,i){let o,l=b.options.index,d=i.length;for(o=b.options.isInternal?d:0;o<d+1;o++)if(!i[o]||Me(l)&&l<ot(i[o].options.index,i[o]._i)||i[o].options.isInternal){i.splice(o,0,b);break}return o},isArray:Ye,isClass:he,isDOMElement:ge,isFunction:function(b){return typeof b=="function"},isNumber:Me,isObject:ie,isString:Fe,merge:function(b,...i){let o,l=[b,...i],d={},u=function(g,m){return typeof g!="object"&&(g={}),ut(m,function(x,_){_!=="__proto__"&&_!=="constructor"&&(!ie(x,!0)||he(x)||ge(x)?g[_]=m[_]:g[_]=u(g[_]||{},x))}),g};b===!0&&(d=l[1],l=Array.prototype.slice.call(l,2));let f=l.length;for(o=0;o<f;o++)d=u(d,l[o]);return d},normalizeTickInterval:function(b,i,o,l,d){let u,f=b;o=ot(o,Ce(b));let g=b/o;for(!i&&(i=d?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],l===!1&&(o===1?i=i.filter(function(m){return m%1==0}):o<=.1&&(i=[1/o]))),u=0;u<i.length&&(f=i[u],(!d||!(f*o>=b))&&(d||!(g<=(i[u]+(i[u+1]||i[u]))/2)));u++);return Oe(f*o,-Math.round(Math.log(.001)/Math.LN10))},objectEach:ut,offset:function(b){let i=Se.documentElement,o=b.parentElement||b.parentNode?b.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:o.top+(be.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(be.pageXOffset||i.scrollLeft)-(i.clientLeft||0),width:o.width,height:o.height}},pad:function(b,i,o){return Array((i||2)+1-String(b).replace("-","").length).join(o||"0")+b},pick:ot,pInt:je,pushUnique:function(b,i){return 0>b.indexOf(i)&&!!b.push(i)},relativeLength:function(b,i,o){return/%$/.test(b)?i*parseFloat(b)/100+(o||0):parseFloat(b)},removeEvent:vt,replaceNested:function(b,...i){let o,l;do for(l of(o=b,i))b=b.replace(l[0],l[1]);while(b!==o);return b},splat:Ee,stableSort:function(b,i){let o,l,d=b.length;for(l=0;l<d;l++)b[l].safeI=l;for(b.sort(function(u,f){return(o=i(u,f))===0?u.safeI-f.safeI:o}),l=0;l<d;l++)delete b[l].safeI},syncTimeout:function(b,i,o){return i>0?setTimeout(b,i,o):(b.call(0,o),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(b){return Fe(b)?b.substring(0,1).toUpperCase()+b.substring(1):String(b)},uniqueKey:kt,useSerialIds:function(b){return r=ot(b,r)},wrap:function(b,i,o){let l=b[i];b[i]=function(){let d=arguments,u=this;return o.apply(this,[function(){return l.apply(u,arguments.length?arguments:d)}].concat([].slice.call(arguments)))}}},{pageLang:Dr,win:Wr}=J,{defined:Xi,error:li,extend:Ur,isNumber:Yi,isObject:Wc,isString:Zo,merge:Xg,objectEach:Yg,pad:Bn,splat:Ku,timeUnits:Qa,ucfirst:Uc}=Qe,Zu=J.isSafari&&Wr.Intl&&!Wr.Intl.DateTimeFormat.prototype.formatRange,Qu=b=>b.main===void 0,qg=class{constructor(b,i){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Wr.Date,this.update(b),this.lang=i}update(b={}){this.dTLCache={},this.options=b=Xg(!0,this.options,b);let{timezoneOffset:i,useUTC:o,locale:l}=b;this.Date=b.Date||Wr.Date||Date;let d=b.timezone;Xi(o)&&(d=o?"UTC":void 0),i&&i%60==0&&(d="Etc/GMT"+(i>0?"+":"")+i/60),this.variableTimezone=d!=="UTC"&&(d==null?void 0:d.indexOf("Etc/GMT"))!==0,this.timezone=d,this.lang&&l&&(this.lang.locale=l),["months","shortMonths","weekdays","shortWeekdays"].forEach(u=>{let f=/months/i.test(u),g=/short/.test(u),m={timeZone:"UTC"};m[f?"month":"weekday"]=g?"short":"long",this[u]=(f?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(x=>this.dateFormat(m,(f?31:1)*24*36e5*x))})}toParts(b){let[i,o,l,d,u,f,g]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},b,"es").split(/(?:, | |\/|:)/g);return[d,l-1,o,u,f,g,Math.floor(Number(b)||0)%1e3,"DLMXJVS".indexOf(i)].map(Number)}dateTimeFormat(b,i,o=this.options.locale||Dr){let l=JSON.stringify(b)+o;Zo(b)&&(b=this.str2dtf(b));let d=this.dTLCache[l];if(!d){b.timeZone??(b.timeZone=this.timezone);try{d=new Intl.DateTimeFormat(o,b)}catch(u){/Invalid time zone/i.test(u.message)?(li(34),b.timeZone="UTC",d=new Intl.DateTimeFormat(o,b)):li(u.message,!1)}}return this.dTLCache[l]=d,(d==null?void 0:d.format(i))||""}str2dtf(b,i={}){let o={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(o).forEach(l=>{b.indexOf(l)!==-1&&Ur(i,o[l])}),i}makeTime(b,i,o=1,l=0,d,u,f){let g=this.Date.UTC(b,i,o,l,d||0,u||0,f||0);if(this.timezone!=="UTC"){let m=this.getTimezoneOffset(g);if(g+=m,[2,3,8,9,10,11].indexOf(i)!==-1&&(l<5||l>20)){let x=this.getTimezoneOffset(g);m!==x?g+=x-m:m-36e5!==this.getTimezoneOffset(g-36e5)||Zu||(g-=36e5)}}return g}parse(b){if(!Zo(b))return b??void 0;let i=(b=b.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(b),o=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(b);i||o||(b+="Z");let l=Date.parse(b);if(Yi(l))return l+(!i||o?this.getTimezoneOffset(l):0)}getTimezoneOffset(b){if(this.timezone!=="UTC"){let[i,o,l,d,u=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},b,"en").split(/(GMT|:)/).map(Number),f=-(60*(l+u/60)*6e4);if(Yi(f))return f}return 0}dateFormat(b,i,o){let l=this.lang;if(!Xi(i)||isNaN(i))return(l==null?void 0:l.invalidDate)||"";if(Zo(b=b??"%Y-%m-%d %H:%M:%S")){let d,u=/%\[([a-zA-Z]+)\]/g;for(;d=u.exec(b);)b=b.replace(d[0],this.dateTimeFormat(d[1],i,l==null?void 0:l.locale))}if(Zo(b)&&b.indexOf("%")!==-1){let d=this,[u,f,g,m,x,_,w,C]=this.toParts(i),j=(l==null?void 0:l.weekdays)||this.weekdays,L=(l==null?void 0:l.shortWeekdays)||this.shortWeekdays,F=(l==null?void 0:l.months)||this.months,$=(l==null?void 0:l.shortMonths)||this.shortMonths;Yg(Ur({a:L?L[C]:j[C].substr(0,3),A:j[C],d:Bn(g),e:Bn(g,2," "),w:C,v:(l==null?void 0:l.weekFrom)??"",b:$[f],B:F[f],m:Bn(f+1),o:f+1,y:u.toString().substr(2,2),Y:u,H:Bn(m),k:m,I:Bn(m%12||12),l:m%12||12,M:Bn(x),p:m<12?"AM":"PM",P:m<12?"am":"pm",S:Bn(_),L:Bn(w,3)},J.dateFormats),function(B,G){if(Zo(b))for(;b.indexOf("%"+G)!==-1;)b=b.replace("%"+G,typeof B=="function"?B.call(d,i):B)})}else if(Wc(b)){let d=(this.getTimezoneOffset(i)||0)/36e5,u=this.timezone||"Etc/GMT"+(d>=0?"+":"")+d,{prefix:f="",suffix:g=""}=b;b=f+this.dateTimeFormat(Ur({timeZone:u},b),i)+g}return o?Uc(b):b}resolveDTLFormat(b){return Wc(b,!0)?Wc(b,!0)&&Qu(b)?{main:b}:b:{main:(b=Ku(b))[0],from:b[1],to:b[2]}}getDateFormat(b,i,o,l){let d=this.dateFormat("%m-%d %H:%M:%S.%L",i),u="01-01 00:00:00.000",f={millisecond:15,second:12,minute:9,hour:6,day:3},g="millisecond",m=g;for(g in Qa){if(b&&b===Qa.week&&+this.dateFormat("%w",i)===o&&d.substr(6)===u.substr(6)){g="week";break}if(b&&Qa[g]>b){g=m;break}if(f[g]&&d.substr(f[g])!==u.substr(f[g]))break;g!=="week"&&(m=g)}return this.resolveDTLFormat(l[g]).main}},{defined:Ju,extend:Hc,timeUnits:nr}=Qe,Gc=class extends qg{getTimeTicks(b,i,o,l){let d=this,u=[],f={},{count:g=1,unitRange:m}=b,[x,_,w,C,j,L]=d.toParts(i),F=(i||0)%1e3,$;if(l??(l=1),Ju(i)){if(F=m>=nr.second?0:g*Math.floor(F/g),m>=nr.second&&(L=m>=nr.minute?0:g*Math.floor(L/g)),m>=nr.minute&&(j=m>=nr.hour?0:g*Math.floor(j/g)),m>=nr.hour&&(C=m>=nr.day?0:g*Math.floor(C/g)),m>=nr.day&&(w=m>=nr.month?1:Math.max(1,g*Math.floor(w/g))),m>=nr.month&&(_=m>=nr.year?0:g*Math.floor(_/g)),m>=nr.year&&(x-=x%g),m===nr.week){g&&(i=d.makeTime(x,_,w,C,j,L,F));let X=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},i,"es"),pe="DLMXJVS".indexOf(X);w+=-pe+l+(pe<l?-7:0)}i=d.makeTime(x,_,w,C,j,L,F),d.variableTimezone&&Ju(o)&&($=o-i>4*nr.month||d.getTimezoneOffset(i)!==d.getTimezoneOffset(o));let B=i,G=1;for(;B<o;)u.push(B),m===nr.year?B=d.makeTime(x+G*g,0):m===nr.month?B=d.makeTime(x,_+G*g):$&&(m===nr.day||m===nr.week)?B=d.makeTime(x,_,w+G*g*(m===nr.day?1:7)):$&&m===nr.hour&&g>1?B=d.makeTime(x,_,w,C+G*g):B+=m*g,G++;u.push(B),m<=nr.hour&&u.length<1e4&&u.forEach(X=>{X%18e5==0&&d.dateFormat("%H%M%S%L",X)==="000000000"&&(f[X]="day")})}return u.info=Hc(b,{higherRanks:f,totalRange:m*g}),u}},{isTouchDevice:Kg}=J,{fireEvent:ci,merge:Zg}=Qe,mn={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:b=>Math.sqrt(1-Math.pow(b-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:Kg?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Qo=new Gc(mn.time,mn.lang),Oi={defaultOptions:mn,defaultTime:Qo,getOptions:function(){return mn},setOptions:function(b){var i;return ci(J,"setOptions",{options:b}),Zg(!0,mn,b),b.time&&Qo.update(mn.time),b.lang&&"locale"in b.lang&&Qo.update({locale:b.lang.locale}),(i=b.lang)!=null&&i.chartTitle&&(mn.title={...mn.title,text:b.lang.chartTitle}),mn}},{win:ew}=J,{isNumber:Ja,isString:Qg,merge:Jg,pInt:Hr,defined:eh}=Qe,Vc=(b,i,o)=>`color-mix(in srgb,${b},${i} ${100*o}%)`,el=b=>Qg(b)&&!!b&&b!=="none";class Wt{static parse(i){return i?new Wt(i):Wt.None}constructor(i){let o,l,d,u;this.rgba=[NaN,NaN,NaN,NaN],this.input=i;let f=J.Color;if(f&&f!==Wt)return new f(i);if(typeof i=="object"&&i.stops!==void 0)this.stops=i.stops.map(g=>new Wt(g[1]));else if(typeof i=="string")for(this.input=i=Wt.names[i.toLowerCase()]||i,d=Wt.parsers.length;d--&&!l;)(o=(u=Wt.parsers[d]).regex.exec(i))&&(l=u.parse(o));l&&(this.rgba=l)}get(i){let o=this.input,l=this.rgba;if(this.output)return this.output;if(typeof o=="object"&&this.stops!==void 0){let d=Jg(o);return d.stops=[].slice.call(d.stops),this.stops.forEach((u,f)=>{d.stops[f]=[d.stops[f][0],u.get(i)]}),d}return l&&Ja(l[0])?i!=="rgb"&&(i||l[3]!==1)?i==="a"?`${l[3]}`:"rgba("+l.join(",")+")":"rgb("+l[0]+","+l[1]+","+l[2]+")":o}brighten(i){let o=this.rgba;if(this.stops)this.stops.forEach(function(l){l.brighten(i)});else if(Ja(i)&&i!==0)if(Ja(o[0]))for(let l=0;l<3;l++)o[l]+=Hr(255*i),o[l]<0&&(o[l]=0),o[l]>255&&(o[l]=255);else Wt.useColorMix&&el(this.input)&&(this.output=Vc(this.input,i>0?"white":"black",Math.abs(i)));return this}setOpacity(i){return this.rgba[3]=i,this}tweenTo(i,o){let l=this.rgba,d=i.rgba;if(!Ja(l[0])||!Ja(d[0]))return Wt.useColorMix&&el(this.input)&&el(i.input)&&o<.99?Vc(this.input,i.input,o):i.input||"none";let u=d[3]!==1||l[3]!==1,f=(m,x)=>m+(l[x]-m)*(1-o),g=d.slice(0,3).map(f).map(Math.round);return u&&g.push(f(d[3],3)),(u?"rgba(":"rgb(")+g.join(",")+")"}}Wt.names={white:"#ffffff",black:"#000000"},Wt.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(b){return[Hr(b[1]),Hr(b[2]),Hr(b[3]),parseFloat(b[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(b){return[Hr(b[1]),Hr(b[2]),Hr(b[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(b){return[Hr(b[1]+b[1],16),Hr(b[2]+b[2],16),Hr(b[3]+b[3],16),eh(b[4])?Hr(b[4]+b[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(b){return[Hr(b[1],16),Hr(b[2],16),Hr(b[3],16),eh(b[4])?Hr(b[4],16)/255:1]}}],Wt.useColorMix=(o1=ew.CSS)==null?void 0:o1.supports("color","color-mix(in srgb,red,blue 9%)"),Wt.None=new Wt("");let{parse:th}=Wt,{win:em}=J,{isNumber:Xc,objectEach:tm}=Qe;class Gr{constructor(i,o,l){this.pos=NaN,this.options=o,this.elem=i,this.prop=l}dSetter(){let i=this.paths,o=i==null?void 0:i[0],l=i==null?void 0:i[1],d=this.now||0,u=[];if(d!==1&&o&&l)if(o.length===l.length&&d<1)for(let f=0;f<l.length;f++){let g=o[f],m=l[f],x=[];for(let _=0;_<m.length;_++){let w=g[_],C=m[_];Xc(w)&&Xc(C)&&(m[0]!=="A"||_!==4&&_!==5)?x[_]=w+d*(C-w):x[_]=C}u.push(x)}else u=l;else u=this.toD||[];this.elem.attr("d",u,void 0,!0)}update(){let i=this.elem,o=this.prop,l=this.now,d=this.options.step;this[o+"Setter"]?this[o+"Setter"]():i.attr?i.element&&i.attr(o,l,null,!0):i.style[o]=l+this.unit,d&&d.call(i,l,this)}run(i,o,l){let d=this,u=d.options,f=function(x){return!f.stopped&&d.step(x)},g=em.requestAnimationFrame||function(x){setTimeout(x,13)},m=function(){for(let x=0;x<Gr.timers.length;x++)Gr.timers[x]()||Gr.timers.splice(x--,1);Gr.timers.length&&g(m)};i!==o||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=i,this.end=o,this.unit=l,this.now=this.start,this.pos=0,f.elem=this.elem,f.prop=this.prop,f()&&Gr.timers.push(f)===1&&g(m)):(delete u.curAnim[this.prop],u.complete&&Object.keys(u.curAnim).length===0&&u.complete.call(this.elem))}step(i){let o,l,d=+new Date,u=this.options,f=this.elem,g=u.complete,m=u.duration,x=u.curAnim;return f.attr&&!f.element?o=!1:i||d>=m+this.startTime?(this.now=this.end,this.pos=1,this.update(),x[this.prop]=!0,l=!0,tm(x,function(_){_!==!0&&(l=!1)}),l&&g&&g.call(f),o=!1):(this.pos=u.easing((d-this.startTime)/m),this.now=this.start+(this.end-this.start)*this.pos,this.update(),o=!0),o}initPath(i,o,l){let d=i.startX,u=i.endX,f=l.slice(),g=i.isArea,m=g?2:1,x=o&&l.length>o.length&&l.hasStackedCliffs,_,w,C,j,L=o==null?void 0:o.slice();if(!L||x)return[f,f];function F(B,G){for(;B.length<w;){let X=B[0],pe=G[w-B.length];if(pe&&X[0]==="M"&&(pe[0]==="C"?B[0]=["C",X[1],X[2],X[1],X[2],X[1],X[2]]:B[0]=["L",X[1],X[2]]),B.unshift(X),g){let de=B.pop();B.push(B[B.length-1],de)}}}function $(B){for(;B.length<w;){let G=B[Math.floor(B.length/m)-1].slice();if(G[0]==="C"&&(G[1]=G[5],G[2]=G[6]),g){let X=B[Math.floor(B.length/m)].slice();B.splice(B.length/2,0,G,X)}else B.push(G)}}if(d&&u&&u.length){for(C=0;C<d.length;C++)if(d[C]===u[0]){_=C;break}else if(d[0]===u[u.length-d.length+C]){_=C,j=!0;break}else if(d[d.length-1]===u[u.length-d.length+C]){_=d.length-C;break}_===void 0&&(L=[])}return L.length&&Xc(_)&&(w=f.length+_*m,j?(F(L,f),$(f)):(F(f,L),$(L))),[L,f]}fillSetter(){Gr.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,th(this.start).tweenTo(th(this.end),this.pos),void 0,!0)}}Gr.timers=[];let{defined:rh,getStyle:rm,isArray:im,isNumber:nm,isObject:Yc,merge:Jo,objectEach:ih,pick:ds}=Qe;function tl(b){return Yc(b)?Jo({duration:500,defer:0},b):{duration:500*!!b,defer:0}}function nh(b,i){let o=Gr.timers.length;for(;o--;)Gr.timers[o].elem!==b||i&&i!==Gr.timers[o].prop||(Gr.timers[o].stopped=!0)}let jr={animate:function(b,i,o){let l,d="",u,f,g;Yc(o)||(g=arguments,o={duration:g[2],easing:g[3],complete:g[4]}),nm(o.duration)||(o.duration=400),o.easing=typeof o.easing=="function"?o.easing:Math[o.easing]||Math.easeInOutSine,o.curAnim=Jo(i),ih(i,function(m,x){nh(b,x),f=new Gr(b,o,x),u=void 0,x==="d"&&im(i.d)?(f.paths=f.initPath(b,b.pathArray,i.d),f.toD=i.d,l=0,u=1):b.attr?l=b.attr(x):(l=parseFloat(rm(b,x))||0,x!=="opacity"&&(d="px")),u||(u=m),typeof u=="string"&&u.match("px")&&(u=u.replace(/px/g,"")),f.run(l,u,d)})},animObject:tl,getDeferredAnimation:function(b,i,o){let l=tl(i),d=o?[o]:b.series,u=0,f=0;return d.forEach(g=>{let m=tl(g.options.animation);u=Yc(i)&&rh(i.defer)?l.defer:Math.max(u,m.duration+m.defer),f=Math.min(l.duration,m.duration)}),b.renderer.forExport&&(u=0),{defer:Math.max(0,u-f),duration:Math.min(u,f)}},setAnimation:function(b,i){i.renderer.globalAnimation=ds(b,i.options.chart.animation,!0)},stop:nh},{SVG_NS:ea,win:sh}=J,{attr:sm,createElement:om,css:us,error:ta,isFunction:oh,isString:ah,objectEach:lh,splat:ra}=Qe,{trustedTypes:rl}=sh,$n=rl&&oh(rl.createPolicy)&&rl.createPolicy("highcharts",{createHTML:b=>b}),am=$n?$n.createHTML(""):"";class Ut{static filterUserAttributes(i){return lh(i,(o,l)=>{let d=!0;Ut.allowedAttributes.indexOf(l)===-1&&(d=!1),["background","dynsrc","href","lowsrc","src"].indexOf(l)!==-1&&(d=ah(o)&&Ut.allowedReferences.some(u=>o.indexOf(u)===0)),d||(ta(33,!1,void 0,{"Invalid attribute in config":`${l}`}),delete i[l]),ah(o)&&i[l]&&(i[l]=o.replace(/</g,"&lt;"))}),i}static parseStyle(i){return i.split(";").reduce((o,l)=>{let d=l.split(":").map(f=>f.trim()),u=d.shift();return u&&d.length&&(o[u.replace(/-([a-z])/g,f=>f[1].toUpperCase())]=d.join(":")),o},{})}static setElementHTML(i,o){i.innerHTML=Ut.emptyHTML,o&&new Ut(o).addToDOM(i)}constructor(i){this.nodes=typeof i=="string"?this.parseMarkup(i):i}addToDOM(i){return function o(l,d){let u;return ra(l).forEach(function(f){let g,m=f.tagName,x=f.textContent?J.doc.createTextNode(f.textContent):void 0,_=Ut.bypassHTMLFiltering;if(m)if(m==="#text")g=x;else if(Ut.allowedTags.indexOf(m)!==-1||_){let w=m==="svg"?ea:d.namespaceURI||ea,C=J.doc.createElementNS(w,m),j=f.attributes||{};lh(f,function(L,F){F!=="tagName"&&F!=="attributes"&&F!=="children"&&F!=="style"&&F!=="textContent"&&(j[F]=L)}),sm(C,_?j:Ut.filterUserAttributes(j)),f.style&&us(C,f.style),x&&C.appendChild(x),o(f.children||[],C),g=C}else ta(33,!1,void 0,{"Invalid tagName in config":m});g&&d.appendChild(g),u=g}),u}(this.nodes,i)}parseMarkup(i){let o,l=[];i=i.trim().replace(/ style=(["'])/g," data-style=$1");try{o=new DOMParser().parseFromString($n?$n.createHTML(i):i,"text/html")}catch{}if(!o){let u=om("div");u.innerHTML=i,o={body:u}}let d=(u,f)=>{let g=u.nodeName.toLowerCase(),m={tagName:g};g==="#text"&&(m.textContent=u.textContent||"");let x=u.attributes;if(x){let _={};[].forEach.call(x,w=>{w.name==="data-style"?m.style=Ut.parseStyle(w.value):_[w.name]=w.value}),m.attributes=_}if(u.childNodes.length){let _=[];[].forEach.call(u.childNodes,w=>{d(w,_)}),_.length&&(m.children=_)}f.push(m)};return[].forEach.call(o.body.childNodes,u=>d(u,l)),l}}Ut.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Ut.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Ut.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Ut.emptyHTML=am,Ut.bypassHTMLFiltering=!1;let{defaultOptions:zn,defaultTime:ch}=Oi,{pageLang:lm}=J,{extend:qc,getNestedProperty:cm,isArray:dh,isNumber:yr,isObject:uh,isString:il,pick:Ws,ucfirst:dm}=Qe,vn={add:(b,i)=>b+i,divide:(b,i)=>i!==0?b/i:"",eq:(b,i)=>b==i,each:function(b){let i=arguments[arguments.length-1];return!!dh(b)&&b.map((o,l)=>Us(i.body,qc(uh(o)?o:{"@this":o},{"@index":l,"@first":l===0,"@last":l===b.length-1}))).join("")},ge:(b,i)=>b>=i,gt:(b,i)=>b>i,if:b=>!!b,le:(b,i)=>b<=i,lt:(b,i)=>b<i,multiply:(b,i)=>b*i,ne:(b,i)=>b!=i,subtract:(b,i)=>b-i,ucfirst:dm,unless:b=>!b},hh={},fh=b=>/^["'].+["']$/.test(b);function Us(b="",i,o){var $;let l=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,d=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,u=[],f=/f$/,g=/\.(\d)/,m=(($=o==null?void 0:o.options)==null?void 0:$.lang)||zn.lang,x=(o==null?void 0:o.time)||ch,_=(o==null?void 0:o.numberFormatter)||Kc.bind(o),w=(B="")=>{let G;return B==="true"||B!=="false"&&((G=Number(B)).toString()===B?G:fh(B)?B.slice(1,-1):cm(B,i))},C,j,L=0,F;for(;(C=l.exec(b))!==null;){let B=C,G=d.exec(C[1]);G&&(C=G,F=!0),j!=null&&j.isBlock||(j={ctx:i,expression:C[1],find:C[0],isBlock:C[1].charAt(0)==="#",start:C.index,startInner:C.index+C[0].length,length:C[0].length});let X=(j.isBlock?B:C)[1].split(" ")[0].replace("#","");vn[X]&&(j.isBlock&&X===j.fn&&L++,j.fn||(j.fn=X));let pe=C[1]==="else";if(j.isBlock&&j.fn&&(C[1]===`/${j.fn}`||pe))if(L)!pe&&L--;else{let de=j.startInner,fe=b.substr(de,C.index-de);j.body===void 0?(j.body=fe,j.startInner=C.index+C[0].length):j.elseBody=fe,j.find+=fe+C[0],pe||(u.push(j),j=void 0)}else j.isBlock||u.push(j);if(G&&!(j!=null&&j.isBlock))break}return u.forEach(B=>{let G,X,{body:pe,elseBody:de,expression:fe,fn:ye}=B;if(ye){let me=[B],xe=[],Ae=fe.length,Te=0,We;for(X=0;X<=Ae;X++){let Ge=fe.charAt(X);We||Ge!=='"'&&Ge!=="'"?We===Ge&&(We=""):We=Ge,We||Ge!==" "&&X!==Ae||(xe.push(fe.substr(Te,X-Te)),Te=X+1)}for(X=vn[ye].length;X--;)me.unshift(w(xe[X+1]));G=vn[ye].apply(i,me),B.isBlock&&typeof G=="boolean"&&(G=Us(G?pe:de,i,o))}else{let me=fh(fe)?[fe]:fe.split(":"),xe=(G=w(me.shift()||""))%1!=0;if(typeof G=="number"&&(me.length||xe)){let Ae=me.join(":");if(f.test(Ae)||xe){let Te=parseInt((Ae.match(g)||["","-1"])[1],10);G!==null&&(G=_(G,Te,m.decimalPoint,Ae.indexOf(",")>-1?m.thousandsSep:""))}else G=x.dateFormat(Ae,G)}d.lastIndex=0,d.test(B.find)&&il(G)&&(G=`"${G}"`)}b=b.replace(B.find,Ws(G,""))}),F?Us(b,i,o):b}function Kc(b,i,o,l){var F;i*=1;let d,u,[f,g]=(b=+b||0).toString().split("e").map(Number),m=((F=this==null?void 0:this.options)==null?void 0:F.lang)||zn.lang,x=(b.toString().split(".")[1]||"").split("e")[0].length,_=i,w={};o??(o=m.decimalPoint),l??(l=m.thousandsSep),i===-1?i=Math.min(x,20):yr(i)?i&&g<0&&((u=i+g)>=0?(f=+f.toExponential(u).split("e")[0],i=u):(f=Math.floor(f),b=i<20?+(f*Math.pow(10,g)).toFixed(i):0,g=0)):i=2,g&&(i??(i=2),b=f),yr(i)&&i>=0&&(w.minimumFractionDigits=i,w.maximumFractionDigits=i),l===""&&(w.useGrouping=!1);let C=l||o,j=C?"en":(this==null?void 0:this.locale)||m.locale||lm,L=JSON.stringify(w)+j;return d=(hh[L]??(hh[L]=new Intl.NumberFormat(j,w))).format(b),C&&(d=d.replace(/([,\.])/g,"_$1").replace(/_\,/g,l??",").replace("_.",o??".")),(i||+d!=0)&&(!(g<0)||_)||(d="0"),g&&+d!=0&&(d+="e"+(g<0?"":"+")+g),d}let sr={dateFormat:function(b,i,o){return ch.dateFormat(b,i,o)},format:Us,helpers:vn,numberFormat:Kc};(function(b){let i;b.rendererTypes={},b.getRendererType=function(o=i){return b.rendererTypes[o]||b.rendererTypes[i]},b.registerRendererType=function(o,l,d){b.rendererTypes[o]=l,(!i||d)&&(i=o,J.Renderer=l)}})(a||(a={}));let qi=a,{clamp:di,pick:nl,pushUnique:ph,stableSort:Hs}=Qe;(c||(c={})).distribute=function b(i,o,l){let d=i,u=d.reducedLen||o,f=(X,pe)=>X.target-pe.target,g=[],m=i.length,x=[],_=g.push,w,C,j,L=!0,F,$,B=0,G;for(w=m;w--;)B+=i[w].size;if(B>u){for(Hs(i,(X,pe)=>(pe.rank||0)-(X.rank||0)),j=(G=i[0].rank===i[i.length-1].rank)?m/2:-1,C=G?j:m-1;j&&B>u;)F=i[w=Math.floor(C)],ph(x,w)&&(B-=F.size),C+=j,G&&C>=i.length&&(j/=2,C=j);x.sort((X,pe)=>pe-X).forEach(X=>_.apply(g,i.splice(X,1)))}for(Hs(i,f),i=i.map(X=>({size:X.size,targets:[X.target],align:nl(X.align,.5)}));L;){for(w=i.length;w--;)F=i[w],$=(Math.min.apply(0,F.targets)+Math.max.apply(0,F.targets))/2,F.pos=di($-F.size*F.align,0,o-F.size);for(w=i.length,L=!1;w--;)w>0&&i[w-1].pos+i[w-1].size>i[w].pos&&(i[w-1].size+=i[w].size,i[w-1].targets=i[w-1].targets.concat(i[w].targets),i[w-1].align=.5,i[w-1].pos+i[w-1].size>o&&(i[w-1].pos=o-i[w-1].size),i.splice(w,1),L=!0)}return _.apply(d,g),w=0,i.some(X=>{let pe=0;return(X.targets||[]).some(()=>(d[w].pos=X.pos+pe,l!==void 0&&Math.abs(d[w].pos-d[w].target)>l?(d.slice(0,w+1).forEach(de=>delete de.pos),d.reducedLen=(d.reducedLen||o)-.1*o,d.reducedLen>.1*o&&b(d,o,l),!0):(pe+=d[w].size,w++,!1)))}),Hs(d,f),d};let hs=c,{animate:um,animObject:gh,stop:sl}=jr,{deg2rad:Gs,doc:Ki,svg:mh,SVG_NS:Zi,win:ol,isFirefox:hm}=J,{addEvent:Qi,attr:Zc,createElement:Qc,crisp:Vs,css:vh,defined:Ji,erase:Jc,extend:fs,fireEvent:al,getAlignFactor:ed,isArray:Fn,isFunction:xh,isNumber:yh,isObject:Xs,isString:bh,merge:ll,objectEach:Ys,pick:Ri,pInt:cl,pushUnique:fm,replaceNested:pm,syncTimeout:gm,uniqueKey:td}=Qe;class gr{_defaultGetter(i){let o=Ri(this[i+"Value"],this[i],this.element?this.element.getAttribute(i):null,0);return/^-?[\d\.]+$/.test(o)&&(o=parseFloat(o)),o}_defaultSetter(i,o,l){l.setAttribute(o,i)}add(i){let o,l=this.renderer,d=this.element;return i&&(this.parentGroup=i),this.textStr!==void 0&&this.element.nodeName==="text"&&l.buildText(this),this.added=!0,(!i||i.handleZ||this.zIndex)&&(o=this.zIndexSetter()),o||(i?i.element:l.box).appendChild(d),this.onAdd&&this.onAdd(),this}addClass(i,o){let l=o?"":this.attr("class")||"";return(i=(i||"").split(/ /g).reduce(function(d,u){return l.indexOf(u)===-1&&d.push(u),d},l?[l]:[]).join(" "))!==l&&this.attr("class",i),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(i,o,l,d=!0){let u=this.renderer,f=u.alignedObjects,g=!!i;i?(this.alignOptions=i,this.alignByTranslate=o,this.alignTo=l):(i=this.alignOptions||{},o=this.alignByTranslate,l=this.alignTo);let m=!l||bh(l)?l||"renderer":void 0;m&&(g&&fm(f,this),l=void 0);let x=Ri(l,u[m],u),_=(x.x||0)+(i.x||0)+((x.width||0)-(i.width||0))*ed(i.align),w=(x.y||0)+(i.y||0)+((x.height||0)-(i.height||0))*ed(i.verticalAlign),C={"text-align":i==null?void 0:i.align};return C[o?"translateX":"x"]=Math.round(_),C[o?"translateY":"y"]=Math.round(w),d&&(this[this.placed?"animate":"attr"](C),this.placed=!0),this.alignAttr=C,this}alignSetter(i){let o={left:"start",center:"middle",right:"end"};o[i]&&(this.alignValue=i,this.element.setAttribute("text-anchor",o[i]))}animate(i,o,l){let d=gh(Ri(o,this.renderer.globalAnimation,!0)),u=d.defer;return Ki.hidden&&(d.duration=0),d.duration!==0?(l&&(d.complete=l),gm(()=>{this.element&&um(this,i,d)},u)):(this.attr(i,void 0,l||d.complete),Ys(i,function(f,g){d.step&&d.step.call(this,f,{prop:g,pos:1,elem:this})},this)),this}applyTextOutline(i){let o=this.element;i.indexOf("contrast")!==-1&&(i=i.replace(/contrast/g,this.renderer.getContrast(o.style.fill)));let l=i.indexOf(" "),d=i.substring(l+1),u=i.substring(0,l);if(u&&u!=="none"&&J.svg){this.fakeTS=!0,u=u.replace(/(^[\d\.]+)(.*?)$/g,function(_,w,C){return 2*Number(w)+C}),this.removeTextOutline();let f=Ki.createElementNS(Zi,"tspan");Zc(f,{class:"highcharts-text-outline",fill:d,stroke:d,"stroke-width":u,"stroke-linejoin":"round"});let g=o.querySelector("textPath")||o;[].forEach.call(g.childNodes,_=>{let w=_.cloneNode(!0);w.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(C=>w.removeAttribute(C)),f.appendChild(w)});let m=0;[].forEach.call(g.querySelectorAll("text tspan"),_=>{m+=Number(_.getAttribute("dy"))});let x=Ki.createElementNS(Zi,"tspan");x.textContent="",Zc(x,{x:Number(o.getAttribute("x")),dy:-m}),f.appendChild(x),g.insertBefore(f,g.firstChild)}}attr(i,o,l,d){let{element:u}=this,f=gr.symbolCustomAttribs,g,m,x=this,_;return typeof i=="string"&&o!==void 0&&(g=i,(i={})[g]=o),typeof i=="string"?x=(this[i+"Getter"]||this._defaultGetter).call(this,i,u):(Ys(i,function(w,C){_=!1,d||sl(this,C),this.symbolName&&f.indexOf(C)!==-1&&(m||(this.symbolAttr(i),m=!0),_=!0),this.rotation&&(C==="x"||C==="y")&&(this.doTransform=!0),_||(this[C+"Setter"]||this._defaultSetter).call(this,w,C,u)},this),this.afterSetters()),l&&l.call(this),x}clip(i){if(i&&!i.clipPath){let o=td()+"-",l=this.renderer.createElement("clipPath").attr({id:o}).add(this.renderer.defs);fs(i,{clipPath:l,id:o,count:0}),i.add(l)}return this.attr("clip-path",i?`url(${this.renderer.url}#${i.id})`:"none")}crisp(i,o){o=Math.round(o||i.strokeWidth||0);let l=i.x||this.x||0,d=i.y||this.y||0,u=(i.width||this.width||0)+l,f=(i.height||this.height||0)+d,g=Vs(l,o),m=Vs(d,o);return fs(i,{x:g,y:m,width:Vs(u,o)-g,height:Vs(f,o)-m}),Ji(i.strokeWidth)&&(i.strokeWidth=o),i}complexColor(i,o,l){let d=this.renderer,u,f,g,m,x,_,w,C,j,L,F=[],$;al(this.renderer,"complexColor",{args:arguments},function(){if(i.radialGradient?f="radialGradient":i.linearGradient&&(f="linearGradient"),f){if(g=i[f],x=d.gradients,_=i.stops,j=l.radialReference,Fn(g)&&(i[f]=g={x1:g[0],y1:g[1],x2:g[2],y2:g[3],gradientUnits:"userSpaceOnUse"}),f==="radialGradient"&&j&&!Ji(g.gradientUnits)&&(m=g,g=ll(g,d.getRadialAttr(j,m),{gradientUnits:"userSpaceOnUse"})),Ys(g,function(B,G){G!=="id"&&F.push(G,B)}),Ys(_,function(B){F.push(B)}),x[F=F.join(",")])L=x[F].attr("id");else{g.id=L=td();let B=x[F]=d.createElement(f).attr(g).add(d.defs);B.radAttr=m,B.stops=[],_.forEach(function(G){G[1].indexOf("rgba")===0?(w=(u=Wt.parse(G[1])).get("rgb"),C=u.get("a")):(w=G[1],C=1);let X=d.createElement("stop").attr({offset:G[0],"stop-color":w,"stop-opacity":C}).add(B);B.stops.push(X)})}$="url("+d.url+"#"+L+")",l.setAttribute(o,$),l.gradient=F,i.toString=function(){return $}}})}css(i){let o=this.styles,l={},d=this.element,u,f=!o;if(o&&Ys(i,function(g,m){o&&o[m]!==g&&(l[m]=g,f=!0)}),f){o&&(i=fs(o,l)),i.width===null||i.width==="auto"?delete this.textWidth:d.nodeName.toLowerCase()==="text"&&i.width&&(u=this.textWidth=cl(i.width)),fs(this.styles,i),u&&!mh&&this.renderer.forExport&&delete i.width;let g=hm&&i.fontSize||null;g&&(yh(g)||/^\d+$/.test(g))&&(i.fontSize+="px");let m=ll(i);d.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(x=>m&&delete m[x]),m.color&&(m.fill=m.color,delete m.color)),vh(d,m)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),i.textOutline&&this.applyTextOutline(i.textOutline)),this}dashstyleSetter(i){let o,l=this["stroke-width"];if(l==="inherit"&&(l=1),i){let d=(i=i.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(o=d.length;o--;)d[o]=""+cl(d[o])*Ri(l,NaN);i=d.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",i)}}destroy(){let i=this,o=i.element||{},l=i.renderer,d=o.ownerSVGElement,u=o.nodeName==="SPAN"&&i.parentGroup||void 0,f,g;if(o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=o.point=null,sl(i),i.clipPath&&d){let m=i.clipPath;[].forEach.call(d.querySelectorAll("[clip-path],[CLIP-PATH]"),function(x){x.getAttribute("clip-path").indexOf(m.element.id)>-1&&x.removeAttribute("clip-path")}),i.clipPath=m.destroy()}if(i.stops){for(g=0;g<i.stops.length;g++)i.stops[g].destroy();i.stops.length=0,i.stops=void 0}for(i.safeRemoveChild(o);u!=null&&u.div&&u.div.childNodes.length===0;)f=u.parentGroup,i.safeRemoveChild(u.div),delete u.div,u=f;i.alignOptions&&Jc(l.alignedObjects,i),Ys(i,(m,x)=>{var _,w,C;(((_=i[x])==null?void 0:_.parentGroup)===i||["connector","foreignObject"].indexOf(x)!==-1)&&((C=(w=i[x])==null?void 0:w.destroy)==null||C.call(w)),delete i[x]})}dSetter(i,o,l){Fn(i)&&(typeof i[0]=="string"&&(i=this.renderer.pathToSegments(i)),this.pathArray=i,i=i.reduce((d,u,f)=>u!=null&&u.join?(f?d+" ":"")+u.join(" "):(u||"").toString(),"")),/(NaN| {2}|^$)/.test(i)&&(i="M 0 0"),this[o]!==i&&(l.setAttribute(o,i),this[o]=i)}fillSetter(i,o,l){typeof i=="string"?l.setAttribute(o,i):i&&this.complexColor(i,o,l)}hrefSetter(i,o,l){l.setAttributeNS("http://www.w3.org/1999/xlink",o,i)}getBBox(i,o){let l,d,u,f,{alignValue:g,element:m,renderer:x,styles:_,textStr:w}=this,{cache:C,cacheKeys:j}=x,L=m.namespaceURI===this.SVG_NS,F=Ri(o,this.rotation,0),$=x.styledMode?m&&gr.prototype.getStyle.call(m,"font-size"):_.fontSize;if(Ji(w)&&((f=w.toString()).indexOf("<")===-1&&(f=f.replace(/\d/g,"0")),f+=["",x.rootFontSize,$,F,this.textWidth,g,_.lineClamp,_.textOverflow,_.fontWeight].join(",")),f&&!i&&(l=C[f]),!l||l.polygon){if(L||x.forExport){try{u=this.fakeTS&&function(G){let X=m.querySelector(".highcharts-text-outline");X&&vh(X,{display:G})},xh(u)&&u("none"),l=m.getBBox?fs({},m.getBBox()):{width:m.offsetWidth,height:m.offsetHeight,x:0,y:0},xh(u)&&u("")}catch{}(!l||l.width<0)&&(l={x:0,y:0,width:0,height:0})}else l=this.htmlGetBBox();d=l.height,L&&(l.height=d={"11px,17":14,"13px,20":16}[`${$||""},${Math.round(d)}`]||d),F&&(l=this.getRotatedBox(l,F));let B={bBox:l};al(this,"afterGetBBox",B),l=B.bBox}if(f&&(w===""||l.height>0)){for(;j.length>250;)delete C[j.shift()];C[f]||j.push(f),C[f]=l}return l}getRotatedBox(i,o){let{x:l,y:d,width:u,height:f}=i,{alignValue:g,translateY:m,rotationOriginX:x=0,rotationOriginY:_=0}=this,w=ed(g),C=Number(this.element.getAttribute("y")||0)-(m?0:d),j=o*Gs,L=(o-90)*Gs,F=Math.cos(j),$=Math.sin(j),B=u*F,G=u*$,X=Math.cos(L),pe=Math.sin(L),[[de,fe],[ye,me]]=[x,_].map(Tt=>[Tt-Tt*F,Tt*$]),xe=l+w*(u-B)+de+me+C*X,Ae=xe+B,Te=Ae-f*X,We=Te-B,Ge=d+C-w*G-fe+ye+C*pe,rt=Ge+G,Je=rt-f*pe,lt=Je-G,Ke=Math.min(xe,Ae,Te,We),ct=Math.min(Ge,rt,Je,lt),wt=Math.max(xe,Ae,Te,We)-Ke,jt=Math.max(Ge,rt,Je,lt)-ct;return{x:Ke,y:ct,width:wt,height:jt,polygon:[[xe,Ge],[Ae,rt],[Te,Je],[We,lt]]}}getStyle(i){return ol.getComputedStyle(this.element||this,"").getPropertyValue(i)}hasClass(i){return(""+this.attr("class")).split(" ").indexOf(i)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(i,o){this.onEvents={},this.opacity=1,this.SVG_NS=Zi,this.element=o==="span"||o==="body"?Qc(o):Ki.createElementNS(this.SVG_NS,o),this.renderer=i,this.styles={},al(this,"afterInit")}on(i,o){let{onEvents:l}=this;return l[i]&&l[i](),l[i]=Qi(this.element,i,o),this}opacitySetter(i,o,l){let d=Number(Number(i).toFixed(3));this.opacity=d,l.setAttribute(o,d)}reAlign(){var i;(i=this.alignOptions)!=null&&i.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(i){return this.attr("class",(""+this.attr("class")).replace(bh(i)?RegExp(`(^| )${i}( |$)`):i," ").replace(/ +/g," ").trim())}removeTextOutline(){let i=this.element.querySelector("tspan.highcharts-text-outline");i&&this.safeRemoveChild(i)}safeRemoveChild(i){let o=i.parentNode;o&&o.removeChild(i)}setRadialReference(i){let o=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=i,o!=null&&o.radAttr&&o.animate(this.renderer.getRadialAttr(i,o.radAttr)),this}shadow(i){var u;let{renderer:o}=this,l=ll(((u=this.parentGroup)==null?void 0:u.rotation)===90?{offsetX:-1,offsetY:-1}:{},Xs(i)?i:{}),d=o.shadowDefinition(l);return this.attr({filter:i?`url(${o.url}#${d})`:"none"})}show(i=!0){return this.attr({visibility:i?"inherit":"visible"})}"stroke-widthSetter"(i,o,l){this[o]=i,l.setAttribute(o,i)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let i=this.getStyle("stroke-width"),o=0,l;return/px$/.test(i)?o=cl(i):i!==""&&(Zc(l=Ki.createElementNS(Zi,"rect"),{width:i,"stroke-width":0}),this.element.parentNode.appendChild(l),o=l.getBBox().width,l.parentNode.removeChild(l)),o}symbolAttr(i){let o=this;gr.symbolCustomAttribs.forEach(function(l){o[l]=Ri(i[l],o[l])}),o.attr({d:o.renderer.symbols[o.symbolName](o.x,o.y,o.width,o.height,o)})}textSetter(i){i!==this.textStr&&(delete this.textPxLength,this.textStr=i,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(i){let o=this.element,l=o.getElementsByTagName("title")[0]||Ki.createElementNS(this.SVG_NS,"title");o.insertBefore?o.insertBefore(l,o.firstChild):o.appendChild(l),l.textContent=pm(Ri(i,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let i=this.element;return i.parentNode.appendChild(i),this}translate(i,o){return this.attr({translateX:i,translateY:o})}updateTransform(i="transform"){let{element:o,foreignObject:l,matrix:d,padding:u,rotation:f=0,rotationOriginX:g,rotationOriginY:m,scaleX:x,scaleY:_,text:w,translateX:C=0,translateY:j=0}=this,L=["translate("+C+","+j+")"];Ji(d)&&L.push("matrix("+d.join(",")+")"),f&&(L.push("rotate("+f+" "+(g??o.getAttribute("x")??this.x??0)+" "+(m??o.getAttribute("y")??this.y??0)+")"),(w==null?void 0:w.element.tagName)!=="SPAN"||w!=null&&w.foreignObject||w.attr({rotation:f,rotationOriginX:(g||0)-u,rotationOriginY:(m||0)-u})),(Ji(x)||Ji(_))&&L.push("scale("+Ri(x,1)+" "+Ri(_,1)+")"),L.length&&!(w||this).textPath&&((l==null?void 0:l.element)||o).setAttribute(i,L.join(" "))}visibilitySetter(i,o,l){i==="inherit"?l.removeAttribute(o):this[o]!==i&&l.setAttribute(o,i),this[o]=i}xGetter(i){return this.element.nodeName==="circle"&&(i==="x"?i="cx":i==="y"&&(i="cy")),this._defaultGetter(i)}zIndexSetter(i,o){let l=this.renderer,d=this.parentGroup,u=(d||l).element||l.box,f=this.element,g=u===l.box,m,x,_,w=!1,C,j=this.added,L;if(Ji(i)?(f.setAttribute("data-z-index",i),i*=1,this[o]===i&&(j=!1)):Ji(this[o])&&f.removeAttribute("data-z-index"),this[o]=i,j){for((i=this.zIndex)&&d&&(d.handleZ=!0),L=(m=u.childNodes).length-1;L>=0&&!w;L--)C=!Ji(_=(x=m[L]).getAttribute("data-z-index")),x!==f&&(i<0&&C&&!g&&!L?(u.insertBefore(f,m[L]),w=!0):(cl(_)<=i||C&&(!Ji(i)||i>=0))&&(u.insertBefore(f,m[L+1]),w=!0));w||(u.insertBefore(f,m[3*!!g]),w=!0)}return w}}gr.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],gr.prototype.strokeSetter=gr.prototype.fillSetter,gr.prototype.yGetter=gr.prototype.xGetter,gr.prototype.matrixSetter=gr.prototype.rotationOriginXSetter=gr.prototype.rotationOriginYSetter=gr.prototype.rotationSetter=gr.prototype.scaleXSetter=gr.prototype.scaleYSetter=gr.prototype.translateXSetter=gr.prototype.translateYSetter=gr.prototype.verticalAlignSetter=function(b,i){this[i]=b,this.doTransform=!0};let en=gr,{defined:wh,extend:mm,getAlignFactor:kh,isNumber:qs,merge:vm,pick:Ks,removeEvent:dl}=Qe;class Wn extends en{constructor(i,o,l,d,u,f,g,m,x,_){let w;super(i,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=o,this.x=l,this.y=d,this.anchorX=f,this.anchorY=g,this.baseline=x,this.className=_,this.addClass(_==="button"?"highcharts-no-tooltip":"highcharts-label"),_&&this.addClass("highcharts-"+_),this.text=i.text(void 0,0,0,m).attr({zIndex:1}),typeof u=="string"&&((w=/^url\((.*?)\)$/.test(u))||this.renderer.symbols[u])&&(this.symbolKey=u),this.bBox=Wn.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=i.styledMode||w,this.deferredAttr={},this.alignFactor=0}alignSetter(i){let o=kh(i);this.textAlign=i,o!==this.alignFactor&&(this.alignFactor=o,this.bBox&&qs(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(i,o){this.anchorX=i,this.boxAttr(o,Math.round(i)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(i,o){this.anchorY=i,this.boxAttr(o,i-this.ySetting)}boxAttr(i,o){this.box?this.box.attr(i,o):this.deferredAttr[i]=o}css(i){if(i){let o={};i=vm(i),Wn.textProps.forEach(l=>{i[l]!==void 0&&(o[l]=i[l],delete i[l])}),this.text.css(o),"fontSize"in o||"fontWeight"in o?this.updateTextPadding():("width"in o||"textOverflow"in o)&&this.updateBoxSize()}return en.prototype.css.call(this,i)}destroy(){dl(this.element,"mouseenter"),dl(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),en.prototype.destroy.call(this)}fillSetter(i,o){i&&(this.needsBox=!0),this.fill=i,this.boxAttr(o,i)}getBBox(i,o){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:l,height:d=0,translateX:u=0,translateY:f=0,width:g=0}=this,m=Ks(this.paddingLeft,l),x=o??(this.rotation||0),_={width:g,height:d,x:u+this.bBox.x-m,y:f+this.bBox.y-l+this.baselineOffset};return x&&(_=this.getRotatedBox(_,x)),_}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(i){this.heightSetting=i,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Ks(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&wh(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(i,o){qs(i)?i!==this[o]&&(this[o]=i,this.updateTextPadding()):this[o]=void 0}rSetter(i,o){this.boxAttr(o,i)}strokeSetter(i,o){this.stroke=i,this.boxAttr(o,i)}"stroke-widthSetter"(i,o){i&&(this.needsBox=!0),this["stroke-width"]=i,this.boxAttr(o,i)}"text-alignSetter"(i){this.textAlign=this["text-align"]=i,this.updateTextPadding()}textSetter(i){i!==void 0&&this.text.attr({text:i}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let i,o=this.text,l={},d=this.padding,u=this.bBox=(!qs(this.widthSetting)||!qs(this.heightSetting)||this.textAlign)&&wh(o.textStr)?o.getBBox(void 0,0):Wn.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||u.height||0)+2*d;let f=this.renderer.fontMetrics(o);if(this.baselineOffset=d+Math.min((this.text.firstLineMetrics||f).b,u.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-f.h)/2),this.needsBox&&!o.textPath){if(!this.box){let g=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();g.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),g.add(this)}l.x=i=this.getCrispAdjust(),l.y=(this.baseline?-this.baselineOffset:0)+i,l.width=Math.round(this.width),l.height=Math.round(this.height),this.box.attr(mm(l,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let i=this.text,o=i.styles.textAlign||this.textAlign;if(!i.textPath){this.updateBoxSize();let l=this.baseline?0:this.baselineOffset,d=(this.paddingLeft??this.padding)+kh(o)*(this.widthSetting??this.bBox.width);(d!==i.x||l!==i.y)&&(i.attr({align:o,x:d}),l!==void 0&&i.attr("y",l)),i.x=d,i.y=l}}widthSetter(i){this.widthSetting=qs(i)?i:void 0,this.doUpdate=!0}getPaddedWidth(){let i=this.padding,o=Ks(this.paddingLeft,i),l=Ks(this.paddingRight,i);return(this.widthSetting||this.bBox.width||0)+o+l}xSetter(i){this.x=i,this.alignFactor&&(i-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(i),this.attr("translateX",this.xSetting)}ySetter(i){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(i),this.attr("translateY",this.ySetting)}}Wn.emptyBBox={width:0,height:0,x:0,y:0},Wn.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Li,isNumber:ia,pick:ui}=Qe;function tn(b,i,o,l,d){let u=[];if(d){let f=d.start||0,g=d.end||0,m=ui(d.r,o),x=ui(d.r,l||o),_=2e-4/(d.borderRadius?1:Math.max(m,1)),w=Math.abs(g-f-2*Math.PI)<_;w&&(f=Math.PI/2,g=2.5*Math.PI-_);let C=d.innerR,j=ui(d.open,w),L=Math.cos(f),F=Math.sin(f),$=Math.cos(g),B=Math.sin(g),G=ui(d.longArc,g-f-Math.PI<_?0:1),X=["A",m,x,0,G,ui(d.clockwise,1),b+m*$,i+x*B];X.params={start:f,end:g,cx:b,cy:i},u.push(["M",b+m*L,i+x*F],X),Li(C)&&((X=["A",C,C,0,G,Li(d.clockwise)?1-d.clockwise:0,b+C*L,i+C*F]).params={start:g,end:f,cx:b,cy:i},u.push(j?["M",b+C*$,i+C*B]:["L",b+C*$,i+C*B],X)),j||u.push(["Z"])}return u}function Sh(b,i,o,l,d){return d!=null&&d.r?rd(b,i,o,l,d):[["M",b,i],["L",b+o,i],["L",b+o,i+l],["L",b,i+l],["Z"]]}function rd(b,i,o,l,d){let u=(d==null?void 0:d.r)||0;return[["M",b+u,i],["L",b+o-u,i],["A",u,u,0,0,1,b+o,i+u],["L",b+o,i+l-u],["A",u,u,0,0,1,b+o-u,i+l],["L",b+u,i+l],["A",u,u,0,0,1,b,i+l-u],["L",b,i+u],["A",u,u,0,0,1,b+u,i],["Z"]]}let _h={arc:tn,callout:function(b,i,o,l,d){let u=Math.min((d==null?void 0:d.r)||0,o,l),f=u+6,g=d==null?void 0:d.anchorX,m=(d==null?void 0:d.anchorY)||0,x=rd(b,i,o,l,{r:u});if(!ia(g)||g<o&&g>0&&m<l&&m>0)return x;if(b+g>o-f)if(m>i+f&&m<i+l-f)x.splice(3,1,["L",b+o,m-6],["L",b+o+6,m],["L",b+o,m+6],["L",b+o,i+l-u]);else if(g<o){let _=m<i+f,w=_?i:i+l;x.splice(_?2:5,0,["L",g,m],["L",b+o-u,w])}else x.splice(3,1,["L",b+o,l/2],["L",g,m],["L",b+o,l/2],["L",b+o,i+l-u]);else if(b+g<f)if(m>i+f&&m<i+l-f)x.splice(7,1,["L",b,m+6],["L",b-6,m],["L",b,m-6],["L",b,i+u]);else if(g>0){let _=m<i+f,w=_?i:i+l;x.splice(_?1:6,0,["L",g,m],["L",b+u,w])}else x.splice(7,1,["L",b,l/2],["L",g,m],["L",b,l/2],["L",b,i+u]);else m>l&&g<o-f?x.splice(5,1,["L",g+6,i+l],["L",g,i+l+6],["L",g-6,i+l],["L",b+u,i+l]):m<0&&g>f&&x.splice(1,1,["L",g-6,i],["L",g,i-6],["L",g+6,i],["L",o-u,i]);return x},circle:function(b,i,o,l){return tn(b+o/2,i+l/2,o/2,l/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(b,i,o,l){return[["M",b+o/2,i],["L",b+o,i+l/2],["L",b+o/2,i+l],["L",b,i+l/2],["Z"]]},rect:Sh,roundedRect:rd,square:Sh,triangle:function(b,i,o,l){return[["M",b+o/2,i],["L",b+o,i+l],["L",b,i+l],["Z"]]},"triangle-down":function(b,i,o,l){return[["M",b,i],["L",b+o,i],["L",b+o/2,i+l],["Z"]]}},{doc:ul,SVG_NS:Zs,win:Br}=J,{attr:na,extend:Un,fireEvent:xm,isString:rn,objectEach:ym,pick:Ch}=Qe,ps=(b,i)=>b.substring(0,i)+"",bm=class{constructor(b){let i=b.styles;this.renderer=b.renderer,this.svgElement=b,this.width=b.textWidth,this.textLineHeight=i==null?void 0:i.lineHeight,this.textOutline=i==null?void 0:i.textOutline,this.ellipsis=(i==null?void 0:i.textOverflow)==="ellipsis",this.lineClamp=i==null?void 0:i.lineClamp,this.noWrap=(i==null?void 0:i.whiteSpace)==="nowrap"}buildSVG(){let b=this.svgElement,i=b.element,o=b.renderer,l=Ch(b.textStr,"").toString(),d=l.indexOf("<")!==-1,u=i.childNodes,f=!b.added&&o.box,g=[l,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,b.getStyle("font-size"),b.styles.lineClamp,this.width].join(",");if(g!==b.textCache){b.textCache=g,delete b.actualWidth;for(let m=u.length;m--;)i.removeChild(u[m]);if(d||this.ellipsis||this.width||b.textPath||l.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(l))){if(l!==""){f&&f.appendChild(i);let m=new Ut(l);this.modifyTree(m.nodes),m.addToDOM(i),this.modifyDOM(),this.ellipsis&&(i.textContent||"").indexOf("")!==-1&&b.attr("title",this.unescapeEntities(b.textStr||"",["&lt;","&gt;"])),f&&f.removeChild(i)}}else i.appendChild(ul.createTextNode(this.unescapeEntities(l)));rn(this.textOutline)&&b.applyTextOutline&&b.applyTextOutline(this.textOutline)}}modifyDOM(){let b,i=this.svgElement,o=na(i.element,"x");for(i.firstLineMetrics=void 0;(b=i.element.firstChild)&&/^[\s\u200B]*$/.test(b.textContent||" ");)i.element.removeChild(b);[].forEach.call(i.element.querySelectorAll("tspan.highcharts-br"),(f,g)=>{f.nextSibling&&f.previousSibling&&(g===0&&f.previousSibling.nodeType===1&&(i.firstLineMetrics=i.renderer.fontMetrics(f.previousSibling)),na(f,{dy:this.getLineHeight(f.nextSibling),x:o}))});let l=this.width||0;if(!l)return;let d=(f,g)=>{var F;let m=f.textContent||"",x=m.replace(/([^\^])-/g,"$1- ").split(" "),_=!this.noWrap&&(x.length>1||i.element.childNodes.length>1),w=this.getLineHeight(g),C=Math.max(0,l-.8*w),j=0,L=i.actualWidth;if(_){let $=[],B=[];for(;g.firstChild&&g.firstChild!==f;)B.push(g.firstChild),g.removeChild(g.firstChild);for(;x.length;)if(x.length&&!this.noWrap&&j>0&&($.push(f.textContent||""),f.textContent=x.join(" ").replace(/- /g,"-")),this.truncate(f,void 0,x,j===0&&L||0,l,C,(G,X)=>x.slice(0,X).join(" ").replace(/- /g,"-")),L=i.actualWidth,j++,this.lineClamp&&j>=this.lineClamp){x.length&&(this.truncate(f,f.textContent||"",void 0,0,l,C,ps),f.textContent=((F=f.textContent)==null?void 0:F.replace("",""))+"");break}B.forEach(G=>{g.insertBefore(G,f)}),$.forEach(G=>{g.insertBefore(ul.createTextNode(G),f);let X=ul.createElementNS(Zs,"tspan");X.textContent="",na(X,{dy:w,x:o}),g.insertBefore(X,f)})}else this.ellipsis&&m&&this.truncate(f,m,void 0,0,l,C,ps)},u=f=>{[].slice.call(f.childNodes).forEach(g=>{g.nodeType===Br.Node.TEXT_NODE?d(g,f):(g.className.baseVal.indexOf("highcharts-br")!==-1&&(i.actualWidth=0),u(g))})};u(i.element)}getLineHeight(b){let i=b.nodeType===Br.Node.TEXT_NODE?b.parentElement:b;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(i||this.svgElement.element).h}modifyTree(b){let i=(o,l)=>{let{attributes:d={},children:u,style:f={},tagName:g}=o,m=this.renderer.styledMode;if(g==="b"||g==="strong"?m?d.class="highcharts-strong":f.fontWeight="bold":(g==="i"||g==="em")&&(m?d.class="highcharts-emphasized":f.fontStyle="italic"),f!=null&&f.color&&(f.fill=f.color),g==="br"){d.class="highcharts-br",o.textContent="";let x=b[l+1];x!=null&&x.textContent&&(x.textContent=x.textContent.replace(/^ +/gm,""))}else g==="a"&&u&&u.some(x=>x.tagName==="#text")&&(o.children=[{children:u,tagName:"tspan"}]);g!=="#text"&&g!=="a"&&(o.tagName="tspan"),Un(o,{attributes:d,style:f}),u&&u.filter(x=>x.tagName!=="#text").forEach(i)};b.forEach(i),xm(this.svgElement,"afterModifyTree",{nodes:b})}truncate(b,i,o,l,d,u,f){let g,m,x=this.svgElement,{rotation:_}=x,w=[],C=o&&!l?1:0,j=(i||o||"").length,L=j;o||(d=u);let F=function($,B){let G=B||$,X=b.parentNode;if(X&&w[G]===void 0&&X.getSubStringLength)try{w[G]=l+X.getSubStringLength(0,o?G+1:G)}catch{}return w[G]};if(x.rotation=0,l+(m=F(b.textContent.length))>d){for(;C<=j;)L=Math.ceil((C+j)/2),o&&(g=f(o,L)),m=F(L,g&&g.length-1),C===j?C=j+1:m>d?j=L-1:C=L;j===0?b.textContent="":i&&j===i.length-1||(b.textContent=g||f(i||o,L)),this.ellipsis&&m>d&&this.truncate(b,b.textContent||"",void 0,0,d,u,ps)}o&&o.splice(0,L),x.actualWidth=m,x.rotation=_}unescapeEntities(b,i){return ym(this.renderer.escapes,function(o,l){i&&i.indexOf(o)!==-1||(b=b.toString().replace(RegExp(o,"g"),l))}),b}},{defaultOptions:Eh}=Oi,{charts:wm,deg2rad:id,doc:Qs,isFirefox:Hn,isMS:Mh,isWebKit:jh,noop:nd,SVG_NS:km,symbolSizes:sd,win:nn}=J,{addEvent:hl,attr:xn,createElement:yn,crisp:od,css:Js,defined:Gn,destroyObjectProperties:ad,extend:Vn,isArray:Sm,isNumber:Xn,isObject:eo,isString:Ah,merge:ld,pick:cd,pInt:dd,replaceNested:_m,uniqueKey:Cm}=Qe;class fl{constructor(i,o,l,d,u,f,g){let m,x;this.x=0,this.y=0;let _=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),w=_.element;g||_.css(this.getStyle(d||{})),i.appendChild(w),xn(i,"dir","ltr"),i.innerHTML.indexOf("xmlns")===-1&&xn(w,"xmlns",this.SVG_NS),this.box=w,this.boxWrapper=_,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Qs.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=f,this.forExport=u,this.styledMode=g,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=_.getStyle("font-size"),this.setSize(o,l,!1),Hn&&i.getBoundingClientRect&&((m=function(){Js(i,{left:0,top:0}),x=i.getBoundingClientRect(),Js(i,{left:Math.ceil(x.left)-x.left+"px",top:Math.ceil(x.top)-x.top+"px"})})(),this.unSubPixelFix=hl(nn,"resize",m))}definition(i){return new Ut([i]).addToDOM(this.defs.element)}getReferenceURL(){if((Hn||jh)&&Qs.getElementsByTagName("base").length){if(!Gn(n)){let i=Cm(),o=new Ut([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:i},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${i})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Qs.body);Js(o,{position:"fixed",top:0,left:0,zIndex:9e5});let l=Qs.elementFromPoint(6,6);n=(l==null?void 0:l.id)==="hitme",Qs.body.removeChild(o)}if(n)return _m(nn.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(i){return this.style=Vn({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},i),this.style}setStyle(i){this.boxWrapper.css(this.getStyle(i))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let i=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),ad(this.gradients||{}),this.gradients=null,this.defs=i.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(i){return new this.Element(this,i)}getRadialAttr(i,o){return{cx:i[0]-i[2]/2+(o.cx||0)*i[2],cy:i[1]-i[2]/2+(o.cy||0)*i[2],r:(o.r||0)*i[2]}}shadowDefinition(i){let o=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(i).map(d=>`${d}-${i[d]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),l=ld({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},i);return this.defs.element.querySelector(`#${o}`)||this.definition({tagName:"filter",attributes:{id:o,filterUnits:l.filterUnits},children:this.getShadowFilterContent(l)}),o}getShadowFilterContent(i){return[{tagName:"feDropShadow",attributes:{dx:i.offsetX,dy:i.offsetY,"flood-color":i.color,"flood-opacity":Math.min(5*i.opacity,1),stdDeviation:i.width/2}}]}buildText(i){new bm(i).buildSVG()}getContrast(i){if(i==="transparent")return"#000000";let o=Wt.parse(i).rgba,l=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Xn(o[0])||!Wt.useColorMix){let d=o.map(f=>{let g=f/255;return g<=.04?g/12.92:Math.pow((g+.055)/1.055,2.4)}),u=.2126*d[0]+.7152*d[1]+.0722*d[2];return 1.05/(u+.05)>(u+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+i+" srgb"+l+l+l+")"}button(i,o,l,d,u={},f,g,m,x,_){let w=this.label(i,o,l,x,void 0,void 0,_,void 0,"button"),C=this.styledMode,j=arguments,L=0;u=ld(Eh.global.buttonTheme,u),C&&(delete u.fill,delete u.stroke,delete u["stroke-width"]);let F=u.states||{},$=u.style||{};delete u.states,delete u.style;let B=[Ut.filterUserAttributes(u)],G=[$];return C||["hover","select","disabled"].forEach((X,pe)=>{B.push(ld(B[0],Ut.filterUserAttributes(j[pe+5]||F[X]||{}))),G.push(B[pe+1].style),delete B[pe+1].style}),hl(w.element,Mh?"mouseover":"mouseenter",function(){L!==3&&w.setState(1)}),hl(w.element,Mh?"mouseout":"mouseleave",function(){L!==3&&w.setState(L)}),w.setState=(X=0)=>{if(X!==1&&(w.state=L=X),w.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][X]),!C){w.attr(B[X]);let pe=G[X];eo(pe)&&w.css(pe)}},w.attr(B[0]),!C&&(w.css(Vn({cursor:"default"},$)),_&&w.text.css({pointerEvents:"none"})),w.on("touchstart",X=>X.stopPropagation()).on("click",function(X){L!==3&&(d==null||d.call(w,X))})}crispLine(i,o){let[l,d]=i;return Gn(l[1])&&l[1]===d[1]&&(l[1]=d[1]=od(l[1],o)),Gn(l[2])&&l[2]===d[2]&&(l[2]=d[2]=od(l[2],o)),i}path(i){let o=this.styledMode?{}:{fill:"none"};return Sm(i)?o.d=i:eo(i)&&Vn(o,i),this.createElement("path").attr(o)}circle(i,o,l){let d=eo(i)?i:i===void 0?{}:{x:i,y:o,r:l},u=this.createElement("circle");return u.xSetter=u.ySetter=function(f,g,m){m.setAttribute("c"+g,f)},u.attr(d)}arc(i,o,l,d,u,f){let g;eo(i)?(o=(g=i).y,l=g.r,d=g.innerR,u=g.start,f=g.end,i=g.x):g={innerR:d,start:u,end:f};let m=this.symbol("arc",i,o,l,l,g);return m.r=l,m}rect(i,o,l,d,u,f){let g=eo(i)?i:i===void 0?{}:{x:i,y:o,r:u,width:Math.max(l||0,0),height:Math.max(d||0,0)},m=this.createElement("rect");return this.styledMode||(f!==void 0&&(g["stroke-width"]=f,Vn(g,m.crisp(g))),g.fill="none"),m.rSetter=function(x,_,w){m.r=x,xn(w,{rx:x,ry:x})},m.rGetter=function(){return m.r||0},m.attr(g)}roundedRect(i){return this.symbol("roundedRect").attr(i)}setSize(i,o,l){this.width=i,this.height=o,this.boxWrapper.animate({width:i,height:o},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:cd(l,!0)?void 0:0}),this.alignElements()}g(i){let o=this.createElement("g");return i?o.attr({class:"highcharts-"+i}):o}image(i,o,l,d,u,f){let g={preserveAspectRatio:"none"};Xn(o)&&(g.x=o),Xn(l)&&(g.y=l),Xn(d)&&(g.width=d),Xn(u)&&(g.height=u);let m=this.createElement("image").attr(g),x=function(_){m.attr({href:i}),f.call(m,_)};if(f){m.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let _=new nn.Image;hl(_,"load",x),_.src=i,_.complete&&x({})}else m.attr({href:i});return m}symbol(i,o,l,d,u,f){var $,B;let g,m,x,_,w=this,C=/^url\((.*?)\)$/,j=C.test(i),L=!j&&(this.symbols[i]?i:"circle"),F=L&&this.symbols[L];if(F)typeof o=="number"&&(m=F.call(this.symbols,o||0,l||0,d||0,u||0,f)),g=this.path(m),w.styledMode||g.attr("fill","none"),Vn(g,{symbolName:L||void 0,x:o,y:l,width:d,height:u}),f&&Vn(g,f);else if(j){x=i.match(C)[1];let G=g=this.image(x);G.imgwidth=cd(f==null?void 0:f.width,($=sd[x])==null?void 0:$.width),G.imgheight=cd(f==null?void 0:f.height,(B=sd[x])==null?void 0:B.height),_=X=>X.attr({width:X.width,height:X.height}),["width","height"].forEach(X=>{G[`${X}Setter`]=function(pe,de){this[de]=pe;let{alignByTranslate:fe,element:ye,width:me,height:xe,imgwidth:Ae,imgheight:Te}=this,We=de==="width"?Ae:Te,Ge=1;f&&f.backgroundSize==="within"&&me&&xe&&Ae&&Te?(Ge=Math.min(me/Ae,xe/Te),xn(ye,{width:Math.round(Ae*Ge),height:Math.round(Te*Ge)})):ye&&We&&ye.setAttribute(de,We),!fe&&Ae&&Te&&this.translate(((me||0)-Ae*Ge)/2,((xe||0)-Te*Ge)/2)}}),Gn(o)&&G.attr({x:o,y:l}),G.isImg=!0,G.symbolUrl=i,Gn(G.imgwidth)&&Gn(G.imgheight)?_(G):(G.attr({width:0,height:0}),yn("img",{onload:function(){let X=wm[w.chartIndex];this.width===0&&(Js(this,{position:"absolute",top:"-999em"}),Qs.body.appendChild(this)),sd[x]={width:this.width,height:this.height},G.imgwidth=this.width,G.imgheight=this.height,G.element&&_(G),this.parentNode&&this.parentNode.removeChild(this),w.imgCount--,w.imgCount||!X||X.hasLoaded||X.onload()},src:x}),this.imgCount++)}return g}clipRect(i,o,l,d){return this.rect(i,o,l,d,0)}text(i,o,l,d){let u={};if(d&&(this.allowHTML||!this.forExport))return this.html(i,o,l);u.x=Math.round(o||0),l&&(u.y=Math.round(l)),Gn(i)&&(u.text=i);let f=this.createElement("text").attr(u);return d&&(!this.forExport||this.allowHTML)||(f.xSetter=function(g,m,x){let _=x.getElementsByTagName("tspan"),w=x.getAttribute(m);for(let C=0,j;C<_.length;C++)(j=_[C]).getAttribute(m)===w&&j.setAttribute(m,g);x.setAttribute(m,g)}),f}fontMetrics(i){let o=Xn(i)?i:dd(en.prototype.getStyle.call(i,"font-size")||0),l=o<24?o+3:Math.round(1.2*o),d=Math.round(.8*l);return{h:l,b:d,f:o}}rotCorr(i,o,l){let d=i;return o&&l&&(d=Math.max(d*Math.cos(o*id),4)),{x:-i/3*Math.sin(o*id),y:d}}pathToSegments(i){let o=[],l=[],d={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let u=0;u<i.length;u++)Ah(l[0])&&Xn(i[u])&&l.length===d[l[0].toUpperCase()]&&i.splice(u,0,l[0].replace("M","L").replace("m","l")),typeof i[u]=="string"&&(l.length&&o.push(l.slice(0)),l.length=0),l.push(i[u]);return o.push(l.slice(0)),o}label(i,o,l,d,u,f,g,m,x){return new Wn(this,i,o,l,d,u,f,g,m,x)}alignElements(){this.alignedObjects.forEach(i=>i.align())}}Vn(fl.prototype,{Element:en,SVG_NS:km,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:_h,draw:nd}),qi.registerRendererType("svg",fl,!0);let{composed:Nh,isFirefox:Th}=J,{attr:Ph,css:bn,createElement:Em,defined:Oh,extend:Mm,getAlignFactor:jm,isNumber:sn,pInt:Am,pushUnique:ud}=Qe;function pl(b,i,o){var d;let l=(d=this.div)==null?void 0:d.style;en.prototype[`${i}Setter`].call(this,b,i,o),l&&(o.style[i]=l[i]=b)}let Nm=(b,i)=>{var o;if(!b.div){let l=Ph(b.element,"class"),d=b.css,u=Em("div",l?{className:l}:void 0,{position:"absolute",left:`${b.translateX||0}px`,top:`${b.translateY||0}px`,...b.styles,display:b.display,opacity:b.opacity,visibility:b.visibility},((o=b.parentGroup)==null?void 0:o.div)||i);b.classSetter=(f,g,m)=>{m.setAttribute("class",f),u.className=f},b.translateXSetter=b.translateYSetter=(f,g)=>{b[g]=f,u.style[g==="translateX"?"left":"top"]=`${f}px`,b.doTransform=!0},b.scaleXSetter=b.scaleYSetter=(f,g)=>{b[g]=f,b.doTransform=!0},b.opacitySetter=b.visibilitySetter=pl,b.css=f=>(d.call(b,f),f.cursor&&(u.style.cursor=f.cursor),f.pointerEvents&&(u.style.pointerEvents=f.pointerEvents),b),b.on=function(){return en.prototype.on.apply({element:u,onEvents:b.onEvents},arguments),b},b.div=u}return b.div};class gs extends en{static compose(i){ud(Nh,this.compose)&&(i.prototype.html=function(o,l,d){return new gs(this,"span").attr({text:o,x:Math.round(l),y:Math.round(d)})})}constructor(i,o){super(i,o),gs.useForeignObject?this.foreignObject=i.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...i.styledMode?{}:{fontFamily:i.style.fontFamily,fontSize:i.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(i,o,l){this.xCorr=-i*l,this.yCorr=-o}css(i){let o,{element:l}=this,d=l.tagName==="SPAN"&&i&&"width"in i,u=d&&i.width;return d&&(delete i.width,this.textWidth=Am(u)||void 0,o=!0),(i==null?void 0:i.textOverflow)==="ellipsis"&&(i.overflow="hidden",i.whiteSpace="nowrap"),i!=null&&i.lineClamp&&(i.display="-webkit-box",i.WebkitLineClamp=i.lineClamp,i.WebkitBoxOrient="vertical",i.overflow="hidden"),sn(Number(i==null?void 0:i.fontSize))&&(i.fontSize+="px"),Mm(this.styles,i),bn(l,i),o&&this.updateTransform(),this}htmlGetBBox(){let{element:i}=this;return{x:i.offsetLeft,y:i.offsetTop,width:i.offsetWidth,height:i.offsetHeight}}updateTransform(){var G;if(!this.added){this.alignOnAdd=!0;return}let{element:i,foreignObject:o,oldTextWidth:l,renderer:d,rotation:u,rotationOriginX:f,rotationOriginY:g,scaleX:m,scaleY:x,styles:{display:_="inline-block",whiteSpace:w},textAlign:C="left",textWidth:j,translateX:L=0,translateY:F=0,x:$=0,y:B=0}=this;if(o||bn(i,{marginLeft:`${L}px`,marginTop:`${F}px`}),i.tagName==="SPAN"){let X,pe=[u,C,i.innerHTML,j,this.textAlign].join(","),de=-(((G=this.parentGroup)==null?void 0:G.padding)*1)||0;if(j!==l){let xe=this.textPxLength?this.textPxLength:(bn(i,{width:"",whiteSpace:w||"nowrap"}),i.offsetWidth),Ae=j||0,Te=!d.styledMode&&i.style.textOverflow===""&&i.style.webkitLineClamp;(Ae>l||xe>Ae||Te)&&(/[\-\s\u00AD]/.test(i.textContent||i.innerText)||i.style.textOverflow==="ellipsis")&&(bn(i,{width:(u||m||xe>Ae||Te)&&sn(j)?j+"px":"auto",display:_,whiteSpace:w||"normal"}),this.oldTextWidth=j)}o&&(bn(i,{display:"inline-block",verticalAlign:"top"}),o.attr({width:d.width,height:d.height})),pe!==this.cTT&&(X=d.fontMetrics(i).b,Oh(u)&&!o&&(u!==(this.oldRotation||0)||C!==this.oldAlign)&&bn(i,{transform:`rotate(${u}deg)`,transformOrigin:`${de}% ${de}px`}),this.getSpanCorrection(!Oh(u)&&!this.textWidth&&this.textPxLength||i.offsetWidth,X,jm(C)));let{xCorr:fe=0,yCorr:ye=0}=this,me={left:`${$+fe}px`,top:`${B+ye}px`,textAlign:C,transformOrigin:`${(f??$)-fe-$-de}px ${(g??B)-ye-B-de}px`};(m||x)&&(me.transform=`scale(${m??1},${x??1})`),o?(super.updateTransform(),sn($)&&sn(B)?(o.attr({x:$+fe,y:B+ye,width:i.offsetWidth+3,height:i.offsetHeight,"transform-origin":i.getAttribute("transform-origin")||"0 0"}),bn(i,{display:_,textAlign:C})):Th&&o.attr({width:0,height:0})):bn(i,me),this.cTT=pe,this.oldRotation=u,this.oldAlign=C}}add(i){let{foreignObject:o,renderer:l}=this,d=l.box.parentNode,u=[];if(o)o.add(i),super.add(l.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(o));else{let f;if(this.parentGroup=i,i&&!(f=i.div)){let g=i;for(;g;)u.push(g),g=g.parentGroup;for(let m of u.reverse())f=Nm(m,d)}(f||d).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(i){i!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Ut.setElementHTML(this.element,i??""),this.textStr=i,this.doTransform=!0)}alignSetter(i){this.alignValue=this.textAlign=i,this.doTransform=!0}xSetter(i,o){this[o]=i,this.doTransform=!0}}let ms=gs.prototype;ms.visibilitySetter=ms.opacitySetter=pl,ms.ySetter=ms.rotationSetter=ms.rotationOriginXSetter=ms.rotationOriginYSetter=ms.xSetter,function(b){b.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},b.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:i}=this.axis.chart;return i(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(p||(p={}));let Tm=p,{addEvent:Pm,isFunction:Om,objectEach:Rm,removeEvent:Lm}=Qe;(v||(v={})).registerEventOptions=function(b,i){b.eventOptions=b.eventOptions||{},Rm(i.events,function(o,l){b.eventOptions[l]!==o&&(b.eventOptions[l]&&(Lm(b,l,b.eventOptions[l]),delete b.eventOptions[l]),Om(o)&&(b.eventOptions[l]=o,Pm(b,l,o,{order:0})))})};let gl=v,{deg2rad:hd}=J,{clamp:Im,correctFloat:ml,defined:fd,destroyObjectProperties:pd,extend:Rh,fireEvent:sa,getAlignFactor:Dm,isNumber:vl,merge:Bm,objectEach:Lh,pick:Ii}=Qe,to=class{constructor(b,i,o,l,d){this.isNew=!0,this.isNewLabel=!0,this.axis=b,this.pos=i,this.type=o||"",this.parameters=d||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,sa(this,"init"),o||l||this.addLabel()}addLabel(){var ye,me;let b=this,i=b.axis,o=i.options,l=i.chart,d=i.categories,u=i.logarithmic,f=i.names,g=b.pos,m=Ii((ye=b.options)==null?void 0:ye.labels,o.labels),x=i.tickPositions,_=g===x[0],w=g===x[x.length-1],C=(!m.step||m.step===1)&&i.tickInterval===1,j=x.info,L=b.label,F,$,B,G=this.parameters.category||(d?Ii(d[g],f[g],g):g);u&&vl(G)&&(G=ml(u.lin2log(G))),i.dateTime&&(j?F=($=l.time.resolveDTLFormat(o.dateTimeLabelFormats[!((me=o.grid)!=null&&me.enabled)&&j.higherRanks[g]||j.unitName])).main:vl(G)&&(F=i.dateTime.getXDateFormat(G,o.dateTimeLabelFormats||{}))),b.isFirst=_,b.isLast=w;let X={axis:i,chart:l,dateTimeLabelFormat:F,isFirst:_,isLast:w,pos:g,tick:b,tickPositionInfo:j,value:G};sa(this,"labelFormat",X);let pe=xe=>m.formatter?m.formatter.call(xe,xe):m.format?(xe.text=i.defaultLabelFormatter.call(xe),sr.format(m.format,xe,l)):i.defaultLabelFormatter.call(xe),de=pe.call(X,X),fe=$==null?void 0:$.list;fe?b.shortenLabel=function(){for(B=0;B<fe.length;B++)if(Rh(X,{dateTimeLabelFormat:fe[B]}),L.attr({text:pe.call(X,X)}),L.getBBox().width<i.getSlotWidth(b)-2*(m.padding||0))return;L.attr({text:""})}:b.shortenLabel=void 0,C&&i._addedPlotLB&&b.moveLabel(de,m),fd(L)||b.movedLabel?L&&L.textStr!==de&&!C&&(!L.textWidth||m.style.width||L.styles.width||L.css({width:null}),L.attr({text:de}),L.textPxLength=L.getBBox().width):(b.label=L=b.createLabel(de,m),b.rotation=0)}createLabel(b,i,o){let l=this.axis,{renderer:d,styledMode:u}=l.chart,f=i.style.whiteSpace,g=fd(b)&&i.enabled?d.text(b,o==null?void 0:o.x,o==null?void 0:o.y,i.useHTML).add(l.labelGroup):void 0;return g&&(u||g.css(Bm(i.style)),g.textPxLength=g.getBBox().width,!u&&f&&g.css({whiteSpace:f})),g}destroy(){pd(this,this.axis)}getPosition(b,i,o,l){let d=this.axis,u=d.chart,f=l&&u.oldChartHeight||u.chartHeight,g={x:b?ml(d.translate(i+o,void 0,void 0,l)+d.transB):d.left+d.offset+(d.opposite?(l&&u.oldChartWidth||u.chartWidth)-d.right-d.left:0),y:b?f-d.bottom+d.offset-(d.opposite?d.height:0):ml(f-d.translate(i+o,void 0,void 0,l)-d.transB)};return g.y=Im(g.y,-1e9,1e9),sa(this,"afterGetPosition",{pos:g}),g}getLabelPosition(b,i,o,l,d,u,f,g){let m,x,_=this.axis,w=_.transA,C=_.isLinked&&_.linkedParent?_.linkedParent.reversed:_.reversed,j=_.staggerLines,L=_.tickRotCorr||{x:0,y:0},F=l||_.reserveSpaceDefault?0:-_.labelOffset*(_.labelAlign==="center"?.5:1),$=d.distance,B={};return m=_.side===0?o.rotation?-$:-o.getBBox().height:_.side===2?L.y+$:Math.cos(o.rotation*hd)*(L.y-o.getBBox(!1,0).height/2),fd(d.y)&&(m=_.side===0&&_.horiz?d.y+m:d.y),b=b+Ii(d.x,[0,1,0,-1][_.side]*$)+F+L.x-(u&&l?u*w*(C?-1:1):0),i=i+m-(u&&!l?u*w*(C?1:-1):0),j&&(x=f/(g||1)%j,_.opposite&&(x=j-x-1),i+=x*(_.labelOffset/j)),B.x=b,B.y=Math.round(i),sa(this,"afterGetLabelPosition",{pos:B,tickmarkOffset:u,index:f}),B}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(b,i,o,l,d=!1,u){return u.crispLine([["M",b,i],["L",b+(d?0:-o),i+(d?o:0)]],l)}handleOverflow(b){var $;let i=this.axis,o=i.options.labels,l=b.x,d=i.chart.chartWidth,u=i.chart.spacing,f=Ii(i.labelLeft,Math.min(i.pos,u[3])),g=Ii(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,d-u[1])),m=this.label,x=this.rotation,_=Dm(i.labelAlign||m.attr("align")),w=m.getBBox().width,C=i.getSlotWidth(this),j=C,L=1,F;x||o.overflow!=="justify"?x<0&&l-_*w<f?F=Math.round(l/Math.cos(x*hd)-f):x>0&&l+_*w>g&&(F=Math.round((d-l)/Math.cos(x*hd))):(l-_*w<f?j=b.x+j*(1-_)-f:l+(1-_)*w>g&&(j=g-b.x+j*_,L=-1),(j=Math.min(C,j))<C&&i.labelAlign==="center"&&(b.x+=L*(C-j-_*(C-Math.min(w,j)))),(w>j||i.autoRotation&&(($=m==null?void 0:m.styles)!=null&&$.width))&&(F=j)),F&&m&&(this.shortenLabel?this.shortenLabel():m.css(Rh({},{width:Math.floor(F)+"px",lineClamp:+!i.isRadial})))}moveLabel(b,i){let o=this,l=o.label,d=o.axis,u=!1,f;l&&l.textStr===b?(o.movedLabel=l,u=!0,delete o.label):Lh(d.ticks,function(g){u||g.isNew||g===o||!g.label||g.label.textStr!==b||(o.movedLabel=g.label,u=!0,g.labelPos=o.movedLabel.xy,delete g.label)}),!u&&(o.labelPos||l)&&(f=o.labelPos||l.xy,o.movedLabel=o.createLabel(b,i,f),o.movedLabel&&o.movedLabel.attr({opacity:0}))}render(b,i,o){var L;let l=this.axis,d=l.horiz,u=this.pos,f=Ii(this.tickmarkOffset,l.tickmarkOffset),g=this.getPosition(d,u,f,i),m=g.x,x=g.y,_=l.pos,w=_+l.len,C=d?m:x,j=Ii(o,(L=this.label)==null?void 0:L.newOpacity,1);!l.chart.polar&&(ml(C)<_||C>w)&&(o=0),o??(o=1),this.isActive=!0,this.renderGridLine(i,o),this.renderMark(g,o),this.renderLabel(g,i,j,b),this.isNew=!1,sa(this,"afterRender")}renderGridLine(b,i){let o=this.axis,l=o.options,d={},u=this.pos,f=this.type,g=Ii(this.tickmarkOffset,o.tickmarkOffset),m=o.chart.renderer,x=this.gridLine,_,w=l.gridLineWidth,C=l.gridLineColor,j=l.gridLineDashStyle;this.type==="minor"&&(w=l.minorGridLineWidth,C=l.minorGridLineColor,j=l.minorGridLineDashStyle),x||(o.chart.styledMode||(d.stroke=C,d["stroke-width"]=w||0,d.dashstyle=j),f||(d.zIndex=1),b&&(i=0),this.gridLine=x=m.path().attr(d).addClass("highcharts-"+(f?f+"-":"")+"grid-line").add(o.gridGroup)),x&&(_=o.getPlotLinePath({value:u+g,lineWidth:x.strokeWidth(),force:"pass",old:b,acrossPanes:!1}))&&x[b||this.isNew?"attr":"animate"]({d:_,opacity:i})}renderMark(b,i){let o=this.axis,l=o.options,d=o.chart.renderer,u=this.type,f=o.tickSize(u?u+"Tick":"tick"),g=b.x,m=b.y,x=Ii(l[u!=="minor"?"tickWidth":"minorTickWidth"],!u&&o.isXAxis?1:0),_=l[u!=="minor"?"tickColor":"minorTickColor"],w=this.mark,C=!w;f&&(o.opposite&&(f[0]=-f[0]),!w&&(this.mark=w=d.path().addClass("highcharts-"+(u?u+"-":"")+"tick").add(o.axisGroup),o.chart.styledMode||w.attr({stroke:_,"stroke-width":x})),w[C?"attr":"animate"]({d:this.getMarkPath(g,m,f[0],w.strokeWidth(),o.horiz,d),opacity:i}))}renderLabel(b,i,o,l){let d=this.axis,u=d.horiz,f=d.options,g=this.label,m=f.labels,x=m.step,_=Ii(this.tickmarkOffset,d.tickmarkOffset),w=b.x,C=b.y,j=!0;g&&vl(w)&&(g.xy=b=this.getLabelPosition(w,C,g,u,m,_,l,x),(!this.isFirst||this.isLast||f.showFirstLabel)&&(!this.isLast||this.isFirst||f.showLastLabel)?!u||m.step||m.rotation||i||o===0||this.handleOverflow(b):j=!1,x&&l%x&&(j=!1),j&&vl(b.y)?(b.opacity=o,g[this.isNewLabel?"attr":"animate"](b).show(!0),this.isNewLabel=!1):(g.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let b=this.label,i=this.axis;b&&!this.isNew&&(b.animate({opacity:0},void 0,b.destroy),delete this.label),i.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:$m}=jr,{xAxis:Ih,yAxis:zm}=Tm,{defaultOptions:xl}=Oi,{registerEventOptions:Fm}=gl,{deg2rad:Wm}=J,{arrayMax:vs,arrayMin:Um,clamp:gd,correctFloat:br,defined:$t,destroyObjectProperties:Dh,erase:Bh,error:wr,extend:xs,fireEvent:Gt,getClosestDistance:ro,insertItem:ei,isArray:$h,isNumber:dt,isString:zh,merge:yl,normalizeTickInterval:on,objectEach:oa,pick:bt,relativeLength:aa,removeEvent:io,splat:Fh,syncTimeout:Hm}=Qe,Wh=(b,i)=>on(i,void 0,void 0,bt(b.options.allowDecimals,i<.5||b.tickAmount!==void 0),!!b.tickAmount);xs(xl,{xAxis:Ih,yAxis:yl(Ih,zm)});class ys{constructor(i,o,l){this.init(i,o,l)}init(i,o,l=this.coll){let d=l==="xAxis",u=this.isZAxis||(i.inverted?!d:d);this.chart=i,this.horiz=u,this.isXAxis=d,this.coll=l,Gt(this,"init",{userOptions:o}),this.opposite=bt(o.opposite,this.opposite),this.side=bt(o.side,this.side,u?2*!this.opposite:this.opposite?1:3),this.setOptions(o);let f=this.options,g=f.labels;this.type??(this.type=f.type||"linear"),this.uniqueNames??(this.uniqueNames=f.uniqueNames??!0),Gt(this,"afterSetType"),this.userOptions=o,this.minPixelPadding=0,this.reversed=bt(f.reversed,this.reversed),this.visible=f.visible,this.zoomEnabled=f.zoomEnabled,this.hasNames=this.type==="category"||f.categories===!0,this.categories=$h(f.categories)&&f.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=$t(f.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=f.minRange||f.maxZoom,this.range=f.range,this.offset=f.offset||0,this.max=void 0,this.min=void 0;let m=bt(f.crosshair,Fh(i.options.tooltip.crosshairs)[+!d]);this.crosshair=m===!0?{}:m,i.axes.indexOf(this)===-1&&(d?i.axes.splice(i.xAxis.length,0,this):i.axes.push(this),ei(this,i[this.coll])),i.orderItems(this.coll),this.series=this.series||[],i.inverted&&!this.isZAxis&&d&&!$t(this.reversed)&&(this.reversed=!0),this.labelRotation=dt(g.rotation)?g.rotation:void 0,Fm(this,f),Gt(this,"afterInit")}setOptions(i){let o=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=yl(o,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},xl[this.coll],i),Gt(this,"afterSetOptions",{userOptions:i})}defaultLabelFormatter(){let i=this.axis,{numberFormatter:o}=this.chart,l=dt(this.value)?this.value:NaN,d=i.chart.time,u=i.categories,f=this.dateTimeLabelFormat,g=xl.lang,m=g.numericSymbols,x=g.numericSymbolMagnitude||1e3,_=i.logarithmic?Math.abs(l):i.tickInterval,w=m==null?void 0:m.length,C,j;if(u)j=`${this.value}`;else if(f)j=d.dateFormat(f,l,!0);else if(w&&m&&_>=1e3)for(;w--&&j===void 0;)_>=(C=Math.pow(x,w+1))&&10*l%C==0&&m[w]!==null&&l!==0&&(j=o(l/C,-1)+m[w]);return j===void 0&&(j=Math.abs(l)>=1e4?o(l,-1):o(l,-1,void 0,"")),j}getSeriesExtremes(){let i,o=this;Gt(this,"getSeriesExtremes",null,function(){o.hasVisibleSeries=!1,o.dataMin=o.dataMax=o.threshold=void 0,o.softThreshold=!o.isXAxis,o.series.forEach(l=>{if(l.reserveSpace()){let d=l.options,u,f=d.threshold,g,m;if(o.hasVisibleSeries=!0,o.positiveValuesOnly&&0>=(f||0)&&(f=void 0),o.isXAxis)(u=l.getColumn("x")).length&&(u=o.logarithmic?u.filter(x=>x>0):u,g=(i=l.getXExtremes(u)).min,m=i.max,dt(g)||g instanceof Date||(u=u.filter(dt),g=(i=l.getXExtremes(u)).min,m=i.max),u.length&&(o.dataMin=Math.min(bt(o.dataMin,g),g),o.dataMax=Math.max(bt(o.dataMax,m),m)));else{let x=l.applyExtremes();dt(x.dataMin)&&(g=x.dataMin,o.dataMin=Math.min(bt(o.dataMin,g),g)),dt(x.dataMax)&&(m=x.dataMax,o.dataMax=Math.max(bt(o.dataMax,m),m)),$t(f)&&(o.threshold=f),(!d.softThreshold||o.positiveValuesOnly)&&(o.softThreshold=!1)}}})}),Gt(this,"afterGetSeriesExtremes")}translate(i,o,l,d,u,f){var F;let g=this.linkedParent||this,m=d&&g.old?g.old.min:g.min;if(!dt(m))return NaN;let x=g.minPixelPadding,_=(g.isOrdinal||((F=g.brokenAxis)==null?void 0:F.hasBreaks)||g.logarithmic&&u)&&!!g.lin2val,w=1,C=0,j=d&&g.old?g.old.transA:g.transA,L=0;return j||(j=g.transA),l&&(w*=-1,C=g.len),g.reversed&&(w*=-1,C-=w*(g.sector||g.len)),o?(L=(i=i*w+C-x)/j+m,_&&(L=g.lin2val(L))):(_&&(i=g.val2lin(i)),L=w*(i-m)*j+C+w*x+(dt(f)?j*f:0),g.isRadial||(L=br(L))),L}toPixels(i,o){var l;return this.translate(((l=this.chart)==null?void 0:l.time.parse(i))??NaN,!1,!this.horiz,void 0,!0)+(o?0:this.pos)}toValue(i,o){return this.translate(i-(o?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(i){let o=this,l=o.chart,d=o.left,u=o.top,f=i.old,g=i.value,m=i.lineWidth,x=f&&l.oldChartHeight||l.chartHeight,_=f&&l.oldChartWidth||l.chartWidth,w=o.transB,C=i.translatedValue,j=i.force,L,F,$,B,G;function X(de,fe,ye){return j!=="pass"&&(de<fe||de>ye)&&(j?de=gd(de,fe,ye):G=!0),de}let pe={value:g,lineWidth:m,old:f,force:j,acrossPanes:i.acrossPanes,translatedValue:C};return Gt(this,"getPlotLinePath",pe,function(de){L=$=(C=gd(C=bt(C,o.translate(g,void 0,void 0,f)),-1e9,1e9))+w,F=B=x-C-w,dt(C)?o.horiz?(F=u,B=x-o.bottom+(o.options.isInternal?0:l.scrollablePixelsY||0),L=$=X(L,d,d+o.width)):(L=d,$=_-o.right+(l.scrollablePixelsX||0),F=B=X(F,u,u+o.height)):(G=!0,j=!1),de.path=G&&!j?void 0:l.renderer.crispLine([["M",L,F],["L",$,B]],m||1)}),pe.path}getLinearTickPositions(i,o,l){let d,u,f,g=br(Math.floor(o/i)*i),m=br(Math.ceil(l/i)*i),x=[];if(br(g+i)===g&&(f=20),this.single)return[o];for(d=g;d<=m&&(x.push(d),(d=br(d+i,f))!==u);)u=d;return x}getMinorTickInterval(){let{minorTicks:i,minorTickInterval:o}=this.options;return i===!0?bt(o,"auto"):i!==!1?o:void 0}getMinorTickPositions(){var _;let i=this.options,o=this.tickPositions,l=this.minorTickInterval,d=this.pointRangePadding||0,u=(this.min||0)-d,f=(this.max||0)+d,g=(_=this.brokenAxis)!=null&&_.hasBreaks?this.brokenAxis.unitLength:f-u,m=[],x;if(g&&g/l<this.len/3){let w=this.logarithmic;if(w)this.paddedTicks.forEach(function(C,j,L){j&&m.push.apply(m,w.getLogTickPositions(l,L[j-1],L[j],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")m=m.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(l),u,f,i.startOfWeek));else for(x=u+(o[0]-u)%l;x<=f&&x!==m[0];x+=l)m.push(x)}return m.length!==0&&this.trimTicks(m),m}adjustForMinRange(){let i=this.options,o=this.logarithmic,l=this.chart.time,{max:d,min:u,minRange:f}=this,g,m,x,_;this.isXAxis&&f===void 0&&!o&&(f=$t(i.min)||$t(i.max)||$t(i.floor)||$t(i.ceiling)?null:Math.min(5*(ro(this.series.map(w=>{let C=w.getColumn("x");return w.xIncrement?C.slice(0,2):C}))||0),this.dataMax-this.dataMin)),dt(d)&&dt(u)&&dt(f)&&d-u<f&&(m=this.dataMax-this.dataMin>=f,g=(f-d+u)/2,x=[u-g,l.parse(i.min)??u-g],m&&(x[2]=o?o.log2lin(this.dataMin):this.dataMin),_=[(u=vs(x))+f,l.parse(i.max)??u+f],m&&(_[2]=o?o.log2lin(this.dataMax):this.dataMax),(d=Um(_))-u<f&&(x[0]=d-f,x[1]=l.parse(i.min)??d-f,u=vs(x))),this.minRange=f,this.min=u,this.max=d}getClosest(){let i,o;if(this.categories)o=1;else{let l=[];this.series.forEach(function(d){let u=d.closestPointRange,f=d.getColumn("x");f.length===1?l.push(f[0]):d.sorted&&$t(u)&&d.reserveSpace()&&(o=$t(o)?Math.min(o,u):u)}),l.length&&(l.sort((d,u)=>d-u),i=ro([l]))}return i&&o?Math.min(i,o):i||o}nameToX(i){let o=$h(this.options.categories),l=o?this.categories:this.names,d=i.options.x,u;return i.series.requireSorting=!1,$t(d)||(d=this.uniqueNames&&l?o?l.indexOf(i.name):bt(l.keys[i.name],-1):i.series.autoIncrement()),d===-1?!o&&l&&(u=l.length):dt(d)&&(u=d),u!==void 0?(this.names[u]=i.name,this.names.keys[i.name]=u):i.x&&(u=i.x),u}updateNames(){let i=this,o=this.names;o.length>0&&(Object.keys(o.keys).forEach(function(l){delete o.keys[l]}),o.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(l=>{l.xIncrement=null,(!l.points||l.isDirtyData)&&(i.max=Math.max(i.max||0,l.dataTable.rowCount-1),l.processData(),l.generatePoints());let d=l.getColumn("x").slice();l.data.forEach((u,f)=>{let g=d[f];u!=null&&u.options&&u.name!==void 0&&(g=i.nameToX(u))!==void 0&&g!==u.x&&(d[f]=u.x=g)}),l.dataTable.setColumn("x",d)}))}setAxisTranslation(){var C;let i=this,o=i.max-i.min,l=i.linkedParent,d=!!i.categories,u=i.isXAxis,f=i.axisPointRange||0,g,m=0,x=0,_,w=i.transA;(u||d||f)&&(g=i.getClosest(),l?(m=l.minPointOffset,x=l.pointRangePadding):i.series.forEach(function(j){let L=d?1:u?bt(j.options.pointRange,g,0):i.axisPointRange||0,F=j.options.pointPlacement;if(f=Math.max(f,L),!i.single||d){let $=j.is("xrange")?!u:u;m=Math.max(m,$&&zh(F)?0:L/2),x=Math.max(x,$&&F==="on"?0:L)}}),_=(C=i.ordinal)!=null&&C.slope&&g?i.ordinal.slope/g:1,i.minPointOffset=m*=_,i.pointRangePadding=x*=_,i.pointRange=Math.min(f,i.single&&d?1:o),u&&(i.closestPointRange=g)),i.translationSlope=i.transA=w=i.staticScale||i.len/(o+x||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=w*m,Gt(this,"afterSetAxisTranslation")}minFromRange(){let{max:i,min:o}=this;return dt(i)&&dt(o)&&i-o||void 0}setTickInterval(i){var Je,lt,Ke,ct;let{categories:o,chart:l,dataMax:d,dataMin:u,dateTime:f,isXAxis:g,logarithmic:m,options:x,softThreshold:_}=this,w=l.time,C=dt(this.threshold)?this.threshold:void 0,j=this.minRange||0,{ceiling:L,floor:F,linkedTo:$,softMax:B,softMin:G}=x,X=dt($)&&((Je=l[this.coll])==null?void 0:Je[$]),pe=x.tickPixelInterval,de=x.maxPadding,fe=x.minPadding,ye=0,me,xe=dt(x.tickInterval)&&x.tickInterval>=0?x.tickInterval:void 0,Ae,Te,We,Ge;if(f||o||X||this.getTickAmount(),We=bt(this.userMin,w.parse(x.min)),Ge=bt(this.userMax,w.parse(x.max)),X?(this.linkedParent=X,me=X.getExtremes(),this.min=bt(me.min,me.dataMin),this.max=bt(me.max,me.dataMax),this.type!==X.type&&wr(11,!0,l)):(_&&$t(C)&&dt(d)&&dt(u)&&(u>=C?(Ae=C,fe=0):d<=C&&(Te=C,de=0)),this.min=bt(We,Ae,u),this.max=bt(Ge,Te,d)),dt(this.max)&&dt(this.min)&&(m&&(this.positiveValuesOnly&&!i&&0>=Math.min(this.min,bt(u,this.min))&&wr(10,!0,l),this.min=br(m.log2lin(this.min),16),this.max=br(m.log2lin(this.max),16)),this.range&&dt(u)&&(this.userMin=this.min=We=Math.max(u,this.minFromRange()||0),this.userMax=Ge=this.max,this.range=void 0)),Gt(this,"foundExtremes"),this.adjustForMinRange(),dt(this.min)&&dt(this.max)){if(!dt(this.userMin)&&dt(G)&&G<this.min&&(this.min=We=G),!dt(this.userMax)&&dt(B)&&B>this.max&&(this.max=Ge=B),o||this.axisPointRange||(lt=this.stacking)!=null&&lt.usePercentage||X||(ye=this.max-this.min)&&(!$t(We)&&fe&&(this.min-=ye*fe),!$t(Ge)&&de&&(this.max+=ye*de)),!dt(this.userMin)&&dt(F)&&(this.min=Math.max(this.min,F)),!dt(this.userMax)&&dt(L)&&(this.max=Math.min(this.max,L)),_&&dt(u)&&dt(d)){let wt=C||0;!$t(We)&&this.min<wt&&u>=wt?this.min=x.minRange?Math.min(wt,this.max-j):wt:!$t(Ge)&&this.max>wt&&d<=wt&&(this.max=x.minRange?Math.max(wt,this.min+j):wt)}!l.polar&&this.min>this.max&&($t(x.min)?this.max=this.min:$t(x.max)&&(this.min=this.max)),ye=this.max-this.min}if(this.min!==this.max&&dt(this.min)&&dt(this.max)?X&&!xe&&pe===X.options.tickPixelInterval?this.tickInterval=xe=X.tickInterval:this.tickInterval=bt(xe,this.tickAmount?ye/Math.max(this.tickAmount-1,1):void 0,o?1:ye*pe/Math.max(this.len,pe)):this.tickInterval=1,g&&!i){let wt=this.min!==((Ke=this.old)==null?void 0:Ke.min)||this.max!==((ct=this.old)==null?void 0:ct.max);this.series.forEach(function(jt){var Tt;jt.forceCrop=(Tt=jt.forceCropping)==null?void 0:Tt.call(jt),jt.processData(wt)}),Gt(this,"postProcessData",{hasExtremesChanged:wt})}this.setAxisTranslation(),Gt(this,"initialAxisTranslation"),this.pointRange&&!xe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let rt=bt(x.minTickInterval,f&&!this.series.some(wt=>!wt.sorted)?this.closestPointRange:0);!xe&&rt&&this.tickInterval<rt&&(this.tickInterval=rt),f||m||xe||(this.tickInterval=Wh(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var _,w;let i=this.options,o=i.tickPositions,l=i.tickPositioner,d=this.getMinorTickInterval(),u=!this.isPanning,f=u&&i.startOnTick,g=u&&i.endOnTick,m=[],x;if(this.tickmarkOffset=this.categories&&i.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&$t(this.min)&&!this.tickAmount&&(this.min%1==0||i.allowDecimals!==!1),o)m=o.slice();else if(dt(this.min)&&dt(this.max)){if(!((_=this.ordinal)!=null&&_.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))m=[this.min,this.max],wr(19,!1,this.chart);else if(this.dateTime)m=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,(w=this.ordinal)==null?void 0:w.positions,this.closestPointRange,!0);else if(this.logarithmic)m=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let C=this.tickInterval,j=C;for(;j<=2*C&&(m=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&m.length>this.tickAmount);)this.tickInterval=Wh(this,j*=1.1)}m.length>this.len&&(m=[m[0],m[m.length-1]])[0]===m[1]&&(m.length=1),l&&(this.tickPositions=m,(x=l.apply(this,[this.min,this.max]))&&(m=x))}this.tickPositions=m,this.minorTickInterval=d==="auto"&&this.tickInterval?this.tickInterval/i.minorTicksPerMajor:d,this.paddedTicks=m.slice(0),this.trimTicks(m,f,g),!this.isLinked&&dt(this.min)&&dt(this.max)&&(this.single&&m.length<2&&!this.categories&&!this.series.some(C=>C.is("heatmap")&&C.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),o||x||this.adjustTickAmount()),Gt(this,"afterSetTickPositions")}trimTicks(i,o,l){let d=i[0],u=i[i.length-1],f=!this.isOrdinal&&this.minPointOffset||0;if(Gt(this,"trimTicks"),!this.isLinked||!this.grid){if(o&&d!==-1/0)this.min=d;else for(;this.min-f>i[0];)i.shift();if(l)this.max=u;else for(;this.max+f<i[i.length-1];)i.pop();i.length===0&&$t(d)&&!this.options.tickPositions&&i.push((u+d)/2)}}alignToOthers(){let i,o=this,l=o.chart,d=[this],u=o.options,f=l.options.chart,g=this.coll==="yAxis"&&f.alignThresholds,m=[];if(o.thresholdAlignment=void 0,(f.alignTicks!==!1&&u.alignTicks||g)&&u.startOnTick!==!1&&u.endOnTick!==!1&&!o.logarithmic){let x=w=>{let{horiz:C,options:j}=w;return[C?j.left:j.top,j.width,j.height,j.pane].join(",")},_=x(this);l[this.coll].forEach(function(w){let{series:C}=w;C.length&&C.some(j=>j.visible)&&w!==o&&x(w)===_&&(i=!0,d.push(w))})}if(i&&g){d.forEach(_=>{let w=_.getThresholdAlignment(o);dt(w)&&m.push(w)});let x=m.length>1?m.reduce((_,w)=>_+=w,0)/m.length:void 0;d.forEach(_=>{_.thresholdAlignment=x})}return i}getThresholdAlignment(i){if((!dt(this.dataMin)||this!==i&&this.series.some(o=>o.isDirty||o.isDirtyData))&&this.getSeriesExtremes(),dt(this.threshold)){let o=gd((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(o=1-o),o}}getTickAmount(){let i=this.options,o=i.tickPixelInterval,l=i.tickAmount;$t(i.tickInterval)||l||!(this.len<o)||this.isRadial||this.logarithmic||!i.startOnTick||!i.endOnTick||(l=2),!l&&this.alignToOthers()&&(l=Math.ceil(this.len/o)+1),l<4&&(this.finalTickAmt=l,l=5),this.tickAmount=l}adjustTickAmount(){let i=this,{finalTickAmt:o,max:l,min:d,options:u,tickPositions:f,tickAmount:g,thresholdAlignment:m}=i,x=f==null?void 0:f.length,_=bt(i.threshold,i.softThreshold?0:null),w,C,j=i.tickInterval,L,F=()=>f.push(br(f[f.length-1]+j)),$=()=>f.unshift(br(f[0]-j));if(dt(m)&&(L=m<.5?Math.ceil(m*(g-1)):Math.floor(m*(g-1)),u.reversed&&(L=g-1-L)),i.hasData()&&dt(d)&&dt(l)){let B=()=>{i.transA*=(x-1)/(g-1),i.min=u.startOnTick?f[0]:Math.min(d,f[0]),i.max=u.endOnTick?f[f.length-1]:Math.max(l,f[f.length-1])};if(dt(L)&&dt(i.threshold)){for(;f[L]!==_||f.length!==g||f[0]>d||f[f.length-1]<l;){for(f.length=0,f.push(i.threshold);f.length<g;)f[L]===void 0||f[L]>i.threshold?$():F();if(j>8*i.tickInterval)break;j*=2}B()}else if(x<g){for(;f.length<g;)f.length%2||d===_?F():$();B()}if($t(o)){for(C=w=f.length;C--;)(o===3&&C%2==1||o<=2&&C>0&&C<w-1)&&f.splice(C,1);i.finalTickAmt=void 0}}}setScale(){var f,g,m,x,_;let{coll:i,stacking:o}=this,l=!1,d=!1;this.series.forEach(w=>{var C;l=l||w.isDirtyData||w.isDirty,d=d||((C=w.xAxis)==null?void 0:C.isDirty)||!1}),this.setAxisSize();let u=this.len!==((f=this.old)==null?void 0:f.len);u||l||d||this.isLinked||this.forceRedraw||this.userMin!==((g=this.old)==null?void 0:g.userMin)||this.userMax!==((m=this.old)==null?void 0:m.userMax)||this.alignToOthers()?(o&&i==="yAxis"&&o.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),o&&i==="xAxis"&&o.buildStacks(),this.isDirty||(this.isDirty=u||this.min!==((x=this.old)==null?void 0:x.min)||this.max!==((_=this.old)==null?void 0:_.max))):o&&o.cleanStacks(),l&&delete this.allExtremes,Gt(this,"afterSetScale")}setExtremes(i,o,l=!0,d,u){let f=this.chart;this.series.forEach(g=>{delete g.kdTree}),i=f.time.parse(i),o=f.time.parse(o),Gt(this,"setExtremes",u=xs(u,{min:i,max:o}),g=>{this.userMin=g.min,this.userMax=g.max,this.eventArgs=g,l&&f.redraw(d)})}setAxisSize(){let i=this.chart,o=this.options,l=o.offsets||[0,0,0,0],d=this.horiz,u=this.width=Math.round(aa(bt(o.width,i.plotWidth-l[3]+l[1]),i.plotWidth)),f=this.height=Math.round(aa(bt(o.height,i.plotHeight-l[0]+l[2]),i.plotHeight)),g=this.top=Math.round(aa(bt(o.top,i.plotTop+l[0]),i.plotHeight,i.plotTop)),m=this.left=Math.round(aa(bt(o.left,i.plotLeft+l[3]),i.plotWidth,i.plotLeft));this.bottom=i.chartHeight-f-g,this.right=i.chartWidth-u-m,this.len=Math.max(d?u:f,0),this.pos=d?m:g}getExtremes(){let i=this.logarithmic;return{min:i?br(i.lin2log(this.min)):this.min,max:i?br(i.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(i){let o=this.logarithmic,l=o?o.lin2log(this.min):this.min,d=o?o.lin2log(this.max):this.max;return i===null||i===-1/0?i=l:i===1/0?i=d:l>i?i=l:d<i&&(i=d),this.translate(i,0,1,0,1)}autoLabelAlign(i){let o=(bt(i,0)-90*this.side+720)%360,l={align:"center"};return Gt(this,"autoLabelAlign",l,function(d){o>15&&o<165?d.align="right":o>195&&o<345&&(d.align="left")}),l.align}tickSize(i){let o=this.options,l=bt(o[i==="tick"?"tickWidth":"minorTickWidth"],i==="tick"&&this.isXAxis&&!this.categories?1:0),d=o[i==="tick"?"tickLength":"minorTickLength"],u;l&&d&&(o[i+"Position"]==="inside"&&(d=-d),u=[d,l]);let f={tickSize:u};return Gt(this,"afterTickSize",f),f.tickSize}labelMetrics(){let i=this.chart.renderer,o=this.ticks,l=o[Object.keys(o)[0]]||{};return this.chart.renderer.fontMetrics(l.label||l.movedLabel||i.box)}unsquish(){let i=this.options.labels,o=i.padding||0,l=this.horiz,d=this.tickInterval,u=this.len/((+!!this.categories+this.max-this.min)/d),f=i.rotation,g=br(.8*this.labelMetrics().h),m=Math.max(this.max-this.min,0),x=function(L){let F=(L+2*o)/(u||1);return(F=F>1?Math.ceil(F):1)*d>m&&L!==1/0&&u!==1/0&&m&&(F=Math.ceil(m/d)),br(F*d)},_=d,w,C=Number.MAX_VALUE,j;if(l){if(!i.staggerLines&&(dt(f)?j=[f]:u<i.autoRotationLimit&&(j=i.autoRotation)),j){let L,F;for(let $ of j)($===f||$&&$>=-90&&$<=90)&&(F=(L=x(Math.abs(g/Math.sin(Wm*$))))+Math.abs($/360))<C&&(C=F,w=$,_=L)}}else _=x(.75*g);return this.autoRotation=j,this.labelRotation=bt(w,dt(f)?f:0),i.step?d:_}getSlotWidth(i){let o=this.chart,l=this.horiz,d=this.options.labels,u=Math.max(this.tickPositions.length-!this.categories,1),f=o.margin[3];if(i&&dt(i.slotWidth))return i.slotWidth;if(l&&d.step<2&&!this.isRadial)return d.rotation?0:(this.staggerLines||1)*this.len/u;if(!l){let g=d.style.width;if(g!==void 0)return parseInt(String(g),10);if(!this.opposite&&f)return f-o.spacing[3]}return .33*o.chartWidth}renderUnsquish(){let i=this.chart,o=i.renderer,l=this.tickPositions,d=this.ticks,u=this.options.labels,f=u.style,g=this.horiz,m=this.getSlotWidth(),x=Math.max(1,Math.round(m-(g?2*(u.padding||0):u.distance||0))),_={},w=this.labelMetrics(),C=f.lineClamp,j,L=C??(Math.floor(this.len/(l.length*w.h))||1),F=0;zh(u.rotation)||(_.rotation=u.rotation||0),l.forEach(function($){var X;let B=d[$];B.movedLabel&&B.replaceMovedLabel();let G=((X=B.label)==null?void 0:X.textPxLength)||0;G>F&&(F=G)}),this.maxLabelLength=F,this.autoRotation?F>x&&F>w.h?_.rotation=this.labelRotation:this.labelRotation=0:m&&(j=x),_.rotation&&(j=F>.5*i.chartHeight?.33*i.chartHeight:F,C||(L=1)),this.labelAlign=u.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(_.align=this.labelAlign),l.forEach(function($){let B=d[$],G=B==null?void 0:B.label,X=f.width,pe={};G&&(G.attr(_),B.shortenLabel?B.shortenLabel():j&&!X&&f.whiteSpace!=="nowrap"&&(j<(G.textPxLength||0)||G.element.tagName==="SPAN")?G.css(xs(pe,{width:`${j}px`,lineClamp:L})):!G.styles.width||pe.width||X||G.css({width:"auto"}),B.rotation=_.rotation)},this),this.tickRotCorr=o.rotCorr(w.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(i){return i.hasData()})||this.options.showEmpty&&$t(this.min)&&$t(this.max)}addTitle(i){let o,l=this.chart.renderer,d=this.horiz,u=this.opposite,f=this.options.title,g=this.chart.styledMode;this.axisTitle||((o=f.textAlign)||(o=(d?{low:"left",middle:"center",high:"right"}:{low:u?"right":"left",middle:"center",high:u?"left":"right"})[f.align]),this.axisTitle=l.text(f.text||"",0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:o}).addClass("highcharts-axis-title"),g||this.axisTitle.css(yl(f.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),g||f.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[i?"show":"hide"](i)}generateTick(i){let o=this.ticks;o[i]?o[i].addLabel():o[i]=new to(this,i)}createGroups(){let{axisParent:i,chart:o,coll:l,options:d}=this,u=o.renderer,f=(g,m,x)=>u.g(g).attr({zIndex:x}).addClass(`highcharts-${l.toLowerCase()}${m} `+(this.isRadial?`highcharts-radial-axis${m} `:"")+(d.className||"")).add(i);this.axisGroup||(this.gridGroup=f("grid","-grid",d.gridZIndex),this.axisGroup=f("axis","",d.zIndex),this.labelGroup=f("axis-labels","-labels",d.labels.zIndex))}getOffset(){let i=this,{chart:o,horiz:l,options:d,side:u,ticks:f,tickPositions:g,coll:m}=i,x=o.inverted&&!i.isZAxis?[1,0,3,2][u]:u,_=i.hasData(),w=d.title,C=d.labels,j=dt(d.crossing),L=o.axisOffset,F=o.clipOffset,$=[-1,1,1,-1][u],B,G=0,X,pe=0,de=0,fe,ye;if(i.showAxis=B=_||d.showEmpty,i.staggerLines=i.horiz&&C.staggerLines||void 0,i.createGroups(),_||i.isLinked?(g.forEach(function(me){i.generateTick(me)}),i.renderUnsquish(),i.reserveSpaceDefault=u===0||u===2||{1:"left",3:"right"}[u]===i.labelAlign,bt(C.reserveSpace,!j&&null,i.labelAlign==="center"||null,i.reserveSpaceDefault)&&g.forEach(function(me){de=Math.max(f[me].getLabelSize(),de)}),i.staggerLines&&(de*=i.staggerLines),i.labelOffset=de*(i.opposite?-1:1)):oa(f,function(me,xe){me.destroy(),delete f[xe]}),w!=null&&w.text&&w.enabled!==!1&&(i.addTitle(B),B&&!j&&w.reserveSpace!==!1&&(i.titleOffset=G=i.axisTitle.getBBox()[l?"height":"width"],pe=$t(X=w.offset)?0:bt(w.margin,l?5:10))),i.renderLine(),i.offset=$*bt(d.offset,L[u]?L[u]+(d.margin||0):0),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},ye=u===0?-i.labelMetrics().h:u===2?i.tickRotCorr.y:0,fe=Math.abs(de)+pe,de&&(fe-=ye,fe+=$*(l?bt(C.y,i.tickRotCorr.y+$*C.distance):bt(C.x,$*C.distance))),i.axisTitleMargin=bt(X,fe),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(f,g)),m!=="colorAxis"&&F){let me=this.tickSize("tick");L[u]=Math.max(L[u],(i.axisTitleMargin||0)+G+$*i.offset,fe,g!=null&&g.length&&me?me[0]+$*i.offset:0);let xe=!i.axisLine||d.offset?0:i.axisLine.strokeWidth()/2;F[x]=Math.max(F[x],xe)}Gt(this,"afterGetOffset")}getLinePath(i){let o=this.chart,l=this.opposite,d=this.offset,u=this.horiz,f=this.left+(l?this.width:0)+d,g=o.chartHeight-this.bottom-(l?this.height:0)+d;return l&&(i*=-1),o.renderer.crispLine([["M",u?this.left:f,u?g:this.top],["L",u?o.chartWidth-this.right:f,u?g:o.chartHeight-this.bottom]],i)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(i){let o=this.horiz,l=this.left,d=this.top,u=this.len,f=this.options.title,g=o?l:d,m=this.opposite,x=this.offset,_=f.x,w=f.y,C=this.chart.renderer.fontMetrics(i),j=i?Math.max(i.getBBox(!1,0).height-C.h-1,0):0,L={low:g+(o?0:u),middle:g+u/2,high:g+(o?u:0)}[f.align],F=(o?d+this.height:l)+(o?1:-1)*(m?-1:1)*(this.axisTitleMargin||0)+[-j,j,C.f,-j][this.side],$={x:o?L+_:F+(m?this.width:0)+x+_,y:o?F+w-(m?this.height:0)+x:L+w};return Gt(this,"afterGetTitlePosition",{titlePosition:$}),$}renderMinorTick(i,o){let l=this.minorTicks;l[i]||(l[i]=new to(this,i,"minor")),o&&l[i].isNew&&l[i].render(null,!0),l[i].render(null,!1,1)}renderTick(i,o,l){var f;let d=this.isLinked,u=this.ticks;(!d||i>=this.min&&i<=this.max||(f=this.grid)!=null&&f.isColumn)&&(u[i]||(u[i]=new to(this,i)),l&&u[i].isNew&&u[i].render(o,!0,-1),u[i].render(o))}render(){let i,o,l=this,d=l.chart,u=l.logarithmic,f=d.renderer,g=l.options,m=l.isLinked,x=l.tickPositions,_=l.axisTitle,w=l.ticks,C=l.minorTicks,j=l.alternateBands,L=g.stackLabels,F=g.alternateGridColor,$=g.crossing,B=l.tickmarkOffset,G=l.axisLine,X=l.showAxis,pe=$m(f.globalAnimation);if(l.labelEdge.length=0,l.overlap=!1,[w,C,j].forEach(function(de){oa(de,function(fe){fe.isActive=!1})}),dt($)){let de=this.isXAxis?d.yAxis[0]:d.xAxis[0],fe=[1,-1,-1,1][this.side];if(de){let ye=de.toPixels($,!0);l.horiz&&(ye=de.len-ye),l.offset=fe*ye}}if(l.hasData()||m){let de=l.chart.hasRendered&&l.old&&dt(l.old.min);l.minorTickInterval&&!l.categories&&l.getMinorTickPositions().forEach(function(fe){l.renderMinorTick(fe,de)}),x.length&&(x.forEach(function(fe,ye){l.renderTick(fe,ye,de)}),B&&(l.min===0||l.single)&&(w[-1]||(w[-1]=new to(l,-1,null,!0)),w[-1].render(-1))),F&&x.forEach(function(fe,ye){o=x[ye+1]!==void 0?x[ye+1]+B:l.max-B,ye%2==0&&fe<l.max&&o<=l.max+(d.polar?-B:B)&&(j[fe]||(j[fe]=new J.PlotLineOrBand(l,{})),i=fe+B,j[fe].options={from:u?u.lin2log(i):i,to:u?u.lin2log(o):o,color:F,className:"highcharts-alternate-grid"},j[fe].render(),j[fe].isActive=!0)}),l._addedPlotLB||(l._addedPlotLB=!0,(g.plotLines||[]).concat(g.plotBands||[]).forEach(function(fe){l.addPlotBandOrLine(fe)}))}[w,C,j].forEach(function(de){let fe=[],ye=pe.duration;oa(de,function(me,xe){me.isActive||(me.render(xe,!1,0),me.isActive=!1,fe.push(xe))}),Hm(function(){let me=fe.length;for(;me--;)de[fe[me]]&&!de[fe[me]].isActive&&(de[fe[me]].destroy(),delete de[fe[me]])},de!==j&&d.hasRendered&&ye?ye:0)}),G&&(G[G.isPlaced?"animate":"attr"]({d:this.getLinePath(G.strokeWidth())}),G.isPlaced=!0,G[X?"show":"hide"](X)),_&&X&&(_[_.isNew?"attr":"animate"](l.getTitlePosition(_)),_.isNew=!1),L!=null&&L.enabled&&l.stacking&&l.stacking.renderStackTotals(),l.old={len:l.len,max:l.max,min:l.min,transA:l.transA,userMax:l.userMax,userMin:l.userMin},l.isDirty=!1,Gt(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(i){i.render()})),this.series.forEach(function(i){i.isDirty=!0})}getKeepProps(){return this.keepProps||ys.keepProps}destroy(i){let o=this,l=o.plotLinesAndBands,d=this.eventOptions;if(Gt(this,"destroy",{keepEvents:i}),i||io(o),[o.ticks,o.minorTicks,o.alternateBands].forEach(function(u){Dh(u)}),l){let u=l.length;for(;u--;)l[u].destroy()}for(let u in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(f){o[f]&&(o[f]=o[f].destroy())}),o.plotLinesAndBandsGroups)o.plotLinesAndBandsGroups[u]=o.plotLinesAndBandsGroups[u].destroy();oa(o,function(u,f){o.getKeepProps().indexOf(f)===-1&&delete o[f]}),this.eventOptions=d}drawCrosshair(i,o){var w;let l=this.crosshair,d=(l==null?void 0:l.snap)??!0,u=this.chart,f,g,m,x=this.cross,_;if(Gt(this,"drawCrosshair",{e:i,point:o}),i||(i=(w=this.cross)==null?void 0:w.e),l&&($t(o)||!d)!==!1){if(d?$t(o)&&(g=bt(this.coll!=="colorAxis"?o.crosshairPos:null,this.isXAxis?o.plotX:this.len-o.plotY)):g=i&&(this.horiz?i.chartX-this.pos:this.len-i.chartY+this.pos),$t(g)&&(_={value:o&&(this.isXAxis?o.x:bt(o.stackY,o.y)),translatedValue:g},u.polar&&xs(_,{isCrosshair:!0,chartX:i==null?void 0:i.chartX,chartY:i==null?void 0:i.chartY,point:o}),f=this.getPlotLinePath(_)||null),!$t(f))return void this.hideCrosshair();m=this.categories&&!this.isRadial,x||(this.cross=x=u.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(m?"category ":"thin ")+(l.className||"")).attr({zIndex:bt(l.zIndex,2)}).add(),!u.styledMode&&(x.attr({stroke:l.color||(m?Wt.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":bt(l.width,1)}).css({"pointer-events":"none"}),l.dashStyle&&x.attr({dashstyle:l.dashStyle}))),x.show().attr({d:f}),m&&!l.width&&x.attr({"stroke-width":this.transA}),this.cross.e=i}else this.hideCrosshair();Gt(this,"afterDrawCrosshair",{e:i,point:o})}hideCrosshair(){this.cross&&this.cross.hide(),Gt(this,"afterHideCrosshair")}update(i,o){let l=this.chart;i=yl(this.userOptions,i),this.destroy(!0),this.init(l,i),l.isDirtyBox=!0,bt(o,!0)&&l.redraw()}remove(i){let o=this.chart,l=this.coll,d=this.series,u=d.length;for(;u--;)d[u]&&d[u].remove(!1);Bh(o.axes,this),Bh(o[l]||[],this),o.orderItems(l),this.destroy(),o.isDirtyBox=!0,bt(i,!0)&&o.redraw()}setTitle(i,o){this.update({title:i},o)}setCategories(i,o){this.update({categories:i},o)}}ys.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Uh,getMagnitude:Gm,normalizeTickInterval:Vm,timeUnits:bl}=Qe;(function(b){function i(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function o(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new l(this))}b.compose=function(d){return d.keepProps.includes("dateTime")||(d.keepProps.push("dateTime"),d.prototype.getTimeTicks=i,Uh(d,"afterSetType",o)),d};class l{constructor(u){this.axis=u}normalizeTimeTickInterval(u,f){let g=f||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],m=g[g.length-1],x=bl[m[0]],_=m[1],w;for(w=0;w<g.length&&(x=bl[(m=g[w])[0]],_=m[1],!g[w+1]||!(u<=(x*_[_.length-1]+bl[g[w+1][0]])/2));w++);x===bl.year&&u<5*x&&(_=[1,2,5]);let C=Vm(u/x,_,m[0]==="year"?Math.max(Gm(u/x),1):1);return{unitRange:x,count:C,unitName:m[0]}}getXDateFormat(u,f){let{axis:g}=this,m=g.chart.time;return g.closestPointRange?m.getDateFormat(g.closestPointRange,u,g.options.startOfWeek,f)||m.resolveDTLFormat(f.year).main:m.resolveDTLFormat(f.day).main}}b.Additions=l})(y||(y={}));let Xm=y,{addEvent:Hh,normalizeTickInterval:Ym,pick:qm}=Qe;(function(b){function i(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new l(this))}function o(){let d=this.logarithmic;d&&(this.lin2val=function(u){return d.lin2log(u)},this.val2lin=function(u){return d.log2lin(u)})}b.compose=function(d){return d.keepProps.includes("logarithmic")||(d.keepProps.push("logarithmic"),Hh(d,"afterSetType",i),Hh(d,"afterInit",o)),d};class l{constructor(u){this.axis=u}getLogTickPositions(u,f,g,m){let x=this.axis,_=x.len,w=x.options,C=[];if(m||(this.minorAutoInterval=void 0),u>=.5)u=Math.round(u),C=x.getLinearTickPositions(u,f,g);else if(u>=.08){let j,L,F,$,B,G,X,pe=Math.floor(f);for(j=u>.3?[1,2,4]:u>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],L=pe;L<g+1&&!X;L++)for(F=0,$=j.length;F<$&&!X;F++)(B=this.log2lin(this.lin2log(L)*j[F]))>f&&(!m||G<=g)&&G!==void 0&&C.push(G),G>g&&(X=!0),G=B}else{let j=this.lin2log(f),L=this.lin2log(g),F=m?x.getMinorTickInterval():w.tickInterval,$=w.tickPixelInterval/(m?5:1),B=m?_/x.tickPositions.length:_;u=Ym(u=qm(F==="auto"?null:F,this.minorAutoInterval,(L-j)*$/(B||1))),C=x.getLinearTickPositions(u,j,L).map(this.log2lin),m||(this.minorAutoInterval=u/5)}return m||(x.tickInterval=u),C}lin2log(u){return Math.pow(10,u)}log2lin(u){return Math.log(u)/Math.LN10}}b.Additions=l})(S||(S={}));let wl=S,{erase:Km,extend:Gh,isNumber:kl}=Qe;(function(b){let i;function o(x){return this.addPlotBandOrLine(x,"plotBands")}function l(x,_){let w=this.userOptions,C=new i(this,x);if(this.visible&&(C=C.render()),C){if(this._addedPlotLB||(this._addedPlotLB=!0,(w.plotLines||[]).concat(w.plotBands||[]).forEach(j=>{this.addPlotBandOrLine(j)})),_){let j=w[_]||[];j.push(x),w[_]=j}this.plotLinesAndBands.push(C)}return C}function d(x){return this.addPlotBandOrLine(x,"plotLines")}function u(x,_,w){w=w||this.options;let C=this.getPlotLinePath({value:_,force:!0,acrossPanes:w.acrossPanes}),j=[],L=this.horiz,F=!kl(this.min)||!kl(this.max)||x<this.min&&_<this.min||x>this.max&&_>this.max,$=this.getPlotLinePath({value:x,force:!0,acrossPanes:w.acrossPanes}),B,G=1,X;if($&&C)for(F&&(X=$.toString()===C.toString(),G=0),B=0;B<$.length;B+=2){let pe=$[B],de=$[B+1],fe=C[B],ye=C[B+1];(pe[0]==="M"||pe[0]==="L")&&(de[0]==="M"||de[0]==="L")&&(fe[0]==="M"||fe[0]==="L")&&(ye[0]==="M"||ye[0]==="L")&&(L&&fe[1]===pe[1]?(fe[1]+=G,ye[1]+=G):L||fe[2]!==pe[2]||(fe[2]+=G,ye[2]+=G),j.push(["M",pe[1],pe[2]],["L",de[1],de[2]],["L",ye[1],ye[2]],["L",fe[1],fe[2]],["Z"])),j.isFlat=X}return j}function f(x){this.removePlotBandOrLine(x)}function g(x){let _=this.plotLinesAndBands,w=this.options,C=this.userOptions;if(_){let j=_.length;for(;j--;)_[j].id===x&&_[j].destroy();[w.plotLines||[],C.plotLines||[],w.plotBands||[],C.plotBands||[]].forEach(function(L){var F;for(j=L.length;j--;)((F=L[j])==null?void 0:F.id)===x&&Km(L,L[j])})}}function m(x){this.removePlotBandOrLine(x)}b.compose=function(x,_){let w=_.prototype;return w.addPlotBand||(i=x,Gh(w,{addPlotBand:o,addPlotLine:d,addPlotBandOrLine:l,getPlotBandPath:u,removePlotBand:f,removePlotLine:m,removePlotBandOrLine:g})),_}})(E||(E={}));let la=E,{addEvent:Vh,arrayMax:Xh,arrayMin:bi,defined:wi,destroyObjectProperties:Zm,erase:Qm,fireEvent:Jm,merge:Yh,objectEach:qh,pick:ev}=Qe;class Sl{static compose(i,o){return Vh(i,"afterInit",function(){this.labelCollectors.push(()=>{var d;let l=[];for(let u of this.axes)for(let{label:f,options:g}of u.plotLinesAndBands)f&&!((d=g==null?void 0:g.label)!=null&&d.allowOverlap)&&l.push(f);return l})}),la.compose(Sl,o)}constructor(i,o){this.axis=i,this.options=o,this.id=o.id}render(){Jm(this,"render");let{axis:i,options:o}=this,{horiz:l,logarithmic:d}=i,{color:u,events:f,zIndex:g=0}=o,{renderer:m,time:x}=i.chart,_={},w=x.parse(o.to),C=x.parse(o.from),j=x.parse(o.value),L=o.borderWidth,F=o.label,{label:$,svgElem:B}=this,G=[],X,pe=wi(C)&&wi(w),de=wi(j),fe=!B,ye={class:"highcharts-plot-"+(pe?"band ":"line ")+(o.className||"")},me=pe?"bands":"lines";if(!i.chart.styledMode&&(de?(ye.stroke=u||"#999999",ye["stroke-width"]=ev(o.width,1),o.dashStyle&&(ye.dashstyle=o.dashStyle)):pe&&(ye.fill=u||"#e6e9ff",L&&(ye.stroke=o.borderColor,ye["stroke-width"]=L))),_.zIndex=g,me+="-"+g,(X=i.plotLinesAndBandsGroups[me])||(i.plotLinesAndBandsGroups[me]=X=m.g("plot-"+me).attr(_).add()),B||(this.svgElem=B=m.path().attr(ye).add(X)),wi(j))G=i.getPlotLinePath({value:(d==null?void 0:d.log2lin(j))??j,lineWidth:B.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!(wi(C)&&wi(w)))return;G=i.getPlotBandPath((d==null?void 0:d.log2lin(C))??C,(d==null?void 0:d.log2lin(w))??w,o)}return!this.eventsAdded&&f&&(qh(f,(xe,Ae)=>{B==null||B.on(Ae,Te=>{f[Ae].apply(this,[Te])})}),this.eventsAdded=!0),(fe||!B.d)&&(G!=null&&G.length)?B.attr({d:G}):B&&(G?(B.show(),B.animate({d:G})):B.d&&(B.hide(),$&&(this.label=$=$.destroy()))),F&&(wi(F.text)||wi(F.formatter))&&(G!=null&&G.length)&&i.width>0&&i.height>0&&!G.isFlat?(F=Yh({align:l&&pe?"center":void 0,x:l?!pe&&4:10,verticalAlign:!l&&pe?"middle":void 0,y:l?pe?16:10:pe?6:-4,rotation:l&&!pe?90:0,...pe?{inside:!0}:{}},F),this.renderLabel(F,G,pe,g)):$&&$.hide(),this}renderLabel(i,o,l,d){var L,F,$;let u=this.axis,f=u.chart.renderer,g=i.inside,m=this.label;m||(this.label=m=f.text(this.getLabelText(i),0,0,i.useHTML).attr({align:i.textAlign||i.align,rotation:i.rotation,class:"highcharts-plot-"+(l?"band":"line")+"-label "+(i.className||""),zIndex:d}),u.chart.styledMode||m.css(Yh({color:(F=(L=u.chart.options.title)==null?void 0:L.style)==null?void 0:F.color,fontSize:"0.8em",textOverflow:l&&!g?"":"ellipsis"},i.style)),m.add());let x=o.xBounds||[o[0][1],o[1][1],l?o[2][1]:o[0][1]],_=o.yBounds||[o[0][2],o[1][2],l?o[2][2]:o[0][2]],w=bi(x),C=bi(_),j=Xh(x)-w;m.align(i,!1,{x:w,y:C,width:j,height:Xh(_)-C}),m.alignAttr.y-=f.fontMetrics(m).b,(!m.alignValue||m.alignValue==="left"||wi(g))&&m.css({width:((($=i.style)==null?void 0:$.width)||(l&&g?j:m.rotation===90?u.height-(m.alignAttr.y-u.top):(i.clip?u.width:u.chart.chartWidth)-(m.alignAttr.x-u.left)))+"px"}),m.show(!0)}getLabelText(i){return wi(i.formatter)?i.formatter.call(this):i.text}destroy(){Qm(this.axis.plotLinesAndBands,this),delete this.axis,Zm(this)}}let{animObject:Kh}=jr,{format:Zh}=sr,{composed:Qh,dateFormats:tv,doc:Jh,isSafari:rv}=J,{distribute:iv}=hs,{addEvent:nv,clamp:no,css:ef,discardElement:sv,extend:ov,fireEvent:Di,getAlignFactor:av,isArray:tf,isNumber:lv,isObject:rf,isString:md,merge:cv,pick:so,pushUnique:dv,splat:_l,syncTimeout:nf}=Qe;class vd{constructor(i,o,l){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=i,this.init(i,o),this.pointer=l}bodyFormatter(i){return i.map(o=>{let l=o.series.tooltipOptions,d=o.formatPrefix||"point";return(l[d+"Formatter"]||o.tooltipFormatter).call(o,l[d+"Format"]||"")})}cleanSplit(i){this.chart.series.forEach(function(o){let l=o==null?void 0:o.tt;l&&(!l.isActive||i?o.tt=l.destroy():l.isActive=!1)})}defaultFormatter(i){let o,l=this.points||_l(this);return(o=(o=[i.headerFooterFormatter(l[0])]).concat(i.bodyFormatter(l))).push(i.headerFooterFormatter(l[0],!0)),o}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),sv(this.container)),Qe.clearTimeout(this.hideTimer)}getAnchor(i,o){var _;let l,{chart:d,pointer:u}=this,f=d.inverted,g=d.plotTop,m=d.plotLeft;if(i=_l(i),(_=i[0].series)!=null&&_.yAxis&&!i[0].series.yAxis.options.reversedStacks&&(i=i.slice().reverse()),this.followPointer&&o)o.chartX===void 0&&(o=u.normalize(o)),l=[o.chartX-m,o.chartY-g];else if(i[0].tooltipPos)l=i[0].tooltipPos;else{let w=0,C=0;i.forEach(function(j){let L=j.pos(!0);L&&(w+=L[0],C+=L[1])}),w/=i.length,C/=i.length,this.shared&&i.length>1&&o&&(f?w=o.chartX:C=o.chartY),l=[w-m,C-g]}let x={point:i[0],ret:l};return Di(this,"getAnchor",x),x.ret.map(Math.round)}getClassName(i,o,l){let d=this.options,u=i.series,f=u.options;return[d.className,"highcharts-label",l&&"highcharts-tooltip-header",o?"highcharts-tooltip-box":"highcharts-tooltip",!l&&"highcharts-color-"+so(i.colorIndex,u.colorIndex),f==null?void 0:f.className].filter(md).join(" ")}getLabel({anchorX:i,anchorY:o}={anchorX:0,anchorY:0}){let l=this,d=this.chart.styledMode,u=this.options,f=this.split&&this.allowShared,g=this.container,m=this.chart.renderer;if(this.label){let x=!this.label.hasClass("highcharts-label");(!f&&x||f&&!x)&&this.destroy()}if(!this.label){if(this.outside){let x=this.chart,_=x.options.chart.style,w=qi.getRendererType();this.container=g=J.doc.createElement("div"),g.className="highcharts-tooltip-container "+(x.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),ef(g,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((_==null?void 0:_.zIndex)||0)+3)}),this.renderer=m=new w(g,0,0,_,void 0,void 0,m.styledMode)}if(f?this.label=m.g("tooltip"):(this.label=m.label("",i,o,u.shape||"callout",void 0,void 0,u.useHTML,void 0,"tooltip").attr({padding:u.padding,r:u.borderRadius}),d||this.label.attr({fill:u.backgroundColor,"stroke-width":u.borderWidth||0}).css(u.style).css({pointerEvents:u.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),l.outside){let x=this.label;[x.xSetter,x.ySetter].forEach((_,w)=>{x[w?"ySetter":"xSetter"]=C=>{_.call(x,l.distance),x[w?"y":"x"]=C,g&&(g.style[w?"top":"left"]=`${C}px`)}})}this.label.attr({zIndex:8}).shadow(u.shadow??!u.fixed).add()}return g&&!g.parentElement&&J.doc.body.appendChild(g),this.label}getPlayingField(){let{body:i,documentElement:o}=Jh,{chart:l,distance:d,outside:u}=this;return{width:u?Math.max(i.scrollWidth,o.scrollWidth,i.offsetWidth,o.offsetWidth,o.clientWidth)-2*d-2:l.chartWidth,height:u?Math.max(i.scrollHeight,o.scrollHeight,i.offsetHeight,o.offsetHeight,o.clientHeight):l.chartHeight}}getPosition(i,o,l){var Je,lt;let{distance:d,chart:u,outside:f,pointer:g}=this,{inverted:m,plotLeft:x,plotTop:_,polar:w}=u,{plotX:C=0,plotY:j=0}=l,L={},F=m&&l.h||0,{height:$,width:B}=this.getPlayingField(),G=g.getChartPosition(),X=Ke=>Ke*G.scaleX,pe=Ke=>Ke*G.scaleY,de=Ke=>{let ct=Ke==="x";return[Ke,ct?B:$,ct?i:o].concat(f?[ct?X(i):pe(o),ct?G.left-d+X(C+x):G.top-d+pe(j+_),0,ct?B:$]:[ct?i:o,ct?C+x:j+_,ct?x:_,ct?x+u.plotWidth:_+u.plotHeight])},fe=de("y"),ye=de("x"),me,xe=!!l.negative;!w&&((lt=(Je=u.hoverSeries)==null?void 0:Je.yAxis)!=null&&lt.reversed)&&(xe=!xe);let Ae=!this.followPointer&&so(l.ttBelow,!w&&!m===xe),Te=function(Ke,ct,wt,jt,Tt,Vr,Ct){let It=f?Ke==="y"?pe(d):X(d):d,pt=(wt-jt)/2,ht=jt<Tt-d,ur=Tt+d+jt<ct,Dt=Tt-It-wt+pt,Ht=Tt+It-pt;if(Ae&&ur)L[Ke]=Ht;else if(!Ae&&ht)L[Ke]=Dt;else if(ht)L[Ke]=Math.min(Ct-jt,Dt-F<0?Dt:Dt-F);else{if(!ur)return L[Ke]=0,!1;L[Ke]=Math.max(Vr,Ht+F+wt>ct?Ht:Ht+F)}},We=function(Ke,ct,wt,jt,Tt){if(Tt<d||Tt>ct-d)return!1;Tt<wt/2?L[Ke]=1:Tt>ct-jt/2?L[Ke]=ct-jt-2:L[Ke]=Tt-wt/2},Ge=function(Ke){[fe,ye]=[ye,fe],me=Ke},rt=()=>{Te.apply(0,fe)!==!1?We.apply(0,ye)!==!1||me||(Ge(!0),rt()):me?L.x=L.y=0:(Ge(!0),rt())};return(m&&!w||this.len>1)&&Ge(),rt(),L}getFixedPosition(i,o,l){var C;let d=l.series,{chart:u,options:f,split:g}=this,m=f.position,x=m.relativeTo,_=f.shared||(C=d==null?void 0:d.yAxis)!=null&&C.isRadial&&(x==="pane"||!x)?"plotBox":x,w=_==="chart"?u.renderer:u[_]||u.getClipBox(d,!0);return{x:w.x+(w.width-i)*av(m.align)+m.x,y:w.y+(w.height-o)*av(m.verticalAlign)+(!g&&m.y||0)}}hide(i){let o=this;Qe.clearTimeout(this.hideTimer),i=so(i,this.options.hideDelay),this.isHidden||(this.hideTimer=nf(function(){let l=o.getLabel();o.getLabel().animate({opacity:0},{duration:i&&150,complete:()=>{l.hide(),o.container&&o.container.remove()}}),o.isHidden=!0},i))}init(i,o){this.chart=i,this.options=o,this.crosshairs=[],this.isHidden=!0,this.split=o.split&&!i.inverted&&!i.polar,this.shared=o.shared||this.split,this.outside=so(o.outside,!!(i.scrollablePixelsX||i.scrollablePixelsY))}shouldStickOnContact(i){return!!(!this.followPointer&&this.options.stickOnContact&&(!i||this.pointer.inClass(i.target,"highcharts-tooltip")))}move(i,o,l,d){let{followPointer:u,options:f}=this,g=Kh(!u&&!this.isHidden&&!f.fixed&&f.animation),m=u||(this.len||0)>1,x={x:i,y:o};m?x.anchorX=x.anchorY=NaN:(x.anchorX=l,x.anchorY=d),g.step=()=>this.drawTracker(),this.getLabel().animate(x,g)}refresh(i,o){let{chart:l,options:d,pointer:u,shared:f}=this,g=_l(i),m=g[0],x=d.format,_=d.formatter||this.defaultFormatter,w=l.styledMode,C=this.allowShared;if(!d.enabled||!m.series)return;Qe.clearTimeout(this.hideTimer),this.allowShared=!(!tf(i)&&i.series&&i.series.noSharedTooltip),C=C&&!this.allowShared,this.followPointer=!this.split&&m.series.tooltipOptions.followPointer;let j=this.getAnchor(i,o),L=j[0],F=j[1];f&&this.allowShared&&(u.applyInactiveState(g),g.forEach(G=>G.setState("hover")),m.points=g),this.len=g.length;let $=md(x)?Zh(x,m,l):_.call(m,this);m.points=void 0;let B=m.series;if(this.distance=so(B.tooltipOptions.distance,16),$===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit($,g);else{let G=L,X=F;if(o&&u.isDirectTouch&&(G=o.chartX-l.plotLeft,X=o.chartY-l.plotTop),!(l.polar||B.options.clip===!1||g.some(pe=>u.isDirectTouch||pe.series.shouldShowTooltip(G,X))))return void this.hide();{let pe=this.getLabel(C&&this.tt||{});(!d.style.width||w)&&pe.css({width:(this.outside?this.getPlayingField():l.spacingBox).width+"px"}),pe.attr({class:this.getClassName(m),text:$&&$.join?$.join(""):$}),this.outside&&pe.attr({x:no(pe.x||0,0,this.getPlayingField().width-(pe.width||0)-1)}),w||pe.attr({stroke:d.borderColor||m.color||B.color||"#666666"}),this.updatePosition({plotX:L,plotY:F,negative:m.negative,ttBelow:m.ttBelow,series:B,h:j[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Di(this,"refresh")}renderSplit(i,o){var Tt,Vr;let l=this,{chart:d,chart:{chartWidth:u,chartHeight:f,plotHeight:g,plotLeft:m,plotTop:x,scrollablePixelsY:_=0,scrollablePixelsX:w,styledMode:C},distance:j,options:L,options:{fixed:F,position:$,positioner:B},pointer:G}=l,{scrollLeft:X=0,scrollTop:pe=0}=((Tt=d.scrollablePlotArea)==null?void 0:Tt.scrollingContainer)||{},de=l.outside&&typeof w!="number"?Jh.documentElement.getBoundingClientRect():{left:X,right:X+u},fe=l.getLabel(),ye=this.renderer||d.renderer,me=!!((Vr=d.xAxis[0])!=null&&Vr.opposite),{left:xe,top:Ae}=G.getChartPosition(),Te=B||F,We=x+pe,Ge=0,rt=g-_,Je=function(Ct,It,pt,ht=[0,0],ur=!0){let Dt,Ht;if(pt.isHeader)Ht=me?0:rt,Dt=no(ht[0]-Ct/2,de.left,de.right-Ct-(l.outside?xe:0));else if(F&&pt){let Tr=l.getFixedPosition(Ct,It,pt);Dt=Tr.x,Ht=Tr.y-We}else Ht=ht[1]-We,Dt=no(Dt=ur?ht[0]-Ct-j:ht[0]+j,ur?Dt:de.left,de.right);return{x:Dt,y:Ht}};md(i)&&(i=[!1,i]);let lt=i.slice(0,o.length+1).reduce(function(Ct,It,pt){if(It!==!1&&It!==""){let ht=o[pt-1]||{isHeader:!0,plotX:o[0].plotX,plotY:g,series:{}},ur=ht.isHeader,Dt=ur?l:ht.series,Ht=Dt.tt=function($r,Vt,jd){let fo=$r,{isHeader:pa,series:Ad}=Vt,Cn=Ad.tooltipOptions||L;if(!fo){let Al={padding:Cn.padding,r:Cn.borderRadius};C||(Al.fill=Cn.backgroundColor,Al["stroke-width"]=Cn.borderWidth??(F&&!pa?0:1)),fo=ye.label("",0,0,Cn[pa?"headerShape":"shape"]||(F&&!pa?"rect":"callout"),void 0,void 0,Cn.useHTML).addClass(l.getClassName(Vt,!0,pa)).attr(Al).add(fe)}return fo.isActive=!0,fo.attr({text:jd}),C||fo.css(Cn.style).attr({stroke:Cn.borderColor||Vt.color||Ad.color||"#333333"}),fo}(Dt.tt,ht,It.toString()),Tr=Ht.getBBox(),ws=Tr.width+Ht.strokeWidth();ur&&(Ge=Tr.height,rt+=Ge,me&&(We-=Ge));let{anchorX:an,anchorY:Xr}=function($r){let Vt,jd,{isHeader:fo,plotX:pa=0,plotY:Ad=0,series:Cn}=$r;if(fo)Vt=Math.max(m+pa,m),jd=x+g/2;else{let{xAxis:Al,yAxis:a1}=Cn;Vt=Al.pos+no(pa,-j,Al.len+j),Cn.shouldShowTooltip(0,a1.pos-x+Ad,{ignoreX:!0})&&(jd=a1.pos+Ad)}return{anchorX:Vt=no(Vt,de.left-j,de.right+j),anchorY:jd}}(ht);if(typeof Xr=="number"){let $r=Tr.height+1,Vt=(B||Je).call(l,ws,$r,ht,[an,Xr]);Ct.push({align:Te?0:void 0,anchorX:an,anchorY:Xr,boxWidth:ws,point:ht,rank:so(Vt.rank,+!!ur),size:$r,target:Vt.y,tt:Ht,x:Vt.x})}else Ht.isActive=!1}return Ct},[]);!Te&&lt.some(Ct=>{let{outside:It}=l,pt=(It?xe:0)+Ct.anchorX;return pt<de.left&&pt+Ct.boxWidth<de.right||pt<xe-de.left+Ct.boxWidth&&de.right-pt>pt})&&(lt=lt.map(Ct=>{let{x:It,y:pt}=Je.call(this,Ct.boxWidth,Ct.size,Ct.point,[Ct.anchorX,Ct.anchorY],!1);return ov(Ct,{target:pt,x:It})})),l.cleanSplit(),iv(lt,rt);let Ke={left:xe,right:xe};lt.forEach(function(Ct){let{x:It,boxWidth:pt,isHeader:ht}=Ct;!ht&&(l.outside&&xe+It<Ke.left&&(Ke.left=xe+It),!ht&&l.outside&&Ke.left+pt>Ke.right&&(Ke.right=xe+It))}),lt.forEach(function(Ct){let{x:It,anchorX:pt,anchorY:ht,pos:ur,point:{isHeader:Dt}}=Ct,Ht={visibility:ur===void 0?"hidden":"inherit",x:It,y:(ur||0)+We+(F&&$.y||0),anchorX:pt,anchorY:ht};if(l.outside&&It<pt){let Tr=xe-Ke.left;Tr>0&&(Dt||(Ht.x=It+Tr,Ht.anchorX=pt+Tr),Dt&&(Ht.x=(Ke.right-Ke.left)/2,Ht.anchorX=pt+Tr))}Ct.tt.attr(Ht)});let{container:ct,outside:wt,renderer:jt}=l;if(wt&&ct&&jt){let{width:Ct,height:It,x:pt,y:ht}=fe.getBBox();jt.setSize(Ct+pt,It+ht,!1),ct.style.left=Ke.left+"px",ct.style.top=Ae+"px"}rv&&fe.attr({opacity:fe.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let i=this.chart,o=this.label,l=this.shared?i.hoverPoints:i.hoverPoint;if(!o||!l)return;let d={x:0,y:0,width:0,height:0},u=this.getAnchor(l),f=o.getBBox();u[0]+=i.plotLeft-(o.translateX||0),u[1]+=i.plotTop-(o.translateY||0),d.x=Math.min(0,u[0]),d.y=Math.min(0,u[1]),d.width=u[0]<0?Math.max(Math.abs(u[0]),f.width-u[0]):Math.max(Math.abs(u[0]),f.width),d.height=u[1]<0?Math.max(Math.abs(u[1]),f.height-Math.abs(u[1])):Math.max(Math.abs(u[1]),f.height),this.tracker?this.tracker.attr(d):(this.tracker=o.renderer.rect(d).addClass("highcharts-tracker").add(o),i.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(i){return i.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(i,o){let l=i.series,d=l.tooltipOptions,u=l.xAxis,f=u==null?void 0:u.dateTime,g={isFooter:o,point:i},m=d.xDateFormat||"",x=d[o?"footerFormat":"headerFormat"];return Di(this,"headerFormatter",g,function(_){if(f&&!m&&lv(i.key)&&(m=f.getXDateFormat(i.key,d.dateTimeLabelFormats)),f&&m){if(rf(m)){let w=m;tv[0]=C=>l.chart.time.dateFormat(w,C),m="%0"}(i.tooltipDateKeys||["key"]).forEach(w=>{x=x.replace(RegExp("point\\."+w+"([ \\)}])"),`(point.${w}:${m})$1`)})}l.chart.styledMode&&(x=this.styledModeFormat(x)),_.text=Zh(x,i,this.chart)}),g.text||""}update(i){this.destroy(),this.init(this.chart,cv(!0,this.options,i))}updatePosition(i){var de;let{chart:o,container:l,distance:d,options:u,pointer:f,renderer:g}=this,{height:m=0,width:x=0}=this.getLabel(),{fixed:_,positioner:w}=u,{left:C,top:j,scaleX:L,scaleY:F}=f.getChartPosition(),$=(w||_&&this.getFixedPosition||this.getPosition).call(this,x,m,i),B=J.doc,G=(i.plotX||0)+o.plotLeft,X=(i.plotY||0)+o.plotTop,pe;if(g&&l){if(w||_){let{scrollLeft:fe=0,scrollTop:ye=0}=((de=o.scrollablePlotArea)==null?void 0:de.scrollingContainer)||{};$.x+=fe+C-d,$.y+=ye+j-d}pe=(u.borderWidth||0)+2*d+2,g.setSize(no(x+pe,0,B.documentElement.clientWidth)-1,m+pe,!1),(L!==1||F!==1)&&(ef(l,{transform:`scale(${L}, ${F})`}),G*=L,X*=F),G+=C-$.x,X+=j-$.y}this.move(Math.round($.x),Math.round($.y||0),G,X)}}(function(b){b.compose=function(i){dv(Qh,"Core.Tooltip")&&nv(i,"afterInit",function(){let o=this.chart;o.options.tooltip&&(o.tooltip=new b(o,o.options.tooltip,this))})}})(vd||(vd={}));let sf=vd,{animObject:uv}=jr,{defaultOptions:hv}=Oi,{format:Cl}=sr,{addEvent:Mt,crisp:fv,erase:K,extend:k,fireEvent:A,getNestedProperty:P,isArray:W,isFunction:H,isNumber:Y,isObject:ne,merge:se,pick:oe,syncTimeout:ee,removeEvent:re,uniqueKey:V}=Qe;class Q{animateBeforeDestroy(){let i=this,o={x:i.startXPos,opacity:0},l=i.getGraphicalProps();l.singular.forEach(function(d){i[d]=i[d].animate(d==="dataLabel"?{x:i[d].startXPos,y:i[d].startYPos,opacity:0}:o)}),l.plural.forEach(function(d){i[d].forEach(function(u){u.element&&u.animate(k({x:i.startXPos},u.startYPos?{x:u.startXPos,y:u.startYPos}:{}))})})}applyOptions(i,o){let l=this.series,d=l.options.pointValKey||l.pointValKey;return k(this,i=Q.prototype.optionsToObject.call(this,i)),this.options=this.options?k(this.options,i):i,i.group&&delete this.group,i.dataLabels&&delete this.dataLabels,d&&(this.y=Q.prototype.getNestedProperty.call(this,d)),this.selected&&(this.state="select"),"name"in this&&o===void 0&&l.xAxis&&l.xAxis.hasNames&&(this.x=l.xAxis.nameToX(this)),this.x===void 0&&l?this.x=o??l.autoIncrement():Y(i.x)&&l.options.relativeXValue?this.x=l.autoIncrement(i.x):typeof this.x=="string"&&(o??(o=l.chart.time.parse(this.x)),Y(o)&&(this.x=o)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let i=this,o=i.series,l=o.chart,d=o.options.dataSorting,u=l.hoverPoints,f=uv(i.series.chart.renderer.globalAnimation),g=()=>{for(let m in(i.graphic||i.graphics||i.dataLabel||i.dataLabels)&&(re(i),i.destroyElements()),i)delete i[m]};i.legendItem&&l.legend.destroyItem(i),u&&(i.setState(),K(u,i),u.length||(l.hoverPoints=null)),i===l.hoverPoint&&i.onMouseOut(),d!=null&&d.enabled?(this.animateBeforeDestroy(),ee(g,f.duration)):g(),l.pointCount--}this.destroyed=!0}destroyElements(i){let o=this,l=o.getGraphicalProps(i);l.singular.forEach(function(d){o[d]=o[d].destroy()}),l.plural.forEach(function(d){o[d].forEach(function(u){u!=null&&u.element&&u.destroy()}),delete o[d]})}firePointEvent(i,o,l){let d=this,u=this.series.options;d.manageEvent(i),i==="click"&&u.allowPointSelect&&(l=function(f){!d.destroyed&&d.select&&d.select(null,f.ctrlKey||f.metaKey||f.shiftKey)}),A(d,i,o,l)}getClassName(){var i;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((i=this.zone)!=null&&i.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(i){let o,l,d=this,u=[],f={singular:[],plural:[]};for((i=i||{graphic:1,dataLabel:1}).graphic&&u.push("graphic","connector"),i.dataLabel&&u.push("dataLabel","dataLabelPath","dataLabelUpper"),l=u.length;l--;)d[o=u[l]]&&f.singular.push(o);return["graphic","dataLabel"].forEach(function(g){let m=g+"s";i[g]&&d[m]&&f.plural.push(m)}),f}getNestedProperty(i){if(i)return i.indexOf("custom.")===0?P(i,this.options):this[i]}getZone(){let i=this.series,o=i.zones,l=i.zoneAxis||"y",d,u=0;for(d=o[0];this[l]>=d.value;)d=o[++u];return this.nonZonedColor||(this.nonZonedColor=this.color),d!=null&&d.color&&!this.options.color?this.color=d.color:this.color=this.nonZonedColor,d}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(i,o,l){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=i,this.applyOptions(o,l),this.id??(this.id=V()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=i.options.nullInteraction),i.chart.pointCount++,A(this,"afterInit")}isValid(){return(Y(this.x)||this.x instanceof Date)&&Y(this.y)}optionsToObject(i){var _;let o=this.series,l=o.options.keys,d=l||o.pointArrayMap||["y"],u=d.length,f={},g,m=0,x=0;if(Y(i)||i===null)f[d[0]]=i;else if(W(i))for(!l&&i.length>u&&((g=typeof i[0])=="string"?(_=o.xAxis)!=null&&_.dateTime?f.x=o.chart.time.parse(i[0]):f.name=i[0]:g==="number"&&(f.x=i[0]),m++);x<u;)l&&i[m]===void 0||(d[x].indexOf(".")>0?Q.prototype.setNestedProperty(f,i[m],d[x]):f[d[x]]=i[m]),m++,x++;else typeof i=="object"&&(f=i,i.dataLabels&&(o.hasDataLabels=()=>!0),i.marker&&(o._hasPointMarkers=!0));return f}pos(i,o=this.plotY){if(!this.destroyed){let{plotX:l,series:d}=this,{chart:u,xAxis:f,yAxis:g}=d,m=0,x=0;if(Y(l)&&Y(o))return i&&(m=f?f.pos:u.plotLeft,x=g?g.pos:u.plotTop),u.inverted&&f&&g?[g.len-o+x,f.len-l+m]:[l+m,o+x]}}resolveColor(){let i=this.series,o=i.chart.options.chart,l=i.chart.styledMode,d,u,f=o.colorCount,g;delete this.nonZonedColor,i.options.colorByPoint?(l||(d=(u=i.options.colors||i.chart.options.colors)[i.colorCounter],f=u.length),g=i.colorCounter,i.colorCounter++,i.colorCounter===f&&(i.colorCounter=0)):(l||(d=i.color),g=i.colorIndex),this.colorIndex=oe(this.options.colorIndex,g),this.color=oe(this.options.color,d)}setNestedProperty(i,o,l){return l.split(".").reduce(function(d,u,f,g){let m=g.length-1===f;return d[u]=m?o:ne(d[u],!0)?d[u]:{},d[u]},i),i}shouldDraw(){return!this.isNull}tooltipFormatter(i){var m;let{chart:o,pointArrayMap:l=["y"],tooltipOptions:d}=this.series,{valueDecimals:u="",valuePrefix:f="",valueSuffix:g=""}=d;return o.styledMode&&(i=((m=o.tooltip)==null?void 0:m.styledModeFormat(i))||i),l.forEach(x=>{x="{point."+x,(f||g)&&(i=i.replace(RegExp(x+"}","g"),f+x+"}"+g)),i=i.replace(RegExp(x+"}","g"),x+":,."+u+"f}")}),Cl(i,this,o)}update(i,o,l,d){let u,f=this,g=f.series,m=f.graphic,x=g.chart,_=g.options;function w(){f.applyOptions(i);let C=m&&f.hasMockGraphic,j=f.y===null?!C:C;m&&j&&(f.graphic=m.destroy(),delete f.hasMockGraphic),ne(i,!0)&&(m!=null&&m.element&&i&&i.marker&&i.marker.symbol!==void 0&&(f.graphic=m.destroy()),i!=null&&i.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy())),u=f.index;let L={};for(let F of g.dataColumnKeys())L[F]=f[F];g.dataTable.setRow(L,u),_.data[u]=ne(_.data[u],!0)||ne(i,!0)?f.options:oe(i,_.data[u]),g.isDirty=g.isDirtyData=!0,!g.fixedBox&&g.hasCartesianSeries&&(x.isDirtyBox=!0),_.legendType==="point"&&(x.isDirtyLegend=!0),o&&x.redraw(l)}o=oe(o,!0),d===!1?w():f.firePointEvent("update",{options:i},w)}remove(i,o){this.series.removePoint(this.series.data.indexOf(this),i,o)}select(i,o){let l=this,d=l.series,u=d.chart;i=oe(i,!l.selected),this.selectedStaging=i,l.firePointEvent(i?"select":"unselect",{accumulate:o},function(){l.selected=l.options.selected=i,d.options.data[d.data.indexOf(l)]=l.options,l.setState(i&&"select"),o||u.getSelectedPoints().forEach(function(f){let g=f.series;f.selected&&f!==l&&(f.selected=f.options.selected=!1,g.options.data[g.data.indexOf(f)]=f.options,f.setState(u.hoverPoints&&g.options.inactiveOtherPoints?"inactive":""),f.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(i){let{inverted:o,pointer:l}=this.series.chart;l&&(i=i?l.normalize(i):l.getChartCoordinatesFromPoint(this,o),l.runPointActions(i,this))}onMouseOut(){let i=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(i.hoverPoints||[]).forEach(function(o){o.setState()}),i.hoverPoints=i.hoverPoint=null}manageEvent(i){var d,u,f,g,m,x,_;let o=se(this.series.options.point,this.options),l=(d=o.events)==null?void 0:d[i];H(l)&&(!((u=this.hcEvents)!=null&&u[i])||((g=(f=this.hcEvents)==null?void 0:f[i])==null?void 0:g.map(w=>w.fn).indexOf(l))===-1)?((m=this.importedUserEvent)==null||m.call(this),this.importedUserEvent=Mt(this,i,l),this.hcEvents&&(this.hcEvents[i].userEvent=!0)):this.importedUserEvent&&!l&&((x=this.hcEvents)!=null&&x[i])&&((_=this.hcEvents)!=null&&_[i].userEvent)&&(re(this,i),delete this.hcEvents[i],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(i,o){var fe,ye;let l=this.series,d=this.state,u=l.options.states[i||"normal"]||{},f=hv.plotOptions[l.type].marker&&l.options.marker,g=f&&f.enabled===!1,m=((fe=f==null?void 0:f.states)==null?void 0:fe[i||"normal"])||{},x=m.enabled===!1,_=this.marker||{},w=l.chart,C=f&&l.markerAttribs,j=l.halo,L,F,$,B=l.stateMarkerGraphic,G;if((i=i||"")===this.state&&!o||this.selected&&i!=="select"||u.enabled===!1||i&&(x||g&&m.enabled===!1)||i&&_.states&&_.states[i]&&_.states[i].enabled===!1)return;if(this.state=i,C&&(L=l.markerAttribs(this,i)),this.graphic&&!this.hasMockGraphic){if(d&&this.graphic.removeClass("highcharts-point-"+d),i&&this.graphic.addClass("highcharts-point-"+i),!w.styledMode){F=l.pointAttribs(this,i),$=oe(w.options.chart.animation,u.animation);let me=F.opacity;l.options.inactiveOtherPoints&&Y(me)&&(this.dataLabels||[]).forEach(function(xe){xe&&!xe.hasClass("highcharts-data-label-hidden")&&(xe.animate({opacity:me},$),xe.connector&&xe.connector.animate({opacity:me},$))}),this.graphic.animate(F,$)}L&&this.graphic.animate(L,oe(w.options.chart.animation,m.animation,f.animation)),B&&B.hide()}else i&&m&&(G=_.symbol||l.symbol,B&&B.currentSymbol!==G&&(B=B.destroy()),L&&(B?B[o?"animate":"attr"]({x:L.x,y:L.y}):G&&(l.stateMarkerGraphic=B=w.renderer.symbol(G,L.x,L.y,L.width,L.height,se(f,m)).add(l.markerGroup),B.currentSymbol=G)),!w.styledMode&&B&&this.state!=="inactive"&&B.attr(l.pointAttribs(this,i))),B&&(B[i&&this.isInside?"show":"hide"](),B.element.point=this,B.addClass(this.getClassName(),!0));let X=u.halo,pe=this.graphic||B,de=(pe==null?void 0:pe.visibility)||"inherit";X!=null&&X.size&&pe&&de!=="hidden"&&!this.isCluster?(j||(l.halo=j=w.renderer.path().add(pe.parentGroup)),j.show()[o?"animate":"attr"]({d:this.haloPath(X.size)}),j.attr({class:"highcharts-halo highcharts-color-"+oe(this.colorIndex,l.colorIndex)+(this.className?" "+this.className:""),visibility:de,zIndex:-1}),j.point=this,w.styledMode||j.attr(k({fill:this.color||l.color,"fill-opacity":X.opacity},Ut.filterUserAttributes(X.attributes||{})))):(ye=j==null?void 0:j.point)!=null&&ye.haloPath&&!j.point.destroyed&&j.animate({d:j.point.haloPath(0)},null,j.hide),A(this,"afterSetState",{state:i})}haloPath(i){let o=this.pos();return o?this.series.chart.renderer.symbols.circle(fv(o[0],1)-i,o[1]-i,2*i,2*i):[]}}let Z=Q,{parse:le}=Wt,{charts:ue,composed:ke,isTouchDevice:_e}=J,{addEvent:ze,attr:Ne,css:Pe,extend:Re,find:De,fireEvent:Ue,isNumber:Be,isObject:Xe,objectEach:Le,offset:et,pick:qe,pushUnique:zt,splat:it}=Qe;class at{applyInactiveState(i=[]){var l,d;let o=[];for(let u of(i.forEach(f=>{let g=f.series;o.push(g),g.linkedParent&&o.push(g.linkedParent),g.linkedSeries&&o.push.apply(o,g.linkedSeries),g.navigatorSeries&&o.push(g.navigatorSeries),g.boosted&&g.markerGroup&&o.push.apply(o,this.chart.series.filter(m=>m.markerGroup===g.markerGroup))}),this.chart.series)){let f=u.options;((d=(l=f.states)==null?void 0:l.inactive)==null?void 0:d.enabled)!==!1&&(o.indexOf(u)===-1?u.setState("inactive",!0):f.inactiveOtherPoints&&u.setAllPointsToState("inactive"))}}destroy(){let i=this;this.eventsToUnbind.forEach(o=>o()),this.eventsToUnbind=[],!J.chartCount&&(at.unbindDocumentMouseUp.forEach(o=>o.unbind()),at.unbindDocumentMouseUp.length=0,at.unbindDocumentTouchEnd&&(at.unbindDocumentTouchEnd=at.unbindDocumentTouchEnd())),clearInterval(i.tooltipTimeout),Le(i,function(o,l){i[l]=void 0})}getSelectionMarkerAttrs(i,o){let l={args:{chartX:i,chartY:o},attrs:{},shapeType:"rect"};return Ue(this,"getSelectionMarkerAttrs",l,d=>{let u,{chart:f,zoomHor:g,zoomVert:m}=this,{mouseDownX:x=0,mouseDownY:_=0}=f,w=d.attrs;w.x=f.plotLeft,w.y=f.plotTop,w.width=g?1:f.plotWidth,w.height=m?1:f.plotHeight,g&&(w.width=Math.max(1,Math.abs(u=i-x)),w.x=(u>0?0:u)+x),m&&(w.height=Math.max(1,Math.abs(u=o-_)),w.y=(u>0?0:u)+_)}),l}drag(i){let{chart:o}=this,{mouseDownX:l=0,mouseDownY:d=0}=o,{panning:u,panKey:f,selectionMarkerFill:g}=o.options.chart,m=o.plotLeft,x=o.plotTop,_=o.plotWidth,w=o.plotHeight,C=Xe(u)?u.enabled:u,j=f&&i[`${f}Key`],L=i.chartX,F=i.chartY,$,B=this.selectionMarker;if((!B||!B.touch)&&(L<m?L=m:L>m+_&&(L=m+_),F<x?F=x:F>x+w&&(F=x+w),this.hasDragged=Math.sqrt(Math.pow(l-L,2)+Math.pow(d-F,2)),this.hasDragged>10)){$=o.isInsidePlot(l-m,d-x,{visiblePlotOnly:!0});let{shapeType:G,attrs:X}=this.getSelectionMarkerAttrs(L,F);this.hasZoom&&$&&!j&&!B&&(this.selectionMarker=B=o.renderer[G](),B.attr({class:"highcharts-selection-marker",zIndex:7}).add(),o.styledMode||B.attr({fill:g||le("#334eff").setOpacity(.25).get()})),B&&B.attr(X),$&&!B&&C&&o.pan(i,u)}}dragStart(i){let o=this.chart;o.mouseIsDown=i.type,o.cancelClick=!1,o.mouseDownX=i.chartX,o.mouseDownY=i.chartY}getSelectionBox(i){let o={args:{marker:i},result:i.getBBox()};return Ue(this,"getSelectionBox",o),o.result}drop(i){let o,{chart:l,selectionMarker:d}=this;for(let u of l.axes)u.isPanning&&(u.isPanning=!1,(u.options.startOnTick||u.options.endOnTick||u.series.some(f=>f.boosted))&&(u.forceRedraw=!0,u.setExtremes(u.userMin,u.userMax,!1),o=!0));if(o&&l.redraw(),d&&i){if(this.hasDragged){let u=this.getSelectionBox(d);l.transform({axes:l.axes.filter(f=>f.zoomEnabled&&(f.coll==="xAxis"&&this.zoomX||f.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:i,xAxis:[],yAxis:[],...u},from:u})}Be(l.index)&&(this.selectionMarker=d.destroy())}l&&Be(l.index)&&(Pe(l.container,{cursor:l._cursor}),l.cancelClick=this.hasDragged>10,l.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(i,o,l){let d;return i.forEach(function(u){let f=!(u.noSharedTooltip&&o)&&0>u.options.findNearestPointBy.indexOf("y"),g=u.searchPoint(l,f);Xe(g,!0)&&g.series&&(!Xe(d,!0)||function(m,x){var j,L;let _=m.distX-x.distX,w=m.dist-x.dist,C=((j=x.series.group)==null?void 0:j.zIndex)-((L=m.series.group)==null?void 0:L.zIndex);return _!==0&&o?_:w!==0?w:C!==0?C:m.series.index>x.series.index?-1:1}(d,g)>0)&&(d=g)}),d}getChartCoordinatesFromPoint(i,o){let{xAxis:l,yAxis:d}=i.series,u=i.shapeArgs;if(l&&d){let f=i.clientX??i.plotX??0,g=i.plotY||0;return i.isNode&&u&&Be(u.x)&&Be(u.y)&&(f=u.x,g=u.y),o?{chartX:d.len+d.pos-g,chartY:l.len+l.pos-f}:{chartX:f+l.pos,chartY:g+d.pos}}if(u!=null&&u.x&&u.y)return{chartX:u.x,chartY:u.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:i}=this.chart,o=et(i);this.chartPosition={left:o.left,top:o.top,scaleX:1,scaleY:1};let{offsetHeight:l,offsetWidth:d}=i;return d>2&&l>2&&(this.chartPosition.scaleX=o.width/d,this.chartPosition.scaleY=o.height/l),this.chartPosition}getCoordinates(i){let o={xAxis:[],yAxis:[]};for(let l of this.chart.axes)o[l.isXAxis?"xAxis":"yAxis"].push({axis:l,value:l.toValue(i[l.horiz?"chartX":"chartY"])});return o}getHoverData(i,o,l,d,u,f){let g=[],m=function(j){return j.visible&&!(!u&&j.directTouch)&&qe(j.options.enableMouseTracking,!0)},x=o,_,w={chartX:f?f.chartX:void 0,chartY:f?f.chartY:void 0,shared:u};Ue(this,"beforeGetHoverData",w),_=x&&!x.stickyTracking?[x]:l.filter(j=>j.stickyTracking&&(w.filter||m)(j));let C=d&&i||!f?i:this.findNearestKDPoint(_,u,f);return x=C==null?void 0:C.series,C&&(u&&!x.noSharedTooltip?(_=l.filter(function(j){return w.filter?w.filter(j):m(j)&&!j.noSharedTooltip})).forEach(function(j){var $;let L=($=j.options)==null?void 0:$.nullInteraction,F=De(j.points,function(B){return B.x===C.x&&(!B.isNull||!!L)});Xe(F)&&(j.boosted&&j.boost&&(F=j.boost.getPoint(F)),g.push(F))}):g.push(C)),Ue(this,"afterGetHoverData",w={hoverPoint:C}),{hoverPoint:w.hoverPoint,hoverSeries:x,hoverPoints:g}}getPointFromEvent(i){let o=i.target,l;for(;o&&!l;)l=o.point,o=o.parentNode;return l}onTrackerMouseOut(i){let o=this.chart,l=i.relatedTarget,d=o.hoverSeries;this.isDirectTouch=!1,!d||!l||d.stickyTracking||this.inClass(l,"highcharts-tooltip")||this.inClass(l,"highcharts-series-"+d.index)&&this.inClass(l,"highcharts-tracker")||d.onMouseOut()}inClass(i,o){let l=i,d;for(;l;){if(d=Ne(l,"class")){if(d.indexOf(o)!==-1)return!0;if(d.indexOf("highcharts-container")!==-1)return!1}l=l.parentElement}}constructor(i,o){var l;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=o,this.chart=i,this.runChartClick=!!((l=o.chart.events)!=null&&l.click),this.pinchDown=[],this.setDOMEvents(),Ue(this,"afterInit")}normalize(i,o){let l=i.touches,d=l?l.length?l.item(0):qe(l.changedTouches,i.changedTouches)[0]:i;o||(o=this.getChartPosition());let u=d.pageX-o.left,f=d.pageY-o.top;return Re(i,{chartX:Math.round(u/=o.scaleX),chartY:Math.round(f/=o.scaleY)})}onContainerClick(i){let o=this.chart,l=o.hoverPoint,d=this.normalize(i),u=o.plotLeft,f=o.plotTop;!o.cancelClick&&(l&&this.inClass(d.target,"highcharts-tracker")?(Ue(l.series,"click",Re(d,{point:l})),o.hoverPoint&&l.firePointEvent("click",d)):(Re(d,this.getCoordinates(d)),o.isInsidePlot(d.chartX-u,d.chartY-f,{visiblePlotOnly:!0})&&Ue(o,"click",d)))}onContainerMouseDown(i){var l;let o=(1&(i.buttons||i.button))==1;i=this.normalize(i),J.isFirefox&&i.button!==0&&this.onContainerMouseMove(i),(i.button===void 0||o)&&(this.zoomOption(i),o&&((l=i.preventDefault)==null||l.call(i)),this.dragStart(i))}onContainerMouseLeave(i){let{pointer:o}=ue[qe(at.hoverChartIndex,-1)]||{};i=this.normalize(i),this.onContainerMouseMove(i),o&&!this.inClass(i.relatedTarget,"highcharts-tooltip")&&(o.reset(),o.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(i){var u;let o=this.chart,l=o.tooltip,d=this.normalize(i);this.setHoverChartIndex(i),(o.mouseIsDown==="mousedown"||this.touchSelect(d))&&this.drag(d),!((u=o.exporting)!=null&&u.openMenu)&&(this.inClass(d.target,"highcharts-tracker")||o.isInsidePlot(d.chartX-o.plotLeft,d.chartY-o.plotTop,{visiblePlotOnly:!0}))&&!(l!=null&&l.shouldStickOnContact(d))&&(this.inClass(d.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(d))}onDocumentTouchEnd(i){this.onDocumentMouseUp(i)}onContainerTouchMove(i){this.touchSelect(i)?this.onContainerMouseMove(i):this.touch(i)}onContainerTouchStart(i){this.touchSelect(i)?this.onContainerMouseDown(i):(this.zoomOption(i),this.touch(i,!0))}onDocumentMouseMove(i){let o=this.chart,l=o.tooltip,d=this.chartPosition,u=this.normalize(i,d);!d||o.isInsidePlot(u.chartX-o.plotLeft,u.chartY-o.plotTop,{visiblePlotOnly:!0})||l!=null&&l.shouldStickOnContact(u)||u.target!==o.container.ownerDocument&&this.inClass(u.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(i){var o,l,d;i!=null&&i.touches&&this.hasPinchMoved&&((o=i==null?void 0:i.preventDefault)==null||o.call(i)),(d=(l=ue[qe(at.hoverChartIndex,-1)])==null?void 0:l.pointer)==null||d.drop(i)}pinch(i){let o=this,{chart:l,hasZoom:d,lastTouches:u}=o,f=[].map.call(i.touches||[],w=>o.normalize(w)),g=f.length,m=g===1&&(o.inClass(i.target,"highcharts-tracker")&&l.runTrackerClick||o.runChartClick),x=l.tooltip,_=g===1&&qe(x==null?void 0:x.options.followTouchMove,!0);g>1?o.initiated=!0:_&&(o.initiated=!1),d&&o.initiated&&!m&&i.cancelable!==!1&&i.preventDefault(),i.type==="touchstart"?(o.pinchDown=f,o.res=!0,l.mouseDownX=i.chartX):_?this.runPointActions(o.normalize(i)):u&&(Ue(l,"touchpan",{originalEvent:i,touches:f},()=>{let w=C=>{let j=C[0],L=C[1]||j;return{x:j.chartX,y:j.chartY,width:L.chartX-j.chartX,height:L.chartY-j.chartY}};l.transform({axes:l.axes.filter(C=>C.zoomEnabled&&(this.zoomHor&&C.horiz||this.zoomVert&&!C.horiz)),to:w(f),from:w(u),trigger:i.type})}),o.res&&(o.res=!1,this.reset(!1,0))),o.lastTouches=f}reset(i,o){let l=this.chart,d=l.hoverSeries,u=l.hoverPoint,f=l.hoverPoints,g=l.tooltip,m=g!=null&&g.shared?f:u;i&&m&&it(m).forEach(function(x){x.series.isCartesian&&x.plotX===void 0&&(i=!1)}),i?g&&m&&it(m).length&&(g.refresh(m),g.shared&&f?f.forEach(function(x){x.setState(x.state,!0),x.series.isCartesian&&(x.series.xAxis.crosshair&&x.series.xAxis.drawCrosshair(null,x),x.series.yAxis.crosshair&&x.series.yAxis.drawCrosshair(null,x))}):u&&(u.setState(u.state,!0),l.axes.forEach(function(x){x.crosshair&&u.series[x.coll]===x&&x.drawCrosshair(null,u)}))):(u&&u.onMouseOut(),f&&f.forEach(function(x){x.setState()}),d&&d.onMouseOut(),g&&g.hide(o),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l.axes.forEach(function(x){x.hideCrosshair()}),l.hoverPoints=l.hoverPoint=void 0)}runPointActions(i,o,l){var F;let d=this.chart,u=d.series,f=(F=d.tooltip)!=null&&F.options.enabled?d.tooltip:void 0,g=!!f&&f.shared,m=o||d.hoverPoint,x=(m==null?void 0:m.series)||d.hoverSeries,_=(!i||i.type!=="touchmove")&&(!!o||(x==null?void 0:x.directTouch)&&this.isDirectTouch),w=this.getHoverData(m,x,u,_,g,i);m=w.hoverPoint,x=w.hoverSeries;let C=w.hoverPoints,j=(x==null?void 0:x.tooltipOptions.followPointer)&&!x.tooltipOptions.split,L=g&&x&&!x.noSharedTooltip;if(m&&(l||m!==d.hoverPoint||f!=null&&f.isHidden)){if((d.hoverPoints||[]).forEach(function($){C.indexOf($)===-1&&$.setState()}),d.hoverSeries!==x&&x.onMouseOver(),this.applyInactiveState(C),(C||[]).forEach(function($){$.setState("hover")}),d.hoverPoint&&d.hoverPoint.firePointEvent("mouseOut"),!m.series)return;d.hoverPoints=C,d.hoverPoint=m,m.firePointEvent("mouseOver",void 0,()=>{f&&m&&f.refresh(L?C:m,i)})}else if(j&&f&&!f.isHidden){let $=f.getAnchor([{}],i);d.isInsidePlot($[0],$[1],{visiblePlotOnly:!0})&&f.updatePosition({plotX:$[0],plotY:$[1]})}this.unDocMouseMove||(this.unDocMouseMove=ze(d.container.ownerDocument,"mousemove",$=>{var B,G;return(G=(B=ue[at.hoverChartIndex??-1])==null?void 0:B.pointer)==null?void 0:G.onDocumentMouseMove($)}),this.eventsToUnbind.push(this.unDocMouseMove)),d.axes.forEach(function($){var X;let B,G=((X=$.crosshair)==null?void 0:X.snap)??!0;G&&((B=d.hoverPoint)&&B.series[$.coll]===$||(B=De(C,pe=>{var de;return((de=pe.series)==null?void 0:de[$.coll])===$}))),B||!G?$.drawCrosshair(i,B):$.hideCrosshair()})}setDOMEvents(){let i=this.chart.container,o=i.ownerDocument;i.onmousedown=this.onContainerMouseDown.bind(this),i.onmousemove=this.onContainerMouseMove.bind(this),i.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(ze(i,"mouseenter",this.onContainerMouseEnter.bind(this)),ze(i,"mouseleave",this.onContainerMouseLeave.bind(this))),at.unbindDocumentMouseUp.some(d=>d.doc===o)||at.unbindDocumentMouseUp.push({doc:o,unbind:ze(o,"mouseup",this.onDocumentMouseUp.bind(this))});let l=this.chart.renderTo.parentElement;for(;l&&l.tagName!=="BODY";)this.eventsToUnbind.push(ze(l,"scroll",()=>{delete this.chartPosition})),l=l.parentElement;this.eventsToUnbind.push(ze(i,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),ze(i,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),at.unbindDocumentTouchEnd||(at.unbindDocumentTouchEnd=ze(o,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),ze(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var u,f;if(!_e)return;let i=this.pointerCaptureEventsToUnbind,o=this.chart,l=o.container,d=qe((u=o.options.tooltip)==null?void 0:u.followTouchMove,!0)&&o.series.some(g=>g.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&d?(i.push(ze(l,"pointerdown",g=>{var m,x;(m=g.target)!=null&&m.hasPointerCapture(g.pointerId)&&((x=g.target)==null||x.releasePointerCapture(g.pointerId))}),ze(l,"pointermove",g=>{var m,x;(x=(m=o.pointer)==null?void 0:m.getPointFromEvent(g))==null||x.onMouseOver(g)})),o.styledMode||Pe(l,{"touch-action":"none"}),l.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!d&&(i.forEach(g=>g()),i.length=0,o.styledMode||Pe(l,{"touch-action":qe((f=o.options.chart.style)==null?void 0:f["touch-action"],"manipulation")}),l.className=l.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(i){var d;let o=this.chart,l=J.charts[qe(at.hoverChartIndex,-1)];if(l&&l!==o){let u={relatedTarget:o.container};i&&!(i!=null&&i.relatedTarget)&&Object.assign({},i,u),(d=l.pointer)==null||d.onContainerMouseLeave(i||u)}l!=null&&l.mouseIsDown||(at.hoverChartIndex=o.index)}touch(i,o){var f;let l,{chart:d,pinchDown:u=[]}=this;this.setHoverChartIndex(),(i=this.normalize(i)).touches.length===1?d.isInsidePlot(i.chartX-d.plotLeft,i.chartY-d.plotTop,{visiblePlotOnly:!0})&&!((f=d.exporting)!=null&&f.openMenu)?(o&&this.runPointActions(i),i.type==="touchmove"&&(this.hasPinchMoved=l=!!u[0]&&Math.pow(u[0].chartX-i.chartX,2)+Math.pow(u[0].chartY-i.chartY,2)>=16),qe(l,!0)&&this.pinch(i)):o&&this.reset():i.touches.length===2&&this.pinch(i)}touchSelect(i){return!!(this.chart.zooming.singleTouch&&i.touches&&i.touches.length===1)}zoomOption(i){let o=this.chart,l=o.inverted,d=o.zooming.type||"",u,f;/touch/.test(i.type)&&(d=qe(o.zooming.pinchType,d)),this.zoomX=u=/x/.test(d),this.zoomY=f=/y/.test(d),this.zoomHor=u&&!l||f&&l,this.zoomVert=f&&!l||u&&l,this.hasZoom=u||f}}at.unbindDocumentMouseUp=[],function(b){b.compose=function(i){zt(ke,"Core.Pointer")&&ze(i,"beforeRender",function(){this.pointer=new b(this,this.options)})}}(at||(at={}));let kr=at;(function(b){b.setLength=function(i,o,l){return Array.isArray(i)?(i.length=o,i):i[l?"subarray":"slice"](0,o)},b.splice=function(i,o,l,d,u=[]){if(Array.isArray(i))return Array.isArray(u)||(u=Array.from(u)),{removed:i.splice(o,l,...u),array:i};let f=Object.getPrototypeOf(i).constructor,g=i[d?"subarray":"slice"](o,o+l),m=new f(i.length-l+u.length);return m.set(i.subarray(0,o),0),m.set(u,o),m.set(i.subarray(o+l),o+u.length),{removed:g,array:m}}})(T||(T={}));let{setLength:Bt,splice:mt}=T,{fireEvent:xt,objectEach:Lt,uniqueKey:mr}=Qe,ki=class{constructor(b={}){this.autoId=!b.id,this.columns={},this.id=b.id||mr(),this.modified=this,this.rowCount=0,this.versionTag=mr();let i=0;Lt(b.columns||{},(o,l)=>{this.columns[l]=o.slice(),i=Math.max(i,o.length)}),this.applyRowCount(i)}applyRowCount(b){this.rowCount=b,Lt(this.columns,(i,o)=>{i.length!==b&&(this.columns[o]=Bt(i,b))})}deleteRows(b,i=1){if(i>0&&b<this.rowCount){let o=0;Lt(this.columns,(l,d)=>{this.columns[d]=mt(l,b,i).array,o=l.length}),this.rowCount=o}xt(this,"afterDeleteRows",{rowIndex:b,rowCount:i}),this.versionTag=mr()}getColumn(b,i){return this.columns[b]}getColumns(b,i){return(b||Object.keys(this.columns)).reduce((o,l)=>(o[l]=this.columns[l],o),{})}getRow(b,i){return(i||Object.keys(this.columns)).map(o=>{var l;return(l=this.columns[o])==null?void 0:l[b]})}setColumn(b,i=[],o=0,l){this.setColumns({[b]:i},o,l)}setColumns(b,i,o){let l=this.rowCount;Lt(b,(d,u)=>{this.columns[u]=d.slice(),l=d.length}),this.applyRowCount(l),o!=null&&o.silent||(xt(this,"afterSetColumns"),this.versionTag=mr())}setRow(b,i=this.rowCount,o,l){let{columns:d}=this,u=o?this.rowCount+1:i+1;Lt(b,(f,g)=>{let m=d[g]||(l==null?void 0:l.addColumns)!==!1&&Array(u);m&&(o?m=mt(m,i,0,!0,[f]).array:m[i]=f,d[g]=m)}),u>this.rowCount&&this.applyRowCount(u),l!=null&&l.silent||(xt(this,"afterSetRows"),this.versionTag=mr())}},{extend:Ar,merge:oo,pick:ca}=Qe;(function(b){function i(o,l,d){var pe,de;let u=this.legendItem=this.legendItem||{},{chart:f,options:g}=this,{baseline:m=0,symbolWidth:x,symbolHeight:_}=o,w=this.symbol||"circle",C=_/2,j=f.renderer,L=u.group,F=m-Math.round((((pe=o.fontMetrics)==null?void 0:pe.b)||_)*(d?.4:.3)),$={},B,G=g.marker,X=0;if(f.styledMode||($["stroke-width"]=Math.min(g.lineWidth||0,24),g.dashStyle?$.dashstyle=g.dashStyle:g.linecap!=="square"&&($["stroke-linecap"]="round")),u.line=j.path().addClass("highcharts-graph").attr($).add(L),d&&(u.area=j.path().addClass("highcharts-area").add(L)),$["stroke-linecap"]&&(X=Math.min(u.line.strokeWidth(),x)/2),x){let fe=[["M",X,F],["L",x-X,F]];u.line.attr({d:fe}),(de=u.area)==null||de.attr({d:[...fe,["L",x-X,m],["L",X,m]]})}if(G&&G.enabled!==!1&&x){let fe=Math.min(ca(G.radius,C),C);w.indexOf("url")===0&&(G=oo(G,{width:_,height:_}),fe=0),u.symbol=B=j.symbol(w,x/2-fe,F-fe,2*fe,2*fe,Ar({context:"legend"},G)).addClass("highcharts-point").add(L),B.isMarker=!0}}b.areaMarker=function(o,l){i.call(this,o,l,!0)},b.lineMarker=i,b.rectangle=function(o,l){let d=l.legendItem||{},u=o.options,f=o.symbolHeight,g=u.squareSymbol,m=g?f:o.symbolWidth;d.symbol=this.chart.renderer.rect(g?(o.symbolWidth-f)/2:0,o.baseline-f+1,m,f,ca(o.options.symbolRadius,f/2)).addClass("highcharts-point").attr({zIndex:3}).add(d.group)}})(z||(z={}));let wn=z,{defaultOptions:xd}=Oi,{extend:of,extendClass:sA,merge:oA}=Qe;(function(b){function i(o,l){let d=xd.plotOptions||{},u=l.defaultOptions,f=l.prototype;return f.type=o,f.pointClass||(f.pointClass=Z),!b.seriesTypes[o]&&(u&&(d[o]=u),b.seriesTypes[o]=l,!0)}b.seriesTypes=J.seriesTypes,b.registerSeriesType=i,b.seriesType=function(o,l,d,u,f){let g=xd.plotOptions||{};if(l=l||"",g[o]=oA(g[l],d),delete b.seriesTypes[o],i(o,sA(b.seriesTypes[l]||Si,u)),b.seriesTypes[o].prototype.type=o,f){class m extends Z{}of(m.prototype,f),b.seriesTypes[o].prototype.pointClass=m}return b.seriesTypes[o]}})(U||(U={}));let or=U,{animObject:tw,setAnimation:aA}=jr,{defaultOptions:af}=Oi,{registerEventOptions:lA}=gl,{svg:cA,win:dA}=J,{seriesTypes:El}=or,{format:uA}=sr,{arrayMax:pv,arrayMin:rw,clamp:iw,correctFloat:nw,crisp:hA,defined:Sr,destroyObjectProperties:fA,diffObjects:pA,erase:sw,error:lf,extend:Ml,find:gA,fireEvent:er,getClosestDistance:mA,getNestedProperty:ow,insertItem:aw,isArray:lw,isNumber:Nr,isString:vA,merge:yd,objectEach:gv,pick:tr,removeEvent:xA,syncTimeout:cw}=Qe;class kn{constructor(){this.zoneAxis="y"}init(i,o){var m,x,_;let l;er(this,"init",{options:o}),this.dataTable??(this.dataTable=new ki);let d=i.series;this.eventsToUnbind=[],this.chart=i,this.options=this.setOptions(o);let u=this.options,f=u.visible!==!1;this.linkedSeries=[],this.bindAxes(),Ml(this,{name:u.name,state:"",visible:f,selected:u.selected===!0}),lA(this,u);let g=u.events;(g!=null&&g.click||(x=(m=u.point)==null?void 0:m.events)!=null&&x.click||u.allowPointSelect)&&(i.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(i.hasCartesianSeries=!0),d.length&&(l=d[d.length-1]),this._i=tr(l==null?void 0:l._i,-1)+1,this.opacity=this.options.opacity,i.orderItems("series",aw(this,d)),(_=u.dataSorting)!=null&&_.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(u.data,!1),er(this,"afterInit")}is(i){return El[i]&&this instanceof El[i]}bindAxes(){let i,o=this,l=o.options,d=o.chart;er(this,"bindAxes",null,function(){(o.axisTypes||[]).forEach(function(u){(d[u]||[]).forEach(function(f){i=f.options,(tr(l[u],0)===f.index||l[u]!==void 0&&l[u]===i.id)&&(aw(o,f.series),o[u]=f,f.isDirty=!0)}),o[u]||o.optionalAxis===u||lf(18,!0,d)})}),er(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(i,o){let l=i.marker,d=o.marker||{};return l&&(d.enabled&&!l.enabled||d.symbol!==l.symbol||d.height!==l.height||d.width!==l.width)}autoIncrement(i){let o,l=this.options,{pointIntervalUnit:d,relativeXValue:u}=this.options,f=this.chart.time,g=this.xIncrement??f.parse(l.pointStart)??0;if(this.pointInterval=o=tr(this.pointInterval,l.pointInterval,1),u&&Nr(i)&&(o*=i),d){let m=f.toParts(g);d==="day"?m[2]+=o:d==="month"?m[1]+=o:d==="year"&&(m[0]+=o),o=f.makeTime.apply(f,m)-g}return u&&Nr(i)?g+o:(this.xIncrement=g+o,g)}setDataSortingOptions(){let i=this.options;Ml(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Sr(i.pointRange)||(i.pointRange=1)}setOptions(i){var $,B;let o,l=this.chart,d=l.options.plotOptions,u=l.userOptions||{},f=yd(i),g=l.styledMode,m={plotOptions:d,userOptions:f};er(this,"setOptions",m);let x=m.plotOptions[this.type],_=u.plotOptions||{},w=_.series||{},C=af.plotOptions[this.type]||{},j=_[this.type]||{};x.dataLabels=this.mergeArrays(C.dataLabels,x.dataLabels),this.userOptions=m.userOptions;let L=yd(x,d.series,j,f);this.tooltipOptions=yd(af.tooltip,($=af.plotOptions.series)==null?void 0:$.tooltip,C==null?void 0:C.tooltip,l.userOptions.tooltip,(B=_.series)==null?void 0:B.tooltip,j.tooltip,f.tooltip),this.stickyTracking=tr(f.stickyTracking,j.stickyTracking,w.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||L.stickyTracking),x.marker===null&&delete L.marker,this.zoneAxis=L.zoneAxis||"y";let F=this.zones=(L.zones||[]).map(G=>({...G}));return(L.negativeColor||L.negativeFillColor)&&!L.zones&&(o={value:L[this.zoneAxis+"Threshold"]||L.threshold||0,className:"highcharts-negative"},g||(o.color=L.negativeColor,o.fillColor=L.negativeFillColor),F.push(o)),F.length&&Sr(F[F.length-1].value)&&F.push(g?{}:{color:this.color,fillColor:this.fillColor}),er(this,"afterSetOptions",{options:L}),L}getName(){return this.options.name??uA(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(i,o,l){let d,u,f=this.chart,g=`${i}Index`,m=`${i}Counter`,x=(l==null?void 0:l.length)||f.options.chart.colorCount;!o&&(Sr(u=tr(i==="color"?this.options.colorIndex:void 0,this[g]))?d=u:(f.series.length||(f[m]=0),d=f[m]%x,f[m]+=1),l&&(o=l[d])),d!==void 0&&(this[g]=d),this[i]=o}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||af.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let i=this.options.marker;this.getCyclic("symbol",i.symbol,this.chart.options.symbols)}getColumn(i,o){return(o?this.dataTable.modified:this.dataTable).getColumn(i,!0)||[]}findPointIndex(i,o){var w;let l,d,u,{id:f,x:g}=i,m=this.points,x=this.options.dataSorting,_=this.cropStart||0;if(f){let C=this.chart.get(f);C instanceof Z&&(l=C)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let C=j=>!j.touched&&j.index===i.index;if(x!=null&&x.matchByName?C=j=>!j.touched&&j.name===i.name:this.options.relativeXValue&&(C=j=>!j.touched&&j.options.x===i.x),!(l=gA(m,C)))return}return l&&(u=l==null?void 0:l.index)!==void 0&&(d=!0),u===void 0&&Nr(g)&&(u=this.getColumn("x").indexOf(g,o)),u!==-1&&u!==void 0&&this.cropped&&(u=u>=_?u-_:u),!d&&Nr(u)&&((w=m[u])!=null&&w.touched)&&(u=void 0),u}updateData(i,o){var F;let{options:l,requireSorting:d}=this,u=l.dataSorting,f=this.points,g=[],m=i.length===f.length,x,_,w,C,j=!0;if(this.xIncrement=null,i.forEach(($,B)=>{var fe;let G,X=Sr($)&&this.pointClass.prototype.optionsToObject.call({series:this},$)||{},{id:pe,x:de}=X;pe||Nr(de)?((G=this.findPointIndex(X,C))===-1||G===void 0?g.push($):f[G]&&$!==((fe=l.data)==null?void 0:fe[G])?(f[G].update($,!1,void 0,!1),f[G].touched=!0,d&&(C=G+1)):f[G]&&(f[G].touched=!0),(!m||B!==G||u!=null&&u.enabled||this.hasDerivedData)&&(x=!0)):g.push($)},this),x)for(_=f.length;_--;)(w=f[_])&&!w.touched&&((F=w.remove)==null||F.call(w,!1,o));else m&&!(u!=null&&u.enabled)?(i.forEach(($,B)=>{$===f[B].y||f[B].destroyed||f[B].update($,!1,void 0,!1)}),g.length=0):j=!1;if(f.forEach($=>{$&&($.touched=!1)}),!j)return!1;g.forEach($=>{this.addPoint($,!1,void 0,void 0,!1)},this);let L=this.getColumn("x");return this.xIncrement===null&&L.length&&(this.xIncrement=pv(L),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(i,o=!0,l,d){var ye,me;let u=this.points,f=(u==null?void 0:u.length)||0,g=this.options,m=this.chart,x=g.dataSorting,_=this.xAxis,w=g.turboThreshold,C=this.dataTable,j=this.dataColumnKeys(),L=this.pointValKey||"y",F=(this.pointArrayMap||[]).length,$=g.keys,B,G,X=0,pe=1,de;m.options.chart.allowMutatingData||(g.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,de=yd(!0,i));let fe=(i=de||i||[]).length;if(x!=null&&x.enabled&&(i=this.sortData(i)),m.options.chart.allowMutatingData&&d!==!1&&fe&&f&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(G=this.updateData(i,l)),!G){this.xIncrement=null,this.colorCounter=0;let xe=w&&!g.relativeXValue&&fe>w;if(xe){let Ae=this.getFirstValidPoint(i),Te=this.getFirstValidPoint(i,fe-1,-1),We=Ge=>!!(lw(Ge)&&($||Nr(Ge[0])));if(Nr(Ae)&&Nr(Te)){let Ge=[],rt=[];for(let Je of i)Ge.push(this.autoIncrement()),rt.push(Je);C.setColumns({x:Ge,[L]:rt})}else if(We(Ae)&&We(Te))if(F){let Ge=+(Ae.length===F),rt=Array(j.length).fill(0).map(()=>[]);for(let Je of i){Ge&&rt[0].push(this.autoIncrement());for(let lt=Ge;lt<=F;lt++)(ye=rt[lt])==null||ye.push(Je[lt-Ge])}C.setColumns(j.reduce((Je,lt,Ke)=>(Je[lt]=rt[Ke],Je),{}))}else{$&&(X=$.indexOf("x"),pe=$.indexOf("y"),X=X>=0?X:0,pe=pe>=0?pe:1),Ae.length===1&&(pe=0);let Ge=[],rt=[];if(X===pe)for(let Je of i)Ge.push(this.autoIncrement()),rt.push(Je[pe]);else for(let Je of i)Ge.push(Je[X]),rt.push(Je[pe]);C.setColumns({x:Ge,[L]:rt})}else xe=!1}if(!xe){let Ae=j.reduce((Te,We)=>(Te[We]=[],Te),{});for(B=0;B<fe;B++){let Te=this.pointClass.prototype.applyOptions.apply({series:this},[i[B]]);for(let We of j)Ae[We][B]=Te[We]}C.setColumns(Ae)}for(vA(this.getColumn("y")[0])&&lf(14,!0,m),this.data=[],this.options.data=this.userOptions.data=i,B=f;B--;)(me=u[B])==null||me.destroy();_&&(_.minRange=_.userMinRange),this.isDirty=m.isDirtyBox=!0,this.isDirtyData=!!u,l=!1}g.legendType==="point"&&(this.processData(),this.generatePoints()),o&&m.redraw(l)}sortData(i){let o=this,l=o.options.dataSorting.sortKey||"y",d=function(u,f){return Sr(f)&&u.pointClass.prototype.optionsToObject.call({series:u},f)||{}};return i.forEach(function(u,f){i[f]=d(o,u),i[f].index=f},this),i.concat().sort((u,f)=>{let g=ow(l,u),m=ow(l,f);return m<g?-1:+(m>g)}).forEach(function(u,f){u.x=f},this),o.linkedSeries&&o.linkedSeries.forEach(function(u){var m;let f=u.options,g=f.data;!((m=f.dataSorting)!=null&&m.enabled)&&g&&(g.forEach(function(x,_){g[_]=d(u,x),i[_]&&(g[_].x=i[_].x,g[_].index=_)}),u.setData(g,!1))}),i}getProcessedData(i){let o=this,{dataTable:l,isCartesian:d,options:u,xAxis:f}=o,g=u.cropThreshold,m=i||o.getExtremesFromAll,x=f==null?void 0:f.logarithmic,_=l.rowCount,w,C,j=0,L,F,$,B=o.getColumn("x"),G=l,X=!1;return f&&(F=(L=f.getExtremes()).min,$=L.max,X=!!(f.categories&&!f.names.length),d&&o.sorted&&!m&&(!g||_>g||o.forceCrop)&&(B[_-1]<F||B[0]>$?G=new ki:o.getColumn(o.pointValKey||"y").length&&(B[0]<F||B[_-1]>$)&&(G=(w=this.cropData(l,F,$)).modified,j=w.start,C=!0))),B=G.getColumn("x")||[],{modified:G,cropped:C,cropStart:j,closestPointRange:mA([x?B.map(x.log2lin):B],()=>o.requireSorting&&!X&&lf(15,!1,o.chart))}}processData(i){let o=this.xAxis,l=this.dataTable;if(this.isCartesian&&!this.isDirty&&!o.isDirty&&!this.yAxis.isDirty&&!i)return!1;let d=this.getProcessedData();l.modified=d.modified,this.cropped=d.cropped,this.cropStart=d.cropStart,this.closestPointRange=this.basePointRange=d.closestPointRange,er(this,"afterProcessData")}cropData(i,o,l){let d=i.getColumn("x",!0)||[],u=d.length,f={},g,m,x=0,_=u;for(g=0;g<u;g++)if(d[g]>=o){x=Math.max(0,g-1);break}for(m=g;m<u;m++)if(d[m]>l){_=m+1;break}for(let w of this.dataColumnKeys()){let C=i.getColumn(w,!0);C&&(f[w]=C.slice(x,_))}return{modified:new ki({columns:f}),start:x,end:_}}generatePoints(){var de,fe,ye;let i=this.options,o=this.processedData||i.data,l=this.dataTable.modified,d=this.getColumn("x",!0),u=this.pointClass,f=l.rowCount,g=this.cropStart||0,m=this.hasGroupedData,x=i.keys,_=[],w=(de=i.dataGrouping)!=null&&de.groupAll?g:0,C=(fe=this.xAxis)==null?void 0:fe.categories,j=this.pointArrayMap||["y"],L=this.dataColumnKeys(),F,$,B,G,X=this.data,pe;if(!X&&!m){let me=[];me.length=(o==null?void 0:o.length)||0,X=this.data=me}for(x&&m&&(this.options.keys=!1),G=0;G<f;G++)$=g+G,m?((B=new u(this,l.getRow(G,L)||[])).dataGroup=this.groupMap[w+G],(ye=B.dataGroup)!=null&&ye.options&&(B.options=B.dataGroup.options,Ml(B,B.dataGroup.options),delete B.dataLabels)):(B=X[$],pe=o?o[$]:l.getRow(G,j),B||pe===void 0||(X[$]=B=new u(this,pe,d[G]))),B&&(B.index=m?w+G:$,_[G]=B,B.category=(C==null?void 0:C[B.x])??B.x,B.key=B.name??B.category);if(this.options.keys=x,X&&(f!==(F=X.length)||m))for(G=0;G<F;G++)G!==g||m||(G+=f),X[G]&&(X[G].destroyElements(),X[G].plotX=void 0);this.data=X,this.points=_,er(this,"afterGeneratePoints")}getXExtremes(i){return{min:rw(i),max:pv(i)}}getExtremes(i,o){var de;let{xAxis:l,yAxis:d}=this,u=o||this.getExtremesFromAll||this.options.getExtremesFromAll,f=u&&this.cropped?this.dataTable:this.dataTable.modified,g=f.rowCount,m=i||this.stackedYData,x=m?[m]:((de=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:de.map(fe=>f.getColumn(fe,!0)||[]))||[],_=this.getColumn("x",!0),w=[],C=this.requireSorting&&!this.is("column")?1:0,j=!!d&&d.positiveValuesOnly,L=u||this.cropped||!l,F,$,B,G=0,X=0;for(l&&(G=(F=l.getExtremes()).min,X=F.max),B=0;B<g;B++)if($=_[B],L||(_[B+C]||$)>=G&&(_[B-C]||$)<=X)for(let fe of x){let ye=fe[B];Nr(ye)&&(ye>0||!j)&&w.push(ye)}let pe={activeYData:w,dataMin:rw(w),dataMax:pv(w)};return er(this,"afterGetExtremes",{dataExtremes:pe}),pe}applyExtremes(){let i=this.getExtremes();return this.dataMin=i.dataMin,this.dataMax=i.dataMax,i}getFirstValidPoint(i,o=0,l=1){let d=i.length,u=o;for(;u>=0&&u<d;){if(Sr(i[u]))return i[u];u+=l}}translate(){var X;this.generatePoints();let i=this.options,o=i.stacking,l=this.xAxis,d=this.enabledDataSorting,u=this.yAxis,f=this.points,g=f.length,m=this.pointPlacementToXValue(),x=!!m,_=i.threshold,w=i.startFromThreshold?_:0,C=(i==null?void 0:i.nullInteraction)&&u.len,j,L,F,$,B=Number.MAX_VALUE;function G(pe){return iw(pe,-1e9,1e9)}for(j=0;j<g;j++){let pe,de=f[j],fe=de.x,ye,me,xe=de.y,Ae=de.low,Te=o&&((X=u.stacking)==null?void 0:X.stacks[(this.negStacks&&xe<(w?0:_)?"-":"")+this.stackKey]);de.plotX=Nr(L=l.translate(fe,!1,!1,!1,!0,m))?nw(G(L)):void 0,o&&this.visible&&Te&&Te[fe]&&($=this.getStackIndicator($,fe,this.index),!de.isNull&&$.key&&(me=(ye=Te[fe]).points[$.key]),ye&&lw(me)&&(Ae=me[0],xe=me[1],Ae===w&&$.key===Te[fe].base&&(Ae=tr(Nr(_)?_:u.min)),u.positiveValuesOnly&&Sr(Ae)&&Ae<=0&&(Ae=void 0),de.total=de.stackTotal=tr(ye.total),de.percentage=Sr(de.y)&&ye.total?de.y/ye.total*100:void 0,de.stackY=xe,this.irregularWidths||ye.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),de.yBottom=Sr(Ae)?G(u.translate(Ae,!1,!0,!1,!0)):void 0,this.dataModify&&(xe=this.dataModify.modifyValue(xe,j)),Nr(xe)&&de.plotX!==void 0?pe=Nr(pe=u.translate(xe,!1,!0,!1,!0))?G(pe):void 0:!Nr(xe)&&C&&(pe=C),de.plotY=pe,de.isInside=this.isPointInside(de),de.clientX=x?nw(l.translate(fe,!1,!1,!1,!0,m)):L,de.negative=(de.y||0)<(_||0),de.isNull||de.visible===!1||(F!==void 0&&(B=Math.min(B,Math.abs(L-F))),F=L),de.zone=this.zones.length?de.getZone():void 0,!de.graphic&&this.group&&d&&(de.isNew=!0)}this.closestPointRangePx=B,er(this,"afterTranslate")}getValidPoints(i,o,l){let d=this.chart;return(i||this.points||[]).filter(function(u){let{plotX:f,plotY:g}=u;return(!!l||!u.isNull&&!!Nr(g))&&(!o||!!d.isInsidePlot(f,g,{inverted:d.inverted}))&&u.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:i,group:o,markerGroup:l}=this,d=i.sharedClips,u=i.renderer,f=i.getClipBox(this),g=this.getSharedClipKey(),m=d[g];m?m.animate(f):d[g]=m=u.clipRect(f),o&&o.clip(this.options.clip===!1?void 0:m),l&&l.clip()}animate(i){let{chart:o,group:l,markerGroup:d}=this,u=o.inverted,f=tw(this.options.animation),g=[this.getSharedClipKey(),f.duration,f.easing,f.defer].join(","),m=o.sharedClips[g],x=o.sharedClips[g+"m"];if(i&&l){let _=o.getClipBox(this);if(m)m.attr("height",_.height);else{_.width=0,u&&(_.x=o.plotHeight),m=o.renderer.clipRect(_),o.sharedClips[g]=m;let w={x:-99,y:-99,width:u?o.plotWidth+199:99,height:u?99:o.plotHeight+199};x=o.renderer.clipRect(w),o.sharedClips[g+"m"]=x}l.clip(m),d==null||d.clip(x)}else if(m&&!m.hasClass("highcharts-animating")){let _=o.getClipBox(this),w=f.step;(d!=null&&d.element.childNodes.length||o.series.length>1)&&(f.step=function(C,j){w&&w.apply(j,arguments),j.prop==="width"&&(x!=null&&x.element)&&x.attr(u?"height":"width",C+99)}),m.addClass("highcharts-animating").animate(_,f)}}afterAnimate(){this.setClip(),gv(this.chart.sharedClips,(i,o,l)=>{i&&!this.chart.container.querySelector(`[clip-path="url(#${i.id})"]`)&&(i.destroy(),delete l[o])}),this.finishedAnimating=!0,er(this,"afterAnimate")}drawPoints(i=this.points){let o,l,d,u,f,g,m,x=this.chart,_=x.styledMode,{colorAxis:w,options:C}=this,j=C.marker,L=C.nullInteraction,F=this[this.specialGroup||"markerGroup"],$=this.xAxis,B=tr(j.enabled,!$||!!$.isRadial||null,this.closestPointRangePx>=j.enabledThreshold*j.radius);if(j.enabled!==!1||this._hasPointMarkers)for(o=0;o<i.length;o++){u=(d=(l=i[o]).graphic)?"animate":"attr",f=l.marker||{},g=!!l.marker;let G=l.isNull;if((B&&!Sr(f.enabled)||f.enabled)&&(!G||L)&&l.visible!==!1){let X=tr(f.symbol,this.symbol,"rect");m=this.markerAttribs(l,l.selected&&"select"),this.enabledDataSorting&&(l.startXPos=$.reversed?-(m.width||0):$.width);let pe=l.isInside!==!1;if(!d&&pe&&((m.width||0)>0||l.hasImage)&&(l.graphic=d=x.renderer.symbol(X,m.x,m.y,m.width,m.height,g?f:j).add(F),this.enabledDataSorting&&x.hasRendered&&(d.attr({x:l.startXPos}),u="animate")),d&&u==="animate"&&d[pe?"show":"hide"](pe).animate(m),d){let de=this.pointAttribs(l,_||!l.selected?void 0:"select");_?w&&d.css({fill:de.fill}):d[u](de)}d&&d.addClass(l.getClassName(),!0)}else d&&(l.graphic=d.destroy())}}markerAttribs(i,o){let l=this.options,d=l.marker,u=i.marker||{},f=u.symbol||d.symbol,g={},m,x,_=tr(u.radius,d==null?void 0:d.radius);o&&(m=d.states[o],x=u.states&&u.states[o],_=tr(x==null?void 0:x.radius,m==null?void 0:m.radius,_&&_+((m==null?void 0:m.radiusPlus)||0))),i.hasImage=f&&f.indexOf("url")===0,i.hasImage&&(_=0);let w=i.pos();return Nr(_)&&w&&(l.crisp&&(w[0]=hA(w[0],i.hasImage?0:f==="rect"?(d==null?void 0:d.lineWidth)||0:1)),g.x=w[0]-_,g.y=w[1]-_),_&&(g.width=g.height=2*_),g}pointAttribs(i,o){var B;let l=this.options,d=l.marker,u=i==null?void 0:i.options,f=(u==null?void 0:u.marker)||{},g=u==null?void 0:u.color,m=i==null?void 0:i.color,x=(B=i==null?void 0:i.zone)==null?void 0:B.color,_,w,C=this.color,j,L,F=tr(f.lineWidth,d.lineWidth),$=i!=null&&i.isNull&&l.nullInteraction?0:1;return C=g||x||m||C,j=f.fillColor||d.fillColor||C,L=f.lineColor||d.lineColor||C,o=o||"normal",_=d.states[o]||{},F=tr((w=f.states&&f.states[o]||{}).lineWidth,_.lineWidth,F+tr(w.lineWidthPlus,_.lineWidthPlus,0)),j=w.fillColor||_.fillColor||j,L=w.lineColor||_.lineColor||L,{stroke:L,"stroke-width":F,fill:j,opacity:$=tr(w.opacity,_.opacity,$)}}destroy(i){var m,x;let o,l,d=this,u=d.chart,f=/AppleWebKit\/533/.test(dA.navigator.userAgent),g=d.data||[];for(er(d,"destroy",{keepEventsForUpdate:i}),this.removeEvents(i),(d.axisTypes||[]).forEach(function(_){l=d[_],l!=null&&l.series&&(sw(l.series,d),l.isDirty=l.forceRedraw=!0)}),d.legendItem&&d.chart.legend.destroyItem(d),o=g.length;o--;)(x=(m=g[o])==null?void 0:m.destroy)==null||x.call(m);for(let _ of d.zones)fA(_,void 0,!0);Qe.clearTimeout(d.animationTimeout),gv(d,function(_,w){_ instanceof en&&!_.survive&&_[f&&w==="group"?"hide":"destroy"]()}),u.hoverSeries===d&&(u.hoverSeries=void 0),sw(u.series,d),u.orderItems("series"),gv(d,function(_,w){i&&w==="hcEvents"||delete d[w]})}applyZones(){let{area:i,chart:o,graph:l,zones:d,points:u,xAxis:f,yAxis:g,zoneAxis:m}=this,{inverted:x,renderer:_}=o,w=this[`${m}Axis`],{isXAxis:C,len:j=0,minPointOffset:L=0}=w||{},F=((l==null?void 0:l.strokeWidth())||0)/2+1,$=(B,G=0,X=0)=>{x&&(X=j-X);let{translated:pe=0,lineClip:de}=B,fe=X-pe;de==null||de.push(["L",G,Math.abs(fe)<F?X-F*(fe<=0?-1:1):pe])};if(d.length&&(l||i)&&w&&Nr(w.min)){let B=w.getExtremes().max+L,G=de=>{de.forEach((fe,ye)=>{(fe[0]==="M"||fe[0]==="L")&&(de[ye]=[fe[0],C?j-fe[1]:fe[1],C?fe[2]:j-fe[2]])})};if(d.forEach(de=>{de.lineClip=[],de.translated=iw(w.toPixels(tr(de.value,B),!0)||0,0,j)}),l&&!this.showLine&&l.hide(),i&&i.hide(),m==="y"&&u.length<f.len)for(let de of u){let{plotX:fe,plotY:ye,zone:me}=de,xe=me&&d[d.indexOf(me)-1];me&&$(me,fe,ye),xe&&$(xe,fe,ye)}let X=[],pe=w.toPixels(w.getExtremes().min-L,!0);d.forEach(de=>{var lt,Ke;let fe=de.lineClip||[],ye=Math.round(de.translated||0);f.reversed&&fe.reverse();let{clip:me,simpleClip:xe}=de,Ae=0,Te=0,We=f.len,Ge=g.len;C?(Ae=ye,We=pe):(Te=ye,Ge=pe);let rt=[["M",Ae,Te],["L",We,Te],["L",We,Ge],["L",Ae,Ge],["Z"]],Je=[rt[0],...fe,rt[1],rt[2],...X,rt[3],rt[4]];X=fe.reverse(),pe=ye,x&&(G(Je),i&&G(rt)),me?(me.animate({d:Je}),xe==null||xe.animate({d:rt})):(me=de.clip=_.path(Je),i&&(xe=de.simpleClip=_.path(rt))),l&&((lt=de.graph)==null||lt.clip(me)),i&&((Ke=de.area)==null||Ke.clip(xe))})}else this.visible&&(l&&l.show(),i&&i.show())}plotGroup(i,o,l,d,u){let f=this[i],g=!f,m={visibility:l,zIndex:d||.1};return Sr(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(m.opacity=this.opacity),f||(this[i]=f=this.chart.renderer.g().add(u)),f.addClass("highcharts-"+o+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Sr(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(f.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),f.attr(m)[g?"attr":"animate"](this.getPlotBox(o)),f}getPlotBox(i){let o=this.xAxis,l=this.yAxis,d=this.chart,u=d.inverted&&!d.polar&&o&&this.invertible&&i==="series";d.inverted&&(o=l,l=this.xAxis);let f={scale:1,translateX:o?o.left:d.plotLeft,translateY:l?l.top:d.plotTop,name:i};er(this,"getPlotBox",f);let{scale:g,translateX:m,translateY:x}=f;return{translateX:m,translateY:x,rotation:90*!!u,rotationOriginX:u?g*(o.len-l.len)/2:0,rotationOriginY:u?g*(o.len+l.len)/2:0,scaleX:u?-g:g,scaleY:g}}removeEvents(i){let{eventsToUnbind:o}=this;i||xA(this),o.length&&(o.forEach(l=>{l()}),o.length=0)}render(){var _,w,C,j,L;let i=this,{chart:o,options:l,hasRendered:d}=i,u=tw(l.animation),f=i.visible?"inherit":"hidden",g=l.zIndex,m=o.seriesGroup,x=i.finishedAnimating?0:u.duration;er(this,"render"),i.plotGroup("group","series",f,g,m),i.markerGroup=i.plotGroup("markerGroup","markers",f,g,m),l.clip!==!1&&i.setClip(),x&&((_=i.animate)==null||_.call(i,!0)),i.drawGraph&&(i.drawGraph(),i.applyZones()),i.visible&&i.drawPoints(),(w=i.drawDataLabels)==null||w.call(i),(C=i.redrawPoints)==null||C.call(i),l.enableMouseTracking&&((j=i.drawTracker)==null||j.call(i)),x&&((L=i.animate)==null||L.call(i)),d||(x&&u.defer&&(x+=u.defer),i.animationTimeout=cw(()=>{i.afterAnimate()},x||0)),i.isDirty=!1,i.hasRendered=!0,er(i,"afterRender")}redraw(){let i=this.isDirty||this.isDirtyData;this.translate(),this.render(),i&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(i,o){let{xAxis:l,yAxis:d}=this,u=this.chart.inverted;return this.searchKDTree({clientX:u?l.len-i.chartY+l.pos:i.chartX-l.pos,plotY:u?d.len-i.chartX+d.pos:i.chartY-d.pos},o,i)}buildKDTree(i){this.buildingKdTree=!0;let o=this,l=o.options,d=l.findNearestPointBy.indexOf("y")>-1?2:1;delete o.kdTree,cw(function(){o.kdTree=function u(f,g,m){let x,_,w=f==null?void 0:f.length;if(w)return x=o.kdAxisArray[g%m],f.sort((C,j)=>(C[x]||0)-(j[x]||0)),{point:f[_=Math.floor(w/2)],left:u(f.slice(0,_),g+1,m),right:u(f.slice(_+1),g+1,m)}}(o.getValidPoints(void 0,!o.directTouch,l==null?void 0:l.nullInteraction),d,d),o.buildingKdTree=!1},l.kdNow||(i==null?void 0:i.type)==="touchstart"?0:1)}searchKDTree(i,o,l,d,u){let f=this,[g,m]=this.kdAxisArray,x=o?"distX":"dist",_=(f.options.findNearestPointBy||"").indexOf("y")>-1?2:1,w=!!f.isBubble,C=d||((L,F,$)=>{let B=L[$]||0,G=F[$]||0;return[B===G&&L.index>F.index||B<G?L:F,!1]}),j=u||((L,F)=>L<F);if(this.kdTree||this.buildingKdTree||this.buildKDTree(l),this.kdTree)return function L(F,$,B,G){var Ae;let X=$.point,pe=f.kdAxisArray[B%G],de=X,fe=!1;(function(Te,We){var jt;let Ge=Te[g],rt=We[g],Je=Sr(Ge)&&Sr(rt)?Ge-rt:null,lt=Te[m],Ke=We[m],ct=Sr(lt)&&Sr(Ke)?lt-Ke:0,wt=w&&((jt=We.marker)==null?void 0:jt.radius)||0;We.dist=Math.sqrt((Je&&Je*Je||0)+ct*ct)-wt,We.distX=Sr(Je)?Math.abs(Je)-wt:Number.MAX_VALUE})(F,X);let ye=(F[pe]||0)-(X[pe]||0)+(w&&((Ae=X.marker)==null?void 0:Ae.radius)||0),me=ye<0?"left":"right",xe=ye<0?"right":"left";return $[me]&&([de,fe]=C(X,L(F,$[me],B+1,G),x)),$[xe]&&j(Math.sqrt(ye*ye),de[x],fe)&&(de=C(de,L(F,$[xe],B+1,G),x)[0]),de}(i,this.kdTree,_,_)}pointPlacementToXValue(){let{options:i,xAxis:o}=this,l=i.pointPlacement;return l==="between"&&(l=o.reversed?-.5:.5),Nr(l)?l*(i.pointRange||o.pointRange):0}isPointInside(i){let{chart:o,xAxis:l,yAxis:d}=this,{plotX:u=-1,plotY:f=-1}=i;return f>=0&&f<=(d?d.len:o.plotHeight)&&u>=0&&u<=(l?l.len:o.plotWidth)}drawTracker(){var C;let i=this,o=i.options,l=o.trackByArea,d=[].concat((l?i.areaPath:i.graphPath)||[]),u=i.chart,f=u.pointer,g=u.renderer,m=((C=u.options.tooltip)==null?void 0:C.snap)||0,x=()=>{o.enableMouseTracking&&u.hoverSeries!==i&&i.onMouseOver()},_="rgba(192,192,192,"+(cA?1e-4:.002)+")",w=i.tracker;w?w.attr({d}):i.graph&&(i.tracker=w=g.path(d).attr({visibility:i.visible?"inherit":"hidden",zIndex:2}).addClass(l?"highcharts-tracker-area":"highcharts-tracker-line").add(i.group),u.styledMode||w.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:_,fill:l?_:"none","stroke-width":i.graph.strokeWidth()+(l?0:2*m)}),[i.tracker,i.markerGroup,i.dataLabelsGroup].forEach(j=>{j&&(j.addClass("highcharts-tracker").on("mouseover",x).on("mouseout",L=>{f==null||f.onTrackerMouseOut(L)}),o.cursor&&!u.styledMode&&j.css({cursor:o.cursor}),j.on("touchstart",x))})),er(this,"afterDrawTracker")}addPoint(i,o,l,d,u){let f,g,m=this.options,{chart:x,data:_,dataTable:w,xAxis:C}=this,j=(C==null?void 0:C.hasNames)&&C.names,L=m.data,F=this.getColumn("x");o=tr(o,!0);let $={series:this};this.pointClass.prototype.applyOptions.apply($,[i]);let B=$.x;if(g=F.length,this.requireSorting&&B<F[g-1])for(f=!0;g&&F[g-1]>B;)g--;w.setRow($,g,!0,{addColumns:!1}),j&&$.name&&(j[B]=$.name),L==null||L.splice(g,0,i),(f||this.processedData)&&(this.data.splice(g,0,null),this.processData()),m.legendType==="point"&&this.generatePoints(),l&&(_[0]&&_[0].remove?_[0].remove(!1):([_,L].filter(Sr).forEach(G=>{G.shift()}),w.deleteRows(0))),u!==!1&&er(this,"addPoint",{point:$}),this.isDirty=!0,this.isDirtyData=!0,o&&x.redraw(d)}removePoint(i,o,l){let d=this,{chart:u,data:f,points:g,dataTable:m}=d,x=f[i],_=function(){[(g==null?void 0:g.length)===f.length?g:void 0,f,d.options.data].filter(Sr).forEach(w=>{w.splice(i,1)}),m.deleteRows(i),x==null||x.destroy(),d.isDirty=!0,d.isDirtyData=!0,o&&u.redraw()};aA(l,u),o=tr(o,!0),x?x.firePointEvent("remove",null,_):_()}remove(i,o,l,d){let u=this,f=u.chart;function g(){u.destroy(d),f.isDirtyLegend=f.isDirtyBox=!0,f.linkSeries(d),tr(i,!0)&&f.redraw(o)}l!==!1?er(u,"remove",null,g):g()}update(i,o){var B,G;er(this,"update",{options:i=pA(i,this.userOptions)});let l=this,d=l.chart,u=l.userOptions,f=l.initialType||l.type,g=d.options.plotOptions,m=El[f].prototype,x=l.finishedAnimating&&{animation:!1},_={},w,C,j=kn.keepProps.slice(),L=i.type||u.type||d.options.chart.type,F=!(this.hasDerivedData||L&&L!==this.type||i.keys!==void 0||i.pointStart!==void 0||i.pointInterval!==void 0||i.relativeXValue!==void 0||i.joinBy||i.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(X=>l.hasOptionChanged(X)));L=L||f,F?(j.push.apply(j,kn.keepPropsForPoints),i.visible!==!1&&j.push("area","graph"),l.parallelArrays.forEach(function(X){j.push(X+"Data")}),i.data&&(i.dataSorting&&Ml(l.options.dataSorting,i.dataSorting),this.setData(i.data,!1))):this.dataTable.modified=this.dataTable,i=yd(u,{index:u.index===void 0?l.index:u.index,pointStart:((B=g==null?void 0:g.series)==null?void 0:B.pointStart)??u.pointStart??l.getColumn("x")[0]},!F&&{data:l.options.data},i,x),F&&i.data&&(i.data=l.options.data),(j=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(j)).forEach(function(X){j[X]=l[X],delete l[X]});let $=!1;if(El[L]){if($=L!==l.type,l.remove(!1,!1,!1,!0),$)if(d.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(l,El[L].prototype);else{let X=Object.hasOwnProperty.call(l,"hcEvents")&&l.hcEvents;for(C in m)l[C]=void 0;Ml(l,El[L].prototype),X?l.hcEvents=X:delete l.hcEvents}}else lf(17,!0,d,{missingModuleFor:L});if(j.forEach(function(X){l[X]=j[X]}),l.init(d,i),F&&this.points)for(let X of((w=l.options).visible===!1?(_.graphic=1,_.dataLabel=1):(this.hasMarkerChanged(w,u)&&(_.graphic=1),(G=l.hasDataLabels)!=null&&G.call(l)||(_.dataLabel=1)),this.points))X!=null&&X.series&&(X.resolveColor(),Object.keys(_).length&&X.destroyElements(_),w.showInLegend===!1&&X.legendItem&&d.legend.destroyItem(X));l.initialType=f,d.linkSeries(),d.setSortedData(),$&&l.linkedSeries.length&&(l.isDirtyData=!0),er(this,"afterUpdate"),tr(o,!0)&&d.redraw(!!F&&void 0)}setName(i){this.name=this.options.name=this.userOptions.name=i,this.chart.isDirtyLegend=!0}hasOptionChanged(i){var g,m;let o=this.chart,l=this.options[i],d=o.options.plotOptions,u=this.userOptions[i],f=tr((g=d==null?void 0:d[this.type])==null?void 0:g[i],(m=d==null?void 0:d.series)==null?void 0:m[i]);return u&&!Sr(f)?l!==u:l!==tr(f,l)}onMouseOver(){let i=this.chart,o=i.hoverSeries,l=i.pointer;l==null||l.setHoverChartIndex(),o&&o!==this&&o.onMouseOut(),this.options.events.mouseOver&&er(this,"mouseOver"),this.setState("hover"),i.hoverSeries=this}onMouseOut(){let i=this.options,o=this.chart,l=o.tooltip,d=o.hoverPoint;o.hoverSeries=null,d&&d.onMouseOut(),this&&i.events.mouseOut&&er(this,"mouseOut"),l&&!this.stickyTracking&&(!l.shared||this.noSharedTooltip)&&l.hide(),o.series.forEach(function(u){u.setState("",!0)})}setState(i,o){let l=this,d=l.options,u=l.graph,f=d.inactiveOtherPoints,g=d.states,m=tr(g[i||"normal"]&&g[i||"normal"].animation,l.chart.options.chart.animation),x=d.lineWidth,_=d.opacity;if(i=i||"",l.state!==i&&([l.group,l.markerGroup,l.dataLabelsGroup].forEach(function(w){w&&(l.state&&w.removeClass("highcharts-series-"+l.state),i&&w.addClass("highcharts-series-"+i))}),l.state=i,!l.chart.styledMode)){if(g[i]&&g[i].enabled===!1)return;if(i&&(x=g[i].lineWidth||x+(g[i].lineWidthPlus||0),_=tr(g[i].opacity,_)),u&&!u.dashstyle&&Nr(x))for(let w of[u,...this.zones.map(C=>C.graph)])w==null||w.animate({"stroke-width":x},m);f||[l.group,l.markerGroup,l.dataLabelsGroup,l.labelBySeries].forEach(function(w){w&&w.animate({opacity:_},m)})}o&&f&&l.points&&l.setAllPointsToState(i||void 0)}setAllPointsToState(i){this.points.forEach(function(o){o.setState&&o.setState(i)})}setVisible(i,o){var m;let l=this,d=l.chart,u=d.options.chart.ignoreHiddenSeries,f=l.visible;l.visible=i=l.options.visible=l.userOptions.visible=i===void 0?!f:i;let g=i?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(x=>{var _;(_=l[x])==null||_[g]()}),(d.hoverSeries===l||((m=d.hoverPoint)==null?void 0:m.series)===l)&&l.onMouseOut(),l.legendItem&&d.legend.colorizeItem(l,i),l.isDirty=!0,l.options.stacking&&d.series.forEach(x=>{x.options.stacking&&x.visible&&(x.isDirty=!0)}),l.linkedSeries.forEach(x=>{x.setVisible(i,!1)}),u&&(d.isDirtyBox=!0),er(l,g),o!==!1&&d.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(i){this.selected=i=this.options.selected=i===void 0?!this.selected:i,this.checkbox&&(this.checkbox.checked=i),er(this,i?"select":"unselect")}shouldShowTooltip(i,o,l={}){return l.series=this,l.visiblePlotOnly=!0,this.chart.isInsidePlot(i,o,l)}drawLegendSymbol(i,o){var l;(l=wn[this.options.legendSymbol||"rectangle"])==null||l.call(this,i,o)}}kn.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:b}=this.series.chart;return typeof this.y!="number"?"":b(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},kn.types=or.seriesTypes,kn.registerType=or.registerSeriesType,kn.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],kn.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Ml(kn.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Z,requireSorting:!0,sorted:!0}),or.series=kn;let Si=kn,{animObject:yA,setAnimation:bA}=jr,{registerEventOptions:dw}=gl,{composed:wA,marginNames:uw}=J,{distribute:kA}=hs,{format:SA}=sr,{addEvent:cf,createElement:_A,css:CA,defined:mv,discardElement:EA,find:MA,fireEvent:bs,isNumber:hw,merge:da,pick:Sn,pushUnique:jA,relativeLength:AA,stableSort:NA,syncTimeout:TA}=Qe;class vv{constructor(i,o){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=i,this.setOptions(o),o.enabled&&(this.render(),dw(this,o),cf(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),cf(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(i){let o=Sn(i.padding,8);this.options=i,this.chart.styledMode||(this.itemStyle=i.itemStyle,this.itemHiddenStyle=da(this.itemStyle,i.itemHiddenStyle)),this.itemMarginTop=i.itemMarginTop,this.itemMarginBottom=i.itemMarginBottom,this.padding=o,this.initialItemY=o-5,this.symbolWidth=Sn(i.symbolWidth,16),this.pages=[],this.proximate=i.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(i,o){let l=this.chart;this.setOptions(da(!0,this.options,i)),"events"in this.options&&dw(this,this.options),this.destroy(),l.isDirtyLegend=l.isDirtyBox=!0,Sn(o,!0)&&l.redraw(),bs(this,"afterUpdate",{redraw:o})}colorizeItem(i,o){var x;let l=i.color,{area:d,group:u,label:f,line:g,symbol:m}=i.legendItem||{};if((i instanceof Si||i instanceof Z)&&(i.color=((x=i.options)==null?void 0:x.legendSymbolColor)||l),u==null||u[o?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:_={}}=this,w=_.color,{fillColor:C,fillOpacity:j,lineColor:L,marker:F}=i.options,$=B=>(!o&&(B.fill&&(B.fill=w),B.stroke&&(B.stroke=w)),B);f==null||f.css(da(o?this.itemStyle:_)),g==null||g.attr($({stroke:L||i.color})),m&&m.attr($(F&&m.isMarker?i.pointAttribs():{fill:i.color})),d==null||d.attr($({fill:C||i.color,"fill-opacity":C?1:j??.75}))}i.color=l,bs(this,"afterColorizeItem",{item:i,visible:o})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(i){let{group:o,x:l=0,y:d=0}=i.legendItem||{},u=this.options,f=u.symbolPadding,g=!u.rtl,m=i.checkbox;if(o!=null&&o.element){let x={translateX:g?l:this.legendWidth-l-2*f-4,translateY:d};o[mv(o.translateY)?"animate":"attr"](x,void 0,()=>{bs(this,"afterPositionItem",{item:i})})}m&&(m.x=l,m.y=d)}destroyItem(i){let o=i.legendItem||{};for(let l of["group","label","line","symbol"])o[l]&&(o[l]=o[l].destroy());i.checkbox=EA(i.checkbox),i.legendItem=void 0}destroy(){for(let i of this.getAllItems())this.destroyItem(i);for(let i of["clipRect","up","down","pager","nav","box","title","group"])this[i]&&(this[i]=this[i].destroy());this.display=null}positionCheckboxes(){var u;let i,o=(u=this.group)==null?void 0:u.alignAttr,l=this.clipHeight||this.legendHeight,d=this.titleHeight;o&&(i=o.translateY,this.allItems.forEach(function(f){let g,m=f.checkbox;m&&(g=i+d+m.y+(this.scrollOffset||0)+3,CA(m,{left:o.translateX+f.checkboxOffset+m.x-20+"px",top:g+"px",display:this.proximate||g>i-6&&g<i+l-6?"":"none"}))},this))}renderTitle(){let i=this.options,o=this.padding,l=i.title,d,u=0;l.text&&(this.title||(this.title=this.chart.renderer.label(l.text,o-3,o-4,void 0,void 0,void 0,i.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(l.style),this.title.add(this.group)),l.width||this.title.css({width:this.maxLegendWidth+"px"}),u=(d=this.title.getBBox()).height,this.offsetWidth=d.width,this.contentGroup.attr({translateY:u})),this.titleHeight=u}setText(i){let o=this.options;i.legendItem.label.attr({text:o.labelFormat?SA(o.labelFormat,i,this.chart):o.labelFormatter.call(i)})}renderItem(i){var ye;let o=i.legendItem=i.legendItem||{},l=this.chart,d=l.renderer,u=this.options,f=u.layout==="horizontal",g=this.symbolWidth,m=u.symbolPadding||0,x=this.itemStyle,_=this.itemHiddenStyle,w=f?Sn(u.itemDistance,20):0,C=!u.rtl,j=!i.series,L=!j&&i.series.drawLegendSymbol?i.series:i,F=L.options,$=!!this.createCheckboxForItem&&F&&F.showCheckbox,B=u.useHTML,G=i.options.className,X=o.label,pe=g+m+w+20*!!$;!X&&(o.group=d.g("legend-item").addClass("highcharts-"+L.type+"-series highcharts-color-"+i.colorIndex+(G?" "+G:"")+(j?" highcharts-series-"+i.index:"")).attr({zIndex:1}).add(this.scrollGroup),o.label=X=d.text("",C?g+m:-m,this.baseline||0,B),l.styledMode||X.css(da(i.visible?x:_)),X.attr({align:C?"left":"right",zIndex:2}).add(o.group),!this.baseline&&(this.fontMetrics=d.fontMetrics(X),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,X.attr("y",this.baseline),this.symbolHeight=Sn(u.symbolHeight,this.fontMetrics.f),u.squareSymbol&&(this.symbolWidth=Sn(u.symbolWidth,Math.max(this.symbolHeight,16)),pe=this.symbolWidth+m+w+20*!!$,C&&X.attr("x",this.symbolWidth+m))),L.drawLegendSymbol(this,i),this.setItemEvents&&this.setItemEvents(i,X,B)),$&&!i.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(i),this.colorizeItem(i,i.visible),(l.styledMode||!x.width)&&X.css({width:(u.itemWidth||this.widthOption||l.spacingBox.width)-pe+"px"}),this.setText(i);let de=X.getBBox(),fe=((ye=this.fontMetrics)==null?void 0:ye.h)||0;i.itemWidth=i.checkboxOffset=u.itemWidth||o.labelWidth||de.width+pe,this.maxItemWidth=Math.max(this.maxItemWidth,i.itemWidth),this.totalItemWidth+=i.itemWidth,this.itemHeight=i.itemHeight=Math.round(o.labelHeight||(de.height>1.5*fe?de.height:fe))}layoutItem(i){let o=this.options,l=this.padding,d=o.layout==="horizontal",u=i.itemHeight,f=this.itemMarginBottom,g=this.itemMarginTop,m=d?Sn(o.itemDistance,20):0,x=this.maxLegendWidth,_=o.alignColumns&&this.totalItemWidth>x?this.maxItemWidth:i.itemWidth,w=i.legendItem||{};d&&this.itemX-l+_>x&&(this.itemX=l,this.lastLineHeight&&(this.itemY+=g+this.lastLineHeight+f),this.lastLineHeight=0),this.lastItemY=g+this.itemY+f,this.lastLineHeight=Math.max(u,this.lastLineHeight),w.x=this.itemX,w.y=this.itemY,d?this.itemX+=_:(this.itemY+=g+u+f,this.lastLineHeight=u),this.offsetWidth=this.widthOption||Math.max((d?this.itemX-l-(i.checkbox?0:m):_)+l,this.offsetWidth)}getAllItems(){let i=[];return this.chart.series.forEach(function(o){var d;let l=o==null?void 0:o.options;o&&Sn(l.showInLegend,!mv(l.linkedTo)&&void 0,!0)&&(i=i.concat(((d=o.legendItem)==null?void 0:d.labels)||(l.legendType==="point"?o.data:o)))}),bs(this,"afterGetAllItems",{allItems:i}),i}getAlignment(){let i=this.options;return this.proximate?i.align.charAt(0)+"tv":i.floating?"":i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0)}adjustMargins(i,o){let l=this.chart,d=this.options,u=this.getAlignment();u&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((f,g)=>{f.test(u)&&!mv(i[g])&&(l[uw[g]]=Math.max(l[uw[g]],l.legend[(g+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][g]*d[g%2?"x":"y"]+(d.margin??12)+o[g]+(l.titleOffset[g]||0)))})}proximatePositions(){let i,o=this.chart,l=[],d=this.options.align==="left";for(let u of(this.allItems.forEach(function(f){let g,m,x=d,_,w;f.yAxis&&(f.xAxis.options.reversed&&(x=!x),f.points&&(g=MA(x?f.points:f.points.slice(0).reverse(),function(C){return hw(C.plotY)})),m=this.itemMarginTop+f.legendItem.label.getBBox().height+this.itemMarginBottom,w=f.yAxis.top-o.plotTop,_=f.visible?(g?g.plotY:f.yAxis.height)+(w-.3*m):w+f.yAxis.height,l.push({target:_,size:m,item:f}))},this),kA(l,o.plotHeight)))i=u.item.legendItem||{},hw(u.pos)&&(i.y=o.plotTop-o.spacing[0]+u.pos)}render(){let i=this.chart,o=i.renderer,l=this.options,d=this.padding,u=this.getAllItems(),f,g,m,x=this.group,_,w=this.box;this.itemX=d,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=AA(l.width,i.spacingBox.width-d),_=i.spacingBox.width-2*d-l.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(_/=2),this.maxLegendWidth=this.widthOption||_,x||(this.group=x=o.g("legend").addClass(l.className||"").attr({zIndex:7}).add(),this.contentGroup=o.g().attr({zIndex:1}).add(x),this.scrollGroup=o.g().add(this.contentGroup)),this.renderTitle(),NA(u,(C,j)=>{var L,F;return(((L=C.options)==null?void 0:L.legendIndex)||0)-(((F=j.options)==null?void 0:F.legendIndex)||0)}),l.reversed&&u.reverse(),this.allItems=u,this.display=f=!!u.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,u.forEach(this.renderItem,this),u.forEach(this.layoutItem,this),g=(this.widthOption||this.offsetWidth)+d,m=this.lastItemY+this.lastLineHeight+this.titleHeight,m=this.handleOverflow(m)+d,w||(this.box=w=o.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(x)),i.styledMode||w.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),g>0&&m>0&&w[w.placed?"animate":"attr"](w.crisp.call({},{x:0,y:0,width:g,height:m},w.strokeWidth())),x[f?"show":"hide"](),i.styledMode&&x.getStyle("display")==="none"&&(g=m=0),this.legendWidth=g,this.legendHeight=m,f&&this.align(),this.proximate||this.positionItems(),bs(this,"afterRender")}align(i=this.chart.spacingBox){let o=this.chart,l=this.options,d=i.y;/(lth|ct|rth)/.test(this.getAlignment())&&o.titleOffset[0]>0?d+=o.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&o.titleOffset[2]>0&&(d-=o.titleOffset[2]),d!==i.y&&(i=da(i,{y:d})),o.hasRendered||(this.group.placed=!1),this.group.align(da(l,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,i)}handleOverflow(i){let o=this,l=this.chart,d=l.renderer,u=this.options,f=u.y,g=u.verticalAlign==="top",m=this.padding,x=u.maxHeight,_=u.navigation,w=Sn(_.animation,!0),C=_.arrowSize||12,j=this.pages,L=this.allItems,F=function(me){typeof me=="number"?ye.attr({height:me}):ye&&(o.clipRect=ye.destroy(),o.contentGroup.clip()),o.contentGroup.div&&(o.contentGroup.div.style.clip=me?"rect("+m+"px,9999px,"+(m+me)+"px,0)":"auto")},$=function(me){return o[me]=d.circle(0,0,1.3*C).translate(C/2,C/2).add(fe),l.styledMode||o[me].attr("fill","rgba(0,0,0,0.0001)"),o[me]},B,G,X,pe,de=l.spacingBox.height+(g?-f:f)-m,fe=this.nav,ye=this.clipRect;return u.layout!=="horizontal"||u.verticalAlign==="middle"||u.floating||(de/=2),x&&(de=Math.min(de,x)),j.length=0,i&&de>0&&i>de&&_.enabled!==!1?(this.clipHeight=B=Math.max(de-20-this.titleHeight-m,0),this.currentPage=Sn(this.currentPage,1),this.fullHeight=i,L.forEach((me,xe)=>{let Ae=(X=me.legendItem||{}).y||0,Te=Math.round(X.label.getBBox().height),We=j.length;(!We||Ae-j[We-1]>B&&(G||Ae)!==j[We-1])&&(j.push(G||Ae),We++),X.pageIx=We-1,G&&pe&&(pe.pageIx=We-1),xe===L.length-1&&Ae+Te-j[We-1]>B&&Ae>j[We-1]&&(j.push(Ae),X.pageIx=We),Ae!==G&&(G=Ae),pe=X}),ye||(ye=o.clipRect=d.clipRect(0,m-2,9999,0),o.contentGroup.clip(ye)),F(B),fe||(this.nav=fe=d.g().attr({zIndex:1}).add(this.group),this.up=d.symbol("triangle",0,0,C,C).add(fe),$("upTracker").on("click",function(){o.scroll(-1,w)}),this.pager=d.text("",15,10).addClass("highcharts-legend-navigation"),!l.styledMode&&_.style&&this.pager.css(_.style),this.pager.add(fe),this.down=d.symbol("triangle-down",0,0,C,C).add(fe),$("downTracker").on("click",function(){o.scroll(1,w)})),o.scroll(0),i=de):fe&&(F(),this.nav=fe.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),i}scroll(i,o){let l=this.chart,d=this.pages,u=d.length,f=this.clipHeight,g=this.options.navigation,m=this.pager,x=this.padding,_=this.currentPage+i;_>u&&(_=u),_>0&&(o!==void 0&&bA(o,l),this.nav.attr({translateX:x,translateY:f+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(w){w.attr({class:_===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),m.attr({text:_+"/"+u}),[this.down,this.downTracker].forEach(function(w){w.attr({x:18+this.pager.getBBox().width,class:_===u?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),l.styledMode||(this.up.attr({fill:_===1?g.inactiveColor:g.activeColor}),this.upTracker.css({cursor:_===1?"default":"pointer"}),this.down.attr({fill:_===u?g.inactiveColor:g.activeColor}),this.downTracker.css({cursor:_===u?"default":"pointer"})),this.scrollOffset=-d[_-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=_,this.positionCheckboxes(),TA(()=>{bs(this,"afterScroll",{currentPage:_})},yA(Sn(o,l.renderer.globalAnimation,!0)).duration))}setItemEvents(i,o,l){let d=this,u=i.legendItem||{},f=d.chart.renderer.boxWrapper,g=i instanceof Z,m=i instanceof Si,x="highcharts-legend-"+(g?"point":"series")+"-active",_=d.chart.styledMode,w=l?[o,u.symbol]:[u.group],C=j=>{d.allItems.forEach(L=>{i!==L&&[L].concat(L.linkedSeries||[]).forEach(F=>{F.setState(j,!g)})})};for(let j of w)j&&j.on("mouseover",function(){i.visible&&C("inactive"),i.setState("hover"),i.visible&&f.addClass(x),_||o.css(d.options.itemHoverStyle)}).on("mouseout",function(){d.chart.styledMode||o.css(da(i.visible?d.itemStyle:d.itemHiddenStyle)),C(""),f.removeClass(x),i.setState()}).on("click",function(L){let F=function(){i.setVisible&&i.setVisible(),C(i.visible?"inactive":"")};f.removeClass(x),bs(d,"itemClick",{browserEvent:L,legendItem:i},F),g?i.firePointEvent("legendItemClick",{browserEvent:L}):m&&bs(i,"legendItemClick",{browserEvent:L})})}createCheckboxForItem(i){i.checkbox=_A("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:i.selected,defaultChecked:i.selected},this.options.itemCheckboxStyle,this.chart.container),cf(i.checkbox,"click",function(o){let l=o.target;bs(i.series||i,"checkboxClick",{checked:l.checked,item:i},function(){i.select()})})}}(function(b){b.compose=function(i){jA(wA,"Core.Legend")&&cf(i,"beforeMargins",function(){this.legend=new b(this,this.options.legend)})}})(vv||(vv={}));let fw=vv,{animate:xv,animObject:PA,setAnimation:yv}=jr,{defaultOptions:bv}=Oi,{numberFormat:OA}=sr,{registerEventOptions:pw}=gl,{charts:ua,doc:bd,marginNames:gw,svg:RA,win:mw}=J,{seriesTypes:wv}=or,{addEvent:kv,attr:vw,createElement:Sv,css:_n,defined:ao,diffObjects:xw,discardElement:LA,erase:IA,error:_v,extend:lo,find:Cv,fireEvent:Ot,getAlignFactor:DA,getStyle:Ev,isArray:BA,isNumber:jl,isObject:$A,isString:df,merge:Yn,objectEach:Mv,pick:hi,pInt:zA,relativeLength:yw,removeEvent:bw,splat:uf,syncTimeout:FA,uniqueKey:WA}=Qe;class co{static chart(i,o,l){return new co(i,o,l)}constructor(i,o,l){this.sharedClips={};let d=[...arguments];(df(i)||i.nodeName)&&(this.renderTo=d.shift()),this.init(d[0],d[1])}setZoomOptions(){let i=this.options.chart,o=i.zooming;this.zooming={...o,type:hi(i.zoomType,o.type),key:hi(i.zoomKey,o.key),pinchType:hi(i.pinchType,o.pinchType),singleTouch:hi(i.zoomBySingleTouch,o.singleTouch,!1),resetButton:Yn(o.resetButton,i.resetZoomButton)}}init(i,o){Ot(this,"init",{args:arguments},function(){var f;let l=Yn(bv,i),d=l.chart,u=this.renderTo||d.renderTo;this.userOptions=lo({},i),(this.renderTo=df(u)?bd.getElementById(u):u)||_v(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=o,this.isResizing=0,this.options=l,this.axes=[],this.series=[],this.locale=l.lang.locale??((f=this.renderTo.closest("[lang]"))==null?void 0:f.lang),this.time=new Gc(lo(l.time||{},{locale:this.locale}),l.lang),l.time=this.time.options,this.numberFormatter=(d.numberFormatter||OA).bind(this),this.styledMode=d.styledMode,this.hasCartesianSeries=d.showAxes,this.index=ua.length,ua.push(this),J.chartCount++,pw(this,d),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Ot(this,"afterInit"),this.firstRender()})}initSeries(i){let o=this.options.chart,l=i.type||o.type,d=wv[l];d||_v(17,!0,this,{missingModuleFor:l});let u=new d;return typeof u.init=="function"&&u.init(this,i),u}setSortedData(){this.getSeriesOrderByLinks().forEach(function(i){i.points||i.data||!i.enabledDataSorting||i.setData(i.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(i,o){return i.linkedSeries.length||o.linkedSeries.length?o.linkedSeries.length-i.linkedSeries.length:0})}orderItems(i,o=0){let l=this[i],d=this.options[i]=uf(this.options[i]).slice(),u=this.userOptions[i]=this.userOptions[i]?uf(this.userOptions[i]).slice():[];if(this.hasRendered&&(d.splice(o),u.splice(o)),l)for(let f=o,g=l.length;f<g;++f){let m=l[f];m&&(m.index=f,m instanceof Si&&(m.name=m.getName()),m.options.isInternal||(d[f]=m.options,u[f]=m.userOptions))}}getClipBox(i,o){var _,w;let l=this.inverted,{xAxis:d,yAxis:u}=i||{},{x:f,y:g,width:m,height:x}=Yn(this.clipBox);return i&&(d&&d.len!==this.plotSizeX&&(m=d.len),u&&u.len!==this.plotSizeY&&(x=u.len),l&&!i.invertible&&([m,x]=[x,m])),o&&(f+=((_=l?u:d)==null?void 0:_.pos)??this.plotLeft,g+=((w=l?d:u)==null?void 0:w.pos)??this.plotTop),{x:f,y:g,width:m,height:x}}isInsidePlot(i,o,l={}){var $;let{inverted:d,plotBox:u,plotLeft:f,plotTop:g,scrollablePlotBox:m}=this,{scrollLeft:x=0,scrollTop:_=0}=l.visiblePlotOnly&&(($=this.scrollablePlotArea)==null?void 0:$.scrollingContainer)||{},w=l.series,C=l.visiblePlotOnly&&m||u,j=l.inverted?o:i,L=l.inverted?i:o,F={x:j,y:L,isInsidePlot:!0,options:l};if(!l.ignoreX){let B=w&&(d&&!this.polar?w.yAxis:w.xAxis)||{pos:f,len:1/0},G=l.paneCoordinates?B.pos+j:f+j;G>=Math.max(x+f,B.pos)&&G<=Math.min(x+f+C.width,B.pos+B.len)||(F.isInsidePlot=!1)}if(!l.ignoreY&&F.isInsidePlot){let B=!d&&l.axis&&!l.axis.isXAxis&&l.axis||w&&(d?w.xAxis:w.yAxis)||{pos:g,len:1/0},G=l.paneCoordinates?B.pos+L:g+L;G>=Math.max(_+g,B.pos)&&G<=Math.min(_+g+C.height,B.pos+B.len)||(F.isInsidePlot=!1)}return Ot(this,"afterIsInsidePlot",F),F.isInsidePlot}redraw(i){Ot(this,"beforeRedraw");let o=this.hasCartesianSeries?this.axes:this.colorAxis||[],l=this.series,d=this.pointer,u=this.legend,f=this.userOptions.legend,g=this.renderer,m=g.isHidden(),x=[],_,w,C,j=this.isDirtyBox,L=this.isDirtyLegend,F;for(g.rootFontSize=g.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),yv(!!this.hasRendered&&i,this),m&&this.temporaryDisplay(),this.layOutTitles(!1),C=l.length;C--;)if(((F=l[C]).options.stacking||F.options.centerInCategory)&&(w=!0,F.isDirty)){_=!0;break}if(_)for(C=l.length;C--;)(F=l[C]).options.stacking&&(F.isDirty=!0);l.forEach(function($){$.isDirty&&($.options.legendType==="point"?(typeof $.updateTotals=="function"&&$.updateTotals(),L=!0):f&&(f.labelFormatter||f.labelFormat)&&(L=!0)),$.isDirtyData&&Ot($,"updatedData")}),L&&u&&u.options.enabled&&(u.render(),this.isDirtyLegend=!1),w&&this.getStacks(),o.forEach(function($){$.updateNames(),$.setScale()}),this.getMargins(),o.forEach(function($){$.isDirty&&(j=!0)}),o.forEach(function($){let B=$.min+","+$.max;$.extKey!==B&&($.extKey=B,x.push(function(){Ot($,"afterSetExtremes",lo($.eventArgs,$.getExtremes())),delete $.eventArgs})),(j||w)&&$.redraw()}),j&&this.drawChartBox(),Ot(this,"predraw"),l.forEach(function($){(j||$.isDirty)&&$.visible&&$.redraw(),$.isDirtyData=!1}),d&&d.reset(!0),g.draw(),Ot(this,"redraw"),Ot(this,"render"),m&&this.temporaryDisplay(!0),x.forEach(function($){$.call()})}get(i){let o=this.series;function l(u){return u.id===i||u.options&&u.options.id===i}let d=Cv(this.axes,l)||Cv(this.series,l);for(let u=0;!d&&u<o.length;u++)d=Cv(o[u].points||[],l);return d}createAxes(){let i=this.userOptions;for(let o of(Ot(this,"createAxes"),["xAxis","yAxis"]))for(let l of i[o]=uf(i[o]||{}))new ys(this,l,o);Ot(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((i,o)=>(o.getPointsCollection().forEach(l=>{hi(l.selectedStaging,l.selected)&&i.push(l)}),i),[])}getSelectedSeries(){return this.series.filter(i=>i.selected)}setTitle(i,o,l){this.applyDescription("title",i),this.applyDescription("subtitle",o),this.applyDescription("caption",void 0),this.layOutTitles(l)}applyDescription(i,o){var f;let l=this,d=this.options[i]=Yn(this.options[i],o),u=this[i];u&&o&&(this[i]=u=u.destroy()),d&&!u&&((u=this.renderer.text(d.text,0,0,d.useHTML).attr({align:d.align,class:"highcharts-"+i,zIndex:d.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(g,m){l.applyDescription(i,g),l.layOutTitles(m)},this.styledMode||u.css(lo(i==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},d.style)),u.textPxLength=u.getBBox().width,u.css({whiteSpace:(f=d.style)==null?void 0:f.whiteSpace}),this[i]=u)}layOutTitles(i=!0){var g,m,x,_;let o=[0,0,0],{options:l,renderer:d,spacingBox:u}=this;["title","subtitle","caption"].forEach(w=>{var $;let C=this[w],j=this.options[w],L=Yn(u),F=(C==null?void 0:C.textPxLength)||0;if(C&&j){Ot(this,"layOutTitle",{alignTo:L,key:w,textPxLength:F});let B=d.fontMetrics(C),G=B.b,X=B.h,pe=j.verticalAlign||"top",de=pe==="top",fe=de&&j.minScale||1,ye=w==="title"?de?-3:0:de?o[0]+2:0,me=Math.min(L.width/F,1),xe=Math.max(fe,me),Ae=Yn({y:pe==="bottom"?G:ye+G},{align:w==="title"?me<fe?"left":"center":($=this.title)==null?void 0:$.alignValue},j),Te=(j.width||(me>fe?this.chartWidth:L.width)/xe)+"px";C.alignValue!==Ae.align&&(C.placed=!1);let We=Math.round(C.css({width:Te}).getBBox(j.useHTML).height);if(Ae.height=We,C.align(Ae,!1,L).attr({align:Ae.align,scaleX:xe,scaleY:xe,"transform-origin":`${L.x+F*xe*DA(Ae.align)} ${X}`}),!j.floating){let Ge=We*(We<1.2*X?1:xe);pe==="top"?o[0]=Math.ceil(o[0]+Ge):pe==="bottom"&&(o[2]=Math.ceil(o[2]+Ge))}}},this),o[0]&&(((g=l.title)==null?void 0:g.verticalAlign)||"top")==="top"&&(o[0]+=((m=l.title)==null?void 0:m.margin)||0),o[2]&&((x=l.caption)==null?void 0:x.verticalAlign)==="bottom"&&(o[2]+=((_=l.caption)==null?void 0:_.margin)||0);let f=!this.titleOffset||this.titleOffset.join(",")!==o.join(",");this.titleOffset=o,Ot(this,"afterLayOutTitles"),!this.isDirtyBox&&f&&(this.isDirtyBox=this.isDirtyLegend=f,this.hasRendered&&i&&this.isDirtyBox&&this.redraw())}getContainerBox(){let i=[].map.call(this.renderTo.children,l=>{if(l!==this.container){let d=l.style.display;return l.style.display="none",[l,d]}}),o={width:Ev(this.renderTo,"width",!0)||0,height:Ev(this.renderTo,"height",!0)||0};return i.filter(Boolean).forEach(([l,d])=>{l.style.display=d}),o}getChartSize(){var f;let i=this.options.chart,o=i.width,l=i.height,d=this.getContainerBox(),u=d.height<=1||!((f=this.renderTo.parentElement)!=null&&f.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,o||d.width||600),this.chartHeight=Math.max(0,yw(l,this.chartWidth)||(u?400:d.height)),this.containerBox=d}temporaryDisplay(i){let o=this.renderTo,l;if(i)for(;o!=null&&o.style;)o.hcOrigStyle&&(_n(o,o.hcOrigStyle),delete o.hcOrigStyle),o.hcOrigDetached&&(bd.body.removeChild(o),o.hcOrigDetached=!1),o=o.parentNode;else for(;o!=null&&o.style&&(bd.body.contains(o)||o.parentNode||(o.hcOrigDetached=!0,bd.body.appendChild(o)),(Ev(o,"display",!1)==="none"||o.hcOricDetached)&&(o.hcOrigStyle={display:o.style.display,height:o.style.height,overflow:o.style.overflow},l={display:"block",overflow:"hidden"},o!==this.renderTo&&(l.height=0),_n(o,l),o.offsetWidth||o.style.setProperty("display","block","important")),(o=o.parentNode)!==bd.body););}setClassName(i){this.container.className="highcharts-container "+(i||"")}getContainer(){var C,j;let i,o=this.options,l=o.chart,d="data-highcharts-chart",u=WA(),f=this.renderTo,g=zA(vw(f,d));jl(g)&&ua[g]&&ua[g].hasRendered&&ua[g].destroy(),vw(f,d,this.index),f.innerHTML=Ut.emptyHTML,l.skipClone||f.offsetWidth||this.temporaryDisplay(),this.getChartSize();let m=this.chartHeight,x=this.chartWidth;_n(f,{overflow:"hidden"}),this.styledMode||(i=lo({position:"relative",overflow:"hidden",width:x+"px",height:m+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},l.style||{}));let _=Sv("div",{id:u},i,f);this.container=_,this.getChartSize(),x!==this.chartWidth&&(x=this.chartWidth,this.styledMode||_n(_,{width:hi((C=l.style)==null?void 0:C.width,x+"px")})),this.containerBox=this.getContainerBox(),this._cursor=_.style.cursor;let w=l.renderer||!RA?qi.getRendererType(l.renderer):fl;if(this.renderer=new w(_,x,m,void 0,l.forExport,(j=o.exporting)==null?void 0:j.allowHTML,this.styledMode),yv(void 0,this),this.setClassName(l.className),this.styledMode)for(let L in o.defs)this.renderer.definition(o.defs[L]);else this.renderer.setStyle(l.style);this.renderer.chartIndex=this.index,Ot(this,"afterGetContainer")}getMargins(i){var u;let{spacing:o,margin:l,titleOffset:d}=this;this.resetMargins(),d[0]&&!ao(l[0])&&(this.plotTop=Math.max(this.plotTop,d[0]+o[0])),d[2]&&!ao(l[2])&&(this.marginBottom=Math.max(this.marginBottom,d[2]+o[2])),(u=this.legend)!=null&&u.display&&this.legend.adjustMargins(l,o),Ot(this,"getMargins"),i||this.getAxisMargins()}getAxisMargins(){let i=this,o=i.axisOffset=[0,0,0,0],l=i.colorAxis,d=i.margin,u=f=>{f.forEach(g=>{g.visible&&g.getOffset()})};i.hasCartesianSeries?u(i.axes):l!=null&&l.length&&u(l),gw.forEach((f,g)=>{ao(d[g])||(i[f]+=o[g])}),i.setChartSize()}getOptions(){return xw(this.userOptions,bv)}reflow(i){var u,f;let o=this,l=o.containerBox,d=o.getContainerBox();(u=o.pointer)==null||delete u.chartPosition,!((f=o.exporting)!=null&&f.isPrinting)&&!o.isResizing&&l&&d.width&&((d.width!==l.width||d.height!==l.height)&&(Qe.clearTimeout(o.reflowTimeout),o.reflowTimeout=FA(function(){o.container&&o.setSize(void 0,void 0,!1)},100*!!i)),o.containerBox=d)}setReflow(){let i=this,o=l=>{var d;(d=i.options)!=null&&d.chart.reflow&&i.hasLoaded&&i.reflow(l)};if(typeof ResizeObserver=="function")new ResizeObserver(o).observe(i.renderTo);else{let l=kv(mw,"resize",o);kv(this,"destroy",l)}}setSize(i,o,l){let d=this,u=d.renderer;d.isResizing+=1,yv(l,d);let f=u.globalAnimation;d.oldChartHeight=d.chartHeight,d.oldChartWidth=d.chartWidth,i!==void 0&&(d.options.chart.width=i),o!==void 0&&(d.options.chart.height=o),d.getChartSize();let{chartWidth:g,chartHeight:m,scrollablePixelsX:x=0,scrollablePixelsY:_=0}=d;(d.isDirtyBox||g!==d.oldChartWidth||m!==d.oldChartHeight)&&(d.styledMode||(f?xv:_n)(d.container,{width:`${g+x}px`,height:`${m+_}px`},f),d.setChartSize(!0),u.setSize(g,m,f),d.axes.forEach(function(w){w.isDirty=!0,w.setScale()}),d.isDirtyLegend=!0,d.isDirtyBox=!0,d.layOutTitles(),d.getMargins(),d.redraw(f),d.oldChartHeight=void 0,Ot(d,"resize"),setTimeout(()=>{d&&Ot(d,"endResize")},PA(f).duration)),d.isResizing-=1}setChartSize(i){let o,l,d,u,{chartHeight:f,chartWidth:g,inverted:m,spacing:x,renderer:_}=this,w=this.clipOffset,C=Math[m?"floor":"round"];this.plotLeft=o=Math.round(this.plotLeft),this.plotTop=l=Math.round(this.plotTop),this.plotWidth=d=Math.max(0,Math.round(g-o-(this.marginRight??0))),this.plotHeight=u=Math.max(0,Math.round(f-l-(this.marginBottom??0))),this.plotSizeX=m?u:d,this.plotSizeY=m?d:u,this.spacingBox=_.spacingBox={x:x[3],y:x[0],width:g-x[3]-x[1],height:f-x[0]-x[2]},this.plotBox=_.plotBox={x:o,y:l,width:d,height:u},w&&(this.clipBox={x:C(w[3]),y:C(w[0]),width:C(this.plotSizeX-w[1]-w[3]),height:C(this.plotSizeY-w[0]-w[2])}),i||(this.axes.forEach(function(j){j.setAxisSize(),j.setAxisTranslation()}),_.alignElements()),Ot(this,"afterSetChartSize",{skipAxes:i})}resetMargins(){Ot(this,"resetMargins");let i=this,o=i.options.chart,l=o.plotBorderWidth||0,d=Math.round(l)/2;["margin","spacing"].forEach(u=>{let f=o[u],g=$A(f)?f:[f,f,f,f];["Top","Right","Bottom","Left"].forEach((m,x)=>{i[u][x]=o[`${u}${m}`]??g[x]})}),gw.forEach((u,f)=>{i[u]=i.margin[f]??i.spacing[f]}),i.axisOffset=[0,0,0,0],i.clipOffset=[d,d,d,d],i.plotBorderWidth=l}drawChartBox(){let i=this.options.chart,o=this.renderer,l=this.chartWidth,d=this.chartHeight,u=this.styledMode,f=this.plotBGImage,g=i.backgroundColor,m=i.plotBackgroundColor,x=i.plotBackgroundImage,_=this.plotLeft,w=this.plotTop,C=this.plotWidth,j=this.plotHeight,L=this.plotBox,F=this.clipRect,$=this.clipBox,B=this.chartBackground,G=this.plotBackground,X=this.plotBorder,pe,de,fe,ye="animate";B||(this.chartBackground=B=o.rect().addClass("highcharts-background").add(),ye="attr"),u?pe=de=B.strokeWidth():(de=(pe=i.borderWidth||0)+8*!!i.shadow,fe={fill:g||"none"},(pe||B["stroke-width"])&&(fe.stroke=i.borderColor,fe["stroke-width"]=pe),B.attr(fe).shadow(i.shadow)),B[ye]({x:de/2,y:de/2,width:l-de-pe%2,height:d-de-pe%2,r:i.borderRadius}),ye="animate",G||(ye="attr",this.plotBackground=G=o.rect().addClass("highcharts-plot-background").add()),G[ye](L),!u&&(G.attr({fill:m||"none"}).shadow(i.plotShadow),x&&(f?(x!==f.attr("href")&&f.attr("href",x),f.animate(L)):this.plotBGImage=o.image(x,_,w,C,j).add())),F?F.animate({width:$.width,height:$.height}):this.clipRect=o.clipRect($),ye="animate",X||(ye="attr",this.plotBorder=X=o.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),u||X.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),X[ye](X.crisp(L,-X.strokeWidth())),this.isDirtyBox=!1,Ot(this,"afterDrawChartBox")}propFromSeries(){let i,o,l,d=this,u=d.options.chart,f=d.options.series;["inverted","angular","polar"].forEach(function(g){for(o=wv[u.type],l=u[g]||o&&o.prototype[g],i=f==null?void 0:f.length;!l&&i--;)(o=wv[f[i].type])&&o.prototype[g]&&(l=!0);d[g]=l})}linkSeries(i){let o=this,l=o.series;l.forEach(function(d){d.linkedSeries.length=0}),l.forEach(function(d){let{linkedTo:u}=d.options;if(df(u)){let f;(f=u===":previous"?o.series[d.index-1]:o.get(u))&&f.linkedParent!==d&&(f.linkedSeries.push(d),d.linkedParent=f,f.enabledDataSorting&&d.setDataSortingOptions(),d.visible=hi(d.options.visible,f.options.visible,d.visible))}}),Ot(this,"afterLinkSeries",{isUpdating:i})}renderSeries(){this.series.forEach(function(i){i.translate(),i.render()})}render(){var _;let i=this.axes,o=this.colorAxis,l=this.renderer,d=this.options.chart.axisLayoutRuns||2,u=w=>{w.forEach(C=>{C.visible&&C.render()})},f=0,g=!0,m,x=0;for(let w of(this.setTitle(),Ot(this,"beforeMargins"),(_=this.getStacks)==null||_.call(this),this.getMargins(!0),this.setChartSize(),i)){let{options:C}=w,{labels:j}=C;if(this.hasCartesianSeries&&w.horiz&&w.visible&&j.enabled&&w.series.length&&w.coll!=="colorAxis"&&!this.polar){f=C.tickLength,w.createGroups();let L=new to(w,0,"",!0),F=L.createLabel("x",j);if(L.destroy(),F&&hi(j.reserveSpace,!jl(C.crossing))&&(f=F.getBBox().height+j.distance+Math.max(C.offset||0,0)),f){F==null||F.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-f,0);(g||m||d>1)&&x<d;){let w=this.plotWidth,C=this.plotHeight;for(let j of i)x===0?j.setScale():(j.horiz&&g||!j.horiz&&m)&&j.setTickInterval(!0);x===0?this.getAxisMargins():this.getMargins(),g=w/this.plotWidth>(x?1:1.1),m=C/this.plotHeight>(x?1:1.05),x++}this.drawChartBox(),this.hasCartesianSeries?u(i):o!=null&&o.length&&u(o),this.seriesGroup||(this.seriesGroup=l.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=l.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(i){let o=this,l=Yn(!0,this.options.credits,i);l.enabled&&!this.credits&&(this.credits=this.renderer.text(l.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){l.href&&(mw.location.href=l.href)}).attr({align:l.position.align,zIndex:8}),o.styledMode||this.credits.css(l.style),this.credits.add().align(l.position),this.credits.update=function(d){o.credits=o.credits.destroy(),o.addCredits(d)})}destroy(){var g,m;let i,o=this,l=o.axes,d=o.series,u=o.container,f=u==null?void 0:u.parentNode;for(Ot(o,"destroy"),o.renderer.forExport?IA(ua,o):ua[o.index]=void 0,J.chartCount--,o.renderTo.removeAttribute("data-highcharts-chart"),bw(o),i=l.length;i--;)l[i]=l[i].destroy();for((m=(g=this.scroller)==null?void 0:g.destroy)==null||m.call(g),i=d.length;i--;)d[i]=d[i].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(x=>{var _,w;o[x]=(w=(_=o[x])==null?void 0:_.destroy)==null?void 0:w.call(_)}),u&&(u.innerHTML=Ut.emptyHTML,bw(u),f&&LA(u)),Mv(o,function(x,_){delete o[_]})}firstRender(){var d;let i=this,o=i.options;i.getContainer(),i.resetMargins(),i.setChartSize(),i.propFromSeries(),i.createAxes();let l=BA(o.series)?o.series:[];o.series=[],l.forEach(function(u){i.initSeries(u)}),i.linkSeries(),i.setSortedData(),Ot(i,"beforeRender"),i.render(),(d=i.pointer)==null||d.getChartPosition(),i.renderer.imgCount||i.hasLoaded||i.onload(),i.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(i){i&&this.index!==void 0&&i.apply(this,[this])},this),Ot(this,"load"),Ot(this,"render"),ao(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:i,title:o}=this;i&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((o==null?void 0:o.element.textContent)||"").replace(/</g,"&lt;")}),i.accessibility&&i.accessibility.enabled===!1||_v('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(i,o,l){let d,u=this;return i&&(o=hi(o,!0),Ot(u,"addSeries",{options:i},function(){d=u.initSeries(i),u.isDirtyLegend=!0,u.linkSeries(),d.enabledDataSorting&&d.setData(i.data,!1),Ot(u,"afterAddSeries",{series:d}),o&&u.redraw(l)})),d}addAxis(i,o,l,d){return this.createAxis(o?"xAxis":"yAxis",{axis:i,redraw:l,animation:d})}addColorAxis(i,o,l){return this.createAxis("colorAxis",{axis:i,redraw:o,animation:l})}createAxis(i,o){let l=new ys(this,o.axis,i);return hi(o.redraw,!0)&&this.redraw(o.animation),l}showLoading(i){let o=this,l=o.options,d=l.loading,u=function(){f&&_n(f,{left:o.plotLeft+"px",top:o.plotTop+"px",width:o.plotWidth+"px",height:o.plotHeight+"px"})},f=o.loadingDiv,g=o.loadingSpan;f||(o.loadingDiv=f=Sv("div",{className:"highcharts-loading highcharts-loading-hidden"},null,o.container)),g||(o.loadingSpan=g=Sv("span",{className:"highcharts-loading-inner"},null,f),kv(o,"redraw",u)),f.className="highcharts-loading",Ut.setElementHTML(g,hi(i,l.lang.loading,"")),!o.styledMode&&(_n(f,lo(d.style,{zIndex:10})),_n(g,d.labelStyle),o.loadingShown||(_n(f,{opacity:0,display:""}),xv(f,{opacity:d.style.opacity||.5},{duration:d.showDuration||0}))),o.loadingShown=!0,u()}hideLoading(){let i=this.options,o=this.loadingDiv;o&&(o.className="highcharts-loading highcharts-loading-hidden",this.styledMode||xv(o,{opacity:0},{duration:i.loading.hideDuration||100,complete:function(){_n(o,{display:"none"})}})),this.loadingShown=!1}update(i,o,l,d){let u,f,g,m=this,x={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},_=i.isResponsiveOptions,w=[];Ot(m,"update",{options:i}),_||m.setResponsive(!1,!0),i=xw(i,m.options),m.userOptions=Yn(m.userOptions,i);let C=i.chart;C&&(Yn(!0,m.options.chart,C),this.setZoomOptions(),"className"in C&&m.setClassName(C.className),("inverted"in C||"polar"in C||"type"in C)&&(m.propFromSeries(),u=!0),"alignTicks"in C&&(u=!0),"events"in C&&pw(this,C),Mv(C,function(F,$){m.propsRequireUpdateSeries.indexOf("chart."+$)!==-1&&(f=!0),m.propsRequireDirtyBox.indexOf($)!==-1&&(m.isDirtyBox=!0),m.propsRequireReflow.indexOf($)!==-1&&(m.isDirtyBox=!0,_||(g=!0))}),!m.styledMode&&C.style&&m.renderer.setStyle(m.options.chart.style||{})),!m.styledMode&&i.colors&&(this.options.colors=i.colors),Mv(i,function(F,$){m[$]&&typeof m[$].update=="function"?m[$].update(F,!1):typeof m[x[$]]=="function"?m[x[$]](F):$!=="colors"&&m.collectionsWithUpdate.indexOf($)===-1&&Yn(!0,m.options[$],i[$]),$!=="chart"&&m.propsRequireUpdateSeries.indexOf($)!==-1&&(f=!0)}),this.collectionsWithUpdate.forEach(function(F){i[F]&&(uf(i[F]).forEach(function($,B){let G,X=ao($.id);X&&(G=m.get($.id)),!G&&m[F]&&(G=m[F][hi($.index,B)])&&(X&&ao(G.options.id)||G.options.isInternal)&&(G=void 0),G&&G.coll===F&&(G.update($,!1),l&&(G.touched=!0)),!G&&l&&m.collectionsWithInit[F]&&(m.collectionsWithInit[F][0].apply(m,[$].concat(m.collectionsWithInit[F][1]||[]).concat([!1])).touched=!0)}),l&&m[F].forEach(function($){$.touched||$.options.isInternal?delete $.touched:w.push($)}))}),w.forEach(function(F){F.chart&&F.remove&&F.remove(!1)}),u&&m.axes.forEach(function(F){F.update({},!1)}),f&&m.getSeriesOrderByLinks().forEach(function(F){F.chart&&F.update({},!1)},this);let j=C==null?void 0:C.width,L=C&&(df(C.height)?yw(C.height,j||m.chartWidth):C.height);g||jl(j)&&j!==m.chartWidth||jl(L)&&L!==m.chartHeight?m.setSize(j,L,d):hi(o,!0)&&m.redraw(d),Ot(m,"afterUpdate",{options:i,redraw:o,animation:d})}setSubtitle(i,o){this.applyDescription("subtitle",i),this.layOutTitles(o)}setCaption(i,o){this.applyDescription("caption",i),this.layOutTitles(o)}showResetZoom(){let i=this,o=bv.lang,l=i.zooming.resetButton,d=l.theme,u=l.relativeTo==="chart"||l.relativeTo==="spacingBox"?null:"plotBox";function f(){i.zoomOut()}Ot(this,"beforeShowResetZoom",null,function(){i.resetZoomButton=i.renderer.button(o.resetZoom,null,null,f,d).attr({align:l.position.align,title:o.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(l.position,!1,u)}),Ot(this,"afterShowResetZoom")}zoomOut(){Ot(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(i,o){let l=this,d=typeof o=="object"?o:{enabled:o,type:"x"},u=d.type,f=u&&l[{x:"xAxis",xy:"axes",y:"yAxis"}[u]].filter(m=>m.options.panningEnabled&&!m.options.isInternal),g=l.options.chart;g!=null&&g.panning&&(g.panning=d),Ot(this,"pan",{originalEvent:i},()=>{l.transform({axes:f,event:i,to:{x:i.chartX-(l.mouseDownX||0),y:i.chartY-(l.mouseDownY||0)},trigger:"pan"}),_n(l.container,{cursor:"move"})})}transform(i){var L;let{axes:o=this.axes,event:l,from:d={},reset:u,selection:f,to:g={},trigger:m}=i,{inverted:x,time:_}=this;(L=this.hoverPoints)==null||L.forEach(F=>F.setState()),Ot(this,"transform",i);let w=i.hasZoomed||!1,C,j;for(let F of o){let{horiz:$,len:B,minPointOffset:G=0,options:X,reversed:pe}=F,de=$?"width":"height",fe=$?"x":"y",ye=hi(g[de],F.len),me=hi(d[de],F.len),xe=10>Math.abs(ye)?1:ye/me,Ae=(d[fe]||0)+me/2-F.pos,Te=Ae-((g[fe]??F.pos)+ye/2-F.pos)/xe,We=pe&&!x||!pe&&x?-1:1;if(!u&&(Ae<0||Ae>F.len))continue;let Ge=F.chart.polar||F.isOrdinal?0:G*We||0,rt=F.toValue(Te,!0),Je=F.toValue(Te+B/xe,!0),lt=rt+Ge,Ke=Je-Ge,ct=F.allExtremes;if(f&&f[F.coll].push({axis:F,min:Math.min(rt,Je),max:Math.max(rt,Je)}),lt>Ke&&([lt,Ke]=[Ke,lt]),xe===1&&!u&&F.coll==="yAxis"&&!ct){for(let $r of F.series){let Vt=$r.getExtremes($r.getProcessedData(!0).modified.getColumn("y")||[],!0);ct??(ct={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),jl(Vt.dataMin)&&jl(Vt.dataMax)&&(ct.dataMin=Math.min(Vt.dataMin,ct.dataMin),ct.dataMax=Math.max(Vt.dataMax,ct.dataMax))}F.allExtremes=ct}let{dataMin:wt,dataMax:jt,min:Tt,max:Vr}=lo(F.getExtremes(),ct||{}),Ct=_.parse(X.min),It=_.parse(X.max),pt=wt??Ct,ht=jt??It,ur=Ke-lt,Dt=F.categories?0:Math.min(ur,ht-pt),Ht=pt-Dt*(ao(Ct)?0:X.minPadding),Tr=ht+Dt*(ao(It)?0:X.maxPadding),ws=F.allowZoomOutside||xe===1||m!=="zoom"&&xe>1,an=Math.min(Ct??Ht,Ht,ws?Tt:Ht),Xr=Math.max(It??Tr,Tr,ws?Vr:Tr);(!F.isOrdinal||xe!==1||u)&&(lt<an&&(lt=an,xe>=1&&(Ke=lt+ur)),Ke>Xr&&(Ke=Xr,xe>=1&&(lt=Ke-ur)),(u||F.series.length&&(lt!==Tt||Ke!==Vr)&&lt>=an&&Ke<=Xr)&&(f?f[F.coll].push({axis:F,min:lt,max:Ke}):(F.isPanning=m!=="zoom",F.isPanning&&(j=!0),F.setExtremes(u?void 0:lt,u?void 0:Ke,!1,!1,{move:Te,trigger:m,scale:xe}),!u&&(lt>an||Ke<Xr)&&m!=="mousewheel"&&(C=!0)),w=!0),this.hasCartesianSeries||u||m==="mousewheel"||(C=!0),l&&(this[$?"mouseDownX":"mouseDownY"]=l[$?"chartX":"chartY"]))}return w&&(f?Ot(this,"selection",f,()=>{delete i.selection,i.trigger="zoom",this.transform(i)}):(!C||j||this.resetZoomButton?!C&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(m==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),w}}lo(co.prototype,{callbacks:[],collectionsWithInit:{xAxis:[co.prototype.addAxis,[!0]],yAxis:[co.prototype.addAxis,[!1]],series:[co.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:UA}=jr,{composed:HA}=J,{addEvent:uo,createElement:hf,css:jv,defined:Av,erase:GA,merge:ww,pushUnique:kw}=Qe;function VA(){let b=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!b&&(this.scrollablePlotArea=b=new wd(this)),b==null||b.applyFixed()}function Sw(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class wd{static compose(i,o,l){kw(HA,this.compose)&&(uo(i,"afterInit",Sw),uo(o,"afterSetChartSize",d=>this.afterSetSize(d.target,d)),uo(o,"render",VA),uo(l,"show",Sw))}static afterSetSize(i,o){let l,d,u,{minWidth:f,minHeight:g}=i.options.chart.scrollablePlotArea||{},{clipBox:m,plotBox:x,inverted:_,renderer:w}=i;if(!w.forExport)if(f?(i.scrollablePixelsX=l=Math.max(0,f-i.chartWidth),l&&(i.scrollablePlotBox=ww(i.plotBox),x.width=i.plotWidth+=l,m[_?"height":"width"]+=l,u=!0)):g&&(i.scrollablePixelsY=d=Math.max(0,g-i.chartHeight),Av(d)&&(i.scrollablePlotBox=ww(i.plotBox),x.height=i.plotHeight+=d,m[_?"width":"height"]+=d,u=!1)),Av(u)){if(!o.skipAxes)for(let C of i.axes)(C.horiz===u||i.hasParallelCoordinates&&C.coll==="yAxis")&&(C.setAxisSize(),C.setAxisTranslation())}else delete i.scrollablePlotBox}constructor(i){var j;let o,l=i.options.chart,d=qi.getRendererType(),u=l.scrollablePlotArea||{},f=this.moveFixedElements.bind(this),g={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};i.scrollablePixelsX&&(g.overflowX="auto"),i.scrollablePixelsY&&(g.overflowY="auto"),this.chart=i;let m=this.parentDiv=hf("div",{className:"highcharts-scrolling-parent"},{position:"relative"},i.renderTo),x=this.scrollingContainer=hf("div",{className:"highcharts-scrolling"},g,m),_=this.innerContainer=hf("div",{className:"highcharts-inner-container"},void 0,x),w=this.fixedDiv=hf("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((j=l.style)==null?void 0:j.zIndex)||0)+2,top:0},void 0,!0),C=this.fixedRenderer=new d(w,i.chartWidth,i.chartHeight,l.style);this.mask=C.path().attr({fill:l.backgroundColor||"#fff","fill-opacity":u.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),x.parentNode.insertBefore(w,x),jv(i.renderTo,{overflow:"visible"}),uo(i,"afterShowResetZoom",f),uo(i,"afterApplyDrilldown",f),uo(i,"afterLayOutTitles",f),uo(x,"scroll",()=>{let{pointer:L,hoverPoint:F}=i;L&&(delete L.chartPosition,F&&(o=F),L.runPointActions(void 0,o,!0))}),_.appendChild(i.container)}applyFixed(){var Ae;let{chart:i,fixedRenderer:o,isDirty:l,scrollingContainer:d}=this,{axisOffset:u,chartWidth:f,chartHeight:g,container:m,plotHeight:x,plotLeft:_,plotTop:w,plotWidth:C,scrollablePixelsX:j=0,scrollablePixelsY:L=0}=i,{scrollPositionX:F=0,scrollPositionY:$=0}=i.options.chart.scrollablePlotArea||{},B=f+j,G=g+L;o.setSize(f,g),(l??!0)&&(this.isDirty=!1,this.moveFixedElements()),UA(i.container),jv(m,{width:`${B}px`,height:`${G}px`}),i.renderer.boxWrapper.attr({width:B,height:G,viewBox:[0,0,B,G].join(" ")}),(Ae=i.chartBackground)==null||Ae.attr({width:B,height:G}),jv(d,{width:`${f}px`,height:`${g}px`}),Av(l)||(d.scrollLeft=j*F,d.scrollTop=L*$);let X=w-u[0]-1,pe=_-u[3]-1,de=w+x+u[2]+1,fe=_+C+u[1]+1,ye=_+C-j,me=w+x-L,xe=[["M",0,0]];j?xe=[["M",0,X],["L",_-1,X],["L",_-1,de],["L",0,de],["Z"],["M",ye,X],["L",f,X],["L",f,de],["L",ye,de],["Z"]]:L&&(xe=[["M",pe,0],["L",pe,w-1],["L",fe,w-1],["L",fe,0],["Z"],["M",pe,me],["L",pe,g],["L",fe,g],["L",fe,me],["Z"]]),i.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:xe})}moveFixedElements(){let i,{container:o,inverted:l,scrollablePixelsX:d,scrollablePixelsY:u}=this.chart,f=this.fixedRenderer,g=wd.fixedSelectors;if(d&&!l?i=".highcharts-yaxis":d&&l||u&&!l?i=".highcharts-xaxis":u&&l&&(i=".highcharts-yaxis"),i&&!(this.chart.hasParallelCoordinates&&i===".highcharts-yaxis"))for(let m of[`${i}:not(.highcharts-radial-axis)`,`${i}-labels:not(.highcharts-radial-axis-labels)`])kw(g,m);else for(let m of[".highcharts-xaxis",".highcharts-yaxis"])for(let x of[`${m}:not(.highcharts-radial-axis)`,`${m}-labels:not(.highcharts-radial-axis-labels)`])GA(g,x);for(let m of g)[].forEach.call(o.querySelectorAll(m),x=>{(x.namespaceURI===f.SVG_NS?f.box:f.box.parentNode).appendChild(x),x.style.pointerEvents="auto"})}}wd.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:XA}=sr,{series:YA}=or,{destroyObjectProperties:qA,fireEvent:_w,getAlignFactor:Nv,isNumber:Tv,pick:kd}=Qe,Cw=class{constructor(b,i,o,l,d){let u=b.chart.inverted,f=b.reversed;this.axis=b;let g=this.isNegative=!!o!=!!f;this.options=i=i||{},this.x=l,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=d,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:i.align||(u?g?"left":"right":"center"),verticalAlign:i.verticalAlign||(u?"middle":g?"bottom":"top"),y:i.y,x:i.x},this.textAlign=i.textAlign||(u?g?"right":"left":"center")}destroy(){qA(this,this.axis)}render(b){let i=this.axis.chart,o=this.options,l=o.format,d=l?XA(l,this,i):o.formatter.call(this);if(this.label)this.label.attr({text:d,visibility:"hidden"});else{this.label=i.renderer.label(d,null,void 0,o.shape,void 0,void 0,o.useHTML,!1,"stack-labels");let u={r:o.borderRadius||0,text:d,padding:kd(o.padding,5),visibility:"hidden"};i.styledMode||(u.fill=o.backgroundColor,u.stroke=o.borderColor,u["stroke-width"]=o.borderWidth,this.label.css(o.style||{})),this.label.attr(u),this.label.added||this.label.add(b)}this.label.labelrank=i.plotSizeY,_w(this,"afterRender")}setOffset(b,i,o,l,d,u){let{alignOptions:f,axis:g,label:m,options:x,textAlign:_}=this,w=g.chart,C=this.getStackBox({xOffset:b,width:i,boxBottom:o,boxTop:l,defaultX:d,xAxis:u}),{verticalAlign:j}=f;if(m&&C){let L=m.getBBox(void 0,0),F=m.padding,$=kd(x.overflow,"justify")==="justify",B;f.x=x.x||0,f.y=x.y||0;let{x:G,y:X}=this.adjustStackPosition({labelBox:L,verticalAlign:j,textAlign:_});C.x-=G,C.y-=X,m.align(f,!1,C),(B=w.isInsidePlot(m.alignAttr.x+f.x+G,m.alignAttr.y+f.y+X))||($=!1),$&&YA.prototype.justifyDataLabel.call(g,m,f,m.alignAttr,L,C),m.attr({x:m.alignAttr.x,y:m.alignAttr.y,rotation:x.rotation,rotationOriginX:L.width*Nv(x.textAlign||"center"),rotationOriginY:L.height/2}),kd(!$&&x.crop,!0)&&(B=Tv(m.x)&&Tv(m.y)&&w.isInsidePlot(m.x-F+(m.width||0),m.y)&&w.isInsidePlot(m.x+F,m.y)),m[B?"show":"hide"]()}_w(this,"afterSetOffset",{xOffset:b,width:i})}adjustStackPosition({labelBox:b,verticalAlign:i,textAlign:o}){return{x:b.width/2+b.width/2*(2*Nv(o)-1),y:b.height/2*2*(1-Nv(i))}}getStackBox(b){let i=this.axis,o=i.chart,{boxTop:l,defaultX:d,xOffset:u,width:f,boxBottom:g}=b,m=i.stacking.usePercentage?100:kd(l,this.total,0),x=i.toPixels(m),_=b.xAxis||o.xAxis[0],w=kd(d,_.translate(this.x))+u,C=Math.abs(x-i.toPixels(g||Tv(i.min)&&i.logarithmic&&i.logarithmic.lin2log(i.min)||0)),j=o.inverted,L=this.isNegative;return j?{x:(L?x:x-C)-o.plotLeft,y:_.height-w-f+_.top-o.plotTop,width:C,height:f}:{x:w+_.transB-o.plotLeft,y:(L?x-C:x)-o.plotTop,width:f,height:C}}},{getDeferredAnimation:KA}=jr,{series:{prototype:ZA}}=or,{addEvent:Ew,correctFloat:Sd,defined:Mw,destroyObjectProperties:QA,fireEvent:JA,isNumber:Pv,objectEach:ha,pick:Ov}=Qe;function eN(){let b=this.inverted;this.axes.forEach(i=>{var o;(o=i.stacking)!=null&&o.stacks&&i.hasVisibleSeries&&(i.stacking.oldStacks=i.stacking.stacks)}),this.series.forEach(i=>{var l;let o=((l=i.xAxis)==null?void 0:l.options)||{};i.options.stacking&&i.reserveSpace()&&(i.stackKey=[i.type,Ov(i.options.stack,""),b?o.top:o.left,b?o.height:o.width].join(","))})}function tN(){var i;let b=this.stacking;if(b){let o=b.stacks;ha(o,(l,d)=>{QA(l),delete o[d]}),(i=b.stackTotalGroup)==null||i.destroy()}}function rN(){this.stacking||(this.stacking=new lN(this))}function iN(b,i,o,l){return!Mw(b)||b.x!==i||l&&b.stackKey!==l?b={x:i,index:0,key:l,stackKey:l}:b.index++,b.key=[o,i,b.index].join(","),b}function nN(){let b,i=this,o=i.yAxis,l=i.stackKey||"",d=o.stacking.stacks,u=i.getColumn("x",!0),f=i.options.stacking,g=i[f+"Stacker"];g&&[l,"-"+l].forEach(m=>{var j;let x=u.length,_,w,C;for(;x--;)_=u[x],b=i.getStackIndicator(b,_,i.index,m),w=(j=d[m])==null?void 0:j[_],(C=w==null?void 0:w.points[b.key||""])&&g.call(i,C,w,x)})}function sN(b,i,o){let l=i.total?100/i.total:0;b[0]=Sd(b[0]*l),b[1]=Sd(b[1]*l),this.stackedYData[o]=b[1]}function oN(b){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?ZA.setStackedPoints.call(this,b,"group"):b.stacking.resetStacks())}function aN(b,i){var me,xe;let o,l,d,u,f,g,m,x=i||this.options.stacking;if(!x||!this.reserveSpace()||({group:"xAxis"}[x]||"yAxis")!==b.coll)return;let _=this.getColumn("x",!0),w=this.getColumn(this.pointValKey||"y",!0),C=[],j=w.length,L=this.options,F=L.threshold||0,$=L.startFromThreshold?F:0,B=L.stack,G=i?`${this.type},${x}`:this.stackKey||"",X="-"+G,pe=this.negStacks,de=b.stacking,fe=de.stacks,ye=de.oldStacks;for(de.stacksTouched+=1,m=0;m<j;m++){let Ae=_[m]||0,Te=w[m],We=Pv(Te)&&Te||0;g=(o=this.getStackIndicator(o,Ae,this.index)).key||"",fe[f=(l=pe&&We<($?0:F))?X:G]||(fe[f]={}),fe[f][Ae]||((me=ye[f])!=null&&me[Ae]?(fe[f][Ae]=ye[f][Ae],fe[f][Ae].total=null):fe[f][Ae]=new Cw(b,b.options.stackLabels,!!l,Ae,B)),d=fe[f][Ae],Te!==null?(d.points[g]=d.points[this.index]=[Ov(d.cumulative,$)],Mw(d.cumulative)||(d.base=g),d.touched=de.stacksTouched,o.index>0&&this.singleStacks===!1&&(d.points[g][0]=d.points[this.index+","+Ae+",0"][0])):(delete d.points[g],delete d.points[this.index]);let Ge=d.total||0;x==="percent"?(u=l?G:X,Ge=pe&&((xe=fe[u])!=null&&xe[Ae])?(u=fe[u][Ae]).total=Math.max(u.total||0,Ge)+Math.abs(We):Sd(Ge+Math.abs(We))):x==="group"?Pv(Te)&&Ge++:Ge=Sd(Ge+We),x==="group"?d.cumulative=(Ge||1)-1:d.cumulative=Sd(Ov(d.cumulative,$)+We),d.total=Ge,Te!==null&&(d.points[g].push(d.cumulative),C[m]=d.cumulative,d.hasValidPoints=!0)}x==="percent"&&(de.usePercentage=!0),x!=="group"&&(this.stackedYData=C),de.oldStacks={}}class lN{constructor(i){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=i}buildStacks(){let i,o,l=this.axis,d=l.series,u=l.coll==="xAxis",f=l.options.reversedStacks,g=d.length;for(this.resetStacks(),this.usePercentage=!1,o=g;o--;)i=d[f?o:g-o-1],u&&i.setGroupedPoints(l),i.setStackedPoints(l);if(!u)for(o=0;o<g;o++)d[o].modifyStacks();JA(l,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,ha(this.stacks,i=>{ha(i,o=>{o.cumulative=o.total})}))}resetStacks(){ha(this.stacks,i=>{ha(i,(o,l)=>{Pv(o.touched)&&o.touched<this.stacksTouched?(o.destroy(),delete i[l]):(o.total=null,o.cumulative=null)})})}renderStackTotals(){var g;let i=this.axis,o=i.chart,l=o.renderer,d=this.stacks,u=KA(o,((g=i.options.stackLabels)==null?void 0:g.animation)||!1),f=this.stackTotalGroup=this.stackTotalGroup||l.g("stack-labels").attr({zIndex:6,opacity:0}).add();f.translate(o.plotLeft,o.plotTop),ha(d,m=>{ha(m,x=>{x.render(f)})}),f.animate({opacity:1},u)}}(D||(D={})).compose=function(b,i,o){let l=i.prototype,d=o.prototype;l.getStacks||(Ew(b,"init",rN),Ew(b,"destroy",tN),l.getStacks=eN,d.getStackIndicator=iN,d.modifyStacks=nN,d.percentStacker=sN,d.setGroupedPoints=oN,d.setStackedPoints=aN)};let cN=D,{defined:dN,merge:jw,isObject:uN}=Qe;class Aw extends Si{drawGraph(){let i=this.options,o=(this.gappedPath||this.getGraphPath).call(this),l=this.chart.styledMode;[this,...this.zones].forEach((d,u)=>{let f,g=d.graph,m=g?"animate":"attr",x=d.dashStyle||i.dashStyle;g?(g.endX=this.preventGraphAnimation?null:o.xMap,g.animate({d:o})):o.length&&(d.graph=g=this.chart.renderer.path(o).addClass("highcharts-graph"+(u?` highcharts-zone-graph-${u-1} `:" ")+(u&&d.className||"")).attr({zIndex:1}).add(this.group)),g&&!l&&(f={stroke:!u&&i.lineColor||d.color||this.color||"#cccccc","stroke-width":i.lineWidth||0,fill:this.fillGraph&&this.color||"none"},x?f.dashstyle=x:i.linecap!=="square"&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),g[m](f).shadow(i.shadow&&jw({filterUnits:"userSpaceOnUse"},uN(i.shadow)?i.shadow:{}))),g&&(g.startX=o.xMap,g.isArea=o.isArea)})}getGraphPath(i,o,l){let d=this,u=d.options,f=[],g=[],m,x=u.step,_=(i=i||d.points).reversed;return _&&i.reverse(),(x={right:1,center:2}[x]||x&&3)&&_&&(x=4-x),(i=this.getValidPoints(i,!1,u.nullInteraction||!(u.connectNulls&&!o&&!l))).forEach(function(w,C){let j,L=w.plotX,F=w.plotY,$=i[C-1],B=w.isNull||typeof F!="number";(w.leftCliff||$!=null&&$.rightCliff)&&!l&&(m=!0),B&&!dN(o)&&C>0?m=!u.connectNulls:B&&!o?m=!0:(C===0||m?j=[["M",w.plotX,w.plotY]]:d.getPointSpline?j=[d.getPointSpline(i,w,C)]:x?(j=x===1?[["L",$.plotX,F]]:x===2?[["L",($.plotX+L)/2,$.plotY],["L",($.plotX+L)/2,F]]:[["L",L,$.plotY]]).push(["L",L,F]):j=[["L",L,F]],g.push(w.x),x&&(g.push(w.x),x===2&&g.push(w.x)),f.push.apply(f,j),m=!1)}),f.xMap=g,d.graphPath=f,f}}Aw.defaultOptions=jw(Si.defaultOptions,{legendSymbol:"lineMarker"}),or.registerSeriesType("line",Aw);let{seriesTypes:{line:Rv}}=or,{extend:hN,merge:fN,objectEach:pN,pick:ff}=Qe;class Lv extends Rv{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:i,options:o}=this;[this,...this.zones].forEach((l,d)=>{let u={},f=l.fillColor||o.fillColor,g=l.area,m=g?"animate":"attr";g?(g.endX=this.preventGraphAnimation?null:i.xMap,g.animate({d:i})):(u.zIndex=0,(g=l.area=this.chart.renderer.path(i).addClass("highcharts-area"+(d?` highcharts-zone-area-${d-1} `:" ")+(d&&l.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(u.fill=f||l.color||this.color,u["fill-opacity"]=f?1:o.fillOpacity??.75,g.css({pointerEvents:this.stickyTracking?"none":"auto"})),g[m](u),g.startX=i.xMap,g.shiftUnit=o.step?2:1})}getGraphPath(i){let o,l,d,u=Rv.prototype.getGraphPath,f=this.options,g=f.stacking,m=this.yAxis,x=[],_=[],w=this.index,C=m.stacking.stacks[this.stackKey],j=f.threshold,L=Math.round(m.getThreshold(f.threshold)),F=ff(f.connectNulls,g==="percent"),$=function(fe,ye,me){let xe=i[fe],Ae=g&&C[xe.x].points[w],Te=xe[me+"Null"]||0,We=xe[me+"Cliff"]||0,Ge,rt,Je=!0;We||Te?(Ge=(Te?Ae[0]:Ae[1])+We,rt=Ae[0]+We,Je=!!Te):!g&&i[ye]&&i[ye].isNull&&(Ge=rt=j),Ge!==void 0&&(_.push({plotX:o,plotY:Ge===null?L:m.getThreshold(Ge),isNull:Je,isCliff:!0}),x.push({plotX:o,plotY:rt===null?L:m.getThreshold(rt),doCurve:!1}))};i=i||this.points,g&&(i=this.getStackPoints(i));for(let fe=0,ye=i.length;fe<ye;++fe)g||(i[fe].leftCliff=i[fe].rightCliff=i[fe].leftNull=i[fe].rightNull=void 0),l=i[fe].isNull,o=ff(i[fe].rectPlotX,i[fe].plotX),d=g?ff(i[fe].yBottom,L):L,(!l||F)&&(F||$(fe,fe-1,"left"),l&&!g&&F||(_.push(i[fe]),x.push({x:fe,plotX:o,plotY:d})),F||$(fe,fe+1,"right"));let B=u.call(this,_,!0,!0);x.reversed=!0;let G=u.call(this,x,!0,!0),X=G[0];X&&X[0]==="M"&&(G[0]=["L",X[1],X[2]]);let pe=B.concat(G);pe.length&&pe.push(["Z"]);let de=u.call(this,_,!1,F);return this.chart.series.length>1&&g&&_.some(fe=>fe.isCliff)&&(pe.hasStackedCliffs=de.hasStackedCliffs=!0),pe.xMap=B.xMap,this.areaPath=pe,de}getStackPoints(i){let o=this,l=[],d=[],u=this.xAxis,f=this.yAxis,g=f.stacking.stacks[this.stackKey],m={},x=f.series,_=x.length,w=f.options.reversedStacks?1:-1,C=x.indexOf(o);if(i=i||this.points,this.options.stacking){for(let L=0;L<i.length;L++)i[L].leftNull=i[L].rightNull=void 0,m[i[L].x]=i[L];pN(g,function(L,F){L.total!==null&&d.push(F)}),d.sort(function(L,F){return L-F});let j=x.map(L=>L.visible);d.forEach(function(L,F){let $=0,B,G;if(m[L]&&!m[L].isNull)l.push(m[L]),[-1,1].forEach(function(X){let pe=X===1?"rightNull":"leftNull",de=g[d[F+X]],fe=0;if(de){let ye=C;for(;ye>=0&&ye<_;){let me=x[ye].index;!(B=de.points[me])&&(me===o.index?m[L][pe]=!0:j[ye]&&(G=g[L].points[me])&&(fe-=G[1]-G[0])),ye+=w}}m[L][X===1?"rightCliff":"leftCliff"]=fe});else{let X=C;for(;X>=0&&X<_;){let pe=x[X].index;if(B=g[L].points[pe]){$=B[1];break}X+=w}$=ff($,0),$=f.translate($,0,1,0,1),l.push({isNull:!0,plotX:u.translate(L,0,0,0,1),x:L,plotY:$,yBottom:$})}})}return l}}Lv.defaultOptions=fN(Rv.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),hN(Lv.prototype,{singleStacks:!1}),or.registerSeriesType("area",Lv);let{line:Nw}=or.seriesTypes,{merge:gN,pick:pf}=Qe;class Iv extends Nw{getPointSpline(i,o,l){let d,u,f,g,m=o.plotX||0,x=o.plotY||0,_=i[l-1],w=i[l+1];function C(L){return L&&!L.isNull&&L.doCurve!==!1&&!o.isCliff}if(C(_)&&C(w)){let L=_.plotX||0,F=_.plotY||0,$=w.plotX||0,B=w.plotY||0,G=0;d=(1.5*m+L)/2.5,u=(1.5*x+F)/2.5,f=(1.5*m+$)/2.5,g=(1.5*x+B)/2.5,f!==d&&(G=(g-u)*(f-m)/(f-d)+x-g),u+=G,g+=G,u>F&&u>x?(u=Math.max(F,x),g=2*x-u):u<F&&u<x&&(u=Math.min(F,x),g=2*x-u),g>B&&g>x?(g=Math.max(B,x),u=2*x-g):g<B&&g<x&&(g=Math.min(B,x),u=2*x-g),o.rightContX=f,o.rightContY=g,o.controlPoints={low:[d,u],high:[f,g]}}let j=["C",pf(_.rightContX,_.plotX,0),pf(_.rightContY,_.plotY,0),pf(d,m,0),pf(u,x,0),m,x];return _.rightContX=_.rightContY=void 0,j}}Iv.defaultOptions=gN(Nw.defaultOptions),or.registerSeriesType("spline",Iv);let Tw=Iv,{area:mN,area:{prototype:Dv}}=or.seriesTypes,{extend:vN,merge:xN}=Qe;class Bv extends Tw{}Bv.defaultOptions=xN(Tw.defaultOptions,mN.defaultOptions),vN(Bv.prototype,{getGraphPath:Dv.getGraphPath,getStackPoints:Dv.getStackPoints,drawGraph:Dv.drawGraph}),or.registerSeriesType("areaspline",Bv);let{animObject:yN}=jr,{parse:bN}=Wt,{noop:wN}=J,{clamp:gf,crisp:mf,defined:Pw,extend:Ow,fireEvent:Rw,isArray:Lw,isNumber:vf,merge:$v,pick:_d,objectEach:kN}=Qe;class xf extends Si{animate(i){let o,l,d=this,u=this.yAxis,f=u.pos,g=u.reversed,m=d.options,{clipOffset:x,inverted:_}=this.chart,w={},C=_?"translateX":"translateY";i&&x?(w.scaleY=.001,l=gf(u.toPixels(m.threshold||0),f,f+u.len),_?w.translateX=(l+=g?-Math.floor(x[0]):Math.ceil(x[2]))-u.len:w.translateY=l+=g?Math.ceil(x[0]):-Math.floor(x[2]),d.clipBox&&d.setClip(),d.group.attr(w)):(o=Number(d.group.attr(C)),d.group.animate({scaleY:1},Ow(yN(d.options.animation),{step:function(j,L){d.group&&(w[C]=o+L.pos*(f-o),d.group.attr(w))}})))}init(i,o){super.init.apply(this,arguments);let l=this;(i=l.chart).hasRendered&&i.series.forEach(function(d){d.type===l.type&&(d.isDirty=!0)})}getColumnMetrics(){var F,$;let i=this,o=i.options,l=i.xAxis,d=i.yAxis,u=l.options.reversedStacks,f=l.reversed&&!u||!l.reversed&&u,g={},m,x=0;o.grouping===!1?x=1:i.chart.series.forEach(function(B){let G,X=B.yAxis,pe=B.options;B.type===i.type&&B.reserveSpace()&&d.len===X.len&&d.pos===X.pos&&(pe.stacking&&pe.stacking!=="group"?(g[m=B.stackKey]===void 0&&(g[m]=x++),G=g[m]):pe.grouping!==!1&&(G=x++),B.columnIndex=G)});let _=Math.min(Math.abs(l.transA)*(!((F=l.brokenAxis)!=null&&F.hasBreaks)&&(($=l.ordinal)==null?void 0:$.slope)||o.pointRange||l.closestPointRange||l.tickInterval||1),l.len),w=_*o.groupPadding,C=(_-2*w)/(x||1),j=Math.min(o.maxPointWidth||l.len,_d(o.pointWidth,C*(1-2*o.pointPadding))),L=(i.columnIndex||0)+ +!!f;return i.columnMetrics={width:j,offset:(C-j)/2+(w+L*C-_/2)*(f?-1:1),paddedWidth:C,columnCount:x},i.columnMetrics}crispCol(i,o,l,d){let u=this.borderWidth,f=this.chart.inverted;return d=mf(o+d,u,f)-(o=mf(o,u,f)),this.options.crisp&&(l=mf(i+l,u)-(i=mf(i,u))),{x:i,y:o,width:l,height:d}}adjustForMissingColumns(i,o,l,d){var u;if(!l.isNull&&d.columnCount>1){let f=this.xAxis.series.filter(_=>_.visible).map(_=>_.index),g=0,m=0;kN((u=this.xAxis.stacking)==null?void 0:u.stacks,_=>{var L;let w=typeof l.x=="number"?(L=_[l.x.toString()])==null?void 0:L.points:void 0,C=w==null?void 0:w[this.index],j={};if(w&&Lw(C)){let F=this.index,$=Object.keys(w).filter(B=>!B.match(",")&&w[B]&&w[B].length>1).map(parseFloat).filter(B=>f.indexOf(B)!==-1).filter(B=>{let G=this.chart.series[B].options,X=G.stacking&&G.stack;if(Pw(X)){if(vf(j[X]))return F===B&&(F=j[X]),!1;j[X]=B}return!0}).sort((B,G)=>G-B);g=$.indexOf(F),m=$.length}}),g=this.xAxis.reversed?m-1-g:g;let x=(m-1)*d.paddedWidth+o;i=(l.plotX||0)+x/2-o-g*d.paddedWidth}return i}translate(){let i=this,o=i.chart,l=i.options,d=i.dense=i.closestPointRange*i.xAxis.transA<2,u=i.borderWidth=_d(l.borderWidth,+!d),f=i.xAxis,g=i.yAxis,m=l.threshold,x=_d(l.minPointLength,5),_=i.getColumnMetrics(),w=_.width,C=i.pointXOffset=_.offset,j=i.dataMin,L=i.dataMax,F=i.translatedThreshold=g.getThreshold(m),$=i.barW=Math.max(w,1+2*u);l.pointPadding&&l.crisp&&($=Math.ceil($)),Si.prototype.translate.apply(i),i.points.forEach(function(B){let G=_d(B.yBottom,F),X=999+Math.abs(G),pe=B.plotX||0,de=gf(B.plotY,-X,g.len+X),fe,ye=Math.min(de,G),me=Math.max(de,G)-ye,xe=w,Ae=pe+C,Te=$;x&&Math.abs(me)<x&&(me=x,fe=!g.reversed&&!B.negative||g.reversed&&B.negative,vf(m)&&vf(L)&&B.y===m&&L<=m&&(g.min||0)<m&&(j!==L||(g.max||0)<=m)&&(fe=!fe,B.negative=!B.negative),ye=Math.abs(ye-F)>x?G-x:F-(fe?x:0)),Pw(B.options.pointWidth)&&(Ae-=Math.round(((xe=Te=Math.ceil(B.options.pointWidth))-w)/2)),l.centerInCategory&&(Ae=i.adjustForMissingColumns(Ae,xe,B,_)),B.barX=Ae,B.pointWidth=xe,B.tooltipPos=o.inverted?[gf(g.len+g.pos-o.plotLeft-de,g.pos-o.plotLeft,g.len+g.pos-o.plotLeft),f.len+f.pos-o.plotTop-Ae-Te/2,me]:[f.left-o.plotLeft+Ae+Te/2,gf(de+g.pos-o.plotTop,g.pos-o.plotTop,g.len+g.pos-o.plotTop),me],B.shapeType=i.pointClass.prototype.shapeType||"roundedRect",B.shapeArgs=i.crispCol(Ae,ye,Te,B.isNull?0:me)}),Rw(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(i,o){let l=this.options,d=this.pointAttrToOptions||{},u=d.stroke||"borderColor",f=d["stroke-width"]||"borderWidth",g,m,x,_=i&&i.color||this.color,w=i&&i[u]||l[u]||_,C=i&&i.options.dashStyle||l.dashStyle,j=i&&i[f]||l[f]||this[f]||0,L=i!=null&&i.isNull&&l.nullInteraction?0:(i==null?void 0:i.opacity)??l.opacity??1;i&&this.zones.length&&(m=i.getZone(),_=i.options.color||m&&(m.color||i.nonZonedColor)||this.color,m&&(w=m.borderColor||w,C=m.dashStyle||C,j=m.borderWidth||j)),o&&i&&(x=(g=$v(l.states[o],i.options.states&&i.options.states[o]||{})).brightness,_=g.color||x!==void 0&&bN(_).brighten(g.brightness).get()||_,w=g[u]||w,j=g[f]||j,C=g.dashStyle||C,L=_d(g.opacity,L));let F={fill:_,stroke:w,"stroke-width":j,opacity:L};return C&&(F.dashstyle=C),F}drawPoints(i=this.points){let o,l=this,d=this.chart,u=l.options,f=u.nullInteraction,g=d.renderer,m=u.animationLimit||250;i.forEach(function(x){let _=x.plotY,w=x.graphic,C=!!w,j=w&&d.pointCount<m?"animate":"attr";vf(_)&&(x.y!==null||f)?(o=x.shapeArgs,w&&x.hasNewShapeType()&&(w=w.destroy()),l.enabledDataSorting&&(x.startXPos=l.xAxis.reversed?-(o&&o.width||0):l.xAxis.width),!w&&(x.graphic=w=g[x.shapeType](o).add(x.group||l.group),w&&l.enabledDataSorting&&d.hasRendered&&d.pointCount<m&&(w.attr({x:x.startXPos}),C=!0,j="animate")),w&&C&&w[j]($v(o)),d.styledMode||w[j](l.pointAttribs(x,x.selected&&"select")).shadow(x.allowShadow!==!1&&u.shadow),w&&(w.addClass(x.getClassName(),!0),w.attr({visibility:x.visible?"inherit":"hidden"}))):w&&(x.graphic=w.destroy())})}drawTracker(i=this.points){let o,l=this,d=l.chart,u=d.pointer,f=function(g){u==null||u.normalize(g);let m=u==null?void 0:u.getPointFromEvent(g);u&&m&&l.options.enableMouseTracking&&(d.isInsidePlot(g.chartX-d.plotLeft,g.chartY-d.plotTop,{visiblePlotOnly:!0})||u!=null&&u.inClass(g.target,"highcharts-data-label"))&&(u.isDirectTouch=!0,m.onMouseOver(g))};i.forEach(function(g){o=Lw(g.dataLabels)?g.dataLabels:g.dataLabel?[g.dataLabel]:[],g.graphic&&(g.graphic.element.point=g),o.forEach(function(m){(m.div||m.element).point=g})}),l._hasTracking||(l.trackerGroups.forEach(function(g){l[g]&&(l[g].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(m){u==null||u.onTrackerMouseOut(m)}).on("touchstart",f),!d.styledMode&&l.options.cursor&&l[g].css({cursor:l.options.cursor}))}),l._hasTracking=!0),Rw(this,"afterDrawTracker")}remove(){let i=this,o=i.chart;o.hasRendered&&o.series.forEach(function(l){l.type===i.type&&(l.isDirty=!0)}),Si.prototype.remove.apply(i,arguments)}}xf.defaultOptions=$v(Si.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Ow(xf.prototype,{directTouch:!0,getSymbol:wN,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),or.registerSeriesType("column",xf);let yf=xf,{getDeferredAnimation:SN}=jr,{format:_N}=sr,{defined:fa,extend:Iw,fireEvent:zv,getAlignFactor:Dw,isArray:ho,isString:Cd,merge:Ed,objectEach:CN,pick:Md,pInt:EN,splat:Bw}=Qe;(function(b){function i(){return m(this).some(_=>_==null?void 0:_.enabled)}function o(_,w,C,j,L){var Ae;let{chart:F,enabledDataSorting:$}=this,B=this.isCartesian&&F.inverted,G=_.plotX,X=_.plotY,pe=C.rotation||0,de=fa(G)&&fa(X)&&F.isInsidePlot(G,Math.round(X),{inverted:B,paneCoordinates:!0,series:this}),fe=pe===0&&Md(C.overflow,$?"none":"justify")==="justify",ye=this.visible&&_.visible!==!1&&fa(G)&&(_.series.forceDL||$&&!fe||de||Md(C.inside,!!this.options.stacking)&&j&&F.isInsidePlot(G,B?j.x+1:j.y+j.height-1,{inverted:B,paneCoordinates:!0,series:this})),me=_.pos();if(ye&&me){var xe;let Te=w.getBBox(),We=w.getBBox(void 0,0);if(j=Iw({x:me[0],y:Math.round(me[1]),width:0,height:0},j||{}),C.alignTo==="plotEdges"&&this.isCartesian&&(j[B?"x":"y"]=0,j[B?"width":"height"]=((Ae=this.yAxis)==null?void 0:Ae.len)||0),Iw(C,{width:Te.width,height:Te.height}),xe=j,$&&this.xAxis&&!fe&&this.setDataLabelStartPos(_,w,L,de,xe),w.align(Ed(C,{width:We.width,height:We.height}),!1,j,!1),w.alignAttr.x+=Dw(C.align)*(We.width-Te.width),w.alignAttr.y+=Dw(C.verticalAlign)*(We.height-Te.height),w[w.placed?"animate":"attr"]({"text-align":w.alignAttr["text-align"]||"center",x:w.alignAttr.x+(Te.width-We.width)/2,y:w.alignAttr.y+(Te.height-We.height)/2,rotationOriginX:(w.width||0)/2,rotationOriginY:(w.height||0)/2}),fe&&j.height>=0)this.justifyDataLabel(w,C,w.alignAttr,Te,j,L);else if(Md(C.crop,!0)){let{x:Ge,y:rt}=w.alignAttr;ye=F.isInsidePlot(Ge,rt,{paneCoordinates:!0,series:this})&&F.isInsidePlot(Ge+Te.width-1,rt+Te.height-1,{paneCoordinates:!0,series:this})}C.shape&&!pe&&w[L?"attr":"animate"]({anchorX:me[0],anchorY:me[1]})}L&&$&&(w.placed=!1),ye||$&&!fe?(w.show(),w.placed=!0):(w.hide(),w.placed=!1)}function l(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function d(_){let w=this.hasRendered||0,C=this.initDataLabelsGroup().attr({opacity:+w});return!w&&C&&(this.visible&&C.show(),this.options.animation?C.animate({opacity:1},_):C.attr({opacity:1})),C}function u(_){var ye;let w;_=_||this.points;let C=this,j=C.chart,L=C.options,F=j.renderer,{backgroundColor:$,plotBackgroundColor:B}=j.options.chart,G=F.getContrast(Cd(B)&&B||Cd($)&&$||"#000000"),X=m(C),{animation:pe,defer:de}=X[0],fe=de?SN(j,pe,C):{defer:0,duration:0};zv(this,"drawDataLabels"),(ye=C.hasDataLabels)!=null&&ye.call(C)&&(w=this.initDataLabels(fe),_.forEach(me=>{var We,Ge,rt;let xe=me.dataLabels||[],Ae=me.color||C.color;Bw(g(X,me.dlOptions||((We=me.options)==null?void 0:We.dataLabels))).forEach((Je,lt)=>{var Ht;let Ke=Je.enabled&&(me.visible||me.dataLabelOnHidden)&&(!me.isNull||me.dataLabelOnNull)&&function(Tr,ws){let an=ws.filter;if(an){let Xr=an.operator,$r=Tr[an.property],Vt=an.value;return Xr===">"&&$r>Vt||Xr==="<"&&$r<Vt||Xr===">="&&$r>=Vt||Xr==="<="&&$r<=Vt||Xr==="=="&&$r==Vt||Xr==="==="&&$r===Vt||Xr==="!="&&$r!=Vt||Xr==="!=="&&$r!==Vt||!1}return!0}(me,Je),{backgroundColor:ct,borderColor:wt,distance:jt,style:Tt={}}=Je,Vr,Ct,It,pt={},ht=xe[lt],ur=!ht,Dt;Ke&&(Ct=fa(Vr=Md(Je[me.formatPrefix+"Format"],Je.format))?_N(Vr,me,j):(Je[me.formatPrefix+"Formatter"]||Je.formatter).call(me,Je),It=Je.rotation,!j.styledMode&&(Tt.color=Md(Je.color,Tt.color,Cd(C.color)?C.color:void 0,"#000000"),Tt.color==="contrast"?(ct!=="none"&&(Dt=ct),me.contrastColor=F.getContrast(Dt!=="auto"&&Cd(Dt)&&Dt||(Cd(Ae)?Ae:"")),Tt.color=Dt||!fa(jt)&&Je.inside||0>EN(jt||0)||L.stacking?me.contrastColor:G):delete me.contrastColor,L.cursor&&(Tt.cursor=L.cursor)),pt={r:Je.borderRadius||0,rotation:It,padding:Je.padding,zIndex:1},j.styledMode||(pt.fill=ct==="auto"?me.color:ct,pt.stroke=wt==="auto"?me.color:wt,pt["stroke-width"]=Je.borderWidth),CN(pt,(Tr,ws)=>{Tr===void 0&&delete pt[ws]})),!ht||Ke&&fa(Ct)&&!!(ht.div||(Ht=ht.text)!=null&&Ht.foreignObject)==!!Je.useHTML&&(ht.rotation&&Je.rotation||ht.rotation===Je.rotation)||(ht=void 0,ur=!0),Ke&&fa(Ct)&&Ct!==""&&(ht?pt.text=Ct:(ht=F.label(Ct,0,0,Je.shape,void 0,void 0,Je.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+me.colorIndex+" "+(Je.className||"")+(Je.useHTML?" highcharts-tracker":"")),ht&&(ht.options=Je,ht.attr(pt),j.styledMode?Tt.width&&ht.css({width:Tt.width,textOverflow:Tt.textOverflow,whiteSpace:Tt.whiteSpace}):ht.css(Tt).shadow(Je.shadow),zv(ht,"beforeAddingDataLabel",{labelOptions:Je,point:me}),ht.added||ht.add(w),C.alignDataLabel(me,ht,Je,void 0,ur),ht.isActive=!0,xe[lt]&&xe[lt]!==ht&&xe[lt].destroy(),xe[lt]=ht))});let Te=xe.length;for(;Te--;)(Ge=xe[Te])!=null&&Ge.isActive?xe[Te].isActive=!1:((rt=xe[Te])==null||rt.destroy(),xe.splice(Te,1));me.dataLabel=xe[0],me.dataLabels=xe})),zv(this,"afterDrawDataLabels")}function f(_,w,C,j,L,F){let $=this.chart,B=w.align,G=w.verticalAlign,X=_.box?0:_.padding||0,pe=$.inverted?this.yAxis:this.xAxis,de=pe?pe.left-$.plotLeft:0,fe=$.inverted?this.xAxis:this.yAxis,ye=fe?fe.top-$.plotTop:0,{x:me=0,y:xe=0}=w,Ae,Te;return(Ae=(C.x||0)+X+de)<0&&(B==="right"&&me>=0?(w.align="left",w.inside=!0):me-=Ae,Te=!0),(Ae=(C.x||0)+j.width-X+de)>$.plotWidth&&(B==="left"&&me<=0?(w.align="right",w.inside=!0):me+=$.plotWidth-Ae,Te=!0),(Ae=C.y+X+ye)<0&&(G==="bottom"&&xe>=0?(w.verticalAlign="top",w.inside=!0):xe-=Ae,Te=!0),(Ae=(C.y||0)+j.height-X+ye)>$.plotHeight&&(G==="top"&&xe<=0?(w.verticalAlign="bottom",w.inside=!0):xe+=$.plotHeight-Ae,Te=!0),Te&&(w.x=me,w.y=xe,_.placed=!F,_.align(w,void 0,L)),Te}function g(_,w){let C=[],j;if(ho(_)&&!ho(w))C=_.map(function(L){return Ed(L,w)});else if(ho(w)&&!ho(_))C=w.map(function(L){return Ed(_,L)});else if(ho(_)||ho(w)){if(ho(_)&&ho(w))for(j=Math.max(_.length,w.length);j--;)C[j]=Ed(_[j],w[j])}else C=Ed(_,w);return C}function m(_){var C,j;let w=_.chart.options.plotOptions;return Bw(g(g((C=w==null?void 0:w.series)==null?void 0:C.dataLabels,(j=w==null?void 0:w[_.type])==null?void 0:j.dataLabels),_.options.dataLabels))}function x(_,w,C,j,L){let F=this.chart,$=F.inverted,B=this.xAxis,G=B.reversed,X=(($?w.height:w.width)||0)/2,pe=_.pointWidth,de=pe?pe/2:0;w.startXPos=$?L.x:G?-X-de:B.width-X+de,w.startYPos=$?G?this.yAxis.height-X+de:-X-de:L.y,j?w.visibility==="hidden"&&(w.show(),w.attr({opacity:0}).animate({opacity:1})):w.attr({opacity:1}).animate({opacity:0},void 0,w.hide),F.hasRendered&&(C&&w.attr({x:w.startXPos,y:w.startYPos}),w.placed=!0)}b.compose=function(_){let w=_.prototype;w.initDataLabels||(w.initDataLabels=d,w.initDataLabelsGroup=l,w.alignDataLabel=o,w.drawDataLabels=u,w.justifyDataLabel=f,w.mergeArrays=g,w.setDataLabelStartPos=x,w.hasDataLabels=i)}})(R||(R={}));let bf=R,{composed:MN}=J,{series:$w}=or,{merge:jN,pushUnique:AN}=Qe;(function(b){function i(o,l,d,u,f){var F,$;let{chart:g,options:m}=this,x=g.inverted,_=((F=this.xAxis)==null?void 0:F.len)||g.plotSizeX||0,w=(($=this.yAxis)==null?void 0:$.len)||g.plotSizeY||0,C=o.dlBox||o.shapeArgs,j=o.below??(o.plotY||0)>(this.translatedThreshold??w),L=d.inside??!!m.stacking;if(C){if(u=jN(C),d.overflow!=="allow"||d.crop!==!1||m.clip!==!1){u.y<0&&(u.height+=u.y,u.y=0);let B=u.y+u.height-w;B>0&&B<u.height-1&&(u.height-=B)}x&&(u={x:w-u.y-u.height,y:_-u.x-u.width,width:u.height,height:u.width}),L||(x?(u.x+=j?0:u.width,u.width=0):(u.y+=j?u.height:0,u.height=0))}d.align??(d.align=!x||L?"center":j?"right":"left"),d.verticalAlign??(d.verticalAlign=x||L?"middle":j?"top":"bottom"),$w.prototype.alignDataLabel.call(this,o,l,d,u,f),d.inside&&o.contrastColor&&l.css({color:o.contrastColor})}b.compose=function(o){bf.compose($w),AN(MN,"ColumnDataLabel")&&(o.prototype.alignDataLabel=i)}})(I||(I={}));let NN=I,{extend:TN,merge:PN}=Qe;class Fv extends yf{}Fv.defaultOptions=PN(yf.defaultOptions,{}),TN(Fv.prototype,{inverted:!0}),or.registerSeriesType("bar",Fv);let{column:ON,line:zw}=or.seriesTypes,{addEvent:RN,extend:LN,merge:IN}=Qe;class wf extends zw{applyJitter(){let i=this,o=this.options.jitter,l=this.points.length;o&&this.points.forEach(function(d,u){["x","y"].forEach(function(f,g){if(o[f]&&!d.isNull){let m=`plot${f.toUpperCase()}`,x=i[`${f}Axis`],_=o[f]*x.transA;if(x&&!x.logarithmic){let w=Math.max(0,(d[m]||0)-_),C=Math.min(x.len,(d[m]||0)+_);d[m]=w+(C-w)*function(j){let L=1e4*Math.sin(j);return L-Math.floor(L)}(u+g*l),f==="x"&&(d.clientX=d.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}wf.defaultOptions=IN(zw.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),LN(wf.prototype,{drawTracker:ON.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),RN(wf,"afterTranslate",function(){this.applyJitter()}),or.registerSeriesType("scatter",wf);let{deg2rad:Fw}=J,{fireEvent:DN,isNumber:Wv,pick:kf,relativeLength:BN}=Qe;(function(b){b.getCenter=function(){let i=this.options,o=this.chart,l=2*(i.slicedOffset||0),d=o.plotWidth-2*l,u=o.plotHeight-2*l,f=i.center,g=Math.min(d,u),m=i.thickness,x,_=i.size,w=i.innerSize||0,C,j;typeof _=="string"&&(_=parseFloat(_)),typeof w=="string"&&(w=parseFloat(w));let L=[kf(f==null?void 0:f[0],"50%"),kf(f==null?void 0:f[1],"50%"),kf(_&&_<0?void 0:i.size,"100%"),kf(w&&w<0?void 0:i.innerSize||0,"0%")];for(!o.angular||this instanceof Si||(L[3]=0),C=0;C<4;++C)j=L[C],x=C<2||C===2&&/%$/.test(j),L[C]=BN(j,[d,u,g,L[2]][C])+(x?l:0);return L[3]>L[2]&&(L[3]=L[2]),Wv(m)&&2*m<L[2]&&m>0&&(L[3]=L[2]-2*m),DN(this,"afterGetCenter",{positions:L}),L},b.getStartAndEndRadians=function(i,o){let l=Wv(i)?i:0,d=Wv(o)&&o>l&&o-l<360?o:l+360;return{start:Fw*(l+-90),end:Fw*(d+-90)}}})(N||(N={}));let Ww=N,{setAnimation:$N}=jr,{addEvent:Uw,defined:zN,extend:FN,isNumber:WN,pick:UN,relativeLength:HN}=Qe;class Hw extends Z{getConnectorPath(i){let o=i.dataLabelPosition,l=i.options||{},d=l.connectorShape,u=this.connectorShapes[d]||d;return o&&u.call(this,{...o.computed,alignment:o.alignment},o.connectorPosition,l)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(i){let o=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(o.x,o.y,o.r+i,o.r+i,{innerR:o.r-1,start:o.start,end:o.end,borderRadius:o.borderRadius})}constructor(i,o,l){super(i,o,l),this.half=0,this.name??(this.name=i.chart.options.lang.pieSliceName);let d=u=>{this.slice(u.type==="select")};Uw(this,"select",d),Uw(this,"unselect",d)}isValid(){return WN(this.y)&&this.y>=0}setVisible(i,o=!0){i!==this.visible&&this.update({visible:i??!this.visible},o,void 0,!1)}slice(i,o,l){let d=this.series;$N(l,d.chart),o=UN(o,!0),this.sliced=this.options.sliced=i=zN(i)?i:!this.sliced,d.options.data[d.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}FN(Hw.prototype,{connectorShapes:{fixedOffset:function(b,i,o){let l=i.breakAt,d=i.touchingSliceAt,u=o.softConnector?["C",b.x+(b.alignment==="left"?-5:5),b.y,2*l.x-d.x,2*l.y-d.y,l.x,l.y]:["L",l.x,l.y];return[["M",b.x,b.y],u,["L",d.x,d.y]]},straight:function(b,i){let o=i.touchingSliceAt;return[["M",b.x,b.y],["L",o.x,o.y]]},crookedLine:function(b,i,o){let{angle:l=this.angle||0,breakAt:d,touchingSliceAt:u}=i,{series:f}=this,[g,m,x]=f.center,_=x/2,{plotLeft:w,plotWidth:C}=f.chart,j=b.alignment==="left",{x:L,y:F}=b,$=d.x;if(o.crookDistance){let G=HN(o.crookDistance,1);$=j?g+_+(C+w-g-_)*(1-G):w+(g-_)*G}else $=g+(m-F)*Math.tan(l-Math.PI/2);let B=[["M",L,F]];return(j?$<=L&&$>=d.x:$>=L&&$<=d.x)&&B.push(["L",$,F]),B.push(["L",d.x,d.y],["L",u.x,u.y]),B}}});let{getStartAndEndRadians:GN}=Ww,{noop:Gw}=J,{clamp:VN,extend:XN,fireEvent:Vw,merge:Uv,pick:YN}=Qe;class Hv extends Si{animate(i){let o=this,l=o.points,d=o.startAngleRad;i||l.forEach(function(u){let f=u.graphic,g=u.shapeArgs;f&&g&&(f.attr({r:YN(u.startR,o.center&&o.center[3]/2),start:d,end:d}),f.animate({r:g.r,start:g.start,end:g.end},o.options.animation))})}drawEmpty(){let i,o,l=this.startAngleRad,d=this.endAngleRad,u=this.options;this.total===0&&this.center?(i=this.center[0],o=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(i,o,this.center[1]/2,0,l,d).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:_h.arc(i,o,this.center[2]/2,0,{start:l,end:d,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":u.borderWidth,fill:u.fillColor||"none",stroke:u.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let i=this.chart.renderer;this.points.forEach(function(o){o.graphic&&o.hasNewShapeType()&&(o.graphic=o.graphic.destroy()),o.graphic||(o.graphic=i[o.shapeType](o.shapeArgs).add(o.series.group),o.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(i,o,l,d){let u=this.center,f=this.radii?this.radii[l.index]||0:u[2]/2,g=d.dataLabelPosition,m=(g==null?void 0:g.distance)||0,x=Math.asin(VN((i-u[1])/(f+m),-1,1));return u[0]+Math.cos(x)*(f+m)*(o?-1:1)+(m>0?(o?-1:1)*(d.padding||0):0)}hasData(){return this.points.some(i=>i.visible)}redrawPoints(){let i,o,l,d,u=this,f=u.chart;this.drawEmpty(),u.group&&!f.styledMode&&u.group.shadow(u.options.shadow),u.points.forEach(function(g){let m={};o=g.graphic,!g.isNull&&o?(d=g.shapeArgs,i=g.getTranslate(),f.styledMode||(l=u.pointAttribs(g,g.selected&&"select")),g.delayedRendering?(o.setRadialReference(u.center).attr(d).attr(i),f.styledMode||o.attr(l).attr({"stroke-linejoin":"round"}),g.delayedRendering=!1):(o.setRadialReference(u.center),f.styledMode||Uv(!0,m,l),Uv(!0,m,d,i),o.animate(m)),o.attr({visibility:g.visible?"inherit":"hidden"}),o.addClass(g.getClassName(),!0)):o&&(g.graphic=o.destroy())})}sortByAngle(i,o){i.sort(function(l,d){return l.angle!==void 0&&(d.angle-l.angle)*o})}translate(i){Vw(this,"translate"),this.generatePoints();let o=this.options,l=o.slicedOffset,d=GN(o.startAngle,o.endAngle),u=this.startAngleRad=d.start,f=(this.endAngleRad=d.end)-u,g=this.points,m=o.ignoreHiddenPoint,x=g.length,_,w,C,j,L,F,$,B=0;for(i||(this.center=i=this.getCenter()),F=0;F<x;F++){$=g[F],_=u+B*f,$.isValid()&&(!m||$.visible)&&(B+=$.percentage/100),w=u+B*f;let G={x:i[0],y:i[1],r:i[2]/2,innerR:i[3]/2,start:Math.round(1e3*_)/1e3,end:Math.round(1e3*w)/1e3};$.shapeType="arc",$.shapeArgs=G,(C=(w+_)/2)>1.5*Math.PI?C-=2*Math.PI:C<-Math.PI/2&&(C+=2*Math.PI),$.slicedTranslation={translateX:Math.round(Math.cos(C)*l),translateY:Math.round(Math.sin(C)*l)},j=Math.cos(C)*i[2]/2,L=Math.sin(C)*i[2]/2,$.tooltipPos=[i[0]+.7*j,i[1]+.7*L],$.half=+(C<-Math.PI/2||C>Math.PI/2),$.angle=C}Vw(this,"afterTranslate")}updateTotals(){let i=this.points,o=i.length,l=this.options.ignoreHiddenPoint,d,u,f=0;for(d=0;d<o;d++)(u=i[d]).isValid()&&(!l||u.visible)&&(f+=u.y);for(d=0,this.total=f;d<o;d++)(u=i[d]).percentage=f>0&&(u.visible||!l)?u.y/f*100:0,u.total=f}}Hv.defaultOptions=Uv(Si.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),XN(Hv.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:yf.prototype.drawTracker,getCenter:Ww.getCenter,getSymbol:Gw,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:yf.prototype.pointAttribs,pointClass:Hw,requireSorting:!1,searchPoint:Gw,trackerGroups:["group","dataLabelsGroup"]}),or.registerSeriesType("pie",Hv);let{composed:qN,noop:KN}=J,{distribute:ZN}=hs,{series:Xw}=or,{arrayMax:QN,clamp:Yw,defined:qw,isNumber:JN,pick:eT,pushUnique:tT,relativeLength:Kw}=Qe;(function(b){let i={radialDistributionY:function(f,g){var m;return(((m=g.dataLabelPosition)==null?void 0:m.top)||0)+f.distributeBox.pos},radialDistributionX:function(f,g,m,x,_){let w=_.dataLabelPosition;return f.getX(m<((w==null?void 0:w.top)||0)+2||m>((w==null?void 0:w.bottom)||0)-2?x:m,g.half,g,_)},justify:function(f,g,m,x){var _;return x[0]+(f.half?-1:1)*(m+(((_=g.dataLabelPosition)==null?void 0:_.distance)||0))},alignToPlotEdges:function(f,g,m,x){let _=f.getBBox().width;return g?_+x:m-_-x},alignToConnectors:function(f,g,m,x){let _=0,w;return f.forEach(function(C){(w=C.dataLabel.getBBox().width)>_&&(_=w)}),g?_+x:m-_-x}};function o(f,g){let m=Math.PI/2,{start:x=0,end:_=0}=f.shapeArgs||{},w=f.angle||0;g>0&&x<m&&_>m&&w>m/2&&w<1.5*m&&(w=w<=m?Math.max(m/2,(x+m)/2):Math.min(1.5*m,(m+_)/2));let{center:C,options:j}=this,L=C[2]/2,F=Math.cos(w),$=Math.sin(w),B=C[0]+F*L,G=C[1]+$*L,X=Math.min((j.slicedOffset||0)+(j.borderWidth||0),g/5);return{natural:{x:B+F*g,y:G+$*g},computed:{},alignment:g<0?"center":f.half?"right":"left",connectorPosition:{angle:w,breakAt:{x:B+F*X,y:G+$*X},touchingSliceAt:{x:B,y:G}},distance:g}}function l(){var ye;let f=this,g=f.points,m=f.chart,x=m.plotWidth,_=m.plotHeight,w=m.plotLeft,C=Math.round(m.chartWidth/3),j=f.center,L=j[2]/2,F=j[1],$=[[],[]],B=[0,0,0,0],G=f.dataLabelPositioners,X,pe,de,fe=0;f.visible&&((ye=f.hasDataLabels)!=null&&ye.call(f))&&(g.forEach(me=>{(me.dataLabels||[]).forEach(xe=>{xe.shortened&&(xe.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),xe.shortened=!1)})}),Xw.prototype.drawDataLabels.apply(f),g.forEach(me=>{(me.dataLabels||[]).forEach((xe,Ae)=>{var rt;let Te=j[2]/2,We=xe.options,Ge=Kw((We==null?void 0:We.distance)||0,Te);Ae===0&&$[me.half].push(me),!qw((rt=We==null?void 0:We.style)==null?void 0:rt.width)&&xe.getBBox().width>C&&(xe.css({width:Math.round(.7*C)+"px"}),xe.shortened=!0),xe.dataLabelPosition=this.getDataLabelPosition(me,Ge),fe=Math.max(fe,Ge)})}),$.forEach((me,xe)=>{let Ae=me.length,Te=[],We,Ge,rt=0,Je;Ae&&(f.sortByAngle(me,xe-.5),fe>0&&(We=Math.max(0,F-L-fe),Ge=Math.min(F+L+fe,m.plotHeight),me.forEach(lt=>{(lt.dataLabels||[]).forEach(Ke=>{var wt;let ct=Ke.dataLabelPosition;ct&&ct.distance>0&&(ct.top=Math.max(0,F-L-ct.distance),ct.bottom=Math.min(F+L+ct.distance,m.plotHeight),rt=Ke.getBBox().height||21,Ke.lineHeight=m.renderer.fontMetrics(Ke.text||Ke).h+2*Ke.padding,lt.distributeBox={target:(((wt=Ke.dataLabelPosition)==null?void 0:wt.natural.y)||0)-ct.top+Ke.lineHeight/2,size:rt,rank:lt.y},Te.push(lt.distributeBox))})}),ZN(Te,Je=Ge+rt-We,Je/5)),me.forEach(lt=>{(lt.dataLabels||[]).forEach(Ke=>{let ct=Ke.options||{},wt=lt.distributeBox,jt=Ke.dataLabelPosition,Tt=(jt==null?void 0:jt.natural.y)||0,Vr=ct.connectorPadding||0,Ct=Ke.lineHeight||21,It=(Ct-Ke.getBBox().height)/2,pt=0,ht=Tt,ur="inherit";if(jt){if(Te&&qw(wt)&&jt.distance>0&&(wt.pos===void 0?ur="hidden":(de=wt.size,ht=G.radialDistributionY(lt,Ke))),ct.justify)pt=G.justify(lt,Ke,L,j);else switch(ct.alignTo){case"connectors":pt=G.alignToConnectors(me,xe,x,w);break;case"plotEdges":pt=G.alignToPlotEdges(Ke,xe,x,w);break;default:pt=G.radialDistributionX(f,lt,ht-It,Tt,Ke)}if(jt.attribs={visibility:ur,align:jt.alignment},jt.posAttribs={x:pt+(ct.x||0)+({left:Vr,right:-Vr}[jt.alignment]||0),y:ht+(ct.y||0)-Ct/2},jt.computed.x=pt,jt.computed.y=ht-It,eT(ct.crop,!0)){let Dt;pt-(pe=Ke.getBBox().width)<Vr&&xe===1?(Dt=Math.round(pe-pt+Vr),B[3]=Math.max(Dt,B[3])):pt+pe>x-Vr&&xe===0&&(Dt=Math.round(pt+pe-x+Vr),B[1]=Math.max(Dt,B[1])),ht-de/2<0?B[0]=Math.max(Math.round(-ht+de/2),B[0]):ht+de/2>_&&(B[2]=Math.max(Math.round(ht+de/2-_),B[2])),jt.sideOverflow=Dt}}})}))}),(QN(B)===0||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),this.points.forEach(me=>{(me.dataLabels||[]).forEach(xe=>{var Ge;let{connectorColor:Ae,connectorWidth:Te=1}=xe.options||{},We=xe.dataLabelPosition;if(JN(Te)){let rt;X=xe.connector,We&&We.distance>0?(rt=!X,X||(xe.connector=X=m.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+me.colorIndex+(me.className?" "+me.className:"")).add(f.dataLabelsGroup)),m.styledMode||X.attr({"stroke-width":Te,stroke:Ae||me.color||"#666666"}),X[rt?"attr":"animate"]({d:me.getConnectorPath(xe)}),X.attr({visibility:(Ge=We.attribs)==null?void 0:Ge.visibility})):X&&(xe.connector=X.destroy())}})})))}function d(){this.points.forEach(f=>{(f.dataLabels||[]).forEach(g=>{var x,_;let m=g.dataLabelPosition;m?(m.sideOverflow&&(g.css({width:Math.max(g.getBBox().width-m.sideOverflow,0)+"px",textOverflow:((_=(x=g.options)==null?void 0:x.style)==null?void 0:_.textOverflow)||"ellipsis"}),g.shortened=!0),g.attr(m.attribs),g[g.moved?"animate":"attr"](m.posAttribs),g.moved=!0):g&&g.attr({y:-9999})}),delete f.distributeBox},this)}function u(f){let g=this.center,m=this.options,x=m.center,_=m.minSize||80,w=_,C=m.size!==null;return!C&&(x[0]!==null?w=Math.max(g[2]-Math.max(f[1],f[3]),_):(w=Math.max(g[2]-f[1]-f[3],_),g[0]+=(f[3]-f[1])/2),x[1]!==null?w=Yw(w,_,g[2]-Math.max(f[0],f[2])):(w=Yw(w,_,g[2]-f[0]-f[2]),g[1]+=(f[0]-f[2])/2),w<g[2]?(g[2]=w,g[3]=Math.min(m.thickness?Math.max(0,w-2*m.thickness):Math.max(0,Kw(m.innerSize||0,w)),w),this.translate(g),this.drawDataLabels&&this.drawDataLabels()):C=!0),C}b.compose=function(f){if(bf.compose(Xw),tT(qN,"PieDataLabel")){let g=f.prototype;g.dataLabelPositioners=i,g.alignDataLabel=KN,g.drawDataLabels=l,g.getDataLabelPosition=o,g.placeDataLabels=d,g.verifyDataLabelOverflow=u}}})(O||(O={}));let rT=O;(function(b){b.getCenterOfPoints=function(i){let o=i.reduce((l,d)=>(l.x+=d.x,l.y+=d.y,l),{x:0,y:0});return{x:o.x/i.length,y:o.y/i.length}},b.getDistanceBetweenPoints=function(i,o){return Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))},b.getAngleBetweenPoints=function(i,o){return Math.atan2(o.x-i.x,o.y-i.y)},b.pointInPolygon=function({x:i,y:o},l){let d=l.length,u,f,g=!1;for(u=0,f=d-1;u<d;f=u++){let[m,x]=l[u],[_,w]=l[f];x>o!=w>o&&i<(_-m)*(o-x)/(w-x)+m&&(g=!g)}return g}})(q||(q={}));let{pointInPolygon:iT}=q,{addEvent:nT,getAlignFactor:sT,fireEvent:Zw,objectEach:Qw,pick:oT}=Qe;function aT(b){let i=b.length,o=(_,w)=>!(w.x>=_.x+_.width||w.x+w.width<=_.x||w.y>=_.y+_.height||w.y+w.height<=_.y),l=(_,w)=>{for(let C of _)if(iT({x:C[0],y:C[1]},w))return!0;return!1},d,u,f,g,m,x=!1;for(let _=0;_<i;_++)(d=b[_])&&(d.oldOpacity=d.opacity,d.newOpacity=1,d.absoluteBox=function(w){var C,j;if(w&&(!w.alignAttr||w.placed)){let L=w.box?0:w.padding||0,F=w.alignAttr||{x:w.attr("x"),y:w.attr("y")},{height:$,polygon:B,width:G}=w.getBBox(),X=sT(w.alignValue)*G;return w.width=G,w.height=$,{x:F.x+(((C=w.parentGroup)==null?void 0:C.translateX)||0)+L-X,y:F.y+(((j=w.parentGroup)==null?void 0:j.translateY)||0)+L,width:G-2*L,height:$-2*L,polygon:B}}}(d));b.sort((_,w)=>(w.labelrank||0)-(_.labelrank||0));for(let _=0;_<i;++_){g=(u=b[_])&&u.absoluteBox;let w=g==null?void 0:g.polygon;for(let C=_+1;C<i;++C){m=(f=b[C])&&f.absoluteBox;let j=!1;if(g&&m&&u!==f&&u.newOpacity!==0&&f.newOpacity!==0&&u.visibility!=="hidden"&&f.visibility!=="hidden"){let L=m.polygon;if(w&&L&&w!==L?l(w,L)&&(j=!0):o(g,m)&&(j=!0),j){let F=u.labelrank<f.labelrank?u:f,$=F.text;F.newOpacity=0,$!=null&&$.element.querySelector("textPath")&&$.hide()}}}}for(let _ of b)Jw(_,this)&&(x=!0);x&&Zw(this,"afterHideAllOverlappingLabels")}function Jw(b,i){let o,l=!1;return b&&(o=b.newOpacity,b.oldOpacity!==o&&(b.hasClass("highcharts-data-label")?(b[o?"removeClass":"addClass"]("highcharts-data-label-hidden"),l=!0,b[b.isOld?"animate":"attr"]({opacity:o},void 0,function(){i.styledMode||b.css({pointerEvents:o?"auto":"none"})}),Zw(i,"afterHideOverlappingLabel")):b.attr({opacity:o})),b.isOld=!0),l}function lT(){var o;let b=this,i=[];for(let l of b.labelCollectors||[])i=i.concat(l());for(let l of b.yAxis||[])l.stacking&&l.options.stackLabels&&!l.options.stackLabels.allowOverlap&&Qw(l.stacking.stacks,d=>{Qw(d,u=>{u.label&&i.push(u.label)})});for(let l of b.series||[])if(l.visible&&((o=l.hasDataLabels)!=null&&o.call(l))){let d=u=>{for(let f of u)f.visible&&(f.dataLabels||[]).forEach(g=>{var x;let m=g.options||{};g.labelrank=oT(m.labelrank,f.labelrank,(x=f.shapeArgs)==null?void 0:x.height),m.allowOverlap??Number(m.distance)>0?(g.oldOpacity=g.opacity,g.newOpacity=1,Jw(g,b)):i.push(g)})};d(l.nodes||[]),d(l.points)}this.hideOverlappingLabels(i)}let e1={compose:function(b){let i=b.prototype;i.hideOverlappingLabels||(i.hideOverlappingLabels=aT,nT(b,"render",lT))}},{defaultOptions:cT}=Oi,{noop:t1}=J,{addEvent:r1,extend:dT,isObject:i1,merge:uT,relativeLength:Gv}=Qe,hT={radius:0,scope:"stack",where:void 0},n1=t1,s1=t1;function fT(b,i,o,l,d={}){let u=n1(b,i,o,l,d),{brStart:f=!0,brEnd:g=!0,innerR:m=0,r:x=o,start:_=0,end:w=0}=d;if(d.open||!d.borderRadius)return u;let C=w-_,j=Math.sin(C/2),L=Math.max(Math.min(Gv(d.borderRadius||0,x-m),(x-m)/2,x*j/(1+j)),0),F=Math.min(L,C/Math.PI*2*m),$=u.length-1;for(;$--;)(f||$!==0&&$!==3)&&(g||$!==1&&$!==2)&&function(B,G,X){let pe,de,fe,ye=B[G],me=B[G+1];if(me[0]==="Z"&&(me=B[0]),(ye[0]==="M"||ye[0]==="L")&&me[0]==="A"?(pe=ye,de=me,fe=!0):ye[0]==="A"&&(me[0]==="M"||me[0]==="L")&&(pe=me,de=ye),pe&&de&&de.params){let xe=de[1],Ae=de[5],Te=de.params,{start:We,end:Ge,cx:rt,cy:Je}=Te,lt=Ae?xe-X:xe+X,Ke=lt?Math.asin(X/lt):0,ct=Ae?Ke:-Ke,wt=Math.cos(Ke)*lt;fe?(Te.start=We+ct,pe[1]=rt+wt*Math.cos(We),pe[2]=Je+wt*Math.sin(We),B.splice(G+1,0,["A",X,X,0,0,1,rt+xe*Math.cos(Te.start),Je+xe*Math.sin(Te.start)])):(Te.end=Ge-ct,de[6]=rt+xe*Math.cos(Te.end),de[7]=Je+xe*Math.sin(Te.end),B.splice(G+1,0,["A",X,X,0,0,1,rt+wt*Math.cos(Ge),Je+wt*Math.sin(Ge)])),de[4]=Math.abs(Te.end-Te.start)<Math.PI?0:1}}(u,$,$>1?F:L);return u}function pT(){var b,i;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:o,yAxis:l}=this,d=o.stacking==="percent",u=(i=(b=cT.plotOptions)==null?void 0:b[this.type])==null?void 0:i.borderRadius,f=Vv(o.borderRadius,i1(u)?u:{}),g=l.options.reversed;for(let m of this.points){let{shapeArgs:x}=m;if(m.shapeType==="roundedRect"&&x){let{width:_=0,height:w=0,y:C=0}=x,j=C,L=w;if(f.scope==="stack"&&m.stackTotal){let G=l.translate(d?100:m.stackTotal,!1,!0,!1,!0),X=l.translate(o.threshold||0,!1,!0,!1,!0),pe=this.crispCol(0,Math.min(G,X),0,Math.abs(G-X));j=pe.y,L=pe.height}let F=(m.negative?-1:1)*(g?-1:1)==-1,$=f.where;!$&&this.is("waterfall")&&Math.abs((m.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&($="all"),$||($="end");let B=Math.min(Gv(f.radius,_),_/2,$==="all"?w/2:1/0)||0;$==="end"&&(F&&(j-=B),L+=B),dT(x,{brBoxHeight:L,brBoxY:j,r:B})}}}}function Vv(b,i){return i1(b)||(b={radius:b||0}),uT(hT,i,b)}function gT(){let b=Vv(this.options.borderRadius);for(let i of this.points){let o=i.shapeArgs;o&&(o.borderRadius=Gv(b.radius,(o.r||0)-(o.innerR||0)))}}function mT(b,i,o,l,d={}){let u=s1(b,i,o,l,d),{r:f=0,brBoxHeight:g=l,brBoxY:m=i}=d,x=i-m,_=m+g-(i+l),w=x-f>-.1?0:f,C=_-f>-.1?0:f,j=Math.max(w&&x,0),L=Math.max(C&&_,0),F=[b+w,i],$=[b+o-w,i],B=[b+o,i+w],G=[b+o,i+l-C],X=[b+o-C,i+l],pe=[b+C,i+l],de=[b,i+l-C],fe=[b,i+w],ye=(me,xe)=>Math.sqrt(Math.pow(me,2)-Math.pow(xe,2));if(j){let me=ye(w,w-j);F[0]-=me,$[0]+=me,B[1]=fe[1]=i+w-j}if(l<w-j){let me=ye(w,w-j-l);B[0]=G[0]=b+o-w+me,X[0]=Math.min(B[0],X[0]),pe[0]=Math.max(G[0],pe[0]),de[0]=fe[0]=b+w-me,B[1]=fe[1]=i+l}if(L){let me=ye(C,C-L);X[0]+=me,pe[0]-=me,G[1]=de[1]=i+l-C+L}if(l<C-L){let me=ye(C,C-L-l);B[0]=G[0]=b+o-C+me,$[0]=Math.min(B[0],$[0]),F[0]=Math.max(G[0],F[0]),de[0]=fe[0]=b+C-me,G[1]=de[1]=i}return u.length=0,u.push(["M",...F],["L",...$],["A",w,w,0,0,1,...B],["L",...G],["A",C,C,0,0,1,...X],["L",...pe],["A",C,C,0,0,1,...de],["L",...fe],["A",w,w,0,0,1,...F],["Z"]),u}let{diffObjects:vT,extend:xT,find:yT,merge:bT,pick:Sf,uniqueKey:wT}=Qe;(function(b){function i(l,d){let u=l.condition;(u.callback||function(){return this.chartWidth<=Sf(u.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Sf(u.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Sf(u.minWidth,0)&&this.chartHeight>=Sf(u.minHeight,0)}).call(this)&&d.push(l._id)}function o(l,d){let u=this.options.responsive,f=this.currentResponsive,g=[],m;!d&&u&&u.rules&&u.rules.forEach(w=>{w._id===void 0&&(w._id=wT()),this.matchResponsiveRule(w,g)},this);let x=bT(...g.map(w=>yT((u==null?void 0:u.rules)||[],C=>C._id===w)).map(w=>w==null?void 0:w.chartOptions));x.isResponsiveOptions=!0,g=g.toString()||void 0;let _=f==null?void 0:f.ruleIds;g!==_&&(f&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(f.undoOptions,l,!0),this.updatingResponsive=!1),g?((m=vT(x,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:g,mergedOptions:x,undoOptions:m},this.updatingResponsive||this.update(x,l,!0)):this.currentResponsive=void 0)}b.compose=function(l){let d=l.prototype;return d.matchResponsiveRule||xT(d,{matchResponsiveRule:i,setResponsive:o}),l}})(ae||(ae={}));let kT=ae;J.AST=Ut,J.Axis=ys,J.Chart=co,J.Color=Wt,J.DataLabel=bf,J.DataTableCore=ki,J.Fx=Gr,J.HTMLElement=gs,J.Legend=fw,J.LegendSymbol=wn,J.OverlappingDataLabels=J.OverlappingDataLabels||e1,J.PlotLineOrBand=Sl,J.Point=Z,J.Pointer=kr,J.RendererRegistry=qi,J.Series=Si,J.SeriesRegistry=or,J.StackItem=Cw,J.SVGElement=en,J.SVGRenderer=fl,J.Templating=sr,J.Tick=to,J.Time=Gc,J.Tooltip=sf,J.animate=jr.animate,J.animObject=jr.animObject,J.chart=co.chart,J.color=Wt.parse,J.dateFormat=sr.dateFormat,J.defaultOptions=Oi.defaultOptions,J.distribute=hs.distribute,J.format=sr.format,J.getDeferredAnimation=jr.getDeferredAnimation,J.getOptions=Oi.getOptions,J.numberFormat=sr.numberFormat,J.seriesType=or.seriesType,J.setAnimation=jr.setAnimation,J.setOptions=Oi.setOptions,J.stop=jr.stop,J.time=Oi.defaultTime,J.timers=Gr.timers,{compose:function(b,i,o){let l=b.types.pie;if(!i.symbolCustomAttribs.includes("borderRadius")){let d=o.prototype.symbols;r1(b,"afterColumnTranslate",pT,{order:9}),r1(l,"afterTranslate",gT),i.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),n1=d.arc,s1=d.roundedRect,d.arc=fT,d.roundedRect=mT}},optionsToObject:Vv}.compose(J.Series,J.SVGElement,J.SVGRenderer),NN.compose(J.Series.types.column),bf.compose(J.Series),Xm.compose(J.Axis),gs.compose(J.SVGRenderer),fw.compose(J.Chart),wl.compose(J.Axis),e1.compose(J.Chart),rT.compose(J.Series.types.pie),Sl.compose(J.Chart,J.Axis),kr.compose(J.Chart),kT.compose(J.Chart),wd.compose(J.Axis,J.Chart,J.Series),cN.compose(J.Axis,J.Chart,J.Series),sf.compose(J.Pointer),Qe.extend(J,Qe);let ST=J;return ce.default})())})(hj);var zz=hj.exports;const fj=Pu(zz);var pj={exports:{}};(function(e,t){(function(r,n){e.exports=n(r._Highcharts,r._Highcharts.Point,r._Highcharts.Axis,r._Highcharts.Color,r._Highcharts.SeriesRegistry,r._Highcharts.RendererRegistry,r._Highcharts.SVGRenderer,r._Highcharts.SVGElement,r._Highcharts.Templating,r._Highcharts.Chart,r._Highcharts.Series.types.column,r._Highcharts.Series,r._Highcharts.StackItem)})(typeof window>"u"?vi:window,(r,n,s,a,c,p,v,y,S,E,T,z,U)=>(()=>{let D,R,I,N;var O,q,ae,te,ce,J,we,Se,be={28:K=>{K.exports=y},184:K=>{K.exports=U},260:K=>{K.exports=n},448:K=>{K.exports=T},512:K=>{K.exports=c},532:K=>{K.exports=s},540:K=>{K.exports=v},608:K=>{K.exports=p},620:K=>{K.exports=a},820:K=>{K.exports=z},944:K=>{K.exports=r},960:K=>{K.exports=E},984:K=>{K.exports=S}},ve={};function je(K){var k=ve[K];if(k!==void 0)return k.exports;var A=ve[K]={exports:{}};return be[K](A,A.exports,je),A.exports}je.n=K=>{var k=K&&K.__esModule?()=>K.default:()=>K;return je.d(k,{a:k}),k},je.d=(K,k)=>{for(var A in k)je.o(k,A)&&!je.o(K,A)&&Object.defineProperty(K,A,{enumerable:!0,get:k[A]})},je.o=(K,k)=>Object.prototype.hasOwnProperty.call(K,k);var Fe={};je.d(Fe,{default:()=>fv});var Ye=je(944),ie=je.n(Ye),ge=je(260);let{tooltipFormatter:he}=je.n(ge)().prototype,{addEvent:Me,arrayMax:$e,arrayMin:Ie,correctFloat:Ee,defined:Ze,isArray:ot,isNumber:tt,isString:Ce,pick:Oe}=ie();(function(K){function k(re,V,Q){!this.isXAxis&&(this.series.forEach(function(Z){re==="compare"&&typeof V!="boolean"?Z.setCompare(V,!1):re!=="cumulative"||Ce(V)||Z.setCumulative(V,!1)}),Oe(Q,!0)&&this.chart.redraw())}function A(re){let V=this,{numberFormatter:Q}=V.series.chart,Z=function(le){re=re.replace("{point."+le+"}",(V[le]>0&&le==="change"?"+":"")+Q(V[le],Oe(V.series.tooltipOptions.changeDecimals,2)))};return Ze(V.change)&&Z("change"),Ze(V.cumulativeSum)&&Z("cumulativeSum"),he.apply(this,[re])}function P(){let re,V=this.options.compare;(V==="percent"||V==="value"||this.options.cumulative)&&(re=new ee(this),V==="percent"||V==="value"?re.initCompare(V):re.initCumulative()),this.dataModify=re}function W(re){let V=re.dataExtremes,Q=V.activeYData;if(this.dataModify&&V){let Z;this.options.compare?Z=[this.dataModify.modifyValue(V.dataMin),this.dataModify.modifyValue(V.dataMax)]:this.options.cumulative&&ot(Q)&&Q.length>=2&&(Z=ee.getCumulativeExtremes(Q)),Z&&(V.dataMin=Ie(Z),V.dataMax=$e(Z))}}function H(re,V){this.options.compare=this.userOptions.compare=re,this.update({},Oe(V,!0)),this.dataModify&&(re==="value"||re==="percent")?this.dataModify.initCompare(re):this.points.forEach(Q=>{delete Q.change})}function Y(){let re=this.getColumn(this.pointArrayMap&&(this.options.pointValKey||this.pointValKey)||"y",!0);if(this.xAxis&&re.length&&this.dataModify){let V=this.getColumn("x",!0),Q=this.dataTable.rowCount,Z=+(this.options.compareStart!==!0);for(let le=0;le<Q-Z;le++){let ue=re[le];if(tt(ue)&&ue!==0&&V[le+Z]>=(this.xAxis.min||0)){this.dataModify.compareValue=ue;break}}}}function ne(re,V){this.setModifier("compare",re,V)}function se(re,V){re=Oe(re,!1),this.options.cumulative=this.userOptions.cumulative=re,this.update({},Oe(V,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(Q=>{delete Q.cumulativeSum})}function oe(re,V){this.setModifier("cumulative",re,V)}K.compose=function(re,V,Q){let Z=V.prototype,le=Q.prototype,ue=re.prototype;return ue.setCompare||(ue.setCompare=H,ue.setCumulative=se,Me(re,"afterInit",P),Me(re,"afterGetExtremes",W),Me(re,"afterProcessData",Y)),Z.setCompare||(Z.setCompare=ne,Z.setModifier=k,Z.setCumulative=oe,le.tooltipFormatter=A),re};class ee{constructor(V){this.series=V}modifyValue(){return 0}static getCumulativeExtremes(V){let Q=1/0,Z=-1/0;return V.reduce((le,ue)=>{let ke=le+ue;return Q=Math.min(Q,ke,le),Z=Math.max(Z,ke,le),ke}),[Q,Z]}initCompare(V){this.modifyValue=function(Q,Z){Q===null&&(Q=0);let le=this.compareValue;if(Q!==void 0&&le!==void 0){if(V==="value"?Q-=le:Q=Q/le*100-100*(this.series.options.compareBase!==100),Z!==void 0){let ue=this.series.points[Z];ue&&(ue.change=Q)}return Q}return 0}}initCumulative(){this.modifyValue=function(V,Q){if(V===null&&(V=0),V!==void 0&&Q!==void 0){let Z=Q>0?this.series.points[Q-1]:null;Z&&Z.cumulativeSum&&(V=Ee(Z.cumulativeSum+V));let le=this.series.points[Q],ue=le.series.options.cumulativeStart,ke=le.x<=this.series.xAxis.max&&le.x>=this.series.xAxis.min;return le&&(!ue||ke?le.cumulativeSum=V:le.cumulativeSum=void 0),V}return 0}}}K.Additions=ee})(O||(O={}));let st=O;var ut=je(532),vt=je.n(ut);let{isTouchDevice:ft}=ie(),{addEvent:kt,merge:Qe,pick:Dr}=ie(),Wr=[];function Xi(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function li(){var H;let K,k,A,P=this.legend,W=this.navigator;if(W){K=P&&P.options,k=W.xAxis,A=W.yAxis;let{scrollbarHeight:Y,scrollButtonSize:ne}=W;this.inverted?(W.left=W.opposite?this.chartWidth-Y-W.height:this.spacing[3]+Y,W.top=this.plotTop+ne):(W.left=Dr(k.left,this.plotLeft+ne),W.top=W.navigatorOptions.top||this.chartHeight-W.height-Y-(((H=this.scrollbar)==null?void 0:H.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(K&&K.verticalAlign==="bottom"&&K.layout!=="proximate"&&K.enabled&&!K.floating?P.legendHeight+Dr(K.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),k&&A&&(this.inverted?k.options.left=A.options.left=W.left:k.options.top=A.options.top=W.top,k.setAxisSize(),A.setAxisSize())}}function Ur(K){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new D(this),Dr(K.redraw,!0)&&this.redraw(K.animation))}function Yi(){let K=this.options;(K.navigator.enabled||K.scrollbar.enabled)&&(this.scroller=this.navigator=new D(this))}function Wc(){let K=this.options,k=K.navigator,A=K.rangeSelector;if((k&&k.enabled||A&&A.enabled)&&(!ft&&this.zooming.type==="x"||ft&&this.zooming.pinchType==="x"))return!1}function Zo(K){let k=K.navigator;if(k&&K.xAxis[0]){let A=K.xAxis[0].getExtremes();k.render(A.min,A.max)}}function Xg(K){let k=K.options.navigator||{},A=K.options.scrollbar||{};!this.navigator&&!this.scroller&&(k.enabled||A.enabled)&&(Qe(!0,this.options.navigator,k),Qe(!0,this.options.scrollbar,A),delete K.options.navigator,delete K.options.scrollbar)}let Yg={compose:function(K,k){if(ie().pushUnique(Wr,K)){let A=K.prototype;D=k,A.callbacks.push(Zo),kt(K,"afterAddSeries",Xi),kt(K,"afterSetChartSize",li),kt(K,"afterUpdate",Ur),kt(K,"beforeRender",Yi),kt(K,"beforeShowResetZoom",Wc),kt(K,"update",Xg)}}},{isTouchDevice:Bn}=ie(),{addEvent:Ku,correctFloat:Qa,defined:Uc,isNumber:Zu,pick:Qu}=ie();function qg(){this.navigatorAxis||(this.navigatorAxis=new Hc(this))}function Ju(K){let k,A=this.chart,P=A.options,W=P.navigator,H=this.navigatorAxis,Y=A.zooming.pinchType,ne=P.rangeSelector,se=A.zooming.type;if(this.isXAxis&&(W!=null&&W.enabled||ne!=null&&ne.enabled)){if(se==="y"&&K.trigger==="zoom")k=!1;else if((K.trigger==="zoom"&&se==="xy"||Bn&&Y==="xy")&&this.options.range){let oe=H.previousZoom;Uc(K.min)?H.previousZoom=[this.min,this.max]:oe&&(K.min=oe[0],K.max=oe[1],H.previousZoom=void 0)}}k!==void 0&&K.preventDefault()}class Hc{static compose(k){k.keepProps.includes("navigatorAxis")||(k.keepProps.push("navigatorAxis"),Ku(k,"init",qg),Ku(k,"setExtremes",Ju))}constructor(k){this.axis=k}destroy(){this.axis=void 0}toFixedRange(k,A,P,W){let H=this.axis,Y=(H.pointRange||0)/2,ne=Qu(P,H.translate(k,!0,!H.horiz)),se=Qu(W,H.translate(A,!0,!H.horiz));return Uc(P)||(ne=Qa(ne+Y)),Uc(W)||(se=Qa(se-Y)),Zu(ne)&&Zu(se)||(ne=se=void 0),{min:ne,max:se}}}var nr=je(620),Gc=je.n(nr),Kg=je(512),ci=je.n(Kg);let{parse:Zg}=Gc(),{seriesTypes:mn}=ci(),Qo={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:Zg("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:mn.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{defined:Oi,isNumber:ew,pick:Ja}=ie(),Qg={rect:function(K,k,A,P,W){return W!=null&&W.r?function(H,Y,ne,se,oe){let ee=(oe==null?void 0:oe.r)||0;return[["M",H+ee,Y],["L",H+ne-ee,Y],["A",ee,ee,0,0,1,H+ne,Y+ee],["L",H+ne,Y+se-ee],["A",ee,ee,0,0,1,H+ne-ee,Y+se],["L",H+ee,Y+se],["A",ee,ee,0,0,1,H,Y+se-ee],["L",H,Y+ee],["A",ee,ee,0,0,1,H+ee,Y],["Z"]]}(K,k,A,P,W):[["M",K,k],["L",K+A,k],["L",K+A,k+P],["L",K,k+P],["Z"]]}},{relativeLength:Jg}=ie(),Hr={"navigator-handle":function(K,k,A,P,W={}){let H=W.width?W.width/2:A,Y=Jg(W.borderRadius||0,Math.min(2*H,P));return[["M",-1.5,(P=W.height||P)/2-3.5],["L",-1.5,P/2+4.5],["M",.5,P/2-3.5],["L",.5,P/2+4.5],...Qg.rect(-H-1,.5,2*H+1,P,{r:Y})]}};var eh=je(608),Vc=je.n(eh);let{defined:el}=ie(),Wt={setFixedRange:function(K){let k=this.xAxis[0];el(k.dataMax)&&el(k.dataMin)&&K?this.fixedRange=Math.min(K,k.dataMax-k.dataMin):this.fixedRange=K}},{defaultOptions:th}=ie(),{composed:em}=ie(),{getRendererType:Xc}=Vc(),{setFixedRange:tm}=Wt,{addEvent:Gr,extend:rh,pushUnique:rm}=ie();function im(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let nm={compose:function(K,k,A){Hc.compose(k),rm(em,"Navigator")&&(K.prototype.setFixedRange=tm,rh(Xc().prototype.symbols,Hr),rh(th,{navigator:Qo}),Gr(A,"afterUpdate",im))}},{composed:Yc}=ie(),{addEvent:Jo,correctFloat:ih,defined:ds,pick:tl,pushUnique:nh}=ie();(function(K){let k;function A(Y){var oe,ee,re;let ne=tl((oe=Y.options)==null?void 0:oe.min,Y.min),se=tl((ee=Y.options)==null?void 0:ee.max,Y.max);return{axisMin:ne,axisMax:se,scrollMin:ds(Y.dataMin)?Math.min(ne,Y.min??1/0,Y.dataMin,Y.threshold??1/0):ne,scrollMax:((re=Y.treeGrid)==null?void 0:re.adjustedMax)??(ds(Y.dataMax)?Math.max(se,Y.max??-1/0,Y.dataMax,Y.threshold??-1/0):se)}}function P(){let Y=this.scrollbar,ne=Y&&!Y.options.opposite,se=this.horiz?2:ne?3:1;Y&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[se]+=Y.size+(Y.options.margin||0))}function W(){var ne,se;let Y=this;(se=(ne=Y.options)==null?void 0:ne.scrollbar)!=null&&se.enabled&&(Y.options.scrollbar.vertical=!Y.horiz,Y.options.startOnTick=Y.options.endOnTick=!1,Y.scrollbar=new k(Y.chart.renderer,Y.options.scrollbar,Y.chart),Jo(Y.scrollbar,"changed",function(oe){let ee,re,{axisMin:V,axisMax:Q,scrollMin:Z,scrollMax:le}=A(Y),ue=Y.toPixels(Z),ke=Y.toPixels(le)-ue;if(ds(V)&&ds(Q))if(Y.horiz&&!Y.reversed||!Y.horiz&&Y.reversed?(ee=Math.min(le,Y.toValue(ue+ke*this.to)),re=Math.max(Z,Y.toValue(ue+ke*this.from))):(ee=Math.min(le,Y.toValue(ue+ke*(1-this.from))),re=Math.max(Z,Y.toValue(ue+ke*(1-this.to)))),this.shouldUpdateExtremes(oe.DOMType)){let _e=oe.DOMType!=="mousemove"&&oe.DOMType!=="touchmove"&&void 0;Y.setExtremes(ih(re),ih(ee),!0,_e,oe)}else this.setRange(this.from,this.to)}))}function H(){let Y,ne,se,{scrollMin:oe,scrollMax:ee}=A(this),re=this.scrollbar,V=(this.axisTitleMargin||0)+(this.titleOffset||0),Q=this.chart.scrollbarsOffsets,Z=this.options.margin||0;if(re&&Q){if(this.horiz)this.opposite||(Q[1]+=V),re.position(this.left,this.top+this.height+2+Q[1]-(this.opposite?Z:0),this.width,this.height),this.opposite||(Q[1]+=Z),Y=1;else{let le;this.opposite&&(Q[0]+=V),le=re.options.opposite?this.left+this.width+2+Q[0]-(this.opposite?0:Z):this.opposite?0:Z,re.position(le,this.top,this.width,this.height),this.opposite&&(Q[0]+=Z),Y=0}if(Q[Y]+=re.size+(re.options.margin||0),isNaN(oe)||isNaN(ee)||!ds(this.min)||!ds(this.max)||ds(this.dataMin)&&this.dataMin===this.dataMax)re.setRange(0,1);else if(this.min===this.max){let le=this.pointRange/(this.dataMax+1);ne=le*this.min,se=le*(this.max+1),re.setRange(ne,se)}else ne=(this.toPixels(this.min)-this.toPixels(oe))/(this.toPixels(ee)-this.toPixels(oe)),se=(this.toPixels(this.max)-this.toPixels(oe))/(this.toPixels(ee)-this.toPixels(oe)),this.horiz&&!this.reversed||!this.horiz&&this.reversed?re.setRange(ne,se):re.setRange(1-se,1-ne)}}K.compose=function(Y,ne){nh(Yc,"Axis.Scrollbar")&&(k=ne,Jo(Y,"afterGetOffset",P),Jo(Y,"afterInit",W),Jo(Y,"afterRender",H))}})(q||(q={}));let jr=q,ea={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:sh}=ie(),{composed:sm}=ie(),{addEvent:om,correctFloat:us,crisp:ta,defined:oh,destroyObjectProperties:ah,extend:lh,fireEvent:ra,merge:rl,pick:$n,pushUnique:am,removeEvent:Ut}=ie();class zn{static compose(k){jr.compose(k,zn),am(sm,"Scrollbar")&&lh(sh,{scrollbar:ea})}static swapXY(k,A){return A&&k.forEach(P=>{let W,H=P.length;for(let Y=0;Y<H;Y+=2)typeof(W=P[Y+1])=="number"&&(P[Y+1]=P[Y+2],P[Y+2]=W)}),k}constructor(k,A,P){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(k,A,P)}addEvents(){let k=this.options.inverted?[1,0]:[0,1],A=this.scrollbarButtons,P=this.scrollbarGroup.element,W=this.track.element,H=this.mouseDownHandler.bind(this),Y=this.mouseMoveHandler.bind(this),ne=this.mouseUpHandler.bind(this),se=[[A[k[0]].element,"click",this.buttonToMinClick.bind(this)],[A[k[1]].element,"click",this.buttonToMaxClick.bind(this)],[W,"click",this.trackClick.bind(this)],[P,"mousedown",H],[P.ownerDocument,"mousemove",Y],[P.ownerDocument,"mouseup",ne],[P,"touchstart",H],[P.ownerDocument,"touchmove",Y],[P.ownerDocument,"touchend",ne]];se.forEach(function(oe){om.apply(null,oe)}),this._events=se}buttonToMaxClick(k){let A=(this.to-this.from)*$n(this.options.step,.2);this.updatePosition(this.from+A,this.to+A),ra(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}buttonToMinClick(k){let A=us(this.to-this.from)*$n(this.options.step,.2);this.updatePosition(us(this.from-A),us(this.to-A)),ra(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}cursorToScrollbarPosition(k){let A=this.options,P=A.minWidth>this.calculatedWidth?A.minWidth:0;return{chartX:(k.chartX-this.x-this.xOffset)/(this.barWidth-P),chartY:(k.chartY-this.y-this.yOffset)/(this.barWidth-P)}}destroy(){let k=this,A=k.chart.scroller;k.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(P){k[P]&&k[P].destroy&&(k[P]=k[P].destroy())}),A&&k===A.scrollbar&&(A.scrollbar=null,ah(A.scrollbarButtons))}drawScrollbarButton(k){let A=this.renderer,P=this.scrollbarButtons,W=this.options,H=this.size,Y=A.g().add(this.group);if(P.push(Y),W.buttonsEnabled){let ne=A.rect().addClass("highcharts-scrollbar-button").add(Y);this.chart.styledMode||ne.attr({stroke:W.buttonBorderColor,"stroke-width":W.buttonBorderWidth,fill:W.buttonBackgroundColor}),ne.attr(ne.crisp({x:-.5,y:-.5,width:H,height:H,r:W.buttonBorderRadius},ne.strokeWidth()));let se=A.path(zn.swapXY([["M",H/2+(k?-1:1),H/2-3],["L",H/2+(k?-1:1),H/2+3],["L",H/2+(k?2:-2),H/2]],W.vertical)).addClass("highcharts-scrollbar-arrow").add(P[k]);this.chart.styledMode||se.attr({fill:W.buttonArrowColor})}}init(k,A,P){this.scrollbarButtons=[],this.renderer=k,this.userOptions=A,this.options=rl(ea,sh.scrollbar,A),this.options.margin=$n(this.options.margin,10),this.chart=P,this.size=$n(this.options.size,this.options.height),A.enabled&&(this.render(),this.addEvents())}mouseDownHandler(k){var W;let A=((W=this.chart.pointer)==null?void 0:W.normalize(k))||k,P=this.cursorToScrollbarPosition(A);this.chartX=P.chartX,this.chartY=P.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(k){var Y;let A,P=((Y=this.chart.pointer)==null?void 0:Y.normalize(k))||k,W=this.options.vertical?"chartY":"chartX",H=this.initPositions||[];this.grabbedCenter&&(!k.touches||k.touches[0][W]!==0)&&(A=this.cursorToScrollbarPosition(P)[W]-this[W],this.hasDragged=!0,this.updatePosition(H[0]+A,H[1]+A),this.hasDragged&&ra(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:k.type,DOMEvent:k}))}mouseUpHandler(k){this.hasDragged&&ra(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:k.type,DOMEvent:k}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(k,A,P,W){let{buttonsEnabled:H,margin:Y=0,vertical:ne}=this.options,se=this.rendered?"animate":"attr",oe=W,ee=0;this.group.show(),this.x=k,this.y=A+this.trackBorderWidth,this.width=P,this.height=W,this.xOffset=oe,this.yOffset=ee,ne?(this.width=this.yOffset=P=ee=this.size,this.xOffset=oe=0,this.yOffset=ee=H?this.size:0,this.barWidth=W-(H?2*P:0),this.x=k+=Y):(this.height=W=this.size,this.xOffset=oe=H?this.size:0,this.barWidth=P-(H?2*W:0),this.y=this.y+Y),this.group[se]({translateX:k,translateY:this.y}),this.track[se]({width:P,height:W}),this.scrollbarButtons[1][se]({translateX:ne?0:P-oe,translateY:ne?W-ee:0})}removeEvents(){this._events.forEach(function(k){Ut.apply(null,k)}),this._events.length=0}render(){let k=this.renderer,A=this.options,P=this.size,W=this.chart.styledMode,H=k.g("scrollbar").attr({zIndex:A.zIndex}).hide().add();this.group=H,this.track=k.rect().addClass("highcharts-scrollbar-track").attr({r:A.trackBorderRadius||0,height:P,width:P}).add(H),W||this.track.attr({fill:A.trackBackgroundColor,stroke:A.trackBorderColor,"stroke-width":A.trackBorderWidth});let Y=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-ta(0,Y),y:-ta(0,Y)}),this.scrollbarGroup=k.g().add(H),this.scrollbar=k.rect().addClass("highcharts-scrollbar-thumb").attr({height:P-Y,width:P-Y,r:A.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=k.path(zn.swapXY([["M",-3,P/4],["L",-3,2*P/3],["M",0,P/4],["L",0,2*P/3],["M",3,P/4],["L",3,2*P/3]],A.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),W||(this.scrollbar.attr({fill:A.barBackgroundColor,stroke:A.barBorderColor,"stroke-width":A.barBorderWidth}),this.scrollbarRifles.attr({stroke:A.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-ta(0,this.scrollbarStrokeWidth),-ta(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(k,A){let P,W,H=this.options,Y=H.vertical,ne=H.minWidth,se=this.barWidth,oe=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!oh(se))return;let ee=se*Math.min(A,1);P=Math.ceil(se*(k=Math.max(k,0))),this.calculatedWidth=W=us(ee-P),W<ne&&(P=(se-ne+W)*k,W=ne);let re=Math.floor(P+this.xOffset+this.yOffset),V=W/2-.5;this.from=k,this.to=A,Y?(this.scrollbarGroup[oe]({translateY:re}),this.scrollbar[oe]({height:W}),this.scrollbarRifles[oe]({translateY:V}),this.scrollbarTop=re,this.scrollbarLeft=0):(this.scrollbarGroup[oe]({translateX:re}),this.scrollbar[oe]({width:W}),this.scrollbarRifles[oe]({translateX:V}),this.scrollbarLeft=re,this.scrollbarTop=0),W<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),H.showFull===!1&&(k<=0&&A>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(k){return $n(this.options.liveRedraw,ie().svg&&!ie().isTouchDevice&&!this.chart.boosted)||k==="mouseup"||k==="touchend"||!oh(k)}trackClick(k){var Y;let A=((Y=this.chart.pointer)==null?void 0:Y.normalize(k))||k,P=this.to-this.from,W=this.y+this.scrollbarTop,H=this.x+this.scrollbarLeft;this.options.vertical&&A.chartY>W||!this.options.vertical&&A.chartX>H?this.updatePosition(this.from+P,this.to+P):this.updatePosition(this.from-P,this.to-P),ra(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}update(k){this.destroy(),this.init(this.chart.renderer,rl(!0,this.options,k),this.chart)}updatePosition(k,A){A>1&&(k=us(1-us(A-k)),A=1),k<0&&(A=us(A-k),k=0),this.from=k,this.to=A}}zn.defaultOptions=ea;var ch=je(540),lm=je.n(ch);let{defaultOptions:qc}=ie(),{isTouchDevice:cm}=ie(),{prototype:{symbols:dh}}=lm(),{addEvent:yr,clamp:uh,correctFloat:il,defined:Ws,destroyObjectProperties:dm,erase:vn,extend:hh,find:fh,fireEvent:Us,isArray:Kc,isNumber:sr,merge:qi,pick:di,removeEvent:nl,splat:ph}=ie();function Hs(K,...k){let A=[].filter.call(k,sr);if(A.length)return Math[K].apply(0,A)}class hs{static compose(k,A,P){Yg.compose(k,hs),nm.compose(k,A,P)}constructor(k){this.isDirty=!1,this.scrollbarHeight=0,this.init(k)}drawHandle(k,A,P,W){let H=this.navigatorOptions.handles.height;this.handles[A][W](P?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(k,10)+.5-H)}:{translateX:Math.round(this.left+parseInt(k,10)),translateY:Math.round(this.top+this.height/2-H/2-1)})}drawOutline(k,A,P,W){let H=this.navigatorOptions.maskInside,Y=this.outline.strokeWidth(),ne=Y/2,se=Y%2/2,oe=this.scrollButtonSize,ee=this.size,re=this.top,V=this.height,Q=re-ne,Z=re+V,le=this.left,ue,ke;P?(ue=re+A+se,A=re+k+se,ke=[["M",le+V,re-oe-se],["L",le+V,ue],["L",le,ue],["M",le,A],["L",le+V,A],["L",le+V,re+ee+oe]],H&&ke.push(["M",le+V,ue-ne],["L",le+V,A+ne])):(le-=oe,k+=le+oe-se,A+=le+oe-se,ke=[["M",le,Q],["L",k,Q],["L",k,Z],["M",A,Z],["L",A,Q],["L",le+ee+2*oe,Q]],H&&ke.push(["M",k-ne,Q],["L",A+ne,Q])),this.outline[W]({d:ke})}drawMasks(k,A,P,W){let H,Y,ne,se,oe=this.left,ee=this.top,re=this.height;P?(ne=[oe,oe,oe],se=[ee,ee+k,ee+A],Y=[re,re,re],H=[k,A-k,this.size-A]):(ne=[oe,oe+k,oe+A],se=[ee,ee,ee],Y=[k,A-k,this.size-A],H=[re,re,re]),this.shades.forEach((V,Q)=>{V[W]({x:ne[Q],y:se[Q],width:Y[Q],height:H[Q]})})}renderElements(){var oe;let k=this,A=k.navigatorOptions,P=A.maskInside,W=k.chart,H=W.inverted,Y=W.renderer,ne={cursor:H?"ns-resize":"ew-resize"},se=k.navigatorGroup??(k.navigatorGroup=Y.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!P,P,!P].forEach((ee,re)=>{let V=k.shades[re]??(k.shades[re]=Y.rect().addClass("highcharts-navigator-mask"+(re===1?"-inside":"-outside")).add(se));W.styledMode||(V.attr({fill:ee?A.maskFill:"rgba(0,0,0,0)"}),re===1&&V.css(ne))}),k.outline||(k.outline=Y.path().addClass("highcharts-navigator-outline").add(se)),W.styledMode||k.outline.attr({"stroke-width":A.outlineWidth,stroke:A.outlineColor}),(oe=A.handles)==null?void 0:oe.enabled){let ee=A.handles,{height:re,width:V}=ee;[0,1].forEach(Q=>{var le;let Z=ee.symbols[Q];if(k.handles[Q]&&k.handles[Q].symbolUrl===Z){if(!k.handles[Q].isImg&&k.handles[Q].symbolName!==Z){let ue=dh[Z].call(dh,-V/2-1,0,V,re);k.handles[Q].attr({d:ue}),k.handles[Q].symbolName=Z}}else(le=k.handles[Q])==null||le.destroy(),k.handles[Q]=Y.symbol(Z,-V/2-1,0,V,re,ee),k.handles[Q].attr({zIndex:7-Q}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][Q]).add(se),k.addMouseEvents();W.inverted&&k.handles[Q].attr({rotation:90,rotationOriginX:Math.floor(-V/2),rotationOriginY:(re+V)/2}),W.styledMode||k.handles[Q].attr({fill:ee.backgroundColor,stroke:ee.borderColor,"stroke-width":ee.lineWidth,width:ee.width,height:ee.height,x:-V/2-1,y:0}).css(ne)})}}update(k,A=!1){var H;let P=this.chart,W=P.options.chart.inverted!==((H=P.scrollbar)==null?void 0:H.options.vertical);if(qi(!0,P.options.navigator,k),this.navigatorOptions=P.options.navigator||{},this.setOpposite(),Ws(k.enabled)||W)return this.destroy(),this.navigatorEnabled=k.enabled||this.navigatorEnabled,this.init(P);if(this.navigatorEnabled&&(this.isDirty=!0,k.adaptToUpdatedData===!1&&this.baseSeries.forEach(Y=>{nl(Y,"updatedData",this.updatedDataHandler)},this),k.adaptToUpdatedData&&this.baseSeries.forEach(Y=>{Y.eventsToUnbind.push(yr(Y,"updatedData",this.updatedDataHandler))},this),(k.series||k.baseSeries)&&this.setBaseSeries(void 0,!1),k.height||k.xAxis||k.yAxis)){this.height=k.height??this.height;let Y=this.getXAxisOffsets();this.xAxis.update({...k.xAxis,offsets:Y,[P.inverted?"width":"height"]:this.height,[P.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...k.yAxis,[P.inverted?"width":"height"]:this.height},!1)}A&&P.redraw()}render(k,A,P,W){let H=this.chart,Y=this.xAxis,ne=Y.pointRange||0,se=Y.navigatorAxis.fake?H.xAxis[0]:Y,oe=this.navigatorEnabled,ee=this.rendered,re=H.inverted,V=H.xAxis[0].minRange,Q=H.xAxis[0].options.maxRange,Z=this.scrollButtonSize,le,ue,ke,_e=this.scrollbarHeight,ze,Ne;if(this.hasDragged&&!Ws(P))return;if(this.isDirty&&this.renderElements(),k=il(k-ne/2),A=il(A+ne/2),!sr(k)||!sr(A))if(ee)P=0,W=di(Y.width,se.width);else return;this.left=di(Y.left,H.plotLeft+Z+(re?H.plotWidth:0));let Pe=this.size=ze=di(Y.len,(re?H.plotHeight:H.plotWidth)-2*Z);le=re?_e:ze+2*Z,P=di(P,Y.toPixels(k,!0)),W=di(W,Y.toPixels(A,!0)),sr(P)&&Math.abs(P)!==1/0||(P=0,W=le);let Re=Y.toValue(P,!0),De=Y.toValue(W,!0),Ue=Math.abs(il(De-Re));Ue<V?this.grabbedLeft?P=Y.toPixels(De-V-ne,!0):this.grabbedRight&&(W=Y.toPixels(Re+V+ne,!0)):Ws(Q)&&il(Ue-ne)>Q&&(this.grabbedLeft?P=Y.toPixels(De-Q-ne,!0):this.grabbedRight&&(W=Y.toPixels(Re+Q+ne,!0))),this.zoomedMax=uh(Math.max(P,W),0,Pe),this.zoomedMin=uh(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(P,W),0,Pe),this.range=this.zoomedMax-this.zoomedMin,Pe=Math.round(this.zoomedMax);let Be=Math.round(this.zoomedMin);oe&&(this.navigatorGroup.attr({visibility:"inherit"}),Ne=ee&&!this.hasDragged?"animate":"attr",this.drawMasks(Be,Pe,re,Ne),this.drawOutline(Be,Pe,re,Ne),this.navigatorOptions.handles.enabled&&(this.drawHandle(Be,0,re,Ne),this.drawHandle(Pe,1,re,Ne))),this.scrollbar&&(re?(ke=this.top-Z,ue=this.left-_e+(oe||!se.opposite?0:(se.titleOffset||0)+se.axisTitleMargin),_e=ze+2*Z):(ke=this.top+(oe?this.height:-_e),ue=this.left-Z),this.scrollbar.position(ue,ke,le,_e),this.scrollbar.setRange(this.zoomedMin/(ze||1),this.zoomedMax/(ze||1))),this.rendered=!0,this.isDirty=!1,Us(this,"afterRender")}addMouseEvents(){let k=this,A=k.chart,P=A.container,W=[],H,Y;k.mouseMoveHandler=H=function(ne){k.onMouseMove(ne)},k.mouseUpHandler=Y=function(ne){k.onMouseUp(ne)},(W=k.getPartsEvents("mousedown")).push(yr(A.renderTo,"mousemove",H),yr(P.ownerDocument,"mouseup",Y),yr(A.renderTo,"touchmove",H),yr(P.ownerDocument,"touchend",Y)),W.concat(k.getPartsEvents("touchstart")),k.eventsToUnbind=W,k.series&&k.series[0]&&W.push(yr(k.series[0].xAxis,"foundExtremes",function(){A.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(k){let A=this,P=[];return["shades","handles"].forEach(function(W){A[W].forEach(function(H,Y){P.push(yr(H.element,k,function(ne){A[W+"Mousedown"](ne,Y)}))})}),P}shadesMousedown(k,A){var Z;k=((Z=this.chart.pointer)==null?void 0:Z.normalize(k))||k;let P=this.chart,W=this.xAxis,H=this.zoomedMin,Y=this.size,ne=this.range,se=this.left,oe=k.chartX,ee,re,V,Q;P.inverted&&(oe=k.chartY,se=this.top),A===1?(this.grabbedCenter=oe,this.fixedWidth=ne,this.dragOffset=oe-H):(Q=oe-se-ne/2,A===0?Q=Math.max(0,Q):A===2&&Q+ne>=Y&&(Q=Y-ne,this.reversedExtremes?(Q-=ne,re=this.getUnionExtremes().dataMin):ee=this.getUnionExtremes().dataMax),Q!==H&&(this.fixedWidth=ne,Ws((V=W.navigatorAxis.toFixedRange(Q,Q+ne,re,ee)).min)&&Us(this,"setRange",{min:Math.min(V.min,V.max),max:Math.max(V.min,V.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(k,A){var Y;k=((Y=this.chart.pointer)==null?void 0:Y.normalize(k))||k;let P=this.chart,W=P.xAxis[0],H=this.reversedExtremes;A===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=H?W.min:W.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=H?W.max:W.min),P.setFixedRange(void 0)}onMouseMove(k){var ee;let A=this,P=A.chart,W=A.navigatorSize,H=A.range,Y=A.dragOffset,ne=P.inverted,se=A.left,oe;(!k.touches||k.touches[0].pageX!==0)&&(oe=(k=((ee=P.pointer)==null?void 0:ee.normalize(k))||k).chartX,ne&&(se=A.top,oe=k.chartY),A.grabbedLeft?(A.hasDragged=!0,A.render(0,0,oe-se,A.otherHandlePos)):A.grabbedRight?(A.hasDragged=!0,A.render(0,0,A.otherHandlePos,oe-se)):A.grabbedCenter&&(A.hasDragged=!0,oe<Y?oe=Y:oe>W+Y-H&&(oe=W+Y-H),A.render(0,0,oe-Y,oe-Y+H)),A.hasDragged&&A.scrollbar&&di(A.scrollbar.options.liveRedraw,!cm&&!this.chart.boosted)&&(k.DOMType=k.type,setTimeout(function(){A.onMouseUp(k)},0)))}onMouseUp(k){let A,P,W,H,Y,ne,se=this.chart,oe=this.xAxis,ee=this.scrollbar,re=k.DOMEvent||k,V=se.inverted,Q=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!ee||!ee.hasDragged)||k.trigger==="scrollbar")&&(W=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?H=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(Y=this.fixedExtreme),this.zoomedMax===this.size&&(Y=this.reversedExtremes?W.dataMin:W.dataMax),this.zoomedMin===0&&(H=this.reversedExtremes?W.dataMax:W.dataMin),Ws((ne=oe.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,H,Y)).min)&&Us(this,"setRange",{min:Math.min(ne.min,ne.max),max:Math.max(ne.min,ne.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:re}})),k.DOMType!=="mousemove"&&k.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&sr(this.zoomedMin)&&sr(this.zoomedMax)&&(P=Math.round(this.zoomedMin),A=Math.round(this.zoomedMax),this.shades&&this.drawMasks(P,A,V,Q),this.outline&&this.drawOutline(P,A,V,Q),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(P,0,V,Q),this.drawHandle(A,1,V,Q)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(k){k()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let k=this.baseSeries||[];this.navigatorEnabled&&k[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&k.forEach(function(A){nl(A,"updatedData",this.updatedDataHandler)},this),k[0].xAxis&&nl(k[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(k){var le,ue;let A=k.options,P=A.navigator||{},W=P.enabled,H=A.scrollbar||{},Y=H.enabled,ne=W&&P.height||0,se=Y&&H.height||0,oe=H.buttonsEnabled&&se||0;this.handles=[],this.shades=[],this.chart=k,this.setBaseSeries(),this.height=ne,this.scrollbarHeight=se,this.scrollButtonSize=oe,this.scrollbarEnabled=Y,this.navigatorEnabled=W,this.navigatorOptions=P,this.scrollbarOptions=H,this.setOpposite();let ee=this,re=ee.baseSeries,V=k.xAxis.length,Q=k.yAxis.length,Z=re&&re[0]&&re[0].xAxis||k.xAxis[0]||{options:{}};if(k.isDirtyBox=!0,ee.navigatorEnabled){let ke=this.getXAxisOffsets();ee.xAxis=new(vt())(k,qi({breaks:Z.options.breaks,ordinal:Z.options.ordinal,overscroll:Z.options.overscroll},P.xAxis,{type:"datetime",yAxis:(le=P.yAxis)==null?void 0:le.id,index:V,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:Z.options.ordinal?0:Z.options.minPadding,maxPadding:Z.options.ordinal?0:Z.options.maxPadding,zoomEnabled:!1},k.inverted?{offsets:ke,width:ne}:{offsets:ke,height:ne}),"xAxis"),ee.yAxis=new(vt())(k,qi(P.yAxis,{alignTicks:!1,offset:0,index:Q,isInternal:!0,reversed:di(P.yAxis&&P.yAxis.reversed,k.yAxis[0]&&k.yAxis[0].reversed,!1),zoomEnabled:!1},k.inverted?{width:ne}:{height:ne}),"yAxis"),re||P.series.data?ee.updateNavigatorSeries(!1):k.series.length===0&&(ee.unbindRedraw=yr(k,"beforeRedraw",function(){k.series.length>0&&!ee.series&&(ee.setBaseSeries(),ee.unbindRedraw())})),ee.reversedExtremes=k.inverted&&!ee.xAxis.reversed||!k.inverted&&ee.xAxis.reversed,ee.renderElements(),ee.addMouseEvents()}else ee.xAxis={chart:k,navigatorAxis:{fake:!0},translate:function(ke,_e){let ze=k.xAxis[0],Ne=ze.getExtremes(),Pe=ze.len-2*oe,Re=Hs("min",ze.options.min,Ne.dataMin),De=Hs("max",ze.options.max,Ne.dataMax)-Re;return _e?ke*De/Pe+Re:Pe*(ke-Re)/De},toPixels:function(ke){return this.translate(ke)},toValue:function(ke){return this.translate(ke,!0)}},ee.xAxis.navigatorAxis.axis=ee.xAxis,ee.xAxis.navigatorAxis.toFixedRange=Hc.prototype.toFixedRange.bind(ee.xAxis.navigatorAxis);if((ue=k.options.scrollbar)!=null&&ue.enabled){let ke=qi(k.options.scrollbar,{vertical:k.inverted});sr(ke.margin)||(ke.margin=k.inverted?-3:3),k.scrollbar=ee.scrollbar=new zn(k.renderer,ke,k),yr(ee.scrollbar,"changed",function(_e){let ze=ee.size,Ne=ze*this.to,Pe=ze*this.from;ee.hasDragged=ee.scrollbar.hasDragged,ee.render(0,0,Pe,Ne),this.shouldUpdateExtremes(_e.DOMType)&&setTimeout(function(){ee.onMouseUp(_e)})})}ee.addBaseSeriesEvents(),ee.addChartEvents()}setOpposite(){let k=this.navigatorOptions,A=this.navigatorEnabled,P=this.chart;this.opposite=di(k.opposite,!!(!A&&P.inverted))}getUnionExtremes(k){let A,P=this.chart.xAxis[0],W=this.chart.time,H=this.xAxis,Y=H.options,ne=P.options;return k&&P.dataMin===null||(A={dataMin:di(W.parse(Y==null?void 0:Y.min),Hs("min",W.parse(ne.min),P.dataMin,H.dataMin,H.min)),dataMax:di(W.parse(Y==null?void 0:Y.max),Hs("max",W.parse(ne.max),P.dataMax,H.dataMax,H.max))}),A}setBaseSeries(k,A){let P=this.chart,W=this.baseSeries=[];k=k||P.options&&P.options.navigator.baseSeries||(P.series.length?fh(P.series,H=>!H.options.isInternal).index:0),(P.series||[]).forEach((H,Y)=>{!H.options.isInternal&&(H.options.showInNavigator||(Y===k||H.options.id===k)&&H.options.showInNavigator!==!1)&&W.push(H)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,A)}updateNavigatorSeries(k,A){var V,Q;let P=this,W=P.chart,H=P.baseSeries,Y={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:(V=this.navigatorOptions.xAxis)==null?void 0:V.id,yAxis:(Q=this.navigatorOptions.yAxis)==null?void 0:Q.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},ne=P.series=(P.series||[]).filter(Z=>{let le=Z.baseSeries;return!(0>H.indexOf(le))||(le&&(nl(le,"updatedData",P.updatedDataHandler),delete le.navigatorSeries),Z.chart&&Z.destroy(),!1)}),se,oe,ee=P.navigatorOptions.series,re;H&&H.length&&H.forEach(Z=>{var _e;let le=Z.navigatorSeries,ue=hh({color:Z.color,visible:Z.visible},Kc(ee)?qc.navigator.series:ee);if(le&&P.navigatorOptions.adaptToUpdatedData===!1)return;Y.name="Navigator "+H.length,re=(se=Z.options||{}).navigatorOptions||{},ue.dataLabels=ph(ue.dataLabels),(oe=qi(se,Y,ue,re)).pointRange=di(ue.pointRange,re.pointRange,qc.plotOptions[oe.type||"line"].pointRange);let ke=re.data||ue.data;P.hasNavigatorData=P.hasNavigatorData||!!ke,oe.data=ke||((_e=se.data)==null?void 0:_e.slice(0)),le&&le.options?le.update(oe,A):(Z.navigatorSeries=W.initSeries(oe),W.setSortedData(),Z.navigatorSeries.baseSeries=Z,ne.push(Z.navigatorSeries))}),(ee.data&&!(H&&H.length)||Kc(ee))&&(P.hasNavigatorData=!1,(ee=ph(ee)).forEach((Z,le)=>{Y.name="Navigator "+(ne.length+1),(oe=qi(qc.navigator.series,{color:W.series[le]&&!W.series[le].options.isInternal&&W.series[le].color||W.options.colors[le]||W.options.colors[0]},Y,Z)).data=Z.data,oe.data&&(P.hasNavigatorData=!0,ne.push(W.initSeries(oe)))})),k&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let k=this,A=k.baseSeries||[];A[0]&&A[0].xAxis&&A[0].eventsToUnbind.push(yr(A[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),A.forEach(P=>{P.eventsToUnbind.push(yr(P,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),P.eventsToUnbind.push(yr(P,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&P.xAxis&&P.eventsToUnbind.push(yr(P,"updatedData",this.updatedDataHandler)),P.eventsToUnbind.push(yr(P,"remove",function(){A&&vn(A,P),this.navigatorSeries&&k.series&&(vn(k.series,this.navigatorSeries),Ws(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(k){return this.baseSeries.reduce(function(A,P){return Math.min(A,P.getColumn("x")[0]??A)},k)}modifyNavigatorAxisExtremes(){let k=this.xAxis;if(k.getExtremes!==void 0){let A=this.getUnionExtremes(!0);A&&(A.dataMin!==k.min||A.dataMax!==k.max)&&(k.min=A.dataMin,k.max=A.dataMax)}}modifyBaseAxisExtremes(){var le;let k,A,P=this.chart.navigator,W=this.getExtremes(),H=W.min,Y=W.max,ne=W.dataMin,se=W.dataMax,oe=Y-H,ee=P.stickToMin,re=P.stickToMax,V=di((le=this.ordinal)==null?void 0:le.convertOverscroll(this.options.overscroll),0),Q=P.series&&P.series[0],Z=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(ee&&(k=(A=ne)+oe),re&&(k=se+V,ee||(A=Math.max(ne,k-oe,P.getBaseSeriesMin(Q&&Q.xData?Q.xData[0]:-Number.MAX_VALUE)))),Z&&(ee||re)&&sr(A)&&(this.min=this.userMin=A,this.max=this.userMax=k)),P.stickToMin=P.stickToMax=null}updatedDataHandler(){let k=this.chart.navigator,A=this.navigatorSeries,P=k.reversedExtremes?Math.round(k.zoomedMin)===0:Math.round(k.zoomedMax)>=Math.round(k.size);k.stickToMax=di(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,P),k.stickToMin=k.shouldStickToMin(this,k),A&&!k.hasNavigatorData&&(A.options.pointStart=this.getColumn("x")[0],A.setData(this.options.data,!1,null,!1))}shouldStickToMin(k,A){let P=A.getBaseSeriesMin(k.getColumn("x")[0]),W=k.xAxis,H=W.max,Y=W.min,ne=W.options.range;return!!(sr(H)&&sr(Y))&&(ne&&H-P>0?H-P<ne:Y<=P)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(yr(this.chart,"redraw",function(){let k=this.navigator,A=k&&(k.baseSeries&&k.baseSeries[0]&&k.baseSeries[0].xAxis||this.xAxis[0]);A&&k.render(A.min,A.max)}),yr(this.chart,"getMargins",function(){var P;let k=this.navigator,A=k.opposite?"plotTop":"marginBottom";this.inverted&&(A=k.opposite?"marginRight":"plotLeft"),this[A]=(this[A]||0)+(k.navigatorEnabled||!this.inverted?k.height+(((P=this.scrollbar)==null?void 0:P.options.margin)||0)+k.scrollbarHeight:0)+(k.navigatorOptions.margin||0)}),yr(hs,"setRange",function(k){this.chart.xAxis[0].setExtremes(k.min,k.max,k.redraw,k.animation,k.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(vn(this.chart.xAxis,this.xAxis),vn(this.chart.axes,this.xAxis)),this.yAxis&&(vn(this.chart.yAxis,this.yAxis),vn(this.chart.axes,this.yAxis)),(this.series||[]).forEach(k=>{k.destroy&&k.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(k=>{this[k]&&this[k].destroy&&this[k].destroy(),this[k]=null}),[this.handles].forEach(k=>{dm(k)}),this.baseSeries.forEach(k=>{k.navigatorSeries=void 0}),this.navigatorEnabled=!1}}(function(K){K.setLength=function(k,A,P){return Array.isArray(k)?(k.length=A,k):k[P?"subarray":"slice"](0,A)},K.splice=function(k,A,P,W,H=[]){if(Array.isArray(k))return Array.isArray(H)||(H=Array.from(H)),{removed:k.splice(A,P,...H),array:k};let Y=Object.getPrototypeOf(k).constructor,ne=k[W?"subarray":"slice"](A,A+P),se=new Y(k.length-P+H.length);return se.set(k.subarray(0,A),0),se.set(H,A),se.set(k.subarray(A+P),A+H.length),{removed:ne,array:se}}})(ae||(ae={}));let{setLength:um,splice:gh}=ae,{fireEvent:sl,objectEach:Gs,uniqueKey:Ki}=ie(),mh=class{constructor(K={}){this.autoId=!K.id,this.columns={},this.id=K.id||Ki(),this.modified=this,this.rowCount=0,this.versionTag=Ki();let k=0;Gs(K.columns||{},(A,P)=>{this.columns[P]=A.slice(),k=Math.max(k,A.length)}),this.applyRowCount(k)}applyRowCount(K){this.rowCount=K,Gs(this.columns,(k,A)=>{k.length!==K&&(this.columns[A]=um(k,K))})}deleteRows(K,k=1){if(k>0&&K<this.rowCount){let A=0;Gs(this.columns,(P,W)=>{this.columns[W]=gh(P,K,k).array,A=P.length}),this.rowCount=A}sl(this,"afterDeleteRows",{rowIndex:K,rowCount:k}),this.versionTag=Ki()}getColumn(K,k){return this.columns[K]}getColumns(K,k){return(K||Object.keys(this.columns)).reduce((A,P)=>(A[P]=this.columns[P],A),{})}getRow(K,k){return(k||Object.keys(this.columns)).map(A=>{var P;return(P=this.columns[A])==null?void 0:P[K]})}setColumn(K,k=[],A=0,P){this.setColumns({[K]:k},A,P)}setColumns(K,k,A){let P=this.rowCount;Gs(K,(W,H)=>{this.columns[H]=W.slice(),P=W.length}),this.applyRowCount(P),A!=null&&A.silent||(sl(this,"afterSetColumns"),this.versionTag=Ki())}setRow(K,k=this.rowCount,A,P){let{columns:W}=this,H=A?this.rowCount+1:k+1;Gs(K,(Y,ne)=>{let se=W[ne]||(P==null?void 0:P.addColumns)!==!1&&Array(H);se&&(A?se=gh(se,k,0,!0,[Y]).array:se[k]=Y,W[ne]=se)}),H>this.rowCount&&this.applyRowCount(H),P!=null&&P.silent||(sl(this,"afterSetRows"),this.versionTag=Ki())}},{addEvent:Zi,correctFloat:ol,css:hm,defined:Qi,error:Zc,isNumber:Qc,pick:Vs,timeUnits:vh,isString:Ji}=ie();(function(K){function k(V,Q,Z,le,ue=[],ke=0,_e){let ze={},Ne=this.options.tickPixelInterval,Pe=this.chart.time,Re=[],De,Ue,Be,Xe,Le,et=0,qe=[],zt=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!ue||ue.length<3||Q===void 0)return Pe.getTimeTicks.apply(Pe,arguments);let it=ue.length;for(De=0;De<it;De++){if(Le=De&&ue[De-1]>Z,ue[De]<Q&&(et=De),De===it-1||ue[De+1]-ue[De]>5*ke||Le){if(ue[De]>zt){for(Ue=Pe.getTimeTicks(V,ue[et],ue[De],le);Ue.length&&Ue[0]<=zt;)Ue.shift();Ue.length&&(zt=Ue[Ue.length-1]),Re.push(qe.length),qe=qe.concat(Ue)}et=De+1}if(Le)break}if(Ue){if(Xe=Ue.info,_e&&Xe.unitRange<=vh.hour){for(et=1,De=qe.length-1;et<De;et++)Pe.dateFormat("%d",qe[et])!==Pe.dateFormat("%d",qe[et-1])&&(ze[qe[et]]="day",Be=!0);Be&&(ze[qe[0]]="day"),Xe.higherRanks=ze}Xe.segmentStarts=Re,qe.info=Xe}else Zc(12,!1,this.chart);if(_e&&Qi(Ne)){let at=qe.length,kr=[],Bt=[],mt,xt,Lt,mr,ki,Ar=at;for(;Ar--;)xt=this.translate(qe[Ar]),Lt&&(Bt[Ar]=Lt-xt),kr[Ar]=Lt=xt;for(Bt.sort((oo,ca)=>oo-ca),(mr=Bt[Math.floor(Bt.length/2)])<.6*Ne&&(mr=null),Ar=qe[at-1]>Z?at-1:at,Lt=void 0;Ar--;)ki=Math.abs(Lt-(xt=kr[Ar])),Lt&&ki<.8*Ne&&(mr===null||ki<.8*mr)?(ze[qe[Ar]]&&!ze[qe[Ar+1]]?(mt=Ar+1,Lt=xt):mt=Ar,qe.splice(mt,1)):Lt=xt}return qe}function A(V){let Q=this.ordinal.positions;if(!Q)return V;let Z=Q.length-1,le;return V<0?V=Q[0]:V>Z?V=Q[Z]:(Z=Math.floor(V),le=V-Z),le!==void 0&&Q[Z]!==void 0?Q[Z]+(le?le*(Q[Z+1]-Q[Z]):0):V}function P(V){let Q=this.ordinal,Z=this.old?this.old.min:this.min,le=this.old?this.old.transA:this.transA,ue=Q.getExtendedPositions();if(ue!=null&&ue.length){let ke=ol((V-Z)*le+this.minPixelPadding),_e=ol(Q.getIndexOfPoint(ke,ue)),ze=ol(_e%1);if(_e>=0&&_e<=ue.length-1){let Ne=ue[Math.floor(_e)],Pe=ue[Math.ceil(_e)];return ue[Math.floor(_e)]+ze*(Pe-Ne)}}return V}function W(V,Q){let Z=K.Additions.findIndexOf(V,Q,!0);if(V[Z]===Q)return Z;let le=(Q-V[Z])/(V[Z+1]-V[Z]);return Z+le}function H(){this.ordinal||(this.ordinal=new K.Additions(this))}function Y(){let{eventArgs:V,options:Q}=this;if(this.isXAxis&&Qi(Q.overscroll)&&Q.overscroll!==0&&Qc(this.max)&&Qc(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&((V==null?void 0:V.trigger)!=="pan"||this.isInternal)&&(V==null?void 0:V.trigger)!=="navigator")){let Z=this.ordinal.convertOverscroll(Q.overscroll);this.max+=Z,!this.isInternal&&Qi(this.userMin)&&(V==null?void 0:V.trigger)!=="mousewheel"&&(this.min+=Z)}}function ne(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function se(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function oe(V){var _e;let Q=this.xAxis[0],Z=Q.ordinal.convertOverscroll(Q.options.overscroll),le=V.originalEvent.chartX,ue=this.options.chart.panning,ke=!1;if((ue==null?void 0:ue.type)!=="y"&&Q.options.ordinal&&Q.series.length&&(!V.touches||V.touches.length<=1)){let ze,Ne,Pe=this.mouseDownX,Re=Q.getExtremes(),De=Re.dataMin,Ue=Re.dataMax,Be=Re.min,Xe=Re.max,Le=this.hoverPoints,et=Q.closestPointRange||((_e=Q.ordinal)==null?void 0:_e.overscrollPointsRange),qe=Math.round((Pe-le)/(Q.translationSlope*(Q.ordinal.slope||et))),zt=Q.ordinal.getExtendedPositions(),it={ordinal:{positions:zt,extendedOrdinalPositions:zt}},at=Q.index2val,kr=Q.val2lin;if(Be<=De&&qe<=0||Xe>=Ue+Z&&qe>=0)return void V.preventDefault();it.ordinal.positions?Math.abs(qe)>1&&(Le&&Le.forEach(function(Bt){Bt.setState()}),Ne=it.ordinal.positions,Z&&(Ne=it.ordinal.positions=Ne.concat(Q.ordinal.getOverscrollPositions())),Ue>Ne[Ne.length-1]&&Ne.push(Ue),this.setFixedRange(Xe-Be),(ze=Q.navigatorAxis.toFixedRange(void 0,void 0,at.apply(it,[kr.apply(it,[Be,!0])+qe]),at.apply(it,[kr.apply(it,[Xe,!0])+qe]))).min>=Math.min(Ne[0],Be)&&ze.max<=Math.max(Ne[Ne.length-1],Xe)+Z&&Q.setExtremes(ze.min,ze.max,!0,!1,{trigger:"pan"}),this.mouseDownX=le,hm(this.container,{cursor:"move"})):ke=!0}else ke=!0;ke||ue&&/y/.test(ue.type)?Z&&Qc(Q.dataMax)&&(Q.max=Q.dataMax+Z):V.preventDefault()}function ee(){let V=this.xAxis;V!=null&&V.options.ordinal&&(delete V.ordinal.index,delete V.ordinal.originalOrdinalRange)}function re(V,Q){var Ne;let Z,le=this.ordinal,ue=le.positions,ke=le.slope,_e;if(!ue)return V;let ze=ue.length;if(ue[0]<=V&&ue[ze-1]>=V)Z=W(ue,V);else{if(_e=(Ne=le.getExtendedPositions)==null?void 0:Ne.call(le),!(_e!=null&&_e.length))return V;let Pe=_e.length;ke||(ke=(_e[Pe-1]-_e[0])/Pe);let Re=W(_e,ue[0]);if(V>=_e[0]&&V<=_e[Pe-1])Z=W(_e,V)-Re;else{if(!Q)return V;Z=V<_e[0]?-Re-(_e[0]-V)/ke:(V-_e[Pe-1])/ke+Pe-Re}}return Q?Z:ke*(Z||0)+le.offset}K.compose=function(V,Q,Z){let le=V.prototype;return le.ordinal2lin||(le.getTimeTicks=k,le.index2val=A,le.lin2val=P,le.val2lin=re,le.ordinal2lin=le.val2lin,Zi(V,"afterInit",H),Zi(V,"foundExtremes",Y),Zi(V,"afterSetScale",ne),Zi(V,"initialAxisTranslation",se),Zi(Z,"pan",oe),Zi(Z,"touchpan",oe),Zi(Q,"updatedData",ee)),V},K.Additions=class{constructor(V){this.index={},this.axis=V}beforeSetTickPositions(){var at;let V=this.axis,Q=V.ordinal,Z=V.getExtremes(),le=Z.min,ue=Z.max,ke=(at=V.brokenAxis)==null?void 0:at.hasBreaks,_e=V.options.ordinal,ze=V.options.overscroll&&V.ordinal.convertOverscroll(V.options.overscroll)||0,Ne,Pe,Re,De,Ue,Be,Xe,Le=[],et=Number.MAX_VALUE,qe=!1,zt=!1,it=!1;if(_e||ke){let kr=0;if(V.series.forEach(function(Bt,mt){let xt=Bt.getColumn("x",!0);if(Pe=[],mt>0&&Bt.options.id!=="highcharts-navigator-series"&&xt.length>1&&(zt=kr!==xt[1]-xt[0]),kr=xt[1]-xt[0],Bt.boosted&&(it=Bt.boosted),Bt.reserveSpace()&&(Bt.takeOrdinalPosition!==!1||ke)&&(Ne=(Le=Le.concat(xt)).length,Le.sort(function(Lt,mr){return Lt-mr}),et=Math.min(et,Vs(Bt.closestPointRange,et)),Ne)){for(mt=0;mt<Ne-1;)Le[mt]!==Le[mt+1]&&Pe.push(Le[mt+1]),mt++;Pe[0]!==Le[0]&&Pe.unshift(Le[0]),Le=Pe}}),V.ordinal.originalOrdinalRange||(V.ordinal.originalOrdinalRange=(Le.length-1)*et),zt&&it&&(Le.pop(),Le.shift()),(Ne=Le.length)>2){for(Re=Le[1]-Le[0],Xe=Ne-1;Xe--&&!qe;)Le[Xe+1]-Le[Xe]!==Re&&(qe=!0);!V.options.keepOrdinalPadding&&(Le[0]-le>Re||ue-ze-Le[Ne-1]>Re)&&(qe=!0)}else V.options.overscroll&&(Ne===2?et=Le[1]-Le[0]:Ne===1?(et=ze,Le=[Le[0],Le[0]+et]):et=Q.overscrollPointsRange);qe||V.forceOrdinal?(V.options.overscroll&&(Q.overscrollPointsRange=et,Le=Le.concat(Q.getOverscrollPositions())),Q.positions=Le,De=V.ordinal2lin(Math.max(le,Le[0]),!0),Ue=Math.max(V.ordinal2lin(Math.min(ue,Le[Le.length-1]),!0),1),Q.slope=Be=(ue-le)/(Ue-De),Q.offset=le-De*Be):(Q.overscrollPointsRange=Vs(V.closestPointRange,Q.overscrollPointsRange),Q.positions=V.ordinal.slope=Q.offset=void 0)}V.isOrdinal=_e&&qe,Q.groupIntervalFactor=null}static findIndexOf(V,Q,Z){let le=0,ue=V.length-1,ke;for(;le<ue;)V[ke=Math.ceil((le+ue)/2)]<=Q?le=ke:ue=ke-1;return V[le]===Q||Z?le:-1}getExtendedPositions(V=!0){let Q=this,Z=Q.axis,le=Z.constructor.prototype,ue=Z.chart,ke=Z.series.reduce((De,Ue)=>{let Be=Ue.currentDataGrouping;return De+(Be?Be.count+Be.unitName:"raw")},""),_e=V?Z.ordinal.convertOverscroll(Z.options.overscroll):0,ze=Z.getExtremes(),Ne,Pe,Re=Q.index;return Re||(Re=Q.index={}),!Re[ke]&&((Ne={series:[],chart:ue,forceOrdinal:!1,getExtremes:function(){return{min:ze.dataMin,max:ze.dataMax+_e}},applyGrouping:le.applyGrouping,getGroupPixelWidth:le.getGroupPixelWidth,getTimeTicks:le.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:le.ordinal2lin,getIndexOfPoint:le.getIndexOfPoint,val2lin:le.val2lin}).ordinal.axis=Ne,Z.series.forEach(De=>{var Be,Xe,Le;if(De.takeOrdinalPosition===!1)return;Pe={xAxis:Ne,chart:ue,groupPixelWidth:De.groupPixelWidth,destroyGroupedData:ie().noop,getColumn:De.getColumn,applyGrouping:De.applyGrouping,getProcessedData:De.getProcessedData,reserveSpace:De.reserveSpace,visible:De.visible};let Ue=De.getColumn("x").concat(V?Q.getOverscrollPositions():[]);Pe.dataTable=new mh({columns:{x:Ue}}),Pe.options={...De.options,dataGrouping:De.currentDataGrouping?{firstAnchor:(Be=De.options.dataGrouping)==null?void 0:Be.firstAnchor,anchor:(Xe=De.options.dataGrouping)==null?void 0:Xe.anchor,lastAnchor:(Le=De.options.dataGrouping)==null?void 0:Le.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[De.currentDataGrouping.unitName,[De.currentDataGrouping.count]]]}:{enabled:!1}},Ne.series.push(Pe),De.processData.apply(Pe)}),Ne.applyGrouping({hasExtremesChanged:!0}),(Pe==null?void 0:Pe.closestPointRange)!==(Pe==null?void 0:Pe.basePointRange)&&Pe.currentDataGrouping&&(Ne.forceOrdinal=!0),Z.ordinal.beforeSetTickPositions.apply({axis:Ne}),!Z.ordinal.originalOrdinalRange&&Ne.ordinal.originalOrdinalRange&&(Z.ordinal.originalOrdinalRange=Ne.ordinal.originalOrdinalRange),Ne.ordinal.positions&&(Re[ke]=Ne.ordinal.positions)),Re[ke]}getGroupIntervalFactor(V,Q,Z){let le=Z.getColumn("x",!0),ue=le.length,ke=[],_e,ze,Ne=this.groupIntervalFactor;if(!Ne){for(ze=0;ze<ue-1;ze++)ke[ze]=le[ze+1]-le[ze];ke.sort(function(Pe,Re){return Pe-Re}),_e=ke[Math.floor(ue/2)],V=Math.max(V,le[0]),Q=Math.min(Q,le[ue-1]),this.groupIntervalFactor=Ne=ue*_e/(Q-V)}return Ne}getIndexOfPoint(V,Q){let Z=this.axis,le=Z.min,ue=Z.minPixelPadding;return W(Q,le)+ol((V-ue)/(Z.translationSlope*(this.slope||Z.closestPointRange||this.overscrollPointsRange)))}getOverscrollPositions(){let V=this.axis,Q=this.convertOverscroll(V.options.overscroll),Z=this.overscrollPointsRange,le=[],ue=V.dataMax;if(Qi(Z))for(;ue<V.dataMax+Q;)le.push(ue+=Z);return le}postProcessTickInterval(V){let Q=this.axis,Z=this.slope,le=Q.closestPointRange;return Z&&le?Q.options.breaks?le||V:V/(Z/le):V}convertOverscroll(V=0){let Q=this,Z=Q.axis,le=function(ue){return Vs(Q.originalOrdinalRange,Qi(Z.dataMax)&&Qi(Z.dataMin)?Z.dataMax-Z.dataMin:0)*ue};if(Ji(V)){let ue,ke=parseInt(V,10);if(Qi(Z.min)&&Qi(Z.max)&&Qi(Z.dataMin)&&Qi(Z.dataMax)&&((ue=Z.max-Z.min==Z.dataMax-Z.dataMin)||(this.originalOrdinalRange=Z.max-Z.min)),/%$/.test(V))return le(ke/100);if(/px/.test(V)){let _e=Math.min(ke,.9*Z.len)/Z.len;return le(_e/(ue?1-_e:1))}return 0}return V}}})(te||(te={}));let Jc=te,fs={lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"",rangeSelector:{allText:"All",allTitle:"View all",monthText:"{count}m",monthTitle:"View {count} {#eq count 1}month{else}months{/eq}",yearText:"{count}y",yearTitle:"View {count} {#eq count 1}year{else}years{/eq}",ytdText:"YTD",ytdTitle:"View year to date"}},rangeSelector:{allButtonsEnabled:!1,buttons:[{type:"month",count:1},{type:"month",count:3},{type:"month",count:6},{type:"ytd"},{type:"year",count:1},{type:"all"}],buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%[ebY]",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}},{defaultOptions:al}=ie(),{composed:ed}=ie(),{addEvent:Fn,defined:xh,extend:yh,isNumber:Xs,merge:bh,pick:ll,pushUnique:Ys}=ie(),Ri=[];function cl(){let K,k,A=this.range,P=A.type,W=this.max,H=this.chart.time,Y=function(se,oe){let ee=H.toParts(se),re=ee.slice();P==="year"?re[0]+=oe:re[1]+=oe;let V=H.makeTime.apply(H,re),Q=H.toParts(V);return P==="month"&&ee[1]===Q[1]&&Math.abs(oe)===1&&(re[0]=ee[0],re[1]=ee[1],re[2]=0),(V=H.makeTime.apply(H,re))-se};Xs(A)?(K=W-A,k=A):A&&(K=W+Y(W,-(A.count||1)),this.chart&&this.chart.setFixedRange(W-K));let ne=ll(this.dataMin,Number.MIN_VALUE);return Xs(K)||(K=ne),K<=ne&&(K=ne,k===void 0&&(k=Y(K,A.count)),this.newMax=Math.min(K+k,ll(this.dataMax,Number.MAX_VALUE))),Xs(W)?!Xs(A)&&A&&A._offsetMin&&(K+=A._offsetMin):K=void 0,K}function fm(){var K;(K=this.rangeSelector)==null||K.redrawElements()}function pm(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new R(this))}function gm(){let K=this.rangeSelector;if(K){Xs(K.deferredYTDClick)&&(K.clickButton(K.deferredYTDClick),delete K.deferredYTDClick);let k=K.options.verticalAlign;K.options.floating||(k==="bottom"?this.extraBottomMargin=!0:k==="top"&&(this.extraTopMargin=!0))}}function td(){let K,k=this.rangeSelector;if(!k)return;let A=this.xAxis[0].getExtremes(),P=this.legend,W=k&&k.options.verticalAlign;Xs(A.min)&&k.render(A.min,A.max),P.display&&W==="top"&&W===P.options.verticalAlign&&(K=bh(this.spacingBox),P.options.layout==="vertical"?K.y=this.plotTop:K.y+=k.getHeight(),P.group.placed=!1,P.align(K))}function gr(){for(let K=0,k=Ri.length;K<k;++K){let A=Ri[K];if(A[0]===this){A[1].forEach(P=>P()),Ri.splice(K,1);return}}}function en(){var k;let K=this.rangeSelector;if((k=K==null?void 0:K.options)!=null&&k.enabled){let A=K.getHeight(),P=K.options.verticalAlign;K.options.floating||(P==="bottom"?this.marginBottom+=A:P!=="middle"&&(this.plotTop+=A))}}function wh(K){let k=K.options.rangeSelector,A=this.extraBottomMargin,P=this.extraTopMargin,W=this.rangeSelector;if(k&&k.enabled&&!xh(W)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=W=new R(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,W){let H=k&&k.verticalAlign||W.options&&W.options.verticalAlign;W.options.floating||(H==="bottom"?this.extraBottomMargin=!0:H!=="middle"&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==A||this.extraTopMargin!==P)&&(this.isDirtyBox=!0)}}let mm={compose:function(K,k,A){if(R=A,Ys(ed,"RangeSelector")){let P=k.prototype;K.prototype.minFromRange=cl,Fn(k,"afterGetContainer",pm),Fn(k,"beforeRender",gm),Fn(k,"destroy",gr),Fn(k,"getMargins",en),Fn(k,"redraw",td),Fn(k,"update",wh),Fn(k,"beforeRedraw",fm),P.callbacks.push(td),yh(al,{rangeSelector:fs.rangeSelector}),yh(al.lang,fs.lang)}}};var kh=je(28),qs=je.n(kh),vm=je(984),Ks=je.n(vm);let{defaultOptions:dl}=ie(),{format:Wn}=Ks(),{addEvent:Li,createElement:ia,css:ui,defined:tn,destroyObjectProperties:Sh,diffObjects:rd,discardElement:_h,extend:ul,fireEvent:Zs,isNumber:Br,isString:na,merge:Un,objectEach:xm,pick:rn,splat:ym}=ie();function Ch(K){let k=W=>RegExp(`%[[a-zA-Z]*${W}`).test(K);if(na(K)?K.indexOf("%L")!==-1:K.fractionalSecondDigits)return"text";let A=na(K)?["a","A","d","e","w","b","B","m","o","y","Y"].some(k):K.dateStyle||K.day||K.month||K.year,P=na(K)?["H","k","I","l","M","S"].some(k):K.timeStyle||K.hour||K.minute||K.second;return A&&P?"datetime-local":A?"date":P?"time":"text"}class ps{static compose(k,A){mm.compose(k,A,ps)}constructor(k){this.isDirty=!1,this.buttonOptions=[],this.initialButtonGroupWidth=0,this.maxButtonWidth=()=>{let A=0;return this.buttons.forEach(P=>{let W=P.getBBox();W.width>A&&(A=W.width)}),A},this.init(k)}clickButton(k,A){let P=this.chart,W=this.buttonOptions[k],H=P.xAxis[0],Y=P.scroller&&P.scroller.getUnionExtremes()||H||{},ne=W.type,se=W.dataGrouping,oe=Y.dataMin,ee=Y.dataMax,re,V=Br(H==null?void 0:H.max)?Math.round(Math.min(H.max,ee??H.max)):void 0,Q,Z=W._range,le,ue,ke,_e=!0;if(oe!==null&&ee!==null){if(this.setSelected(k),se&&(this.forcedDataGrouping=!0,vt().prototype.setDataGrouping.call(H||{chart:this.chart},se,!1),this.frozenStates=W.preserveDataGrouping),ne==="month"||ne==="year")H?(ue={range:W,max:V,chart:P,dataMin:oe,dataMax:ee},re=H.minFromRange.call(ue),Br(ue.newMax)&&(V=ue.newMax),_e=!1):Z=W;else if(Z)Br(V)&&(V=Math.min((re=Math.max(V-Z,oe))+Z,ee),_e=!1);else if(ne==="ytd")if(H)!H.hasData()||Br(ee)&&Br(oe)||(oe=Number.MAX_VALUE,ee=-Number.MAX_VALUE,P.series.forEach(ze=>{let Ne=ze.getColumn("x");Ne.length&&(oe=Math.min(Ne[0],oe),ee=Math.max(Ne[Ne.length-1],ee))}),A=!1),Br(ee)&&Br(oe)&&(re=le=(ke=this.getYTDExtremes(ee,oe)).min,V=ke.max);else{this.deferredYTDClick=k;return}else ne==="all"&&H&&(P.navigator&&P.navigator.baseSeries[0]&&(P.navigator.baseSeries[0].xAxis.options.range=void 0),re=oe,V=ee);if(_e&&W._offsetMin&&tn(re)&&(re+=W._offsetMin),W._offsetMax&&tn(V)&&(V+=W._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=k+1),H)Br(re)&&Br(V)&&(H.setExtremes(re,V,rn(A,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:W}),P.setFixedRange(W._range));else{Q=ym(P.options.xAxis||{})[0];let ze=Li(P,"afterCreateAxes",function(){let Ne=P.xAxis[0];Ne.range=Ne.options.range=Z,Ne.min=Ne.options.min=le});Li(P,"load",function(){let Ne=P.xAxis[0];P.setFixedRange(W._range),Ne.options.range=Q.range,Ne.options.min=Q.min,ze()})}Zs(this,"afterBtnClick")}}setSelected(k){this.selected=this.options.selected=k}init(k){let A=this,P=k.options.rangeSelector,W=k.options.lang,H=P.buttons,Y=P.selected,ne=function(){let se=A.minInput,oe=A.maxInput;se&&se.blur&&Zs(se,"blur"),oe&&oe.blur&&Zs(oe,"blur")};A.chart=k,A.options=P,A.buttons=[],A.buttonOptions=H.map(se=>(se.type&&W.rangeSelector&&(se.text??(se.text=W.rangeSelector[`${se.type}Text`]),se.title??(se.title=W.rangeSelector[`${se.type}Title`])),se.text=Wn(se.text,{count:se.count||1}),se.title=Wn(se.title,{count:se.count||1}),se)),this.eventsToUnbind=[],this.eventsToUnbind.push(Li(k.container,"mousedown",ne)),this.eventsToUnbind.push(Li(k,"resize",ne)),H.forEach(A.computeButtonRange),Y!==void 0&&H[Y]&&this.clickButton(Y,!1),this.eventsToUnbind.push(Li(k,"load",function(){k.xAxis&&k.xAxis[0]&&Li(k.xAxis[0],"setExtremes",function(se){Br(this.max)&&Br(this.min)&&this.max-this.min!==k.fixedRange&&se.trigger!=="rangeSelectorButton"&&se.trigger!=="updatedData"&&A.forcedDataGrouping&&!A.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let k=this,A=this.chart,P=this.dropdown,W=this.dropdownLabel,H=A.xAxis[0],Y=Math.round(H.max-H.min),ne=!H.hasVisibleSeries,se=24*36e5,oe=A.scroller&&A.scroller.getUnionExtremes()||H,ee=oe.dataMin,re=oe.dataMax,V=k.getYTDExtremes(re,ee),Q=V.min,Z=V.max,le=k.selected,ue=k.options.allButtonsEnabled,ke=Array(k.buttonOptions.length).fill(0),_e=Br(le),ze=k.buttons,Ne=!1,Pe=null;k.buttonOptions.forEach((Re,De)=>{var mt;let Ue=Re._range,Be=Re.type,Xe=Re.count||1,Le=Re._offsetMax-Re._offsetMin,et=De===le,qe=Ue>re-ee,zt=Ue<H.minRange,it=!1,at=Ue===Y;if(et&&qe&&(Ne=!0),H.isOrdinal&&((mt=H.ordinal)==null?void 0:mt.positions)&&Ue&&Y<Ue){let xt=H.ordinal.positions,Lt=Jc.Additions.findIndexOf(xt,H.min,!0),mr=Math.min(Jc.Additions.findIndexOf(xt,H.max,!0)+1,xt.length-1);xt[mr]-xt[Lt]>Ue&&(at=!0)}else(Be==="month"||Be==="year")&&Y+36e5>={month:28,year:365}[Be]*se*Xe-Le&&Y-36e5<={month:31,year:366}[Be]*se*Xe+Le?at=!0:Be==="ytd"?(at=Z-Q+Le===Y,it=!et):Be==="all"&&(at=H.max-H.min>=re-ee);let kr=!ue&&!(Ne&&Be==="all")&&(qe||zt||ne),Bt=Ne&&Be==="all"||!it&&at||et&&k.frozenStates;kr?ke[De]=3:Bt&&(!_e||De===le)&&(Pe=De)}),Pe!==null?(ke[Pe]=2,k.setSelected(Pe),this.dropdown&&(this.dropdown.selectedIndex=Pe+1)):(k.setSelected(),this.dropdown&&(this.dropdown.selectedIndex=-1),W&&(W.setState(0),W.attr({text:(dl.lang.rangeSelectorZoom||"")+" "})));for(let Re=0;Re<ke.length;Re++){let De=ke[Re],Ue=ze[Re];if(Ue.state!==De&&(Ue.setState(De),P)){P.options[Re+1].disabled=De===3,De===2&&(W&&(W.setState(2),W.attr({text:k.buttonOptions[Re].text+" "})),P.selectedIndex=Re+1);let Be=W.getBBox();ui(P,{width:`${Be.width}px`,height:`${Be.height}px`})}}}computeButtonRange(k){let A=k.type,P=k.count||1,W={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};W[A]?k._range=W[A]*P:(A==="month"||A==="year")&&(k._range=24*{month:30,year:365}[A]*36e5*P),k._offsetMin=rn(k.offsetMin,0),k._offsetMax=rn(k.offsetMax,0),k._range+=k._offsetMax-k._offsetMin}getInputValue(k){let A=k==="min"?this.minInput:this.maxInput,P=this.chart.options.rangeSelector,W=this.chart.time;return A?(A.type==="text"&&P.inputDateParser||this.defaultInputDateParser)(A.value,W.timezone==="UTC",W):0}setInputValue(k,A){let P=this.options,W=this.chart.time,H=k==="min"?this.minInput:this.maxInput,Y=k==="min"?this.minDateBox:this.maxDateBox;if(H){H.setAttribute("type",Ch(P.inputDateFormat||"%e %b %Y"));let ne=H.getAttribute("data-hc-time"),se=tn(ne)?Number(ne):void 0;if(tn(A)){let oe=se;tn(oe)&&H.setAttribute("data-hc-time-previous",oe),H.setAttribute("data-hc-time",A),se=A}H.value=W.dateFormat(this.inputTypeFormats[H.type]||P.inputEditDateFormat,se),Y&&Y.attr({text:W.dateFormat(P.inputDateFormat,se)})}}setInputExtremes(k,A,P){let W=k==="min"?this.minInput:this.maxInput;if(W){let H=this.inputTypeFormats[W.type],Y=this.chart.time;if(H){let ne=Y.dateFormat(H,A);W.min!==ne&&(W.min=ne);let se=Y.dateFormat(H,P);W.max!==se&&(W.max=se)}}}showInput(k){let A=k==="min"?this.minDateBox:this.maxDateBox,P=k==="min"?this.minInput:this.maxInput;if(P&&A&&this.inputGroup){let W=P.type==="text",{translateX:H=0,translateY:Y=0}=this.inputGroup,{x:ne=0,width:se=0,height:oe=0}=A,{inputBoxWidth:ee}=this.options;ui(P,{width:W?se+(ee?-2:20)+"px":"auto",height:oe-2+"px",border:"2px solid silver"}),W&&ee?ui(P,{left:H+ne+"px",top:Y+"px"}):ui(P,{left:Math.min(Math.round(ne+H-(P.offsetWidth-se)/2),this.chart.chartWidth-P.offsetWidth)+"px",top:Y-(P.offsetHeight-oe)/2+"px"})}}hideInput(k){let A=k==="min"?this.minInput:this.maxInput;A&&ui(A,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(k,A,P){return(P==null?void 0:P.parse(k))||0}drawInput(k){let{chart:A,div:P,inputGroup:W}=this,H=this,Y=A.renderer.style||{},ne=A.renderer,se=A.options.rangeSelector,oe=dl.lang,ee=k==="min";function re(ke){var Xe;let{maxInput:_e,minInput:ze}=H,Ne=A.xAxis[0],Pe=((Xe=A.scroller)==null?void 0:Xe.getUnionExtremes())||Ne,Re=Pe.dataMin,De=Pe.dataMax,Ue=A.xAxis[0].getExtremes()[ke],Be=H.getInputValue(ke);Br(Be)&&Be!==Ue&&(ee&&_e&&Br(Re)?Be>Number(_e.getAttribute("data-hc-time"))?Be=void 0:Be<Re&&(Be=Re):ze&&Br(De)&&(Be<Number(ze.getAttribute("data-hc-time"))?Be=void 0:Be>De&&(Be=De)),Be!==void 0&&Ne.setExtremes(ee?Be:Ne.min,ee?Ne.max:Be,void 0,void 0,{trigger:"rangeSelectorInput"}))}let V=oe[ee?"rangeSelectorFrom":"rangeSelectorTo"]||"",Q=ne.label(V,0).addClass("highcharts-range-label").attr({padding:2*!!V,height:V?se.inputBoxHeight:0}).add(W),Z=ne.label("",0).addClass("highcharts-range-input").attr({padding:2,width:se.inputBoxWidth,height:se.inputBoxHeight,"text-align":"center"}).on("click",function(){H.showInput(k),H[k+"Input"].focus()});A.styledMode||Z.attr({stroke:se.inputBoxBorderColor,"stroke-width":1}),Z.add(W);let le=ia("input",{name:k,className:"highcharts-range-selector"},void 0,P);le.setAttribute("type",Ch(se.inputDateFormat||"%e %b %Y")),A.styledMode||(Q.css(Un(Y,se.labelStyle)),Z.css(Un({color:"#333333"},Y,se.inputStyle)),ui(le,ul({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:Y.fontSize,fontFamily:Y.fontFamily,top:"-9999em"},se.inputStyle))),le.onfocus=()=>{H.showInput(k)},le.onblur=()=>{le===ie().doc.activeElement&&re(k),H.hideInput(k),H.setInputValue(k),le.blur()};let ue=!1;return le.onchange=()=>{ue||(re(k),H.hideInput(k),le.blur())},le.onkeypress=ke=>{ke.keyCode===13&&re(k)},le.onkeydown=ke=>{ue=!0,(ke.key==="ArrowUp"||ke.key==="ArrowDown"||ke.key==="Tab")&&re(k)},le.onkeyup=()=>{ue=!1},{dateBox:Z,input:le,label:Q}}getPosition(){let k=this.chart,A=k.options.rangeSelector,P=A.verticalAlign==="top"?k.plotTop-k.axisOffset[0]:0;return{buttonTop:P+A.buttonPosition.y,inputTop:P+A.inputPosition.y-10}}getYTDExtremes(k,A){let P=this.chart.time,W=P.toParts(k)[0];return{max:k,min:Math.max(A,P.makeTime(W,0))}}createElements(){var se;let k=this.chart,A=k.renderer,P=k.container,W=k.options,H=W.rangeSelector,Y=H.inputEnabled,ne=rn((se=W.chart.style)==null?void 0:se.zIndex,0)+1;H.enabled!==!1&&(this.group=A.g("range-selector-group").attr({zIndex:7}).add(),this.div=ia("div",void 0,{position:"relative",height:0,zIndex:ne}),this.buttonOptions.length&&this.renderButtons(),P.parentNode&&P.parentNode.insertBefore(this.div,P),Y&&this.createInputs())}createInputs(){this.inputGroup=this.chart.renderer.g("input-group").add(this.group);let k=this.drawInput("min");this.minDateBox=k.dateBox,this.minLabel=k.label,this.minInput=k.input;let A=this.drawInput("max");this.maxDateBox=A.dateBox,this.maxLabel=A.label,this.maxInput=A.input}render(k,A){var H,Y;if(this.options.enabled===!1)return;let P=this.chart,W=P.options.rangeSelector;if(W.inputEnabled){this.inputGroup||this.createInputs(),this.setInputValue("min",k),this.setInputValue("max",A),this.chart.styledMode||((H=this.maxLabel)==null||H.css(W.labelStyle),(Y=this.minLabel)==null||Y.css(W.labelStyle));let ne=P.scroller&&P.scroller.getUnionExtremes()||P.xAxis[0]||{};if(tn(ne.dataMin)&&tn(ne.dataMax)){let se=P.xAxis[0].minRange||0;this.setInputExtremes("min",ne.dataMin,Math.min(ne.dataMax,this.getInputValue("max"))-se),this.setInputExtremes("max",Math.max(ne.dataMin,this.getInputValue("min"))+se,ne.dataMax)}if(this.inputGroup){let se=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(oe=>{if(oe){let{width:ee}=oe.getBBox();ee&&(oe.attr({x:se}),se+=ee+W.inputSpacing)}})}}else this.inputGroup&&(this.inputGroup.destroy(),delete this.inputGroup);!this.chart.styledMode&&this.zoomText&&this.zoomText.css(W.labelStyle),this.alignElements(),this.updateButtonStates()}renderButtons(){var V;var k;let{chart:A,options:P}=this,W=dl.lang,H=A.renderer,Y=Un(P.buttonTheme),ne=Y&&Y.states;delete Y.width,delete Y.states,this.buttonGroup=H.g("range-selector-buttons").add(this.group);let se=this.dropdown=ia("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),oe=(V=A.userOptions.rangeSelector)==null?void 0:V.buttonTheme;this.dropdownLabel=H.button("",0,0,()=>{},Un(Y,{"stroke-width":rn(Y["stroke-width"],0),width:"auto",paddingLeft:rn(P.buttonTheme.paddingLeft,oe==null?void 0:oe.padding,8),paddingRight:rn(P.buttonTheme.paddingRight,oe==null?void 0:oe.padding,8)}),ne&&ne.hover,ne&&ne.select,ne&&ne.disabled).hide().add(this.group),Li(se,"touchstart",()=>{se.style.fontSize="16px"});let ee=ie().isMS?"mouseover":"mouseenter",re=ie().isMS?"mouseout":"mouseleave";Li(se,ee,()=>{Zs(this.dropdownLabel.element,ee)}),Li(se,re,()=>{Zs(this.dropdownLabel.element,re)}),Li(se,"change",()=>{Zs(this.buttons[se.selectedIndex-1].element,"click")}),this.zoomText=H.label(W.rangeSelectorZoom||"",0).attr({padding:P.buttonTheme.padding,height:P.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(P.labelStyle),(k=P.buttonTheme)["stroke-width"]??(k["stroke-width"]=0)),ia("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,se),this.createButtons()}createButtons(){let{options:k}=this,A=Un(k.buttonTheme),P=A&&A.states,W=A.width||28;delete A.width,delete A.states,this.buttonOptions.forEach((H,Y)=>{this.createButton(H,Y,W,P)})}createButton(k,A,P,W){let{dropdown:H,buttons:Y,chart:ne,options:se}=this,oe=ne.renderer,ee=Un(se.buttonTheme);H==null||H.add(ia("option",{textContent:k.title||k.text}),A+2),Y[A]=oe.button(k.text??"",0,0,re=>{let V,Q=k.events&&k.events.click;Q&&(V=Q.call(k,re)),V!==!1&&this.clickButton(A),this.isActive=!0},ee,W&&W.hover,W&&W.select,W&&W.disabled).attr({"text-align":"center",width:P}).add(this.buttonGroup),k.title&&Y[A].attr("title",k.title)}alignElements(){var le;let{buttonGroup:k,buttons:A,chart:P,group:W,inputGroup:H,options:Y,zoomText:ne}=this,se=P.options,oe=se.exporting&&se.exporting.enabled!==!1&&se.navigation&&se.navigation.buttonOptions,{buttonPosition:ee,inputPosition:re,verticalAlign:V}=Y,Q=(ue,ke,_e)=>oe&&this.titleCollision(P)&&V==="top"&&_e&&ke.y-ue.getBBox().height-12<(oe.y||0)+(oe.height||0)+P.spacing[0]?-40:0,Z=P.plotLeft;if(W&&ee&&re){let ue=ee.x-P.spacing[3];if(k){if(this.positionButtons(),!this.initialButtonGroupWidth){let Be=0;ne&&(Be+=ne.getBBox().width+5),A.forEach((Xe,Le)=>{Be+=Xe.width||0,Le!==A.length-1&&(Be+=Y.buttonSpacing)}),this.initialButtonGroupWidth=Be}Z-=P.spacing[3];let Ue=Q(k,ee,ee.align==="right"||re.align==="right");this.alignButtonGroup(Ue),(le=this.buttonGroup)!=null&&le.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),W.placed=k.placed=P.hasLoaded}let ke=0;Y.inputEnabled&&H&&(ke=Q(H,re,ee.align==="right"||re.align==="right"),re.align==="left"?ue=Z:re.align==="right"&&(ue=-Math.max(P.axisOffset[1],-ke)),H.align({y:re.y,width:H.getBBox().width,align:re.align,x:re.x+ue-2},!0,P.spacingBox),H.placed=P.hasLoaded),this.handleCollision(ke),W.align({verticalAlign:V},!0,P.spacingBox);let _e=W.alignAttr.translateY,ze=W.getBBox().height+20,Ne=0;if(V==="bottom"){let Ue=P.legend&&P.legend.options;Ne=_e-(ze=ze+(Ue&&Ue.verticalAlign==="bottom"&&Ue.enabled&&!Ue.floating?P.legend.legendHeight+rn(Ue.margin,10):0)-20)-(Y.floating?0:Y.y)-(P.titleOffset?P.titleOffset[2]:0)-10}V==="top"?(Y.floating&&(Ne=0),P.titleOffset&&P.titleOffset[0]&&(Ne=P.titleOffset[0]),Ne+=P.margin[0]-P.spacing[0]||0):V==="middle"&&(re.y===ee.y?Ne=_e:(re.y||ee.y)&&(re.y<0||ee.y<0?Ne-=Math.min(re.y,ee.y):Ne=_e-ze)),W.translate(Y.x,Y.y+Math.floor(Ne));let{minInput:Pe,maxInput:Re,dropdown:De}=this;Y.inputEnabled&&Pe&&Re&&(Pe.style.marginTop=W.translateY+"px",Re.style.marginTop=W.translateY+"px"),De&&(De.style.marginTop=W.translateY+"px")}}redrawElements(){var W,H,Y,ne,se;let k=this.chart,{inputBoxHeight:A,inputBoxBorderColor:P}=this.options;if((W=this.maxDateBox)==null||W.attr({height:A}),(H=this.minDateBox)==null||H.attr({height:A}),k.styledMode||((Y=this.maxDateBox)==null||Y.attr({stroke:P}),(ne=this.minDateBox)==null||ne.attr({stroke:P})),this.isDirty){this.isDirty=!1,this.isCollapsed=void 0;let oe=this.options.buttons??[],ee=Math.min(oe.length,this.buttonOptions.length),{dropdown:re,options:V}=this,Q=Un(V.buttonTheme),Z=Q&&Q.states,le=Q.width||28;if(oe.length<this.buttonOptions.length)for(let ue=this.buttonOptions.length-1;ue>=oe.length;ue--){let ke=this.buttons.pop();ke==null||ke.destroy(),(se=this.dropdown)==null||se.options.remove(ue+1)}for(let ue=ee-1;ue>=0;ue--)if(Object.keys(rd(oe[ue],this.buttonOptions[ue])).length!==0){let ke=oe[ue];this.buttons[ue].destroy(),re==null||re.options.remove(ue+1),this.createButton(ke,ue,le,Z),this.computeButtonRange(ke)}if(oe.length>this.buttonOptions.length)for(let ue=this.buttonOptions.length;ue<oe.length;ue++)this.createButton(oe[ue],ue,le,Z),this.computeButtonRange(oe[ue]);this.buttonOptions=this.options.buttons??[],tn(this.options.selected)&&this.buttons.length&&this.clickButton(this.options.selected,!1)}}alignButtonGroup(k,A){let{chart:P,options:W,buttonGroup:H,dropdown:Y,dropdownLabel:ne}=this,{buttonPosition:se}=W,oe=P.plotLeft-P.spacing[3],ee=se.x-P.spacing[3],re=P.plotLeft;se.align==="right"?(ee+=k-oe,this.hasVisibleDropdown&&(re=P.chartWidth+k-this.maxButtonWidth()-20)):se.align==="center"&&(ee-=oe/2,this.hasVisibleDropdown&&(re=P.chartWidth/2-this.maxButtonWidth())),Y&&ui(Y,{left:re+"px",top:(H==null?void 0:H.translateY)+"px"}),ne==null||ne.attr({x:re}),H&&H.align({y:se.y,width:rn(A,this.initialButtonGroupWidth),align:se.align,x:ee},!0,P.spacingBox)}positionButtons(){let{buttons:k,chart:A,options:P,zoomText:W}=this,H=A.hasLoaded?"animate":"attr",{buttonPosition:Y}=P,ne=A.plotLeft,se=ne;W&&W.visibility!=="hidden"&&(W[H]({x:rn(ne+Y.x,ne)}),se+=Y.x+W.getBBox().width+5);for(let oe=0,ee=this.buttonOptions.length;oe<ee;++oe)k[oe].visibility!=="hidden"?(k[oe][H]({x:se}),se+=(k[oe].width||0)+P.buttonSpacing):k[oe][H]({x:ne})}handleCollision(k){let{chart:A,buttonGroup:P,inputGroup:W,initialButtonGroupWidth:H}=this,{buttonPosition:Y,dropdown:ne,inputPosition:se}=this.options,oe=()=>{W&&P&&W.attr({translateX:W.alignAttr.translateX+(A.axisOffset[1]>=-k?0:-k),translateY:W.alignAttr.translateY+P.getBBox().height+10})};W&&P?se.align===Y.align?(oe(),H>A.plotWidth+k-20?this.collapseButtons():this.expandButtons()):H-k+W.getBBox().width>A.plotWidth?ne==="responsive"?this.collapseButtons():oe():this.expandButtons():P&&ne==="responsive"&&(H>A.plotWidth?this.collapseButtons():this.expandButtons()),P&&(ne==="always"&&this.collapseButtons(),ne==="never"&&this.expandButtons()),this.alignButtonGroup(k)}collapseButtons(){let{buttons:k,zoomText:A}=this;this.isCollapsed!==!0&&(this.isCollapsed=!0,A.hide(),k.forEach(P=>void P.hide()),this.showDropdown())}expandButtons(){let{buttons:k,zoomText:A}=this;this.isCollapsed!==!1&&(this.isCollapsed=!1,this.hideDropdown(),A.show(),k.forEach(P=>void P.show()),this.positionButtons())}showDropdown(){let{buttonGroup:k,dropdownLabel:A,dropdown:P}=this;k&&P&&(A.show(),ui(P,{visibility:"inherit"}),this.hasVisibleDropdown=!0)}hideDropdown(){let{dropdown:k}=this;k&&(this.dropdownLabel.hide(),ui(k,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let k=this.options,A=this.group,P=k.inputPosition,W=k.buttonPosition,H=k.y,Y=W.y,ne=P.y,se=0;if(k.height)return k.height;this.alignElements(),se=A?A.getBBox(!0).height+13+H:0;let oe=Math.min(ne,Y);return(ne<0&&Y<0||ne>0&&Y>0)&&(se+=Math.abs(oe)),se}titleCollision(k){return!(k.options.title.text||k.options.subtitle.text)}update(k,A=!0){let P=this.chart;if(Un(!0,this.options,k),this.options.selected&&this.options.selected>=this.options.buttons.length&&(this.options.selected=void 0,P.options.rangeSelector.selected=void 0),tn(k.enabled))return this.destroy(),this.init(P);this.isDirty=!!k.buttons,A&&this.render()}destroy(){let k=this,A=k.minInput,P=k.maxInput;k.eventsToUnbind&&(k.eventsToUnbind.forEach(W=>W()),k.eventsToUnbind=void 0),Sh(k.buttons),A&&(A.onfocus=A.onblur=A.onchange=null),P&&(P.onfocus=P.onblur=P.onchange=null),xm(k,function(W,H){W&&H!=="chart"&&(W instanceof qs()?W.destroy():W instanceof window.HTMLElement&&_h(W),delete k[H]),W!==ps.prototype[H]&&(k[H]=null)},this),this.buttons=[]}}ul(ps.prototype,{inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}});var bm=je(960),Eh=je.n(bm);let{format:wm}=Ks(),{getOptions:id}=ie(),{setFixedRange:Qs}=Wt,{addEvent:Hn,clamp:Mh,crisp:jh,defined:nd,extend:km,find:sd,isNumber:nn,isString:hl,merge:xn,pick:yn,splat:od}=ie();function Js(K,k,A){return K==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:K==="yAxis"?{labels:{y:-2},opposite:A.opposite??k.opposite??!0,showLastLabel:!!(k.categories||k.type==="category"),title:{text:void 0}}:{}}function Gn(K,k){var A;if(K==="xAxis"){let P=yn((A=k.navigator)==null?void 0:A.enabled,Qo.enabled,!0),W={type:"datetime",categories:void 0};return P&&(W.startOnTick=!1,W.endOnTick=!1),W}return{}}class ad extends Eh(){init(k,A){var se,oe;let P=id(),W=k.xAxis,H=k.yAxis,Y=yn((se=k.navigator)==null?void 0:se.enabled,Qo.enabled,!0);k.xAxis=k.yAxis=void 0;let ne=xn({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:Y},scrollbar:{enabled:yn(ea.enabled,!0)},rangeSelector:{enabled:yn(fs.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:yn((oe=P.tooltip)==null?void 0:oe.split,!0),crosshairs:!0},legend:{enabled:!1}},k,{isStock:!0});k.xAxis=W,k.yAxis=H,ne.xAxis=od(k.xAxis||{}).map(ee=>xn(Js("xAxis",ee,P.xAxis),ee,Gn("xAxis",k))),ne.yAxis=od(k.yAxis||{}).map(ee=>xn(Js("yAxis",ee,P.yAxis),ee)),super.init(ne,A)}createAxis(k,A){return A.axis=xn(Js(k,A.axis,id()[k]),A.axis,Gn(k,this.userOptions)),super.createAxis(k,A)}}Hn(Eh(),"update",function(K){let k=K.options;"scrollbar"in k&&this.navigator&&(xn(!0,this.options.scrollbar,k.scrollbar),this.navigator.update({enabled:!!this.navigator.navigatorEnabled}),delete k.scrollbar)}),function(K){function k(oe){var Lt,mr,ki,Ar;if(!((mr=(Lt=this.crosshair)==null?void 0:Lt.label)!=null&&mr.enabled&&this.cross&&nn(this.min)&&nn(this.max)))return;let ee=this.chart,re=this.logarithmic,V=this.crosshair.label,Q=this.horiz,Z=this.opposite,le=this.left,ue=this.top,ke=this.width,_e=this.options.tickPosition==="inside",ze=this.crosshair.snap!==!1,Ne=oe.e||((ki=this.cross)==null?void 0:ki.e),Pe=oe.point,Re=this.crossLabel,De,Ue,Be=V.format,Xe="",Le,et=0,qe=this.min,zt=this.max;re&&(qe=re.lin2log(this.min),zt=re.lin2log(this.max));let it=Q?"center":Z?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center";!Re&&(Re=this.crossLabel=ee.renderer.label("",0,void 0,V.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(Pe!=null&&Pe.series?Pe.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:V.align||it,padding:yn(V.padding,8),r:yn(V.borderRadius,3),zIndex:2}).add(this.labelGroup),ee.styledMode||Re.attr({fill:V.backgroundColor||((Ar=Pe==null?void 0:Pe.series)==null?void 0:Ar.color)||"#666666",stroke:V.borderColor||"","stroke-width":V.borderWidth||0}).css(km({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},V.style||{}))),Q?(De=ze?(Pe.plotX||0)+le:Ne.chartX,Ue=ue+(Z?0:this.height)):(De=le+this.offset+(Z?ke:0),Ue=ze?(Pe.plotY||0)+ue:Ne.chartY),Be||V.formatter||(this.dateTime&&(Xe="%b %d, %Y"),Be="{value"+(Xe?":"+Xe:"")+"}");let at=ze?this.isXAxis?Pe.x:Pe.y:this.toValue(Q?Ne.chartX:Ne.chartY),kr=Pe!=null&&Pe.series?Pe.series.isPointInside(Pe):nn(at)&&at>qe&&at<zt,Bt="";Be?Bt=wm(Be,{value:at},ee):V.formatter&&nn(at)&&(Bt=V.formatter.call(this,at)),Re.attr({text:Bt,x:De,y:Ue,visibility:kr?"inherit":"hidden"});let mt=Re.getBBox();!nn(Re.x)||Q||Z||(De=Re.x-mt.width/2),nn(Re.y)&&(Q?(_e&&!Z||!_e&&Z)&&(Ue=Re.y-mt.height):Ue=Re.y-mt.height/2),Le=Q?{left:le,right:le+this.width}:{left:this.labelAlign==="left"?le:0,right:this.labelAlign==="right"?le+this.width:ee.chartWidth};let xt=Re.translateX||0;xt<Le.left&&(et=Le.left-xt),xt+mt.width>=Le.right&&(et=-(xt+mt.width-Le.right)),Re.attr({x:Math.max(0,De+et),y:Math.max(0,Ue),anchorX:Q?De:this.opposite?0:ee.chartWidth,anchorY:Q?this.opposite?ee.chartHeight:0:Ue+mt.height/2})}function A(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function P(oe){let ee=this.chart,re=this.options,V=ee._labelPanes=ee._labelPanes||{},Q=re.labels;if(ee.options.isStock&&this.coll==="yAxis"){let Z=re.top+","+re.height;!V[Z]&&Q.enabled&&(Q.distance===15&&this.side===1&&(Q.distance=0),Q.align===void 0&&(Q.align="right"),V[Z]=this,oe.align="right",oe.preventDefault())}}function W(){let oe=this.chart,ee=this.options&&this.options.top+","+this.options.height;ee&&oe._labelPanes&&oe._labelPanes[ee]===this&&delete oe._labelPanes[ee]}function H(oe){let ee=this,re=ee.isLinked&&!ee.series&&ee.linkedParent?ee.linkedParent.series:ee.series,{chart:V,horiz:Q}=ee,Z=V.renderer,le=[],{acrossPanes:ue=!0,force:ke,translatedValue:_e,value:ze}=oe,Ne=(ee.isXAxis?V.yAxis:V.xAxis)||[];function Pe(Be,Xe,Le){le.push(["M",Q?Be:Xe,Q?Xe:Be],["L",Q?Be:Le,Q?Le:Be])}let Re=[],De,Ue;if(V.options.isStock&&(ee.coll==="xAxis"||ee.coll==="yAxis")){for(let Be of(oe.preventDefault(),Re=(Xe=>{let Le=Xe==="xAxis"?"yAxis":"xAxis",et=ee.options[Le];return ue&&!ee.options.isInternal?Ne.filter(qe=>!qe.options.isInternal):nn(et)?[V[Le][et]]:hl(et)?[V.get(et)]:re.map(qe=>qe[Le])})(ee.coll),Ne))if(!Be.options.isInternal){let Xe=Be.isXAxis?"yAxis":"xAxis";ee===(nd(Be.options[Xe])&&V[Xe][Be.options[Xe]])&&Re.push(Be)}for(let Be of(De=Re.length?[]:[ee.isXAxis?V.yAxis[0]:V.xAxis[0]],Re))De.indexOf(Be)!==-1||sd(De,Xe=>Xe.pos===Be.pos&&Xe.len===Be.len)||De.push(Be);if(nn(Ue=yn(_e,ee.translate(ze||0,void 0,void 0,oe.old)))){let Be,Xe=Q?Ue+ee.pos:ee.pos+ee.len-Ue;if(ke!=="pass"&&(Xe<ee.pos||Xe>ee.pos+ee.len)&&(ke?Xe=Mh(Xe,ee.pos,ee.pos+ee.len):Be=!0),!Be){let Le=Q?"top":"left",et=Q?"height":"width";if(!ue&&(ee.options[Le]||ee.options[et]))Pe(Xe,ee[Le],ee[Le]+ee[et]);else for(let qe of De)Pe(Xe,qe.pos,qe.pos+qe.len)}}oe.path=le.length>0?Z.crispPolyLine(le,oe.lineWidth||1):void 0}}function Y(oe){if(this.chart.options.isStock){let ee;this.is("column")||this.is("columnrange")?ee={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(ee={marker:{enabled:!1,radius:2}}),ee&&(oe.plotOptions[this.type]=xn(oe.plotOptions[this.type],ee))}}function ne(){let oe=this.chart,ee=this.options.dataGrouping;return this.allowDG!==!1&&ee&&yn(ee.enabled,oe.options.isStock)}function se(oe,ee){for(let re=0;re<oe.length;re+=2){let V=oe[re],Q=oe[re+1];nd(V[1])&&V[1]===Q[1]&&(V[1]=Q[1]=jh(V[1],ee)),nd(V[2])&&V[2]===Q[2]&&(V[2]=Q[2]=jh(V[2],ee))}return oe}K.compose=function(oe,ee,re,V){let Q=re.prototype;Q.forceCropping||(Hn(ee,"afterDrawCrosshair",k),Hn(ee,"afterHideCrosshair",A),Hn(ee,"autoLabelAlign",P),Hn(ee,"destroy",W),Hn(ee,"getPlotLinePath",H),oe.prototype.setFixedRange=Qs,Q.forceCropping=ne,Hn(re,"setOptions",Y),V.prototype.crispPolyLine=se)},K.stockChart=function(oe,ee,re){return new K(oe,ee,re)}}(ad||(ad={}));let Vn=ad,{column:{prototype:{pointClass:Sm}}}=ci().seriesTypes,{column:Xn}=ci().seriesTypes,{crisp:eo,extend:Ah,merge:ld}=ie(),{defaultOptions:cd}=ie();class dd extends Xn{extendStem(k,A,P){let W=k[0],H=k[1];typeof W[2]=="number"&&(W[2]=Math.max(P+A,W[2])),typeof H[2]=="number"&&(H[2]=Math.min(P-A,H[2]))}getPointPath(k,A){let P=A.strokeWidth(),W=k.series,H=eo(k.plotX||0,P),Y=Math.round(k.shapeArgs.width/2),ne=[["M",H,Math.round(k.yBottom)],["L",H,Math.round(k.plotHigh)]];if(k.close!==null){let se=eo(k.plotClose,P);ne.push(["M",H,se],["L",H+Y,se]),W.extendStem(ne,P/2,se)}return ne}drawSinglePoint(k){let A=k.series,P=A.chart,W,H=k.graphic;k.plotY!==void 0&&(H||(k.graphic=H=P.renderer.path().add(A.group)),P.styledMode||H.attr(A.pointAttribs(k,k.selected&&"select")),W=A.getPointPath(k,H),H[H?"animate":"attr"]({d:W}).addClass(k.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(k,A){let P=super.pointAttribs.call(this,k,A);return delete P.fill,P}toYData(k){return[k.high,k.low,k.close]}translate(){let k=this,A=k.yAxis,P=this.pointArrayMap&&this.pointArrayMap.slice()||[],W=P.map(H=>`plot${H.charAt(0).toUpperCase()+H.slice(1)}`);W.push("yBottom"),P.push("low"),super.translate.apply(k),k.points.forEach(function(H){P.forEach(function(Y,ne){let se=H[Y];se!==null&&(k.dataModify&&(se=k.dataModify.modifyValue(se)),H[W[ne]]=A.toPixels(se,!0))}),H.tooltipPos[1]=H.plotHigh+A.pos-k.chart.plotTop})}}dd.defaultOptions=ld(Xn.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),Ah(dd.prototype,{pointClass:class extends Sm{},animate:null,directTouch:!1,keysAffectYAxis:["low","high"],pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),Ah(cd.lang,{stockOpen:"Open",stockHigh:"High",stockLow:"Low",stockClose:"Close"}),ci().registerSeriesType("hlc",dd);let{seriesTypes:{hlc:_m}}=ci();class Cm extends _m.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){let k=super.getZone();return this.resolveUpColor(),k}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}let{composed:fl}=ie(),{hlc:Nh}=ci().seriesTypes,{addEvent:Th,crisp:Ph,extend:bn,merge:Em,pushUnique:Oh}=ie();function Mm(K){let k=K.options,A=k.dataGrouping;A&&k.useOhlcData&&k.id!=="highcharts-navigator-series"&&(A.approximation="ohlc")}function jm(K){let k=K.options;k.useOhlcData&&k.id!=="highcharts-navigator-series"&&bn(this,{pointValKey:sn.prototype.pointValKey,pointArrayMap:sn.prototype.pointArrayMap,toYData:sn.prototype.toYData})}class sn extends Nh{static compose(k,...A){Oh(fl,"OHLCSeries")&&(Th(k,"afterSetOptions",Mm),Th(k,"init",jm))}getPointPath(k,A){let P=super.getPointPath(k,A),W=A.strokeWidth(),H=Ph(k.plotX||0,W),Y=Math.round(k.shapeArgs.width/2);if(k.open!==null){let ne=Ph(k.plotOpen,W);P.push(["M",H,ne],["L",H-Y,ne]),super.extendStem(P,W/2,ne)}return P}pointAttribs(k,A){let P=super.pointAttribs.call(this,k,A),W=this.options;return delete P.fill,!k.options.color&&W.upColor&&k.open<k.close&&(P.stroke=W.upColor),P}toYData(k){return[k.open,k.high,k.low,k.close]}}sn.defaultOptions=Em(Nh.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>{series.chart.options.lang.stockOpen}: {point.open}<br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'}}),bn(sn.prototype,{pointClass:Cm,pointArrayMap:["open","high","low","close"]}),ci().registerSeriesType("ohlc",sn);let{column:Am,ohlc:ud}=ci().seriesTypes,{crisp:pl,merge:Nm}=ie();class gs extends ud{pointAttribs(k,A){let P=Am.prototype.pointAttribs.call(this,k,A),W=this.options,H=k.open<k.close,Y=W.lineColor||this.color,ne=k.color||this.color;if(P["stroke-width"]=W.lineWidth,P.fill=k.options.color||H&&W.upColor||ne,P.stroke=k.options.lineColor||H&&W.upLineColor||Y,A){let se=W.states[A];P.fill=se.color||P.fill,P.stroke=se.lineColor||P.stroke,P["stroke-width"]=se.lineWidth||P["stroke-width"]}return P}drawPoints(){let k=this.points,A=this.chart,P=this.yAxis.reversed;for(let W of k){let H=W.graphic,Y,ne,se,oe,ee,re,V,Q,Z,le=!H;if(W.plotY!==void 0){H||(W.graphic=H=A.renderer.path().add(this.group)),this.chart.styledMode||H.attr(this.pointAttribs(W,W.selected&&"select")).shadow(this.options.shadow);let ue=H.strokeWidth();V=pl(W.plotX||0,ue),se=Math.min(Y=W.plotOpen,ne=W.plotClose),oe=Math.max(Y,ne),Z=Math.round(W.shapeArgs.width/2),ee=P?oe!==W.yBottom:Math.round(se)!==Math.round(W.plotHigh||0),re=P?Math.round(se)!==Math.round(W.plotHigh||0):oe!==W.yBottom,se=pl(se,ue),oe=pl(oe,ue),(Q=[]).push(["M",V-Z,oe],["L",V-Z,se],["L",V+Z,se],["L",V+Z,oe],["Z"],["M",V,se],["L",V,ee?Math.round(P?W.yBottom:W.plotHigh):se],["M",V,oe],["L",V,re?Math.round(P?W.plotHigh:W.yBottom):oe]),H[le?"attr":"animate"]({d:Q}).addClass(W.getClassName(),!0)}}}}gs.defaultOptions=Nm(ud.defaultOptions,{tooltip:ud.defaultOptions.tooltip},{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),ci().registerSeriesType("candlestick",gs);let{column:{prototype:{pointClass:ms}}}=ci().seriesTypes,{isNumber:Tm}=ie(),Pm=class extends ms{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return Tm(this.y)||this.y===void 0}hasNewShapeType(){let K=this.options.shape||this.series.options.shape;return this.graphic&&K&&K!==this.graphic.symbolKey}};(function(K){let k=[];function A(W,H,Y,ne,se){let oe=se&&se.anchorX||W,ee=se&&se.anchorY||H,re=this.circle(oe-1,ee-1,2,2);return re.push(["M",oe,ee],["L",W,H+ne],["L",W,H],["L",W+Y,H],["L",W+Y,H+ne],["L",W,H+ne],["Z"]),re}function P(W,H){W[H+"pin"]=function(Y,ne,se,oe,ee){let re,V=ee&&ee.anchorX,Q=ee&&ee.anchorY;if(H==="circle"&&oe>se&&(Y-=Math.round((oe-se)/2),se=oe),re=W[H](Y,ne,se,oe,ee),V&&Q){let Z=V;if(H==="circle")Z=Y+se/2;else{let ue=re[0],ke=re[1];ue[0]==="M"&&ke[0]==="L"&&(Z=(ue[1]+ke[1])/2)}let le=ne>Q?ne:ne+oe;re.push(["M",Z,le],["L",V,Q]),re=re.concat(W.circle(V-1,Q-1,2,2))}return re}}K.compose=function(W){if(k.indexOf(W)===-1){k.push(W);let Y=W.prototype.symbols;Y.flag=A,P(Y,"circle"),P(Y,"square")}let H=Vc().getRendererType();k.indexOf(H)&&k.push(H)}})(ce||(ce={}));let Om=ce;var Rm=je(448),Lm=je.n(Rm),gl=je(820),hd=je.n(gl);let{composed:Im}=ie(),{prototype:ml}=Lm(),{prototype:fd}=hd(),{defined:pd,pushUnique:Rh,stableSort:sa}=ie();(function(K){function k(P){return fd.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,P)}function A(){var Be,Xe;ml.translate.apply(this);let P=this,W=P.options,H=P.chart,Y=P.points,ne=W.onSeries,se=ne&&H.get(ne),oe=se&&se.options.step,ee=se&&se.points,re=H.inverted,V=P.xAxis,Q=P.yAxis,Z=Y.length-1,le,ue,ke=W.onKey||"y",_e=ee&&ee.length,ze=0,Ne,Pe,Re,De,Ue;if(se&&se.visible&&_e){for(ze=(se.pointXOffset||0)+(se.barW||0)/2,De=se.currentDataGrouping,Pe=ee[_e-1].x+(De?De.totalRange:0),sa(Y,(Le,et)=>Le.x-et.x),ke="plot"+ke[0].toUpperCase()+ke.substr(1);_e--&&Y[Z];)if(Ne=ee[_e],(le=Y[Z]).y=Ne.y,Ne.x<=le.x&&Ne[ke]!==void 0){if(le.x<=Pe&&(le.plotY=Ne[ke],Ne.x<le.x&&!oe&&(Re=ee[_e+1]))&&Re[ke]!==void 0)if(pd(le.plotX)&&se.is("spline")){let Le=[Ne.plotX||0,Ne.plotY||0],et=[Re.plotX||0,Re.plotY||0],qe=((Be=Ne.controlPoints)==null?void 0:Be.high)||Le,zt=((Xe=Re.controlPoints)==null?void 0:Xe.low)||et,it=(mt,xt)=>Math.pow(1-mt,3)*Le[xt]+3*(1-mt)*(1-mt)*mt*qe[xt]+3*(1-mt)*mt*mt*zt[xt]+mt*mt*mt*et[xt],at=0,kr=1,Bt;for(let mt=0;mt<100;mt++){let xt=(at+kr)/2,Lt=it(xt,0);if(Lt===null)break;if(.25>Math.abs(Lt-le.plotX)){Bt=xt;break}Lt<le.plotX?at=xt:kr=xt}pd(Bt)&&(le.plotY=it(Bt,1),le.y=Q.toValue(le.plotY,!0))}else Ue=(le.x-Ne.x)/(Re.x-Ne.x),le.plotY+=Ue*(Re[ke]-Ne[ke]),le.y+=Ue*(Re.y-Ne.y);if(Z--,_e++,Z<0)break}}Y.forEach((Le,et)=>{let qe;Le.plotX+=ze,(Le.plotY===void 0||re)&&(Le.plotX>=0&&Le.plotX<=V.len?re?(Le.plotY=V.translate(Le.x,0,1,0,1),Le.plotX=pd(Le.y)?Q.translate(Le.y,0,0,0,1):0):Le.plotY=(V.opposite?0:P.yAxis.len)+V.offset:Le.shapeArgs={}),(ue=Y[et-1])&&ue.plotX===Le.plotX&&(ue.stackIndex===void 0&&(ue.stackIndex=0),qe=ue.stackIndex+1),Le.stackIndex=qe}),this.onSeries=se}K.compose=function(P){if(Rh(Im,"OnSeries")){let W=P.prototype;W.getPlotBox=k,W.translate=A}return P},K.getPlotBox=k,K.translate=A})(J||(J={}));let Dm=J,{noop:vl}=ie(),{distribute:Bm}=ie(),{series:Lh,seriesTypes:{column:Ii}}=ci(),{addEvent:to,defined:$m,extend:Ih,isNumber:zm,merge:xl,objectEach:Fm,wrap:Wm}=ie();class vs extends Ii{animate(k){k&&this.setClip()}drawPoints(){let k,A,P,W,H,Y,ne,se,oe,ee,re,V=this.points,Q=this.chart,Z=Q.renderer,le=Q.inverted,ue=this.options,ke=ue.y,_e=this.yAxis,ze={},Ne=[],Pe=zm(ue.borderRadius)?ue.borderRadius:0;for(W=V.length;W--;)H=V[W],ee=(le?H.plotY:H.plotX)>this.xAxis.len,k=H.plotX,ne=H.stackIndex,P=H.options.shape||ue.shape,(A=H.plotY)!==void 0&&(A=H.plotY+ke-(ne!==void 0&&ne*ue.stackDistance)),H.anchorX=ne?void 0:H.plotX,se=ne?void 0:H.plotY,re=P!=="flag",Y=H.graphic,A!==void 0&&k>=0&&!ee?(Y&&H.hasNewShapeType()&&(Y=Y.destroy()),Y||(Y=H.graphic=Z.label("",0,void 0,P,void 0,void 0,ue.useHTML).addClass("highcharts-point").add(this.markerGroup),H.graphic.div&&(H.graphic.div.point=H),Y.isNew=!0),Y.attr({align:re?"center":"left",width:ue.width,height:ue.height,"text-align":ue.textAlign,r:Pe}),Q.styledMode||Y.attr(this.pointAttribs(H)).css(xl(ue.style,H.style)).shadow(ue.shadow),k>0&&(k-=Y.strokeWidth()%2),oe={y:A,anchorY:se},ue.allowOverlapX&&(oe.x=k,oe.anchorX=H.anchorX),Y.attr({text:H.options.title??ue.title??"A"})[Y.isNew?"attr":"animate"](oe),ue.allowOverlapX||(ze[H.plotX]?ze[H.plotX].size=Math.max(ze[H.plotX].size,Y.width||0):ze[H.plotX]={align:.5*!!re,size:Y.width||0,target:k,anchorX:k}),H.tooltipPos=[k,A+_e.pos-Q.plotTop]):Y&&(H.graphic=Y.destroy());if(!ue.allowOverlapX){let Re=100;for(let De of(Fm(ze,function(Ue){Ue.plotX=Ue.anchorX,Ne.push(Ue),Re=Math.max(Ue.size,Re)}),Bm(Ne,le?_e.len:this.xAxis.len,Re),V)){let Ue=De.plotX,Be=De.graphic,Xe=Be&&ze[Ue];Xe&&Be&&($m(Xe.pos)?Be[Be.isNew?"attr":"animate"]({x:Xe.pos+(Xe.align||0)*Xe.size,anchorX:De.anchorX}).show().isNew=!1:Be.hide().isNew=!0)}}ue.useHTML&&this.markerGroup&&Wm(this.markerGroup,"on",function(Re){return qs().prototype.on.apply(Re.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){let k=this.points;for(let A of(super.drawTracker(),k)){let P=A.graphic;P&&(A.unbindMouseOver&&A.unbindMouseOver(),A.unbindMouseOver=to(P.element,"mouseover",function(){for(let W of(A.stackIndex>0&&!A.raised&&(A._y=P.y,P.attr({y:A._y-8}),A.raised=!0),k))W!==A&&W.raised&&W.graphic&&(W.graphic.attr({y:W._y}),W.raised=!1)}))}}pointAttribs(k,A){let P=this.options,W=k&&k.color||this.color,H=P.lineColor,Y=k&&k.lineWidth,ne=k&&k.fillColor||P.fillColor;return A&&(ne=P.states[A].fillColor,H=P.states[A].lineColor,Y=P.states[A].lineWidth),{fill:ne||W,stroke:H||W,"stroke-width":Y||P.lineWidth||0}}setClip(){Lh.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}vs.compose=Om.compose,vs.defaultOptions=xl(Ii.defaultOptions,{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold"}}),Dm.compose(vs),Ih(vs.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:Pm,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:vl,init:Lh.prototype.init}),ci().registerSeriesType("flags",vs);var Um=je(184),gd=je.n(Um);let{addEvent:br,find:$t,fireEvent:Dh,isArray:Bh,isNumber:wr,pick:xs}=ie();(function(K){function k(){this.brokenAxis!==void 0&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function A(){var ee;Object.keys(((ee=this.options.breaks)==null?void 0:ee[0])||{}).length&&(this.options.ordinal=!1)}function P(){let ee=this.brokenAxis;if(ee!=null&&ee.hasBreaks){let re=this.tickPositions,V=this.tickPositions.info,Q=[];for(let Z=0;Z<re.length;Z++)ee.isInAnyBreak(re[Z])||Q.push(re[Z]);this.tickPositions=Q,this.tickPositions.info=V}}function W(){this.brokenAxis||(this.brokenAxis=new oe(this))}function H(){var le,ue;let{isDirty:ee,options:{connectNulls:re},points:V,xAxis:Q,yAxis:Z}=this;if(ee){let ke=V.length;for(;ke--;){let _e=V[ke],ze=(_e.y!==null||re!==!1)&&(((le=Q==null?void 0:Q.brokenAxis)==null?void 0:le.isInAnyBreak(_e.x,!0))||((ue=Z==null?void 0:Z.brokenAxis)==null?void 0:ue.isInAnyBreak(_e.y,!0)));_e.visible=!ze&&_e.options.visible!==!1}}}function Y(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,xs(this.pointArrayMap,["y"]))}function ne(ee,re){var ke;let V,Q,Z,le=this,ue=le.points;if((ke=ee==null?void 0:ee.brokenAxis)!=null&&ke.hasBreaks){let _e=ee.brokenAxis;re.forEach(function(ze){V=(_e==null?void 0:_e.breakArray)||[],Q=ee.isXAxis?ee.min:xs(le.options.threshold,ee.min),ue.forEach(function(Ne){Z=Ne["stack"+ze.toUpperCase()]??Ne[ze],V.forEach(function(Pe){if(wr(Q)&&wr(Z)){let Re="";Q<Pe.from&&Z>Pe.to||Q>Pe.from&&Z<Pe.from?Re="pointBreak":(Q<Pe.from&&Z>Pe.from&&Z<Pe.to||Q>Pe.from&&Z>Pe.to&&Z<Pe.from)&&(Re="pointInBreak"),Re&&Dh(ee,Re,{point:Ne,brk:Pe})}})})})}}function se(){let ee=this.currentDataGrouping,re=ee==null?void 0:ee.gapSize,V=this.points.slice(),Q=this.yAxis,Z=this.options.gapSize,le=V.length-1;if(Z&&le>0){let ue,ke;for(this.options.gapUnit!=="value"&&(Z*=this.basePointRange),re&&re>Z&&re>=this.basePointRange&&(Z=re);le--;)if(ke&&ke.visible!==!1||(ke=V[le+1]),ue=V[le],ke.visible!==!1&&ue.visible!==!1){if(ke.x-ue.x>Z){let _e=(ue.x+ke.x)/2;V.splice(le+1,0,{isNull:!0,x:_e}),Q.stacking&&this.options.stacking&&((Q.stacking.stacks[this.stackKey][_e]=new(gd())(Q,Q.options.stackLabels,!1,_e,this.stack)).total=0)}ke=ue}}return this.getGraphPath(V)}K.compose=function(ee,re){if(!ee.keepProps.includes("brokenAxis")){ee.keepProps.push("brokenAxis"),br(ee,"init",W),br(ee,"afterInit",k),br(ee,"afterSetTickPositions",P),br(ee,"afterSetOptions",A);let V=re.prototype;V.drawBreaks=ne,V.gappedPath=se,br(re,"afterGeneratePoints",H),br(re,"afterRender",Y)}return ee};class oe{static isInBreak(re,V){let Q=re.repeat||1/0,Z=re.from,le=re.to-re.from,ue=V>=Z?(V-Z)%Q:Q-(Z-V)%Q;return re.inclusive?ue<=le:ue<le&&ue!==0}static lin2Val(re){let V=this.min||0,Q=this.brokenAxis,Z=Q==null?void 0:Q.breakArray;if(!(Z!=null&&Z.length)||!wr(re))return re;let le=re;if(re>V)for(let ue of Z){if(ue.from>le)break;(ue.to<=le&&ue.to>V||oe.isInBreak(ue,le))&&(le+=ue.len)}else if(re<V)for(let ue of Z){if(ue.from>V)break;(ue.from>=le&&ue.from<V||oe.isInBreak(ue,le))&&(le-=ue.len)}return le}static val2Lin(re){let V=this.min||0,Q=this.brokenAxis,Z=Q==null?void 0:Q.breakArray;if(!(Z!=null&&Z.length)||!wr(re))return re;let le=re;if(re>V)for(let ue of Z)if(ue.to<=re&&ue.to>V)le-=ue.len;else{if(ue.from>re)break;if(oe.isInBreak(ue,re)){le-=re-ue.from;break}}else if(re<V)for(let ue of Z)if(ue.from>=re&&ue.from<V)le+=ue.len;else{if(ue.from>V)break;if(oe.isInBreak(ue,re)){le+=ue.to-re;break}}return le}constructor(re){this.axis=re}findBreakAt(re,V){return $t(V,function(Q){return Q.from<re&&re<Q.to})}isInAnyBreak(re,V){let Q=this.axis,Z=Q.options.breaks||[],le=Z.length,ue,ke,_e;if(le&&wr(re)){for(;le--;)oe.isInBreak(Z[le],re)&&(ue=!0,ke||(ke=xs(Z[le].showPoints,!Q.isXAxis)));_e=ue&&V?ue&&!ke:ue}return _e}setBreaks(re,V){let Q=this,Z=Q.axis,le=Z.chart.time,ue=Bh(re)&&!!Object.keys((re==null?void 0:re[0])||{}).length;Z.isDirty=(Q.hasBreaks??!1)!==ue,Q.hasBreaks=ue,re==null||re.forEach(ke=>{ke.from=le.parse(ke.from)||0,ke.to=le.parse(ke.to)||0}),re!==Z.options.breaks&&(Z.options.breaks=Z.userOptions.breaks=re),Z.forceRedraw=!0,Z.series.forEach(function(ke){ke.isDirty=!0}),ue||Z.val2lin!==oe.val2Lin||(delete Z.val2lin,delete Z.lin2val),ue&&(Z.userOptions.ordinal=!1,Z.lin2val=oe.lin2Val,Z.val2lin=oe.val2Lin,Z.setExtremes=function(ke,_e,ze,Ne,Pe){var Re;if(Q.hasBreaks&&!((Re=Z.treeGrid)!=null&&Re.tree)){let De,Ue=this.brokenAxis.breakArray||[];for(;De=Q.findBreakAt(ke,Ue);)ke=De.to;for(;De=Q.findBreakAt(_e,Ue);)_e=De.from;_e<ke&&(_e=ke)}Z.constructor.prototype.setExtremes.call(this,ke,_e,ze,Ne,Pe)},Z.setAxisTranslation=function(){var ke;if(Z.constructor.prototype.setAxisTranslation.call(this),Q.unitLength=void 0,Q.hasBreaks){let _e=Z.options.breaks||[],ze=[],Ne=[],Pe=Z.pointRangePadding??0,Re=0,De,Ue,Be=Z.userMin??Z.min,Xe=Z.userMax??Z.max,Le=Z.dataMin??Be,et=Z.dataMax??Xe,qe,zt;wr(Z.threshold)&&(Le=Math.min(Le??Z.threshold,Z.threshold),et=Math.max(et??Z.threshold,Z.threshold)),(ke=Z.treeGrid)!=null&&ke.tree||_e.forEach(function(it){Ue=it.repeat||1/0,wr(Be)&&wr(Xe)&&(oe.isInBreak(it,Be)&&(Be+=it.to%Ue-Be%Ue),oe.isInBreak(it,Xe)&&(Xe-=Xe%Ue-it.from%Ue))}),wr(Le)&&wr(et)&&_e.forEach(function(it){for(qe=it.from,Ue=it.repeat||1/0;qe-Ue>Le;)qe-=Ue;for(;qe<Le;)qe+=Ue;for(zt=qe;zt<et;zt+=Ue)ze.push({value:zt,move:"in"}),ze.push({value:zt+it.to-it.from,move:"out",size:it.breakSize})}),ze.sort(function(it,at){return it.value===at.value?(it.move!=="in")-(at.move!=="in"):it.value-at.value}),De=0,qe=Le,ze.forEach(it=>{(De+=it.move==="in"?1:-1)===1&&it.move==="in"&&(qe=it.value),De===0&&wr(qe)&&(Ne.push({from:qe,to:it.value,len:it.value-qe-(it.size||0)}),wr(Be)&&wr(Xe)&&qe<Xe&&it.value>Be&&(Re+=it.value-qe-(it.size||0)))}),Q.breakArray=Ne,wr(Be)&&wr(Xe)&&wr(Z.min)&&(Q.unitLength=Xe-Be-Re+Pe,Dh(Z,"afterBreaks"),Z.staticScale?Z.transA=Z.staticScale:Q.unitLength&&(Z.transA*=(Xe-Z.min+Pe)/Q.unitLength),Pe&&(Z.minPixelPadding=Z.transA*(Z.minPointOffset||0)),Z.min=Be,Z.max=Xe)}}),xs(V,!0)&&Z.chart.redraw()}}K.Additions=oe})(we||(we={}));let Gt=we,ro=ie();ro.BrokenAxis=ro.BrokenAxis||Gt,ro.BrokenAxis.compose(ro.Axis,ro.Series);let ei={},{arrayMax:$h,arrayMin:dt,correctFloat:zh,extend:yl,isNumber:on}=ie();function oa(K){let k=K.length,A=bt(K);return on(A)&&k&&(A=zh(A/k)),A}function bt(K){let k=K.length,A;if(!k&&K.hasNulls)A=null;else if(k)for(A=0;k--;)A+=K[k];return A}let aa={average:oa,averages:function(){let K=[];return[].forEach.call(arguments,function(k){K.push(oa(k))}),K[0]===void 0?void 0:K},close:function(K){return K.length?K[K.length-1]:K.hasNulls?null:void 0},high:function(K){return K.length?$h(K):K.hasNulls?null:void 0},hlc:function(K,k,A){if(K=ei.high(K),k=ei.low(k),A=ei.close(A),on(K)||on(k)||on(A))return[K,k,A]},low:function(K){return K.length?dt(K):K.hasNulls?null:void 0},ohlc:function(K,k,A,P){if(K=ei.open(K),k=ei.high(k),A=ei.low(A),P=ei.close(P),on(K)||on(k)||on(A)||on(P))return[K,k,A,P]},open:function(K){return K.length?K[0]:K.hasNulls?null:void 0},range:function(K,k){return K=ei.low(K),k=ei.high(k),on(K)||on(k)?[K,k]:K===null&&k===null?null:void 0},sum:bt};yl(ei,aa);let io={common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["%v %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]},{addEvent:Fh,extend:Hm,merge:Wh,pick:ys}=ie();function Uh(K){let k=this,A=k.series;A.forEach(function(P){P.groupPixelWidth=void 0}),A.forEach(function(P){P.groupPixelWidth=k.getGroupPixelWidth&&k.getGroupPixelWidth(),P.groupPixelWidth&&(P.hasProcessed=!0),P.applyGrouping(!!K.hasExtremesChanged)})}function Gm(){let K=this.series,k=K.length,A=0,P=!1,W,H;for(;k--;)(H=K[k].options.dataGrouping)&&(A=Math.max(A,ys(H.groupPixelWidth,io.common.groupPixelWidth)),W=(K[k].dataTable.modified||K[k].dataTable).rowCount,(K[k].groupPixelWidth||W>this.chart.plotSizeX/A||W&&H.forced)&&(P=!0));return P?A:0}function Vm(){this.series.forEach(function(K){K.hasProcessed=!1})}function bl(K,k){let A;if(k=ys(k,!0),K||(K={forced:!1,units:null}),this instanceof I)for(A=this.series.length;A--;)this.series[A].update({dataGrouping:K},!1);else this.chart.options.series.forEach(function(P){P.dataGrouping=typeof K=="boolean"?K:Wh(K,P.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),k&&this.chart.redraw()}let Xm={compose:function(K){I=K;let k=K.prototype;k.applyGrouping||(Fh(K,"afterSetScale",Vm),Fh(K,"postProcessData",Uh),Hm(k,{applyGrouping:Uh,getGroupPixelWidth:Gm,setDataGrouping:bl}))}},{addEvent:Hh,getMagnitude:Ym,normalizeTickInterval:qm,timeUnits:wl}=ie();(function(K){function k(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function A(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new P(this))}K.compose=function(W){return W.keepProps.includes("dateTime")||(W.keepProps.push("dateTime"),W.prototype.getTimeTicks=k,Hh(W,"afterSetType",A)),W};class P{constructor(H){this.axis=H}normalizeTimeTickInterval(H,Y){let ne=Y||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],se=ne[ne.length-1],oe=wl[se[0]],ee=se[1],re;for(re=0;re<ne.length&&(oe=wl[(se=ne[re])[0]],ee=se[1],!ne[re+1]||!(H<=(oe*ee[ee.length-1]+wl[ne[re+1][0]])/2));re++);oe===wl.year&&H<5*oe&&(ee=[1,2,5]);let V=qm(H/oe,ee,se[0]==="year"?Math.max(Ym(H/oe),1):1);return{unitRange:oe,count:V,unitName:se[0]}}getXDateFormat(H,Y){let{axis:ne}=this,se=ne.chart.time;return ne.closestPointRange?se.getDateFormat(ne.closestPointRange,H,ne.options.startOfWeek,Y)||se.resolveDTLFormat(Y.year).main:se.resolveDTLFormat(Y.day).main}}K.Additions=P})(Se||(Se={}));let Km=Se,{series:{prototype:Gh}}=ci(),{addEvent:kl,defined:la,error:Vh,extend:Xh,isNumber:bi,merge:wi,pick:Zm,splat:Qm}=ie(),Jm=Gh.generatePoints;function Yh(K){var k,A,P;let W,H,Y=this.chart,ne=this.options.dataGrouping,se=this.allowDG!==!1&&ne&&Zm(ne.enabled,Y.options.isStock),oe=this.reserveSpace(),ee=this.currentDataGrouping,re,V,Q=!1;se&&!this.requireSorting&&(this.requireSorting=Q=!0);let Z=(k=this,A=K,!!(k.isCartesian&&!k.isDirty&&!k.xAxis.isDirty&&!k.yAxis.isDirty&&!A)||!se);if(Q&&(this.requireSorting=!1),Z)return;this.destroyGroupedData();let le=ne.groupAll?this.dataTable:this.dataTable.modified||this.dataTable,ue=this.getColumn("x",!ne.groupAll),ke=Y.plotSizeX,_e=this.xAxis,ze=_e.getExtremes(),Ne=_e.options.ordinal,Pe=this.groupPixelWidth;if(Pe&&ue&&le.rowCount&&ke&&bi(ze.min)){H=!0,this.isDirty=!0,this.points=null;let Re=ze.min,De=ze.max,Ue=Ne&&_e.ordinal&&_e.ordinal.getGroupIntervalFactor(Re,De,this)||1,Be=Pe*(De-Re)/ke*Ue,Xe=_e.getTimeTicks(Km.Additions.prototype.normalizeTimeTickInterval(Be,ne.units||io.units),Math.min(Re,ue[0]),Math.max(De,ue[ue.length-1]),_e.options.startOfWeek,ue,this.closestPointRange),Le=Gh.groupData.apply(this,[le,Xe,ne.approximation]),et=Le.modified,qe=et.getColumn("x",!0),zt=0;for(ne!=null&&ne.smoothed&&et.rowCount&&(ne.firstAnchor="firstPoint",ne.anchor="middle",ne.lastAnchor="lastPoint",Vh(32,!1,Y,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),W=1;W<Xe.length;W++)Xe.info.segmentStarts&&Xe.info.segmentStarts.indexOf(W)!==-1||(zt=Math.max(Xe[W]-Xe[W-1],zt));(re=Xe.info).gapSize=zt,this.closestPointRange=Xe.info.totalRange,this.groupMap=Le.groupMap,this.currentDataGrouping=re,function(it,at,kr){let Bt=it.options.dataGrouping,mt=it.currentDataGrouping&&it.currentDataGrouping.gapSize,xt=it.getColumn("x");if(!(Bt&&xt.length&&mt&&it.groupMap))return;let Lt=at.length-1,mr=Bt.anchor,ki=Bt.firstAnchor,Ar=Bt.lastAnchor,oo=at.length-1,ca=0;if(ki&&xt[0]>=at[0]){let wn;ca++;let xd=it.groupMap[0].start,of=it.groupMap[0].length;bi(xd)&&bi(of)&&(wn=xd+(of-1)),at[0]={start:at[0],middle:at[0]+.5*mt,end:at[0]+mt,firstPoint:xt[0],lastPoint:wn&&xt[wn]}[ki]}if(Lt>0&&Ar&&mt&&at[Lt]>=kr-mt){oo--;let wn=it.groupMap[it.groupMap.length-1].start;at[Lt]={start:at[Lt],middle:at[Lt]+.5*mt,end:at[Lt]+mt,firstPoint:wn&&xt[wn],lastPoint:xt[xt.length-1]}[Ar]}if(mr&&mr!=="start"){let wn=mt*{middle:.5,end:1}[mr];for(;oo>=ca;)at[oo]+=wn,oo--}}(this,qe||[],De),oe&&qe&&(la((P=qe)[0])&&bi(_e.min)&&bi(_e.dataMin)&&P[0]<_e.min&&((!la(_e.options.min)&&_e.min<=_e.dataMin||_e.min===_e.dataMin)&&(_e.min=Math.min(P[0],_e.min)),_e.dataMin=Math.min(P[0],_e.dataMin)),la(P[P.length-1])&&bi(_e.max)&&bi(_e.dataMax)&&P[P.length-1]>_e.max&&((!la(_e.options.max)&&bi(_e.dataMax)&&_e.max>=_e.dataMax||_e.max===_e.dataMax)&&(_e.max=Math.max(P[P.length-1],_e.max)),_e.dataMax=Math.max(P[P.length-1],_e.dataMax))),ne.groupAll&&(this.allGroupedTable=et,qe=(et=(V=this.cropData(et,_e.min||0,_e.max||0)).modified).getColumn("x"),this.cropStart=V.start),this.dataTable.modified=et}else this.groupMap=void 0,this.currentDataGrouping=void 0;this.hasGroupedData=H,this.preventGraphAnimation=(ee&&ee.totalRange)!==(re&&re.totalRange)}function qh(){this.groupedData&&(this.groupedData.forEach(function(K,k){K&&(this.groupedData[k]=K.destroy?K.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function ev(){Jm.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function Sl(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function Kh(K,k,A){let P=K.getColumn("x",!0)||[],W=K.getColumn("y",!0),H=this,Y=H.data,ne=H.options&&H.options.data,se=[],oe=new mh,ee=[],re=K.rowCount,V=!!W,Q=[],Z=H.pointArrayMap,le=Z&&Z.length,ue=["x"].concat(Z||["y"]),ke=(Z||["y"]).map(()=>[]),_e=this.options.dataGrouping&&this.options.dataGrouping.groupAll,ze,Ne,Pe,Re=0,De=0,Ue=typeof A=="function"?A:A&&ei[A]?ei[A]:ei[H.getDGApproximation&&H.getDGApproximation()||"average"];if(le){let Le=Z.length;for(;Le--;)Q.push([])}else Q.push([]);let Be=le||1;for(let Le=0;Le<=re;Le++)if(!(P[Le]<k[0])){for(;k[Re+1]!==void 0&&P[Le]>=k[Re+1]||Le===re;){if(ze=k[Re],H.dataGroupInfo={start:_e?De:H.cropStart+De,length:Q[0].length,groupStart:ze},Pe=Ue.apply(H,Q),H.pointClass&&!la(H.dataGroupInfo.options)&&(H.dataGroupInfo.options=wi(H.pointClass.prototype.optionsToObject.call({series:H},H.options.data[H.cropStart+De])),ue.forEach(function(et){delete H.dataGroupInfo.options[et]})),Pe!==void 0){se.push(ze);let et=Qm(Pe);for(let qe=0;qe<et.length;qe++)ke[qe].push(et[qe]);ee.push(H.dataGroupInfo)}De=Le;for(let et=0;et<Be;et++)Q[et].length=0,Q[et].hasNulls=!1;if(Re+=1,Le===re)break}if(Le===re)break;if(Z){let et,qe=_e?Le:H.cropStart+Le,zt=Y&&Y[qe]||H.pointClass.prototype.applyOptions.apply({series:H},[ne[qe]]);for(let it=0;it<le;it++)bi(et=zt[Z[it]])?Q[it].push(et):et===null&&(Q[it].hasNulls=!0)}else bi(Ne=V?W[Le]:null)?Q[0].push(Ne):Ne===null&&(Q[0].hasNulls=!0)}let Xe={x:se};return(Z||["y"]).forEach((Le,et)=>{Xe[Le]=ke[et]}),oe.setColumns(Xe),{groupMap:ee,modified:oe}}function Zh(K){let k=K.options,A=this.type,P=this.chart.options.plotOptions,W=this.useCommonDataGrouping&&io.common,H=io.seriesSpecific,Y=ie().defaultOptions.plotOptions[A].dataGrouping;if(P&&(H[A]||W)){let ne=this.chart.rangeSelector;Y||(Y=wi(io.common,H[A])),k.dataGrouping=wi(W,Y,P.series&&P.series.dataGrouping,P[A].dataGrouping,this.userOptions.dataGrouping,!k.isInternal&&ne&&bi(ne.selected)&&ne.buttonOptions[ne.selected].dataGrouping)}}let Qh={compose:function(K){let k=K.prototype;k.applyGrouping||(kl(K.prototype.pointClass,"update",function(){if(this.dataGroup)return Vh(24,!1,this.series.chart),!1}),kl(K,"afterSetOptions",Zh),kl(K,"destroy",qh),Xh(k,{applyGrouping:Yh,destroyGroupedData:qh,generatePoints:ev,getDGApproximation:Sl,groupData:Kh}))},groupData:Kh},{format:tv}=Ks(),{composed:Jh}=ie(),{addEvent:rv,extend:iv,isNumber:nv,pick:no,pushUnique:ef}=ie();function sv(K){var ue;let k=this.chart,A=k.time,P=K.point,W=P.series,H=W.options,Y=W.tooltipOptions,ne=H.dataGrouping,se=W.xAxis,oe=Y.xDateFormat||"",ee,re,V,Q,Z,le=Y[K.isFooter?"footerFormat":"headerFormat"];if(se&&se.options.type==="datetime"&&ne&&nv(P.key)){re=W.currentDataGrouping,V=ne.dateTimeLabelFormats||io.common.dateTimeLabelFormats,re?(Q=V[re.unitName],re.count===1?oe=Q[0]:(oe=Q[1],ee=Q[2])):!oe&&V&&se.dateTime&&(oe=se.dateTime.getXDateFormat(P.x,Y.dateTimeLabelFormats));let ke=no((ue=W.groupMap)==null?void 0:ue[P.index].groupStart,P.key),_e=ke+((re==null?void 0:re.totalRange)||0)-1;Z=A.dateFormat(oe,ke),ee&&(Z+=A.dateFormat(ee,_e)),W.chart.styledMode&&(le=this.styledModeFormat(le)),K.text=tv(le,{point:iv(P,{key:Z}),series:W},k),K.preventDefault()}}let ov={compose:function(K,k,A){Xm.compose(K),Qh.compose(k),A&&ef(Jh,"DataGrouping")&&rv(A,"headerFormatter",sv)},groupData:Qh.groupData},Di=ie();Di.dataGrouping=Di.dataGrouping||{},Di.dataGrouping.approximationDefaults=Di.dataGrouping.approximationDefaults||aa,Di.dataGrouping.approximations=Di.dataGrouping.approximations||ei,ov.compose(Di.Axis,Di.Series,Di.Tooltip);let{defined:av,isNumber:tf,pick:lv}=ie(),{addEvent:rf,isObject:md,pick:cv,defined:so,merge:dv}=ie(),{getAssignedAxis:_l}={getAssignedAxis:function(K){return K.filter(k=>{let A=k.axis.getExtremes(),P=A.min,W=A.max,H=lv(k.axis.minPointOffset,0);return tf(P)&&tf(W)&&k.value>=P-H&&k.value<=W+H&&!k.axis.options.isInternal})[0]}},nf=[],vd={enabled:!0,sensitivity:1.1},sf=K=>(md(K)||(K={enabled:K??!0}),dv(vd,K)),uv=function(K,k,A,P,W,H,Y){let ne=cv(Y.type,K.zooming.type,""),se=[];ne==="x"?se=A:ne==="y"?se=P:ne==="xy"&&(se=K.axes);let oe=K.transform({axes:se,to:{x:W-5,y:H-5,width:10,height:10},from:{x:W-5*k,y:H-5*k,width:10*k,height:10*k},trigger:"mousewheel"});return oe&&(so(N)&&clearTimeout(N),N=setTimeout(()=>{var ee;(ee=K.pointer)==null||ee.drop()},400)),oe};function hv(){let K=sf(this.zooming.mouseWheel);K.enabled&&rf(this.container,"wheel",k=>{var W,H;k=((W=this.pointer)==null?void 0:W.normalize(k))||k;let{pointer:A}=this,P=A&&!A.inClass(k.target,"highcharts-no-mousewheel");if(this.isInsidePlot(k.chartX-this.plotLeft,k.chartY-this.plotTop)&&P){let Y=K.sensitivity||1.1,ne=k.detail||(k.deltaY||0)/120,se=_l(A.getCoordinates(k).xAxis),oe=_l(A.getCoordinates(k).yAxis);uv(this,Math.pow(Y,ne),se?[se.axis]:this.xAxis,oe?[oe.axis]:this.yAxis,k.chartX,k.chartY,K)&&((H=k.preventDefault)==null||H.call(k))}})}/**
* @license Highcharts JS v12.4.0 (2025-09-04)
* @module highcharts/modules/mouse-wheel-zoom
* @requires highcharts
*
* Mousewheel zoom module
*
* (c) 2023 Askel Eirik Johansson
*
* License: www.highcharts.com/license
*/let Cl=ie();Cl.MouseWheelZoom=Cl.MouseWheelZoom||{compose:function(K){nf.indexOf(K)===-1&&(nf.push(K),rf(K,"afterGetContainer",hv))}},Cl.MouseWheelZoom.compose(Cl.Chart);let Mt=ie();Mt.Navigator=Mt.Navigator||hs,Mt.OrdinalAxis=Mt.OrdinalAxis||Jc,Mt.RangeSelector=Mt.RangeSelector||ps,Mt.Scrollbar=Mt.Scrollbar||zn,Mt.stockChart=Mt.stockChart||Vn.stockChart,Mt.StockChart=Mt.StockChart||Mt.stockChart,Mt.extend(Mt.StockChart,Vn),st.compose(Mt.Series,Mt.Axis,Mt.Point),vs.compose(Mt.Renderer),sn.compose(Mt.Series),Mt.Navigator.compose(Mt.Chart,Mt.Axis,Mt.Series),Mt.OrdinalAxis.compose(Mt.Axis,Mt.Series,Mt.Chart),Mt.RangeSelector.compose(Mt.Axis,Mt.Chart),Mt.Scrollbar.compose(Mt.Axis),Mt.StockChart.compose(Mt.Chart,Mt.Axis,Mt.Series,Mt.SVGRenderer);let fv=ie();return Fe.default})())})(pj);var Fz=pj.exports;const jS=Pu(Fz);try{const e=jS.default||jS;typeof window<"u"&&typeof e=="function"&&e(fj)}catch(e){console.error("Failed to initialize Highcharts Stock module:",e)}function Wz({data:e,onMatchClick:t}){const r=M.useMemo(()=>{const n=[];let s=1500;return e.forEach((a,c)=>{let p=s;const v=a.rating,y=Math.max(p,v)+5,S=Math.min(p,v)-5;a.isReset?n.push({x:c,open:p,high:y,low:S,close:v,color:"#6b7280",lineColor:"#4b5563",upColor:"#6b7280",upLineColor:"#4b5563"}):n.push([c,p,y,S,v]),s=v}),{chart:{type:"candlestick",backgroundColor:"transparent",height:350,spacingBottom:15,spacingTop:10,style:{fontFamily:"Lato, sans-serif"}},credits:{enabled:!1},exporting:{enabled:!0},navigator:{enabled:!1},scrollbar:{enabled:!1},rangeSelector:{enabled:!1},title:null,subtitle:null,xAxis:{type:"linear",title:{text:"Match #",style:{fontSize:"11px",color:"#9ca3af",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"}},labels:{style:{color:"#6b7280",fontSize:"10px"},formatter:function(){return String(this.value+1)}},lineColor:"#374151",tickColor:"#374151",gridLineColor:"#1f2937",gridLineWidth:1,min:e.length>0?0:void 0,max:e.length>0?Math.max(0,e.length-1):void 0,plotLines:[],accessibility:{rangeDescription:"Range: Match 1 to "+e.length}},yAxis:{title:{text:"Rating",style:{fontSize:"11px",color:"#9ca3af",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"}},labels:{style:{color:"#6b7280",fontSize:"10px"}},gridLineColor:"#1f2937",gridLineWidth:1,lineColor:"#374151",opposite:!1,accessibility:{description:"Rating value"}},legend:{enabled:!1},plotOptions:{candlestick:{color:"#ef4444",upColor:"#22c55e",lineColor:"#ef4444",upLineColor:"#22c55e",dataLabels:{enabled:!1}},series:{cursor:"pointer",point:{events:{click:function(){const a=e[this.x];t&&a&&!a.isReset&&t(a.matchId)}}}}},tooltip:{shared:!0,useHTML:!0,backgroundColor:"rgba(15, 20, 30, 0.95)",borderColor:"rgba(234, 179, 8, 0.5)",borderRadius:8,borderWidth:1,shadow:{color:"rgba(0, 0, 0, 0.5)",offsetX:0,offsetY:4,opacity:.5,width:10},style:{color:"#e5e7eb",fontFamily:"Lato, sans-serif"},formatter:function(){var S,E;if(!this.points||this.points.length===0)return"";const a=e[this.x];if(!a)return"";if(a.isReset){let T=1500;for(let U=this.x-1;U>=0;U--)if(e[U]&&!((S=e[U])!=null&&S.isReset)){T=((E=e[U])==null?void 0:E.rating)||1500;break}const z=T-a.rating;return`<div class="p-2 min-w-[200px]">
              <div style="font-family: 'Cinzel', serif; font-weight: bold; color: #9ca3af; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid #4b5563; padding-bottom: 4px; margin-bottom: 4px;"> Season Reset</div>
              <div style="font-size: 12px; color: #d1d5db;">
                <div style="display: flex; justify-content: space-between;"><span>Previous Rating:</span> <b>${T.toFixed(0)}</b></div>
                <div style="display: flex; justify-content: space-between;"><span>Reset to:</span> <b>${a.rating.toFixed(0)}</b></div>
                ${z>0?`<div style="color: #ef4444; font-weight: bold; margin-top: 4px;">Rating Drop: -${z.toFixed(0)}</div>`:""}
                <div style="margin-top: 6px; font-size: 10px; color: #9ca3af; font-style: italic;">New season begins at 1500</div>
              </div>
            </div>`}const c=a.change>=0?"#22c55e":"#ef4444",p=a.change>=0?"+":"",v=a.won?"VICTORY":"DEFEAT",y=a.won?"#22c55e":"#ef4444";return`<div class="p-2 min-w-[200px]">
            <div style="font-family: 'Cinzel', serif; font-weight: bold; color: ${y}; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid ${y}40; padding-bottom: 4px; margin-bottom: 4px;">${v}</div>
            <div style="font-size: 12px; color: #d1d5db;">
              <div style="margin-bottom: 4px;">vs <span style="font-weight: bold; color: #fff;">${a.opponentName}</span></div>
              <div style="display: flex; justify-content: space-between;"><span>Rating:</span> <b>${a.rating.toFixed(0)}</b></div>
              <div style="display: flex; justify-content: space-between; color: ${c};"><span>Change:</span> <b>${p}${a.change.toFixed(1)}</b></div>
              ${a.eventTitle?`<div style="margin-top: 6px; font-size: 10px; color: #ca8a04; border-top: 1px solid #ca8a0440; padding-top: 4px;">${a.eventTitle}</div>`:""}
            </div>
          </div>`}},series:[{name:"Rating Progress",data:n,type:"candlestick"}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:280},xAxis:{labels:{enabled:!1}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"}}}]}}},[e,t]);return h.jsx("div",{className:"w-full overflow-hidden",children:h.jsx($z,{highcharts:fj,options:r,constructorType:"chart"})})}const Gd=20;function AS(e,t=0){return e.toLocaleString(void 0,{maximumFractionDigits:t,minimumFractionDigits:t})}function Uz(){const{id:e}=eE(),t=e?parseInt(e):NaN,[r,n]=M.useState(1),{openMatch:s}=qb(),[a,c]=M.useState([]),{players:p,loading:v}=kg(),[y,S]=M.useState([]),[E,T]=M.useState(!0),[z,U]=M.useState([]),[D,R]=M.useState([]),[I,N]=M.useState(null);M.useEffect(()=>{let be=!0;return(async()=>{const ve=await Fu();be&&U(ve)})(),()=>{be=!1}},[]),M.useEffect(()=>{let be=!0;return(async()=>{const ve=await Fc();be&&R(ve)})(),()=>{be=!1}},[]),M.useEffect(()=>{let be=!0;return(async()=>{T(!0);const ve=await T5();be&&(S(ve),T(!1))})(),()=>{be=!1}},[]),M.useEffect(()=>{if(isNaN(t))return;let be=!0;return(async()=>{const ve=await Ve.from("rating_events").select("*").eq("player_id",t).eq("event_type","match").not("match_id","is",null).order("id",{ascending:!0});be&&!ve.error&&ve.data&&c(ve.data)})(),()=>{be=!1}},[t,y]);const O=M.useMemo(()=>isNaN(t)?void 0:p.find(be=>be.id===t),[p,t]);fn(O?`Player - ${O.name}`:"Player");const q=M.useMemo(()=>O?[...p].sort((ve,je)=>(je.rating??0)-(ve.rating??0)).findIndex(ve=>ve.id===O.id)+1:null,[p,O]),ae=M.useMemo(()=>isNaN(t)?[]:y.filter(ve=>ve.player1_id===t||ve.player2_id===t).sort((ve,je)=>je.id-ve.id),[y,t]),te=M.useMemo(()=>I===null?ae:ae.filter(be=>be.season_id===I),[ae,I]),ce=M.useMemo(()=>{let be=0,ve=0;const je=[];for(const Ye of ae){if(!Ye.winner_id)continue;const ie=Ye.winner_id===t,ge=Ye.player1_id===t,he=ge?Ye.player2_id:Ye.player1_id,Me=p.find(Ze=>Ze.id===he),$e=ge?Ye.player1_score:Ye.player2_score,Ie=ge?Ye.player2_score:Ye.player1_score,Ee=ge?Ye.rating_change_p1:Ye.rating_change_p2;ie?(be++,je.length<10&&je.push({result:"W",matchId:Ye.id,opponentName:(Me==null?void 0:Me.name)||"Unknown",score:`${$e??"?"}-${Ie??"?"}`,ratingChange:Ee??null})):(ve++,je.length<10&&je.push({result:"L",matchId:Ye.id,opponentName:(Me==null?void 0:Me.name)||"Unknown",score:`${$e??"?"}-${Ie??"?"}`,ratingChange:Ee??null}))}const Fe=be+ve>0?be/(be+ve)*100:0;return{w:be,l:ve,winRate:Fe,recentForm:je}},[ae,t,p]),J=M.useMemo(()=>{if(!O)return[];if(a.length>0){const ie=a.filter(Ie=>Ie.match_id).map(Ie=>{let Ee="Unknown";if(Ie.opponent_id){const Ze=p.find(ot=>ot.id===Ie.opponent_id);Ee=(Ze==null?void 0:Ze.name)||`Player ${Ie.opponent_id}`}return{eventId:Ie.id,rating:Ie.rating,change:Ie.rating_change||0,won:Ie.result===1,matchId:Ie.match_id||0,opponentName:Ee,eventTitle:null,isReset:!1,seasonId:Ie.season_id}}),ge=new Map;for(const Ie of ie){const Ee=Ie.matchId?ge.get(Ie.matchId):void 0;(!Ee||Ee&&Ie.eventId>Ee.eventId)&&Ie.matchId&&ge.set(Ie.matchId,Ie)}let he=Array.from(ge.values());he.sort((Ie,Ee)=>Ie.eventId-Ee.eventId);const Me=he.length;if(he=he.slice(-Me),he.length===0)return[];const $e=[];for(let Ie=0;Ie<he.length;Ie++){const Ee=he[Ie],Ze=Ie>0?he[Ie-1]:null;Ze&&Ze.seasonId!==Ee.seasonId&&$e.push({matchNum:$e.length+1,rating:1500,change:0,won:!1,matchId:0,opponentName:"Season Reset",eventTitle:null,isReset:!0}),$e.push({matchNum:$e.length+1,rating:Ee.rating,change:Ee.change,won:Ee.won,matchId:Ee.matchId,opponentName:Ee.opponentName,eventTitle:Ee.eventTitle,isReset:!1})}return $e}const be=ae.length;let ve=[...ae].slice(0,be).reverse();if(ve.length===0)return[];let je=O.rating??1500;for(const ie of ve){if(!ie.winner_id)continue;const ge=ie.player1_id===t?ie.rating_change_p1||0:ie.rating_change_p2||0;je-=ge}const Fe=[];let Ye=je;return ve.forEach((ie,ge)=>{if(!ie.winner_id)return;const he=ie.player1_id===t?ie.rating_change_p1||0:ie.rating_change_p2||0,Me=ie.winner_id===t,$e=ie.player1_id===t?ie.player2_id:ie.player1_id,Ie=p.find(Ze=>Ze.id===$e),Ee=ie.event_id?z.find(Ze=>Ze.id===ie.event_id):null;Ye+=he,Fe.push({matchNum:ge+1,rating:Ye,change:he,won:Me,matchId:ie.id,opponentName:(Ie==null?void 0:Ie.name)||`Player ${$e}`,eventTitle:(Ee==null?void 0:Ee.title)||null,isReset:!1})}),Fe},[ae,t,O,p,z,a]),we=Math.ceil(te.length/Gd),Se=M.useMemo(()=>{const be=(r-1)*Gd,ve=be+Gd;return te.slice(be,ve)},[te,r]);return M.useEffect(()=>{n(1)},[I]),h.jsxs("section",{className:"space-y-8",children:[h.jsx("div",{className:"flex items-center justify-between border-b border-primary/30 pb-4",children:h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs(Mr,{className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center gap-1 font-heading uppercase tracking-wider",to:"/players",children:[h.jsx("span",{children:""})," Back to Roster"]})})}),v&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),!O&&!v&&h.jsx("div",{className:"text-center py-12 text-muted-foreground font-heading text-xl",children:"Player not found."}),O&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-primary/50 bg-card/80 backdrop-blur-md shadow-[0_0_20px_rgba(0,0,0,0.5)]",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:h.jsx(YE,{size:200})}),h.jsx("div",{className:"absolute top-0 left-0 w-2 h-full bg-primary/60"}),h.jsxs("div",{className:"p-6 md:p-8 flex flex-col md:flex-row gap-8 items-center md:items-start relative z-10",children:[h.jsxs("div",{className:"shrink-0 relative group",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/30 rounded-full blur-xl opacity-50 group-hover:opacity-80 transition-opacity"}),h.jsx(Ls,{name:O.name,twitter:O.twitter,size:128,className:"h-32 w-32 md:h-40 md:w-40 border-4 border-primary/50 shadow-2xl relative z-10"})]}),h.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-black text-primary drop-shadow-[0_0_10px_rgba(234,179,8,0.5)] tracking-wide uppercase",children:O.name}),O.twitter&&h.jsxs("a",{href:`https://twitter.com/${O.twitter.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-lg text-muted-foreground hover:text-primary transition-colors font-body inline-flex items-center gap-1",children:["@",O.twitter.replace("@","")]})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 pt-4 border-t border-border/30",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Rating"}),h.jsx("div",{className:"text-3xl font-bold text-foreground",children:AS(O.rating??0,0)})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Rank"}),h.jsxs("div",{className:"text-3xl font-bold text-foreground",children:["#",q,q&&q<=10&&h.jsx("span",{className:"ml-2 text-xs align-top bg-yellow-500/20 text-yellow-500 border border-yellow-500/30 px-1.5 py-0.5 rounded font-heading",children:"Top 10"})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Win Rate"}),h.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[ce.winRate.toFixed(1),"%",h.jsxs("span",{className:"text-sm font-normal text-muted-foreground ml-1",children:["(",ce.w,"W - ",ce.l,"L)"]})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Peak"}),h.jsx("div",{className:"text-3xl font-bold text-foreground",children:AS(O.peak_rating??0,0)})]})]})]})]}),h.jsx("div",{className:"px-6 pb-6 md:px-8 md:pb-8 relative z-10",children:h.jsx("div",{className:"border-t border-border/30 pt-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Badges"})}),h.jsx("div",{className:"flex items-center justify-center py-8 bg-background/40 rounded-lg border border-border/50",children:h.jsx("span",{className:"text-sm text-muted-foreground italic",children:"No badges earned yet."})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Recent Form"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Last 10 matches"})]}),ce.recentForm.length===0?h.jsx("div",{className:"flex items-center justify-center py-8 bg-background/40 rounded-lg border border-border/50",children:h.jsx("span",{className:"text-sm text-muted-foreground italic",children:"No recent matches recorded."})}):h.jsx("div",{className:"flex flex-wrap gap-1.5",children:ce.recentForm.map((be,ve)=>h.jsxs("div",{className:"relative group",children:[h.jsx("button",{onClick:()=>s(be.matchId),className:`w-14 h-14 rounded border-2 flex items-center justify-center font-bold shadow-md transition-all hover:scale-110 hover:shadow-lg cursor-pointer ${be.result==="W"?"bg-green-500/20 border-green-500/60 text-green-400 hover:bg-green-500/30":"bg-red-500/20 border-red-500/60 text-red-400 hover:bg-red-500/30"}`,children:h.jsx("div",{className:"text-lg font-bold",children:be.result})}),h.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-popover border border-border rounded-lg shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:[h.jsx("div",{className:"text-xs font-heading font-bold text-foreground",children:be.opponentName}),h.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:["Score: ",h.jsx("span",{className:"font-bold text-foreground",children:be.score})]}),be.ratingChange!==null&&h.jsxs("div",{className:`text-xs font-bold mt-0.5 ${be.ratingChange>=0?"text-green-400":"text-red-400"}`,children:[be.ratingChange>=0?"+":"",Math.round(be.ratingChange)]}),h.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-border"})]})]},ve))})]})]})})})]}),J.length>0&&h.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-primary/30 bg-card/80 backdrop-blur-md shadow-lg",children:[h.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary/60"}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"p-2 rounded-lg bg-primary/10 border border-primary/30",children:h.jsx(u3,{size:20,className:"text-primary"})}),h.jsx("h3",{className:"font-heading uppercase tracking-wider text-lg text-foreground",children:"Rating History"})]}),h.jsx(Wz,{data:J,onMatchClick:s})]})]}),h.jsxs(pr,{className:"bg-card/50 backdrop-blur-sm border-border/50",children:[h.jsx(qr,{className:"border-b border-border/30 pb-4",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[h.jsxs(Kr,{className:"font-heading uppercase tracking-wider text-lg flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),"Battle Log"]}),h.jsx("div",{className:"w-full md:w-64",children:h.jsx(Es,{value:I===null?"all":String(I),onValueChange:be=>{N(be==="all"?null:parseInt(be,10))},placeholder:"Select season...",searchPlaceholder:"Search seasons...",options:[{value:"all",label:"All seasons"},...D.filter(be=>be.status==="active").map(be=>({value:String(be.id),label:`${be.name} (Active)`})),...D.filter(be=>be.status==="archived").sort((be,ve)=>be.id-ve.id).map(be=>({value:String(be.id),label:`${be.name} (Archived)`}))]})})]})}),h.jsxs(xr,{className:"p-0",children:[h.jsx("div",{className:"divide-y divide-border/30",children:Se.map(be=>{const ve=be.player1_id===t?be.player2_id:be.player1_id,je=p.find(Me=>Me.id===ve),Fe=be.winner_id===t,Ye=be.player1_id===t?be.rating_change_p1:be.rating_change_p2,ie=be.event_id?z.find(Me=>Me.id===be.event_id):null,ge=be.player1_id===t?be.player1_score??"?":be.player2_score??"?",he=be.player1_id===t?be.player2_score??"?":be.player1_score??"?";return h.jsxs("div",{className:"p-4 hover:bg-muted/20 transition-colors group",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:`text-xs font-bold uppercase px-1.5 py-0.5 rounded border ${Fe?"bg-green-500/10 text-green-500 border-green-500/30":"bg-red-500/10 text-red-500 border-red-500/30"}`,children:Fe?"Victory":"Defeat"}),h.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:ie?ie.title:"Match #"+be.id})]}),h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[je?h.jsx(Mr,{to:`/players/${ve}`,className:"shrink-0 relative",children:h.jsx(Ls,{name:je.name,twitter:je.twitter,size:40,className:"h-10 w-10 border border-border group-hover:border-primary transition-colors"})}):h.jsx("div",{className:"h-10 w-10 bg-muted rounded-full"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"VS"}),je?h.jsx(Mr,{to:`/players/${ve}`,className:"font-heading font-bold text-sm truncate hover:text-primary block",children:je.name}):h.jsx("span",{className:"text-sm text-muted-foreground",children:"Unknown"})]})]}),h.jsxs("div",{className:"text-right shrink-0",children:[h.jsxs("div",{className:"font-heading font-black text-xl",children:[h.jsx("span",{className:Fe?"text-green-500":"text-muted-foreground",children:ge}),h.jsx("span",{className:"text-muted-foreground mx-1",children:"-"}),h.jsx("span",{className:Fe?"text-muted-foreground":"text-green-500",children:he})]}),h.jsx("div",{className:"text-xs font-bold",children:Ye!=null?h.jsxs("span",{className:Ye>=0?"text-green-500":"text-red-500",children:[Ye>0?"+":"",Ye.toFixed(1)]}):h.jsx("span",{className:"text-muted-foreground",children:"-"})})]})]}),h.jsx("button",{onClick:()=>s(be.id),className:"w-full mt-3 text-xs text-center py-1.5 border border-border/50 rounded hover:bg-primary/10 hover:text-primary hover:border-primary/50 transition-colors uppercase tracking-wider font-bold opacity-0 group-hover:opacity-100",children:"View Details"})]},be.id)})}),te.length>Gd&&h.jsx("div",{className:"p-4 border-t border-border/30",children:h.jsx(Sb,{currentPage:r,totalPages:we,onPageChange:n,itemsPerPage:Gd,totalItems:te.length})})]})]})]})]})}const gj=M.createContext(void 0);function Hz({children:e}){const[t,r]=M.useState(null),[n,s]=M.useState(!0),[a,c]=M.useState(!1);M.useEffect(()=>{let v=!0;(async()=>{var E;const{data:S}=await Ve.auth.getSession();if(v){if(r(S.session),(E=S.session)!=null&&E.user){const T=S.session.user.app_metadata;v&&c((T==null?void 0:T.role)==="admin")}else c(!1);s(!1)}})();const{data:y}=Ve.auth.onAuthStateChange(async(S,E)=>{if(r(E),E!=null&&E.user){const T=E.user.app_metadata;c((T==null?void 0:T.role)==="admin")}else c(!1);E&&window.location.hash.includes("access_token")&&(window.location.hash="#/")});return()=>{v=!1,y.subscription.unsubscribe()}},[]);const p=M.useMemo(()=>({session:t,loading:n,isAdmin:a,async signInWithGithub(){await Ve.auth.signInWithOAuth({provider:"github",options:{redirectTo:"https://ofc.horseface.no/",skipBrowserRedirect:!1}})},async signInWithTwitter(){await Ve.auth.signInWithOAuth({provider:"twitter",options:{redirectTo:"https://ofc.horseface.no/",skipBrowserRedirect:!1}})},async signOut(){await Ve.auth.signOut()}}),[t,n,a]);return h.jsx(gj.Provider,{value:p,children:e})}function Kb(){const e=M.useContext(gj);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}var mj={exports:{}},vj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=M;function Gz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vz=typeof Object.is=="function"?Object.is:Gz,Xz=jc.useState,Yz=jc.useEffect,qz=jc.useLayoutEffect,Kz=jc.useDebugValue;function Zz(e,t){var r=t(),n=Xz({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return qz(function(){s.value=r,s.getSnapshot=t,Gx(s)&&a({inst:s})},[e,r,t]),Yz(function(){return Gx(s)&&a({inst:s}),e(function(){Gx(s)&&a({inst:s})})},[e]),Kz(r),r}function Gx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vz(e,r)}catch{return!0}}function Qz(e,t){return t()}var Jz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Qz:Zz;vj.useSyncExternalStore=jc.useSyncExternalStore!==void 0?jc.useSyncExternalStore:Jz;mj.exports=vj;var eF=mj.exports;function tF(){return eF.useSyncExternalStore(rF,()=>!0,()=>!1)}function rF(){return()=>{}}var Zb="Avatar",[iF]=Xo(Zb),[nF,xj]=iF(Zb),yj=M.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=M.useState("idle");return h.jsx(nF,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:h.jsx(yt.span,{...n,ref:t})})});yj.displayName=Zb;var bj="AvatarImage",wj=M.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,c=xj(bj,r),p=sF(n,a),v=Is(y=>{s(y),c.onImageLoadingStatusChange(y)});return Ir(()=>{p!=="idle"&&v(p)},[p,v]),p==="loaded"?h.jsx(yt.img,{...a,ref:t,src:n}):null});wj.displayName=bj;var kj="AvatarFallback",Sj=M.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=xj(kj,r),[c,p]=M.useState(n===void 0);return M.useEffect(()=>{if(n!==void 0){const v=window.setTimeout(()=>p(!0),n);return()=>window.clearTimeout(v)}},[n]),c&&a.imageLoadingStatus!=="loaded"?h.jsx(yt.span,{...s,ref:t}):null});Sj.displayName=kj;function NS(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function sF(e,{referrerPolicy:t,crossOrigin:r}){const n=tF(),s=M.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[c,p]=M.useState(()=>NS(a,e));return Ir(()=>{p(NS(a,e))},[a,e]),Ir(()=>{const v=E=>()=>{p(E)};if(!a)return;const y=v("loaded"),S=v("error");return a.addEventListener("load",y),a.addEventListener("error",S),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",y),a.removeEventListener("error",S)}},[a,r,t]),c}var _j=yj,Cj=wj,Ej=Sj;const Mj=M.forwardRef(({className:e,...t},r)=>h.jsx(_j,{ref:r,className:gt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Mj.displayName=_j.displayName;const jj=M.forwardRef(({className:e,lazy:t=!0,twitterHandle:r,onError:n,...s},a)=>{const[c,p]=M.useState(!1),v=y=>{r&&KL(r),n==null||n(y)};return h.jsx(Cj,{ref:a,className:gt("aspect-square h-full w-full transition-opacity duration-300",c?"opacity-100":"opacity-0",e),loading:t?"lazy":"eager",onLoad:()=>p(!0),onError:v,...s})});jj.displayName=Cj.displayName;const Aj=M.forwardRef(({className:e,...t},r)=>h.jsx(Ej,{ref:r,className:gt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Aj.displayName=Ej.displayName;function oF(){var N,O,q,ae,te;fn("Login");const{signInWithGithub:e,signInWithTwitter:t,signOut:r,session:n}=Kb(),[s,a]=M.useState(!1),[c,p]=M.useState(""),[v,y]=M.useState(""),[S,E]=M.useState(!1),[T,z]=M.useState(null),U=async ce=>{ce.preventDefault(),E(!0),z(null);const{error:J}=await Ve.auth.signInWithPassword({email:c,password:v});J&&z(J.message),E(!1)},D=(O=(N=n==null?void 0:n.user)==null?void 0:N.user_metadata)==null?void 0:O.avatar_url,R=(ae=(q=n==null?void 0:n.user)==null?void 0:q.user_metadata)==null?void 0:ae.full_name,I=((te=n==null?void 0:n.user)==null?void 0:te.email)??void 0;return h.jsx("section",{className:"mx-auto max-w-md p-4 pt-20",children:h.jsxs(pr,{className:"bg-card/80 backdrop-blur-xl border-border/60 shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent"}),h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),h.jsxs(qr,{className:"text-center pb-2 relative z-10",children:[h.jsx(Kr,{className:"font-heading text-3xl font-bold tracking-wide text-primary drop-shadow-md",children:"Welcome Warrior"}),h.jsx(pi,{className:"font-body text-lg",children:"Sign in to continue your legend"})]}),h.jsx(xr,{className:"relative z-10 pt-6",children:n?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-background/50 border border-border/40",children:[h.jsxs(Mj,{className:"h-16 w-16 border-2 border-primary shadow-[0_0_15px_rgba(var(--primary-rgb),0.3)]",children:[h.jsx(jj,{src:D}),h.jsx(Aj,{className:"font-heading font-bold text-xl bg-primary/20 text-primary",children:(R==null?void 0:R.slice(0,2).toUpperCase())||(I==null?void 0:I.slice(0,2).toUpperCase())||"U"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"font-heading font-bold text-xl leading-tight text-foreground",children:R||"Signed in"}),I&&h.jsx("p",{className:"text-sm font-mono text-muted-foreground",children:I})]})]}),h.jsx(_t,{variant:"secondary",onClick:r,className:"w-full font-heading uppercase tracking-wider font-bold hover:bg-destructive hover:text-destructive-foreground transition-colors",children:"Sign out"})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid gap-3",children:[h.jsxs(_t,{onClick:e,className:"w-full bg-[#24292e] hover:bg-[#24292e]/90 text-white font-bold border border-white/10 shadow-lg transition-all hover:scale-[1.02]",variant:"default",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"mr-2 h-5 w-5",children:h.jsx("path",{d:"M12 .5C5.73.5.9 5.33.9 11.6c0 4.87 3.16 9 7.54 10.45.55.1.76-.24.76-.53 0-.26-.01-1.1-.02-1.99-3.07.67-3.72-1.3-3.72-1.3-.5-1.28-1.22-1.62-1.22-1.62-.99-.67.08-.66.08-.66 1.1.08 1.67 1.13 1.67 1.13.98 1.67 2.58 1.19 3.21.91.1-.71.38-1.19.69-1.46-2.45-.28-5.02-1.23-5.02-5.47 0-1.21.43-2.2 1.13-2.98-.11-.28-.49-1.41.11-2.94 0 0 .92-.3 3.01 1.14A10.5 10.5 0 0 1 12 6.84c.93 0 1.86.13 2.73.38 2.09-1.44 3.01-1.14 3.01-1.14.6 1.53.22 2.66.11 2.94.7.78 1.13 1.77 1.13 2.98 0 4.25-2.58 5.19-5.04 5.46.39.34.73 1.01.73 2.03 0 1.46-.01 2.64-.01 3 0 .29.2.63.77.52A10.72 10.72 0 0 0 23.1 11.6C23.1 5.33 18.27.5 12 .5Z"})}),"Sign in with GitHub"]}),h.jsxs(_t,{onClick:t,className:"w-full bg-black hover:bg-black/80 text-white font-bold border border-white/10 shadow-lg transition-all hover:scale-[1.02]",variant:"outline",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"mr-2 h-4 w-4",children:h.jsx("path",{d:"M18.244 2H21l-6.356 7.27L22 22h-6.9l-4.8-6.263L4.7 22H2l6.78-7.757L2 2h7l4.3 5.7L18.244 2Zm-2.412 18h2.23L8.258 4H5.9l9.932 16Z"})}),"Sign in with X (Twitter)"]})]}),s?h.jsx("div",{className:"pt-4 border-t border-border/40 animate-in slide-in-from-top-2 fade-in duration-300",children:h.jsxs("form",{onSubmit:U,className:"space-y-4",children:[h.jsx("div",{className:"space-y-2",children:h.jsx(Zr,{type:"email",placeholder:"Email",value:c,onChange:ce=>p(ce.target.value),required:!0,disabled:S,className:"bg-background/50 border-primary/30 focus:ring-primary/50 font-body"})}),h.jsx("div",{className:"space-y-2",children:h.jsx(Zr,{type:"password",placeholder:"Password",value:v,onChange:ce=>y(ce.target.value),required:!0,disabled:S,className:"bg-background/50 border-primary/30 focus:ring-primary/50 font-body"})}),T&&h.jsx("p",{className:"text-xs font-bold text-destructive bg-destructive/10 p-2 rounded border border-destructive/20",children:T}),h.jsx(_t,{type:"submit",className:"w-full font-heading uppercase tracking-wider font-bold shadow-[0_0_15px_rgba(var(--primary-rgb),0.3)] hover:shadow-[0_0_25px_rgba(var(--primary-rgb),0.5)] transition-all",size:"sm",disabled:S,children:S?"Signing in...":"Sign in with Email"}),h.jsx("button",{type:"button",onClick:()=>a(!1),className:"w-full text-xs text-muted-foreground hover:text-primary transition-colors font-bold uppercase tracking-wider mt-2",children:"Cancel"})]})}):h.jsxs("div",{className:"relative pt-4",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t border-border/40"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("button",{onClick:()=>a(!0),className:"bg-background px-2 text-muted-foreground hover:text-primary transition-colors font-bold tracking-wider",children:"Or continue with email"})})]})]})})]})})}function aF(){return fn("Not Found"),h.jsx("div",{className:"container py-20 flex justify-center",children:h.jsxs("div",{className:"max-w-md w-full bg-card/80 backdrop-blur-xl border border-destructive/60 shadow-[0_0_50px_rgba(239,68,68,0.2)] rounded-lg p-8 text-center relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-destructive to-transparent"}),h.jsx("h2",{className:"text-4xl font-heading font-bold text-destructive mb-4",children:"404"}),h.jsx("p",{className:"text-xl font-heading font-bold text-foreground mb-2",children:"Page Not Found"}),h.jsx("p",{className:"text-muted-foreground font-body",children:"The stage you are looking for does not exist."}),h.jsx("div",{className:"mt-8",children:h.jsx("a",{href:"/",className:"inline-block px-6 py-2 bg-primary/10 border border-primary/50 text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 font-heading font-bold uppercase tracking-wider rounded-sm",children:"Return to Arena"})})]})})}async function Nj(e,t="Full recalculation",r){try{const{data:n,error:s}=await Ve.from("players").select("id, name").order("id");if(s)throw s;if(!n||n.length===0)throw new Error("No players found");let a=Ve.from("matches").select("id, player1_id, player2_id, winner_id, season_id").not("winner_id","is",null);r!==void 0&&(a=a.eq("season_id",r));const{data:c,error:p}=await a.order("id");if(p)throw p;if(!c||c.length===0){if(r!==void 0){const{error:I}=await Ve.from("rating_events").delete().eq("season_id",r);I&&console.warn("Failed to delete old rating events:",I)}const R=await TS(r);return R.success||console.warn("Failed to sync player ratings:",R.error),e==null||e({totalMatches:0,processedMatches:0,currentMatch:0,status:"complete"}),{success:!0,eventsCreated:0}}if(r!==void 0){const{error:R}=await Ve.from("rating_events").delete().eq("season_id",r);if(R)throw R}const v=await Oj(n.map(R=>({id:R.id})),c.map(R=>({id:R.id,player1_id:R.player1_id,player2_id:R.player2_id,winner_id:R.winner_id})),c.length,R=>{const I=c[Math.min(R.processedMatches,c.length-1)];I&&(e==null||e({totalMatches:c.length,processedMatches:R.processedMatches,currentMatch:I.id,status:"running"}))}),y=new Map;c.forEach(R=>{y.set(R.id,R.season_id)});const S=v.map(R=>({...R,reason:null,season_id:y.get(R.match_id)||0})),E=50;for(let R=0;R<S.length;R+=E){const I=S.slice(R,R+E),{error:N}=await Ve.from("rating_events").insert(I);if(N)throw N;await new Promise(O=>setTimeout(O,100))}console.log(" Syncing player ratings from events...");const T=await TS(r);if(T.success?console.log(" Player ratings synced successfully"):console.warn("Failed to sync player ratings:",T.error),r===0){const R=new Set;if(c.forEach(I=>{R.add(I.player1_id),R.add(I.player2_id)}),R.size>0){const{error:I}=await Ve.from("players").update({has_played_this_season:!0}).in("id",Array.from(R));I?console.warn("Failed to mark players as having played:",I):console.log(` Marked ${R.size} players as active this season`)}}const z=new Map;S.forEach(R=>{if(!R.match_id)return;const I=z.get(R.match_id)||{},N=c.find(O=>O.id===R.match_id);N&&(R.player_id===N.player1_id?I.rating_change_p1=R.rating_change||0:R.player_id===N.player2_id&&(I.rating_change_p2=R.rating_change||0),z.set(R.match_id,I))});const U=Array.from(z.entries()).map(([R,I])=>({id:R,...I}));let D=0;for(let R=0;R<U.length;R++){const I=U[R];if(!I)continue;const{id:N,rating_change_p1:O,rating_change_p2:q}=I,ae={};if(O!==void 0&&(ae.rating_change_p1=O??null),q!==void 0&&(ae.rating_change_p2=q??null),Object.keys(ae).length===0)continue;const{error:te}=await Ve.from("matches").update(ae).eq("id",N);te?console.warn(` Failed to update match ${N}:`,te):D++,R%50===0&&(console.log(`   Updated ${D} / ${U.length} matches`),await new Promise(ce=>setTimeout(ce,25)))}return console.log(" Matches updated"),e==null||e({totalMatches:c.length,processedMatches:c.length,currentMatch:0,status:"complete"}),console.log(` Recalculation complete! Created ${S.length} match events`),{success:!0,eventsCreated:S.length}}catch(n){return console.error("Rating recalculation failed:",n),e==null||e({totalMatches:0,processedMatches:0,currentMatch:0,status:"error"}),{success:!1,error:n instanceof Error?n.message:String(n),eventsCreated:0}}}async function Tj(e){try{e==null||e("Updating ratings..."),console.log(" Clearing existing rating events...");const{error:t}=await Ve.from("rating_events").delete().eq("season_id",0);if(t)throw console.error("Failed to clear rating events:",t),new Error(`Failed to clear existing ratings: ${t.message}`);console.log(" Cleared all existing rating events"),await new Promise(n=>setTimeout(n,100));const r=await Nj(void 0,"Auto-update after match result",0);return r.success&&(e==null||e("Ratings updated successfully")),r}catch(t){return console.error("Failed to update ratings:",t),{success:!1}}}async function Qb(e){try{const{data:t,error:r}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id").eq("id",e).single();if(r||!t)return{canRollback:!1,reason:"Match not found"};if(!t.winner_id)return{canRollback:!1,reason:"Cannot rollback upcoming matches"};const{data:n,error:s}=await Ve.from("matches").select("id").gt("id",e).not("winner_id","is",null).or(`player1_id.eq.${t.player1_id},player2_id.eq.${t.player1_id}`).limit(1);if(s)return console.error("Error checking player1 matches:",s),{canRollback:!1,reason:"Error checking match history"};const a=n&&n.length>0,{data:c,error:p}=await Ve.from("matches").select("id").gt("id",e).not("winner_id","is",null).or(`player1_id.eq.${t.player2_id},player2_id.eq.${t.player2_id}`).limit(1);if(p)return console.error("Error checking player2 matches:",p),{canRollback:!1,reason:"Error checking match history"};const v=c&&c.length>0;if(a||v){let y="Cannot rollback: ";return a&&v?y+="both players have played matches afterwards":a?y+="player 1 has played matches afterwards":y+="player 2 has played matches afterwards",{canRollback:!1,reason:y,player1HasLaterMatches:a,player2HasLaterMatches:v}}return{canRollback:!0,player1HasLaterMatches:!1,player2HasLaterMatches:!1}}catch(t){return console.error("Error checking rollback eligibility:",t),{canRollback:!1,reason:t instanceof Error?t.message:"Unknown error"}}}async function Pj(e,t){try{t==null||t("Checking if match can be rolled back...");const r=await Qb(e);if(!r.canRollback)return{success:!1,error:r.reason||"Cannot rollback this match"};t==null||t("Removing rating events for match...");const{error:n}=await Ve.from("rating_events").delete().eq("match_id",e);if(n)throw console.error("Failed to delete rating events for match:",n),new Error(`Failed to delete rating events for match: ${n.message}`);t==null||t("Reverting match to upcoming...");const{error:s}=await Ve.from("matches").update({winner_id:null,player1_score:null,player2_score:null,rating_change_p1:null,rating_change_p2:null}).eq("id",e);if(s)throw console.error("Failed to revert match:",s),new Error(`Failed to revert match: ${s.message}`);console.log(` Reverted match ${e} to upcoming`),t==null||t("Recalculating ratings...");const a=await Tj(c=>{t==null||t(c)});return a.success?(t==null||t("Match rolled back successfully (match reverted to upcoming)"),{success:!0}):{success:!1,error:`Match deleted but rating update failed: ${a.error}`}}catch(r){return console.error("Failed to rollback match:",r),{success:!1,error:r instanceof Error?r.message:String(r)}}}async function Oj(e,t,r,n){return new Promise((s,a)=>{const c=new Worker(new URL("/assets/ratingWorker-RzEzWG7K.js",import.meta.url),{type:"module"}),p=()=>{c.terminate()};c.onmessage=v=>{const y=v.data;if(y.type==="progress"){n==null||n(y),(y.processedMatches===0||y.processedMatches%50===0)&&console.log(`   Worker processed ${Math.min(y.processedMatches,r)} / ${r} matches`);return}if(y.type==="result"){p(),s(y.events);return}y.type==="error"&&(p(),a(new Error(y.error)))},c.onerror=v=>{p(),a(new Error(v.message||"Worker encountered an error"))},c.postMessage({players:e,matches:t})})}async function TS(e){try{const{data:t,error:r}=await Ve.from("players").select("id");if(r||!t)return{success:!1,error:`Failed to fetch players: ${r==null?void 0:r.message}`};const n=[];for(const a of t){let c=Ve.from("rating_events").select("rating, rd, volatility, created_at, event_type").eq("player_id",a.id);e!==void 0&&(c=c.eq("season_id",e));const{data:p,error:v}=await c.order("id",{ascending:!1});if(v){console.warn(`Failed to fetch events for player ${a.id}:`,v);continue}if(!p||p.length===0)continue;const y=p[0],S=p.filter(z=>z.event_type==="match").length,E=p.reduce((z,U)=>U.rating>((z==null?void 0:z.rating)||0)?U:z,null),T=p.find(z=>z.event_type==="match");n.push({id:a.id,rating:(y==null?void 0:y.rating)??null,rd:(y==null?void 0:y.rd)??null,volatility:(y==null?void 0:y.volatility)??null,matches_played:S,last_match_date:(T==null?void 0:T.created_at)??null,peak_rating:(E==null?void 0:E.rating)??null,peak_rating_date:(E==null?void 0:E.created_at)??null})}const s=20;for(let a=0;a<n.length;a+=s){const c=n.slice(a,a+s);for(const p of c){const{error:v}=await Ve.from("players").update({rating:p.rating,rd:p.rd,volatility:p.volatility,matches_played:p.matches_played,last_match_date:p.last_match_date,peak_rating:p.peak_rating,peak_rating_date:p.peak_rating_date}).eq("id",p.id);v&&console.warn(`Failed to update player ${p.id}:`,v)}await new Promise(p=>setTimeout(p,50))}return console.log(` Updated ${n.length} players from rating events`),{success:!0}}catch(t){return console.error("Failed to sync player ratings:",t),{success:!1,error:t instanceof Error?t.message:String(t)}}}async function Rj(e,t){return Tj(t)}async function lF(e,t){try{console.log(` Starting rating calculation for season ${e}...`),t==null||t({totalMatches:0,processedMatches:0,currentMatch:0,status:"running"});const{data:r,error:n}=await Ve.from("seasons").select("*").eq("id",e).single();if(n||!r)throw new Error(`Season ${e} not found`);console.log(` Found season: ${r.name}`),console.log(` Fetching matches for season ${e}...`);const{data:s,error:a}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id").eq("season_id",e).not("winner_id","is",null).order("id");if(a)throw a;if(!s||s.length===0)return console.log(" No completed matches found for this season"),{success:!0,eventsCreated:0};console.log(` Found ${s.length} matches`);const c=new Set;s.forEach(U=>{c.add(U.player1_id),c.add(U.player2_id),c.add(U.winner_id)});const{data:p,error:v}=await Ve.from("players").select("id").in("id",Array.from(c));if(v)throw v;if(!p||p.length===0)throw new Error("No players found for this season");console.log(` Processing ${p.length} players`);const{count:y}=await Ve.from("rating_events").select("*",{count:"exact",head:!0}).eq("season_id",e).eq("event_type","match");if((y||0)>0){console.log(` Found ${y} existing match events for this season - deleting them...`);const{error:U}=await Ve.from("rating_events").delete().eq("season_id",e).eq("event_type","match");if(U)throw U;console.log(" Deleted existing match events")}console.log(` Processing ${s.length} matches with worker...`);const E=(await Oj(p.map(U=>({id:U.id})),s.map(U=>({id:U.id,player1_id:U.player1_id,player2_id:U.player2_id,winner_id:U.winner_id})),s.length,U=>{const D=s[Math.min(U.processedMatches,s.length-1)];D&&(t==null||t({totalMatches:s.length,processedMatches:U.processedMatches,currentMatch:D.id,status:"running"}))})).map(U=>({...U,season_id:e,reason:null}));console.log(` Worker produced ${E.length} match events`);const T=50;console.log(` Inserting ${E.length} events in batches...`);for(let U=0;U<E.length;U+=T){const D=E.slice(U,U+T),R=Math.floor(U/T)+1,I=Math.ceil(E.length/T),{error:N}=await Ve.from("rating_events").insert(D);if(N)throw N;await new Promise(O=>setTimeout(O,100))}console.log(" All match events inserted"),console.log(" Creating final snapshots...");const z=[];for(const U of p){const{data:D}=await Ve.from("rating_events").select("rating, rd, volatility").eq("player_id",U.id).eq("season_id",e).order("id",{ascending:!1}).limit(1).single();if(D){const R=s.filter(I=>(I.player1_id===U.id||I.player2_id===U.id)&&I.winner_id).length;z.push({season_id:e,player_id:U.id,final_rating:D.rating,final_rd:D.rd,final_volatility:D.volatility,matches_played_count:R,peak_rating:null,peak_rating_date:null,final_rank:null})}}if(z.length>0){z.sort((R,I)=>I.final_rating-R.final_rating);const{count:U}=await Ve.from("season_player_snapshots").select("*",{count:"exact",head:!0}).eq("season_id",e);if((U||0)>0){console.log(` Deleting ${U} existing snapshots...`);const{error:R}=await Ve.from("season_player_snapshots").delete().eq("season_id",e);if(R)throw R}const{error:D}=await Ve.from("season_player_snapshots").insert(z);if(D)throw D;console.log(` Created ${z.length} season snapshots`)}return t==null||t({totalMatches:s.length,processedMatches:s.length,currentMatch:0,status:"complete"}),console.log(` Season ${e} rating calculation complete! Created ${E.length} match events`),{success:!0,eventsCreated:E.length}}catch(r){return console.error(" Season rating calculation failed:",r),t==null||t({totalMatches:0,processedMatches:0,currentMatch:0,status:"error"}),{success:!1,error:r instanceof Error?r.message:String(r),eventsCreated:0}}}var Vx="rovingFocusGroup.onEntryFocus",cF={bubbles:!1,cancelable:!0},qu="RovingFocusGroup",[m0,Lj,dF]=ZE(qu),[uF,Ij]=Xo(qu,[dF]),[hF,fF]=uF(qu),Dj=M.forwardRef((e,t)=>h.jsx(m0.Provider,{scope:e.__scopeRovingFocusGroup,children:h.jsx(m0.Slot,{scope:e.__scopeRovingFocusGroup,children:h.jsx(pF,{...e,ref:t})})}));Dj.displayName=qu;var pF=M.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:v,onEntryFocus:y,preventScrollOnEntryFocus:S=!1,...E}=e,T=M.useRef(null),z=ir(t,T),U=Ab(a),[D,R]=Cc({prop:c,defaultProp:p??null,onChange:v,caller:qu}),[I,N]=M.useState(!1),O=Is(y),q=Lj(r),ae=M.useRef(!1),[te,ce]=M.useState(0);return M.useEffect(()=>{const J=T.current;if(J)return J.addEventListener(Vx,O),()=>J.removeEventListener(Vx,O)},[O]),h.jsx(hF,{scope:r,orientation:n,dir:U,loop:s,currentTabStopId:D,onItemFocus:M.useCallback(J=>R(J),[R]),onItemShiftTab:M.useCallback(()=>N(!0),[]),onFocusableItemAdd:M.useCallback(()=>ce(J=>J+1),[]),onFocusableItemRemove:M.useCallback(()=>ce(J=>J-1),[]),children:h.jsx(yt.div,{tabIndex:I||te===0?-1:0,"data-orientation":n,...E,ref:z,style:{outline:"none",...e.style},onMouseDown:At(e.onMouseDown,()=>{ae.current=!0}),onFocus:At(e.onFocus,J=>{const we=!ae.current;if(J.target===J.currentTarget&&we&&!I){const Se=new CustomEvent(Vx,cF);if(J.currentTarget.dispatchEvent(Se),!Se.defaultPrevented){const be=q().filter(ie=>ie.focusable),ve=be.find(ie=>ie.active),je=be.find(ie=>ie.id===D),Ye=[ve,je,...be].filter(Boolean).map(ie=>ie.ref.current);zj(Ye,S)}}ae.current=!1}),onBlur:At(e.onBlur,()=>N(!1))})})}),Bj="RovingFocusGroupItem",$j=M.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:c,...p}=e,v=mi(),y=a||v,S=fF(Bj,r),E=S.currentTabStopId===y,T=Lj(r),{onFocusableItemAdd:z,onFocusableItemRemove:U,currentTabStopId:D}=S;return M.useEffect(()=>{if(n)return z(),()=>U()},[n,z,U]),h.jsx(m0.ItemSlot,{scope:r,id:y,focusable:n,active:s,children:h.jsx(yt.span,{tabIndex:E?0:-1,"data-orientation":S.orientation,...p,ref:t,onMouseDown:At(e.onMouseDown,R=>{n?S.onItemFocus(y):R.preventDefault()}),onFocus:At(e.onFocus,()=>S.onItemFocus(y)),onKeyDown:At(e.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){S.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const I=vF(R,S.orientation,S.dir);if(I!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let O=T().filter(q=>q.focusable).map(q=>q.ref.current);if(I==="last")O.reverse();else if(I==="prev"||I==="next"){I==="prev"&&O.reverse();const q=O.indexOf(R.currentTarget);O=S.loop?xF(O,q+1):O.slice(q+1)}setTimeout(()=>zj(O))}}),children:typeof c=="function"?c({isCurrentTabStop:E,hasTabStop:D!=null}):c})})});$j.displayName=Bj;var gF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vF(e,t,r){const n=mF(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gF[n]}function zj(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function xF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var yF=Dj,bF=$j,Wg="Tabs",[wF]=Xo(Wg,[Ij]),Fj=Ij(),[kF,Jb]=wF(Wg),Wj=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:c="horizontal",dir:p,activationMode:v="automatic",...y}=e,S=Ab(p),[E,T]=Cc({prop:n,onChange:s,defaultProp:a??"",caller:Wg});return h.jsx(kF,{scope:r,baseId:mi(),value:E,onValueChange:T,orientation:c,dir:S,activationMode:v,children:h.jsx(yt.div,{dir:S,"data-orientation":c,...y,ref:t})})});Wj.displayName=Wg;var Uj="TabsList",Hj=M.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=Jb(Uj,r),c=Fj(r);return h.jsx(yF,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:n,children:h.jsx(yt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});Hj.displayName=Uj;var Gj="TabsTrigger",Vj=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,c=Jb(Gj,r),p=Fj(r),v=qj(c.baseId,n),y=Kj(c.baseId,n),S=n===c.value;return h.jsx(bF,{asChild:!0,...p,focusable:!s,active:S,children:h.jsx(yt.button,{type:"button",role:"tab","aria-selected":S,"aria-controls":y,"data-state":S?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:v,...a,ref:t,onMouseDown:At(e.onMouseDown,E=>{!s&&E.button===0&&E.ctrlKey===!1?c.onValueChange(n):E.preventDefault()}),onKeyDown:At(e.onKeyDown,E=>{[" ","Enter"].includes(E.key)&&c.onValueChange(n)}),onFocus:At(e.onFocus,()=>{const E=c.activationMode!=="manual";!S&&!s&&E&&c.onValueChange(n)})})})});Vj.displayName=Gj;var Xj="TabsContent",Yj=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...c}=e,p=Jb(Xj,r),v=qj(p.baseId,n),y=Kj(p.baseId,n),S=n===p.value,E=M.useRef(S);return M.useEffect(()=>{const T=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(T)},[]),h.jsx(Za,{present:s||S,children:({present:T})=>h.jsx(yt.div,{"data-state":S?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":v,hidden:!T,id:y,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:E.current?"0s":void 0},children:T&&a})})});Yj.displayName=Xj;function qj(e,t){return`${e}-trigger-${t}`}function Kj(e,t){return`${e}-content-${t}`}var SF=Wj,Zj=Hj,Qj=Vj,Jj=Yj;const _F=SF,eA=M.forwardRef(({className:e,...t},r)=>h.jsx(Zj,{ref:r,className:gt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));eA.displayName=Zj.displayName;const ka=M.forwardRef(({className:e,...t},r)=>h.jsx(Qj,{ref:r,className:gt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));ka.displayName=Qj.displayName;const Sa=M.forwardRef(({className:e,...t},r)=>h.jsx(Jj,{ref:r,className:gt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Sa.displayName=Jj.displayName;var CF="Label",tA=M.forwardRef((e,t)=>h.jsx(yt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));tA.displayName=CF;var rA=tA;const EF=WE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Cr=M.forwardRef(({className:e,...t},r)=>h.jsx(rA,{ref:r,className:gt(EF(),e),...t}));Cr.displayName=rA.displayName;const Ug=M.forwardRef(({className:e,...t},r)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:r,className:gt("w-full caption-bottom text-sm",e),...t})}));Ug.displayName="Table";const Hg=M.forwardRef(({className:e,...t},r)=>h.jsx("thead",{ref:r,className:gt("[&_tr]:border-b",e),...t}));Hg.displayName="TableHeader";const Gg=M.forwardRef(({className:e,...t},r)=>h.jsx("tbody",{ref:r,className:gt("[&_tr:last-child]:border-0",e),...t}));Gg.displayName="TableBody";const MF=M.forwardRef(({className:e,...t},r)=>h.jsx("tfoot",{ref:r,className:gt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));MF.displayName="TableFooter";const as=M.forwardRef(({className:e,...t},r)=>h.jsx("tr",{ref:r,className:gt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));as.displayName="TableRow";const oi=M.forwardRef(({className:e,...t},r)=>h.jsx("th",{ref:r,className:gt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));oi.displayName="TableHead";const Rr=M.forwardRef(({className:e,...t},r)=>h.jsx("td",{ref:r,className:gt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Rr.displayName="TableCell";const jF=M.forwardRef(({className:e,...t},r)=>h.jsx("caption",{ref:r,className:gt("mt-4 text-sm text-muted-foreground",e),...t}));jF.displayName="TableCaption";function AF({id:e,title:t,description:r,variant:n="default",onClose:s}){return M.useEffect(()=>{const a=setTimeout(()=>{s()},5e3);return()=>clearTimeout(a)},[s]),h.jsxs("div",{className:gt("pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-4 pr-8 shadow-lg transition-all",n==="destructive"&&"border-destructive bg-destructive text-destructive-foreground",n==="success"&&"border-green-500 bg-green-500/10 text-green-600 dark:text-green-400",n==="default"&&"border bg-background"),children:[h.jsxs("div",{className:"grid gap-1",children:[t&&h.jsx("div",{className:"text-sm font-semibold",children:t}),r&&h.jsx("div",{className:"text-sm opacity-90",children:r})]}),h.jsx("button",{onClick:s,className:"absolute right-2 top-2 rounded-md p-1 opacity-70 transition-opacity hover:opacity-100",children:h.jsx(jb,{className:"h-4 w-4"})})]})}function NF({children:e}){return h.jsx("div",{className:"fixed bottom-0 right-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",children:e})}let TF=0,PS=null,$l=null;function PF(){return $l||($l=document.createElement("div"),$l.id="toast-container",document.body.appendChild($l),PS=XC($l)),{container:$l,root:PS}}const Kp=new Map;let Zp=null;function OF(){const[,e]=M.useReducer(r=>r+1,0);M.useEffect(()=>(Zp=e,()=>{Zp=null}),[]);const t=r=>{Kp.delete(r),e()};return h.jsx(NF,{children:Array.from(Kp.entries()).map(([r,n])=>h.jsx(AF,{id:r,...n,onClose:()=>t(r)},r))})}function RF(e){const t=`toast-${++TF}`;Kp.set(t,e);const{root:r}=PF();return r.render(h.jsx(OF,{})),{id:t,dismiss:()=>{Kp.delete(t),Zp&&Zp()}}}function Vg(){return{toast:RF}}function LF(){const{toast:e}=Vg(),[t,r]=M.useState([]),[n,s]=M.useState(!0),[a,c]=M.useState(!1),[p,v]=M.useState(!1),[y,S]=M.useState(null),[E,T]=M.useState({name:"",twitter:""}),[z,U]=M.useState(!1),[D,R]=M.useState(null),[I,N]=M.useState("");M.useEffect(()=>{O()},[]);const O=async(we=!1)=>{we?c(!0):s(!0);const{data:Se,error:be}=await Ve.from("players").select("*").order("name");be?(console.error("Error loading players:",be),R(be.message),e({variant:"destructive",title:"Error loading players",description:be.message})):r(Se||[]),s(!1),c(!1)},q=()=>{S(null),T({name:"",twitter:""}),R(null),v(!0)},ae=we=>{S(we),T({name:we.name,twitter:we.twitter||""}),R(null),v(!0)},te=async we=>{we.preventDefault(),U(!0),R(null);try{if(y){const{error:Se}=await Ve.from("players").update({name:E.name,twitter:E.twitter||null}).eq("id",y.id);if(Se)throw Se;e({variant:"success",title:"Player updated",description:`${E.name} has been updated successfully.`})}else{const{error:Se}=await Ve.from("players").insert({name:E.name,twitter:E.twitter||null,rating:1500,rd:350,volatility:.06});if(Se)throw Se;e({variant:"success",title:"Player created",description:`${E.name} has been created successfully.`})}v(!1),O(!0)}catch(Se){R(Se.message),e({variant:"destructive",title:"Error",description:Se.message})}finally{U(!1)}},ce=async we=>{if(!confirm(`Are you sure you want to delete ${we.name}? This will also delete all their matches.`))return;const{error:Se}=await Ve.from("players").delete().eq("id",we.id);Se?e({variant:"destructive",title:"Error deleting player",description:Se.message}):(e({variant:"success",title:"Player deleted",description:`${we.name} has been deleted.`}),O(!0))},J=t.filter(we=>{var Se;return we.name.toLowerCase().includes(I.toLowerCase())||((Se=we.twitter)==null?void 0:Se.toLowerCase().includes(I.toLowerCase()))});return h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsx(qr,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Kr,{className:"font-heading text-2xl text-primary",children:"Player Management"}),h.jsx(pi,{children:"Create, edit, and delete players"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(_t,{onClick:()=>O(!0),variant:"outline",size:"icon",disabled:a,className:"bg-background/50 border-primary/30 hover:bg-primary/20",children:h.jsx(Sg,{className:`h-4 w-4 ${a?"animate-spin":""}`})}),h.jsxs(_t,{onClick:q,className:"font-heading font-bold uppercase tracking-wider",children:[h.jsx(Eb,{className:"h-4 w-4 mr-2"}),"New Player"]})]})]})}),h.jsxs(xr,{className:"space-y-4",children:[h.jsx(Zr,{placeholder:"Search players...",value:I,onChange:we=>N(we.target.value),className:"max-w-sm bg-background/50 border-primary/30 focus:ring-primary/50 font-heading font-bold"}),n?h.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),"Loading..."]}):h.jsx("div",{className:"rounded-md border border-border/40 overflow-hidden",children:h.jsxs(Ug,{children:[h.jsx(Hg,{className:"bg-muted/50",children:h.jsxs(as,{className:"hover:bg-transparent border-border/40",children:[h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Name"}),h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Twitter"}),h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Rating"}),h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Matches"}),h.jsx(oi,{className:"text-right font-heading font-bold text-primary",children:"Actions"})]})}),h.jsx(Gg,{children:J.length===0?h.jsx(as,{children:h.jsx(Rr,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No players found"})}):J.map(we=>h.jsxs(as,{className:"hover:bg-primary/5 border-border/40 transition-colors",children:[h.jsx(Rr,{className:"font-heading font-bold text-lg",children:we.name}),h.jsx(Rr,{className:"font-mono text-sm text-muted-foreground",children:we.twitter||"-"}),h.jsx(Rr,{className:"font-mono font-bold text-primary",children:Math.round(we.rating??0)}),h.jsx(Rr,{className:"font-mono text-muted-foreground",children:we.matches_played||0}),h.jsxs(Rr,{className:"text-right space-x-2",children:[h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>ae(we),className:"hover:bg-primary/20 hover:text-primary",children:h.jsx(Cb,{className:"h-4 w-4"})}),h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>ce(we),className:"hover:bg-destructive/20 hover:text-destructive",children:h.jsx(Mb,{className:"h-4 w-4"})})]})]},we.id))})]})})]}),h.jsx(Ec,{open:p,onOpenChange:v,children:h.jsxs(Ua,{className:"bg-card/90 backdrop-blur-xl border-primary/20",children:[h.jsxs(Ha,{children:[h.jsx(Ga,{className:"font-heading text-2xl text-primary",children:y?"Edit Player":"Create Player"}),h.jsx(Xu,{children:y?"Update player information":"Add a new player to the system"})]}),h.jsxs("form",{onSubmit:te,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"name",className:"font-bold uppercase tracking-wider text-xs",children:"Name *"}),h.jsx(Zr,{id:"name",value:E.name,onChange:we=>T({...E,name:we.target.value}),required:!0,placeholder:"Player name",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"twitter",className:"font-bold uppercase tracking-wider text-xs",children:"Twitter Handle"}),h.jsx(Zr,{id:"twitter",value:E.twitter,onChange:we=>T({...E,twitter:we.target.value}),placeholder:"@username",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),D&&h.jsx("div",{className:"text-sm text-destructive font-bold bg-destructive/10 p-2 rounded border border-destructive/20",children:D})]}),h.jsxs(Vu,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>v(!1),className:"font-bold uppercase tracking-wider",children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:z,className:"font-heading font-bold uppercase tracking-wider",children:z?"Saving...":y?"Update":"Create"})]})]})]})})]})}const iA=M.forwardRef(({className:e,...t},r)=>h.jsx("textarea",{className:gt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));iA.displayName="Textarea";function IF(){const{toast:e}=Vg(),[t,r]=M.useState([]),[n,s]=M.useState([]),[a,c]=M.useState(null),[p,v]=M.useState(!0),[y,S]=M.useState(!1),[E,T]=M.useState(!1),[z,U]=M.useState(null),[D,R]=M.useState({title:"",event_date:"",stream_url:"",vod_link:"",description:""}),[I,N]=M.useState(!1),[O,q]=M.useState(null);M.useEffect(()=>{te(),ae()},[]);const ae=async()=>{const ve=await Fc();s(ve);const je=ve.find(Fe=>Fe.status==="active");je&&c(je.id)},te=async(ve=!1)=>{ve?S(!0):v(!0);const{data:je,error:Fe}=await Ve.from("events").select("*").order("event_date",{ascending:!1});Fe?(console.error("Error loading events:",Fe),q(Fe.message),e({variant:"destructive",title:"Error loading events",description:Fe.message})):r(je||[]),v(!1),S(!1)},ce=()=>{U(null),R({title:"",event_date:"",stream_url:"",vod_link:"",description:""}),q(null),T(!0)},J=ve=>{U(ve);const je=new Date(ve.event_date).toISOString().slice(0,16);R({title:ve.title,event_date:je,stream_url:ve.stream_url||"",vod_link:ve.vod_link||"",description:ve.description||""}),q(null),T(!0)},we=async ve=>{ve.preventDefault(),N(!0),q(null);try{if(!D.event_date)throw new Error("Event date and time are required.");const je={title:D.title,event_date:new Date(D.event_date).toISOString(),stream_url:D.stream_url||null,vod_link:D.vod_link||null,description:D.description||null};if(z){const{error:Fe}=await Ve.from("events").update(je).eq("id",z.id);if(Fe)throw Fe;e({variant:"success",title:"Event updated",description:`${D.title} has been updated successfully.`})}else{const{error:Fe}=await Ve.from("events").insert(je);if(Fe)throw Fe;e({variant:"success",title:"Event created",description:`${D.title} has been created successfully.`})}T(!1),te(!0)}catch(je){q(je.message),e({variant:"destructive",title:"Error",description:je.message})}finally{N(!1)}},Se=async ve=>{if(!confirm(`Are you sure you want to delete "${ve.title}"? Matches will be kept but unlinked from this event.`))return;const{error:je}=await Ve.from("events").delete().eq("id",ve.id);je?e({variant:"destructive",title:"Error deleting event",description:je.message}):(e({variant:"success",title:"Event deleted",description:`${ve.title} has been deleted.`}),te(!0))},be=ve=>new Date(ve).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsx(qr,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Kr,{className:"font-heading text-2xl text-primary",children:"Event Management"}),h.jsx(pi,{children:"Create, edit, and delete events"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(_t,{onClick:()=>te(!0),variant:"outline",size:"icon",disabled:y,className:"bg-background/50 border-primary/30 hover:bg-primary/20",children:h.jsx(Sg,{className:`h-4 w-4 ${y?"animate-spin":""}`})}),h.jsxs(_t,{onClick:ce,className:"font-heading font-bold uppercase tracking-wider",children:[h.jsx(Eb,{className:"h-4 w-4 mr-2"}),"New Event"]})]})]})}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-background/30 p-2 rounded-lg border border-border/30 w-fit",children:[h.jsx("label",{className:"text-sm font-bold uppercase tracking-wider text-muted-foreground px-2",children:"Season:"}),h.jsxs(Dg,{value:(a==null?void 0:a.toString())??"",onValueChange:ve=>c(parseInt(ve)),children:[h.jsx(Uu,{className:"w-48 bg-transparent border-none focus:ring-0 font-heading font-bold text-primary",children:h.jsx(Bg,{})}),h.jsxs(Hu,{children:[n.filter(ve=>ve.status==="active").map(ve=>h.jsxs(Ns,{value:ve.id.toString(),children:[ve.name," (Active)"]},ve.id)),n.filter(ve=>ve.status==="archived").sort((ve,je)=>ve.id-je.id).map(ve=>h.jsxs(Ns,{value:ve.id.toString(),children:[ve.name," (Archived)"]},ve.id))]})]})]}),p?h.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),"Loading..."]}):h.jsx("div",{className:"rounded-md border border-border/40 overflow-hidden",children:h.jsxs(Ug,{children:[h.jsx(Hg,{className:"bg-muted/50",children:h.jsxs(as,{className:"hover:bg-transparent border-border/40",children:[h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Title"}),h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Date"}),h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Description"}),h.jsx(oi,{className:"text-right font-heading font-bold text-primary",children:"Actions"})]})}),h.jsx(Gg,{children:t.length===0?h.jsx(as,{children:h.jsx(Rr,{colSpan:4,className:"text-center text-muted-foreground py-8",children:"No events found"})}):t.map(ve=>h.jsxs(as,{className:"hover:bg-primary/5 border-border/40 transition-colors",children:[h.jsx(Rr,{className:"font-medium",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(z5,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"font-heading font-bold",children:ve.title})]})}),h.jsx(Rr,{className:"font-mono text-sm text-muted-foreground",children:be(ve.event_date)}),h.jsx(Rr,{className:"max-w-xs truncate text-muted-foreground italic",children:ve.description||"-"}),h.jsxs(Rr,{className:"text-right space-x-2",children:[h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>J(ve),className:"hover:bg-primary/20 hover:text-primary",children:h.jsx(Cb,{className:"h-4 w-4"})}),h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>Se(ve),className:"hover:bg-destructive/20 hover:text-destructive",children:h.jsx(Mb,{className:"h-4 w-4"})})]})]},ve.id))})]})})]}),h.jsx(Ec,{open:E,onOpenChange:T,children:h.jsxs(Ua,{className:"max-w-2xl bg-card/90 backdrop-blur-xl border-primary/20",children:[h.jsxs(Ha,{children:[h.jsx(Ga,{className:"font-heading text-2xl text-primary",children:z?"Edit Event":"Create Event"}),h.jsx(Xu,{children:z?"Update event information":"Add a new event to the system"})]}),h.jsxs("form",{onSubmit:we,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"title",className:"font-bold uppercase tracking-wider text-xs",children:"Title *"}),h.jsx(Zr,{id:"title",value:D.title,onChange:ve=>R({...D,title:ve.target.value}),required:!0,placeholder:"Event title",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"event_date",className:"font-bold uppercase tracking-wider text-xs",children:"Date & Time *"}),h.jsx("input",{id:"event_date",type:"datetime-local",className:"flex h-9 w-full rounded-md border border-primary/30 bg-background/50 px-3 py-1 text-sm text-foreground shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [color-scheme:dark]",value:D.event_date,onChange:ve=>R({...D,event_date:ve.target.value}),min:new Date().toISOString().slice(0,16),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"stream_url",className:"font-bold uppercase tracking-wider text-xs",children:"Stream URL"}),h.jsx(Zr,{id:"stream_url",type:"url",value:D.stream_url,onChange:ve=>R({...D,stream_url:ve.target.value}),placeholder:"https://twitch.tv/...",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"vod_link",className:"font-bold uppercase tracking-wider text-xs",children:"VOD Link"}),h.jsx(Zr,{id:"vod_link",type:"url",value:D.vod_link,onChange:ve=>R({...D,vod_link:ve.target.value}),placeholder:"https://youtube.com/...",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"description",className:"font-bold uppercase tracking-wider text-xs",children:"Description"}),h.jsx(iA,{id:"description",value:D.description,onChange:ve=>R({...D,description:ve.target.value}),placeholder:"Event description",rows:3,className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),O&&h.jsx("div",{className:"text-sm text-destructive font-bold bg-destructive/10 p-2 rounded border border-destructive/20",children:O})]}),h.jsxs(Vu,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>T(!1),className:"font-bold uppercase tracking-wider",children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:I,className:"font-heading font-bold uppercase tracking-wider",children:I?"Saving...":z?"Update":"Create"})]})]})]})})]})}function DF(){const{toast:e}=Vg(),[t,r]=M.useState([]),[n,s]=M.useState([]),[a,c]=M.useState([]),[p,v]=M.useState([]),[y,S]=M.useState(null),[E,T]=M.useState(!0),[z,U]=M.useState(!1),[D,R]=M.useState(!1),[I,N]=M.useState(null),[O,q]=M.useState({player1_id:"",player2_id:"",winner_id:"",player1_score:"",player2_score:"",event_id:"",match_order:"0",vod_link:""}),[ae,te]=M.useState(!1),[ce,J]=M.useState(null),[we,Se]=M.useState("all"),[be,ve]=M.useState(new Map),[je,Fe]=M.useState(new Set);M.useEffect(()=>{ie(),Ye()},[]);const Ye=async()=>{const Ce=await Fc();v(Ce);const Oe=Ce.find(st=>st.status==="active");Oe&&S(Oe.id)},ie=async(Ce=!1,Oe=y)=>{Ce?U(!0):T(!0);let st=Ve.from("matches").select("*").order("id",{ascending:!1}).limit(100);Oe!=null&&(st=st.eq("season_id",Oe));const[ut,vt,ft]=await Promise.all([st,Ve.from("players").select("*").order("name"),Ve.from("events").select("*").order("event_date",{ascending:!1})]);ut.error?(console.error("Error loading matches:",ut.error),e({variant:"destructive",title:"Error loading matches",description:ut.error.message})):r(ut.data||[]),vt.error?console.error("Error loading players:",vt.error):s(vt.data||[]),ft.error?console.error("Error loading events:",ft.error):c(ft.data||[]),T(!1),U(!1)};M.useEffect(()=>{y!==null&&ie(!1,y)},[y]);const ge=Ce=>{var Oe;return((Oe=n.find(st=>st.id===Ce))==null?void 0:Oe.name)||"Unknown"},he=Ce=>{var Oe;return Ce?((Oe=a.find(st=>st.id===Ce))==null?void 0:Oe.title)||"Unknown":"-"},Me=()=>{N(null),q({player1_id:"",player2_id:"",winner_id:"none",player1_score:"",player2_score:"",event_id:"none",match_order:"0",vod_link:""}),J(null),R(!0)},$e=Ce=>{N(Ce),q({player1_id:String(Ce.player1_id),player2_id:String(Ce.player2_id),winner_id:Ce.winner_id?String(Ce.winner_id):"none",player1_score:Ce.player1_score!==void 0&&Ce.player1_score!==null?String(Ce.player1_score):"",player2_score:Ce.player2_score!==void 0&&Ce.player2_score!==null?String(Ce.player2_score):"",event_id:Ce.event_id?String(Ce.event_id):"none",match_order:Ce.match_order?String(Ce.match_order):"0",vod_link:Ce.vod_link||""}),J(null),R(!0)},Ie=async Ce=>{Ce.preventDefault(),te(!0),J(null);try{if(O.player1_id===O.player2_id)throw new Error("Player 1 and Player 2 must be different");if(O.winner_id&&O.winner_id!=="none"&&O.winner_id!==O.player1_id&&O.winner_id!==O.player2_id)throw new Error("Winner must be one of the two players");const Oe=O.winner_id&&O.winner_id!=="none"?parseInt(O.winner_id):null,st=O.player1_score!==""?parseInt(O.player1_score):null,ut=O.player2_score!==""?parseInt(O.player2_score):null;if((Oe!==null||st!==null||ut!==null)&&(Oe===null||st===null||ut===null))throw new Error("To complete a match, enter both scores and select a winner");const ft={player1_id:parseInt(O.player1_id),player2_id:parseInt(O.player2_id),winner_id:Oe,player1_score:st,player2_score:ut,event_id:O.event_id&&O.event_id!=="none"?parseInt(O.event_id):null,match_order:O.match_order?parseInt(O.match_order):0,vod_link:O.vod_link||null,season_id:y??0},kt=ft.winner_id!==null,Qe=(I==null?void 0:I.winner_id)!==null,Dr=I&&Qe&&kt&&(I.winner_id!==ft.winner_id||I.player1_score!==ft.player1_score||I.player2_score!==ft.player2_score),Wr=!I&&kt,Xi=Dr||Wr||I&&kt;let li=null;if(I){const{error:Ur}=await Ve.from("matches").update(ft).eq("id",I.id);if(Ur)throw Ur;kt&&!Qe&&await Ve.from("players").update({has_played_this_season:!0}).in("id",[ft.player1_id,ft.player2_id]),e({title:"Match updated",description:kt?"Match updated. Calculating ratings...":"Match has been updated successfully."}),Xi&&(li=I.id)}else{const{data:Ur,error:Yi}=await Ve.from("matches").insert(ft).select();if(Yi)throw Yi;Wr&&await Ve.from("players").update({has_played_this_season:!0}).in("id",[ft.player1_id,ft.player2_id]),e({title:"Match created",description:Wr?"Match created. Calculating ratings...":"Match has been created successfully."}),Wr&&Ur&&Ur[0]&&(li=Ur[0].id)}if(R(!1),ie(!0),li){const Ur=await Rj(li);Ur.success?(e({variant:"success",title:"Ratings updated",description:"Player ratings have been calculated."}),await ie(!0)):e({variant:"destructive",title:"Rating update failed",description:Ur.error||"Failed to update ratings."})}}catch(Oe){J(Oe.message),e({variant:"destructive",title:"Error",description:Oe.message})}finally{te(!1)}},Ee=async Ce=>{if(!confirm("Are you sure you want to delete this match?"))return;const{error:Oe}=await Ve.from("matches").delete().eq("id",Ce.id);Oe?e({variant:"destructive",title:"Error deleting match",description:Oe.message}):(e({variant:"success",title:"Match deleted",description:"Match has been deleted."}),ie(!0))},Ze=async Ce=>{Fe(st=>new Set(st).add(Ce));const Oe=await Qb(Ce);return ve(st=>new Map(st).set(Ce,Oe.canRollback)),Fe(st=>{const ut=new Set(st);return ut.delete(Ce),ut}),Oe},ot=async Ce=>{const Oe=await Ze(Ce.id);if(!Oe.canRollback){e({variant:"destructive",title:"Cannot rollback match",description:Oe.reason||"This match cannot be rolled back"});return}const st=ge(Ce.player1_id),ut=ge(Ce.player2_id);if(!confirm(`Rollback match "${st} vs ${ut}"?

This will revert the match to an upcoming state and recalculate all ratings.`))return;te(!0);const vt=await Pj(Ce.id);vt.success?(e({variant:"success",title:"Match rolled back",description:"The match was reverted to upcoming and ratings have been recalculated."}),ie(!0)):e({variant:"destructive",title:"Rollback failed",description:vt.error||"Failed to rollback match"}),te(!1)},tt=we==="all"?t:t.filter(Ce=>Ce.event_id===parseInt(we));return h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(qr,{className:"border-b border-border/30 bg-muted/20",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs(Kr,{className:"font-heading uppercase tracking-widest text-xl flex items-center gap-2",children:[h.jsx("span",{className:"text-primary",children:""})," Match Management"]}),h.jsx(pi,{className:"font-body",children:"Create, edit, and delete matches"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(_t,{onClick:()=>ie(!0),variant:"outline",size:"icon",disabled:z,className:"border-primary/30 hover:bg-primary/10 hover:text-primary transition-colors",children:h.jsx(Sg,{className:`h-4 w-4 ${z?"animate-spin":""}`})}),h.jsxs(_t,{onClick:Me,className:"bg-primary text-primary-foreground hover:bg-primary/90 font-heading uppercase tracking-wider font-bold",children:[h.jsx(Eb,{className:"h-4 w-4 mr-2"}),"New Match"]})]})]})}),h.jsxs(xr,{className:"space-y-6 p-6",children:[h.jsxs("div",{className:"flex gap-4 flex-wrap bg-card/50 p-4 rounded-lg border border-border/30",children:[h.jsxs(Dg,{value:(y==null?void 0:y.toString())??"",onValueChange:Ce=>S(Ce==="0"?0:parseInt(Ce,10)),children:[h.jsx(Uu,{className:"w-full sm:w-64 bg-background/50 border-primary/30 focus:ring-primary/50",children:h.jsx(Bg,{placeholder:"Select a season"})}),h.jsxs(Hu,{children:[p.filter(Ce=>Ce.status==="active").map(Ce=>h.jsxs(Ns,{value:Ce.id.toString(),children:[Ce.name," (Active)"]},Ce.id)),p.filter(Ce=>Ce.status==="archived").sort((Ce,Oe)=>Ce.id-Oe.id).map(Ce=>h.jsxs(Ns,{value:Ce.id.toString(),children:[Ce.name," (Archived)"]},Ce.id))]})]}),h.jsx(Es,{value:we,onValueChange:Se,options:[{value:"all",label:"All Events"},{value:"0",label:"No Event"},...a.map(Ce=>({value:String(Ce.id),label:Ce.title}))],placeholder:"Filter by event",searchPlaceholder:"Search events...",className:"w-[250px]"})]}),E?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):h.jsx("div",{className:"rounded-md border border-border/30 overflow-hidden",children:h.jsxs(Ug,{children:[h.jsx(Hg,{className:"bg-muted/30",children:h.jsxs(as,{className:"hover:bg-transparent border-b border-border/30",children:[h.jsx(oi,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Player 1"}),h.jsx(oi,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Player 2"}),h.jsx(oi,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Score"}),h.jsx(oi,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Winner"}),h.jsx(oi,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Event"}),h.jsx(oi,{className:"text-right font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Actions"})]})}),h.jsx(Gg,{children:tt.length===0?h.jsx(as,{children:h.jsx(Rr,{colSpan:6,className:"text-center text-muted-foreground py-8 italic",children:"No matches found"})}):tt.map(Ce=>h.jsxs(as,{className:"hover:bg-primary/5 transition-colors border-b border-border/20 last:border-0",children:[h.jsx(Rr,{className:"font-medium",children:ge(Ce.player1_id)}),h.jsx(Rr,{className:"font-medium",children:ge(Ce.player2_id)}),h.jsxs(Rr,{className:"font-mono",children:[Ce.player1_score??"?"," - ",Ce.player2_score??"?"]}),h.jsx(Rr,{children:Ce.winner_id?h.jsx("span",{className:"text-green-500 font-bold",children:ge(Ce.winner_id)}):h.jsx("span",{className:"text-muted-foreground italic",children:"Upcoming"})}),h.jsx(Rr,{className:"text-muted-foreground",children:he(Ce.event_id)}),h.jsxs(Rr,{className:"text-right space-x-2",children:[h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>$e(Ce),className:"hover:text-primary hover:bg-primary/10",children:h.jsx(Cb,{className:"h-4 w-4"})}),Ce.winner_id&&h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>ot(Ce),disabled:ae,title:"Rollback match",className:"hover:text-yellow-500 hover:bg-yellow-500/10",children:h.jsx(qE,{className:"h-4 w-4"})}),h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>Ee(Ce),className:"hover:text-red-500 hover:bg-red-500/10",children:h.jsx(Mb,{className:"h-4 w-4"})})]})]},Ce.id))})]})})]}),h.jsx(Ec,{open:D,onOpenChange:R,children:h.jsxs(Ua,{className:"max-w-2xl bg-card/95 backdrop-blur-xl border-primary/50",children:[h.jsxs(Ha,{children:[h.jsx(Ga,{className:"font-heading uppercase tracking-widest text-xl text-primary",children:I?"Edit Battle":"New Battle"}),h.jsx(Xu,{children:I?"Update match information":"Add a new match to the system"})]}),h.jsxs("form",{onSubmit:Ie,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player1_id",className:"font-heading uppercase text-xs tracking-wider",children:"Player 1 *"}),h.jsx(Es,{value:O.player1_id,onValueChange:Ce=>q({...O,player1_id:Ce}),options:n.map(Ce=>({value:String(Ce.id),label:Ce.name})),placeholder:"Select player 1",searchPlaceholder:"Search players..."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player2_id",className:"font-heading uppercase text-xs tracking-wider",children:"Player 2 *"}),h.jsx(Es,{value:O.player2_id,onValueChange:Ce=>q({...O,player2_id:Ce}),options:n.map(Ce=>({value:String(Ce.id),label:Ce.name})),placeholder:"Select player 2",searchPlaceholder:"Search players..."})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player1_score",className:"font-heading uppercase text-xs tracking-wider",children:"Player 1 Score"}),h.jsx(Zr,{id:"player1_score",type:"number",min:"0",value:O.player1_score,onChange:Ce=>q({...O,player1_score:Ce.target.value}),placeholder:"Leave empty for upcoming",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player2_score",className:"font-heading uppercase text-xs tracking-wider",children:"Player 2 Score"}),h.jsx(Zr,{id:"player2_score",type:"number",min:"0",value:O.player2_score,onChange:Ce=>q({...O,player2_score:Ce.target.value}),placeholder:"Leave empty for upcoming",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"winner_id",className:"font-heading uppercase text-xs tracking-wider",children:"Winner (leave empty for upcoming match)"}),h.jsx(Es,{value:O.winner_id,onValueChange:Ce=>q({...O,winner_id:Ce}),options:[{value:"none",label:"No winner (upcoming)"},...O.player1_id?[{value:O.player1_id,label:ge(parseInt(O.player1_id))}]:[],...O.player2_id?[{value:O.player2_id,label:ge(parseInt(O.player2_id))}]:[]],placeholder:"Select winner",searchPlaceholder:"Search..."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"event_id",className:"font-heading uppercase text-xs tracking-wider",children:"Event"}),h.jsx(Es,{value:O.event_id,onValueChange:Ce=>q({...O,event_id:Ce}),options:[{value:"none",label:"No event"},...a.map(Ce=>({value:String(Ce.id),label:Ce.title}))],placeholder:"Select event",searchPlaceholder:"Search events..."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"match_order",className:"font-heading uppercase text-xs tracking-wider",children:"Match Order"}),h.jsx(Zr,{id:"match_order",type:"number",min:"0",value:O.match_order,onChange:Ce=>q({...O,match_order:Ce.target.value}),className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"vod_link",className:"font-heading uppercase text-xs tracking-wider",children:"VOD Link"}),h.jsx(Zr,{id:"vod_link",type:"url",value:O.vod_link,onChange:Ce=>q({...O,vod_link:Ce.target.value}),placeholder:"https://youtube.com/...",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),ce&&h.jsx("div",{className:"text-sm text-destructive font-bold",children:ce})]}),h.jsxs(Vu,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>R(!1),children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:ae,className:"bg-primary text-primary-foreground hover:bg-primary/90 font-heading uppercase tracking-wider font-bold",children:ae?"Saving...":I?"Update":"Create"})]})]})]})})]})}function BF(){const{toast:e}=Vg(),[t,r]=M.useState([]),[n,s]=M.useState(""),[a,c]=M.useState([]),[p,v]=M.useState([]),[y,S]=M.useState(!1),[E,T]=M.useState(!1),[z,U]=M.useState(!1),[D,R]=M.useState(null),[I,N]=M.useState({player1_score:"",player2_score:"",winner_id:""}),[O,q]=M.useState(!1),[ae,te]=M.useState(null);M.useEffect(()=>{ce(),J()},[]),M.useEffect(()=>{n&&we()},[n]);const ce=async()=>{const{data:ge,error:he}=await Ve.from("events").select("*").order("event_date",{ascending:!1});he?(console.error("Error loading events:",he),e({variant:"destructive",title:"Error loading events",description:he.message})):(r(ge||[]),ge&&ge.length>0&&!n&&s(String(ge[0].id)))},J=async()=>{const{data:ge,error:he}=await Ve.from("players").select("*").order("name");he?console.error("Error loading players:",he):v(ge||[])},we=async(ge=!1)=>{if(!n)return;ge?T(!0):S(!0);const{data:he,error:Me}=await Ve.from("matches").select("*").eq("event_id",parseInt(n)).order("match_order");Me?(console.error("Error loading matches:",Me),e({variant:"destructive",title:"Error loading matches",description:Me.message})):c(he||[]),S(!1),T(!1)},Se=ge=>{var he;return((he=p.find(Me=>Me.id===ge))==null?void 0:he.name)||"Unknown"},be=ge=>{R(ge),N({player1_score:ge.player1_score!==void 0&&ge.player1_score!==null?String(ge.player1_score):"",player2_score:ge.player2_score!==void 0&&ge.player2_score!==null?String(ge.player2_score):"",winner_id:ge.winner_id?String(ge.winner_id):""}),te(null),U(!0)},ve=async ge=>{if(ge.preventDefault(),!!D){q(!0),te(null);try{const he=I.player1_score!==""?parseInt(I.player1_score):null,Me=I.player2_score!==""?parseInt(I.player2_score):null,$e=I.winner_id?parseInt(I.winner_id):null,Ie=he!==null||Me!==null||$e!==null;if(Ie){if(he===null||Me===null||$e===null)throw new Error("To complete a match, enter both scores and select a winner");if($e!==D.player1_id&&$e!==D.player2_id)throw new Error("Winner must be one of the two players")}const Ze=D.winner_id!==null&&Ie&&(D.winner_id!==$e||(D.player1_score??null)!==he||(D.player2_score??null)!==Me),{error:ot}=await Ve.from("matches").update({player1_score:he,player2_score:Me,winner_id:$e}).eq("id",D.id);if(ot)throw ot;if(Ie&&await Ve.from("players").update({has_played_this_season:!0}).in("id",[D.player1_id,D.player2_id]),e({title:"Score updated",description:Ie?"Match updated. Calculating ratings...":"Match kept as upcoming."}),U(!1),we(!0),Ie){const tt=await Rj(D.id);tt.success?(e({variant:"success",title:"Ratings updated",description:"Player ratings have been calculated."}),await we(!0)):e({variant:"destructive",title:"Rating update failed",description:tt.error||"Failed to update ratings."})}}catch(he){te(he.message),e({variant:"destructive",title:"Error",description:he.message})}finally{q(!1)}}},je=async ge=>{const he=await Qb(ge.id);if(!he.canRollback){e({variant:"destructive",title:"Cannot rollback match",description:he.reason||"This match cannot be rolled back"});return}const Me=Se(ge.player1_id),$e=Se(ge.player2_id);if(!confirm(`Rollback match "${Me} vs ${$e}"?

This will revert the match to an upcoming state and recalculate all ratings.`))return;q(!0);const Ie=await Pj(ge.id);Ie.success?(e({variant:"success",title:"Match rolled back",description:"The match was reverted to upcoming and ratings have been recalculated."}),we(!0)):e({variant:"destructive",title:"Rollback failed",description:Ie.error||"Failed to rollback match"}),q(!1)},Fe=t.find(ge=>ge.id===parseInt(n)),Ye=a.filter(ge=>ge.winner_id!==null),ie=a.filter(ge=>ge.winner_id===null);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsx(qr,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Kr,{className:"font-heading text-2xl text-primary",children:"Event Dashboard"}),h.jsx(pi,{children:"Register scores for matches within an event"})]}),n&&h.jsx(_t,{onClick:()=>we(!0),variant:"outline",size:"icon",disabled:E,className:"bg-background/50 border-primary/30 hover:bg-primary/20",children:h.jsx(Sg,{className:`h-4 w-4 ${E?"animate-spin":""}`})})]})}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{className:"font-bold uppercase tracking-wider text-xs text-muted-foreground",children:"Select Event"}),h.jsx(Es,{value:n,onValueChange:s,options:t.map(ge=>({value:String(ge.id),label:`${ge.title} - ${new Date(ge.event_date).toLocaleDateString()}`})),placeholder:"Choose an event",searchPlaceholder:"Search events...",className:"w-full"})]}),Fe&&h.jsxs("div",{className:"p-4 bg-background/30 rounded-lg border border-border/30",children:[h.jsx("h3",{className:"font-heading font-bold text-xl text-primary mb-2",children:Fe.title}),h.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:new Date(Fe.event_date).toLocaleString()}),Fe.description&&h.jsx("p",{className:"text-sm mt-2 italic text-muted-foreground",children:Fe.description}),h.jsxs("div",{className:"flex gap-4 mt-3 text-sm font-bold uppercase tracking-wider",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Kk,{className:"h-4 w-4 text-green-500"}),h.jsxs("span",{children:[Ye.length," completed"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Zk,{className:"h-4 w-4 text-orange-500"}),h.jsxs("span",{children:[ie.length," upcoming"]})]})]})]})]})]}),n&&!y&&h.jsxs(h.Fragment,{children:[ie.length>0&&h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(qr,{children:[h.jsxs(Kr,{className:"flex items-center gap-2 font-heading text-xl text-orange-500",children:[h.jsx(Zk,{className:"h-5 w-5"}),"Upcoming Matches"]}),h.jsx(pi,{children:"Click to register scores"})]}),h.jsx(xr,{children:h.jsx("div",{className:"space-y-3",children:ie.map(ge=>h.jsxs("div",{className:"flex items-center justify-between p-4 border border-border/40 rounded-lg hover:bg-primary/5 hover:border-primary/30 cursor-pointer transition-all group",onClick:()=>be(ge),children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-sm text-muted-foreground font-mono bg-background/50 px-2 py-1 rounded",children:["#",ge.match_order||0]}),h.jsxs("div",{className:"font-heading font-bold text-lg group-hover:text-primary transition-colors",children:[Se(ge.player1_id)," ",h.jsx("span",{className:"text-muted-foreground text-sm mx-1",children:"VS"})," ",Se(ge.player2_id)]})]}),h.jsx(_t,{size:"sm",variant:"outline",className:"font-bold uppercase tracking-wider text-xs bg-background/50 border-primary/30 group-hover:bg-primary group-hover:text-primary-foreground",children:"Register Score"})]},ge.id))})})]}),Ye.length>0&&h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(qr,{children:[h.jsxs(Kr,{className:"flex items-center gap-2 font-heading text-xl text-green-500",children:[h.jsx(Kk,{className:"h-5 w-5"}),"Completed Matches"]}),h.jsx(pi,{children:"Click to edit scores"})]}),h.jsx(xr,{children:h.jsx("div",{className:"space-y-3",children:Ye.map(ge=>h.jsxs("div",{className:"flex items-center justify-between p-4 border border-border/40 rounded-lg hover:bg-primary/5 hover:border-primary/30 transition-all group",children:[h.jsxs("div",{className:"flex items-center gap-4 flex-1 cursor-pointer",onClick:()=>be(ge),children:[h.jsxs("div",{className:"text-sm text-muted-foreground font-mono bg-background/50 px-2 py-1 rounded",children:["#",ge.match_order||0]}),h.jsxs("div",{className:"flex items-center gap-4 font-heading text-lg",children:[h.jsx("span",{className:`${ge.winner_id===ge.player1_id?"text-primary font-bold drop-shadow-[0_0_5px_rgba(var(--primary-rgb),0.5)]":"text-muted-foreground"}`,children:Se(ge.player1_id)}),h.jsxs("span",{className:"text-muted-foreground font-mono text-sm bg-background/30 px-2 py-1 rounded border border-border/30",children:[ge.player1_score??"?"," - ",ge.player2_score??"?"]}),h.jsx("span",{className:`${ge.winner_id===ge.player2_id?"text-primary font-bold drop-shadow-[0_0_5px_rgba(var(--primary-rgb),0.5)]":"text-muted-foreground"}`,children:Se(ge.player2_id)})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20",children:[h.jsx(YE,{className:"h-3 w-3 text-yellow-500"}),h.jsx("span",{className:"font-bold text-sm text-yellow-500 uppercase tracking-wider",children:Se(ge.winner_id)})]}),h.jsx(_t,{size:"sm",variant:"ghost",onClick:he=>{he.stopPropagation(),je(ge)},disabled:O,title:"Rollback match (only if both players have no matches afterwards)",className:"hover:bg-destructive/20 hover:text-destructive",children:h.jsx(qE,{className:"h-4 w-4"})})]})]},ge.id))})})]}),a.length===0&&h.jsx(pr,{className:"bg-card/50 border-border/50",children:h.jsx(xr,{className:"py-12 text-center text-muted-foreground italic",children:"No matches found for this event. Create matches in the Match Management section."})})]}),y&&h.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),"Loading matches..."]}),h.jsx(Ec,{open:z,onOpenChange:U,children:h.jsxs(Ua,{className:"bg-card/90 backdrop-blur-xl border-primary/20",children:[h.jsxs(Ha,{children:[h.jsx(Ga,{className:"font-heading text-2xl text-primary",children:"Register Match Score"}),h.jsx(Xu,{children:D&&h.jsxs("span",{className:"font-heading font-bold text-lg text-foreground",children:[Se(D.player1_id)," ",h.jsx("span",{className:"text-muted-foreground text-sm mx-1",children:"VS"})," ",Se(D.player2_id)]})})]}),D&&h.jsxs("form",{onSubmit:ve,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs(Cr,{className:"font-bold uppercase tracking-wider text-xs",children:[Se(D.player1_id)," Score *"]}),h.jsx(Zr,{type:"number",min:"0",value:I.player1_score,onChange:ge=>N({...I,player1_score:ge.target.value}),className:"bg-background/50 border-primary/30 focus:ring-primary/50 text-center font-mono text-lg font-bold"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs(Cr,{className:"font-bold uppercase tracking-wider text-xs",children:[Se(D.player2_id)," Score *"]}),h.jsx(Zr,{type:"number",min:"0",value:I.player2_score,onChange:ge=>N({...I,player2_score:ge.target.value}),className:"bg-background/50 border-primary/30 focus:ring-primary/50 text-center font-mono text-lg font-bold"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{className:"font-bold uppercase tracking-wider text-xs",children:"Winner *"}),h.jsx(Es,{value:I.winner_id,onValueChange:ge=>N({...I,winner_id:ge}),options:[{value:String(D.player1_id),label:Se(D.player1_id)},{value:String(D.player2_id),label:Se(D.player2_id)}],placeholder:"Select winner",searchPlaceholder:"Search players...",className:"w-full"})]}),ae&&h.jsx("div",{className:"text-sm text-destructive font-bold bg-destructive/10 p-2 rounded border border-destructive/20",children:ae})]}),h.jsxs(Vu,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>U(!1),className:"font-bold uppercase tracking-wider",children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:O,className:"font-heading font-bold uppercase tracking-wider",children:O?"Saving...":"Save Score"})]})]})]})})]})}function $F(){fn("Admin");const{session:e,isAdmin:t,loading:r}=Kb(),[n,s]=M.useState(null),[a,c]=M.useState([]),[p,v]=M.useState(!0),[y,S]=M.useState("Season Complete"),[E,T]=M.useState(!1),[z,U]=M.useState(null),[D,R]=M.useState(null),[I,N]=M.useState(!1),[O,q]=M.useState(null),[ae,te]=M.useState(null),[ce,J]=M.useState({totalMatches:0,processedMatches:0,currentMatch:0,status:"idle"}),[we,Se]=M.useState(null);M.useEffect(()=>{be()},[]);const be=async()=>{v(!0);try{const ie=await C$(),ge=await Fc();s(ie),c(ge)}catch(ie){console.error("Failed to load seasons:",ie)}finally{v(!1)}},ve=async()=>{if(!n){alert("No active season found");return}const ie=`Season ${a.filter(Me=>Me.status==="archived").length+1}`,ge=` Archive "${n.name}" and start "${ie}"?

This will:
 Create snapshots of all current player standings
 Mark current season as archived
 Reset all players' ratings
 Create a new active season

This action cannot be undone!`;if(!confirm(ge))return;T(!0),U(null);const he=await E$(ie,Me=>{console.log("Archive progress:",Me)});U(he),T(!1),he.success&&await be()},je=async ie=>{const ge=a.find($e=>$e.id===ie);if(!ge){alert("Season not found");return}const he=` Restore "${ge.name}" as the active season?

This will:
 Archive the current active season with all its matches
 Restore player ratings from ${ge.name}'s snapshots
 Make ${ge.name} the current active season for new matches

This action cannot be undone!`;if(!confirm(he))return;R(ie),N(!0),q(null);const Me=await j$(ie,$e=>{console.log("Activate progress:",$e)});q(Me),N(!1),Me.success&&await be()},Fe=async ie=>{const ge=a.find(Ie=>Ie.id===ie);if(!ge){alert("Season not found");return}const he=ie===0,Me=he?` Recalculate ratings for "${ge.name}"?

This will:
 Recalculate all matches in the current season
 Update player ratings and standings
 Preserve all match history

Existing rating data will be recalculated. Continue?`:` Calculate ratings for "${ge.name}"?

This will:
 Create rating events from scratch for all matches in this season
 Calculate final player ratings and standings
 Create snapshots of the final leaderboard
 Recalculate all rating changes for matches

Existing rating data will be recalculated. Continue?`;if(!confirm(Me))return;te(ie),J({totalMatches:0,processedMatches:0,currentMatch:0,status:"running"}),Se(null);const $e=he?await Nj(Ie=>{J(Ie)},"Recalculate active season",0):await lF(ie,Ie=>{J(Ie)});Se($e)},Ye=()=>ce.totalMatches===0?0:Math.round(ce.processedMatches/ce.totalMatches*100);return r?h.jsx("div",{className:"container py-8",children:h.jsx("div",{className:"text-center",children:"Loading..."})}):e?t?h.jsxs("div",{className:"container py-8 space-y-8",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary/80 to-primary/50 drop-shadow-sm",children:"Admin Dashboard"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg",children:"Manage the arena and its combatants."})]}),h.jsxs(_F,{defaultValue:"dashboard",className:"space-y-6",children:[h.jsxs(eA,{className:"bg-card/40 backdrop-blur-sm border border-border/40 p-1 h-auto flex-wrap justify-start gap-2",children:[h.jsx(ka,{value:"dashboard",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Event Dashboard"}),h.jsx(ka,{value:"events",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Events"}),h.jsx(ka,{value:"matches",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Matches"}),h.jsx(ka,{value:"players",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Players"}),h.jsx(ka,{value:"seasons",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Seasons"}),h.jsx(ka,{value:"tools",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Tools"})]}),h.jsxs("div",{className:"bg-card/30 backdrop-blur-md border border-border/40 rounded-lg p-6 shadow-xl relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(Sa,{value:"dashboard",className:"m-0",children:h.jsx(BF,{})}),h.jsx(Sa,{value:"events",className:"m-0",children:h.jsx(IF,{})}),h.jsx(Sa,{value:"matches",className:"m-0",children:h.jsx(DF,{})}),h.jsx(Sa,{value:"players",className:"m-0",children:h.jsx(LF,{})}),h.jsxs(Sa,{value:"seasons",className:"space-y-6 m-0",children:[h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(qr,{children:[h.jsx(Kr,{className:"font-heading text-2xl text-primary",children:"Active Season"}),h.jsx(pi,{children:"Current season where matches are being recorded"})]}),h.jsx(xr,{className:"space-y-4",children:p?h.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):n?h.jsx("div",{className:"space-y-3",children:h.jsxs("div",{className:"p-4 bg-primary/10 border border-primary/20 rounded-lg flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-lg font-heading font-bold text-primary",children:n.name}),h.jsxs("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:["Started: ",new Date(n.start_date).toLocaleDateString()]})]}),h.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)] animate-pulse"})]})}):h.jsx("p",{className:"text-sm text-destructive font-bold",children:"No active season found!"})})]}),h.jsxs(pr,{className:"border-amber-500/30 bg-amber-500/5",children:[h.jsxs(qr,{children:[h.jsxs(Kr,{className:"flex items-center gap-2 font-heading text-xl text-amber-500",children:[h.jsx(Y5,{className:"h-5 w-5"}),"Archive Season & Start New"]}),h.jsx(pi,{children:"End the current season, create snapshots, and reset for a new season"})]}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:[h.jsx("p",{className:"text-sm text-amber-500 font-bold uppercase tracking-wider mb-2",children:" This will:"}),h.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside font-medium",children:[h.jsx("li",{children:"Create final standings snapshots for all active players"}),h.jsx("li",{children:"Archive the current season permanently"}),h.jsx("li",{children:"Reset all player ratings to NULL (inactive)"}),h.jsx("li",{children:"Create a new active season for fresh matches"})]})]}),h.jsx(_t,{onClick:ve,disabled:E||!n,size:"lg",className:"w-full font-heading font-bold uppercase tracking-wider bg-amber-600 hover:bg-amber-700 text-white",children:E?"Archiving Season...":"Archive Season & Start New"}),z&&!z.success&&h.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive rounded-lg",children:[h.jsx("p",{className:"text-destructive font-bold uppercase tracking-wider text-xs",children:"Error"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:z.error})]}),z&&z.success&&h.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[h.jsx("p",{className:"text-green-500 font-bold uppercase tracking-wider text-xs",children:" Season Archived!"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Season has been archived and a new active season created."})]})]})]}),h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(qr,{children:[h.jsx(Kr,{className:"font-heading text-2xl",children:"Season History"}),h.jsx(pi,{children:'Previously archived seasons. Click "Activate" to restore a season as the current active season.'})]}),h.jsxs(xr,{children:[p?h.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):a.filter(ie=>ie.status==="archived").length>0?h.jsx("div",{className:"space-y-3",children:a.filter(ie=>ie.status==="archived").sort((ie,ge)=>ge.id-ie.id).map(ie=>h.jsx("div",{className:"p-4 bg-background/50 border border-border/40 rounded-lg hover:border-primary/30 transition-colors",children:h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-heading font-bold text-lg",children:ie.name}),h.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[new Date(ie.start_date).toLocaleDateString(),ie.end_date&&` - ${new Date(ie.end_date).toLocaleDateString()}`]}),ie.description&&h.jsx("p",{className:"text-xs text-muted-foreground mt-1 italic",children:ie.description})]}),h.jsx(_t,{onClick:()=>je(ie.id),disabled:I&&D===ie.id,size:"sm",variant:"outline",className:"font-bold uppercase tracking-wider text-xs",children:I&&D===ie.id?"Activating...":"Activate"})]})},ie.id))}):h.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No archived seasons yet"}),O&&!O.success&&h.jsxs("div",{className:"mt-4 p-4 bg-destructive/10 border border-destructive rounded-lg",children:[h.jsx("p",{className:"text-destructive font-bold uppercase tracking-wider text-xs",children:"Error"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:O.error})]}),O&&O.success&&h.jsxs("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[h.jsx("p",{className:"text-green-500 font-bold uppercase tracking-wider text-xs",children:" Season Activated!"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Season has been restored as the active season and player ratings have been restored."})]})]})]})]}),h.jsx(Sa,{value:"tools",className:"space-y-6 m-0",children:h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(qr,{children:[h.jsx(Kr,{className:"font-heading text-2xl",children:"Calculate Season Ratings"}),h.jsx(pi,{children:"Calculate ratings for seasons. Select the active season to recalculate current season, or archived seasons to retroactively calculate."})]}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-bold uppercase tracking-wider text-muted-foreground",children:"Select Season"}),h.jsxs(Dg,{value:ae!==null?ae.toString():"",onValueChange:ie=>{const ge=ie?parseInt(ie):null;te(ge)},children:[h.jsx(Uu,{className:"w-full bg-background/50 border-primary/30",children:h.jsx(Bg,{placeholder:"Choose a season..."})}),h.jsx(Hu,{children:a.sort((ie,ge)=>ie.id===0?-1:ge.id===0?1:ie.id-ge.id).map(ie=>h.jsxs(Ns,{value:ie.id.toString(),children:[ie.name," ",ie.status==="active"?"(Active)":""]},ie.id))})]})]}),h.jsx(_t,{onClick:()=>ae!==null&&Fe(ae),disabled:ae===null||ce.status==="running",size:"lg",className:"w-full font-heading font-bold uppercase tracking-wider",children:ce.status==="running"?"Calculating...":"Calculate Season Ratings"}),ce.status==="running"&&h.jsxs("div",{className:"space-y-2 p-4 bg-background/30 rounded-lg border border-border/30",children:[h.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[h.jsxs("span",{children:["Processing match ",ce.currentMatch]}),h.jsxs("span",{children:[ce.processedMatches," / ",ce.totalMatches]})]}),h.jsx("div",{className:"w-full bg-secondary/50 rounded-full h-2.5 overflow-hidden",children:h.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-300 shadow-[0_0_10px_rgba(var(--primary-rgb),0.5)]",style:{width:`${Ye()}%`}})}),h.jsxs("div",{className:"text-center text-sm font-bold text-primary",children:[Ye(),"%"]})]}),we&&!we.success&&h.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive rounded-lg",children:[h.jsx("p",{className:"text-destructive font-bold uppercase tracking-wider text-xs",children:"Error"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:we.error})]}),we&&we.success&&h.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[h.jsx("p",{className:"text-green-500 font-bold uppercase tracking-wider text-xs",children:" Success!"}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created ",we.eventsCreated," rating events and snapshots for this season."]})]})]})]})})]})]})]}):h.jsx("div",{className:"container py-8",children:h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs(pr,{children:[h.jsxs(qr,{children:[h.jsx(Kr,{children:"Access Denied"}),h.jsx(pi,{children:"You don't have admin privileges. Please contact an administrator."})]}),h.jsxs(xr,{children:[h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your user ID: ",h.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:e.user.id})]}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"To grant yourself admin access, run this SQL in Supabase Studio:"}),h.jsx("pre",{className:"bg-muted p-3 rounded mt-2 text-xs overflow-x-auto",children:`UPDATE auth.users
SET raw_app_meta_data = COALESCE(raw_app_meta_data, '{}'::jsonb) || jsonb_build_object('role', 'admin')
WHERE id = '${e.user.id}';`}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Then refresh this page."})]})]})})}):h.jsx(nE,{to:"/login",replace:!0})}function OS(){fn("Upcoming Matches");const[e,t]=M.useState([]),[r,n]=M.useState([]),[s,a]=M.useState([]),[c,p]=M.useState(!0);M.useEffect(()=>{let S=!0;return(async()=>{const[E,T,z]=await Promise.all([_b(),P5(),N5()]);S&&(t(E),n(T),a(z),p(!1))})(),()=>{S=!1}},[]);const v=M.useMemo(()=>{if(!e.length||!r.length)return[];const S=new Map(e.map(E=>[E.id,E]));return r.map(E=>({...E,matches:s.filter(T=>T.event_id===E.id).map(T=>({...T,player1:S.get(T.player1_id),player2:S.get(T.player2_id)})).sort((T,z)=>(T.match_order??0)-(z.match_order??0))}))},[e,r,s]),y=S=>{const E=new Date(S);return E.setHours(E.getHours()+3),E.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})};return c?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Upcoming Matches"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]}):v.length===0?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Upcoming Matches"}),h.jsx(pr,{children:h.jsx(xr,{className:"pt-6",children:h.jsx("p",{className:"text-muted-foreground",children:"No upcoming events scheduled."})})})]}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-primary/30 pb-4",children:[h.jsx("h1",{className:"text-4xl font-heading font-bold text-primary drop-shadow-[0_0_10px_rgba(234,179,8,0.3)] uppercase tracking-widest",children:"Upcoming Battles"}),h.jsx("div",{className:"h-1 w-24 bg-primary/50 rounded-full"})]}),v.map(S=>h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden group",children:[h.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary/50 group-hover:bg-primary transition-colors"}),h.jsx(qr,{className:"bg-muted/30 border-b border-border/30 pb-4",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{children:[h.jsxs(Kr,{className:"font-heading text-2xl text-foreground tracking-wide flex items-center gap-3",children:[S.title,h.jsx("span",{className:"text-xs font-body font-normal text-muted-foreground px-2 py-0.5 border border-border rounded uppercase tracking-wider",children:"Event"})]}),h.jsxs(pi,{className:"font-body text-base mt-1 flex items-center gap-2",children:[h.jsx("span",{className:"text-primary",children:""})," ",y(S.event_date)]}),S.description&&h.jsxs("p",{className:"text-sm text-muted-foreground mt-3 italic border-l-2 border-primary/30 pl-3",children:['"',S.description,'"']})]}),S.stream_url&&h.jsx("a",{href:S.stream_url,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 bg-primary/10 border border-primary/50 text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 text-sm font-heading font-bold uppercase tracking-wider rounded-sm shadow-[0_0_10px_rgba(234,179,8,0.1)] hover:shadow-[0_0_15px_rgba(234,179,8,0.4)]",children:"Watch Stream"})]})}),h.jsx(xr,{className:"pt-6",children:S.matches.length===0?h.jsx("div",{className:"text-center py-8 text-muted-foreground italic font-body",children:"No battles scheduled for this event yet."}):h.jsx("div",{className:"space-y-4",children:S.matches.map((E,T)=>{const{player1:z,player2:U}=E;if(!z||!U)return h.jsxs("div",{className:"p-4 border border-destructive/30 bg-destructive/10 rounded text-destructive text-center font-heading",children:["Match ",T+1,": Player data missing"]},E.id);const D=Pz(z,U);return h.jsxs("div",{className:"relative p-4 border border-border/40 bg-background/40 rounded-sm hover:border-primary/50 transition-colors group/match",children:[h.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-background px-2 text-xs font-heading font-bold text-muted-foreground uppercase tracking-widest border border-border/30 rounded-full",children:["Match ",T+1]}),h.jsxs("div",{className:"flex items-center justify-between gap-4 mt-2",children:[h.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[h.jsxs(Mr,{to:`/players/${z.id}`,className:"relative shrink-0 group/p1",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-md opacity-0 group-hover/p1:opacity-100 transition-opacity"}),h.jsx(Ls,{name:z.name,twitter:z.twitter,size:56,className:"h-14 w-14 border-2 border-border group-hover/p1:border-primary transition-colors relative z-10"})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx(Mr,{to:`/players/${z.id}`,className:"hover:text-primary transition-colors block",children:h.jsx("div",{className:"font-heading font-bold text-lg leading-tight truncate",children:z.name})}),h.jsxs("div",{className:"text-xs font-body text-muted-foreground uppercase tracking-wider mt-0.5",children:["Rating: ",h.jsx("span",{className:"text-foreground font-bold",children:z.rating===null?"Unrated":Math.round(z.rating)})]}),h.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs font-bold",children:[h.jsxs("span",{className:"text-green-500 drop-shadow-[0_0_5px_rgba(34,197,94,0.3)]",children:["+",sc(D.player1.winRatingChange)]}),h.jsx("span",{className:"text-red-500 drop-shadow-[0_0_5px_rgba(239,68,68,0.3)]",children:sc(D.player1.loseRatingChange)})]})]})]}),h.jsx("div",{className:"font-heading font-black text-2xl text-primary/20 shrink-0 px-4 select-none group-hover/match:text-primary/40 transition-colors italic",children:"VS"}),h.jsxs("div",{className:"flex items-center gap-4 flex-1 flex-row-reverse text-right",children:[h.jsxs(Mr,{to:`/players/${U.id}`,className:"relative shrink-0 group/p2",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-md opacity-0 group-hover/p2:opacity-100 transition-opacity"}),h.jsx(Ls,{name:U.name,twitter:U.twitter,size:56,className:"h-14 w-14 border-2 border-border group-hover/p2:border-primary transition-colors relative z-10"})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx(Mr,{to:`/players/${U.id}`,className:"hover:text-primary transition-colors block",children:h.jsx("div",{className:"font-heading font-bold text-lg leading-tight truncate",children:U.name})}),h.jsxs("div",{className:"text-xs font-body text-muted-foreground uppercase tracking-wider mt-0.5",children:["Rating: ",h.jsx("span",{className:"text-foreground font-bold",children:U.rating===null?"Unrated":Math.round(U.rating)})]}),h.jsxs("div",{className:"flex items-center justify-end gap-3 mt-1 text-xs font-bold",children:[h.jsxs("span",{className:"text-green-500 drop-shadow-[0_0_5px_rgba(34,197,94,0.3)]",children:["+",sc(D.player2.winRatingChange)]}),h.jsx("span",{className:"text-red-500 drop-shadow-[0_0_5px_rgba(239,68,68,0.3)]",children:sc(D.player2.loseRatingChange)})]})]})]})]})]},E.id)})})})]},S.id))]})}const nA=M.createContext(void 0);function zF(){return typeof window>"u"?"light":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function RS(e){const t=document.documentElement,r=e==="system"?zF():e;t.classList.remove("light","dark"),r==="dark"?t.classList.add("dark"):t.classList.add("light")}function FF({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"}){const[n,s]=M.useState(()=>typeof window>"u"?t:window.localStorage.getItem(r)??t);M.useEffect(()=>{RS(n);try{window.localStorage.setItem(r,n)}catch{}},[n,r]),M.useEffect(()=>{if(n!=="system"||typeof window>"u")return;const c=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>RS("system");try{c.addEventListener("change",p)}catch{c.addListener(p)}return()=>{try{c.removeEventListener("change",p)}catch{c.removeListener(p)}}},[n]);const a=M.useMemo(()=>({theme:n,setTheme:s}),[n]);return h.jsx(nA.Provider,{value:a,children:e})}function WF(){const e=M.useContext(nA);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}function UF(){const{theme:e,setTheme:t}=WF(),r=e==="system"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e,n=r==="light"?"dark":"light",s=r==="light"?"Switch to dark":"Switch to light";return h.jsx("div",{className:"flex items-center gap-1",children:h.jsxs(_t,{variant:"ghost",size:"icon","aria-label":s,title:s,onClick:()=>t(n),className:"relative h-10 w-10",children:[h.jsx(l3,{className:"absolute h-6 w-6 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),h.jsx(t3,{className:"absolute h-6 w-6 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})})}function HF({matchId:e,open:t,onOpenChange:r}){const{players:n,matches:s}=kg(),[a,c]=M.useState(null),[p,v]=M.useState(null),[y,S]=M.useState({}),[E,T]=M.useState(null),[z,U]=M.useState(!1),D=M.useMemo(()=>s.find(J=>J.id===e),[s,e]),R=M.useMemo(()=>D||E,[D,E]),I=n.find(J=>J.id===(R==null?void 0:R.player1_id)),N=n.find(J=>J.id===(R==null?void 0:R.player2_id));M.useEffect(()=>{if(!e||D)return;let J=!0;return U(!0),(async()=>{try{const{data:we,error:Se}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("id",e).single();if(!J)return;if(Se){console.warn("Failed to fetch match from server:",Se),T(null),U(!1);return}we&&(console.log("Fetched match from server:",we),T(we)),U(!1)}catch(we){if(!J)return;console.warn("Error fetching match from server:",we),T(null),U(!1)}})(),()=>{J=!1}},[e,D]),M.useEffect(()=>{let J=!0;return R!=null&&R.id?((async()=>{try{const{data:we,error:Se}=await Ve.from("rating_events").select("player_id, rating, rating_change, event_type").eq("match_id",R.id);if(!J)return;if(Se){console.warn("Failed to fetch rating events for match",R.id,Se),S({});return}const be={};for(const ve of we??[])(ve==null?void 0:ve.event_type)!=="match"||typeof(ve==null?void 0:ve.player_id)!="number"||(be[ve.player_id]={rating:typeof ve.rating=="number"?ve.rating:ve.rating??null,rating_change:typeof ve.rating_change=="number"?ve.rating_change:ve.rating_change??null});S(be)}catch(we){if(!J)return;console.warn("Failed to load rating events for match",R.id,we),S({})}})(),()=>{J=!1}):(S({}),()=>{J=!1})},[R==null?void 0:R.id]);const O=M.useMemo(()=>{if(!R)return{p1:null,p2:null};const J=(ve,je)=>{if(!ve)return null;const Fe=s.filter(he=>he.id>R.id&&(he.player1_id===ve.id||he.player2_id===ve.id));let Ye=ve.rating??1500;for(const he of Fe){const Me=he.player1_id===ve.id?he.rating_change_p1??0:he.rating_change_p2??0;Ye-=Me}const ie=je??null,ge=ie!==null?Ye-ie:null;return{ratingAfter:Number.isFinite(Ye)?Ye:null,ratingBefore:ge!==null&&Number.isFinite(ge)?ge:null,ratingChange:ie}},we=(ve,je)=>{if(!ve)return null;const Fe=y[ve.id];if(!Fe)return null;const Ye=Fe.rating_change??je??null,ie=Fe.rating??null,ge=Ye!==null&&ie!==null?ie-Ye:null;return{ratingAfter:ie,ratingBefore:ge,ratingChange:Ye}},Se=J(I,R.rating_change_p1??null),be=J(N,R.rating_change_p2??null);return{p1:we(I,R.rating_change_p1??null)??Se,p2:we(N,R.rating_change_p2??null)??be}},[R,I,N,s,y]),q=O.p1,ae=O.p2,te=(q==null?void 0:q.ratingChange)??(R==null?void 0:R.rating_change_p1)??null,ce=(ae==null?void 0:ae.ratingChange)??(R==null?void 0:R.rating_change_p2)??null;return M.useEffect(()=>{if(!(R!=null&&R.event_id)){c(null);return}let J=!0;return(async()=>{const we=await Fu();if(!J)return;const Se=we.find(be=>be.id===R.event_id);c((Se==null?void 0:Se.title)??null)})(),()=>{J=!1}},[R==null?void 0:R.event_id]),M.useEffect(()=>{if(!(R!=null&&R.season_id)){v(null);return}let J=!0;return(async()=>{try{const{data:we,error:Se}=await Ve.from("seasons").select("name").eq("id",R.season_id).single();if(!J)return;if(Se){console.warn("Failed to fetch season",Se),v(null);return}v((we==null?void 0:we.name)??null)}catch(we){if(!J)return;console.warn("Failed to load season",we),v(null)}})(),()=>{J=!1}},[R==null?void 0:R.season_id]),R?h.jsx(Ec,{open:t,onOpenChange:r,children:h.jsxs(Ua,{className:"w-[95vw] max-w-4xl bg-card/90 backdrop-blur-xl border-primary/50 shadow-[0_0_50px_rgba(0,0,0,0.5)] p-0 overflow-hidden max-h-[90vh] overflow-y-auto",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent"}),h.jsx(Ha,{className:"sr-only",children:h.jsx(Ga,{children:"Match Details"})}),h.jsxs("div",{className:"relative p-4 sm:p-6 md:p-10 space-y-6 md:space-y-8",children:[h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-primary/10 via-background/50 to-background pointer-events-none"}),h.jsxs("div",{className:"relative z-10 grid grid-cols-[1fr_auto_1fr] gap-2 sm:gap-4 md:gap-8 items-start",children:[h.jsx("div",{className:"flex flex-col items-center gap-2 sm:gap-4 md:gap-6",children:I&&h.jsxs(h.Fragment,{children:[h.jsxs(Mr,{className:"group flex flex-col items-center",to:`/players/${I.id}`,onClick:()=>r(!1),children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/30 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),h.jsx(Ls,{name:I.name,twitter:I.twitter,size:120,className:`h-16 w-16 sm:h-20 sm:w-20 md:h-32 md:w-32 mx-auto border-2 sm:border-4 transition-all duration-300 ${R.winner_id===R.player1_id?"border-yellow-500 shadow-[0_0_20px_rgba(234,179,8,0.5)]":"border-border group-hover:border-primary"}`})]}),h.jsx("div",{className:"font-heading font-bold text-sm sm:text-lg md:text-2xl mt-2 sm:mt-4 group-hover:text-primary transition-colors text-center tracking-wide line-clamp-2",children:I.name})]}),h.jsx("div",{className:`w-full rounded-lg border p-2 sm:p-3 md:p-4 backdrop-blur-sm transition-colors ${R.winner_id===R.player1_id?"border-yellow-500/50 bg-yellow-500/5":"border-border/50 bg-card/30"}`,children:h.jsxs("div",{className:"text-center space-y-1 sm:space-y-2 md:space-y-3",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl sm:text-4xl md:text-6xl font-heading font-black mb-0.5 sm:mb-1 drop-shadow-lg",style:{color:R.winner_id===R.player1_id?"#eab308":"hsl(var(--muted-foreground))"},children:R.player1_score??"?"}),R.winner_id===R.player1_id&&h.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm font-heading font-bold text-yellow-500 uppercase tracking-widest",children:"Victory"})]}),te!==null&&h.jsxs("div",{className:"pt-1 sm:pt-2 md:pt-3 border-t border-border/30 space-y-1 sm:space-y-2",children:[h.jsx("div",{className:"text-[10px] sm:text-xs text-muted-foreground font-heading uppercase tracking-widest hidden sm:block",children:"Rating"}),h.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2 text-sm sm:text-lg md:text-xl font-bold font-mono",children:[(te??0)>=0?h.jsx(nc,{size:14,className:"text-green-500 sm:w-5 sm:h-5"}):h.jsx(ic,{size:14,className:"text-red-500 sm:w-5 sm:h-5"}),h.jsx("span",{className:(te??0)>=0?"text-green-500":"text-red-500",children:Math.abs(te??0).toFixed(1)})]}),q&&q.ratingBefore!==null&&q.ratingAfter!==null&&h.jsxs("div",{className:"hidden sm:flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm text-muted-foreground font-mono",children:[h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(q.ratingBefore)}),h.jsx("span",{className:(te??0)>=0?"text-green-500":"text-red-500",children:""}),h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(q.ratingAfter)})]})]})]})})]})}),h.jsx("div",{className:"flex flex-col items-center justify-center py-2 sm:py-4 md:py-0",children:h.jsx("div",{className:"text-2xl sm:text-4xl md:text-7xl font-heading font-black text-transparent bg-clip-text bg-gradient-to-b from-yellow-300 to-yellow-700 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)] italic",children:"VS"})}),h.jsx("div",{className:"flex flex-col items-center gap-2 sm:gap-4 md:gap-6",children:N&&h.jsxs(h.Fragment,{children:[h.jsxs(Mr,{className:"group flex flex-col items-center",to:`/players/${N.id}`,onClick:()=>r(!1),children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/30 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),h.jsx(Ls,{name:N.name,twitter:N.twitter,size:120,className:`h-16 w-16 sm:h-20 sm:w-20 md:h-32 md:w-32 mx-auto border-2 sm:border-4 transition-all duration-300 ${R.winner_id===R.player2_id?"border-yellow-500 shadow-[0_0_20px_rgba(234,179,8,0.5)]":"border-border group-hover:border-primary"}`})]}),h.jsx("div",{className:"font-heading font-bold text-sm sm:text-lg md:text-2xl mt-2 sm:mt-4 group-hover:text-primary transition-colors text-center tracking-wide line-clamp-2",children:N.name})]}),h.jsx("div",{className:`w-full rounded-lg border p-2 sm:p-3 md:p-4 backdrop-blur-sm transition-colors ${R.winner_id===R.player2_id?"border-yellow-500/50 bg-yellow-500/5":"border-border/50 bg-card/30"}`,children:h.jsxs("div",{className:"text-center space-y-1 sm:space-y-2 md:space-y-3",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl sm:text-4xl md:text-6xl font-heading font-black mb-0.5 sm:mb-1 drop-shadow-lg",style:{color:R.winner_id===R.player2_id?"#eab308":"hsl(var(--muted-foreground))"},children:R.player2_score??"?"}),R.winner_id===R.player2_id&&h.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm font-heading font-bold text-yellow-500 uppercase tracking-widest",children:"Victory"})]}),ce!==null&&h.jsxs("div",{className:"pt-1 sm:pt-2 md:pt-3 border-t border-border/30 space-y-1 sm:space-y-2",children:[h.jsx("div",{className:"text-[10px] sm:text-xs text-muted-foreground font-heading uppercase tracking-widest hidden sm:block",children:"Rating"}),h.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2 text-sm sm:text-lg md:text-xl font-bold font-mono",children:[(ce??0)>=0?h.jsx(nc,{size:14,className:"text-green-500 sm:w-5 sm:h-5"}):h.jsx(ic,{size:14,className:"text-red-500 sm:w-5 sm:h-5"}),h.jsx("span",{className:(ce??0)>=0?"text-green-500":"text-red-500",children:Math.abs(ce??0).toFixed(1)})]}),ae&&ae.ratingBefore!==null&&ae.ratingAfter!==null&&h.jsxs("div",{className:"hidden sm:flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm text-muted-foreground font-mono",children:[h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(ae.ratingBefore)}),h.jsx("span",{className:(ce??0)>=0?"text-green-500":"text-red-500",children:""}),h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(ae.ratingAfter)})]})]})]})})]})})]}),(R.event_id||R.vod_link||p)&&h.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 md:gap-6 pt-4 sm:pt-6 border-t border-border/30",children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:gap-4",children:[p&&h.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1 rounded-full bg-muted/20 border border-border/30",children:[h.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground uppercase tracking-wider font-heading",children:"Season"}),h.jsx("span",{className:"font-bold text-xs sm:text-sm",children:p})]}),R.event_id&&h.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1 rounded-full bg-muted/20 border border-border/30",children:[h.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground uppercase tracking-wider font-heading",children:"Event"}),h.jsx(Mr,{className:"text-primary hover:text-primary/80 hover:underline font-bold text-xs sm:text-sm transition-colors max-w-[100px] sm:max-w-none truncate",to:`/events/${R.event_id}`,onClick:()=>r(!1),children:a??"Loading..."})]})]}),R.vod_link&&h.jsxs("a",{href:R.vod_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded bg-red-600 hover:bg-red-700 text-white font-heading font-bold text-xs sm:text-sm uppercase tracking-wider transition-colors shadow-lg hover:shadow-red-600/20",children:[R.vod_link.includes("youtube.com")||R.vod_link.includes("youtu.be")?h.jsx(KE,{className:"h-3 w-3 sm:h-4 sm:w-4"}):R.vod_link.includes("twitch.tv")?h.jsx("svg",{className:"h-3 w-3 sm:h-4 sm:w-4",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})}):h.jsx(XE,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Watch"]})]})]})]})}):h.jsx(Ec,{open:t,onOpenChange:r,children:h.jsxs(Ua,{children:[h.jsx(Ha,{children:h.jsx(Ga,{children:"Match Not Found"})}),z?h.jsx("p",{className:"text-muted-foreground text-sm",children:"Fetching match data from server..."}):h.jsx("p",{className:"text-muted-foreground text-sm",children:"The match you're looking for doesn't exist."})]})})}function GF(){const{session:e,loading:t,signOut:r}=Kb(),[n,s]=M.useState(!1),{matchId:a,closeMatch:c}=qb();return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"min-h-screen bg-background text-foreground font-body selection:bg-primary selection:text-primary-foreground",children:[h.jsx("nav",{className:"border-b border-border/60 bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:h.jsxs("div",{className:"container flex items-center gap-4 md:gap-8 py-3 md:py-4 flex-wrap",children:[h.jsx(go,{to:"/",className:"shrink-0 group",children:h.jsx("div",{className:"bg-red-800 px-4 py-2 rounded-md shadow-lg group-hover:shadow-xl transition-all group-hover:scale-105 border border-red-700",children:h.jsx("span",{className:"font-heading font-black text-xl tracking-widest text-white",children:"OFC"})})}),h.jsxs("div",{className:"hidden md:flex gap-6 text-sm font-heading font-bold tracking-wider uppercase",children:[h.jsx(go,{to:"/rankings",className:({isActive:p})=>`transition-colors hover:text-primary ${p?"text-primary drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]":"text-muted-foreground"}`,children:"Rankings"}),h.jsx(go,{to:"/matches",className:({isActive:p})=>`transition-colors hover:text-primary ${p?"text-primary drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]":"text-muted-foreground"}`,children:"Matches"}),h.jsx(go,{to:"/events",className:({isActive:p})=>`transition-colors hover:text-primary ${p?"text-primary drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]":"text-muted-foreground"}`,children:"Events"})]}),h.jsxs("div",{className:"ml-auto flex items-center gap-2 md:gap-4 min-w-0",children:[t?h.jsx("div",{className:"h-8 w-24 animate-pulse rounded-md bg-muted","aria-hidden":!0}):e?h.jsx(_t,{variant:"ghost",size:"sm",onClick:r,className:"font-heading uppercase tracking-wider hover:text-primary hover:bg-primary/10",children:"Sign out"}):h.jsx(_t,{asChild:!0,variant:"outline",size:"sm",className:"font-heading uppercase tracking-wider border-primary/50 hover:border-primary hover:bg-primary/10 text-primary",children:h.jsx(go,{to:"/login",children:"Login"})}),h.jsx(UF,{}),h.jsx("button",{type:"button","aria-label":"Toggle menu","aria-expanded":n,className:"inline-flex h-9 w-9 items-center justify-center rounded-md hover:bg-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring md:hidden text-primary",onClick:()=>s(p=>!p),children:n?h.jsx(jb,{className:"h-5 w-5"}):h.jsx(J5,{className:"h-5 w-5"})})]}),h.jsx("div",{className:`${n?"block":"hidden"} w-full md:hidden border-t border-border/50 mt-2`,onClick:()=>s(!1),children:h.jsxs("div",{className:"flex flex-col gap-2 pt-4 pb-3 text-sm font-heading font-bold tracking-wider uppercase",children:[h.jsx(go,{to:"/rankings",className:({isActive:p})=>p?"text-primary pl-2 border-l-2 border-primary":"text-muted-foreground pl-2 border-l-2 border-transparent",children:"Rankings"}),h.jsx(go,{to:"/matches",className:({isActive:p})=>p?"text-primary pl-2 border-l-2 border-primary":"text-muted-foreground pl-2 border-l-2 border-transparent",children:"Matches"}),h.jsx(go,{to:"/events",className:({isActive:p})=>p?"text-primary pl-2 border-l-2 border-primary":"text-muted-foreground pl-2 border-l-2 border-transparent",children:"Events"})]})})]})}),h.jsx("main",{className:"container py-8 md:py-12",children:h.jsxs(zR,{children:[h.jsx(Bi,{path:"/",element:h.jsx(OS,{})}),h.jsx(Bi,{path:"/rankings",element:h.jsx(A$,{})}),h.jsx(Bi,{path:"/players",element:h.jsx(nE,{to:"/rankings",replace:!0})}),h.jsx(Bi,{path:"/players/:id",element:h.jsx(Uz,{})}),h.jsx(Bi,{path:"/matches",element:h.jsx(Rz,{})}),h.jsx(Bi,{path:"/events",element:h.jsx(Lz,{})}),h.jsx(Bi,{path:"/events/:id",element:h.jsx(Iz,{})}),h.jsx(Bi,{path:"/upcoming",element:h.jsx(OS,{})}),h.jsx(Bi,{path:"/profile",element:h.jsx(Dz,{})}),h.jsx(Bi,{path:"/login",element:h.jsx(oF,{})}),h.jsx(Bi,{path:"/admin",element:h.jsx($F,{})}),h.jsx(Bi,{path:"*",element:h.jsx(aF,{})})]})})]}),h.jsx(HF,{matchId:a,open:a!==null,onOpenChange:p=>!p&&c()})]})}function VF(){return h.jsx(Oz,{children:h.jsx(GF,{})})}Xx.createRoot(document.getElementById("root")).render(h.jsx(Jn.StrictMode,{children:h.jsx(Hz,{children:h.jsx(FF,{defaultTheme:"dark",storageKey:"scelo-theme",children:h.jsx(w5,{children:h.jsx(qR,{children:h.jsx(VF,{})})})})})}));
