function yA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bA(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var AS={exports:{}},Kp={},PS={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.element"),wA=Symbol.for("react.portal"),kA=Symbol.for("react.fragment"),SA=Symbol.for("react.strict_mode"),_A=Symbol.for("react.profiler"),CA=Symbol.for("react.provider"),EA=Symbol.for("react.context"),MA=Symbol.for("react.forward_ref"),jA=Symbol.for("react.suspense"),NA=Symbol.for("react.memo"),TA=Symbol.for("react.lazy"),n1=Symbol.iterator;function AA(e){return e===null||typeof e!="object"?null:(e=n1&&e[n1]||e["@@iterator"],typeof e=="function"?e:null)}var OS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RS=Object.assign,LS={};function Mc(e,t,r){this.props=e,this.context=t,this.refs=LS,this.updater=r||OS}Mc.prototype.isReactComponent={};Mc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function IS(){}IS.prototype=Mc.prototype;function p0(e,t,r){this.props=e,this.context=t,this.refs=LS,this.updater=r||OS}var g0=p0.prototype=new IS;g0.constructor=p0;RS(g0,Mc.prototype);g0.isPureReactComponent=!0;var s1=Array.isArray,DS=Object.prototype.hasOwnProperty,m0={current:null},BS={key:!0,ref:!0,__self:!0,__source:!0};function $S(e,t,r){var n,s={},a=null,c=null;if(t!=null)for(n in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)DS.call(t,n)&&!BS.hasOwnProperty(n)&&(s[n]=t[n]);var p=arguments.length-2;if(p===1)s.children=r;else if(1<p){for(var v=Array(p),b=0;b<p;b++)v[b]=arguments[b+2];s.children=v}if(e&&e.defaultProps)for(n in p=e.defaultProps,p)s[n]===void 0&&(s[n]=p[n]);return{$$typeof:Au,type:e,key:a,ref:c,props:s,_owner:m0.current}}function PA(e,t){return{$$typeof:Au,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function v0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Au}function OA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var o1=/\/+/g;function Gv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OA(""+e.key):t.toString(36)}function Zf(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Au:case wA:c=!0}}if(c)return c=e,s=s(c),e=n===""?"."+Gv(c,0):n,s1(s)?(r="",e!=null&&(r=e.replace(o1,"$&/")+"/"),Zf(s,t,r,"",function(b){return b})):s!=null&&(v0(s)&&(s=PA(s,r+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(o1,"$&/")+"/")+e)),t.push(s)),1;if(c=0,n=n===""?".":n+":",s1(e))for(var p=0;p<e.length;p++){a=e[p];var v=n+Gv(a,p);c+=Zf(a,t,r,v,s)}else if(v=AA(e),typeof v=="function")for(e=v.call(e),p=0;!(a=e.next()).done;)a=a.value,v=n+Gv(a,p++),c+=Zf(a,t,r,v,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function kf(e,t,r){if(e==null)return e;var n=[],s=0;return Zf(e,n,"","",function(a){return t.call(r,a,s++)}),n}function RA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xi={current:null},Qf={transition:null},LA={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:Qf,ReactCurrentOwner:m0};function zS(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:kf,forEach:function(e,t,r){kf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kf(e,function(){t++}),t},toArray:function(e){return kf(e,function(t){return t})||[]},only:function(e){if(!v0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pt.Component=Mc;Pt.Fragment=kA;Pt.Profiler=_A;Pt.PureComponent=p0;Pt.StrictMode=SA;Pt.Suspense=jA;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LA;Pt.act=zS;Pt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=RS({},e.props),s=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=m0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(v in t)DS.call(t,v)&&!BS.hasOwnProperty(v)&&(n[v]=t[v]===void 0&&p!==void 0?p[v]:t[v])}var v=arguments.length-2;if(v===1)n.children=r;else if(1<v){p=Array(v);for(var b=0;b<v;b++)p[b]=arguments[b+2];n.children=p}return{$$typeof:Au,type:e.type,key:s,ref:a,props:n,_owner:c}};Pt.createContext=function(e){return e={$$typeof:EA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CA,_context:e},e.Consumer=e};Pt.createElement=$S;Pt.createFactory=function(e){var t=$S.bind(null,e);return t.type=e,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(e){return{$$typeof:MA,render:e}};Pt.isValidElement=v0;Pt.lazy=function(e){return{$$typeof:TA,_payload:{_status:-1,_result:e},_init:RA}};Pt.memo=function(e,t){return{$$typeof:NA,type:e,compare:t===void 0?null:t}};Pt.startTransition=function(e){var t=Qf.transition;Qf.transition={};try{e()}finally{Qf.transition=t}};Pt.unstable_act=zS;Pt.useCallback=function(e,t){return xi.current.useCallback(e,t)};Pt.useContext=function(e){return xi.current.useContext(e)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(e){return xi.current.useDeferredValue(e)};Pt.useEffect=function(e,t){return xi.current.useEffect(e,t)};Pt.useId=function(){return xi.current.useId()};Pt.useImperativeHandle=function(e,t,r){return xi.current.useImperativeHandle(e,t,r)};Pt.useInsertionEffect=function(e,t){return xi.current.useInsertionEffect(e,t)};Pt.useLayoutEffect=function(e,t){return xi.current.useLayoutEffect(e,t)};Pt.useMemo=function(e,t){return xi.current.useMemo(e,t)};Pt.useReducer=function(e,t,r){return xi.current.useReducer(e,t,r)};Pt.useRef=function(e){return xi.current.useRef(e)};Pt.useState=function(e){return xi.current.useState(e)};Pt.useSyncExternalStore=function(e,t,r){return xi.current.useSyncExternalStore(e,t,r)};Pt.useTransition=function(){return xi.current.useTransition()};Pt.version="18.3.1";PS.exports=Pt;var M=PS.exports;const Jn=Tu(M),x0=yA({__proto__:null,default:Jn},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA=M,DA=Symbol.for("react.element"),BA=Symbol.for("react.fragment"),$A=Object.prototype.hasOwnProperty,zA=IA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FA={key:!0,ref:!0,__self:!0,__source:!0};function FS(e,t,r){var n,s={},a=null,c=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(n in t)$A.call(t,n)&&!FA.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:DA,type:e,key:a,ref:c,props:s,_owner:zA.current}}Kp.Fragment=BA;Kp.jsx=FS;Kp.jsxs=FS;AS.exports=Kp;var h=AS.exports,Hx={},WS={exports:{}},Gi={},US={exports:{}},HS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(he,Me){var $e=he.length;he.push(Me);e:for(;0<$e;){var Ie=$e-1>>>1,Ee=he[Ie];if(0<s(Ee,Me))he[Ie]=Me,he[$e]=Ee,$e=Ie;else break e}}function r(he){return he.length===0?null:he[0]}function n(he){if(he.length===0)return null;var Me=he[0],$e=he.pop();if($e!==Me){he[0]=$e;e:for(var Ie=0,Ee=he.length,Ze=Ee>>>1;Ie<Ze;){var ot=2*(Ie+1)-1,tt=he[ot],Ce=ot+1,Oe=he[Ce];if(0>s(tt,$e))Ce<Ee&&0>s(Oe,tt)?(he[Ie]=Oe,he[Ce]=$e,Ie=Ce):(he[Ie]=tt,he[ot]=$e,Ie=ot);else if(Ce<Ee&&0>s(Oe,$e))he[Ie]=Oe,he[Ce]=$e,Ie=Ce;else break e}}return Me}function s(he,Me){var $e=he.sortIndex-Me.sortIndex;return $e!==0?$e:he.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,p=c.now();e.unstable_now=function(){return c.now()-p}}var v=[],b=[],S=1,E=null,A=3,z=!1,U=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(he){for(var Me=r(b);Me!==null;){if(Me.callback===null)n(b);else if(Me.startTime<=he)n(b),Me.sortIndex=Me.expirationTime,t(v,Me);else break;Me=r(b)}}function q(he){if(D=!1,O(he),!U)if(r(v)!==null)U=!0,ie(ae);else{var Me=r(b);Me!==null&&ge(q,Me.startTime-he)}}function ae(he,Me){U=!1,D&&(D=!1,I(J),J=-1),z=!0;var $e=A;try{for(O(Me),E=r(v);E!==null&&(!(E.expirationTime>Me)||he&&!be());){var Ie=E.callback;if(typeof Ie=="function"){E.callback=null,A=E.priorityLevel;var Ee=Ie(E.expirationTime<=Me);Me=e.unstable_now(),typeof Ee=="function"?E.callback=Ee:E===r(v)&&n(v),O(Me)}else n(v);E=r(v)}if(E!==null)var Ze=!0;else{var ot=r(b);ot!==null&&ge(q,ot.startTime-Me),Ze=!1}return Ze}finally{E=null,A=$e,z=!1}}var re=!1,ce=null,J=-1,we=5,Se=-1;function be(){return!(e.unstable_now()-Se<we)}function ve(){if(ce!==null){var he=e.unstable_now();Se=he;var Me=!0;try{Me=ce(!0,he)}finally{Me?je():(re=!1,ce=null)}}else re=!1}var je;if(typeof T=="function")je=function(){T(ve)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Ye=Fe.port2;Fe.port1.onmessage=ve,je=function(){Ye.postMessage(null)}}else je=function(){R(ve,0)};function ie(he){ce=he,re||(re=!0,je())}function ge(he,Me){J=R(function(){he(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(he){he.callback=null},e.unstable_continueExecution=function(){U||z||(U=!0,ie(ae))},e.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<he?Math.floor(1e3/he):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(he){switch(A){case 1:case 2:case 3:var Me=3;break;default:Me=A}var $e=A;A=Me;try{return he()}finally{A=$e}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(he,Me){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var $e=A;A=he;try{return Me()}finally{A=$e}},e.unstable_scheduleCallback=function(he,Me,$e){var Ie=e.unstable_now();switch(typeof $e=="object"&&$e!==null?($e=$e.delay,$e=typeof $e=="number"&&0<$e?Ie+$e:Ie):$e=Ie,he){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=$e+Ee,he={id:S++,callback:Me,priorityLevel:he,startTime:$e,expirationTime:Ee,sortIndex:-1},$e>Ie?(he.sortIndex=$e,t(b,he),r(v)===null&&he===r(b)&&(D?(I(J),J=-1):D=!0,ge(q,$e-Ie))):(he.sortIndex=Ee,t(v,he),U||z||(U=!0,ie(ae))),he},e.unstable_shouldYield=be,e.unstable_wrapCallback=function(he){var Me=A;return function(){var $e=A;A=Me;try{return he.apply(this,arguments)}finally{A=$e}}}})(HS);US.exports=HS;var WA=US.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA=M,Hi=WA;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GS=new Set,lu={};function Ga(e,t){fc(e,t),fc(e+"Capture",t)}function fc(e,t){for(lu[e]=t,e=0;e<t.length;e++)GS.add(t[e])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gx=Object.prototype.hasOwnProperty,HA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a1={},l1={};function GA(e){return Gx.call(l1,e)?!0:Gx.call(a1,e)?!1:HA.test(e)?l1[e]=!0:(a1[e]=!0,!1)}function VA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function XA(e,t,r,n){if(t===null||typeof t>"u"||VA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yi(e,t,r,n,s,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var Jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jr[e]=new yi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jr[t]=new yi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jr[e]=new yi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jr[e]=new yi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jr[e]=new yi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jr[e]=new yi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jr[e]=new yi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jr[e]=new yi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jr[e]=new yi(e,5,!1,e.toLowerCase(),null,!1,!1)});var y0=/[\-:]([a-z])/g;function b0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y0,b0);Jr[t]=new yi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y0,b0);Jr[t]=new yi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y0,b0);Jr[t]=new yi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jr[e]=new yi(e,1,!1,e.toLowerCase(),null,!1,!1)});Jr.xlinkHref=new yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jr[e]=new yi(e,1,!1,e.toLowerCase(),null,!0,!0)});function w0(e,t,r,n){var s=Jr.hasOwnProperty(t)?Jr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(XA(t,r,s,n)&&(r=null),n||s===null?GA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bs=UA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sf=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),Hl=Symbol.for("react.fragment"),k0=Symbol.for("react.strict_mode"),Vx=Symbol.for("react.profiler"),VS=Symbol.for("react.provider"),XS=Symbol.for("react.context"),S0=Symbol.for("react.forward_ref"),Xx=Symbol.for("react.suspense"),Yx=Symbol.for("react.suspense_list"),_0=Symbol.for("react.memo"),bo=Symbol.for("react.lazy"),YS=Symbol.for("react.offscreen"),c1=Symbol.iterator;function jd(e){return e===null||typeof e!="object"?null:(e=c1&&e[c1]||e["@@iterator"],typeof e=="function"?e:null)}var dr=Object.assign,Vv;function Hd(e){if(Vv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vv=t&&t[1]||""}return`
`+Vv+e}var Xv=!1;function Yv(e,t){if(!e||Xv)return"";Xv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(b){var n=b}Reflect.construct(e,[],t)}else{try{t.call()}catch(b){n=b}e.call(t.prototype)}else{try{throw Error()}catch(b){n=b}e()}}catch(b){if(b&&n&&typeof b.stack=="string"){for(var s=b.stack.split(`
`),a=n.stack.split(`
`),c=s.length-1,p=a.length-1;1<=c&&0<=p&&s[c]!==a[p];)p--;for(;1<=c&&0<=p;c--,p--)if(s[c]!==a[p]){if(c!==1||p!==1)do if(c--,p--,0>p||s[c]!==a[p]){var v=`
`+s[c].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=c&&0<=p);break}}}finally{Xv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hd(e):""}function YA(e){switch(e.tag){case 5:return Hd(e.type);case 16:return Hd("Lazy");case 13:return Hd("Suspense");case 19:return Hd("SuspenseList");case 0:case 2:case 15:return e=Yv(e.type,!1),e;case 11:return e=Yv(e.type.render,!1),e;case 1:return e=Yv(e.type,!0),e;default:return""}}function qx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hl:return"Fragment";case Ul:return"Portal";case Vx:return"Profiler";case k0:return"StrictMode";case Xx:return"Suspense";case Yx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case XS:return(e.displayName||"Context")+".Consumer";case VS:return(e._context.displayName||"Context")+".Provider";case S0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _0:return t=e.displayName||null,t!==null?t:qx(e.type)||"Memo";case bo:t=e._payload,e=e._init;try{return qx(e(t))}catch{}}return null}function qA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qx(t);case 8:return t===k0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Do(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KA(e){var t=qS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){n=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(c){n=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _f(e){e._valueTracker||(e._valueTracker=KA(e))}function KS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kx(e,t){var r=t.checked;return dr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function d1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Do(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ZS(e,t){t=t.checked,t!=null&&w0(e,"checked",t,!1)}function Zx(e,t){ZS(e,t);var r=Do(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qx(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qx(e,t.type,Do(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function u1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qx(e,t,r){(t!=="number"||hp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gd=Array.isArray;function nc(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Do(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Jx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return dr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function h1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(He(92));if(Gd(r)){if(1<r.length)throw Error(He(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Do(r)}}function QS(e,t){var r=Do(t.value),n=Do(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function f1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function JS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ey(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?JS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cf,e_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cf=Cf||document.createElement("div"),Cf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Kd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZA=["Webkit","ms","Moz","O"];Object.keys(Kd).forEach(function(e){ZA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kd[t]=Kd[e]})});function t_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Kd.hasOwnProperty(e)&&Kd[e]?(""+t).trim():t+"px"}function r_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=t_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var QA=dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ty(e,t){if(t){if(QA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function ry(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iy=null;function C0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ny=null,sc=null,oc=null;function p1(e){if(e=Ru(e)){if(typeof ny!="function")throw Error(He(280));var t=e.stateNode;t&&(t=tg(t),ny(e.stateNode,e.type,t))}}function i_(e){sc?oc?oc.push(e):oc=[e]:sc=e}function n_(){if(sc){var e=sc,t=oc;if(oc=sc=null,p1(e),t)for(e=0;e<t.length;e++)p1(t[e])}}function s_(e,t){return e(t)}function o_(){}var qv=!1;function a_(e,t,r){if(qv)return e(t,r);qv=!0;try{return s_(e,t,r)}finally{qv=!1,(sc!==null||oc!==null)&&(o_(),n_())}}function du(e,t){var r=e.stateNode;if(r===null)return null;var n=tg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(He(231,t,typeof r));return r}var sy=!1;if(Ts)try{var Nd={};Object.defineProperty(Nd,"passive",{get:function(){sy=!0}}),window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{sy=!1}function JA(e,t,r,n,s,a,c,p,v){var b=Array.prototype.slice.call(arguments,3);try{t.apply(r,b)}catch(S){this.onError(S)}}var Zd=!1,fp=null,pp=!1,oy=null,eP={onError:function(e){Zd=!0,fp=e}};function tP(e,t,r,n,s,a,c,p,v){Zd=!1,fp=null,JA.apply(eP,arguments)}function rP(e,t,r,n,s,a,c,p,v){if(tP.apply(this,arguments),Zd){if(Zd){var b=fp;Zd=!1,fp=null}else throw Error(He(198));pp||(pp=!0,oy=b)}}function Va(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function l_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g1(e){if(Va(e)!==e)throw Error(He(188))}function iP(e){var t=e.alternate;if(!t){if(t=Va(e),t===null)throw Error(He(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return g1(s),e;if(a===n)return g1(s),t;a=a.sibling}throw Error(He(188))}if(r.return!==n.return)r=s,n=a;else{for(var c=!1,p=s.child;p;){if(p===r){c=!0,r=s,n=a;break}if(p===n){c=!0,n=s,r=a;break}p=p.sibling}if(!c){for(p=a.child;p;){if(p===r){c=!0,r=a,n=s;break}if(p===n){c=!0,n=a,r=s;break}p=p.sibling}if(!c)throw Error(He(189))}}if(r.alternate!==n)throw Error(He(190))}if(r.tag!==3)throw Error(He(188));return r.stateNode.current===r?e:t}function c_(e){return e=iP(e),e!==null?d_(e):null}function d_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=d_(e);if(t!==null)return t;e=e.sibling}return null}var u_=Hi.unstable_scheduleCallback,m1=Hi.unstable_cancelCallback,nP=Hi.unstable_shouldYield,sP=Hi.unstable_requestPaint,vr=Hi.unstable_now,oP=Hi.unstable_getCurrentPriorityLevel,E0=Hi.unstable_ImmediatePriority,h_=Hi.unstable_UserBlockingPriority,gp=Hi.unstable_NormalPriority,aP=Hi.unstable_LowPriority,f_=Hi.unstable_IdlePriority,Zp=null,is=null;function lP(e){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(Zp,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:uP,cP=Math.log,dP=Math.LN2;function uP(e){return e>>>=0,e===0?32:31-(cP(e)/dP|0)|0}var Ef=64,Mf=4194304;function Vd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,c=r&268435455;if(c!==0){var p=c&~s;p!==0?n=Vd(p):(a&=c,a!==0&&(n=Vd(a)))}else c=r&~s,c!==0?n=Vd(c):a!==0&&(n=Vd(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pn(t),s=1<<r,n|=e[r],t&=~s;return n}function hP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-Pn(a),p=1<<c,v=s[c];v===-1?(!(p&r)||p&n)&&(s[c]=hP(p,t)):v<=t&&(e.expiredLanes|=p),a&=~p}}function ay(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function p_(){var e=Ef;return Ef<<=1,!(Ef&4194240)&&(Ef=64),e}function Kv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=r}function pP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Pn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function M0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ft=0;function g_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m_,j0,v_,x_,y_,ly=!1,jf=[],jo=null,No=null,To=null,uu=new Map,hu=new Map,ko=[],gP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v1(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":uu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(t.pointerId)}}function Td(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ru(t),t!==null&&j0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function mP(e,t,r,n,s){switch(t){case"focusin":return jo=Td(jo,e,t,r,n,s),!0;case"dragenter":return No=Td(No,e,t,r,n,s),!0;case"mouseover":return To=Td(To,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return uu.set(a,Td(uu.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,hu.set(a,Td(hu.get(a)||null,e,t,r,n,s)),!0}return!1}function b_(e){var t=_a(e.target);if(t!==null){var r=Va(t);if(r!==null){if(t=r.tag,t===13){if(t=l_(r),t!==null){e.blockedOn=t,y_(e.priority,function(){v_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);iy=n,r.target.dispatchEvent(n),iy=null}else return t=Ru(r),t!==null&&j0(t),e.blockedOn=r,!1;t.shift()}return!0}function x1(e,t,r){Jf(e)&&r.delete(t)}function vP(){ly=!1,jo!==null&&Jf(jo)&&(jo=null),No!==null&&Jf(No)&&(No=null),To!==null&&Jf(To)&&(To=null),uu.forEach(x1),hu.forEach(x1)}function Ad(e,t){e.blockedOn===t&&(e.blockedOn=null,ly||(ly=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,vP)))}function fu(e){function t(s){return Ad(s,e)}if(0<jf.length){Ad(jf[0],e);for(var r=1;r<jf.length;r++){var n=jf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(jo!==null&&Ad(jo,e),No!==null&&Ad(No,e),To!==null&&Ad(To,e),uu.forEach(t),hu.forEach(t),r=0;r<ko.length;r++)n=ko[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ko.length&&(r=ko[0],r.blockedOn===null);)b_(r),r.blockedOn===null&&ko.shift()}var ac=Bs.ReactCurrentBatchConfig,vp=!0;function xP(e,t,r,n){var s=Ft,a=ac.transition;ac.transition=null;try{Ft=1,N0(e,t,r,n)}finally{Ft=s,ac.transition=a}}function yP(e,t,r,n){var s=Ft,a=ac.transition;ac.transition=null;try{Ft=4,N0(e,t,r,n)}finally{Ft=s,ac.transition=a}}function N0(e,t,r,n){if(vp){var s=cy(e,t,r,n);if(s===null)ox(e,t,n,xp,r),v1(e,n);else if(mP(s,e,t,r,n))n.stopPropagation();else if(v1(e,n),t&4&&-1<gP.indexOf(e)){for(;s!==null;){var a=Ru(s);if(a!==null&&m_(a),a=cy(e,t,r,n),a===null&&ox(e,t,n,xp,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else ox(e,t,n,null,r)}}var xp=null;function cy(e,t,r,n){if(xp=null,e=C0(n),e=_a(e),e!==null)if(t=Va(e),t===null)e=null;else if(r=t.tag,r===13){if(e=l_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xp=e,null}function w_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oP()){case E0:return 1;case h_:return 4;case gp:case aP:return 16;case f_:return 536870912;default:return 16}default:return 16}}var Co=null,T0=null,ep=null;function k_(){if(ep)return ep;var e,t=T0,r=t.length,n,s="value"in Co?Co.value:Co.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var c=r-e;for(n=1;n<=c&&t[r-n]===s[a-n];n++);return ep=s.slice(e,1<n?1-n:void 0)}function tp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nf(){return!0}function y1(){return!1}function Vi(e){function t(r,n,s,a,c){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(r=e[p],this[p]=r?r(a):a[p]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Nf:y1,this.isPropagationStopped=y1,this}return dr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nf)},persist:function(){},isPersistent:Nf}),t}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A0=Vi(jc),Ou=dr({},jc,{view:0,detail:0}),bP=Vi(Ou),Zv,Qv,Pd,Qp=dr({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pd&&(Pd&&e.type==="mousemove"?(Zv=e.screenX-Pd.screenX,Qv=e.screenY-Pd.screenY):Qv=Zv=0,Pd=e),Zv)},movementY:function(e){return"movementY"in e?e.movementY:Qv}}),b1=Vi(Qp),wP=dr({},Qp,{dataTransfer:0}),kP=Vi(wP),SP=dr({},Ou,{relatedTarget:0}),Jv=Vi(SP),_P=dr({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),CP=Vi(_P),EP=dr({},jc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MP=Vi(EP),jP=dr({},jc,{data:0}),w1=Vi(jP),NP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AP[e])?!!t[e]:!1}function P0(){return PP}var OP=dr({},Ou,{key:function(e){if(e.key){var t=NP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P0,charCode:function(e){return e.type==="keypress"?tp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RP=Vi(OP),LP=dr({},Qp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k1=Vi(LP),IP=dr({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P0}),DP=Vi(IP),BP=dr({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),$P=Vi(BP),zP=dr({},Qp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),FP=Vi(zP),WP=[9,13,27,32],O0=Ts&&"CompositionEvent"in window,Qd=null;Ts&&"documentMode"in document&&(Qd=document.documentMode);var UP=Ts&&"TextEvent"in window&&!Qd,S_=Ts&&(!O0||Qd&&8<Qd&&11>=Qd),S1=" ",_1=!1;function __(e,t){switch(e){case"keyup":return WP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gl=!1;function HP(e,t){switch(e){case"compositionend":return C_(t);case"keypress":return t.which!==32?null:(_1=!0,S1);case"textInput":return e=t.data,e===S1&&_1?null:e;default:return null}}function GP(e,t){if(Gl)return e==="compositionend"||!O0&&__(e,t)?(e=k_(),ep=T0=Co=null,Gl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S_&&t.locale!=="ko"?null:t.data;default:return null}}var VP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VP[e.type]:t==="textarea"}function E_(e,t,r,n){i_(n),t=yp(t,"onChange"),0<t.length&&(r=new A0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Jd=null,pu=null;function XP(e){D_(e,0)}function Jp(e){var t=Yl(e);if(KS(t))return e}function YP(e,t){if(e==="change")return t}var M_=!1;if(Ts){var ex;if(Ts){var tx="oninput"in document;if(!tx){var E1=document.createElement("div");E1.setAttribute("oninput","return;"),tx=typeof E1.oninput=="function"}ex=tx}else ex=!1;M_=ex&&(!document.documentMode||9<document.documentMode)}function M1(){Jd&&(Jd.detachEvent("onpropertychange",j_),pu=Jd=null)}function j_(e){if(e.propertyName==="value"&&Jp(pu)){var t=[];E_(t,pu,e,C0(e)),a_(XP,t)}}function qP(e,t,r){e==="focusin"?(M1(),Jd=t,pu=r,Jd.attachEvent("onpropertychange",j_)):e==="focusout"&&M1()}function KP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jp(pu)}function ZP(e,t){if(e==="click")return Jp(t)}function QP(e,t){if(e==="input"||e==="change")return Jp(t)}function JP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:JP;function gu(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Gx.call(t,s)||!Rn(e[s],t[s]))return!1}return!0}function j1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function N1(e,t){var r=j1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=j1(r)}}function N_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?N_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function T_(){for(var e=window,t=hp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hp(e.document)}return t}function R0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eO(e){var t=T_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&N_(r.ownerDocument.documentElement,r)){if(n!==null&&R0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=N1(r,a);var c=N1(r,n);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tO=Ts&&"documentMode"in document&&11>=document.documentMode,Vl=null,dy=null,eu=null,uy=!1;function T1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uy||Vl==null||Vl!==hp(n)||(n=Vl,"selectionStart"in n&&R0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),eu&&gu(eu,n)||(eu=n,n=yp(dy,"onSelect"),0<n.length&&(t=new A0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vl)))}function Tf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xl={animationend:Tf("Animation","AnimationEnd"),animationiteration:Tf("Animation","AnimationIteration"),animationstart:Tf("Animation","AnimationStart"),transitionend:Tf("Transition","TransitionEnd")},rx={},A_={};Ts&&(A_=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function eg(e){if(rx[e])return rx[e];if(!Xl[e])return e;var t=Xl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in A_)return rx[e]=t[r];return e}var P_=eg("animationend"),O_=eg("animationiteration"),R_=eg("animationstart"),L_=eg("transitionend"),I_=new Map,A1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wo(e,t){I_.set(e,t),Ga(t,[e])}for(var ix=0;ix<A1.length;ix++){var nx=A1[ix],rO=nx.toLowerCase(),iO=nx[0].toUpperCase()+nx.slice(1);Wo(rO,"on"+iO)}Wo(P_,"onAnimationEnd");Wo(O_,"onAnimationIteration");Wo(R_,"onAnimationStart");Wo("dblclick","onDoubleClick");Wo("focusin","onFocus");Wo("focusout","onBlur");Wo(L_,"onTransitionEnd");fc("onMouseEnter",["mouseout","mouseover"]);fc("onMouseLeave",["mouseout","mouseover"]);fc("onPointerEnter",["pointerout","pointerover"]);fc("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xd));function P1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,rP(n,t,void 0,e),e.currentTarget=null}function D_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var c=n.length-1;0<=c;c--){var p=n[c],v=p.instance,b=p.currentTarget;if(p=p.listener,v!==a&&s.isPropagationStopped())break e;P1(s,p,b),a=v}else for(c=0;c<n.length;c++){if(p=n[c],v=p.instance,b=p.currentTarget,p=p.listener,v!==a&&s.isPropagationStopped())break e;P1(s,p,b),a=v}}}if(pp)throw e=oy,pp=!1,oy=null,e}function Zt(e,t){var r=t[my];r===void 0&&(r=t[my]=new Set);var n=e+"__bubble";r.has(n)||(B_(t,e,2,!1),r.add(n))}function sx(e,t,r){var n=0;t&&(n|=4),B_(r,e,n,t)}var Af="_reactListening"+Math.random().toString(36).slice(2);function mu(e){if(!e[Af]){e[Af]=!0,GS.forEach(function(r){r!=="selectionchange"&&(nO.has(r)||sx(r,!1,e),sx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Af]||(t[Af]=!0,sx("selectionchange",!1,t))}}function B_(e,t,r,n){switch(w_(t)){case 1:var s=xP;break;case 4:s=yP;break;default:s=N0}r=s.bind(null,t,r,e),s=void 0,!sy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ox(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var p=n.stateNode.containerInfo;if(p===s||p.nodeType===8&&p.parentNode===s)break;if(c===4)for(c=n.return;c!==null;){var v=c.tag;if((v===3||v===4)&&(v=c.stateNode.containerInfo,v===s||v.nodeType===8&&v.parentNode===s))return;c=c.return}for(;p!==null;){if(c=_a(p),c===null)return;if(v=c.tag,v===5||v===6){n=a=c;continue e}p=p.parentNode}}n=n.return}a_(function(){var b=a,S=C0(r),E=[];e:{var A=I_.get(e);if(A!==void 0){var z=A0,U=e;switch(e){case"keypress":if(tp(r)===0)break e;case"keydown":case"keyup":z=RP;break;case"focusin":U="focus",z=Jv;break;case"focusout":U="blur",z=Jv;break;case"beforeblur":case"afterblur":z=Jv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=b1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=kP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=DP;break;case P_:case O_:case R_:z=CP;break;case L_:z=$P;break;case"scroll":z=bP;break;case"wheel":z=FP;break;case"copy":case"cut":case"paste":z=MP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=k1}var D=(t&4)!==0,R=!D&&e==="scroll",I=D?A!==null?A+"Capture":null:A;D=[];for(var T=b,O;T!==null;){O=T;var q=O.stateNode;if(O.tag===5&&q!==null&&(O=q,I!==null&&(q=du(T,I),q!=null&&D.push(vu(T,q,O)))),R)break;T=T.return}0<D.length&&(A=new z(A,U,null,r,S),E.push({event:A,listeners:D}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",A&&r!==iy&&(U=r.relatedTarget||r.fromElement)&&(_a(U)||U[As]))break e;if((z||A)&&(A=S.window===S?S:(A=S.ownerDocument)?A.defaultView||A.parentWindow:window,z?(U=r.relatedTarget||r.toElement,z=b,U=U?_a(U):null,U!==null&&(R=Va(U),U!==R||U.tag!==5&&U.tag!==6)&&(U=null)):(z=null,U=b),z!==U)){if(D=b1,q="onMouseLeave",I="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(D=k1,q="onPointerLeave",I="onPointerEnter",T="pointer"),R=z==null?A:Yl(z),O=U==null?A:Yl(U),A=new D(q,T+"leave",z,r,S),A.target=R,A.relatedTarget=O,q=null,_a(S)===b&&(D=new D(I,T+"enter",U,r,S),D.target=O,D.relatedTarget=R,q=D),R=q,z&&U)t:{for(D=z,I=U,T=0,O=D;O;O=Nl(O))T++;for(O=0,q=I;q;q=Nl(q))O++;for(;0<T-O;)D=Nl(D),T--;for(;0<O-T;)I=Nl(I),O--;for(;T--;){if(D===I||I!==null&&D===I.alternate)break t;D=Nl(D),I=Nl(I)}D=null}else D=null;z!==null&&O1(E,A,z,D,!1),U!==null&&R!==null&&O1(E,R,U,D,!0)}}e:{if(A=b?Yl(b):window,z=A.nodeName&&A.nodeName.toLowerCase(),z==="select"||z==="input"&&A.type==="file")var ae=YP;else if(C1(A))if(M_)ae=QP;else{ae=KP;var re=qP}else(z=A.nodeName)&&z.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(ae=ZP);if(ae&&(ae=ae(e,b))){E_(E,ae,r,S);break e}re&&re(e,A,b),e==="focusout"&&(re=A._wrapperState)&&re.controlled&&A.type==="number"&&Qx(A,"number",A.value)}switch(re=b?Yl(b):window,e){case"focusin":(C1(re)||re.contentEditable==="true")&&(Vl=re,dy=b,eu=null);break;case"focusout":eu=dy=Vl=null;break;case"mousedown":uy=!0;break;case"contextmenu":case"mouseup":case"dragend":uy=!1,T1(E,r,S);break;case"selectionchange":if(tO)break;case"keydown":case"keyup":T1(E,r,S)}var ce;if(O0)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Gl?__(e,r)&&(J="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(J="onCompositionStart");J&&(S_&&r.locale!=="ko"&&(Gl||J!=="onCompositionStart"?J==="onCompositionEnd"&&Gl&&(ce=k_()):(Co=S,T0="value"in Co?Co.value:Co.textContent,Gl=!0)),re=yp(b,J),0<re.length&&(J=new w1(J,e,null,r,S),E.push({event:J,listeners:re}),ce?J.data=ce:(ce=C_(r),ce!==null&&(J.data=ce)))),(ce=UP?HP(e,r):GP(e,r))&&(b=yp(b,"onBeforeInput"),0<b.length&&(S=new w1("onBeforeInput","beforeinput",null,r,S),E.push({event:S,listeners:b}),S.data=ce))}D_(E,t)})}function vu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yp(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=du(e,r),a!=null&&n.unshift(vu(e,a,s)),a=du(e,t),a!=null&&n.push(vu(e,a,s))),e=e.return}return n}function Nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function O1(e,t,r,n,s){for(var a=t._reactName,c=[];r!==null&&r!==n;){var p=r,v=p.alternate,b=p.stateNode;if(v!==null&&v===n)break;p.tag===5&&b!==null&&(p=b,s?(v=du(r,a),v!=null&&c.unshift(vu(r,v,p))):s||(v=du(r,a),v!=null&&c.push(vu(r,v,p)))),r=r.return}c.length!==0&&e.push({event:t,listeners:c})}var sO=/\r\n?/g,oO=/\u0000|\uFFFD/g;function R1(e){return(typeof e=="string"?e:""+e).replace(sO,`
`).replace(oO,"")}function Pf(e,t,r){if(t=R1(t),R1(e)!==t&&r)throw Error(He(425))}function bp(){}var hy=null,fy=null;function py(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gy=typeof setTimeout=="function"?setTimeout:void 0,aO=typeof clearTimeout=="function"?clearTimeout:void 0,L1=typeof Promise=="function"?Promise:void 0,lO=typeof queueMicrotask=="function"?queueMicrotask:typeof L1<"u"?function(e){return L1.resolve(null).then(e).catch(cO)}:gy;function cO(e){setTimeout(function(){throw e})}function ax(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),fu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);fu(t)}function Ao(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function I1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Nc=Math.random().toString(36).slice(2),es="__reactFiber$"+Nc,xu="__reactProps$"+Nc,As="__reactContainer$"+Nc,my="__reactEvents$"+Nc,dO="__reactListeners$"+Nc,uO="__reactHandles$"+Nc;function _a(e){var t=e[es];if(t)return t;for(var r=e.parentNode;r;){if(t=r[As]||r[es]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=I1(e);e!==null;){if(r=e[es])return r;e=I1(e)}return t}e=r,r=e.parentNode}return null}function Ru(e){return e=e[es]||e[As],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function tg(e){return e[xu]||null}var vy=[],ql=-1;function Uo(e){return{current:e}}function Qt(e){0>ql||(e.current=vy[ql],vy[ql]=null,ql--)}function qt(e,t){ql++,vy[ql]=e.current,e.current=t}var Bo={},ai=Uo(Bo),Ni=Uo(!1),Na=Bo;function pc(e,t){var r=e.type.contextTypes;if(!r)return Bo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ti(e){return e=e.childContextTypes,e!=null}function wp(){Qt(Ni),Qt(ai)}function D1(e,t,r){if(ai.current!==Bo)throw Error(He(168));qt(ai,t),qt(Ni,r)}function $_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(He(108,qA(e)||"Unknown",s));return dr({},r,n)}function kp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bo,Na=ai.current,qt(ai,e),qt(Ni,Ni.current),!0}function B1(e,t,r){var n=e.stateNode;if(!n)throw Error(He(169));r?(e=$_(e,t,Na),n.__reactInternalMemoizedMergedChildContext=e,Qt(Ni),Qt(ai),qt(ai,e)):Qt(Ni),qt(Ni,r)}var _s=null,rg=!1,lx=!1;function z_(e){_s===null?_s=[e]:_s.push(e)}function hO(e){rg=!0,z_(e)}function Ho(){if(!lx&&_s!==null){lx=!0;var e=0,t=Ft;try{var r=_s;for(Ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_s=null,rg=!1}catch(s){throw _s!==null&&(_s=_s.slice(e+1)),u_(E0,Ho),s}finally{Ft=t,lx=!1}}return null}var Kl=[],Zl=0,Sp=null,_p=0,cn=[],dn=0,Ta=null,Es=1,Ms="";function xa(e,t){Kl[Zl++]=_p,Kl[Zl++]=Sp,Sp=e,_p=t}function F_(e,t,r){cn[dn++]=Es,cn[dn++]=Ms,cn[dn++]=Ta,Ta=e;var n=Es;e=Ms;var s=32-Pn(n)-1;n&=~(1<<s),r+=1;var a=32-Pn(t)+s;if(30<a){var c=s-s%5;a=(n&(1<<c)-1).toString(32),n>>=c,s-=c,Es=1<<32-Pn(t)+s|r<<s|n,Ms=a+e}else Es=1<<a|r<<s|n,Ms=e}function L0(e){e.return!==null&&(xa(e,1),F_(e,1,0))}function I0(e){for(;e===Sp;)Sp=Kl[--Zl],Kl[Zl]=null,_p=Kl[--Zl],Kl[Zl]=null;for(;e===Ta;)Ta=cn[--dn],cn[dn]=null,Ms=cn[--dn],cn[dn]=null,Es=cn[--dn],cn[dn]=null}var Wi=null,Fi=null,rr=!1,An=null;function W_(e,t){var r=un(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wi=e,Fi=Ao(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wi=e,Fi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ta!==null?{id:Es,overflow:Ms}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=un(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wi=e,Fi=null,!0):!1;default:return!1}}function xy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yy(e){if(rr){var t=Fi;if(t){var r=t;if(!$1(e,t)){if(xy(e))throw Error(He(418));t=Ao(r.nextSibling);var n=Wi;t&&$1(e,t)?W_(n,r):(e.flags=e.flags&-4097|2,rr=!1,Wi=e)}}else{if(xy(e))throw Error(He(418));e.flags=e.flags&-4097|2,rr=!1,Wi=e}}}function z1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wi=e}function Of(e){if(e!==Wi)return!1;if(!rr)return z1(e),rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!py(e.type,e.memoizedProps)),t&&(t=Fi)){if(xy(e))throw U_(),Error(He(418));for(;t;)W_(e,t),t=Ao(t.nextSibling)}if(z1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fi=Ao(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fi=null}}else Fi=Wi?Ao(e.stateNode.nextSibling):null;return!0}function U_(){for(var e=Fi;e;)e=Ao(e.nextSibling)}function gc(){Fi=Wi=null,rr=!1}function D0(e){An===null?An=[e]:An.push(e)}var fO=Bs.ReactCurrentBatchConfig;function Od(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(He(309));var n=r.stateNode}if(!n)throw Error(He(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var p=s.refs;c===null?delete p[a]:p[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(He(284));if(!r._owner)throw Error(He(290,e))}return e}function Rf(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function F1(e){var t=e._init;return t(e._payload)}function H_(e){function t(I,T){if(e){var O=I.deletions;O===null?(I.deletions=[T],I.flags|=16):O.push(T)}}function r(I,T){if(!e)return null;for(;T!==null;)t(I,T),T=T.sibling;return null}function n(I,T){for(I=new Map;T!==null;)T.key!==null?I.set(T.key,T):I.set(T.index,T),T=T.sibling;return I}function s(I,T){return I=Lo(I,T),I.index=0,I.sibling=null,I}function a(I,T,O){return I.index=O,e?(O=I.alternate,O!==null?(O=O.index,O<T?(I.flags|=2,T):O):(I.flags|=2,T)):(I.flags|=1048576,T)}function c(I){return e&&I.alternate===null&&(I.flags|=2),I}function p(I,T,O,q){return T===null||T.tag!==6?(T=gx(O,I.mode,q),T.return=I,T):(T=s(T,O),T.return=I,T)}function v(I,T,O,q){var ae=O.type;return ae===Hl?S(I,T,O.props.children,q,O.key):T!==null&&(T.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===bo&&F1(ae)===T.type)?(q=s(T,O.props),q.ref=Od(I,T,O),q.return=I,q):(q=lp(O.type,O.key,O.props,null,I.mode,q),q.ref=Od(I,T,O),q.return=I,q)}function b(I,T,O,q){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=mx(O,I.mode,q),T.return=I,T):(T=s(T,O.children||[]),T.return=I,T)}function S(I,T,O,q,ae){return T===null||T.tag!==7?(T=ja(O,I.mode,q,ae),T.return=I,T):(T=s(T,O),T.return=I,T)}function E(I,T,O){if(typeof T=="string"&&T!==""||typeof T=="number")return T=gx(""+T,I.mode,O),T.return=I,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Sf:return O=lp(T.type,T.key,T.props,null,I.mode,O),O.ref=Od(I,null,T),O.return=I,O;case Ul:return T=mx(T,I.mode,O),T.return=I,T;case bo:var q=T._init;return E(I,q(T._payload),O)}if(Gd(T)||jd(T))return T=ja(T,I.mode,O,null),T.return=I,T;Rf(I,T)}return null}function A(I,T,O,q){var ae=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ae!==null?null:p(I,T,""+O,q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Sf:return O.key===ae?v(I,T,O,q):null;case Ul:return O.key===ae?b(I,T,O,q):null;case bo:return ae=O._init,A(I,T,ae(O._payload),q)}if(Gd(O)||jd(O))return ae!==null?null:S(I,T,O,q,null);Rf(I,O)}return null}function z(I,T,O,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number")return I=I.get(O)||null,p(T,I,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Sf:return I=I.get(q.key===null?O:q.key)||null,v(T,I,q,ae);case Ul:return I=I.get(q.key===null?O:q.key)||null,b(T,I,q,ae);case bo:var re=q._init;return z(I,T,O,re(q._payload),ae)}if(Gd(q)||jd(q))return I=I.get(O)||null,S(T,I,q,ae,null);Rf(T,q)}return null}function U(I,T,O,q){for(var ae=null,re=null,ce=T,J=T=0,we=null;ce!==null&&J<O.length;J++){ce.index>J?(we=ce,ce=null):we=ce.sibling;var Se=A(I,ce,O[J],q);if(Se===null){ce===null&&(ce=we);break}e&&ce&&Se.alternate===null&&t(I,ce),T=a(Se,T,J),re===null?ae=Se:re.sibling=Se,re=Se,ce=we}if(J===O.length)return r(I,ce),rr&&xa(I,J),ae;if(ce===null){for(;J<O.length;J++)ce=E(I,O[J],q),ce!==null&&(T=a(ce,T,J),re===null?ae=ce:re.sibling=ce,re=ce);return rr&&xa(I,J),ae}for(ce=n(I,ce);J<O.length;J++)we=z(ce,I,J,O[J],q),we!==null&&(e&&we.alternate!==null&&ce.delete(we.key===null?J:we.key),T=a(we,T,J),re===null?ae=we:re.sibling=we,re=we);return e&&ce.forEach(function(be){return t(I,be)}),rr&&xa(I,J),ae}function D(I,T,O,q){var ae=jd(O);if(typeof ae!="function")throw Error(He(150));if(O=ae.call(O),O==null)throw Error(He(151));for(var re=ae=null,ce=T,J=T=0,we=null,Se=O.next();ce!==null&&!Se.done;J++,Se=O.next()){ce.index>J?(we=ce,ce=null):we=ce.sibling;var be=A(I,ce,Se.value,q);if(be===null){ce===null&&(ce=we);break}e&&ce&&be.alternate===null&&t(I,ce),T=a(be,T,J),re===null?ae=be:re.sibling=be,re=be,ce=we}if(Se.done)return r(I,ce),rr&&xa(I,J),ae;if(ce===null){for(;!Se.done;J++,Se=O.next())Se=E(I,Se.value,q),Se!==null&&(T=a(Se,T,J),re===null?ae=Se:re.sibling=Se,re=Se);return rr&&xa(I,J),ae}for(ce=n(I,ce);!Se.done;J++,Se=O.next())Se=z(ce,I,J,Se.value,q),Se!==null&&(e&&Se.alternate!==null&&ce.delete(Se.key===null?J:Se.key),T=a(Se,T,J),re===null?ae=Se:re.sibling=Se,re=Se);return e&&ce.forEach(function(ve){return t(I,ve)}),rr&&xa(I,J),ae}function R(I,T,O,q){if(typeof O=="object"&&O!==null&&O.type===Hl&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Sf:e:{for(var ae=O.key,re=T;re!==null;){if(re.key===ae){if(ae=O.type,ae===Hl){if(re.tag===7){r(I,re.sibling),T=s(re,O.props.children),T.return=I,I=T;break e}}else if(re.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===bo&&F1(ae)===re.type){r(I,re.sibling),T=s(re,O.props),T.ref=Od(I,re,O),T.return=I,I=T;break e}r(I,re);break}else t(I,re);re=re.sibling}O.type===Hl?(T=ja(O.props.children,I.mode,q,O.key),T.return=I,I=T):(q=lp(O.type,O.key,O.props,null,I.mode,q),q.ref=Od(I,T,O),q.return=I,I=q)}return c(I);case Ul:e:{for(re=O.key;T!==null;){if(T.key===re)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){r(I,T.sibling),T=s(T,O.children||[]),T.return=I,I=T;break e}else{r(I,T);break}else t(I,T);T=T.sibling}T=mx(O,I.mode,q),T.return=I,I=T}return c(I);case bo:return re=O._init,R(I,T,re(O._payload),q)}if(Gd(O))return U(I,T,O,q);if(jd(O))return D(I,T,O,q);Rf(I,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,T!==null&&T.tag===6?(r(I,T.sibling),T=s(T,O),T.return=I,I=T):(r(I,T),T=gx(O,I.mode,q),T.return=I,I=T),c(I)):r(I,T)}return R}var mc=H_(!0),G_=H_(!1),Cp=Uo(null),Ep=null,Ql=null,B0=null;function $0(){B0=Ql=Ep=null}function z0(e){var t=Cp.current;Qt(Cp),e._currentValue=t}function by(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function lc(e,t){Ep=e,B0=Ql=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ji=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(B0!==e)if(e={context:e,memoizedValue:t,next:null},Ql===null){if(Ep===null)throw Error(He(308));Ql=e,Ep.dependencies={lanes:0,firstContext:e}}else Ql=Ql.next=e;return t}var Ca=null;function F0(e){Ca===null?Ca=[e]:Ca.push(e)}function V_(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,F0(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ps(e,n)}function Ps(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wo=!1;function W0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Rt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ps(e,r)}return s=n.interleaved,s===null?(t.next=t,F0(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ps(e,r)}function rp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,M0(e,r)}}function W1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=c:a=a.next=c,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mp(e,t,r,n){var s=e.updateQueue;wo=!1;var a=s.firstBaseUpdate,c=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var v=p,b=v.next;v.next=null,c===null?a=b:c.next=b,c=v;var S=e.alternate;S!==null&&(S=S.updateQueue,p=S.lastBaseUpdate,p!==c&&(p===null?S.firstBaseUpdate=b:p.next=b,S.lastBaseUpdate=v))}if(a!==null){var E=s.baseState;c=0,S=b=v=null,p=a;do{var A=p.lane,z=p.eventTime;if((n&A)===A){S!==null&&(S=S.next={eventTime:z,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var U=e,D=p;switch(A=t,z=r,D.tag){case 1:if(U=D.payload,typeof U=="function"){E=U.call(z,E,A);break e}E=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=D.payload,A=typeof U=="function"?U.call(z,E,A):U,A==null)break e;E=dr({},E,A);break e;case 2:wo=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,A=s.effects,A===null?s.effects=[p]:A.push(p))}else z={eventTime:z,lane:A,tag:p.tag,payload:p.payload,callback:p.callback,next:null},S===null?(b=S=z,v=E):S=S.next=z,c|=A;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;A=p,p=A.next,A.next=null,s.lastBaseUpdate=A,s.shared.pending=null}}while(!0);if(S===null&&(v=E),s.baseState=v,s.firstBaseUpdate=b,s.lastBaseUpdate=S,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Pa|=c,e.lanes=c,e.memoizedState=E}}function U1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(He(191,s));s.call(n)}}}var Lu={},ns=Uo(Lu),yu=Uo(Lu),bu=Uo(Lu);function Ea(e){if(e===Lu)throw Error(He(174));return e}function U0(e,t){switch(qt(bu,t),qt(yu,e),qt(ns,Lu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ey(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ey(t,e)}Qt(ns),qt(ns,t)}function vc(){Qt(ns),Qt(yu),Qt(bu)}function Y_(e){Ea(bu.current);var t=Ea(ns.current),r=ey(t,e.type);t!==r&&(qt(yu,e),qt(ns,r))}function H0(e){yu.current===e&&(Qt(ns),Qt(yu))}var ar=Uo(0);function jp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cx=[];function G0(){for(var e=0;e<cx.length;e++)cx[e]._workInProgressVersionPrimary=null;cx.length=0}var ip=Bs.ReactCurrentDispatcher,dx=Bs.ReactCurrentBatchConfig,Aa=0,lr=null,Or=null,zr=null,Np=!1,tu=!1,wu=0,pO=0;function ti(){throw Error(He(321))}function V0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rn(e[r],t[r]))return!1;return!0}function X0(e,t,r,n,s,a){if(Aa=a,lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ip.current=e===null||e.memoizedState===null?xO:yO,e=r(n,s),tu){a=0;do{if(tu=!1,wu=0,25<=a)throw Error(He(301));a+=1,zr=Or=null,t.updateQueue=null,ip.current=bO,e=r(n,s)}while(tu)}if(ip.current=Tp,t=Or!==null&&Or.next!==null,Aa=0,zr=Or=lr=null,Np=!1,t)throw Error(He(300));return e}function Y0(){var e=wu!==0;return wu=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?lr.memoizedState=zr=e:zr=zr.next=e,zr}function gn(){if(Or===null){var e=lr.alternate;e=e!==null?e.memoizedState:null}else e=Or.next;var t=zr===null?lr.memoizedState:zr.next;if(t!==null)zr=t,Or=e;else{if(e===null)throw Error(He(310));Or=e,e={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},zr===null?lr.memoizedState=zr=e:zr=zr.next=e}return zr}function ku(e,t){return typeof t=="function"?t(e):t}function ux(e){var t=gn(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=Or,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var c=s.next;s.next=a.next,a.next=c}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var p=c=null,v=null,b=a;do{var S=b.lane;if((Aa&S)===S)v!==null&&(v=v.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),n=b.hasEagerState?b.eagerState:e(n,b.action);else{var E={lane:S,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};v===null?(p=v=E,c=n):v=v.next=E,lr.lanes|=S,Pa|=S}b=b.next}while(b!==null&&b!==a);v===null?c=n:v.next=p,Rn(n,t.memoizedState)||(ji=!0),t.memoizedState=n,t.baseState=c,t.baseQueue=v,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,lr.lanes|=a,Pa|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function hx(e){var t=gn(),r=t.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var c=s=s.next;do a=e(a,c.action),c=c.next;while(c!==s);Rn(a,t.memoizedState)||(ji=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function q_(){}function K_(e,t){var r=lr,n=gn(),s=t(),a=!Rn(n.memoizedState,s);if(a&&(n.memoizedState=s,ji=!0),n=n.queue,q0(J_.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||zr!==null&&zr.memoizedState.tag&1){if(r.flags|=2048,Su(9,Q_.bind(null,r,n,s,t),void 0,null),Fr===null)throw Error(He(349));Aa&30||Z_(r,t,s)}return s}function Z_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Q_(e,t,r,n){t.value=r,t.getSnapshot=n,eC(t)&&tC(e)}function J_(e,t,r){return r(function(){eC(t)&&tC(e)})}function eC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rn(e,r)}catch{return!0}}function tC(e){var t=Ps(e,1);t!==null&&On(t,e,1,-1)}function H1(e){var t=Zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:e},t.queue=e,e=e.dispatch=vO.bind(null,lr,e),[t.memoizedState,e]}function Su(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rC(){return gn().memoizedState}function np(e,t,r,n){var s=Zn();lr.flags|=e,s.memoizedState=Su(1|t,r,void 0,n===void 0?null:n)}function ig(e,t,r,n){var s=gn();n=n===void 0?null:n;var a=void 0;if(Or!==null){var c=Or.memoizedState;if(a=c.destroy,n!==null&&V0(n,c.deps)){s.memoizedState=Su(t,r,a,n);return}}lr.flags|=e,s.memoizedState=Su(1|t,r,a,n)}function G1(e,t){return np(8390656,8,e,t)}function q0(e,t){return ig(2048,8,e,t)}function iC(e,t){return ig(4,2,e,t)}function nC(e,t){return ig(4,4,e,t)}function sC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oC(e,t,r){return r=r!=null?r.concat([e]):null,ig(4,4,sC.bind(null,t,e),r)}function K0(){}function aC(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&V0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function lC(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&V0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function cC(e,t,r){return Aa&21?(Rn(r,t)||(r=p_(),lr.lanes|=r,Pa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ji=!0),e.memoizedState=r)}function gO(e,t){var r=Ft;Ft=r!==0&&4>r?r:4,e(!0);var n=dx.transition;dx.transition={};try{e(!1),t()}finally{Ft=r,dx.transition=n}}function dC(){return gn().memoizedState}function mO(e,t,r){var n=Ro(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uC(e))hC(t,r);else if(r=V_(e,t,r,n),r!==null){var s=gi();On(r,e,n,s),fC(r,t,n)}}function vO(e,t,r){var n=Ro(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uC(e))hC(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,p=a(c,r);if(s.hasEagerState=!0,s.eagerState=p,Rn(p,c)){var v=t.interleaved;v===null?(s.next=s,F0(t)):(s.next=v.next,v.next=s),t.interleaved=s;return}}catch{}finally{}r=V_(e,t,s,n),r!==null&&(s=gi(),On(r,e,n,s),fC(r,t,n))}}function uC(e){var t=e.alternate;return e===lr||t!==null&&t===lr}function hC(e,t){tu=Np=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,M0(e,r)}}var Tp={readContext:pn,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},xO={readContext:pn,useCallback:function(e,t){return Zn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:G1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,np(4194308,4,sC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return np(4194308,4,e,t)},useInsertionEffect:function(e,t){return np(4,2,e,t)},useMemo:function(e,t){var r=Zn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=mO.bind(null,lr,e),[n.memoizedState,e]},useRef:function(e){var t=Zn();return e={current:e},t.memoizedState=e},useState:H1,useDebugValue:K0,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=H1(!1),t=e[0];return e=gO.bind(null,e[1]),Zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=lr,s=Zn();if(rr){if(r===void 0)throw Error(He(407));r=r()}else{if(r=t(),Fr===null)throw Error(He(349));Aa&30||Z_(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,G1(J_.bind(null,n,a,e),[e]),n.flags|=2048,Su(9,Q_.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Zn(),t=Fr.identifierPrefix;if(rr){var r=Ms,n=Es;r=(n&~(1<<32-Pn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yO={readContext:pn,useCallback:aC,useContext:pn,useEffect:q0,useImperativeHandle:oC,useInsertionEffect:iC,useLayoutEffect:nC,useMemo:lC,useReducer:ux,useRef:rC,useState:function(){return ux(ku)},useDebugValue:K0,useDeferredValue:function(e){var t=gn();return cC(t,Or.memoizedState,e)},useTransition:function(){var e=ux(ku)[0],t=gn().memoizedState;return[e,t]},useMutableSource:q_,useSyncExternalStore:K_,useId:dC,unstable_isNewReconciler:!1},bO={readContext:pn,useCallback:aC,useContext:pn,useEffect:q0,useImperativeHandle:oC,useInsertionEffect:iC,useLayoutEffect:nC,useMemo:lC,useReducer:hx,useRef:rC,useState:function(){return hx(ku)},useDebugValue:K0,useDeferredValue:function(e){var t=gn();return Or===null?t.memoizedState=e:cC(t,Or.memoizedState,e)},useTransition:function(){var e=hx(ku)[0],t=gn().memoizedState;return[e,t]},useMutableSource:q_,useSyncExternalStore:K_,useId:dC,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=dr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wy(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:dr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ng={isMounted:function(e){return(e=e._reactInternals)?Va(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gi(),s=Ro(e),a=js(n,s);a.payload=t,r!=null&&(a.callback=r),t=Po(e,a,s),t!==null&&(On(t,e,s,n),rp(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gi(),s=Ro(e),a=js(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Po(e,a,s),t!==null&&(On(t,e,s,n),rp(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gi(),n=Ro(e),s=js(r,n);s.tag=2,t!=null&&(s.callback=t),t=Po(e,s,n),t!==null&&(On(t,e,n,r),rp(t,e,n))}};function V1(e,t,r,n,s,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,c):t.prototype&&t.prototype.isPureReactComponent?!gu(r,n)||!gu(s,a):!0}function pC(e,t,r){var n=!1,s=Bo,a=t.contextType;return typeof a=="object"&&a!==null?a=pn(a):(s=Ti(t)?Na:ai.current,n=t.contextTypes,a=(n=n!=null)?pc(e,s):Bo),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ng,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function X1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ng.enqueueReplaceState(t,t.state,null)}function ky(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},W0(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=pn(a):(a=Ti(t)?Na:ai.current,s.context=pc(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(wy(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ng.enqueueReplaceState(s,s.state,null),Mp(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xc(e,t){try{var r="",n=t;do r+=YA(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function fx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Sy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wO=typeof WeakMap=="function"?WeakMap:Map;function gC(e,t,r){r=js(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pp||(Pp=!0,Oy=n),Sy(e,t)},r}function mC(e,t,r){r=js(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Sy(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Sy(e,t),typeof n!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),r}function Y1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wO;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=LO.bind(null,e,t,r),t.then(e,e))}function q1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function K1(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=js(-1,1),t.tag=2,Po(r,t,1))),r.lanes|=1),e)}var kO=Bs.ReactCurrentOwner,ji=!1;function fi(e,t,r,n){t.child=e===null?G_(t,null,r,n):mc(t,e.child,r,n)}function Z1(e,t,r,n,s){r=r.render;var a=t.ref;return lc(t,s),n=X0(e,t,r,n,a,s),r=Y0(),e!==null&&!ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Os(e,t,s)):(rr&&r&&L0(t),t.flags|=1,fi(e,t,n,s),t.child)}function Q1(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!nb(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,vC(e,t,a,n,s)):(e=lp(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var c=a.memoizedProps;if(r=r.compare,r=r!==null?r:gu,r(c,n)&&e.ref===t.ref)return Os(e,t,s)}return t.flags|=1,e=Lo(a,n),e.ref=t.ref,e.return=t,t.child=e}function vC(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(gu(a,n)&&e.ref===t.ref)if(ji=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(ji=!0);else return t.lanes=e.lanes,Os(e,t,s)}return _y(e,t,r,n,s)}function xC(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(ec,$i),$i|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(ec,$i),$i|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,qt(ec,$i),$i|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,qt(ec,$i),$i|=n;return fi(e,t,s,r),t.child}function yC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _y(e,t,r,n,s){var a=Ti(r)?Na:ai.current;return a=pc(t,a),lc(t,s),r=X0(e,t,r,n,a,s),n=Y0(),e!==null&&!ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Os(e,t,s)):(rr&&n&&L0(t),t.flags|=1,fi(e,t,r,s),t.child)}function J1(e,t,r,n,s){if(Ti(r)){var a=!0;kp(t)}else a=!1;if(lc(t,s),t.stateNode===null)sp(e,t),pC(t,r,n),ky(t,r,n,s),n=!0;else if(e===null){var c=t.stateNode,p=t.memoizedProps;c.props=p;var v=c.context,b=r.contextType;typeof b=="object"&&b!==null?b=pn(b):(b=Ti(r)?Na:ai.current,b=pc(t,b));var S=r.getDerivedStateFromProps,E=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function";E||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==n||v!==b)&&X1(t,c,n,b),wo=!1;var A=t.memoizedState;c.state=A,Mp(t,n,c,s),v=t.memoizedState,p!==n||A!==v||Ni.current||wo?(typeof S=="function"&&(wy(t,r,S,n),v=t.memoizedState),(p=wo||V1(t,r,p,n,A,v,b))?(E||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=v),c.props=n,c.state=v,c.context=b,n=p):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,X_(e,t),p=t.memoizedProps,b=t.type===t.elementType?p:jn(t.type,p),c.props=b,E=t.pendingProps,A=c.context,v=r.contextType,typeof v=="object"&&v!==null?v=pn(v):(v=Ti(r)?Na:ai.current,v=pc(t,v));var z=r.getDerivedStateFromProps;(S=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==E||A!==v)&&X1(t,c,n,v),wo=!1,A=t.memoizedState,c.state=A,Mp(t,n,c,s);var U=t.memoizedState;p!==E||A!==U||Ni.current||wo?(typeof z=="function"&&(wy(t,r,z,n),U=t.memoizedState),(b=wo||V1(t,r,b,n,A,U,v)||!1)?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,U,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,U,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=U),c.props=n,c.state=U,c.context=v,n=b):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),n=!1)}return Cy(e,t,r,n,a,s)}function Cy(e,t,r,n,s,a){yC(e,t);var c=(t.flags&128)!==0;if(!n&&!c)return s&&B1(t,r,!1),Os(e,t,a);n=t.stateNode,kO.current=t;var p=c&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&c?(t.child=mc(t,e.child,null,a),t.child=mc(t,null,p,a)):fi(e,t,p,a),t.memoizedState=n.state,s&&B1(t,r,!0),t.child}function bC(e){var t=e.stateNode;t.pendingContext?D1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&D1(e,t.context,!1),U0(e,t.containerInfo)}function ek(e,t,r,n,s){return gc(),D0(s),t.flags|=256,fi(e,t,r,n),t.child}var Ey={dehydrated:null,treeContext:null,retryLane:0};function My(e){return{baseLanes:e,cachePool:null,transitions:null}}function wC(e,t,r){var n=t.pendingProps,s=ar.current,a=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(s&2)!==0),p?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qt(ar,s&1),e===null)return yy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=n.children,e=n.fallback,a?(n=t.mode,a=t.child,c={mode:"hidden",children:c},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=ag(c,n,0,null),e=ja(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=My(r),t.memoizedState=Ey,e):Z0(t,c));if(s=e.memoizedState,s!==null&&(p=s.dehydrated,p!==null))return SO(e,t,c,n,p,s,r);if(a){a=n.fallback,c=t.mode,s=e.child,p=s.sibling;var v={mode:"hidden",children:n.children};return!(c&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=v,t.deletions=null):(n=Lo(s,v),n.subtreeFlags=s.subtreeFlags&14680064),p!==null?a=Lo(p,a):(a=ja(a,c,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,c=e.child.memoizedState,c=c===null?My(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~r,t.memoizedState=Ey,n}return a=e.child,e=a.sibling,n=Lo(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Z0(e,t){return t=ag({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lf(e,t,r,n){return n!==null&&D0(n),mc(t,e.child,null,r),e=Z0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SO(e,t,r,n,s,a,c){if(r)return t.flags&256?(t.flags&=-257,n=fx(Error(He(422))),Lf(e,t,c,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=ag({mode:"visible",children:n.children},s,0,null),a=ja(a,s,c,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&mc(t,e.child,null,c),t.child.memoizedState=My(c),t.memoizedState=Ey,a);if(!(t.mode&1))return Lf(e,t,c,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var p=n.dgst;return n=p,a=Error(He(419)),n=fx(a,n,void 0),Lf(e,t,c,n)}if(p=(c&e.childLanes)!==0,ji||p){if(n=Fr,n!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|c)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ps(e,s),On(n,e,s,-1))}return ib(),n=fx(Error(He(421))),Lf(e,t,c,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=IO.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Fi=Ao(s.nextSibling),Wi=t,rr=!0,An=null,e!==null&&(cn[dn++]=Es,cn[dn++]=Ms,cn[dn++]=Ta,Es=e.id,Ms=e.overflow,Ta=t),t=Z0(t,n.children),t.flags|=4096,t)}function tk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),by(e.return,t,r)}function px(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function kC(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(fi(e,t,n.children,r),n=ar.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tk(e,r,t);else if(e.tag===19)tk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qt(ar,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&jp(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),px(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jp(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}px(t,!0,r,null,a);break;case"together":px(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Os(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,r=Lo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _O(e,t,r){switch(t.tag){case 3:bC(t),gc();break;case 5:Y_(t);break;case 1:Ti(t.type)&&kp(t);break;case 4:U0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;qt(Cp,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qt(ar,ar.current&1),t.flags|=128,null):r&t.child.childLanes?wC(e,t,r):(qt(ar,ar.current&1),e=Os(e,t,r),e!==null?e.sibling:null);qt(ar,ar.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kC(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qt(ar,ar.current),n)break;return null;case 22:case 23:return t.lanes=0,xC(e,t,r)}return Os(e,t,r)}var SC,jy,_C,CC;SC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jy=function(){};_C=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ea(ns.current);var a=null;switch(r){case"input":s=Kx(e,s),n=Kx(e,n),a=[];break;case"select":s=dr({},s,{value:void 0}),n=dr({},n,{value:void 0}),a=[];break;case"textarea":s=Jx(e,s),n=Jx(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bp)}ty(r,n);var c;r=null;for(b in s)if(!n.hasOwnProperty(b)&&s.hasOwnProperty(b)&&s[b]!=null)if(b==="style"){var p=s[b];for(c in p)p.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(lu.hasOwnProperty(b)?a||(a=[]):(a=a||[]).push(b,null));for(b in n){var v=n[b];if(p=s!=null?s[b]:void 0,n.hasOwnProperty(b)&&v!==p&&(v!=null||p!=null))if(b==="style")if(p){for(c in p)!p.hasOwnProperty(c)||v&&v.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in v)v.hasOwnProperty(c)&&p[c]!==v[c]&&(r||(r={}),r[c]=v[c])}else r||(a||(a=[]),a.push(b,r)),r=v;else b==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,p=p?p.__html:void 0,v!=null&&p!==v&&(a=a||[]).push(b,v)):b==="children"?typeof v!="string"&&typeof v!="number"||(a=a||[]).push(b,""+v):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(lu.hasOwnProperty(b)?(v!=null&&b==="onScroll"&&Zt("scroll",e),a||p===v||(a=[])):(a=a||[]).push(b,v))}r&&(a=a||[]).push("style",r);var b=a;(t.updateQueue=b)&&(t.flags|=4)}};CC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Rd(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ri(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function CO(e,t,r){var n=t.pendingProps;switch(I0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(t),null;case 1:return Ti(t.type)&&wp(),ri(t),null;case 3:return n=t.stateNode,vc(),Qt(Ni),Qt(ai),G0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Of(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,An!==null&&(Iy(An),An=null))),jy(e,t),ri(t),null;case 5:H0(t);var s=Ea(bu.current);if(r=t.type,e!==null&&t.stateNode!=null)_C(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(He(166));return ri(t),null}if(e=Ea(ns.current),Of(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[es]=t,n[xu]=a,e=(t.mode&1)!==0,r){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(s=0;s<Xd.length;s++)Zt(Xd[s],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":d1(n,a),Zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Zt("invalid",n);break;case"textarea":h1(n,a),Zt("invalid",n)}ty(r,a),s=null;for(var c in a)if(a.hasOwnProperty(c)){var p=a[c];c==="children"?typeof p=="string"?n.textContent!==p&&(a.suppressHydrationWarning!==!0&&Pf(n.textContent,p,e),s=["children",p]):typeof p=="number"&&n.textContent!==""+p&&(a.suppressHydrationWarning!==!0&&Pf(n.textContent,p,e),s=["children",""+p]):lu.hasOwnProperty(c)&&p!=null&&c==="onScroll"&&Zt("scroll",n)}switch(r){case"input":_f(n),u1(n,a,!0);break;case"textarea":_f(n),f1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=bp)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=JS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),r==="select"&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[es]=t,e[xu]=n,SC(e,t,!1,!1),t.stateNode=e;e:{switch(c=ry(r,n),r){case"dialog":Zt("cancel",e),Zt("close",e),s=n;break;case"iframe":case"object":case"embed":Zt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Xd.length;s++)Zt(Xd[s],e);s=n;break;case"source":Zt("error",e),s=n;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),s=n;break;case"details":Zt("toggle",e),s=n;break;case"input":d1(e,n),s=Kx(e,n),Zt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=dr({},n,{value:void 0}),Zt("invalid",e);break;case"textarea":h1(e,n),s=Jx(e,n),Zt("invalid",e);break;default:s=n}ty(r,s),p=s;for(a in p)if(p.hasOwnProperty(a)){var v=p[a];a==="style"?r_(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&e_(e,v)):a==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&cu(e,v):typeof v=="number"&&cu(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(lu.hasOwnProperty(a)?v!=null&&a==="onScroll"&&Zt("scroll",e):v!=null&&w0(e,a,v,c))}switch(r){case"input":_f(e),u1(e,n,!1);break;case"textarea":_f(e),f1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Do(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?nc(e,!!n.multiple,a,!1):n.defaultValue!=null&&nc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ri(t),null;case 6:if(e&&t.stateNode!=null)CC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(He(166));if(r=Ea(bu.current),Ea(ns.current),Of(t)){if(n=t.stateNode,r=t.memoizedProps,n[es]=t,(a=n.nodeValue!==r)&&(e=Wi,e!==null))switch(e.tag){case 3:Pf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pf(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[es]=t,t.stateNode=n}return ri(t),null;case 13:if(Qt(ar),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rr&&Fi!==null&&t.mode&1&&!(t.flags&128))U_(),gc(),t.flags|=98560,a=!1;else if(a=Of(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(He(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(He(317));a[es]=t}else gc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ri(t),a=!1}else An!==null&&(Iy(An),An=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ar.current&1?Lr===0&&(Lr=3):ib())),t.updateQueue!==null&&(t.flags|=4),ri(t),null);case 4:return vc(),jy(e,t),e===null&&mu(t.stateNode.containerInfo),ri(t),null;case 10:return z0(t.type._context),ri(t),null;case 17:return Ti(t.type)&&wp(),ri(t),null;case 19:if(Qt(ar),a=t.memoizedState,a===null)return ri(t),null;if(n=(t.flags&128)!==0,c=a.rendering,c===null)if(n)Rd(a,!1);else{if(Lr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=jp(e),c!==null){for(t.flags|=128,Rd(a,!1),n=c.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qt(ar,ar.current&1|2),t.child}e=e.sibling}a.tail!==null&&vr()>yc&&(t.flags|=128,n=!0,Rd(a,!1),t.lanes=4194304)}else{if(!n)if(e=jp(c),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!rr)return ri(t),null}else 2*vr()-a.renderingStartTime>yc&&r!==1073741824&&(t.flags|=128,n=!0,Rd(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(r=a.last,r!==null?r.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=vr(),t.sibling=null,r=ar.current,qt(ar,n?r&1|2:r&1),t):(ri(t),null);case 22:case 23:return rb(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$i&1073741824&&(ri(t),t.subtreeFlags&6&&(t.flags|=8192)):ri(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function EO(e,t){switch(I0(t),t.tag){case 1:return Ti(t.type)&&wp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vc(),Qt(Ni),Qt(ai),G0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return H0(t),null;case 13:if(Qt(ar),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));gc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qt(ar),null;case 4:return vc(),null;case 10:return z0(t.type._context),null;case 22:case 23:return rb(),null;case 24:return null;default:return null}}var If=!1,si=!1,MO=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Jl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(e,t,n)}else r.current=null}function Ny(e,t,r){try{r()}catch(n){fr(e,t,n)}}var rk=!1;function jO(e,t){if(hy=vp,e=T_(),R0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var c=0,p=-1,v=-1,b=0,S=0,E=e,A=null;t:for(;;){for(var z;E!==r||s!==0&&E.nodeType!==3||(p=c+s),E!==a||n!==0&&E.nodeType!==3||(v=c+n),E.nodeType===3&&(c+=E.nodeValue.length),(z=E.firstChild)!==null;)A=E,E=z;for(;;){if(E===e)break t;if(A===r&&++b===s&&(p=c),A===a&&++S===n&&(v=c),(z=E.nextSibling)!==null)break;E=A,A=E.parentNode}E=z}r=p===-1||v===-1?null:{start:p,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(fy={focusedElem:e,selectionRange:r},vp=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var U=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var D=U.memoizedProps,R=U.memoizedState,I=t.stateNode,T=I.getSnapshotBeforeUpdate(t.elementType===t.type?D:jn(t.type,D),R);I.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(q){fr(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return U=rk,rk=!1,U}function ru(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Ny(t,r,a)}s=s.next}while(s!==n)}}function sg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ty(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function EC(e){var t=e.alternate;t!==null&&(e.alternate=null,EC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[xu],delete t[my],delete t[dO],delete t[uO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function MC(e){return e.tag===5||e.tag===3||e.tag===4}function ik(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||MC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ay(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bp));else if(n!==4&&(e=e.child,e!==null))for(Ay(e,t,r),e=e.sibling;e!==null;)Ay(e,t,r),e=e.sibling}function Py(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Py(e,t,r),e=e.sibling;e!==null;)Py(e,t,r),e=e.sibling}var Yr=null,Nn=!1;function fo(e,t,r){for(r=r.child;r!==null;)jC(e,t,r),r=r.sibling}function jC(e,t,r){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(Zp,r)}catch{}switch(r.tag){case 5:si||Jl(r,t);case 6:var n=Yr,s=Nn;Yr=null,fo(e,t,r),Yr=n,Nn=s,Yr!==null&&(Nn?(e=Yr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yr.removeChild(r.stateNode));break;case 18:Yr!==null&&(Nn?(e=Yr,r=r.stateNode,e.nodeType===8?ax(e.parentNode,r):e.nodeType===1&&ax(e,r),fu(e)):ax(Yr,r.stateNode));break;case 4:n=Yr,s=Nn,Yr=r.stateNode.containerInfo,Nn=!0,fo(e,t,r),Yr=n,Nn=s;break;case 0:case 11:case 14:case 15:if(!si&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&Ny(r,t,c),s=s.next}while(s!==n)}fo(e,t,r);break;case 1:if(!si&&(Jl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(p){fr(r,t,p)}fo(e,t,r);break;case 21:fo(e,t,r);break;case 22:r.mode&1?(si=(n=si)||r.memoizedState!==null,fo(e,t,r),si=n):fo(e,t,r);break;default:fo(e,t,r)}}function nk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new MO),t.forEach(function(n){var s=DO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function En(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,c=t,p=c;e:for(;p!==null;){switch(p.tag){case 5:Yr=p.stateNode,Nn=!1;break e;case 3:Yr=p.stateNode.containerInfo,Nn=!0;break e;case 4:Yr=p.stateNode.containerInfo,Nn=!0;break e}p=p.return}if(Yr===null)throw Error(He(160));jC(a,c,s),Yr=null,Nn=!1;var v=s.alternate;v!==null&&(v.return=null),s.return=null}catch(b){fr(s,t,b)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)NC(t,e),t=t.sibling}function NC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),qn(e),n&4){try{ru(3,e,e.return),sg(3,e)}catch(D){fr(e,e.return,D)}try{ru(5,e,e.return)}catch(D){fr(e,e.return,D)}}break;case 1:En(t,e),qn(e),n&512&&r!==null&&Jl(r,r.return);break;case 5:if(En(t,e),qn(e),n&512&&r!==null&&Jl(r,r.return),e.flags&32){var s=e.stateNode;try{cu(s,"")}catch(D){fr(e,e.return,D)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,c=r!==null?r.memoizedProps:a,p=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{p==="input"&&a.type==="radio"&&a.name!=null&&ZS(s,a),ry(p,c);var b=ry(p,a);for(c=0;c<v.length;c+=2){var S=v[c],E=v[c+1];S==="style"?r_(s,E):S==="dangerouslySetInnerHTML"?e_(s,E):S==="children"?cu(s,E):w0(s,S,E,b)}switch(p){case"input":Zx(s,a);break;case"textarea":QS(s,a);break;case"select":var A=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var z=a.value;z!=null?nc(s,!!a.multiple,z,!1):A!==!!a.multiple&&(a.defaultValue!=null?nc(s,!!a.multiple,a.defaultValue,!0):nc(s,!!a.multiple,a.multiple?[]:"",!1))}s[xu]=a}catch(D){fr(e,e.return,D)}}break;case 6:if(En(t,e),qn(e),n&4){if(e.stateNode===null)throw Error(He(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(D){fr(e,e.return,D)}}break;case 3:if(En(t,e),qn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fu(t.containerInfo)}catch(D){fr(e,e.return,D)}break;case 4:En(t,e),qn(e);break;case 13:En(t,e),qn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(eb=vr())),n&4&&nk(e);break;case 22:if(S=r!==null&&r.memoizedState!==null,e.mode&1?(si=(b=si)||S,En(t,e),si=b):En(t,e),qn(e),n&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!S&&e.mode&1)for(nt=e,S=e.child;S!==null;){for(E=nt=S;nt!==null;){switch(A=nt,z=A.child,A.tag){case 0:case 11:case 14:case 15:ru(4,A,A.return);break;case 1:Jl(A,A.return);var U=A.stateNode;if(typeof U.componentWillUnmount=="function"){n=A,r=A.return;try{t=n,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch(D){fr(n,r,D)}}break;case 5:Jl(A,A.return);break;case 22:if(A.memoizedState!==null){ok(E);continue}}z!==null?(z.return=A,nt=z):ok(E)}S=S.sibling}e:for(S=null,E=e;;){if(E.tag===5){if(S===null){S=E;try{s=E.stateNode,b?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(p=E.stateNode,v=E.memoizedProps.style,c=v!=null&&v.hasOwnProperty("display")?v.display:null,p.style.display=t_("display",c))}catch(D){fr(e,e.return,D)}}}else if(E.tag===6){if(S===null)try{E.stateNode.nodeValue=b?"":E.memoizedProps}catch(D){fr(e,e.return,D)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;S===E&&(S=null),E=E.return}S===E&&(S=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:En(t,e),qn(e),n&4&&nk(e);break;case 21:break;default:En(t,e),qn(e)}}function qn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(MC(r)){var n=r;break e}r=r.return}throw Error(He(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(cu(s,""),n.flags&=-33);var a=ik(e);Py(e,a,s);break;case 3:case 4:var c=n.stateNode.containerInfo,p=ik(e);Ay(e,p,c);break;default:throw Error(He(161))}}catch(v){fr(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NO(e,t,r){nt=e,TC(e)}function TC(e,t,r){for(var n=(e.mode&1)!==0;nt!==null;){var s=nt,a=s.child;if(s.tag===22&&n){var c=s.memoizedState!==null||If;if(!c){var p=s.alternate,v=p!==null&&p.memoizedState!==null||si;p=If;var b=si;if(If=c,(si=v)&&!b)for(nt=s;nt!==null;)c=nt,v=c.child,c.tag===22&&c.memoizedState!==null?ak(s):v!==null?(v.return=c,nt=v):ak(s);for(;a!==null;)nt=a,TC(a),a=a.sibling;nt=s,If=p,si=b}sk(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,nt=a):sk(e)}}function sk(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:si||sg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!si)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:jn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&U1(t,a,n);break;case 3:var c=t.updateQueue;if(c!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}U1(t,c,r)}break;case 5:var p=t.stateNode;if(r===null&&t.flags&4){r=p;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var b=t.alternate;if(b!==null){var S=b.memoizedState;if(S!==null){var E=S.dehydrated;E!==null&&fu(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}si||t.flags&512&&Ty(t)}catch(A){fr(t,t.return,A)}}if(t===e){nt=null;break}if(r=t.sibling,r!==null){r.return=t.return,nt=r;break}nt=t.return}}function ok(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,nt=r;break}nt=t.return}}function ak(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{sg(4,t)}catch(v){fr(t,r,v)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(v){fr(t,s,v)}}var a=t.return;try{Ty(t)}catch(v){fr(t,a,v)}break;case 5:var c=t.return;try{Ty(t)}catch(v){fr(t,c,v)}}}catch(v){fr(t,t.return,v)}if(t===e){nt=null;break}var p=t.sibling;if(p!==null){p.return=t.return,nt=p;break}nt=t.return}}var TO=Math.ceil,Ap=Bs.ReactCurrentDispatcher,Q0=Bs.ReactCurrentOwner,hn=Bs.ReactCurrentBatchConfig,Rt=0,Fr=null,Er=null,Qr=0,$i=0,ec=Uo(0),Lr=0,_u=null,Pa=0,og=0,J0=0,iu=null,Ei=null,eb=0,yc=1/0,ks=null,Pp=!1,Oy=null,Oo=null,Df=!1,Eo=null,Op=0,nu=0,Ry=null,op=-1,ap=0;function gi(){return Rt&6?vr():op!==-1?op:op=vr()}function Ro(e){return e.mode&1?Rt&2&&Qr!==0?Qr&-Qr:fO.transition!==null?(ap===0&&(ap=p_()),ap):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:w_(e.type)),e):1}function On(e,t,r,n){if(50<nu)throw nu=0,Ry=null,Error(He(185));Pu(e,r,n),(!(Rt&2)||e!==Fr)&&(e===Fr&&(!(Rt&2)&&(og|=r),Lr===4&&So(e,Qr)),Ai(e,n),r===1&&Rt===0&&!(t.mode&1)&&(yc=vr()+500,rg&&Ho()))}function Ai(e,t){var r=e.callbackNode;fP(e,t);var n=mp(e,e===Fr?Qr:0);if(n===0)r!==null&&m1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&m1(r),t===1)e.tag===0?hO(lk.bind(null,e)):z_(lk.bind(null,e)),lO(function(){!(Rt&6)&&Ho()}),r=null;else{switch(g_(n)){case 1:r=E0;break;case 4:r=h_;break;case 16:r=gp;break;case 536870912:r=f_;break;default:r=gp}r=BC(r,AC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function AC(e,t){if(op=-1,ap=0,Rt&6)throw Error(He(327));var r=e.callbackNode;if(cc()&&e.callbackNode!==r)return null;var n=mp(e,e===Fr?Qr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Rp(e,n);else{t=n;var s=Rt;Rt|=2;var a=OC();(Fr!==e||Qr!==t)&&(ks=null,yc=vr()+500,Ma(e,t));do try{OO();break}catch(p){PC(e,p)}while(!0);$0(),Ap.current=a,Rt=s,Er!==null?t=0:(Fr=null,Qr=0,t=Lr)}if(t!==0){if(t===2&&(s=ay(e),s!==0&&(n=s,t=Ly(e,s))),t===1)throw r=_u,Ma(e,0),So(e,n),Ai(e,vr()),r;if(t===6)So(e,n);else{if(s=e.current.alternate,!(n&30)&&!AO(s)&&(t=Rp(e,n),t===2&&(a=ay(e),a!==0&&(n=a,t=Ly(e,a))),t===1))throw r=_u,Ma(e,0),So(e,n),Ai(e,vr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(He(345));case 2:ya(e,Ei,ks);break;case 3:if(So(e,n),(n&130023424)===n&&(t=eb+500-vr(),10<t)){if(mp(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){gi(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=gy(ya.bind(null,e,Ei,ks),t);break}ya(e,Ei,ks);break;case 4:if(So(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var c=31-Pn(n);a=1<<c,c=t[c],c>s&&(s=c),n&=~a}if(n=s,n=vr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*TO(n/1960))-n,10<n){e.timeoutHandle=gy(ya.bind(null,e,Ei,ks),n);break}ya(e,Ei,ks);break;case 5:ya(e,Ei,ks);break;default:throw Error(He(329))}}}return Ai(e,vr()),e.callbackNode===r?AC.bind(null,e):null}function Ly(e,t){var r=iu;return e.current.memoizedState.isDehydrated&&(Ma(e,t).flags|=256),e=Rp(e,t),e!==2&&(t=Ei,Ei=r,t!==null&&Iy(t)),e}function Iy(e){Ei===null?Ei=e:Ei.push.apply(Ei,e)}function AO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Rn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function So(e,t){for(t&=~J0,t&=~og,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pn(t),n=1<<r;e[r]=-1,t&=~n}}function lk(e){if(Rt&6)throw Error(He(327));cc();var t=mp(e,0);if(!(t&1))return Ai(e,vr()),null;var r=Rp(e,t);if(e.tag!==0&&r===2){var n=ay(e);n!==0&&(t=n,r=Ly(e,n))}if(r===1)throw r=_u,Ma(e,0),So(e,t),Ai(e,vr()),r;if(r===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ya(e,Ei,ks),Ai(e,vr()),null}function tb(e,t){var r=Rt;Rt|=1;try{return e(t)}finally{Rt=r,Rt===0&&(yc=vr()+500,rg&&Ho())}}function Oa(e){Eo!==null&&Eo.tag===0&&!(Rt&6)&&cc();var t=Rt;Rt|=1;var r=hn.transition,n=Ft;try{if(hn.transition=null,Ft=1,e)return e()}finally{Ft=n,hn.transition=r,Rt=t,!(Rt&6)&&Ho()}}function rb(){$i=ec.current,Qt(ec)}function Ma(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,aO(r)),Er!==null)for(r=Er.return;r!==null;){var n=r;switch(I0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wp();break;case 3:vc(),Qt(Ni),Qt(ai),G0();break;case 5:H0(n);break;case 4:vc();break;case 13:Qt(ar);break;case 19:Qt(ar);break;case 10:z0(n.type._context);break;case 22:case 23:rb()}r=r.return}if(Fr=e,Er=e=Lo(e.current,null),Qr=$i=t,Lr=0,_u=null,J0=og=Pa=0,Ei=iu=null,Ca!==null){for(t=0;t<Ca.length;t++)if(r=Ca[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var c=a.next;a.next=s,n.next=c}r.pending=n}Ca=null}return e}function PC(e,t){do{var r=Er;try{if($0(),ip.current=Tp,Np){for(var n=lr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Np=!1}if(Aa=0,zr=Or=lr=null,tu=!1,wu=0,Q0.current=null,r===null||r.return===null){Lr=1,_u=t,Er=null;break}e:{var a=e,c=r.return,p=r,v=t;if(t=Qr,p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var b=v,S=p,E=S.tag;if(!(S.mode&1)&&(E===0||E===11||E===15)){var A=S.alternate;A?(S.updateQueue=A.updateQueue,S.memoizedState=A.memoizedState,S.lanes=A.lanes):(S.updateQueue=null,S.memoizedState=null)}var z=q1(c);if(z!==null){z.flags&=-257,K1(z,c,p,a,t),z.mode&1&&Y1(a,b,t),t=z,v=b;var U=t.updateQueue;if(U===null){var D=new Set;D.add(v),t.updateQueue=D}else U.add(v);break e}else{if(!(t&1)){Y1(a,b,t),ib();break e}v=Error(He(426))}}else if(rr&&p.mode&1){var R=q1(c);if(R!==null){!(R.flags&65536)&&(R.flags|=256),K1(R,c,p,a,t),D0(xc(v,p));break e}}a=v=xc(v,p),Lr!==4&&(Lr=2),iu===null?iu=[a]:iu.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=gC(a,v,t);W1(a,I);break e;case 1:p=v;var T=a.type,O=a.stateNode;if(!(a.flags&128)&&(typeof T.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Oo===null||!Oo.has(O)))){a.flags|=65536,t&=-t,a.lanes|=t;var q=mC(a,p,t);W1(a,q);break e}}a=a.return}while(a!==null)}LC(r)}catch(ae){t=ae,Er===r&&r!==null&&(Er=r=r.return);continue}break}while(!0)}function OC(){var e=Ap.current;return Ap.current=Tp,e===null?Tp:e}function ib(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),Fr===null||!(Pa&268435455)&&!(og&268435455)||So(Fr,Qr)}function Rp(e,t){var r=Rt;Rt|=2;var n=OC();(Fr!==e||Qr!==t)&&(ks=null,Ma(e,t));do try{PO();break}catch(s){PC(e,s)}while(!0);if($0(),Rt=r,Ap.current=n,Er!==null)throw Error(He(261));return Fr=null,Qr=0,Lr}function PO(){for(;Er!==null;)RC(Er)}function OO(){for(;Er!==null&&!nP();)RC(Er)}function RC(e){var t=DC(e.alternate,e,$i);e.memoizedProps=e.pendingProps,t===null?LC(e):Er=t,Q0.current=null}function LC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=EO(r,t),r!==null){r.flags&=32767,Er=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lr=6,Er=null;return}}else if(r=CO(r,t,$i),r!==null){Er=r;return}if(t=t.sibling,t!==null){Er=t;return}Er=t=e}while(t!==null);Lr===0&&(Lr=5)}function ya(e,t,r){var n=Ft,s=hn.transition;try{hn.transition=null,Ft=1,RO(e,t,r,n)}finally{hn.transition=s,Ft=n}return null}function RO(e,t,r,n){do cc();while(Eo!==null);if(Rt&6)throw Error(He(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(pP(e,a),e===Fr&&(Er=Fr=null,Qr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Df||(Df=!0,BC(gp,function(){return cc(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=hn.transition,hn.transition=null;var c=Ft;Ft=1;var p=Rt;Rt|=4,Q0.current=null,jO(e,r),NC(r,e),eO(fy),vp=!!hy,fy=hy=null,e.current=r,NO(r),sP(),Rt=p,Ft=c,hn.transition=a}else e.current=r;if(Df&&(Df=!1,Eo=e,Op=s),a=e.pendingLanes,a===0&&(Oo=null),lP(r.stateNode),Ai(e,vr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Pp)throw Pp=!1,e=Oy,Oy=null,e;return Op&1&&e.tag!==0&&cc(),a=e.pendingLanes,a&1?e===Ry?nu++:(nu=0,Ry=e):nu=0,Ho(),null}function cc(){if(Eo!==null){var e=g_(Op),t=hn.transition,r=Ft;try{if(hn.transition=null,Ft=16>e?16:e,Eo===null)var n=!1;else{if(e=Eo,Eo=null,Op=0,Rt&6)throw Error(He(331));var s=Rt;for(Rt|=4,nt=e.current;nt!==null;){var a=nt,c=a.child;if(nt.flags&16){var p=a.deletions;if(p!==null){for(var v=0;v<p.length;v++){var b=p[v];for(nt=b;nt!==null;){var S=nt;switch(S.tag){case 0:case 11:case 15:ru(8,S,a)}var E=S.child;if(E!==null)E.return=S,nt=E;else for(;nt!==null;){S=nt;var A=S.sibling,z=S.return;if(EC(S),S===b){nt=null;break}if(A!==null){A.return=z,nt=A;break}nt=z}}}var U=a.alternate;if(U!==null){var D=U.child;if(D!==null){U.child=null;do{var R=D.sibling;D.sibling=null,D=R}while(D!==null)}}nt=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,nt=c;else e:for(;nt!==null;){if(a=nt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,nt=I;break e}nt=a.return}}var T=e.current;for(nt=T;nt!==null;){c=nt;var O=c.child;if(c.subtreeFlags&2064&&O!==null)O.return=c,nt=O;else e:for(c=T;nt!==null;){if(p=nt,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:sg(9,p)}}catch(ae){fr(p,p.return,ae)}if(p===c){nt=null;break e}var q=p.sibling;if(q!==null){q.return=p.return,nt=q;break e}nt=p.return}}if(Rt=s,Ho(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(Zp,e)}catch{}n=!0}return n}finally{Ft=r,hn.transition=t}}return!1}function ck(e,t,r){t=xc(r,t),t=gC(e,t,1),e=Po(e,t,1),t=gi(),e!==null&&(Pu(e,1,t),Ai(e,t))}function fr(e,t,r){if(e.tag===3)ck(e,e,r);else for(;t!==null;){if(t.tag===3){ck(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Oo===null||!Oo.has(n))){e=xc(r,e),e=mC(t,e,1),t=Po(t,e,1),e=gi(),t!==null&&(Pu(t,1,e),Ai(t,e));break}}t=t.return}}function LO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gi(),e.pingedLanes|=e.suspendedLanes&r,Fr===e&&(Qr&r)===r&&(Lr===4||Lr===3&&(Qr&130023424)===Qr&&500>vr()-eb?Ma(e,0):J0|=r),Ai(e,t)}function IC(e,t){t===0&&(e.mode&1?(t=Mf,Mf<<=1,!(Mf&130023424)&&(Mf=4194304)):t=1);var r=gi();e=Ps(e,t),e!==null&&(Pu(e,t,r),Ai(e,r))}function IO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),IC(e,r)}function DO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(He(314))}n!==null&&n.delete(t),IC(e,r)}var DC;DC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ni.current)ji=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ji=!1,_O(e,t,r);ji=!!(e.flags&131072)}else ji=!1,rr&&t.flags&1048576&&F_(t,_p,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;sp(e,t),e=t.pendingProps;var s=pc(t,ai.current);lc(t,r),s=X0(null,t,n,e,s,r);var a=Y0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ti(n)?(a=!0,kp(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,W0(t),s.updater=ng,t.stateNode=s,s._reactInternals=t,ky(t,n,e,r),t=Cy(null,t,n,!0,a,r)):(t.tag=0,rr&&a&&L0(t),fi(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(sp(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=$O(n),e=jn(n,e),s){case 0:t=_y(null,t,n,e,r);break e;case 1:t=J1(null,t,n,e,r);break e;case 11:t=Z1(null,t,n,e,r);break e;case 14:t=Q1(null,t,n,jn(n.type,e),r);break e}throw Error(He(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),_y(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),J1(e,t,n,s,r);case 3:e:{if(bC(t),e===null)throw Error(He(387));n=t.pendingProps,a=t.memoizedState,s=a.element,X_(e,t),Mp(t,n,null,r);var c=t.memoizedState;if(n=c.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=xc(Error(He(423)),t),t=ek(e,t,n,r,s);break e}else if(n!==s){s=xc(Error(He(424)),t),t=ek(e,t,n,r,s);break e}else for(Fi=Ao(t.stateNode.containerInfo.firstChild),Wi=t,rr=!0,An=null,r=G_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gc(),n===s){t=Os(e,t,r);break e}fi(e,t,n,r)}t=t.child}return t;case 5:return Y_(t),e===null&&yy(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,c=s.children,py(n,s)?c=null:a!==null&&py(n,a)&&(t.flags|=32),yC(e,t),fi(e,t,c,r),t.child;case 6:return e===null&&yy(t),null;case 13:return wC(e,t,r);case 4:return U0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=mc(t,null,n,r):fi(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),Z1(e,t,n,s,r);case 7:return fi(e,t,t.pendingProps,r),t.child;case 8:return fi(e,t,t.pendingProps.children,r),t.child;case 12:return fi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,c=s.value,qt(Cp,n._currentValue),n._currentValue=c,a!==null)if(Rn(a.value,c)){if(a.children===s.children&&!Ni.current){t=Os(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var p=a.dependencies;if(p!==null){c=a.child;for(var v=p.firstContext;v!==null;){if(v.context===n){if(a.tag===1){v=js(-1,r&-r),v.tag=2;var b=a.updateQueue;if(b!==null){b=b.shared;var S=b.pending;S===null?v.next=v:(v.next=S.next,S.next=v),b.pending=v}}a.lanes|=r,v=a.alternate,v!==null&&(v.lanes|=r),by(a.return,r,t),p.lanes|=r;break}v=v.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(He(341));c.lanes|=r,p=c.alternate,p!==null&&(p.lanes|=r),by(c,r,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}fi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,lc(t,r),s=pn(s),n=n(s),t.flags|=1,fi(e,t,n,r),t.child;case 14:return n=t.type,s=jn(n,t.pendingProps),s=jn(n.type,s),Q1(e,t,n,s,r);case 15:return vC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jn(n,s),sp(e,t),t.tag=1,Ti(n)?(e=!0,kp(t)):e=!1,lc(t,r),pC(t,n,s),ky(t,n,s,r),Cy(null,t,n,!0,e,r);case 19:return kC(e,t,r);case 22:return xC(e,t,r)}throw Error(He(156,t.tag))};function BC(e,t){return u_(e,t)}function BO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,r,n){return new BO(e,t,r,n)}function nb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $O(e){if(typeof e=="function")return nb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===S0)return 11;if(e===_0)return 14}return 2}function Lo(e,t){var r=e.alternate;return r===null?(r=un(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function lp(e,t,r,n,s,a){var c=2;if(n=e,typeof e=="function")nb(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Hl:return ja(r.children,s,a,t);case k0:c=8,s|=8;break;case Vx:return e=un(12,r,t,s|2),e.elementType=Vx,e.lanes=a,e;case Xx:return e=un(13,r,t,s),e.elementType=Xx,e.lanes=a,e;case Yx:return e=un(19,r,t,s),e.elementType=Yx,e.lanes=a,e;case YS:return ag(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VS:c=10;break e;case XS:c=9;break e;case S0:c=11;break e;case _0:c=14;break e;case bo:c=16,n=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=un(c,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function ja(e,t,r,n){return e=un(7,e,n,t),e.lanes=r,e}function ag(e,t,r,n){return e=un(22,e,n,t),e.elementType=YS,e.lanes=r,e.stateNode={isHidden:!1},e}function gx(e,t,r){return e=un(6,e,null,t),e.lanes=r,e}function mx(e,t,r){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kv(0),this.expirationTimes=Kv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kv(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sb(e,t,r,n,s,a,c,p,v){return e=new zO(e,t,r,p,v),t===1?(t=1,a===!0&&(t|=8)):t=0,a=un(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},W0(a),e}function FO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $C(e){if(!e)return Bo;e=e._reactInternals;e:{if(Va(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ti(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var r=e.type;if(Ti(r))return $_(e,r,t)}return t}function zC(e,t,r,n,s,a,c,p,v){return e=sb(r,n,!0,e,s,a,c,p,v),e.context=$C(null),r=e.current,n=gi(),s=Ro(r),a=js(n,s),a.callback=t??null,Po(r,a,s),e.current.lanes=s,Pu(e,s,n),Ai(e,n),e}function lg(e,t,r,n){var s=t.current,a=gi(),c=Ro(s);return r=$C(r),t.context===null?t.context=r:t.pendingContext=r,t=js(a,c),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Po(s,t,c),e!==null&&(On(e,s,c,a),rp(e,s,c)),c}function Lp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ob(e,t){dk(e,t),(e=e.alternate)&&dk(e,t)}function WO(){return null}var FC=typeof reportError=="function"?reportError:function(e){console.error(e)};function ab(e){this._internalRoot=e}cg.prototype.render=ab.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));lg(e,t,null,null)};cg.prototype.unmount=ab.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oa(function(){lg(null,e,null,null)}),t[As]=null}};function cg(e){this._internalRoot=e}cg.prototype.unstable_scheduleHydration=function(e){if(e){var t=x_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ko.length&&t!==0&&t<ko[r].priority;r++);ko.splice(r,0,e),r===0&&b_(e)}};function lb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uk(){}function UO(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var b=Lp(c);a.call(b)}}var c=zC(t,n,e,0,null,!1,!1,"",uk);return e._reactRootContainer=c,e[As]=c.current,mu(e.nodeType===8?e.parentNode:e),Oa(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var p=n;n=function(){var b=Lp(v);p.call(b)}}var v=sb(e,0,!1,null,null,!1,!1,"",uk);return e._reactRootContainer=v,e[As]=v.current,mu(e.nodeType===8?e.parentNode:e),Oa(function(){lg(t,v,r,n)}),v}function ug(e,t,r,n,s){var a=r._reactRootContainer;if(a){var c=a;if(typeof s=="function"){var p=s;s=function(){var v=Lp(c);p.call(v)}}lg(t,c,e,s)}else c=UO(r,t,e,s,n);return Lp(c)}m_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vd(t.pendingLanes);r!==0&&(M0(t,r|1),Ai(t,vr()),!(Rt&6)&&(yc=vr()+500,Ho()))}break;case 13:Oa(function(){var n=Ps(e,1);if(n!==null){var s=gi();On(n,e,1,s)}}),ob(e,1)}};j0=function(e){if(e.tag===13){var t=Ps(e,134217728);if(t!==null){var r=gi();On(t,e,134217728,r)}ob(e,134217728)}};v_=function(e){if(e.tag===13){var t=Ro(e),r=Ps(e,t);if(r!==null){var n=gi();On(r,e,t,n)}ob(e,t)}};x_=function(){return Ft};y_=function(e,t){var r=Ft;try{return Ft=e,t()}finally{Ft=r}};ny=function(e,t,r){switch(t){case"input":if(Zx(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=tg(n);if(!s)throw Error(He(90));KS(n),Zx(n,s)}}}break;case"textarea":QS(e,r);break;case"select":t=r.value,t!=null&&nc(e,!!r.multiple,t,!1)}};s_=tb;o_=Oa;var HO={usingClientEntryPoint:!1,Events:[Ru,Yl,tg,i_,n_,tb]},Ld={findFiberByHostInstance:_a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GO={bundleType:Ld.bundleType,version:Ld.version,rendererPackageName:Ld.rendererPackageName,rendererConfig:Ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=c_(e),e===null?null:e.stateNode},findFiberByHostInstance:Ld.findFiberByHostInstance||WO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{Zp=Bf.inject(GO),is=Bf}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HO;Gi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lb(t))throw Error(He(200));return FO(e,t,null,r)};Gi.createRoot=function(e,t){if(!lb(e))throw Error(He(299));var r=!1,n="",s=FC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sb(e,1,!1,null,null,r,!1,n,s),e[As]=t.current,mu(e.nodeType===8?e.parentNode:e),new ab(t)};Gi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=c_(t),e=e===null?null:e.stateNode,e};Gi.flushSync=function(e){return Oa(e)};Gi.hydrate=function(e,t,r){if(!dg(t))throw Error(He(200));return ug(null,e,t,!0,r)};Gi.hydrateRoot=function(e,t,r){if(!lb(e))throw Error(He(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",c=FC;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),t=zC(t,null,e,1,r??null,s,!1,a,c),e[As]=t.current,mu(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new cg(t)};Gi.render=function(e,t,r){if(!dg(t))throw Error(He(200));return ug(null,e,t,!1,r)};Gi.unmountComponentAtNode=function(e){if(!dg(e))throw Error(He(40));return e._reactRootContainer?(Oa(function(){ug(null,null,e,!1,function(){e._reactRootContainer=null,e[As]=null})}),!0):!1};Gi.unstable_batchedUpdates=tb;Gi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!dg(r))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return ug(e,t,r,!1,n)};Gi.version="18.3.1-next-f1338f8080-20240426";function WC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WC)}catch(e){console.error(e)}}WC(),WS.exports=Gi;var Tc=WS.exports;const VO=Tu(Tc);var UC,hk=Tc;UC=Hx.createRoot=hk.createRoot,Hx.hydrateRoot=hk.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cu.apply(this,arguments)}var Mo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mo||(Mo={}));const fk="popstate";function XO(e){e===void 0&&(e={});function t(s,a){let{pathname:c="/",search:p="",hash:v=""}=Xa(s.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Dy("",{pathname:c,search:p,hash:v},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let c=s.document.querySelector("base"),p="";if(c&&c.getAttribute("href")){let v=s.location.href,b=v.indexOf("#");p=b===-1?v:v.slice(0,b)}return p+"#"+(typeof a=="string"?a:Ip(a))}function n(s,a){cb(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return qO(t,r,n,e)}function cr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YO(){return Math.random().toString(36).substr(2,8)}function pk(e,t){return{usr:e.state,key:e.key,idx:t}}function Dy(e,t,r,n){return r===void 0&&(r=null),Cu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xa(t):t,{state:r,key:t&&t.key||n||YO()})}function Ip(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function qO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,c=s.history,p=Mo.Pop,v=null,b=S();b==null&&(b=0,c.replaceState(Cu({},c.state,{idx:b}),""));function S(){return(c.state||{idx:null}).idx}function E(){p=Mo.Pop;let R=S(),I=R==null?null:R-b;b=R,v&&v({action:p,location:D.location,delta:I})}function A(R,I){p=Mo.Push;let T=Dy(D.location,R,I);r&&r(T,R),b=S()+1;let O=pk(T,b),q=D.createHref(T);try{c.pushState(O,"",q)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;s.location.assign(q)}a&&v&&v({action:p,location:D.location,delta:1})}function z(R,I){p=Mo.Replace;let T=Dy(D.location,R,I);r&&r(T,R),b=S();let O=pk(T,b),q=D.createHref(T);c.replaceState(O,"",q),a&&v&&v({action:p,location:D.location,delta:0})}function U(R){let I=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof R=="string"?R:Ip(R);return T=T.replace(/ $/,"%20"),cr(I,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,I)}let D={get action(){return p},get location(){return e(s,c)},listen(R){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(fk,E),v=R,()=>{s.removeEventListener(fk,E),v=null}},createHref(R){return t(s,R)},createURL:U,encodeLocation(R){let I=U(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:A,replace:z,go(R){return c.go(R)}};return D}var gk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gk||(gk={}));function KO(e,t,r){return r===void 0&&(r="/"),ZO(e,t,r)}function ZO(e,t,r,n){let s=typeof t=="string"?Xa(t):t,a=bc(s.pathname||"/",r);if(a==null)return null;let c=HC(e);QO(c);let p=null;for(let v=0;p==null&&v<c.length;++v){let b=cR(a);p=aR(c[v],b)}return p}function HC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,c,p)=>{let v={relativePath:p===void 0?a.path||"":p,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};v.relativePath.startsWith("/")&&(cr(v.relativePath.startsWith(n),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(n.length));let b=Io([n,v.relativePath]),S=r.concat(v);a.children&&a.children.length>0&&(cr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),HC(a.children,t,S,b)),!(a.path==null&&!a.index)&&t.push({path:b,score:sR(b,a.index),routesMeta:S})};return e.forEach((a,c)=>{var p;if(a.path===""||!((p=a.path)!=null&&p.includes("?")))s(a,c);else for(let v of GC(a.path))s(a,c,v)}),t}function GC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let c=GC(n.join("/")),p=[];return p.push(...c.map(v=>v===""?a:[a,v].join("/"))),s&&p.push(...c),p.map(v=>e.startsWith("/")&&v===""?"/":v)}function QO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const JO=/^:[\w-]+$/,eR=3,tR=2,rR=1,iR=10,nR=-2,mk=e=>e==="*";function sR(e,t){let r=e.split("/"),n=r.length;return r.some(mk)&&(n+=nR),t&&(n+=tR),r.filter(s=>!mk(s)).reduce((s,a)=>s+(JO.test(a)?eR:a===""?rR:iR),n)}function oR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function aR(e,t,r){let{routesMeta:n}=e,s={},a="/",c=[];for(let p=0;p<n.length;++p){let v=n[p],b=p===n.length-1,S=a==="/"?t:t.slice(a.length)||"/",E=By({path:v.relativePath,caseSensitive:v.caseSensitive,end:b},S),A=v.route;if(!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:Io([a,E.pathname]),pathnameBase:fR(Io([a,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(a=Io([a,E.pathnameBase]))}return c}function By(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=lR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:n.reduce((b,S,E)=>{let{paramName:A,isOptional:z}=S;if(A==="*"){let D=p[E]||"";c=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const U=p[E];return z&&!U?b[A]=void 0:b[A]=(U||"").replace(/%2F/g,"/"),b},{}),pathname:a,pathnameBase:c,pattern:e}}function lR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),cb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,v)=>(n.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function cR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function dR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Xa(e):e;return{pathname:r?r.startsWith("/")?r:uR(r,t):t,search:pR(n),hash:gR(s)}}function uR(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function vx(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function db(e,t){let r=hR(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ub(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Xa(e):(s=Cu({},e),cr(!s.pathname||!s.pathname.includes("?"),vx("?","pathname","search",s)),cr(!s.pathname||!s.pathname.includes("#"),vx("#","pathname","hash",s)),cr(!s.search||!s.search.includes("#"),vx("#","search","hash",s)));let a=e===""||s.pathname==="",c=a?"/":s.pathname,p;if(c==null)p=r;else{let E=t.length-1;if(!n&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),E-=1;s.pathname=A.join("/")}p=E>=0?t[E]:"/"}let v=dR(s,p),b=c&&c!=="/"&&c.endsWith("/"),S=(a||c===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(b||S)&&(v.pathname+="/"),v}const Io=e=>e.join("/").replace(/\/\/+/g,"/"),fR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const VC=["post","put","patch","delete"];new Set(VC);const vR=["get",...VC];new Set(vR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eu.apply(this,arguments)}const hg=M.createContext(null),XC=M.createContext(null),$s=M.createContext(null),fg=M.createContext(null),zs=M.createContext({outlet:null,matches:[],isDataRoute:!1}),YC=M.createContext(null);function xR(e,t){let{relative:r}=t===void 0?{}:t;Ac()||cr(!1);let{basename:n,navigator:s}=M.useContext($s),{hash:a,pathname:c,search:p}=pg(e,{relative:r}),v=c;return n!=="/"&&(v=c==="/"?n:Io([n,c])),s.createHref({pathname:v,search:p,hash:a})}function Ac(){return M.useContext(fg)!=null}function Ya(){return Ac()||cr(!1),M.useContext(fg).location}function qC(e){M.useContext($s).static||M.useLayoutEffect(e)}function hb(){let{isDataRoute:e}=M.useContext(zs);return e?AR():yR()}function yR(){Ac()||cr(!1);let e=M.useContext(hg),{basename:t,future:r,navigator:n}=M.useContext($s),{matches:s}=M.useContext(zs),{pathname:a}=Ya(),c=JSON.stringify(db(s,r.v7_relativeSplatPath)),p=M.useRef(!1);return qC(()=>{p.current=!0}),M.useCallback(function(b,S){if(S===void 0&&(S={}),!p.current)return;if(typeof b=="number"){n.go(b);return}let E=ub(b,JSON.parse(c),a,S.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Io([t,E.pathname])),(S.replace?n.replace:n.push)(E,S.state,S)},[t,n,c,a,e])}function KC(){let{matches:e}=M.useContext(zs),t=e[e.length-1];return t?t.params:{}}function pg(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=M.useContext($s),{matches:s}=M.useContext(zs),{pathname:a}=Ya(),c=JSON.stringify(db(s,n.v7_relativeSplatPath));return M.useMemo(()=>ub(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function bR(e,t){return wR(e,t)}function wR(e,t,r,n){Ac()||cr(!1);let{navigator:s}=M.useContext($s),{matches:a}=M.useContext(zs),c=a[a.length-1],p=c?c.params:{};c&&c.pathname;let v=c?c.pathnameBase:"/";c&&c.route;let b=Ya(),S;if(t){var E;let R=typeof t=="string"?Xa(t):t;v==="/"||(E=R.pathname)!=null&&E.startsWith(v)||cr(!1),S=R}else S=b;let A=S.pathname||"/",z=A;if(v!=="/"){let R=v.replace(/^\//,"").split("/");z="/"+A.replace(/^\//,"").split("/").slice(R.length).join("/")}let U=KO(e,{pathname:z}),D=ER(U&&U.map(R=>Object.assign({},R,{params:Object.assign({},p,R.params),pathname:Io([v,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?v:Io([v,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,r,n);return t&&D?M.createElement(fg.Provider,{value:{location:Eu({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Mo.Pop}},D):D}function kR(){let e=TR(),t=mR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),r?M.createElement("pre",{style:s},r):null,null)}const SR=M.createElement(kR,null);class _R extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?M.createElement(zs.Provider,{value:this.props.routeContext},M.createElement(YC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CR(e){let{routeContext:t,match:r,children:n}=e,s=M.useContext(hg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(zs.Provider,{value:t},n)}function ER(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,p=(s=r)==null?void 0:s.errors;if(p!=null){let S=c.findIndex(E=>E.route.id&&(p==null?void 0:p[E.route.id])!==void 0);S>=0||cr(!1),c=c.slice(0,Math.min(c.length,S+1))}let v=!1,b=-1;if(r&&n&&n.v7_partialHydration)for(let S=0;S<c.length;S++){let E=c[S];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(b=S),E.route.id){let{loaderData:A,errors:z}=r,U=E.route.loader&&A[E.route.id]===void 0&&(!z||z[E.route.id]===void 0);if(E.route.lazy||U){v=!0,b>=0?c=c.slice(0,b+1):c=[c[0]];break}}}return c.reduceRight((S,E,A)=>{let z,U=!1,D=null,R=null;r&&(z=p&&E.route.id?p[E.route.id]:void 0,D=E.route.errorElement||SR,v&&(b<0&&A===0?(PR("route-fallback"),U=!0,R=null):b===A&&(U=!0,R=E.route.hydrateFallbackElement||null)));let I=t.concat(c.slice(0,A+1)),T=()=>{let O;return z?O=D:U?O=R:E.route.Component?O=M.createElement(E.route.Component,null):E.route.element?O=E.route.element:O=S,M.createElement(CR,{match:E,routeContext:{outlet:S,matches:I,isDataRoute:r!=null},children:O})};return r&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?M.createElement(_R,{location:r.location,revalidation:r.revalidation,component:D,error:z,children:T(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):T()},null)}var ZC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ZC||{}),QC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(QC||{});function MR(e){let t=M.useContext(hg);return t||cr(!1),t}function jR(e){let t=M.useContext(XC);return t||cr(!1),t}function NR(e){let t=M.useContext(zs);return t||cr(!1),t}function JC(e){let t=NR(),r=t.matches[t.matches.length-1];return r.route.id||cr(!1),r.route.id}function TR(){var e;let t=M.useContext(YC),r=jR(),n=JC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function AR(){let{router:e}=MR(ZC.UseNavigateStable),t=JC(QC.UseNavigateStable),r=M.useRef(!1);return qC(()=>{r.current=!0}),M.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Eu({fromRouteId:t},a)))},[e,t])}const vk={};function PR(e,t,r){vk[e]||(vk[e]=!0)}function OR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function eE(e){let{to:t,replace:r,state:n,relative:s}=e;Ac()||cr(!1);let{future:a,static:c}=M.useContext($s),{matches:p}=M.useContext(zs),{pathname:v}=Ya(),b=hb(),S=ub(t,db(p,a.v7_relativeSplatPath),v,s==="path"),E=JSON.stringify(S);return M.useEffect(()=>b(JSON.parse(E),{replace:r,state:n,relative:s}),[b,E,s,r,n]),null}function Bi(e){cr(!1)}function RR(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Mo.Pop,navigator:a,static:c=!1,future:p}=e;Ac()&&cr(!1);let v=t.replace(/^\/*/,"/"),b=M.useMemo(()=>({basename:v,navigator:a,static:c,future:Eu({v7_relativeSplatPath:!1},p)}),[v,p,a,c]);typeof n=="string"&&(n=Xa(n));let{pathname:S="/",search:E="",hash:A="",state:z=null,key:U="default"}=n,D=M.useMemo(()=>{let R=bc(S,v);return R==null?null:{location:{pathname:R,search:E,hash:A,state:z,key:U},navigationType:s}},[v,S,E,A,z,U,s]);return D==null?null:M.createElement($s.Provider,{value:b},M.createElement(fg.Provider,{children:r,value:D}))}function LR(e){let{children:t,location:r}=e;return bR($y(t),r)}new Promise(()=>{});function $y(e,t){t===void 0&&(t=[]);let r=[];return M.Children.forEach(e,(n,s)=>{if(!M.isValidElement(n))return;let a=[...t,s];if(n.type===M.Fragment){r.push.apply(r,$y(n.props.children,a));return}n.type!==Bi&&cr(!1),!n.props.index||!n.props.children||cr(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=$y(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(this,arguments)}function tE(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function IR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function DR(e,t){return e.button===0&&(!t||t==="_self")&&!IR(e)}function zy(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function BR(e,t){let r=zy(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const $R=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],FR="6";try{window.__reactRouterVersion=FR}catch{}const WR=M.createContext({isTransitioning:!1}),UR="startTransition",xk=x0[UR];function HR(e){let{basename:t,children:r,future:n,window:s}=e,a=M.useRef();a.current==null&&(a.current=XO({window:s,v5Compat:!0}));let c=a.current,[p,v]=M.useState({action:c.action,location:c.location}),{v7_startTransition:b}=n||{},S=M.useCallback(E=>{b&&xk?xk(()=>v(E)):v(E)},[v,b]);return M.useLayoutEffect(()=>c.listen(S),[c,S]),M.useEffect(()=>OR(n),[n]),M.createElement(RR,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:c,future:n})}const GR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mr=M.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:c,state:p,target:v,to:b,preventScrollReset:S,viewTransition:E}=t,A=tE(t,$R),{basename:z}=M.useContext($s),U,D=!1;if(typeof b=="string"&&VR.test(b)&&(U=b,GR))try{let O=new URL(window.location.href),q=b.startsWith("//")?new URL(O.protocol+b):new URL(b),ae=bc(q.pathname,z);q.origin===O.origin&&ae!=null?b=ae+q.search+q.hash:D=!0}catch{}let R=xR(b,{relative:s}),I=YR(b,{replace:c,state:p,target:v,preventScrollReset:S,relative:s,viewTransition:E});function T(O){n&&n(O),O.defaultPrevented||I(O)}return M.createElement("a",Dp({},A,{href:U||R,onClick:D||a?n:T,ref:r,target:v}))}),po=M.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:c=!1,style:p,to:v,viewTransition:b,children:S}=t,E=tE(t,zR),A=pg(v,{relative:E.relative}),z=Ya(),U=M.useContext(XC),{navigator:D,basename:R}=M.useContext($s),I=U!=null&&qR(A)&&b===!0,T=D.encodeLocation?D.encodeLocation(A).pathname:A.pathname,O=z.pathname,q=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;s||(O=O.toLowerCase(),q=q?q.toLowerCase():null,T=T.toLowerCase()),q&&R&&(q=bc(q,R)||q);const ae=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let re=O===T||!c&&O.startsWith(T)&&O.charAt(ae)==="/",ce=q!=null&&(q===T||!c&&q.startsWith(T)&&q.charAt(T.length)==="/"),J={isActive:re,isPending:ce,isTransitioning:I},we=re?n:void 0,Se;typeof a=="function"?Se=a(J):Se=[a,re?"active":null,ce?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let be=typeof p=="function"?p(J):p;return M.createElement(Mr,Dp({},E,{"aria-current":we,className:Se,ref:r,style:be,to:v,viewTransition:b}),typeof S=="function"?S(J):S)});var Fy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fy||(Fy={}));var yk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yk||(yk={}));function XR(e){let t=M.useContext(hg);return t||cr(!1),t}function YR(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:p}=t===void 0?{}:t,v=hb(),b=Ya(),S=pg(e,{relative:c});return M.useCallback(E=>{if(DR(E,r)){E.preventDefault();let A=n!==void 0?n:Ip(b)===Ip(S);v(e,{replace:A,state:s,preventScrollReset:a,relative:c,viewTransition:p})}},[b,v,S,n,s,r,e,a,c,p])}function rE(e){let t=M.useRef(zy(e)),r=M.useRef(!1),n=Ya(),s=M.useMemo(()=>BR(n.search,r.current?null:t.current),[n.search]),a=hb(),c=M.useCallback((p,v)=>{const b=zy(typeof p=="function"?p(s):p);r.current=!0,a("?"+b,v)},[a,s]);return[s,c]}function qR(e,t){t===void 0&&(t={});let r=M.useContext(WR);r==null&&cr(!1);let{basename:n}=XR(Fy.useViewTransitionState),s=pg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=bc(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=bc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return By(s.pathname,c)!=null||By(s.pathname,a)!=null}function fn(e,t){const r=M.useRef(null),n="OFC";M.useEffect(()=>{r.current===null&&(r.current=document.title);const s=e==null?void 0:e.trim();return document.title=s?`${n} - ${s}`:n,()=>{if(r.current!==null){const a=s?`${n} - ${s}`:n;document.title===a&&(document.title=r.current)}}},[e,t==null?void 0:t.preserveOnUnmount])}function iE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=iE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function nE(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=iE(e))&&(n&&(n+=" "),n+=t);return n}const fb="-",KR=e=>{const t=QR(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const p=c.split(fb);return p[0]===""&&p.length!==1&&p.shift(),sE(p,t)||ZR(c)},getConflictingClassGroupIds:(c,p)=>{const v=r[c]||[];return p&&n[c]?[...v,...n[c]]:v}}},sE=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?sE(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(fb);return(c=t.validators.find(({validator:p})=>p(a)))==null?void 0:c.classGroupId},bk=/^\[(.+)\]$/,ZR=e=>{if(bk.test(e)){const t=bk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},QR=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return eL(Object.entries(e.classGroups),r).forEach(([a,c])=>{Wy(c,n,a,t)}),n},Wy=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:wk(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(JR(s)){Wy(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,c])=>{Wy(c,wk(t,a),r,n)})})},wk=(e,t)=>{let r=e;return t.split(fb).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},JR=e=>e.isThemeGetter,eL=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,p])=>[t+c,p])):a);return[r,s]}):e,tL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,c)=>{r.set(a,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let c=r.get(a);if(c!==void 0)return c;if((c=n.get(a))!==void 0)return s(a,c),c},set(a,c){r.has(a)?r.set(a,c):s(a,c)}}},oE="!",rL=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,c=p=>{const v=[];let b=0,S=0,E;for(let R=0;R<p.length;R++){let I=p[R];if(b===0){if(I===s&&(n||p.slice(R,R+a)===t)){v.push(p.slice(S,R)),S=R+a;continue}if(I==="/"){E=R;continue}}I==="["?b++:I==="]"&&b--}const A=v.length===0?p:p.substring(S),z=A.startsWith(oE),U=z?A.substring(1):A,D=E&&E>S?E-S:void 0;return{modifiers:v,hasImportantModifier:z,baseClassName:U,maybePostfixModifierPosition:D}};return r?p=>r({className:p,parseClassName:c}):c},iL=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},nL=e=>({cache:tL(e.cacheSize),parseClassName:rL(e),...KR(e)}),sL=/\s+/,oL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],c=e.trim().split(sL);let p="";for(let v=c.length-1;v>=0;v-=1){const b=c[v],{modifiers:S,hasImportantModifier:E,baseClassName:A,maybePostfixModifierPosition:z}=r(b);let U=!!z,D=n(U?A.substring(0,z):A);if(!D){if(!U){p=b+(p.length>0?" "+p:p);continue}if(D=n(A),!D){p=b+(p.length>0?" "+p:p);continue}U=!1}const R=iL(S).join(":"),I=E?R+oE:R,T=I+D;if(a.includes(T))continue;a.push(T);const O=s(D,U);for(let q=0;q<O.length;++q){const ae=O[q];a.push(I+ae)}p=b+(p.length>0?" "+p:p)}return p};function aL(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=aE(t))&&(n&&(n+=" "),n+=r);return n}const aE=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=aE(e[n]))&&(r&&(r+=" "),r+=t);return r};function lL(e,...t){let r,n,s,a=c;function c(v){const b=t.reduce((S,E)=>E(S),e());return r=nL(b),n=r.cache.get,s=r.cache.set,a=p,p(v)}function p(v){const b=n(v);if(b)return b;const S=oL(v,r);return s(v,S),S}return function(){return a(aL.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},lE=/^\[(?:([a-z-]+):)?(.+)\]$/i,cL=/^\d+\/\d+$/,dL=new Set(["px","full","screen"]),uL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ws=e=>dc(e)||dL.has(e)||cL.test(e),go=e=>Pc(e,"length",SL),dc=e=>!!e&&!Number.isNaN(Number(e)),xx=e=>Pc(e,"number",dc),Id=e=>!!e&&Number.isInteger(Number(e)),mL=e=>e.endsWith("%")&&dc(e.slice(0,-1)),Et=e=>lE.test(e),mo=e=>uL.test(e),vL=new Set(["length","size","percentage"]),xL=e=>Pc(e,vL,cE),yL=e=>Pc(e,"position",cE),bL=new Set(["image","url"]),wL=e=>Pc(e,bL,CL),kL=e=>Pc(e,"",_L),Dd=()=>!0,Pc=(e,t,r)=>{const n=lE.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},SL=e=>hL.test(e)&&!fL.test(e),cE=()=>!1,_L=e=>pL.test(e),CL=e=>gL.test(e),EL=()=>{const e=Kt("colors"),t=Kt("spacing"),r=Kt("blur"),n=Kt("brightness"),s=Kt("borderColor"),a=Kt("borderRadius"),c=Kt("borderSpacing"),p=Kt("borderWidth"),v=Kt("contrast"),b=Kt("grayscale"),S=Kt("hueRotate"),E=Kt("invert"),A=Kt("gap"),z=Kt("gradientColorStops"),U=Kt("gradientColorStopPositions"),D=Kt("inset"),R=Kt("margin"),I=Kt("opacity"),T=Kt("padding"),O=Kt("saturate"),q=Kt("scale"),ae=Kt("sepia"),re=Kt("skew"),ce=Kt("space"),J=Kt("translate"),we=()=>["auto","contain","none"],Se=()=>["auto","hidden","clip","visible","scroll"],be=()=>["auto",Et,t],ve=()=>[Et,t],je=()=>["",ws,go],Fe=()=>["auto",dc,Et],Ye=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>["start","end","center","between","around","evenly","stretch"],Me=()=>["","0",Et],$e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ie=()=>[dc,Et];return{cacheSize:500,separator:":",theme:{colors:[Dd],spacing:[ws,go],blur:["none","",mo,Et],brightness:Ie(),borderColor:[e],borderRadius:["none","","full",mo,Et],borderSpacing:ve(),borderWidth:je(),contrast:Ie(),grayscale:Me(),hueRotate:Ie(),invert:Me(),gap:ve(),gradientColorStops:[e],gradientColorStopPositions:[mL,go],inset:be(),margin:be(),opacity:Ie(),padding:ve(),saturate:Ie(),scale:Ie(),sepia:Me(),skew:Ie(),space:ve(),translate:ve()},classGroups:{aspect:[{aspect:["auto","square","video",Et]}],container:["container"],columns:[{columns:[mo]}],"break-after":[{"break-after":$e()}],"break-before":[{"break-before":$e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ye(),Et]}],overflow:[{overflow:Se()}],"overflow-x":[{"overflow-x":Se()}],"overflow-y":[{"overflow-y":Se()}],overscroll:[{overscroll:we()}],"overscroll-x":[{"overscroll-x":we()}],"overscroll-y":[{"overscroll-y":we()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[D]}],"inset-x":[{"inset-x":[D]}],"inset-y":[{"inset-y":[D]}],start:[{start:[D]}],end:[{end:[D]}],top:[{top:[D]}],right:[{right:[D]}],bottom:[{bottom:[D]}],left:[{left:[D]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Id,Et]}],basis:[{basis:be()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Et]}],grow:[{grow:Me()}],shrink:[{shrink:Me()}],order:[{order:["first","last","none",Id,Et]}],"grid-cols":[{"grid-cols":[Dd]}],"col-start-end":[{col:["auto",{span:["full",Id,Et]},Et]}],"col-start":[{"col-start":Fe()}],"col-end":[{"col-end":Fe()}],"grid-rows":[{"grid-rows":[Dd]}],"row-start-end":[{row:["auto",{span:[Id,Et]},Et]}],"row-start":[{"row-start":Fe()}],"row-end":[{"row-end":Fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Et]}],gap:[{gap:[A]}],"gap-x":[{"gap-x":[A]}],"gap-y":[{"gap-y":[A]}],"justify-content":[{justify:["normal",...he()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...he(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...he(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[ce]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ce]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Et,t]}],"min-w":[{"min-w":[Et,t,"min","max","fit"]}],"max-w":[{"max-w":[Et,t,"none","full","min","max","fit","prose",{screen:[mo]},mo]}],h:[{h:[Et,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Et,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Et,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Et,t,"auto","min","max","fit"]}],"font-size":[{text:["base",mo,go]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xx]}],"font-family":[{font:[Dd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Et]}],"line-clamp":[{"line-clamp":["none",dc,xx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ws,Et]}],"list-image":[{"list-image":["none",Et]}],"list-style-type":[{list:["none","disc","decimal",Et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ws,go]}],"underline-offset":[{"underline-offset":["auto",ws,Et]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ve()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ye(),yL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[U]}],"gradient-via-pos":[{via:[U]}],"gradient-to-pos":[{to:[U]}],"gradient-from":[{from:[z]}],"gradient-via":[{via:[z]}],"gradient-to":[{to:[z]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[ws,Et]}],"outline-w":[{outline:[ws,go]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:je()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[ws,go]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",mo,kL]}],"shadow-color":[{shadow:[Dd]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...ge(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",mo,Et]}],grayscale:[{grayscale:[b]}],"hue-rotate":[{"hue-rotate":[S]}],invert:[{invert:[E]}],saturate:[{saturate:[O]}],sepia:[{sepia:[ae]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[b]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[S]}],"backdrop-invert":[{"backdrop-invert":[E]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Et]}],duration:[{duration:Ie()}],ease:[{ease:["linear","in","out","in-out",Et]}],delay:[{delay:Ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Id,Et]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Et]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Et]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ve()}],"scroll-mx":[{"scroll-mx":ve()}],"scroll-my":[{"scroll-my":ve()}],"scroll-ms":[{"scroll-ms":ve()}],"scroll-me":[{"scroll-me":ve()}],"scroll-mt":[{"scroll-mt":ve()}],"scroll-mr":[{"scroll-mr":ve()}],"scroll-mb":[{"scroll-mb":ve()}],"scroll-ml":[{"scroll-ml":ve()}],"scroll-p":[{"scroll-p":ve()}],"scroll-px":[{"scroll-px":ve()}],"scroll-py":[{"scroll-py":ve()}],"scroll-ps":[{"scroll-ps":ve()}],"scroll-pe":[{"scroll-pe":ve()}],"scroll-pt":[{"scroll-pt":ve()}],"scroll-pr":[{"scroll-pr":ve()}],"scroll-pb":[{"scroll-pb":ve()}],"scroll-pl":[{"scroll-pl":ve()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Et]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ws,go,xx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ML=lL(EL);function gt(...e){return ML(nE(e))}const pr=M.forwardRef(({className:e,...t},r)=>h.jsx("div",{ref:r,className:gt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));pr.displayName="Card";const qr=({className:e,...t})=>h.jsx("div",{className:gt("flex flex-col space-y-1.5 p-6",e),...t}),Kr=({className:e,...t})=>h.jsx("h3",{className:gt("text-2xl font-semibold leading-none tracking-tight",e),...t}),pi=({className:e,...t})=>h.jsx("p",{className:gt("text-sm text-muted-foreground",e),...t}),xr=({className:e,...t})=>h.jsx("div",{className:gt("p-6 pt-0",e),...t}),Oc=e=>{let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return Math.abs(t)},dE=(e,t)=>Math.floor(e/Math.pow(10,t)%10),Uy=(e,t)=>!(dE(e,t)%2),ni=(e,t,r)=>{const n=e%t;return r&&dE(e,r)%2===0?-n:n},Ra=(e,t,r)=>t[e%r],jL=e=>{e.slice(0,1)==="#"&&(e=e.slice(1));const t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16);return(t*299+r*587+n*114)/1e3>=128?"#000000":"#FFFFFF"},NL=4,Xt=80;function TL(e,t){const r=Oc(e),n=t&&t.length;return Array.from({length:NL},(s,a)=>({color:Ra(r+a,t,n),translateX:ni(r*(a+1),Xt/2-(a+17),1),translateY:ni(r*(a+1),Xt/2-(a+17),2),rotate:ni(r*(a+1),360),isSquare:Uy(r,2)}))}const kk=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=TL(e,t),p=M.useId();return h.jsxs("svg",{viewBox:"0 0 "+Xt+" "+Xt,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:Xt,height:Xt,children:h.jsx("rect",{width:Xt,height:Xt,rx:n?void 0:Xt*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${p})`,children:[h.jsx("rect",{width:Xt,height:Xt,fill:c[0].color}),h.jsx("rect",{x:(Xt-60)/2,y:(Xt-20)/2,width:Xt,height:c[1].isSquare?Xt:Xt/8,fill:c[1].color,transform:"translate("+c[1].translateX+" "+c[1].translateY+") rotate("+c[1].rotate+" "+Xt/2+" "+Xt/2+")"}),h.jsx("circle",{cx:Xt/2,cy:Xt/2,fill:c[2].color,r:Xt/5,transform:"translate("+c[2].translateX+" "+c[2].translateY+")"}),h.jsx("line",{x1:0,y1:Xt/2,x2:Xt,y2:Xt/2,strokeWidth:2,stroke:c[3].color,transform:"translate("+c[3].translateX+" "+c[3].translateY+") rotate("+c[3].rotate+" "+Xt/2+" "+Xt/2+")"})]})]})},pa=90,AL=5;function PL(e,t){const r=Oc(e),n=t&&t.length,s=Array.from({length:AL},(c,p)=>Ra(r+p,t,n)),a=[];return a[0]=s[0],a[1]=s[1],a[2]=s[1],a[3]=s[2],a[4]=s[2],a[5]=s[3],a[6]=s[3],a[7]=s[0],a[8]=s[4],a}const OL=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=PL(e,t),p=Jn.useId();return h.jsxs("svg",{viewBox:"0 0 "+pa+" "+pa,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:pa,height:pa,children:h.jsx("rect",{width:pa,height:pa,rx:n?void 0:pa*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${p})`,children:[h.jsx("path",{d:"M0 0h90v45H0z",fill:c[0]}),h.jsx("path",{d:"M0 45h90v45H0z",fill:c[1]}),h.jsx("path",{d:"M83 45a38 38 0 00-76 0h76z",fill:c[2]}),h.jsx("path",{d:"M83 45a38 38 0 01-76 0h76z",fill:c[3]}),h.jsx("path",{d:"M77 45a32 32 0 10-64 0h64z",fill:c[4]}),h.jsx("path",{d:"M77 45a32 32 0 11-64 0h64z",fill:c[5]}),h.jsx("path",{d:"M71 45a26 26 0 00-52 0h52z",fill:c[6]}),h.jsx("path",{d:"M71 45a26 26 0 01-52 0h52z",fill:c[7]}),h.jsx("circle",{cx:45,cy:45,r:23,fill:c[8]})]})]})},RL=64,ga=80;function LL(e,t){const r=Oc(e),n=t&&t.length;return Array.from({length:RL},(s,a)=>Ra(r%(a+1),t,n))}const IL=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=LL(e,t),p=M.useId();return h.jsxs("svg",{viewBox:"0 0 "+ga+" "+ga,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:p,"mask-type":"alpha",maskUnits:"userSpaceOnUse",x:0,y:0,width:ga,height:ga,children:h.jsx("rect",{width:ga,height:ga,rx:n?void 0:ga*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${p})`,children:[h.jsx("rect",{width:10,height:10,fill:c[0]}),h.jsx("rect",{x:20,width:10,height:10,fill:c[1]}),h.jsx("rect",{x:40,width:10,height:10,fill:c[2]}),h.jsx("rect",{x:60,width:10,height:10,fill:c[3]}),h.jsx("rect",{x:10,width:10,height:10,fill:c[4]}),h.jsx("rect",{x:30,width:10,height:10,fill:c[5]}),h.jsx("rect",{x:50,width:10,height:10,fill:c[6]}),h.jsx("rect",{x:70,width:10,height:10,fill:c[7]}),h.jsx("rect",{y:10,width:10,height:10,fill:c[8]}),h.jsx("rect",{y:20,width:10,height:10,fill:c[9]}),h.jsx("rect",{y:30,width:10,height:10,fill:c[10]}),h.jsx("rect",{y:40,width:10,height:10,fill:c[11]}),h.jsx("rect",{y:50,width:10,height:10,fill:c[12]}),h.jsx("rect",{y:60,width:10,height:10,fill:c[13]}),h.jsx("rect",{y:70,width:10,height:10,fill:c[14]}),h.jsx("rect",{x:20,y:10,width:10,height:10,fill:c[15]}),h.jsx("rect",{x:20,y:20,width:10,height:10,fill:c[16]}),h.jsx("rect",{x:20,y:30,width:10,height:10,fill:c[17]}),h.jsx("rect",{x:20,y:40,width:10,height:10,fill:c[18]}),h.jsx("rect",{x:20,y:50,width:10,height:10,fill:c[19]}),h.jsx("rect",{x:20,y:60,width:10,height:10,fill:c[20]}),h.jsx("rect",{x:20,y:70,width:10,height:10,fill:c[21]}),h.jsx("rect",{x:40,y:10,width:10,height:10,fill:c[22]}),h.jsx("rect",{x:40,y:20,width:10,height:10,fill:c[23]}),h.jsx("rect",{x:40,y:30,width:10,height:10,fill:c[24]}),h.jsx("rect",{x:40,y:40,width:10,height:10,fill:c[25]}),h.jsx("rect",{x:40,y:50,width:10,height:10,fill:c[26]}),h.jsx("rect",{x:40,y:60,width:10,height:10,fill:c[27]}),h.jsx("rect",{x:40,y:70,width:10,height:10,fill:c[28]}),h.jsx("rect",{x:60,y:10,width:10,height:10,fill:c[29]}),h.jsx("rect",{x:60,y:20,width:10,height:10,fill:c[30]}),h.jsx("rect",{x:60,y:30,width:10,height:10,fill:c[31]}),h.jsx("rect",{x:60,y:40,width:10,height:10,fill:c[32]}),h.jsx("rect",{x:60,y:50,width:10,height:10,fill:c[33]}),h.jsx("rect",{x:60,y:60,width:10,height:10,fill:c[34]}),h.jsx("rect",{x:60,y:70,width:10,height:10,fill:c[35]}),h.jsx("rect",{x:10,y:10,width:10,height:10,fill:c[36]}),h.jsx("rect",{x:10,y:20,width:10,height:10,fill:c[37]}),h.jsx("rect",{x:10,y:30,width:10,height:10,fill:c[38]}),h.jsx("rect",{x:10,y:40,width:10,height:10,fill:c[39]}),h.jsx("rect",{x:10,y:50,width:10,height:10,fill:c[40]}),h.jsx("rect",{x:10,y:60,width:10,height:10,fill:c[41]}),h.jsx("rect",{x:10,y:70,width:10,height:10,fill:c[42]}),h.jsx("rect",{x:30,y:10,width:10,height:10,fill:c[43]}),h.jsx("rect",{x:30,y:20,width:10,height:10,fill:c[44]}),h.jsx("rect",{x:30,y:30,width:10,height:10,fill:c[45]}),h.jsx("rect",{x:30,y:40,width:10,height:10,fill:c[46]}),h.jsx("rect",{x:30,y:50,width:10,height:10,fill:c[47]}),h.jsx("rect",{x:30,y:60,width:10,height:10,fill:c[48]}),h.jsx("rect",{x:30,y:70,width:10,height:10,fill:c[49]}),h.jsx("rect",{x:50,y:10,width:10,height:10,fill:c[50]}),h.jsx("rect",{x:50,y:20,width:10,height:10,fill:c[51]}),h.jsx("rect",{x:50,y:30,width:10,height:10,fill:c[52]}),h.jsx("rect",{x:50,y:40,width:10,height:10,fill:c[53]}),h.jsx("rect",{x:50,y:50,width:10,height:10,fill:c[54]}),h.jsx("rect",{x:50,y:60,width:10,height:10,fill:c[55]}),h.jsx("rect",{x:50,y:70,width:10,height:10,fill:c[56]}),h.jsx("rect",{x:70,y:10,width:10,height:10,fill:c[57]}),h.jsx("rect",{x:70,y:20,width:10,height:10,fill:c[58]}),h.jsx("rect",{x:70,y:30,width:10,height:10,fill:c[59]}),h.jsx("rect",{x:70,y:40,width:10,height:10,fill:c[60]}),h.jsx("rect",{x:70,y:50,width:10,height:10,fill:c[61]}),h.jsx("rect",{x:70,y:60,width:10,height:10,fill:c[62]}),h.jsx("rect",{x:70,y:70,width:10,height:10,fill:c[63]})]})]})},hr=36;function DL(e,t){const r=Oc(e),n=t&&t.length,s=Ra(r,t,n),a=ni(r,10,1),c=a<5?a+hr/9:a,p=ni(r,10,2),v=p<5?p+hr/9:p;return{wrapperColor:s,faceColor:jL(s),backgroundColor:Ra(r+13,t,n),wrapperTranslateX:c,wrapperTranslateY:v,wrapperRotate:ni(r,360),wrapperScale:1+ni(r,hr/12)/10,isMouthOpen:Uy(r,2),isCircle:Uy(r,1),eyeSpread:ni(r,5),mouthSpread:ni(r,3),faceRotate:ni(r,10,3),faceTranslateX:c>hr/6?c/2:ni(r,8,1),faceTranslateY:v>hr/6?v/2:ni(r,7,2)}}const Sk=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=DL(e,t),p=M.useId();return h.jsxs("svg",{viewBox:"0 0 "+hr+" "+hr,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:hr,height:hr,children:h.jsx("rect",{width:hr,height:hr,rx:n?void 0:hr*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${p})`,children:[h.jsx("rect",{width:hr,height:hr,fill:c.backgroundColor}),h.jsx("rect",{x:"0",y:"0",width:hr,height:hr,transform:"translate("+c.wrapperTranslateX+" "+c.wrapperTranslateY+") rotate("+c.wrapperRotate+" "+hr/2+" "+hr/2+") scale("+c.wrapperScale+")",fill:c.wrapperColor,rx:c.isCircle?hr:hr/6}),h.jsxs("g",{transform:"translate("+c.faceTranslateX+" "+c.faceTranslateY+") rotate("+c.faceRotate+" "+hr/2+" "+hr/2+")",children:[c.isMouthOpen?h.jsx("path",{d:"M15 "+(19+c.mouthSpread)+"c2 1 4 1 6 0",stroke:c.faceColor,fill:"none",strokeLinecap:"round"}):h.jsx("path",{d:"M13,"+(19+c.mouthSpread)+" a1,0.75 0 0,0 10,0",fill:c.faceColor}),h.jsx("rect",{x:14-c.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:c.faceColor}),h.jsx("rect",{x:20+c.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:c.faceColor})]})]})]})},BL=4,_i=80;function $L(e,t){const r=Oc(e),n=t&&t.length;return Array.from({length:BL},(s,a)=>Ra(r+a,t,n))}const zL=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=$L(e,t),p=e.replace(/\s/g,""),v=M.useId();return h.jsxs("svg",{viewBox:"0 0 "+_i+" "+_i,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:v,maskUnits:"userSpaceOnUse",x:0,y:0,width:_i,height:_i,children:h.jsx("rect",{width:_i,height:_i,rx:n?void 0:_i*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${v})`,children:[h.jsx("path",{fill:"url(#gradient_paint0_linear_"+p+")",d:"M0 0h80v40H0z"}),h.jsx("path",{fill:"url(#gradient_paint1_linear_"+p+")",d:"M0 40h80v40H0z"})]}),h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"gradient_paint0_linear_"+p,x1:_i/2,y1:0,x2:_i/2,y2:_i/2,gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{stopColor:c[0]}),h.jsx("stop",{offset:1,stopColor:c[1]})]}),h.jsxs("linearGradient",{id:"gradient_paint1_linear_"+p,x1:_i/2,y1:_i/2,x2:_i/2,y2:_i,gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{stopColor:c[2]}),h.jsx("stop",{offset:1,stopColor:c[3]})]})]})]})},FL=3,ii=80;function WL(e,t){const r=Oc(e),n=t&&t.length;return Array.from({length:FL},(s,a)=>({color:Ra(r+a,t,n),translateX:ni(r*(a+1),ii/10,1),translateY:ni(r*(a+1),ii/10,2),scale:1.2+ni(r*(a+1),ii/20)/10,rotate:ni(r*(a+1),360,1)}))}const uE=({name:e,colors:t,title:r,square:n,size:s,...a})=>{const c=WL(e,t),p=M.useId();return h.jsxs("svg",{viewBox:"0 0 "+ii+" "+ii,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:s,height:s,...a,children:[r&&h.jsx("title",{children:e}),h.jsx("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:ii,height:ii,children:h.jsx("rect",{width:ii,height:ii,rx:n?void 0:ii*2,fill:"#FFFFFF"})}),h.jsxs("g",{mask:`url(#${p})`,children:[h.jsx("rect",{width:ii,height:ii,fill:c[0].color}),h.jsx("path",{filter:`url(#filter_${p})`,d:"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z",fill:c[1].color,transform:"translate("+c[1].translateX+" "+c[1].translateY+") rotate("+c[1].rotate+" "+ii/2+" "+ii/2+") scale("+c[2].scale+")"}),h.jsx("path",{filter:`url(#filter_${p})`,style:{mixBlendMode:"overlay"},d:"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z",fill:c[2].color,transform:"translate("+c[2].translateX+" "+c[2].translateY+") rotate("+c[2].rotate+" "+ii/2+" "+ii/2+") scale("+c[2].scale+")"})]}),h.jsx("defs",{children:h.jsxs("filter",{id:`filter_${p}`,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[h.jsx("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),h.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),h.jsx("feGaussianBlur",{stdDeviation:7,result:"effect1_foregroundBlur"})]})})]})},UL={pixel:IL,bauhaus:kk,ring:OL,beam:Sk,sunset:zL,marble:uE,geometric:Sk,abstract:kk},HL=({variant:e="marble",colors:t=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"],name:r="Clara Barton",title:n=!1,size:s="40px",square:a=!1,...c})=>{const p=UL[e]||uE;return h.jsx(p,{colors:t,name:r,title:n,size:s,square:a,...c})},_k=new Map,hE=new Set;function GL(e,t=48,r="default"){if(!e)return"";const n=`${e}-${t}`,s=_k.get(n);if(s)return s;if(hE.has(e))return"";const c=`https://unavatar.io/twitter/${e.startsWith("@")?e.slice(1):e}?size=${t}&fallback=false&format=jpeg&quality=80`;return _k.set(n,c),c}function VL(e){if(e){const t=e.startsWith("@")?e.slice(1):e;hE.add(t),console.warn(`[Avatar] Failed to load Twitter avatar for: @${t}`)}}function Rs({name:e,twitter:t,size:r=40,className:n,variant:s="beam",colors:a=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"]}){const[c,p]=M.useState(!1),v=t&&!c,b=t?GL(t,r*2):null;return h.jsx("div",{className:gt("relative overflow-hidden rounded-full shrink-0",n),style:{width:r,height:r},children:v?h.jsx("img",{src:b,alt:e,className:"h-full w-full object-cover",onError:()=>p(!0)}):h.jsx(HL,{size:r,name:e,variant:s,colors:a})})}function Ck(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function La(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Ck(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Ck(e[s],null)}}}}function ir(...e){return M.useCallback(La(...e),e)}function Ia(e){const t=YL(e),r=M.forwardRef((n,s)=>{const{children:a,...c}=n,p=M.Children.toArray(a),v=p.find(KL);if(v){const b=v.props.children,S=p.map(E=>E===v?M.Children.count(b)>1?M.Children.only(null):M.isValidElement(b)?b.props.children:null:E);return h.jsx(t,{...c,ref:s,children:M.isValidElement(b)?M.cloneElement(b,void 0,S):null})}return h.jsx(t,{...c,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var XL=Ia("Slot");function YL(e){const t=M.forwardRef((r,n)=>{const{children:s,...a}=r;if(M.isValidElement(s)){const c=QL(s),p=ZL(a,s.props);return s.type!==M.Fragment&&(p.ref=n?La(n,c):c),M.cloneElement(s,p)}return M.Children.count(s)>1?M.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qL=Symbol("radix.slottable");function KL(e){return M.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qL}function ZL(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...p)=>{const v=a(...p);return s(...p),v}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function QL(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Ek=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Mk=nE,fE=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Mk(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,c=Object.keys(s).map(b=>{const S=r==null?void 0:r[b],E=a==null?void 0:a[b];if(S===null)return null;const A=Ek(S)||Ek(E);return s[b][A]}),p=r&&Object.entries(r).reduce((b,S)=>{let[E,A]=S;return A===void 0||(b[E]=A),b},{}),v=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((b,S)=>{let{class:E,className:A,...z}=S;return Object.entries(z).every(U=>{let[D,R]=U;return Array.isArray(R)?R.includes({...a,...p}[D]):{...a,...p}[D]===R})?[...b,E,A]:b},[]);return Mk(e,c,v,r==null?void 0:r.class,r==null?void 0:r.className)},JL=fE("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background text-foreground hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_t=M.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const c=n?XL:"button";return h.jsx(c,{className:gt(JL({variant:t,size:r,className:e})),ref:a,...s})});_t.displayName="Button";function pb({currentPage:e,totalPages:t,onPageChange:r,itemsPerPage:n,totalItems:s}){const a=(e-1)*n+1,c=Math.min(e*n,s),p=()=>{const v=[];if(t<=7)for(let b=1;b<=t;b++)v.push(b);else{v.push(1),e>3&&v.push("...");const b=Math.max(2,e-1),S=Math.min(t-1,e+1);for(let E=b;E<=S;E++)v.push(E);e<t-2&&v.push("..."),v.push(t)}return v};return t<=1?null:h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-2",children:[h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",a," to ",c," of ",s," results"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(_t,{variant:"outline",size:"sm",onClick:()=>r(e-1),disabled:e===1,children:"Previous"}),h.jsx("div",{className:"flex items-center gap-1",children:p().map((v,b)=>typeof v=="number"?h.jsx(_t,{variant:e===v?"default":"outline",size:"sm",onClick:()=>r(v),className:"w-10",children:v},b):h.jsx("span",{className:"px-2 text-muted-foreground",children:v},b))}),h.jsx(_t,{variant:"outline",size:"sm",onClick:()=>r(e+1),disabled:e===t,children:"Next"})]})]})}const eI="modulepreload",tI=function(e){return"/"+e},jk={},Iu=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(r.map(v=>{if(v=tI(v),v in jk)return;jk[v]=!0;const b=v.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const E=document.createElement("link");if(E.rel=b?"stylesheet":eI,b||(E.as="script"),E.crossOrigin="",E.href=v,p&&E.setAttribute("nonce",p),document.head.appendChild(E),b)return new Promise((A,z)=>{E.addEventListener("load",A),E.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${v}`)))})}))}function a(c){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=c,window.dispatchEvent(p),!p.defaultPrevented)throw c}return s.then(c=>{for(const p of c||[])p.status==="rejected"&&a(p.reason);return t().catch(a)})},rI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Iu(async()=>{const{default:n}=await Promise.resolve().then(()=>Rc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class gb extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Nk extends gb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Tk extends gb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ak extends gb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hy||(Hy={}));var iI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{b(n.next(S))}catch(E){c(E)}}function v(S){try{b(n.throw(S))}catch(E){c(E)}}function b(S){S.done?a(S.value):s(S.value).then(p,v)}b((n=n.apply(e,t||[])).next())})};class nI{constructor(t,{headers:r={},customFetch:n,region:s=Hy.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=rI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return iI(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:c,signal:p}=r;let v={},{region:b}=r;b||(b=this.region);const S=new URL(`${this.url}/${t}`);b&&b!=="any"&&(v["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let E;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=c):typeof c=="string"?(v["Content-Type"]="text/plain",E=c):typeof FormData<"u"&&c instanceof FormData?E=c:(v["Content-Type"]="application/json",E=JSON.stringify(c)));const A=yield this.fetch(S.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),s),body:E,signal:p}).catch(R=>{throw R.name==="AbortError"?R:new Nk(R)}),z=A.headers.get("x-relay-error");if(z&&z==="true")throw new Tk(A);if(!A.ok)throw new Ak(A);let U=((n=A.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),D;return U==="application/json"?D=yield A.json():U==="application/octet-stream"?D=yield A.blob():U==="text/event-stream"?D=A:U==="multipart/form-data"?D=yield A.formData():D=yield A.text(),{data:D,error:null,response:A}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Nk(s)}:{data:null,error:s,response:s instanceof Ak||s instanceof Tk?s.context:void 0}}})}}var Mi={},mb={},gg={},Du={},mg={},vg={},sI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wc=sI();const oI=wc.fetch,pE=wc.fetch.bind(wc),gE=wc.Headers,aI=wc.Request,lI=wc.Response,Rc=Object.freeze(Object.defineProperty({__proto__:null,Headers:gE,Request:aI,Response:lI,default:pE,fetch:oI},Symbol.toStringTag,{value:"Module"})),cI=bA(Rc);var xg={};Object.defineProperty(xg,"__esModule",{value:!0});let dI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xg.default=dI;var mE=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vg,"__esModule",{value:!0});const uI=mE(cI),hI=mE(xg);let fI=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=uI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var c,p,v,b;let S=null,E=null,A=null,z=a.status,U=a.statusText;if(a.ok){if(this.method!=="HEAD"){const T=await a.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?E=T:E=JSON.parse(T))}const R=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),I=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");R&&I&&I.length>1&&(A=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(S={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,A=null,z=406,U="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const R=await a.text();try{S=JSON.parse(R),Array.isArray(S)&&a.status===404&&(E=[],S=null,z=200,U="OK")}catch{a.status===404&&R===""?(z=204,U="No Content"):S={message:R}}if(S&&this.isMaybeSingle&&(!((b=S==null?void 0:S.details)===null||b===void 0)&&b.includes("0 rows"))&&(S=null,z=200,U="OK"),S&&this.shouldThrowOnError)throw new hI.default(S)}return{error:S,data:E,count:A,status:z,statusText:U}});return this.shouldThrowOnError||(s=s.catch(a=>{var c,p,v;return{error:{message:`${(c=a==null?void 0:a.name)!==null&&c!==void 0?c:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=a==null?void 0:a.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};vg.default=fI;var pI=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mg,"__esModule",{value:!0});const gI=pI(vg);let mI=class extends gI.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const c=a?`${a}.order`:"order",p=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${p?`${p},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(c,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:c="text"}={}){var p;const v=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),b=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${b}"; options=${v};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};mg.default=mI;var vI=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Du,"__esModule",{value:!0});const xI=vI(mg);let yI=class extends xI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const c=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${c}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Du.default=yI;var bI=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gg,"__esModule",{value:!0});const Bd=bI(Du);let wI=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const c=(t??"*").split("").map(p=>/\s/.test(p)&&!a?"":(p==='"'&&(a=!a),p)).join("");return this.url.searchParams.set("select",c),n&&this.headers.append("Prefer",`count=${n}`),new Bd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(c.length>0){const p=[...new Set(c)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new Bd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var c;const p="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const v=t.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(v.length>0){const b=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",b.join(","))}}return new Bd.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Bd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Bd.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};gg.default=wI;var vE=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mb,"__esModule",{value:!0});const kI=vE(gg),SI=vE(Du);let _I=class xE{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new kI.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new xE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var c;let p;const v=new URL(`${this.url}/rpc/${t}`);let b;n||s?(p=n?"HEAD":"GET",Object.entries(r).filter(([E,A])=>A!==void 0).map(([E,A])=>[E,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([E,A])=>{v.searchParams.append(E,A)})):(p="POST",b=r);const S=new Headers(this.headers);return a&&S.set("Prefer",`count=${a}`),new SI.default({method:p,url:v,headers:S,schema:this.schemaName,body:b,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};mb.default=_I;var Lc=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.PostgrestError=Mi.PostgrestBuilder=Mi.PostgrestTransformBuilder=Mi.PostgrestFilterBuilder=Mi.PostgrestQueryBuilder=Mi.PostgrestClient=void 0;const yE=Lc(mb);Mi.PostgrestClient=yE.default;const bE=Lc(gg);Mi.PostgrestQueryBuilder=bE.default;const wE=Lc(Du);Mi.PostgrestFilterBuilder=wE.default;const kE=Lc(mg);Mi.PostgrestTransformBuilder=kE.default;const SE=Lc(vg);Mi.PostgrestBuilder=SE.default;const _E=Lc(xg);Mi.PostgrestError=_E.default;var CI=Mi.default={PostgrestClient:yE.default,PostgrestQueryBuilder:bE.default,PostgrestFilterBuilder:wE.default,PostgrestTransformBuilder:kE.default,PostgrestBuilder:SE.default,PostgrestError:_E.default};const{PostgrestClient:EI,PostgrestQueryBuilder:VF,PostgrestFilterBuilder:XF,PostgrestTransformBuilder:YF,PostgrestBuilder:qF,PostgrestError:KF}=CI;class MI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const jI="2.15.5",NI=`realtime-js/${jI}`,TI="1.0.0",Gy=1e4,AI=1e3,PI=100;var su;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(su||(su={}));var Pr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pr||(Pr={}));var Tn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tn||(Tn={}));var Vy;(function(e){e.websocket="websocket"})(Vy||(Vy={}));var Sa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sa||(Sa={}));class OI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let c=this.HEADER_LENGTH+2;const p=n.decode(t.slice(c,c+s));c=c+s;const v=n.decode(t.slice(c,c+a));c=c+a;const b=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:p,event:v,payload:b}}}class CE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const Pk=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,c)=>(a[c]=RI(c,e,t,s),a),{})},RI=(e,t,r,n)=>{const s=t.find(p=>p.name===e),a=s==null?void 0:s.type,c=r[e];return a&&!n.includes(a)?EE(a,c):Xy(c)},EE=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return BI(t,r)}switch(e){case Yt.bool:return LI(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return II(t);case Yt.json:case Yt.jsonb:return DI(t);case Yt.timestamp:return $I(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return Xy(t);default:return Xy(t)}},Xy=e=>e,LI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},II=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},BI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(p=>EE(t,p))}return e},$I=e=>typeof e=="string"?e.replace(" ","T"):e,ME=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class yx{constructor(t,r,n={},s=Gy){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ok;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ok||(Ok={}));class ou{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:c,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ou.syncState(this.state,s,a,c),this.pendingDiffs.forEach(v=>{this.state=ou.syncDiff(this.state,v,a,c)}),this.pendingDiffs=[],p()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:c,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ou.syncDiff(this.state,s,a,c),p())}),this.onJoin((s,a,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:c})}),this.onLeave((s,a,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),c=this.transformState(r),p={},v={};return this.map(a,(b,S)=>{c[b]||(v[b]=S)}),this.map(c,(b,S)=>{const E=a[b];if(E){const A=S.map(R=>R.presence_ref),z=E.map(R=>R.presence_ref),U=S.filter(R=>z.indexOf(R.presence_ref)<0),D=E.filter(R=>A.indexOf(R.presence_ref)<0);U.length>0&&(p[b]=U),D.length>0&&(v[b]=D)}else p[b]=S}),this.syncDiff(a,{joins:p,leaves:v},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(p,v)=>{var b;const S=(b=t[p])!==null&&b!==void 0?b:[];if(t[p]=this.cloneDeep(v),S.length>0){const E=t[p].map(z=>z.presence_ref),A=S.filter(z=>E.indexOf(z.presence_ref)<0);t[p].unshift(...A)}n(p,S,v)}),this.map(c,(p,v)=>{let b=t[p];if(!b)return;const S=v.map(E=>E.presence_ref);b=b.filter(E=>S.indexOf(E.presence_ref)<0),t[p]=b,s(p,b,v),b.length===0&&delete t[p]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rk||(Rk={}));var au;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(au||(au={}));var Ss;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ss||(Ss={}));class vb{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yx(this,Tn.join,this.params,this.timeout),this.rejoinTimer=new CE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new ou(this),this.broadcastEndpointURL=ME(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Pr.closed){const{config:{broadcast:c,presence:p,private:v}}=this.params,b=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(z=>z.filter))!==null&&s!==void 0?s:[],S=!!this.bindings[au.PRESENCE]&&this.bindings[au.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,E={},A={broadcast:c,presence:Object.assign(Object.assign({},p),{enabled:S}),postgres_changes:b,private:v};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(z=>t==null?void 0:t(Ss.CHANNEL_ERROR,z)),this._onClose(()=>t==null?void 0:t(Ss.CLOSED)),this.updateJoinPayload(Object.assign({config:A},E)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:z})=>{var U;if(this.socket.setAuth(),z===void 0){t==null||t(Ss.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,R=(U=D==null?void 0:D.length)!==null&&U!==void 0?U:0,I=[];for(let T=0;T<R;T++){const O=D[T],{filter:{event:q,schema:ae,table:re,filter:ce}}=O,J=z&&z[T];if(J&&J.event===q&&J.schema===ae&&J.table===re&&J.filter===ce)I.push(Object.assign(Object.assign({},O),{id:J.id}));else{this.unsubscribe(),this.state=Pr.errored,t==null||t(Ss.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,t&&t(Ss.SUBSCRIBED);return}}).receive("error",z=>{this.state=Pr.errored,t==null||t(Ss.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(z).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ss.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pr.joined&&t===au.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:c}=t,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=b.body)===null||s===void 0?void 0:s.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,p,v;const b=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((v=(p=(c=this.params)===null||c===void 0?void 0:c.config)===null||p===void 0?void 0:p.broadcast)===null||v===void 0)&&v.ack)&&a("ok"),b.receive("ok",()=>a("ok")),b.receive("error",()=>a("error")),b.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new yx(this,Tn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yx(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>PI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const c=t.toLocaleLowerCase(),{close:p,error:v,leave:b,join:S}=Tn;if(n&&[p,v,b,S].indexOf(c)>=0&&n!==this._joinRef())return;let A=this._onMessage(c,r,n);if(r&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(z=>{var U,D,R;return((U=z.filter)===null||U===void 0?void 0:U.event)==="*"||((R=(D=z.filter)===null||D===void 0?void 0:D.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(z=>z.callback(A,n)):(a=this.bindings[c])===null||a===void 0||a.filter(z=>{var U,D,R,I,T,O;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in z){const q=z.id,ae=(U=z.filter)===null||U===void 0?void 0:U.event;return q&&((D=r.ids)===null||D===void 0?void 0:D.includes(q))&&(ae==="*"||(ae==null?void 0:ae.toLocaleLowerCase())===((R=r.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const q=(T=(I=z==null?void 0:z.filter)===null||I===void 0?void 0:I.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return q==="*"||q===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return z.type.toLocaleLowerCase()===c}).map(z=>{if(typeof A=="object"&&"ids"in A){const U=A.data,{schema:D,table:R,commit_timestamp:I,type:T,errors:O}=U;A=Object.assign(Object.assign({},{schema:D,table:R,commit_timestamp:I,eventType:T,new:{},old:{},errors:O}),this._getPayloadRecords(U))}z.callback(A,n)})}_isClosed(){return this.state===Pr.closed}_isJoined(){return this.state===Pr.joined}_isJoining(){return this.state===Pr.joining}_isLeaving(){return this.state===Pr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&vb.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tn.close,{},t)}_onError(t){this._on(Tn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Pk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Pk(t.columns,t.old_record)),r}}const bx=()=>{},$f={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zI=[1e3,2e3,5e3,1e4],FI=1e4,WI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UI{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gy,this.transport=null,this.heartbeatIntervalMs=$f.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bx,this.ref=0,this.reconnectTimer=null,this.logger=bx,this.conn=null,this.sendBuffer=[],this.serializer=new OI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...c)=>Iu(async()=>{const{default:p}=await Promise.resolve().then(()=>Rc);return{default:p}},void 0).then(({default:p})=>p(...c)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...c)=>a(...c)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Vy.websocket}`,this.httpEndpoint=ME(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=MI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:TI}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case su.connecting:return Sa.Connecting;case su.open:return Sa.Open;case su.closing:return Sa.Closing;default:return Sa.Closed}}isConnected(){return this.connectionState()===Sa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new vb(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,c=()=>{this.encode(t,p=>{var v;(v=this.conn)===null||v===void 0||v.send(p)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(AI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$f.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(b){this.log("error","error in heartbeat callback",b)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:c}=r,p=c?`(${c})`:"",v=a.status||"";this.log("receive",`${v} ${n} ${s} ${p}`.trim(),a),this.channels.filter(b=>b._isMember(n)).forEach(b=>b._trigger(s,a,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([WI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:NI};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Tn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new CE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$f.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,c,p,v,b,S;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Gy,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:$f.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(p=t==null?void 0:t.heartbeatCallback)!==null&&p!==void 0?p:bx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=t==null?void 0:t.reconnectAfterMs)!==null&&v!==void 0?v:E=>zI[E-1]||FI,this.encode=(b=t==null?void 0:t.encode)!==null&&b!==void 0?b:(E,A)=>A(JSON.stringify(E)),this.decode=(S=t==null?void 0:t.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class xb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _r(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class HI extends xb{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yy extends xb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var GI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{b(n.next(S))}catch(E){c(E)}}function v(S){try{b(n.throw(S))}catch(E){c(E)}}function b(S){S.done?a(S.value):s(S.value).then(p,v)}b((n=n.apply(e,t||[])).next())})};const jE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Iu(async()=>{const{default:n}=await Promise.resolve().then(()=>Rc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},VI=()=>GI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Iu(()=>Promise.resolve().then(()=>Rc),void 0)).Response:Response}),qy=e=>{if(Array.isArray(e))return e.map(r=>qy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=qy(n)}),t},XI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var qa=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{b(n.next(S))}catch(E){c(E)}}function v(S){try{b(n.throw(S))}catch(E){c(E)}}function b(S){S.done?a(S.value):s(S.value).then(p,v)}b((n=n.apply(e,t||[])).next())})};const wx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YI=(e,t,r)=>qa(void 0,void 0,void 0,function*(){const n=yield VI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,c=(s==null?void 0:s.statusCode)||a+"";t(new HI(wx(s),a,c))}).catch(s=>{t(new Yy(wx(s),s))}):t(new Yy(wx(e),e))}),qI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(XI(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Bu(e,t,r,n,s,a){return qa(this,void 0,void 0,function*(){return new Promise((c,p)=>{e(r,qI(t,n,s,a)).then(v=>{if(!v.ok)throw v;return n!=null&&n.noResolveJson?v:v.json()}).then(v=>c(v)).catch(v=>YI(v,p,n))})})}function Bp(e,t,r,n){return qa(this,void 0,void 0,function*(){return Bu(e,"GET",t,r,n)})}function Qn(e,t,r,n,s){return qa(this,void 0,void 0,function*(){return Bu(e,"POST",t,n,s,r)})}function Ky(e,t,r,n,s){return qa(this,void 0,void 0,function*(){return Bu(e,"PUT",t,n,s,r)})}function KI(e,t,r,n){return qa(this,void 0,void 0,function*(){return Bu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function NE(e,t,r,n,s){return qa(this,void 0,void 0,function*(){return Bu(e,"DELETE",t,n,s,r)})}var ZI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{b(n.next(S))}catch(E){c(E)}}function v(S){try{b(n.throw(S))}catch(E){c(E)}}function b(S){S.done?a(S.value):s(S.value).then(p,v)}b((n=n.apply(e,t||[])).next())})};class QI{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ZI(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}}var JI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{b(n.next(S))}catch(E){c(E)}}function v(S){try{b(n.throw(S))}catch(E){c(E)}}function b(S){S.done?a(S.value):s(S.value).then(p,v)}b((n=n.apply(e,t||[])).next())})};class eD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new QI(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return JI(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}}var Ci=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{b(n.next(S))}catch(E){c(E)}}function v(S){try{b(n.throw(S))}catch(E){c(E)}}function b(S){S.done?a(S.value):s(S.value).then(p,v)}b((n=n.apply(e,t||[])).next())})};const tD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rD{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=jE(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Ci(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},Lk),s);let p=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const v=c.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),v&&a.append("metadata",this.encodeMetadata(v)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl),v&&a.append("metadata",this.encodeMetadata(v))):(a=n,p["cache-control"]=`max-age=${c.cacheControl}`,p["content-type"]=c.contentType,v&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),s!=null&&s.headers&&(p=Object.assign(Object.assign({},p),s.headers));const b=this._removeEmptyFolders(r),S=this._getFinalPath(b),E=yield(t=="PUT"?Ky:Qn)(this.fetch,`${this.url}/object/${S}`,a,Object.assign({headers:p},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:b,id:E.Id,fullPath:E.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_r(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ci(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ci(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),p=new URL(this.url+`/object/upload/sign/${c}`);p.searchParams.set("token",r);try{let v;const b=Object.assign({upsert:Lk.upsert},s),S=Object.assign(Object.assign({},this.headers),{"x-upsert":String(b.upsert)});typeof Blob<"u"&&n instanceof Blob?(v=new FormData,v.append("cacheControl",b.cacheControl),v.append("",n)):typeof FormData<"u"&&n instanceof FormData?(v=n,v.append("cacheControl",b.cacheControl)):(v=n,S["cache-control"]=`max-age=${b.cacheControl}`,S["content-type"]=b.contentType);const E=yield Ky(this.fetch,p.toString(),v,{headers:S});return{data:{path:a,fullPath:E.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(_r(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(t,r){return Ci(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Qn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),c=new URL(this.url+a.url),p=c.searchParams.get("token");if(!p)throw new xb("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:p},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ci(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ci(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ci(this,void 0,void 0,function*(){try{return{data:{path:(yield Qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ci(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Qn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ci(this,void 0,void 0,function*(){try{const s=yield Qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=a?`?${a}`:"",p=this._getFinalPath(t),v=()=>Bp(this.fetch,`${this.url}/${s}/${p}${c}`,{headers:this.headers,noResolveJson:!0});return new eD(v,this.shouldThrowOnError)}info(t){return Ci(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Bp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:qy(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}exists(t){return Ci(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield KI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n)&&n instanceof Yy){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const p=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});v!==""&&s.push(v);let b=s.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${n}${b}`)}}}remove(t){return Ci(this,void 0,void 0,function*(){try{return{data:yield NE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ci(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tD),r),{prefix:t||""});return{data:yield Qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_r(s))return{data:null,error:s};throw s}})}listV2(t,r){return Ci(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const iD="2.12.2",nD={"X-Client-Info":`storage-js/${iD}`};var Tl=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{b(n.next(S))}catch(E){c(E)}}function v(S){try{b(n.throw(S))}catch(E){c(E)}}function b(S){S.done?a(S.value):s(S.value).then(p,v)}b((n=n.apply(e,t||[])).next())})};class sD{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},nD),r),this.fetch=jE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Tl(this,void 0,void 0,function*(){try{return{data:yield Bp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(_r(t))return{data:null,error:t};throw t}})}getBucket(t){return Tl(this,void 0,void 0,function*(){try{return{data:yield Bp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Tl(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Tl(this,void 0,void 0,function*(){try{return{data:yield Ky(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_r(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Tl(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Tl(this,void 0,void 0,function*(){try{return{data:yield NE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_r(r))return{data:null,error:r};throw r}})}}class oD extends sD{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new rD(this.url,this.headers,t,this.fetch)}}const aD="2.58.0";let Yd="";typeof Deno<"u"?Yd="deno":typeof document<"u"?Yd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yd="react-native":Yd="node";const lD={"X-Client-Info":`supabase-js-${Yd}/${aD}`},cD={headers:lD},dD={schema:"public"},uD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hD={};var fD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{b(n.next(S))}catch(E){c(E)}}function v(S){try{b(n.throw(S))}catch(E){c(E)}}function b(S){S.done?a(S.value):s(S.value).then(p,v)}b((n=n.apply(e,t||[])).next())})};const pD=e=>{let t;return e?t=e:typeof fetch>"u"?t=pE:t=fetch,(...r)=>t(...r)},gD=()=>typeof Headers>"u"?gE:Headers,mD=(e,t,r)=>{const n=pD(r),s=gD();return(a,c)=>fD(void 0,void 0,void 0,function*(){var p;const v=(p=yield t())!==null&&p!==void 0?p:e;let b=new s(c==null?void 0:c.headers);return b.has("apikey")||b.set("apikey",e),b.has("Authorization")||b.set("Authorization",`Bearer ${v}`),n(a,Object.assign(Object.assign({},c),{headers:b}))})};var vD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{b(n.next(S))}catch(E){c(E)}}function v(S){try{b(n.throw(S))}catch(E){c(E)}}function b(S){S.done?a(S.value):s(S.value).then(p,v)}b((n=n.apply(e,t||[])).next())})};function xD(e){return e.endsWith("/")?e:e+"/"}function yD(e,t){var r,n;const{db:s,auth:a,realtime:c,global:p}=e,{db:v,auth:b,realtime:S,global:E}=t,A={db:Object.assign(Object.assign({},v),s),auth:Object.assign(Object.assign({},b),a),realtime:Object.assign(Object.assign({},S),c),storage:{},global:Object.assign(Object.assign(Object.assign({},E),p),{headers:Object.assign(Object.assign({},(r=E==null?void 0:E.headers)!==null&&r!==void 0?r:{}),(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>vD(this,void 0,void 0,function*(){return""})};return e.accessToken?A.accessToken=e.accessToken:delete A.accessToken,A}function bD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TE="2.72.0",$l=30*1e3,Zy=3,kx=Zy*$l,wD="http://localhost:9999",kD="supabase.auth.token",SD={"X-Client-Info":`gotrue-js/${TE}`},Qy="X-Supabase-Api-Version",AE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_D=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CD=10*60*1e3;class yb extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function St(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ED extends yb{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function MD(e){return St(e)&&e.name==="AuthApiError"}class PE extends yb{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Go extends yb{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class xo extends Go{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jD(e){return St(e)&&e.name==="AuthSessionMissingError"}class $d extends Go{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zf extends Go{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ff extends Go{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ND(e){return St(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ik extends Go{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jy extends Go{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Sx(e){return St(e)&&e.name==="AuthRetryableFetchError"}class Dk extends Go{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class e0 extends Go{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bk=` 	
\r=`.split(""),TD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bk.length;t+=1)e[Bk[t].charCodeAt(0)]=-2;for(let t=0;t<$p.length;t+=1)e[$p[t].charCodeAt(0)]=t;return e})();function $k(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($p[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($p[n]),t.queuedBits-=6}}function OE(e,t,r){const n=TD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zk(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=c=>{OD(c,n,r)};for(let c=0;c<e.length;c+=1)OE(e.charCodeAt(c),s,a);return t.join("")}function AD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function PD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}AD(n,t)}}function OD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function RD(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)OE(e.charCodeAt(s),r,n);return new Uint8Array(t)}function LD(e){const t=[];return PD(e,r=>t.push(r)),new Uint8Array(t)}function ID(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>$k(s,r,n)),$k(null,r,n),t.join("")}function DD(e){return Math.round(Date.now()/1e3)+e}function BD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ln=()=>typeof window<"u"&&typeof document<"u",ma={tested:!1,writable:!1},RE=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ma.tested)return ma.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ma.tested=!0,ma.writable=!0}catch{ma.tested=!0,ma.writable=!1}return ma.writable};function $D(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const LE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Iu(async()=>{const{default:n}=await Promise.resolve().then(()=>Rc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},va=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vo=async(e,t)=>{await e.removeItem(t)};class yg{constructor(){this.promise=new yg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yg.promiseConstructor=Promise;function _x(e){const t=e.split(".");if(t.length!==3)throw new e0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_D.test(t[n]))throw new e0("JWT not in base64url format");return{header:JSON.parse(zk(t[0])),payload:JSON.parse(zk(t[1])),signature:RD(t[2]),raw:{header:t[0],payload:t[1]}}}async function FD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WD(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){n(c);return}}catch(c){if(!t(a,c)){s(c);return}}})()})}function UD(e){return("0"+e.toString(16)).substr(-2)}function HD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,UD).join("")}async function GD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function VD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Al(e,t,r=!1){const n=HD();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await zl(e,`${t}-code-verifier`,s);const a=await VD(n);return[a,n===a?"plain":"s256"]}const XD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YD(e){const t=e.headers.get(Qy);if(!t||!t.match(XD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function KD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pl(e){if(!ZD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fk(e){return JSON.parse(JSON.stringify(e))}var QD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ba=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JD=[502,503,504];async function Wk(e){var t;if(!zD(e))throw new Jy(ba(e),0);if(JD.includes(e.status))throw new Jy(ba(e),e.status);let r;try{r=await e.json()}catch(a){throw new PE(ba(a),a)}let n;const s=YD(e);if(s&&s.getTime()>=AE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Dk(ba(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Dk(ba(r),e.status,r.weak_password.reasons);throw new ED(ba(r),e.status||500,n)}const e5=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Tt(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Qy]||(a[Qy]=AE["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const c=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const p=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",v=await t5(e,t,r+p,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(v):{data:Object.assign({},v),error:null}}async function t5(e,t,r,n,s,a){const c=e5(t,n,s,a);let p;try{p=await e(r,Object.assign({},c))}catch(v){throw console.error(v),new Jy(ba(v),0)}if(p.ok||await Wk(p),n!=null&&n.noResolveJson)return p;try{return await p.json()}catch(v){await Wk(v)}}function Kn(e){var t;let r=null;s5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=DD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Uk(e){const t=Kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _o(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function r5(e){return{data:e,error:null}}function i5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,c=QD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},v=Object.assign({},c);return{data:{properties:p,user:v},error:null}}function n5(e){return e}function s5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ex=["global","local","others"];var o5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class a5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=LE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ex[0]){if(Ex.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ex.join(", ")}`);try{return await Tt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_o})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=o5(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:i5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(St(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Tt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_o})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,c,p,v;try{const b={nextPage:null,lastPage:0,total:0},S=await Tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:n5});if(S.error)throw S.error;const E=await S.json(),A=(c=S.headers.get("x-total-count"))!==null&&c!==void 0?c:0,z=(v=(p=S.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&v!==void 0?v:[];return z.length>0&&(z.forEach(U=>{const D=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(U.split(";")[1].split("=")[1]);b[`${R}Page`]=D}),b.total=parseInt(A)),{data:Object.assign(Object.assign({},E),b),error:null}}catch(b){if(St(b))return{data:{users:[]},error:b};throw b}}async getUserById(t){Pl(t);try{return await Tt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_o})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Pl(t);try{return await Tt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_o})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Pl(t);try{return await Tt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_o})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pl(t.userId);try{const{data:r,error:n}=await Tt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Pl(t.userId),Pl(t.id);try{return{data:await Tt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}}function Hk(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function l5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ol={debug:!!(globalThis&&RE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class c5 extends IE{}async function d5(e,t,r){Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new c5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ol.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function DE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function u5(e){return parseInt(e,16)}function h5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function f5(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:c,notBefore:p,requestId:v,resources:b,scheme:S,uri:E,version:A}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const z=DE(e.address),U=S?`${S}://${n}`:n,D=e.statement?`${e.statement}
`:"",R=`${U} wants you to sign in with your Ethereum account:
${z}

${D}`;let I=`URI: ${E}
Version: ${A}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(s&&(I+=`
Expiration Time: ${s.toISOString()}`),p&&(I+=`
Not Before: ${p.toISOString()}`),v&&(I+=`
Request ID: ${v}`),b){let T=`
Resources:`;for(const O of b){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);T+=`
- ${O}`}I+=T}return`${R}
${I}`}l5();const p5={url:wD,storageKey:kD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gk(e,t,r){return await r()}const Rl={};class Mu{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mu.nextInstanceID,Mu.nextInstanceID+=1,this.instanceID>0&&ln()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},p5),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new a5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=LE(s.fetch),this.lock=s.lock||Gk,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ln()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=d5:this.lock=Gk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:RE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hk(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Hk(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Rl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Rl[this.storageKey]=Object.assign(Object.assign({},Rl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Rl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Rl[this.storageKey]=Object.assign(Object.assign({},Rl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=$D(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ln()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),ND(a)){const v=(t=a.details)===null||t===void 0?void 0:t.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:p}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",p),await this._saveSession(c),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return St(r)?{error:r}:{error:new PE("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Kn}),{data:c,error:p}=a;if(p||!c)return{data:{user:null,session:null},error:p};const v=c.session,b=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:b,session:v},error:null}}catch(a){if(St(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:S,password:E,options:A}=t;let z=null,U=null;this.flowType==="pkce"&&([z,U]=await Al(this.storage,this.storageKey)),a=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:S,password:E,data:(r=A==null?void 0:A.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:z,code_challenge_method:U},xform:Kn})}else if("phone"in t){const{phone:S,password:E,options:A}=t;a=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:E,data:(n=A==null?void 0:A.data)!==null&&n!==void 0?n:{},channel:(s=A==null?void 0:A.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:Kn})}else throw new zf("You must provide either an email or phone number and a password");const{data:c,error:p}=a;if(p||!c)return{data:{user:null,session:null},error:p};const v=c.session,b=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:b,session:v},error:null}}catch(a){if(St(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:p}=t;r=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Uk})}else if("phone"in t){const{phone:a,password:c,options:p}=t;r=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Uk})}else throw new zf("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new $d}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,c,p,v,b,S,E,A;let z,U;if("message"in t)z=t.message,U=t.signature;else{const{chain:D,wallet:R,statement:I,options:T}=t;let O;if(ln())if(typeof R=="object")O=R;else{const we=window;if("ethereum"in we&&typeof we.ethereum=="object"&&"request"in we.ethereum&&typeof we.ethereum.request=="function")O=we.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=R}const q=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href),ae=await O.request({method:"eth_requestAccounts"}).then(we=>we).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=DE(ae[0]);let ce=(n=T==null?void 0:T.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!ce){const we=await O.request({method:"eth_chainId"});ce=u5(we)}const J={domain:q.host,address:re,statement:I,uri:q.href,version:"1",chainId:ce,nonce:(s=T==null?void 0:T.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(a=T==null?void 0:T.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(p=T==null?void 0:T.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(v=T==null?void 0:T.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(b=T==null?void 0:T.signInWithEthereum)===null||b===void 0?void 0:b.requestId,resources:(S=T==null?void 0:T.signInWithEthereum)===null||S===void 0?void 0:S.resources};z=f5(J),U=await O.request({method:"personal_sign",params:[h5(z),re]})}try{const{data:D,error:R}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:z,signature:U},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(A=t.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Kn});if(R)throw R;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new $d}:(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:R})}catch(D){if(St(D))return{data:{user:null,session:null},error:D};throw D}}async signInWithSolana(t){var r,n,s,a,c,p,v,b,S,E,A,z;let U,D;if("message"in t)U=t.message,D=t.signature;else{const{chain:R,wallet:I,statement:T,options:O}=t;let q;if(ln())if(typeof I=="object")q=I;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))q=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=I}const ae=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){const re=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),T?{statement:T}:null));let ce;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")ce=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)ce=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)U=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),D=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${ae.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(s=(n=O==null?void 0:O.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=O==null?void 0:O.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((p=O==null?void 0:O.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((v=O==null?void 0:O.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((b=O==null?void 0:O.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((E=(S=O==null?void 0:O.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||E===void 0)&&E.length?["Resources",...O.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);const re=await q.signMessage(new TextEncoder().encode(U),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=re}}try{const{data:R,error:I}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:ID(D)},!((A=t.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(z=t.options)===null||z===void 0?void 0:z.captchaToken}}:null),xform:Kn});if(I)throw I;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new $d}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:I})}catch(R){if(St(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(t){const r=await va(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:c}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Kn});if(await vo(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new $d}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:c})}catch(a){if(St(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:c}=t,p=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Kn}),{data:v,error:b}=p;return b?{data:{user:null,session:null},error:b}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new $d}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:b})}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,c;try{if("email"in t){const{email:p,options:v}=t;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await Al(this.storage,this.storageKey));const{error:E}=await Tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},create_user:(n=v==null?void 0:v.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:S},redirectTo:v==null?void 0:v.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in t){const{phone:p,options:v}=t,{data:b,error:S}=await Tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},create_user:(a=v==null?void 0:v.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(c=v==null?void 0:v.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:S}}throw new zf("You must provide either an email or phone number.")}catch(p){if(St(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:p}=await Tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Kn});if(p)throw p;if(!c)throw new Error("An error occurred on token verification.");const v=c.session,b=c.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:b,session:v},error:null}}catch(s){if(St(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Al(this.storage,this.storageKey)),await Tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:r5})}catch(a){if(St(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xo;const{error:s}=await Tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(St(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:c}=await Tt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:c,error:p}=await Tt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:p}}throw new zf("You must provide either an email or phone number and a type")}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<kx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await va(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Cx()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(v,b,S)=>(!c&&b==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,b,S))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_o}):await this._useSession(async r=>{var n,s,a;const{data:c,error:p}=r;if(p)throw p;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xo}:await Tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:_o})})}catch(r){if(St(r))return jD(r)&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new xo;const c=s.session;let p=null,v=null;this.flowType==="pkce"&&t.email!=null&&([p,v]=await Al(this.storage,this.storageKey));const{data:b,error:S}=await Tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:v}),jwt:c.access_token,xform:_o});if(S)throw S;return c.user=b.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xo;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:c}=_x(t.access_token);if(c.exp&&(n=c.exp,s=n<=r),s){const{session:p,error:v}=await this._callRefreshToken(t.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!p)return{data:{user:null,session:null},error:null};a=p}else{const{data:p,error:v}=await this._getUser(t.access_token);if(v)throw v;a={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(St(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:p}=r;if(p)throw p;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new xo;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(St(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ln())throw new Ff("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ff(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ik("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ff("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ik("No code detected.");const{data:T,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:c,expires_in:p,expires_at:v,token_type:b}=t;if(!a||!p||!c||!b)throw new Ff("No session defined in URL");const S=Math.round(Date.now()/1e3),E=parseInt(p);let A=S+E;v&&(A=parseInt(v));const z=A-S;z*1e3<=$l&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${z}s, should have been closer to ${E}s`);const U=A-E;S-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,A,S):S-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,A,S);const{data:D,error:R}=await this._getUser(a);if(R)throw R;const I={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:E,expires_at:A,refresh_token:c,token_type:b,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(n){if(St(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await va(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const c=(n=s.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:p}=await this.admin.signOut(c,t);if(p&&!(MD(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return t!=="others"&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=BD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Al(this.storage,this.storageKey,!0));try{return await Tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(St(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var c,p,v,b,S;const{data:E,error:A}=a;if(A)throw A;const z=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(v=t.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await Tt(this.fetch,"GET",z,{headers:this.headers,jwt:(S=(b=E.session)===null||b===void 0?void 0:b.access_token)!==null&&S!==void 0?S:void 0})});if(s)throw s;return ln()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(St(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:c}=r;if(c)throw c;return await Tt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await WD(async s=>(s>0&&await FD(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kn})),(s,a)=>{const c=200*Math.pow(2,s);return a&&Sx(a)&&Date.now()+c-n<$l})}catch(n){if(this._debug(r,"error",n),St(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await va(this.storage,this.storageKey);if(s&&this.userStorage){let c=await va(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await zl(this.userStorage,this.storageKey+"-user",c)),s.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Cx()}else if(s&&!s.user&&!s.user){const c=await va(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(s.user=c.user,await vo(this.storage,this.storageKey+"-user"),await zl(this.storage,this.storageKey,s)):s.user=Cx()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kx;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${kx}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),Sx(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:p}=await this._getUser(s.access_token);!p&&(c!=null&&c.user)?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yg;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new xo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const p={session:a.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(a){if(this._debug(s,"error",a),St(a)){const c={session:null,error:a};return Sx(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,r)}catch(v){a.push(v)}});if(await Promise.all(c),a.length>0){for(let p=0;p<a.length;p+=1)console.error(a[p]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Fk(s);await zl(this.storage,this.storageKey,a)}else{const s=Fk(r);await zl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await vo(this.storage,this.storageKey),await vo(this.storage,this.storageKey+"-code-verifier"),await vo(this.storage,this.storageKey+"-user"),this.userStorage&&await vo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$l);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/$l);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$l}ms, refresh threshold is ${Zy} ticks`),s<=Zy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof IE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,c]=await Al(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(p.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Tt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:c}=r;if(c)return{data:null,error:c};const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:v,error:b}=await Tt(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return b?{data:null,error:b}:(t.factorType==="totp"&&(!((s=v==null?void 0:v.totp)===null||s===void 0)&&s.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:c,error:p}=await Tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:p})})}catch(r){if(St(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(St(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=_x(s.access_token);let p=null;c.aal&&(p=c.aal);let v=p;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(E=>E.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const S=c.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:S},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(p=>p.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(p=>p.kid===t),n&&this.jwks_cached_at+CD>s)return n;const{data:a,error:c}=await Tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(p=>p.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:z,error:U}=await this.getSession();if(U||!z.session)return{data:null,error:U};n=z.session.access_token}const{header:s,payload:a,signature:c,raw:{header:p,payload:v}}=_x(n);r!=null&&r.allowExpired||qD(a.exp);const b=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!b){const{error:z}=await this.getUser(n);if(z)throw z;return{data:{claims:a,header:s,signature:c},error:null}}const S=KD(s.alg),E=await crypto.subtle.importKey("jwk",b,S,!0,["verify"]);if(!await crypto.subtle.verify(S,E,c,LD(`${p}.${v}`)))throw new e0("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}}}Mu.nextInstanceID=0;const g5=Mu;class m5 extends g5{constructor(t){super(t)}}var v5=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function p(S){try{b(n.next(S))}catch(E){c(E)}}function v(S){try{b(n.throw(S))}catch(E){c(E)}}function b(S){S.done?a(S.value):s(S.value).then(p,v)}b((n=n.apply(e,t||[])).next())})};class x5{constructor(t,r,n){var s,a,c;this.supabaseUrl=t,this.supabaseKey=r;const p=bD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const v=`sb-${p.hostname.split(".")[0]}-auth-token`,b={db:dD,realtime:hD,auth:Object.assign(Object.assign({},uD),{storageKey:v}),global:cD},S=yD(n??{},b);this.storageKey=(s=S.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=S.global.headers)!==null&&a!==void 0?a:{},S.accessToken?(this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(E,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=S.auth)!==null&&c!==void 0?c:{},this.headers,S.global.fetch),this.fetch=mD(r,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},S.realtime)),this.rest=new EI(new URL("rest/v1",p).href,{headers:this.headers,schema:S.db.schema,fetch:this.fetch}),this.storage=new oD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),S.accessToken||this._listenForAuthEvents()}get functions(){return new nI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return v5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:c,flowType:p,lock:v,debug:b},S,E){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m5({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),S),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:p,lock:v,debug:b,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(z=>z.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new UI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y5=(e,t,r)=>new x5(e,t,r);function b5(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}b5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const w5="http://127.0.0.1:54321",k5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0",Ve=y5(w5,k5);async function bb(){try{const{data:e,error:t}=await Ve.from("players").select("id, name, twitter, created, rating, rd, volatility, peak_rating, peak_rating_date, has_played_this_season").order("rating",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchPlayers failed:",e),[]}}async function BE(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchMatches failed:",e),[]}}async function S5(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).not("winner_id","is",null).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchCompletedMatches failed:",e),[]}}async function _5(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("season_id",0).is("winner_id",null).order("match_order",{ascending:!0});if(t)throw t;return e??[]}catch(e){return console.warn("fetchUpcomingMatches failed:",e),[]}}async function C5(){try{const{data:e,error:t}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").not("winner_id","is",null).order("id",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchAllCompletedMatches failed:",e),[]}}async function $u(){try{const{data:e,error:t}=await Ve.from("events").select("*").order("event_date",{ascending:!1});if(t)throw t;return e??[]}catch(e){return console.warn("fetchEvents failed:",e),[]}}async function E5(){try{const{data:e,error:t}=await Ve.from("events").select("*").gte("event_date",new Date().toISOString()).order("event_date",{ascending:!0});if(t)throw t;return e??[]}catch(e){return console.warn("fetchUpcomingEvents failed:",e),[]}}function bg(){const[e,t]=M.useState(null),[r,n]=M.useState(null),[s,a]=M.useState(null);return M.useEffect(()=>{let p=!0;return(async()=>{try{const[v,b]=await Promise.all([bb(),S5()]);if(!p)return;t(v),n(b)}catch(v){if(!p)return;a(v.message)}})(),()=>{p=!1}},[]),{players:e??[],matches:r??[],loading:e===null||r===null,error:s}}const Zr=M.forwardRef(({className:e,type:t="text",...r},n)=>h.jsx("input",{type:t,className:gt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Zr.displayName="Input";/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$E=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:c,...p},v)=>M.createElement("svg",{ref:v,...j5,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:$E("lucide",s),...p},[...c.map(([b,S])=>M.createElement(b,S)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(e,t)=>{const r=M.forwardRef(({className:n,...s},a)=>M.createElement(N5,{ref:a,iconNode:t,className:$E(`lucide-${M5(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],tc=Jt("ArrowDown",T5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Wf=Jt("ArrowUpDown",A5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],rc=Jt("ArrowUp",P5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],R5=Jt("Calendar",O5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zE=Jt("Check",L5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FE=Jt("ChevronDown",I5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],B5=Jt("ChevronUp",D5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],z5=Jt("ChevronsUpDown",$5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],W5=Jt("CircleAlert",F5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vk=Jt("CircleCheck",U5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Xk=Jt("Clock",H5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],WE=Jt("ExternalLink",G5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],X5=Jt("Menu",V5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],q5=Jt("Moon",Y5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],wb=Jt("Pencil",K5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kb=Jt("Plus",Z5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wg=Jt("RefreshCw",Q5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],e3=Jt("Search",J5);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]],r3=Jt("SunMedium",t3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Sb=Jt("Trash2",i3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],s3=Jt("TrendingUp",n3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],UE=Jt("Trophy",o3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],HE=Jt("Undo2",a3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_b=Jt("X",l3);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],GE=Jt("Youtube",c3);function Yk(e,[t,r]){return Math.min(r,Math.max(t,e))}function Nt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function d3(e,t){const r=M.createContext(t),n=a=>{const{children:c,...p}=a,v=M.useMemo(()=>p,Object.values(p));return h.jsx(r.Provider,{value:v,children:c})};n.displayName=e+"Provider";function s(a){const c=M.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Vo(e,t=[]){let r=[];function n(a,c){const p=M.createContext(c),v=r.length;r=[...r,c];const b=E=>{var I;const{scope:A,children:z,...U}=E,D=((I=A==null?void 0:A[e])==null?void 0:I[v])||p,R=M.useMemo(()=>U,Object.values(U));return h.jsx(D.Provider,{value:R,children:z})};b.displayName=a+"Provider";function S(E,A){var D;const z=((D=A==null?void 0:A[e])==null?void 0:D[v])||p,U=M.useContext(z);if(U)return U;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${a}\``)}return[b,S]}const s=()=>{const a=r.map(c=>M.createContext(c));return function(p){const v=(p==null?void 0:p[e])||a;return M.useMemo(()=>({[`__scope${e}`]:{...p,[e]:v}}),[p,v])}};return s.scopeName=e,[n,u3(s,...t)]}function u3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const c=n.reduce((p,{useScope:v,scopeName:b})=>{const E=v(a)[`__scope${b}`];return{...p,...E}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function VE(e){const t=e+"CollectionProvider",[r,n]=Vo(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=D=>{const{scope:R,children:I}=D,T=Jn.useRef(null),O=Jn.useRef(new Map).current;return h.jsx(s,{scope:R,itemMap:O,collectionRef:T,children:I})};c.displayName=t;const p=e+"CollectionSlot",v=Ia(p),b=Jn.forwardRef((D,R)=>{const{scope:I,children:T}=D,O=a(p,I),q=ir(R,O.collectionRef);return h.jsx(v,{ref:q,children:T})});b.displayName=p;const S=e+"CollectionItemSlot",E="data-radix-collection-item",A=Ia(S),z=Jn.forwardRef((D,R)=>{const{scope:I,children:T,...O}=D,q=Jn.useRef(null),ae=ir(R,q),re=a(S,I);return Jn.useEffect(()=>(re.itemMap.set(q,{ref:q,...O}),()=>void re.itemMap.delete(q))),h.jsx(A,{[E]:"",ref:ae,children:T})});z.displayName=S;function U(D){const R=a(e+"CollectionConsumer",D);return Jn.useCallback(()=>{const T=R.collectionRef.current;if(!T)return[];const O=Array.from(T.querySelectorAll(`[${E}]`));return Array.from(R.itemMap.values()).sort((re,ce)=>O.indexOf(re.ref.current)-O.indexOf(ce.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:c,Slot:b,ItemSlot:z},U,n]}var h3=M.createContext(void 0);function Cb(e){const t=M.useContext(h3);return e||t||"ltr"}var f3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yt=f3.reduce((e,t)=>{const r=Ia(`Primitive.${t}`),n=M.forwardRef((s,a)=>{const{asChild:c,...p}=s,v=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(v,{...p,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function p3(e,t){e&&Tc.flushSync(()=>e.dispatchEvent(t))}function Ls(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function g3(e,t=globalThis==null?void 0:globalThis.document){const r=Ls(e);M.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var m3="DismissableLayer",t0="dismissableLayer.update",v3="dismissableLayer.pointerDownOutside",x3="dismissableLayer.focusOutside",qk,XE=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kg=M.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:c,onDismiss:p,...v}=e,b=M.useContext(XE),[S,E]=M.useState(null),A=(S==null?void 0:S.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,z]=M.useState({}),U=ir(t,ce=>E(ce)),D=Array.from(b.layers),[R]=[...b.layersWithOutsidePointerEventsDisabled].slice(-1),I=D.indexOf(R),T=S?D.indexOf(S):-1,O=b.layersWithOutsidePointerEventsDisabled.size>0,q=T>=I,ae=w3(ce=>{const J=ce.target,we=[...b.branches].some(Se=>Se.contains(J));!q||we||(s==null||s(ce),c==null||c(ce),ce.defaultPrevented||p==null||p())},A),re=k3(ce=>{const J=ce.target;[...b.branches].some(Se=>Se.contains(J))||(a==null||a(ce),c==null||c(ce),ce.defaultPrevented||p==null||p())},A);return g3(ce=>{T===b.layers.size-1&&(n==null||n(ce),!ce.defaultPrevented&&p&&(ce.preventDefault(),p()))},A),M.useEffect(()=>{if(S)return r&&(b.layersWithOutsidePointerEventsDisabled.size===0&&(qk=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),b.layersWithOutsidePointerEventsDisabled.add(S)),b.layers.add(S),Kk(),()=>{r&&b.layersWithOutsidePointerEventsDisabled.size===1&&(A.body.style.pointerEvents=qk)}},[S,A,r,b]),M.useEffect(()=>()=>{S&&(b.layers.delete(S),b.layersWithOutsidePointerEventsDisabled.delete(S),Kk())},[S,b]),M.useEffect(()=>{const ce=()=>z({});return document.addEventListener(t0,ce),()=>document.removeEventListener(t0,ce)},[]),h.jsx(yt.div,{...v,ref:U,style:{pointerEvents:O?q?"auto":"none":void 0,...e.style},onFocusCapture:Nt(e.onFocusCapture,re.onFocusCapture),onBlurCapture:Nt(e.onBlurCapture,re.onBlurCapture),onPointerDownCapture:Nt(e.onPointerDownCapture,ae.onPointerDownCapture)})});kg.displayName=m3;var y3="DismissableLayerBranch",b3=M.forwardRef((e,t)=>{const r=M.useContext(XE),n=M.useRef(null),s=ir(t,n);return M.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),h.jsx(yt.div,{...e,ref:s})});b3.displayName=y3;function w3(e,t=globalThis==null?void 0:globalThis.document){const r=Ls(e),n=M.useRef(!1),s=M.useRef(()=>{});return M.useEffect(()=>{const a=p=>{if(p.target&&!n.current){let v=function(){YE(v3,r,b,{discrete:!0})};const b={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=v,t.addEventListener("click",s.current,{once:!0})):v()}else t.removeEventListener("click",s.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function k3(e,t=globalThis==null?void 0:globalThis.document){const r=Ls(e),n=M.useRef(!1);return M.useEffect(()=>{const s=a=>{a.target&&!n.current&&YE(x3,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Kk(){const e=new CustomEvent(t0);document.dispatchEvent(e)}function YE(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?p3(s,a):s.dispatchEvent(a)}var Mx=0;function Eb(){M.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Zk()),document.body.insertAdjacentElement("beforeend",e[1]??Zk()),Mx++,()=>{Mx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mx--}},[])}function Zk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var jx="focusScope.autoFocusOnMount",Nx="focusScope.autoFocusOnUnmount",Qk={bubbles:!1,cancelable:!0},S3="FocusScope",Sg=M.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...c}=e,[p,v]=M.useState(null),b=Ls(s),S=Ls(a),E=M.useRef(null),A=ir(t,D=>v(D)),z=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(n){let D=function(O){if(z.paused||!p)return;const q=O.target;p.contains(q)?E.current=q:yo(E.current,{select:!0})},R=function(O){if(z.paused||!p)return;const q=O.relatedTarget;q!==null&&(p.contains(q)||yo(E.current,{select:!0}))},I=function(O){if(document.activeElement===document.body)for(const ae of O)ae.removedNodes.length>0&&yo(p)};document.addEventListener("focusin",D),document.addEventListener("focusout",R);const T=new MutationObserver(I);return p&&T.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",D),document.removeEventListener("focusout",R),T.disconnect()}}},[n,p,z.paused]),M.useEffect(()=>{if(p){eS.add(z);const D=document.activeElement;if(!p.contains(D)){const I=new CustomEvent(jx,Qk);p.addEventListener(jx,b),p.dispatchEvent(I),I.defaultPrevented||(_3(N3(qE(p)),{select:!0}),document.activeElement===D&&yo(p))}return()=>{p.removeEventListener(jx,b),setTimeout(()=>{const I=new CustomEvent(Nx,Qk);p.addEventListener(Nx,S),p.dispatchEvent(I),I.defaultPrevented||yo(D??document.body,{select:!0}),p.removeEventListener(Nx,S),eS.remove(z)},0)}}},[p,b,S,z]);const U=M.useCallback(D=>{if(!r&&!n||z.paused)return;const R=D.key==="Tab"&&!D.altKey&&!D.ctrlKey&&!D.metaKey,I=document.activeElement;if(R&&I){const T=D.currentTarget,[O,q]=C3(T);O&&q?!D.shiftKey&&I===q?(D.preventDefault(),r&&yo(O,{select:!0})):D.shiftKey&&I===O&&(D.preventDefault(),r&&yo(q,{select:!0})):I===T&&D.preventDefault()}},[r,n,z.paused]);return h.jsx(yt.div,{tabIndex:-1,...c,ref:A,onKeyDown:U})});Sg.displayName=S3;function _3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(yo(n,{select:t}),document.activeElement!==r)return}function C3(e){const t=qE(e),r=Jk(t,e),n=Jk(t.reverse(),e);return[r,n]}function qE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Jk(e,t){for(const r of e)if(!E3(r,{upTo:t}))return r}function E3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function M3(e){return e instanceof HTMLInputElement&&"select"in e}function yo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&M3(e)&&t&&e.select()}}var eS=j3();function j3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=tS(e,t),e.unshift(t)},remove(t){var r;e=tS(e,t),(r=e[0])==null||r.resume()}}}function tS(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function N3(e){return e.filter(t=>t.tagName!=="A")}var Ir=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},T3=x0[" useId ".trim().toString()]||(()=>{}),A3=0;function mi(e){const[t,r]=M.useState(T3());return Ir(()=>{r(n=>n??String(A3++))},[e]),t?`radix-${t}`:""}const P3=["top","right","bottom","left"],$o=Math.min,zi=Math.max,zp=Math.round,Uf=Math.floor,ss=e=>({x:e,y:e}),O3={left:"right",right:"left",bottom:"top",top:"bottom"},R3={start:"end",end:"start"};function r0(e,t,r){return zi(e,$o(t,r))}function Is(e,t){return typeof e=="function"?e(t):e}function Ds(e){return e.split("-")[0]}function Ic(e){return e.split("-")[1]}function Mb(e){return e==="x"?"y":"x"}function jb(e){return e==="y"?"height":"width"}const L3=new Set(["top","bottom"]);function rs(e){return L3.has(Ds(e))?"y":"x"}function Nb(e){return Mb(rs(e))}function I3(e,t,r){r===void 0&&(r=!1);const n=Ic(e),s=Nb(e),a=jb(s);let c=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=Fp(c)),[c,Fp(c)]}function D3(e){const t=Fp(e);return[i0(e),t,i0(t)]}function i0(e){return e.replace(/start|end/g,t=>R3[t])}const rS=["left","right"],iS=["right","left"],B3=["top","bottom"],$3=["bottom","top"];function z3(e,t,r){switch(e){case"top":case"bottom":return r?t?iS:rS:t?rS:iS;case"left":case"right":return t?B3:$3;default:return[]}}function F3(e,t,r,n){const s=Ic(e);let a=z3(Ds(e),r==="start",n);return s&&(a=a.map(c=>c+"-"+s),t&&(a=a.concat(a.map(i0)))),a}function Fp(e){return e.replace(/left|right|bottom|top/g,t=>O3[t])}function W3(e){return{top:0,right:0,bottom:0,left:0,...e}}function KE(e){return typeof e!="number"?W3(e):{top:e,right:e,bottom:e,left:e}}function Wp(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function nS(e,t,r){let{reference:n,floating:s}=e;const a=rs(t),c=Nb(t),p=jb(c),v=Ds(t),b=a==="y",S=n.x+n.width/2-s.width/2,E=n.y+n.height/2-s.height/2,A=n[p]/2-s[p]/2;let z;switch(v){case"top":z={x:S,y:n.y-s.height};break;case"bottom":z={x:S,y:n.y+n.height};break;case"right":z={x:n.x+n.width,y:E};break;case"left":z={x:n.x-s.width,y:E};break;default:z={x:n.x,y:n.y}}switch(Ic(t)){case"start":z[c]-=A*(r&&b?-1:1);break;case"end":z[c]+=A*(r&&b?-1:1);break}return z}const U3=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:c}=r,p=a.filter(Boolean),v=await(c.isRTL==null?void 0:c.isRTL(t));let b=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:S,y:E}=nS(b,n,v),A=n,z={},U=0;for(let D=0;D<p.length;D++){const{name:R,fn:I}=p[D],{x:T,y:O,data:q,reset:ae}=await I({x:S,y:E,initialPlacement:n,placement:A,strategy:s,middlewareData:z,rects:b,platform:c,elements:{reference:e,floating:t}});S=T??S,E=O??E,z={...z,[R]:{...z[R],...q}},ae&&U<=50&&(U++,typeof ae=="object"&&(ae.placement&&(A=ae.placement),ae.rects&&(b=ae.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):ae.rects),{x:S,y:E}=nS(b,A,v)),D=-1)}return{x:S,y:E,placement:A,strategy:s,middlewareData:z}};async function ju(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:c,elements:p,strategy:v}=e,{boundary:b="clippingAncestors",rootBoundary:S="viewport",elementContext:E="floating",altBoundary:A=!1,padding:z=0}=Is(t,e),U=KE(z),R=p[A?E==="floating"?"reference":"floating":E],I=Wp(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(R)))==null||r?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(p.floating)),boundary:b,rootBoundary:S,strategy:v})),T=E==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(p.floating)),q=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},ae=Wp(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:T,offsetParent:O,strategy:v}):T);return{top:(I.top-ae.top+U.top)/q.y,bottom:(ae.bottom-I.bottom+U.bottom)/q.y,left:(I.left-ae.left+U.left)/q.x,right:(ae.right-I.right+U.right)/q.x}}const H3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:c,elements:p,middlewareData:v}=t,{element:b,padding:S=0}=Is(e,t)||{};if(b==null)return{};const E=KE(S),A={x:r,y:n},z=Nb(s),U=jb(z),D=await c.getDimensions(b),R=z==="y",I=R?"top":"left",T=R?"bottom":"right",O=R?"clientHeight":"clientWidth",q=a.reference[U]+a.reference[z]-A[z]-a.floating[U],ae=A[z]-a.reference[z],re=await(c.getOffsetParent==null?void 0:c.getOffsetParent(b));let ce=re?re[O]:0;(!ce||!await(c.isElement==null?void 0:c.isElement(re)))&&(ce=p.floating[O]||a.floating[U]);const J=q/2-ae/2,we=ce/2-D[U]/2-1,Se=$o(E[I],we),be=$o(E[T],we),ve=Se,je=ce-D[U]-be,Fe=ce/2-D[U]/2+J,Ye=r0(ve,Fe,je),ie=!v.arrow&&Ic(s)!=null&&Fe!==Ye&&a.reference[U]/2-(Fe<ve?Se:be)-D[U]/2<0,ge=ie?Fe<ve?Fe-ve:Fe-je:0;return{[z]:A[z]+ge,data:{[z]:Ye,centerOffset:Fe-Ye-ge,...ie&&{alignmentOffset:ge}},reset:ie}}}),G3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:c,initialPlacement:p,platform:v,elements:b}=t,{mainAxis:S=!0,crossAxis:E=!0,fallbackPlacements:A,fallbackStrategy:z="bestFit",fallbackAxisSideDirection:U="none",flipAlignment:D=!0,...R}=Is(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const I=Ds(s),T=rs(p),O=Ds(p)===p,q=await(v.isRTL==null?void 0:v.isRTL(b.floating)),ae=A||(O||!D?[Fp(p)]:D3(p)),re=U!=="none";!A&&re&&ae.push(...F3(p,D,U,q));const ce=[p,...ae],J=await ju(t,R),we=[];let Se=((n=a.flip)==null?void 0:n.overflows)||[];if(S&&we.push(J[I]),E){const Fe=I3(s,c,q);we.push(J[Fe[0]],J[Fe[1]])}if(Se=[...Se,{placement:s,overflows:we}],!we.every(Fe=>Fe<=0)){var be,ve;const Fe=(((be=a.flip)==null?void 0:be.index)||0)+1,Ye=ce[Fe];if(Ye&&(!(E==="alignment"?T!==rs(Ye):!1)||Se.every(he=>rs(he.placement)===T?he.overflows[0]>0:!0)))return{data:{index:Fe,overflows:Se},reset:{placement:Ye}};let ie=(ve=Se.filter(ge=>ge.overflows[0]<=0).sort((ge,he)=>ge.overflows[1]-he.overflows[1])[0])==null?void 0:ve.placement;if(!ie)switch(z){case"bestFit":{var je;const ge=(je=Se.filter(he=>{if(re){const Me=rs(he.placement);return Me===T||Me==="y"}return!0}).map(he=>[he.placement,he.overflows.filter(Me=>Me>0).reduce((Me,$e)=>Me+$e,0)]).sort((he,Me)=>he[1]-Me[1])[0])==null?void 0:je[0];ge&&(ie=ge);break}case"initialPlacement":ie=p;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function sS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function oS(e){return P3.some(t=>e[t]>=0)}const V3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Is(e,t);switch(n){case"referenceHidden":{const a=await ju(t,{...s,elementContext:"reference"}),c=sS(a,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:oS(c)}}}case"escaped":{const a=await ju(t,{...s,altBoundary:!0}),c=sS(a,r.floating);return{data:{escapedOffsets:c,escaped:oS(c)}}}default:return{}}}}},ZE=new Set(["left","top"]);async function X3(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=Ds(r),p=Ic(r),v=rs(r)==="y",b=ZE.has(c)?-1:1,S=a&&v?-1:1,E=Is(t,e);let{mainAxis:A,crossAxis:z,alignmentAxis:U}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return p&&typeof U=="number"&&(z=p==="end"?U*-1:U),v?{x:z*S,y:A*b}:{x:A*b,y:z*S}}const Y3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:c,middlewareData:p}=t,v=await X3(t,e);return c===((r=p.offset)==null?void 0:r.placement)&&(n=p.arrow)!=null&&n.alignmentOffset?{}:{x:s+v.x,y:a+v.y,data:{...v,placement:c}}}}},q3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:p={fn:R=>{let{x:I,y:T}=R;return{x:I,y:T}}},...v}=Is(e,t),b={x:r,y:n},S=await ju(t,v),E=rs(Ds(s)),A=Mb(E);let z=b[A],U=b[E];if(a){const R=A==="y"?"top":"left",I=A==="y"?"bottom":"right",T=z+S[R],O=z-S[I];z=r0(T,z,O)}if(c){const R=E==="y"?"top":"left",I=E==="y"?"bottom":"right",T=U+S[R],O=U-S[I];U=r0(T,U,O)}const D=p.fn({...t,[A]:z,[E]:U});return{...D,data:{x:D.x-r,y:D.y-n,enabled:{[A]:a,[E]:c}}}}}},K3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:c}=t,{offset:p=0,mainAxis:v=!0,crossAxis:b=!0}=Is(e,t),S={x:r,y:n},E=rs(s),A=Mb(E);let z=S[A],U=S[E];const D=Is(p,t),R=typeof D=="number"?{mainAxis:D,crossAxis:0}:{mainAxis:0,crossAxis:0,...D};if(v){const O=A==="y"?"height":"width",q=a.reference[A]-a.floating[O]+R.mainAxis,ae=a.reference[A]+a.reference[O]-R.mainAxis;z<q?z=q:z>ae&&(z=ae)}if(b){var I,T;const O=A==="y"?"width":"height",q=ZE.has(Ds(s)),ae=a.reference[E]-a.floating[O]+(q&&((I=c.offset)==null?void 0:I[E])||0)+(q?0:R.crossAxis),re=a.reference[E]+a.reference[O]+(q?0:((T=c.offset)==null?void 0:T[E])||0)-(q?R.crossAxis:0);U<ae?U=ae:U>re&&(U=re)}return{[A]:z,[E]:U}}}},Z3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:c,elements:p}=t,{apply:v=()=>{},...b}=Is(e,t),S=await ju(t,b),E=Ds(s),A=Ic(s),z=rs(s)==="y",{width:U,height:D}=a.floating;let R,I;E==="top"||E==="bottom"?(R=E,I=A===(await(c.isRTL==null?void 0:c.isRTL(p.floating))?"start":"end")?"left":"right"):(I=E,R=A==="end"?"top":"bottom");const T=D-S.top-S.bottom,O=U-S.left-S.right,q=$o(D-S[R],T),ae=$o(U-S[I],O),re=!t.middlewareData.shift;let ce=q,J=ae;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(J=O),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(ce=T),re&&!A){const Se=zi(S.left,0),be=zi(S.right,0),ve=zi(S.top,0),je=zi(S.bottom,0);z?J=U-2*(Se!==0||be!==0?Se+be:zi(S.left,S.right)):ce=D-2*(ve!==0||je!==0?ve+je:zi(S.top,S.bottom))}await v({...t,availableWidth:J,availableHeight:ce});const we=await c.getDimensions(p.floating);return U!==we.width||D!==we.height?{reset:{rects:!0}}:{}}}};function _g(){return typeof window<"u"}function Dc(e){return QE(e)?(e.nodeName||"").toLowerCase():"#document"}function Ui(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ls(e){var t;return(t=(QE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function QE(e){return _g()?e instanceof Node||e instanceof Ui(e).Node:!1}function Ln(e){return _g()?e instanceof Element||e instanceof Ui(e).Element:!1}function as(e){return _g()?e instanceof HTMLElement||e instanceof Ui(e).HTMLElement:!1}function aS(e){return!_g()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ui(e).ShadowRoot}const Q3=new Set(["inline","contents"]);function zu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=In(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Q3.has(s)}const J3=new Set(["table","td","th"]);function e4(e){return J3.has(Dc(e))}const t4=[":popover-open",":modal"];function Cg(e){return t4.some(t=>{try{return e.matches(t)}catch{return!1}})}const r4=["transform","translate","scale","rotate","perspective"],i4=["transform","translate","scale","rotate","perspective","filter"],n4=["paint","layout","strict","content"];function Tb(e){const t=Ab(),r=Ln(e)?In(e):e;return r4.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||i4.some(n=>(r.willChange||"").includes(n))||n4.some(n=>(r.contain||"").includes(n))}function s4(e){let t=zo(e);for(;as(t)&&!kc(t);){if(Tb(t))return t;if(Cg(t))return null;t=zo(t)}return null}function Ab(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const o4=new Set(["html","body","#document"]);function kc(e){return o4.has(Dc(e))}function In(e){return Ui(e).getComputedStyle(e)}function Eg(e){return Ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zo(e){if(Dc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||aS(e)&&e.host||ls(e);return aS(t)?t.host:t}function JE(e){const t=zo(e);return kc(t)?e.ownerDocument?e.ownerDocument.body:e.body:as(t)&&zu(t)?t:JE(t)}function Nu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=JE(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),c=Ui(s);if(a){const p=n0(c);return t.concat(c,c.visualViewport||[],zu(s)?s:[],p&&r?Nu(p):[])}return t.concat(s,Nu(s,[],r))}function n0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e2(e){const t=In(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=as(e),a=s?e.offsetWidth:r,c=s?e.offsetHeight:n,p=zp(r)!==a||zp(n)!==c;return p&&(r=a,n=c),{width:r,height:n,$:p}}function Pb(e){return Ln(e)?e:e.contextElement}function uc(e){const t=Pb(e);if(!as(t))return ss(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=e2(t);let c=(a?zp(r.width):r.width)/n,p=(a?zp(r.height):r.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!p||!Number.isFinite(p))&&(p=1),{x:c,y:p}}const a4=ss(0);function t2(e){const t=Ui(e);return!Ab()||!t.visualViewport?a4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function l4(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ui(e)?!1:t}function Da(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Pb(e);let c=ss(1);t&&(n?Ln(n)&&(c=uc(n)):c=uc(e));const p=l4(a,r,n)?t2(a):ss(0);let v=(s.left+p.x)/c.x,b=(s.top+p.y)/c.y,S=s.width/c.x,E=s.height/c.y;if(a){const A=Ui(a),z=n&&Ln(n)?Ui(n):n;let U=A,D=n0(U);for(;D&&n&&z!==U;){const R=uc(D),I=D.getBoundingClientRect(),T=In(D),O=I.left+(D.clientLeft+parseFloat(T.paddingLeft))*R.x,q=I.top+(D.clientTop+parseFloat(T.paddingTop))*R.y;v*=R.x,b*=R.y,S*=R.x,E*=R.y,v+=O,b+=q,U=Ui(D),D=n0(U)}}return Wp({width:S,height:E,x:v,y:b})}function Mg(e,t){const r=Eg(e).scrollLeft;return t?t.left+r:Da(ls(e)).left+r}function r2(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Mg(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function c4(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",c=ls(n),p=t?Cg(t.floating):!1;if(n===c||p&&a)return r;let v={scrollLeft:0,scrollTop:0},b=ss(1);const S=ss(0),E=as(n);if((E||!E&&!a)&&((Dc(n)!=="body"||zu(c))&&(v=Eg(n)),as(n))){const z=Da(n);b=uc(n),S.x=z.x+n.clientLeft,S.y=z.y+n.clientTop}const A=c&&!E&&!a?r2(c,v):ss(0);return{width:r.width*b.x,height:r.height*b.y,x:r.x*b.x-v.scrollLeft*b.x+S.x+A.x,y:r.y*b.y-v.scrollTop*b.y+S.y+A.y}}function d4(e){return Array.from(e.getClientRects())}function u4(e){const t=ls(e),r=Eg(e),n=e.ownerDocument.body,s=zi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=zi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Mg(e);const p=-r.scrollTop;return In(n).direction==="rtl"&&(c+=zi(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:c,y:p}}const lS=25;function h4(e,t){const r=Ui(e),n=ls(e),s=r.visualViewport;let a=n.clientWidth,c=n.clientHeight,p=0,v=0;if(s){a=s.width,c=s.height;const S=Ab();(!S||S&&t==="fixed")&&(p=s.offsetLeft,v=s.offsetTop)}const b=Mg(n);if(b<=0){const S=n.ownerDocument,E=S.body,A=getComputedStyle(E),z=S.compatMode==="CSS1Compat"&&parseFloat(A.marginLeft)+parseFloat(A.marginRight)||0,U=Math.abs(n.clientWidth-E.clientWidth-z);U<=lS&&(a-=U)}else b<=lS&&(a+=b);return{width:a,height:c,x:p,y:v}}const f4=new Set(["absolute","fixed"]);function p4(e,t){const r=Da(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=as(e)?uc(e):ss(1),c=e.clientWidth*a.x,p=e.clientHeight*a.y,v=s*a.x,b=n*a.y;return{width:c,height:p,x:v,y:b}}function cS(e,t,r){let n;if(t==="viewport")n=h4(e,r);else if(t==="document")n=u4(ls(e));else if(Ln(t))n=p4(t,r);else{const s=t2(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Wp(n)}function i2(e,t){const r=zo(e);return r===t||!Ln(r)||kc(r)?!1:In(r).position==="fixed"||i2(r,t)}function g4(e,t){const r=t.get(e);if(r)return r;let n=Nu(e,[],!1).filter(p=>Ln(p)&&Dc(p)!=="body"),s=null;const a=In(e).position==="fixed";let c=a?zo(e):e;for(;Ln(c)&&!kc(c);){const p=In(c),v=Tb(c);!v&&p.position==="fixed"&&(s=null),(a?!v&&!s:!v&&p.position==="static"&&!!s&&f4.has(s.position)||zu(c)&&!v&&i2(e,c))?n=n.filter(S=>S!==c):s=p,c=zo(c)}return t.set(e,n),n}function m4(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const c=[...r==="clippingAncestors"?Cg(t)?[]:g4(t,this._c):[].concat(r),n],p=c[0],v=c.reduce((b,S)=>{const E=cS(t,S,s);return b.top=zi(E.top,b.top),b.right=$o(E.right,b.right),b.bottom=$o(E.bottom,b.bottom),b.left=zi(E.left,b.left),b},cS(t,p,s));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function v4(e){const{width:t,height:r}=e2(e);return{width:t,height:r}}function x4(e,t,r){const n=as(t),s=ls(t),a=r==="fixed",c=Da(e,!0,a,t);let p={scrollLeft:0,scrollTop:0};const v=ss(0);function b(){v.x=Mg(s)}if(n||!n&&!a)if((Dc(t)!=="body"||zu(s))&&(p=Eg(t)),n){const z=Da(t,!0,a,t);v.x=z.x+t.clientLeft,v.y=z.y+t.clientTop}else s&&b();a&&!n&&s&&b();const S=s&&!n&&!a?r2(s,p):ss(0),E=c.left+p.scrollLeft-v.x-S.x,A=c.top+p.scrollTop-v.y-S.y;return{x:E,y:A,width:c.width,height:c.height}}function Tx(e){return In(e).position==="static"}function dS(e,t){if(!as(e)||In(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ls(e)===r&&(r=r.ownerDocument.body),r}function n2(e,t){const r=Ui(e);if(Cg(e))return r;if(!as(e)){let s=zo(e);for(;s&&!kc(s);){if(Ln(s)&&!Tx(s))return s;s=zo(s)}return r}let n=dS(e,t);for(;n&&e4(n)&&Tx(n);)n=dS(n,t);return n&&kc(n)&&Tx(n)&&!Tb(n)?r:n||s4(e)||r}const y4=async function(e){const t=this.getOffsetParent||n2,r=this.getDimensions,n=await r(e.floating);return{reference:x4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function b4(e){return In(e).direction==="rtl"}const w4={convertOffsetParentRelativeRectToViewportRelativeRect:c4,getDocumentElement:ls,getClippingRect:m4,getOffsetParent:n2,getElementRects:y4,getClientRects:d4,getDimensions:v4,getScale:uc,isElement:Ln,isRTL:b4};function s2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function k4(e,t){let r=null,n;const s=ls(e);function a(){var p;clearTimeout(n),(p=r)==null||p.disconnect(),r=null}function c(p,v){p===void 0&&(p=!1),v===void 0&&(v=1),a();const b=e.getBoundingClientRect(),{left:S,top:E,width:A,height:z}=b;if(p||t(),!A||!z)return;const U=Uf(E),D=Uf(s.clientWidth-(S+A)),R=Uf(s.clientHeight-(E+z)),I=Uf(S),O={rootMargin:-U+"px "+-D+"px "+-R+"px "+-I+"px",threshold:zi(0,$o(1,v))||1};let q=!0;function ae(re){const ce=re[0].intersectionRatio;if(ce!==v){if(!q)return c();ce?c(!1,ce):n=setTimeout(()=>{c(!1,1e-7)},1e3)}ce===1&&!s2(b,e.getBoundingClientRect())&&c(),q=!1}try{r=new IntersectionObserver(ae,{...O,root:s.ownerDocument})}catch{r=new IntersectionObserver(ae,O)}r.observe(e)}return c(!0),a}function S4(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:v=!1}=n,b=Pb(e),S=s||a?[...b?Nu(b):[],...Nu(t)]:[];S.forEach(I=>{s&&I.addEventListener("scroll",r,{passive:!0}),a&&I.addEventListener("resize",r)});const E=b&&p?k4(b,r):null;let A=-1,z=null;c&&(z=new ResizeObserver(I=>{let[T]=I;T&&T.target===b&&z&&(z.unobserve(t),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var O;(O=z)==null||O.observe(t)})),r()}),b&&!v&&z.observe(b),z.observe(t));let U,D=v?Da(e):null;v&&R();function R(){const I=Da(e);D&&!s2(D,I)&&r(),D=I,U=requestAnimationFrame(R)}return r(),()=>{var I;S.forEach(T=>{s&&T.removeEventListener("scroll",r),a&&T.removeEventListener("resize",r)}),E==null||E(),(I=z)==null||I.disconnect(),z=null,v&&cancelAnimationFrame(U)}}const _4=Y3,C4=q3,E4=G3,M4=Z3,j4=V3,uS=H3,N4=K3,T4=(e,t,r)=>{const n=new Map,s={platform:w4,...r},a={...s.platform,_c:n};return U3(e,t,{...s,platform:a})};var A4=typeof document<"u",P4=function(){},cp=A4?M.useLayoutEffect:P4;function Up(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Up(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Up(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function o2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hS(e,t){const r=o2(e);return Math.round(t*r)/r}function Ax(e){const t=M.useRef(e);return cp(()=>{t.current=e}),t}function O4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:c}={},transform:p=!0,whileElementsMounted:v,open:b}=e,[S,E]=M.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[A,z]=M.useState(n);Up(A,n)||z(n);const[U,D]=M.useState(null),[R,I]=M.useState(null),T=M.useCallback(he=>{he!==re.current&&(re.current=he,D(he))},[]),O=M.useCallback(he=>{he!==ce.current&&(ce.current=he,I(he))},[]),q=a||U,ae=c||R,re=M.useRef(null),ce=M.useRef(null),J=M.useRef(S),we=v!=null,Se=Ax(v),be=Ax(s),ve=Ax(b),je=M.useCallback(()=>{if(!re.current||!ce.current)return;const he={placement:t,strategy:r,middleware:A};be.current&&(he.platform=be.current),T4(re.current,ce.current,he).then(Me=>{const $e={...Me,isPositioned:ve.current!==!1};Fe.current&&!Up(J.current,$e)&&(J.current=$e,Tc.flushSync(()=>{E($e)}))})},[A,t,r,be,ve]);cp(()=>{b===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,E(he=>({...he,isPositioned:!1})))},[b]);const Fe=M.useRef(!1);cp(()=>(Fe.current=!0,()=>{Fe.current=!1}),[]),cp(()=>{if(q&&(re.current=q),ae&&(ce.current=ae),q&&ae){if(Se.current)return Se.current(q,ae,je);je()}},[q,ae,je,Se,we]);const Ye=M.useMemo(()=>({reference:re,floating:ce,setReference:T,setFloating:O}),[T,O]),ie=M.useMemo(()=>({reference:q,floating:ae}),[q,ae]),ge=M.useMemo(()=>{const he={position:r,left:0,top:0};if(!ie.floating)return he;const Me=hS(ie.floating,S.x),$e=hS(ie.floating,S.y);return p?{...he,transform:"translate("+Me+"px, "+$e+"px)",...o2(ie.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Me,top:$e}},[r,p,ie.floating,S.x,S.y]);return M.useMemo(()=>({...S,update:je,refs:Ye,elements:ie,floatingStyles:ge}),[S,je,Ye,ie,ge])}const R4=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?uS({element:n.current,padding:s}).fn(r):{}:n?uS({element:n,padding:s}).fn(r):{}}}},L4=(e,t)=>({..._4(e),options:[e,t]}),I4=(e,t)=>({...C4(e),options:[e,t]}),D4=(e,t)=>({...N4(e),options:[e,t]}),B4=(e,t)=>({...E4(e),options:[e,t]}),$4=(e,t)=>({...M4(e),options:[e,t]}),z4=(e,t)=>({...j4(e),options:[e,t]}),F4=(e,t)=>({...R4(e),options:[e,t]});var W4="Arrow",a2=M.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return h.jsx(yt.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});a2.displayName=W4;var U4=a2;function H4(e){const[t,r]=M.useState(void 0);return Ir(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let c,p;if("borderBoxSize"in a){const v=a.borderBoxSize,b=Array.isArray(v)?v[0]:v;c=b.inlineSize,p=b.blockSize}else c=e.offsetWidth,p=e.offsetHeight;r({width:c,height:p})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ob="Popper",[l2,jg]=Vo(Ob),[G4,c2]=l2(Ob),d2=e=>{const{__scopePopper:t,children:r}=e,[n,s]=M.useState(null);return h.jsx(G4,{scope:t,anchor:n,onAnchorChange:s,children:r})};d2.displayName=Ob;var u2="PopperAnchor",h2=M.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=c2(u2,r),c=M.useRef(null),p=ir(t,c),v=M.useRef(null);return M.useEffect(()=>{const b=v.current;v.current=(n==null?void 0:n.current)||c.current,b!==v.current&&a.onAnchorChange(v.current)}),n?null:h.jsx(yt.div,{...s,ref:p})});h2.displayName=u2;var Rb="PopperContent",[V4,X4]=l2(Rb),f2=M.forwardRef((e,t)=>{var Oe,st,ut,vt,ft,kt;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:c=0,arrowPadding:p=0,avoidCollisions:v=!0,collisionBoundary:b=[],collisionPadding:S=0,sticky:E="partial",hideWhenDetached:A=!1,updatePositionStrategy:z="optimized",onPlaced:U,...D}=e,R=c2(Rb,r),[I,T]=M.useState(null),O=ir(t,Qe=>T(Qe)),[q,ae]=M.useState(null),re=H4(q),ce=(re==null?void 0:re.width)??0,J=(re==null?void 0:re.height)??0,we=n+(a!=="center"?"-"+a:""),Se=typeof S=="number"?S:{top:0,right:0,bottom:0,left:0,...S},be=Array.isArray(b)?b:[b],ve=be.length>0,je={padding:Se,boundary:be.filter(q4),altBoundary:ve},{refs:Fe,floatingStyles:Ye,placement:ie,isPositioned:ge,middlewareData:he}=O4({strategy:"fixed",placement:we,whileElementsMounted:(...Qe)=>S4(...Qe,{animationFrame:z==="always"}),elements:{reference:R.anchor},middleware:[L4({mainAxis:s+J,alignmentAxis:c}),v&&I4({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?D4():void 0,...je}),v&&B4({...je}),$4({...je,apply:({elements:Qe,rects:Dr,availableWidth:Wr,availableHeight:Xi})=>{const{width:li,height:Ur}=Dr.reference,Yi=Qe.floating.style;Yi.setProperty("--radix-popper-available-width",`${Wr}px`),Yi.setProperty("--radix-popper-available-height",`${Xi}px`),Yi.setProperty("--radix-popper-anchor-width",`${li}px`),Yi.setProperty("--radix-popper-anchor-height",`${Ur}px`)}}),q&&F4({element:q,padding:p}),K4({arrowWidth:ce,arrowHeight:J}),A&&z4({strategy:"referenceHidden",...je})]}),[Me,$e]=m2(ie),Ie=Ls(U);Ir(()=>{ge&&(Ie==null||Ie())},[ge,Ie]);const Ee=(Oe=he.arrow)==null?void 0:Oe.x,Ze=(st=he.arrow)==null?void 0:st.y,ot=((ut=he.arrow)==null?void 0:ut.centerOffset)!==0,[tt,Ce]=M.useState();return Ir(()=>{I&&Ce(window.getComputedStyle(I).zIndex)},[I]),h.jsx("div",{ref:Fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ye,transform:ge?Ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(vt=he.transformOrigin)==null?void 0:vt.x,(ft=he.transformOrigin)==null?void 0:ft.y].join(" "),...((kt=he.hide)==null?void 0:kt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(V4,{scope:r,placedSide:Me,onArrowChange:ae,arrowX:Ee,arrowY:Ze,shouldHideArrow:ot,children:h.jsx(yt.div,{"data-side":Me,"data-align":$e,...D,ref:O,style:{...D.style,animation:ge?void 0:"none"}})})})});f2.displayName=Rb;var p2="PopperArrow",Y4={top:"bottom",right:"left",bottom:"top",left:"right"},g2=M.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=X4(p2,n),c=Y4[a.placedSide];return h.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:h.jsx(U4,{...s,ref:r,style:{...s.style,display:"block"}})})});g2.displayName=p2;function q4(e){return e!==null}var K4=e=>({name:"transformOrigin",options:e,fn(t){var R,I,T;const{placement:r,rects:n,middlewareData:s}=t,c=((R=s.arrow)==null?void 0:R.centerOffset)!==0,p=c?0:e.arrowWidth,v=c?0:e.arrowHeight,[b,S]=m2(r),E={start:"0%",center:"50%",end:"100%"}[S],A=(((I=s.arrow)==null?void 0:I.x)??0)+p/2,z=(((T=s.arrow)==null?void 0:T.y)??0)+v/2;let U="",D="";return b==="bottom"?(U=c?E:`${A}px`,D=`${-v}px`):b==="top"?(U=c?E:`${A}px`,D=`${n.floating.height+v}px`):b==="right"?(U=`${-v}px`,D=c?E:`${z}px`):b==="left"&&(U=`${n.floating.width+v}px`,D=c?E:`${z}px`),{data:{x:U,y:D}}}});function m2(e){const[t,r="center"]=e.split("-");return[t,r]}var v2=d2,Lb=h2,x2=f2,y2=g2,Z4="Portal",Ng=M.forwardRef((e,t)=>{var p;const{container:r,...n}=e,[s,a]=M.useState(!1);Ir(()=>a(!0),[]);const c=r||s&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return c?VO.createPortal(h.jsx(yt.div,{...n,ref:t}),c):null});Ng.displayName=Z4;var Q4=x0[" useInsertionEffect ".trim().toString()]||Ir;function Sc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,c]=J4({defaultProp:t,onChange:r}),p=e!==void 0,v=p?e:s;{const S=M.useRef(e!==void 0);M.useEffect(()=>{const E=S.current;E!==p&&console.warn(`${n} is changing from ${E?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),S.current=p},[p,n])}const b=M.useCallback(S=>{var E;if(p){const A=eB(S)?S(e):S;A!==e&&((E=c.current)==null||E.call(c,A))}else a(S)},[p,e,a,c]);return[v,b]}function J4({defaultProp:e,onChange:t}){const[r,n]=M.useState(e),s=M.useRef(r),a=M.useRef(t);return Q4(()=>{a.current=t},[t]),M.useEffect(()=>{var c;s.current!==r&&((c=a.current)==null||c.call(a,r),s.current=r)},[r,s]),[r,n,a]}function eB(e){return typeof e=="function"}function tB(e){const t=M.useRef({value:e,previous:e});return M.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var b2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rB="VisuallyHidden",iB=M.forwardRef((e,t)=>h.jsx(yt.span,{...e,ref:t,style:{...b2,...e.style}}));iB.displayName=rB;var nB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ll=new WeakMap,Hf=new WeakMap,Gf={},Px=0,w2=function(e){return e&&(e.host||w2(e.parentNode))},sB=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=w2(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},oB=function(e,t,r,n){var s=sB(t,Array.isArray(e)?e:[e]);Gf[r]||(Gf[r]=new WeakMap);var a=Gf[r],c=[],p=new Set,v=new Set(s),b=function(E){!E||p.has(E)||(p.add(E),b(E.parentNode))};s.forEach(b);var S=function(E){!E||v.has(E)||Array.prototype.forEach.call(E.children,function(A){if(p.has(A))S(A);else try{var z=A.getAttribute(n),U=z!==null&&z!=="false",D=(Ll.get(A)||0)+1,R=(a.get(A)||0)+1;Ll.set(A,D),a.set(A,R),c.push(A),D===1&&U&&Hf.set(A,!0),R===1&&A.setAttribute(r,"true"),U||A.setAttribute(n,"true")}catch(I){console.error("aria-hidden: cannot operate on ",A,I)}})};return S(t),p.clear(),Px++,function(){c.forEach(function(E){var A=Ll.get(E)-1,z=a.get(E)-1;Ll.set(E,A),a.set(E,z),A||(Hf.has(E)||E.removeAttribute(n),Hf.delete(E)),z||E.removeAttribute(r)}),Px--,Px||(Ll=new WeakMap,Ll=new WeakMap,Hf=new WeakMap,Gf={})}},Ib=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=nB(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),oB(n,s,r,"aria-hidden")):function(){return null}},ts=function(){return ts=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ts.apply(this,arguments)};function k2(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function aB(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var dp="right-scroll-bar-position",up="width-before-scroll-bar",lB="with-scroll-bars-hidden",cB="--removed-body-scroll-bar-size";function Ox(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function dB(e,t){var r=M.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var uB=typeof window<"u"?M.useLayoutEffect:M.useEffect,fS=new WeakMap;function hB(e,t){var r=dB(null,function(n){return e.forEach(function(s){return Ox(s,n)})});return uB(function(){var n=fS.get(r);if(n){var s=new Set(n),a=new Set(e),c=r.current;s.forEach(function(p){a.has(p)||Ox(p,null)}),a.forEach(function(p){s.has(p)||Ox(p,c)})}fS.set(r,e)},[e]),r}function fB(e){return e}function pB(e,t){t===void 0&&(t=fB);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,n);return r.push(c),function(){r=r.filter(function(p){return p!==c})}},assignSyncMedium:function(a){for(n=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(p){return a(p)},filter:function(){return r}}},assignMedium:function(a){n=!0;var c=[];if(r.length){var p=r;r=[],p.forEach(a),c=r}var v=function(){var S=c;c=[],S.forEach(a)},b=function(){return Promise.resolve().then(v)};b(),r={push:function(S){c.push(S),b()},filter:function(S){return c=c.filter(S),r}}}};return s}function gB(e){e===void 0&&(e={});var t=pB(null);return t.options=ts({async:!0,ssr:!1},e),t}var S2=function(e){var t=e.sideCar,r=k2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return M.createElement(n,ts({},r))};S2.isSideCarExport=!0;function mB(e,t){return e.useMedium(t),S2}var _2=gB(),Rx=function(){},Tg=M.forwardRef(function(e,t){var r=M.useRef(null),n=M.useState({onScrollCapture:Rx,onWheelCapture:Rx,onTouchMoveCapture:Rx}),s=n[0],a=n[1],c=e.forwardProps,p=e.children,v=e.className,b=e.removeScrollBar,S=e.enabled,E=e.shards,A=e.sideCar,z=e.noRelative,U=e.noIsolation,D=e.inert,R=e.allowPinchZoom,I=e.as,T=I===void 0?"div":I,O=e.gapMode,q=k2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ae=A,re=hB([r,t]),ce=ts(ts({},q),s);return M.createElement(M.Fragment,null,S&&M.createElement(ae,{sideCar:_2,removeScrollBar:b,shards:E,noRelative:z,noIsolation:U,inert:D,setCallbacks:a,allowPinchZoom:!!R,lockRef:r,gapMode:O}),c?M.cloneElement(M.Children.only(p),ts(ts({},ce),{ref:re})):M.createElement(T,ts({},ce,{className:v,ref:re}),p))});Tg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tg.classNames={fullWidth:up,zeroRight:dp};var vB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vB();return t&&e.setAttribute("nonce",t),e}function yB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wB=function(){var e=0,t=null;return{add:function(r){e==0&&(t=xB())&&(yB(t,r),bB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kB=function(){var e=wB();return function(t,r){M.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},C2=function(){var e=kB(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},SB={left:0,top:0,right:0,gap:0},Lx=function(e){return parseInt(e||"",10)||0},_B=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Lx(r),Lx(n),Lx(s)]},CB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SB;var t=_B(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},EB=C2(),hc="data-scroll-locked",MB=function(e,t,r,n){var s=e.left,a=e.top,c=e.right,p=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(lB,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(p,"px ").concat(n,`;
  }
  body[`).concat(hc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dp,` {
    right: `).concat(p,"px ").concat(n,`;
  }
  
  .`).concat(up,` {
    margin-right: `).concat(p,"px ").concat(n,`;
  }
  
  .`).concat(dp," .").concat(dp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(up," .").concat(up,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(hc,`] {
    `).concat(cB,": ").concat(p,`px;
  }
`)},pS=function(){var e=parseInt(document.body.getAttribute(hc)||"0",10);return isFinite(e)?e:0},jB=function(){M.useEffect(function(){return document.body.setAttribute(hc,(pS()+1).toString()),function(){var e=pS()-1;e<=0?document.body.removeAttribute(hc):document.body.setAttribute(hc,e.toString())}},[])},NB=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;jB();var a=M.useMemo(function(){return CB(s)},[s]);return M.createElement(EB,{styles:MB(a,!t,s,r?"":"!important")})},s0=!1;if(typeof window<"u")try{var Vf=Object.defineProperty({},"passive",{get:function(){return s0=!0,!0}});window.addEventListener("test",Vf,Vf),window.removeEventListener("test",Vf,Vf)}catch{s0=!1}var Il=s0?{passive:!1}:!1,TB=function(e){return e.tagName==="TEXTAREA"},E2=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!TB(e)&&r[t]==="visible")},AB=function(e){return E2(e,"overflowY")},PB=function(e){return E2(e,"overflowX")},gS=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=M2(e,n);if(s){var a=j2(e,n),c=a[1],p=a[2];if(c>p)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},OB=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},RB=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},M2=function(e,t){return e==="v"?AB(t):PB(t)},j2=function(e,t){return e==="v"?OB(t):RB(t)},LB=function(e,t){return e==="h"&&t==="rtl"?-1:1},IB=function(e,t,r,n,s){var a=LB(e,window.getComputedStyle(t).direction),c=a*n,p=r.target,v=t.contains(p),b=!1,S=c>0,E=0,A=0;do{if(!p)break;var z=j2(e,p),U=z[0],D=z[1],R=z[2],I=D-R-a*U;(U||I)&&M2(e,p)&&(E+=I,A+=U);var T=p.parentNode;p=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!v&&p!==document.body||v&&(t.contains(p)||t===p));return(S&&Math.abs(E)<1||!S&&Math.abs(A)<1)&&(b=!0),b},Xf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mS=function(e){return[e.deltaX,e.deltaY]},vS=function(e){return e&&"current"in e?e.current:e},DB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},BB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$B=0,Dl=[];function zB(e){var t=M.useRef([]),r=M.useRef([0,0]),n=M.useRef(),s=M.useState($B++)[0],a=M.useState(C2)[0],c=M.useRef(e);M.useEffect(function(){c.current=e},[e]),M.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var D=aB([e.lockRef.current],(e.shards||[]).map(vS),!0).filter(Boolean);return D.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),D.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var p=M.useCallback(function(D,R){if("touches"in D&&D.touches.length===2||D.type==="wheel"&&D.ctrlKey)return!c.current.allowPinchZoom;var I=Xf(D),T=r.current,O="deltaX"in D?D.deltaX:T[0]-I[0],q="deltaY"in D?D.deltaY:T[1]-I[1],ae,re=D.target,ce=Math.abs(O)>Math.abs(q)?"h":"v";if("touches"in D&&ce==="h"&&re.type==="range")return!1;var J=gS(ce,re);if(!J)return!0;if(J?ae=ce:(ae=ce==="v"?"h":"v",J=gS(ce,re)),!J)return!1;if(!n.current&&"changedTouches"in D&&(O||q)&&(n.current=ae),!ae)return!0;var we=n.current||ae;return IB(we,R,D,we==="h"?O:q)},[]),v=M.useCallback(function(D){var R=D;if(!(!Dl.length||Dl[Dl.length-1]!==a)){var I="deltaY"in R?mS(R):Xf(R),T=t.current.filter(function(ae){return ae.name===R.type&&(ae.target===R.target||R.target===ae.shadowParent)&&DB(ae.delta,I)})[0];if(T&&T.should){R.cancelable&&R.preventDefault();return}if(!T){var O=(c.current.shards||[]).map(vS).filter(Boolean).filter(function(ae){return ae.contains(R.target)}),q=O.length>0?p(R,O[0]):!c.current.noIsolation;q&&R.cancelable&&R.preventDefault()}}},[]),b=M.useCallback(function(D,R,I,T){var O={name:D,delta:R,target:I,should:T,shadowParent:FB(I)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(q){return q!==O})},1)},[]),S=M.useCallback(function(D){r.current=Xf(D),n.current=void 0},[]),E=M.useCallback(function(D){b(D.type,mS(D),D.target,p(D,e.lockRef.current))},[]),A=M.useCallback(function(D){b(D.type,Xf(D),D.target,p(D,e.lockRef.current))},[]);M.useEffect(function(){return Dl.push(a),e.setCallbacks({onScrollCapture:E,onWheelCapture:E,onTouchMoveCapture:A}),document.addEventListener("wheel",v,Il),document.addEventListener("touchmove",v,Il),document.addEventListener("touchstart",S,Il),function(){Dl=Dl.filter(function(D){return D!==a}),document.removeEventListener("wheel",v,Il),document.removeEventListener("touchmove",v,Il),document.removeEventListener("touchstart",S,Il)}},[]);var z=e.removeScrollBar,U=e.inert;return M.createElement(M.Fragment,null,U?M.createElement(a,{styles:BB(s)}):null,z?M.createElement(NB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function FB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const WB=mB(_2,zB);var Ag=M.forwardRef(function(e,t){return M.createElement(Tg,ts({},e,{ref:t,sideCar:WB}))});Ag.classNames=Tg.classNames;var UB=[" ","Enter","ArrowUp","ArrowDown"],HB=[" ","Enter"],Ba="Select",[Pg,Og,GB]=VE(Ba),[Bc]=Vo(Ba,[GB,jg]),Rg=jg(),[VB,Xo]=Bc(Ba),[XB,YB]=Bc(Ba),N2=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:c,defaultValue:p,onValueChange:v,dir:b,name:S,autoComplete:E,disabled:A,required:z,form:U}=e,D=Rg(t),[R,I]=M.useState(null),[T,O]=M.useState(null),[q,ae]=M.useState(!1),re=Cb(b),[ce,J]=Sc({prop:n,defaultProp:s??!1,onChange:a,caller:Ba}),[we,Se]=Sc({prop:c,defaultProp:p,onChange:v,caller:Ba}),be=M.useRef(null),ve=R?U||!!R.closest("form"):!0,[je,Fe]=M.useState(new Set),Ye=Array.from(je).map(ie=>ie.props.value).join(";");return h.jsx(v2,{...D,children:h.jsxs(VB,{required:z,scope:t,trigger:R,onTriggerChange:I,valueNode:T,onValueNodeChange:O,valueNodeHasChildren:q,onValueNodeHasChildrenChange:ae,contentId:mi(),value:we,onValueChange:Se,open:ce,onOpenChange:J,dir:re,triggerPointerDownPosRef:be,disabled:A,children:[h.jsx(Pg.Provider,{scope:t,children:h.jsx(XB,{scope:e.__scopeSelect,onNativeOptionAdd:M.useCallback(ie=>{Fe(ge=>new Set(ge).add(ie))},[]),onNativeOptionRemove:M.useCallback(ie=>{Fe(ge=>{const he=new Set(ge);return he.delete(ie),he})},[]),children:r})}),ve?h.jsxs(J2,{"aria-hidden":!0,required:z,tabIndex:-1,name:S,autoComplete:E,value:we,onChange:ie=>Se(ie.target.value),disabled:A,form:U,children:[we===void 0?h.jsx("option",{value:""}):null,Array.from(je)]},Ye):null]})})};N2.displayName=Ba;var T2="SelectTrigger",A2=M.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Rg(r),c=Xo(T2,r),p=c.disabled||n,v=ir(t,c.onTriggerChange),b=Og(r),S=M.useRef("touch"),[E,A,z]=tM(D=>{const R=b().filter(O=>!O.disabled),I=R.find(O=>O.value===c.value),T=rM(R,D,I);T!==void 0&&c.onValueChange(T.value)}),U=D=>{p||(c.onOpenChange(!0),z()),D&&(c.triggerPointerDownPosRef.current={x:Math.round(D.pageX),y:Math.round(D.pageY)})};return h.jsx(Lb,{asChild:!0,...a,children:h.jsx(yt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":eM(c.value)?"":void 0,...s,ref:v,onClick:Nt(s.onClick,D=>{D.currentTarget.focus(),S.current!=="mouse"&&U(D)}),onPointerDown:Nt(s.onPointerDown,D=>{S.current=D.pointerType;const R=D.target;R.hasPointerCapture(D.pointerId)&&R.releasePointerCapture(D.pointerId),D.button===0&&D.ctrlKey===!1&&D.pointerType==="mouse"&&(U(D),D.preventDefault())}),onKeyDown:Nt(s.onKeyDown,D=>{const R=E.current!=="";!(D.ctrlKey||D.altKey||D.metaKey)&&D.key.length===1&&A(D.key),!(R&&D.key===" ")&&UB.includes(D.key)&&(U(),D.preventDefault())})})})});A2.displayName=T2;var P2="SelectValue",O2=M.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:c="",...p}=e,v=Xo(P2,r),{onValueNodeHasChildrenChange:b}=v,S=a!==void 0,E=ir(t,v.onValueNodeChange);return Ir(()=>{b(S)},[b,S]),h.jsx(yt.span,{...p,ref:E,style:{pointerEvents:"none"},children:eM(v.value)?h.jsx(h.Fragment,{children:c}):a})});O2.displayName=P2;var qB="SelectIcon",R2=M.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return h.jsx(yt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});R2.displayName=qB;var KB="SelectPortal",L2=e=>h.jsx(Ng,{asChild:!0,...e});L2.displayName=KB;var $a="SelectContent",I2=M.forwardRef((e,t)=>{const r=Xo($a,e.__scopeSelect),[n,s]=M.useState();if(Ir(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Tc.createPortal(h.jsx(D2,{scope:e.__scopeSelect,children:h.jsx(Pg.Slot,{scope:e.__scopeSelect,children:h.jsx("div",{children:e.children})})}),a):null}return h.jsx(B2,{...e,ref:t})});I2.displayName=$a;var Mn=10,[D2,Yo]=Bc($a),ZB="SelectContentImpl",QB=Ia("SelectContent.RemoveScroll"),B2=M.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:c,side:p,sideOffset:v,align:b,alignOffset:S,arrowPadding:E,collisionBoundary:A,collisionPadding:z,sticky:U,hideWhenDetached:D,avoidCollisions:R,...I}=e,T=Xo($a,r),[O,q]=M.useState(null),[ae,re]=M.useState(null),ce=ir(t,Oe=>q(Oe)),[J,we]=M.useState(null),[Se,be]=M.useState(null),ve=Og(r),[je,Fe]=M.useState(!1),Ye=M.useRef(!1);M.useEffect(()=>{if(O)return Ib(O)},[O]),Eb();const ie=M.useCallback(Oe=>{const[st,...ut]=ve().map(kt=>kt.ref.current),[vt]=ut.slice(-1),ft=document.activeElement;for(const kt of Oe)if(kt===ft||(kt==null||kt.scrollIntoView({block:"nearest"}),kt===st&&ae&&(ae.scrollTop=0),kt===vt&&ae&&(ae.scrollTop=ae.scrollHeight),kt==null||kt.focus(),document.activeElement!==ft))return},[ve,ae]),ge=M.useCallback(()=>ie([J,O]),[ie,J,O]);M.useEffect(()=>{je&&ge()},[je,ge]);const{onOpenChange:he,triggerPointerDownPosRef:Me}=T;M.useEffect(()=>{if(O){let Oe={x:0,y:0};const st=vt=>{var ft,kt;Oe={x:Math.abs(Math.round(vt.pageX)-(((ft=Me.current)==null?void 0:ft.x)??0)),y:Math.abs(Math.round(vt.pageY)-(((kt=Me.current)==null?void 0:kt.y)??0))}},ut=vt=>{Oe.x<=10&&Oe.y<=10?vt.preventDefault():O.contains(vt.target)||he(!1),document.removeEventListener("pointermove",st),Me.current=null};return Me.current!==null&&(document.addEventListener("pointermove",st),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",st),document.removeEventListener("pointerup",ut,{capture:!0})}}},[O,he,Me]),M.useEffect(()=>{const Oe=()=>he(!1);return window.addEventListener("blur",Oe),window.addEventListener("resize",Oe),()=>{window.removeEventListener("blur",Oe),window.removeEventListener("resize",Oe)}},[he]);const[$e,Ie]=tM(Oe=>{const st=ve().filter(ft=>!ft.disabled),ut=st.find(ft=>ft.ref.current===document.activeElement),vt=rM(st,Oe,ut);vt&&setTimeout(()=>vt.ref.current.focus())}),Ee=M.useCallback((Oe,st,ut)=>{const vt=!Ye.current&&!ut;(T.value!==void 0&&T.value===st||vt)&&(we(Oe),vt&&(Ye.current=!0))},[T.value]),Ze=M.useCallback(()=>O==null?void 0:O.focus(),[O]),ot=M.useCallback((Oe,st,ut)=>{const vt=!Ye.current&&!ut;(T.value!==void 0&&T.value===st||vt)&&be(Oe)},[T.value]),tt=n==="popper"?o0:$2,Ce=tt===o0?{side:p,sideOffset:v,align:b,alignOffset:S,arrowPadding:E,collisionBoundary:A,collisionPadding:z,sticky:U,hideWhenDetached:D,avoidCollisions:R}:{};return h.jsx(D2,{scope:r,content:O,viewport:ae,onViewportChange:re,itemRefCallback:Ee,selectedItem:J,onItemLeave:Ze,itemTextRefCallback:ot,focusSelectedItem:ge,selectedItemText:Se,position:n,isPositioned:je,searchRef:$e,children:h.jsx(Ag,{as:QB,allowPinchZoom:!0,children:h.jsx(Sg,{asChild:!0,trapped:T.open,onMountAutoFocus:Oe=>{Oe.preventDefault()},onUnmountAutoFocus:Nt(s,Oe=>{var st;(st=T.trigger)==null||st.focus({preventScroll:!0}),Oe.preventDefault()}),children:h.jsx(kg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:Oe=>Oe.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:h.jsx(tt,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:Oe=>Oe.preventDefault(),...I,...Ce,onPlaced:()=>Fe(!0),ref:ce,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:Nt(I.onKeyDown,Oe=>{const st=Oe.ctrlKey||Oe.altKey||Oe.metaKey;if(Oe.key==="Tab"&&Oe.preventDefault(),!st&&Oe.key.length===1&&Ie(Oe.key),["ArrowUp","ArrowDown","Home","End"].includes(Oe.key)){let vt=ve().filter(ft=>!ft.disabled).map(ft=>ft.ref.current);if(["ArrowUp","End"].includes(Oe.key)&&(vt=vt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Oe.key)){const ft=Oe.target,kt=vt.indexOf(ft);vt=vt.slice(kt+1)}setTimeout(()=>ie(vt)),Oe.preventDefault()}})})})})})})});B2.displayName=ZB;var JB="SelectItemAlignedPosition",$2=M.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Xo($a,r),c=Yo($a,r),[p,v]=M.useState(null),[b,S]=M.useState(null),E=ir(t,ce=>S(ce)),A=Og(r),z=M.useRef(!1),U=M.useRef(!0),{viewport:D,selectedItem:R,selectedItemText:I,focusSelectedItem:T}=c,O=M.useCallback(()=>{if(a.trigger&&a.valueNode&&p&&b&&D&&R&&I){const ce=a.trigger.getBoundingClientRect(),J=b.getBoundingClientRect(),we=a.valueNode.getBoundingClientRect(),Se=I.getBoundingClientRect();if(a.dir!=="rtl"){const ft=Se.left-J.left,kt=we.left-ft,Qe=ce.left-kt,Dr=ce.width+Qe,Wr=Math.max(Dr,J.width),Xi=window.innerWidth-Mn,li=Yk(kt,[Mn,Math.max(Mn,Xi-Wr)]);p.style.minWidth=Dr+"px",p.style.left=li+"px"}else{const ft=J.right-Se.right,kt=window.innerWidth-we.right-ft,Qe=window.innerWidth-ce.right-kt,Dr=ce.width+Qe,Wr=Math.max(Dr,J.width),Xi=window.innerWidth-Mn,li=Yk(kt,[Mn,Math.max(Mn,Xi-Wr)]);p.style.minWidth=Dr+"px",p.style.right=li+"px"}const be=A(),ve=window.innerHeight-Mn*2,je=D.scrollHeight,Fe=window.getComputedStyle(b),Ye=parseInt(Fe.borderTopWidth,10),ie=parseInt(Fe.paddingTop,10),ge=parseInt(Fe.borderBottomWidth,10),he=parseInt(Fe.paddingBottom,10),Me=Ye+ie+je+he+ge,$e=Math.min(R.offsetHeight*5,Me),Ie=window.getComputedStyle(D),Ee=parseInt(Ie.paddingTop,10),Ze=parseInt(Ie.paddingBottom,10),ot=ce.top+ce.height/2-Mn,tt=ve-ot,Ce=R.offsetHeight/2,Oe=R.offsetTop+Ce,st=Ye+ie+Oe,ut=Me-st;if(st<=ot){const ft=be.length>0&&R===be[be.length-1].ref.current;p.style.bottom="0px";const kt=b.clientHeight-D.offsetTop-D.offsetHeight,Qe=Math.max(tt,Ce+(ft?Ze:0)+kt+ge),Dr=st+Qe;p.style.height=Dr+"px"}else{const ft=be.length>0&&R===be[0].ref.current;p.style.top="0px";const Qe=Math.max(ot,Ye+D.offsetTop+(ft?Ee:0)+Ce)+ut;p.style.height=Qe+"px",D.scrollTop=st-ot+D.offsetTop}p.style.margin=`${Mn}px 0`,p.style.minHeight=$e+"px",p.style.maxHeight=ve+"px",n==null||n(),requestAnimationFrame(()=>z.current=!0)}},[A,a.trigger,a.valueNode,p,b,D,R,I,a.dir,n]);Ir(()=>O(),[O]);const[q,ae]=M.useState();Ir(()=>{b&&ae(window.getComputedStyle(b).zIndex)},[b]);const re=M.useCallback(ce=>{ce&&U.current===!0&&(O(),T==null||T(),U.current=!1)},[O,T]);return h.jsx(t$,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:z,onScrollButtonChange:re,children:h.jsx("div",{ref:v,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:h.jsx(yt.div,{...s,ref:E,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$2.displayName=JB;var e$="SelectPopperPosition",o0=M.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Mn,...a}=e,c=Rg(r);return h.jsx(x2,{...c,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});o0.displayName=e$;var[t$,Db]=Bc($a,{}),a0="SelectViewport",z2=M.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Yo(a0,r),c=Db(a0,r),p=ir(t,a.onViewportChange),v=M.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),h.jsx(Pg.Slot,{scope:r,children:h.jsx(yt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Nt(s.onScroll,b=>{const S=b.currentTarget,{contentWrapper:E,shouldExpandOnScrollRef:A}=c;if(A!=null&&A.current&&E){const z=Math.abs(v.current-S.scrollTop);if(z>0){const U=window.innerHeight-Mn*2,D=parseFloat(E.style.minHeight),R=parseFloat(E.style.height),I=Math.max(D,R);if(I<U){const T=I+z,O=Math.min(U,T),q=T-O;E.style.height=O+"px",E.style.bottom==="0px"&&(S.scrollTop=q>0?q:0,E.style.justifyContent="flex-end")}}}v.current=S.scrollTop})})})]})});z2.displayName=a0;var F2="SelectGroup",[r$,i$]=Bc(F2),n$=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=mi();return h.jsx(r$,{scope:r,id:s,children:h.jsx(yt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});n$.displayName=F2;var W2="SelectLabel",U2=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=i$(W2,r);return h.jsx(yt.div,{id:s.id,...n,ref:t})});U2.displayName=W2;var Hp="SelectItem",[s$,H2]=Bc(Hp),G2=M.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...c}=e,p=Xo(Hp,r),v=Yo(Hp,r),b=p.value===n,[S,E]=M.useState(a??""),[A,z]=M.useState(!1),U=ir(t,T=>{var O;return(O=v.itemRefCallback)==null?void 0:O.call(v,T,n,s)}),D=mi(),R=M.useRef("touch"),I=()=>{s||(p.onValueChange(n),p.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(s$,{scope:r,value:n,disabled:s,textId:D,isSelected:b,onItemTextChange:M.useCallback(T=>{E(O=>O||((T==null?void 0:T.textContent)??"").trim())},[]),children:h.jsx(Pg.ItemSlot,{scope:r,value:n,disabled:s,textValue:S,children:h.jsx(yt.div,{role:"option","aria-labelledby":D,"data-highlighted":A?"":void 0,"aria-selected":b&&A,"data-state":b?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:U,onFocus:Nt(c.onFocus,()=>z(!0)),onBlur:Nt(c.onBlur,()=>z(!1)),onClick:Nt(c.onClick,()=>{R.current!=="mouse"&&I()}),onPointerUp:Nt(c.onPointerUp,()=>{R.current==="mouse"&&I()}),onPointerDown:Nt(c.onPointerDown,T=>{R.current=T.pointerType}),onPointerMove:Nt(c.onPointerMove,T=>{var O;R.current=T.pointerType,s?(O=v.onItemLeave)==null||O.call(v):R.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nt(c.onPointerLeave,T=>{var O;T.currentTarget===document.activeElement&&((O=v.onItemLeave)==null||O.call(v))}),onKeyDown:Nt(c.onKeyDown,T=>{var q;((q=v.searchRef)==null?void 0:q.current)!==""&&T.key===" "||(HB.includes(T.key)&&I(),T.key===" "&&T.preventDefault())})})})})});G2.displayName=Hp;var qd="SelectItemText",V2=M.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,c=Xo(qd,r),p=Yo(qd,r),v=H2(qd,r),b=YB(qd,r),[S,E]=M.useState(null),A=ir(t,I=>E(I),v.onItemTextChange,I=>{var T;return(T=p.itemTextRefCallback)==null?void 0:T.call(p,I,v.value,v.disabled)}),z=S==null?void 0:S.textContent,U=M.useMemo(()=>h.jsx("option",{value:v.value,disabled:v.disabled,children:z},v.value),[v.disabled,v.value,z]),{onNativeOptionAdd:D,onNativeOptionRemove:R}=b;return Ir(()=>(D(U),()=>R(U)),[D,R,U]),h.jsxs(h.Fragment,{children:[h.jsx(yt.span,{id:v.textId,...a,ref:A}),v.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Tc.createPortal(a.children,c.valueNode):null]})});V2.displayName=qd;var X2="SelectItemIndicator",Y2=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return H2(X2,r).isSelected?h.jsx(yt.span,{"aria-hidden":!0,...n,ref:t}):null});Y2.displayName=X2;var l0="SelectScrollUpButton",q2=M.forwardRef((e,t)=>{const r=Yo(l0,e.__scopeSelect),n=Db(l0,e.__scopeSelect),[s,a]=M.useState(!1),c=ir(t,n.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let p=function(){const b=v.scrollTop>0;a(b)};const v=r.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),s?h.jsx(Z2,{...e,ref:c,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=r;p&&v&&(p.scrollTop=p.scrollTop-v.offsetHeight)}}):null});q2.displayName=l0;var c0="SelectScrollDownButton",K2=M.forwardRef((e,t)=>{const r=Yo(c0,e.__scopeSelect),n=Db(c0,e.__scopeSelect),[s,a]=M.useState(!1),c=ir(t,n.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let p=function(){const b=v.scrollHeight-v.clientHeight,S=Math.ceil(v.scrollTop)<b;a(S)};const v=r.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),s?h.jsx(Z2,{...e,ref:c,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=r;p&&v&&(p.scrollTop=p.scrollTop+v.offsetHeight)}}):null});K2.displayName=c0;var Z2=M.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Yo("SelectScrollButton",r),c=M.useRef(null),p=Og(r),v=M.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return M.useEffect(()=>()=>v(),[v]),Ir(()=>{var S;const b=p().find(E=>E.ref.current===document.activeElement);(S=b==null?void 0:b.ref.current)==null||S.scrollIntoView({block:"nearest"})},[p]),h.jsx(yt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Nt(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Nt(s.onPointerMove,()=>{var b;(b=a.onItemLeave)==null||b.call(a),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Nt(s.onPointerLeave,()=>{v()})})}),o$="SelectSeparator",Q2=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return h.jsx(yt.div,{"aria-hidden":!0,...n,ref:t})});Q2.displayName=o$;var d0="SelectArrow",a$=M.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Rg(r),a=Xo(d0,r),c=Yo(d0,r);return a.open&&c.position==="popper"?h.jsx(y2,{...s,...n,ref:t}):null});a$.displayName=d0;var l$="SelectBubbleInput",J2=M.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=M.useRef(null),a=ir(n,s),c=tB(t);return M.useEffect(()=>{const p=s.current;if(!p)return;const v=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(v,"value").set;if(c!==t&&S){const E=new Event("change",{bubbles:!0});S.call(p,t),p.dispatchEvent(E)}},[c,t]),h.jsx(yt.select,{...r,style:{...b2,...r.style},ref:a,defaultValue:t})});J2.displayName=l$;function eM(e){return e===""||e===void 0}function tM(e){const t=Ls(e),r=M.useRef(""),n=M.useRef(0),s=M.useCallback(c=>{const p=r.current+c;t(p),function v(b){r.current=b,window.clearTimeout(n.current),b!==""&&(n.current=window.setTimeout(()=>v(""),1e3))}(p)},[t]),a=M.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function rM(e,t,r){const s=t.length>1&&Array.from(t).every(b=>b===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let c=c$(e,Math.max(a,0));s.length===1&&(c=c.filter(b=>b!==r));const v=c.find(b=>b.textValue.toLowerCase().startsWith(s.toLowerCase()));return v!==r?v:void 0}function c$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var d$=N2,iM=A2,u$=O2,h$=R2,f$=L2,nM=I2,p$=z2,sM=U2,oM=G2,g$=V2,m$=Y2,aM=q2,lM=K2,cM=Q2;const Lg=d$,Ig=u$,Fu=M.forwardRef(({className:e,children:t,...r},n)=>h.jsxs(iM,{ref:n,className:gt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,h.jsx(h$,{asChild:!0,children:h.jsx(FE,{className:"h-4 w-4 opacity-50"})})]}));Fu.displayName=iM.displayName;const dM=M.forwardRef(({className:e,...t},r)=>h.jsx(aM,{ref:r,className:gt("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(B5,{className:"h-4 w-4"})}));dM.displayName=aM.displayName;const uM=M.forwardRef(({className:e,...t},r)=>h.jsx(lM,{ref:r,className:gt("flex cursor-default items-center justify-center py-1",e),...t,children:h.jsx(FE,{className:"h-4 w-4"})}));uM.displayName=lM.displayName;const Wu=M.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>h.jsx(f$,{children:h.jsxs(nM,{ref:s,className:gt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[h.jsx(dM,{}),h.jsx(p$,{className:gt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),h.jsx(uM,{})]})}));Wu.displayName=nM.displayName;const v$=M.forwardRef(({className:e,...t},r)=>h.jsx(sM,{ref:r,className:gt("px-2 py-1.5 text-sm font-semibold",e),...t}));v$.displayName=sM.displayName;const Ns=M.forwardRef(({className:e,children:t,...r},n)=>h.jsxs(oM,{ref:n,className:gt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[h.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(m$,{children:h.jsx(zE,{className:"h-4 w-4"})})}),h.jsx(g$,{children:t})]}));Ns.displayName=oM.displayName;const x$=M.forwardRef(({className:e,...t},r)=>h.jsx(cM,{ref:r,className:gt("-mx-1 my-1 h-px bg-muted",e),...t}));x$.displayName=cM.displayName;async function y$(){try{const{data:e,error:t}=await Ve.from("seasons").select("*").eq("status","active").single();if(t&&t.code!=="PGRST116")throw t;return e||null}catch(e){return console.error("Failed to fetch active season:",e),null}}async function $c(){try{const{data:e,error:t}=await Ve.from("seasons").select("*").order("id",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Failed to fetch seasons:",e),[]}}async function b$(e="Active Season",t){try{t==null||t("Fetching current active season...");const{data:r,error:n}=await Ve.from("seasons").select("*").eq("status","active").single();if(n)throw n;if(!r)throw new Error("Active season not found");console.log(` Current season: ${r.name}`),t==null||t("Fetching active players...");const{data:s,error:a}=await Ve.from("players").select("*").not("rating","is",null);if(a)throw a;console.log(` Found ${(s==null?void 0:s.length)||0} active players`),t==null||t("Counting matches...");const{data:c,error:p}=await Ve.from("matches").select("id").eq("season_id",0);if(p)throw p;console.log(` Found ${(c==null?void 0:c.length)||0} matches in season`),t==null||t("Determining new season ID...");const{data:v,error:b}=await Ve.from("seasons").select("id").gt("id",0).order("id",{ascending:!1}).limit(1).single();if(b&&b.code!=="PGRST116")throw b;const S=((v==null?void 0:v.id)||0)+1;if(console.log(` Next season ID: ${S}`),t==null||t("Creating player snapshots..."),s&&s.length>0){const I=s.sort((O,q)=>q.rating-O.rating).map((O,q)=>({season_id:S,player_id:O.id,final_rating:O.rating,final_rd:O.rd,final_volatility:O.volatility,matches_played_count:O.matches_played||0,peak_rating:O.peak_rating,peak_rating_date:O.peak_rating_date,final_rank:q+1})),{error:T}=await Ve.from("season_player_snapshots").insert(I);if(T)throw T;console.log(` Created ${I.length} snapshots`)}t==null||t("Archiving old season...");const{error:E}=await Ve.from("seasons").delete().eq("status","active");if(E)throw E;const{error:A}=await Ve.from("seasons").insert({id:S,name:r.name,status:"archived",start_date:r.start_date,end_date:new Date().toISOString(),description:r.description});if(A)throw A;console.log(` Season ${S} archived`),t==null||t("Updating matches...");const{error:z}=await Ve.from("matches").update({season_id:S}).eq("season_id",0);if(z)throw z;t==null||t("Updating rating events...");const{error:U}=await Ve.from("rating_events").update({season_id:S}).eq("season_id",0);if(U)throw U;console.log(" Updated matches and events"),t==null||t("Creating new active season...");const{error:D}=await Ve.from("seasons").insert({id:0,name:e,status:"active",start_date:new Date().toISOString(),description:"Current active season - use id=0 to reference this"});if(D)throw D;console.log(" New active season created (id = 0)"),t==null||t("Resetting player ratings...");const{error:R}=await Ve.from("players").update({rating:null,rd:null,volatility:null}).neq("id",0);if(R)throw R;return console.log(" All player ratings reset"),t==null||t("Season transition complete!"),{success:!0,newSeasonId:S}}catch(r){const n=r instanceof Error?r.message:String(r);return console.error(" Failed to archive season:",r),{success:!1,error:n}}}async function w$(e){try{const{data:t,error:r}=await Ve.from("season_player_snapshots").select("*, player:players(id, name)").eq("season_id",e).order("final_rank");if(r)throw r;return t||[]}catch(t){return console.error(`Failed to fetch season ${e} leaderboard:`,t),[]}}async function k$(e,t){try{if(t==null||t("Starting season activation..."),e<=0)throw new Error("Cannot activate the current active season or invalid season ID");t==null||t("Fetching target season...");const{data:r,error:n}=await Ve.from("seasons").select("*").eq("id",e).single();if(n||!r)throw new Error("Target season not found");if(r.status==="active")throw new Error("Season is already active");console.log(` Activating season: ${r.name}`),t==null||t("Fetching current active season...");const{data:s,error:a}=await Ve.from("seasons").select("*").eq("status","active").single();if(a||!s)throw new Error("Current active season not found");console.log(` Current active season: ${s.name}`),t==null||t("Determining new IDs...");const{data:c}=await Ve.from("seasons").select("id").gt("id",0).order("id",{ascending:!1}).limit(1).single(),p=((c==null?void 0:c.id)||0)+1;console.log(` Current active season will get ID: ${p}`),t==null||t("Archiving current active season...");const{error:v}=await Ve.from("seasons").update({id:p,status:"archived",end_date:new Date().toISOString()}).eq("status","active");if(v)throw v;console.log(` Current active season archived with ID ${p}`),t==null||t("Updating current season matches...");const{error:b}=await Ve.from("matches").update({season_id:p}).eq("season_id",0);if(b)throw b;t==null||t("Updating current season rating events...");const{error:S}=await Ve.from("rating_events").update({season_id:p}).eq("season_id",0);if(S)throw S;console.log(" Matches and events updated"),t==null||t("Restoring player ratings from season snapshots...");const{data:E,error:A}=await Ve.from("season_player_snapshots").select("*").eq("season_id",e);if(A)throw A;if(E&&E.length>0){for(const R of E){const{error:I}=await Ve.from("players").update({rating:R.final_rating,rd:R.final_rd,volatility:R.final_volatility}).eq("id",R.player_id);I&&console.warn(` Failed to update player ${R.player_id}:`,I)}console.log(` Restored ratings for ${E.length} players`)}t==null||t("Converting target season to active...");const{error:z}=await Ve.from("seasons").update({id:0,status:"active",end_date:null}).eq("id",e);if(z)throw z;console.log(" Target season is now active"),t==null||t("Updating target season matches...");const{error:U}=await Ve.from("matches").update({season_id:0}).eq("season_id",e);if(U)throw U;t==null||t("Updating target season rating events...");const{error:D}=await Ve.from("rating_events").update({season_id:0}).eq("season_id",e);if(D)throw D;return console.log(" All matches and events restored for active season"),t==null||t("Season activation complete!"),{success:!0}}catch(r){const n=r instanceof Error?r.message:String(r);return console.error(" Failed to activate season:",r),{success:!1,error:n}}}const zd=25;function xS(e,t=0){return e.toLocaleString(void 0,{maximumFractionDigits:t,minimumFractionDigits:t})}function S$(){fn("Leaderboard");const{players:e,matches:t,loading:r,error:n}=bg(),[s,a]=rE(),[c,p]=M.useState([]),[v,b]=M.useState(null),[S,E]=M.useState([]),[A,z]=M.useState(!1);M.useEffect(()=>{(async()=>{const ie=await $c();p(ie);const ge=ie.find(he=>he.status==="active");ge&&b(ge.id)})()},[]),M.useEffect(()=>{const ie=c.find(he=>he.status==="active"),ge=ie&&v===ie.id;!v||ge||(async()=>{z(!0);const he=await w$(v);E(he),z(!1)})()},[v,c]);const[U,D]=M.useState(()=>{const ie=s.get("page");return ie?parseInt(ie,10):1}),[R,I]=M.useState(()=>s.get("search")||""),[T,O]=M.useState(()=>{const ie=s.get("sort");return ie&&["rating","rd","matches","name"].includes(ie)?ie:"rating"}),[q,ae]=M.useState(()=>{const ie=s.get("dir");return ie==="asc"||ie==="desc"?ie:"desc"});M.useEffect(()=>{const ie=new URLSearchParams;U!==1&&ie.set("page",U.toString()),R&&ie.set("search",R),T!=="rating"&&ie.set("sort",T),q!=="desc"&&ie.set("dir",q);const ge=ie.toString(),he=s.toString();ge!==he&&a(ie)},[U,R,T,q,a,s]);const re=M.useMemo(()=>{const ie=c.find(he=>he.status==="active"),ge=ie&&v===ie.id;return v===null?{players:e.filter(he=>he.rating!==null&&he.rd!==null&&he.volatility!==null),isArchived:!1,isAllSeasons:!0}:ge?{players:e.filter(he=>he.has_played_this_season&&he.rating!==null&&he.rd!==null&&he.volatility!==null),isArchived:!1,isAllSeasons:!1}:{players:S.map(he=>{var Me;return{id:he.player_id,name:((Me=he.player)==null?void 0:Me.name)||`Player ${he.player_id}`,rating:he.final_rating,rd:he.final_rd,volatility:he.final_volatility,matches_played:he.matches_played_count,peak_rating:he.peak_rating,peak_rating_date:he.peak_rating_date}}),isArchived:!0,isAllSeasons:!1}},[v,c,e,S,t]),{rankedPlayers:ce,playerMatchCounts:J,playerRankings:we}=M.useMemo(()=>{const ie=re.players,ge=new Map;if(!re.isArchived&&t)for(const Me of t)ge.set(Me.player1_id,(ge.get(Me.player1_id)??0)+1),ge.set(Me.player2_id,(ge.get(Me.player2_id)??0)+1);else if(re.isArchived)for(const Me of ie)ge.set(Me.id,Me.matches_played||0);const he=new Map;return ie.forEach((Me,$e)=>{he.set(Me.id,$e+1)}),{rankedPlayers:ie,playerMatchCounts:ge,playerRankings:he}},[re,t]),Se=M.useMemo(()=>{let ie=ce.filter(ge=>ge.rating!==null&&ge.rd!==null&&ge.volatility!==null);if(R.trim()){const ge=R.trim().toLowerCase();ie=ie.filter(he=>he.name.toLowerCase().includes(ge))}return ie},[ce,R]),be=M.useMemo(()=>{const ie=[...Se];return ie.sort((ge,he)=>{const Me=J.get(ge.id)??0,$e=J.get(he.id)??0;let Ie=0;switch(T){case"rating":Ie=(ge.rating??0)-(he.rating??0);break;case"rd":Ie=(ge.rd??0)-(he.rd??0);break;case"matches":Ie=Me-$e;break;case"name":Ie=ge.name.localeCompare(he.name);break}return q==="asc"?Ie:-Ie}),ie},[Se,T,q,J]),ve=ie=>{T===ie?ae(ge=>ge==="asc"?"desc":"asc"):(O(ie),ae(ie==="name"?"asc":"desc")),D(1)},je=Math.ceil(be.length/zd),Fe=M.useMemo(()=>{const ie=(U-1)*zd,ge=ie+zd;return be.slice(ie,ge)},[be,U]),Ye=ie=>{const ge=Fe[ie];return ge?we.get(ge.id)??0:0};return U>je&&je>0&&D(1),h.jsxs("section",{className:"space-y-8",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-primary/30 pb-4",children:[h.jsx("h1",{className:"text-4xl font-heading font-bold text-primary drop-shadow-[0_0_10px_rgba(234,179,8,0.3)] uppercase tracking-widest",children:"Leaderboard"}),h.jsx("div",{className:"h-1 w-24 bg-primary/50 rounded-full"})]}),r&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),n&&h.jsxs("div",{className:"text-destructive text-center py-8 font-heading",children:["Error loading data: ",n]}),!r&&!n&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 bg-card/50 p-4 rounded-lg border border-border/30 backdrop-blur-sm",children:[h.jsx("div",{className:"w-full md:w-auto flex-1",children:h.jsxs(Lg,{value:v===null?"all":v.toString(),onValueChange:ie=>b(ie==="all"?null:parseInt(ie,10)),children:[h.jsx(Fu,{className:"w-full bg-background/50 border-primary/30 focus:ring-primary/50",children:h.jsx(Ig,{placeholder:"Select a season"})}),h.jsxs(Wu,{children:[h.jsx(Ns,{value:"all",children:"All seasons"}),c.filter(ie=>ie.status==="active").map(ie=>h.jsx(Ns,{value:ie.id.toString(),children:ie.name},ie.id)),c.filter(ie=>ie.status==="archived").sort((ie,ge)=>ie.id-ge.id).map(ie=>h.jsxs(Ns,{value:ie.id.toString(),children:[ie.name," (Archived)"]},ie.id))]})]})}),h.jsx("div",{className:"w-full md:w-auto flex-1",children:h.jsx(Zr,{placeholder:"Search warrior",value:R,onChange:ie=>{D(1),I(ie.target.value)},className:"w-full bg-background/50 border-primary/30 focus:ring-primary/50"})})]}),A&&h.jsx("p",{className:"text-muted-foreground text-center italic",children:"Loading season data..."}),h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(qr,{className:"border-b border-border/30 bg-muted/20",children:h.jsxs(Kr,{className:"font-heading uppercase tracking-widest text-lg flex items-center gap-2",children:[h.jsx("span",{className:"text-primary",children:""})," Current Standings"]})}),h.jsx(xr,{className:"p-0",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{className:"text-left text-muted-foreground bg-muted/30 font-heading uppercase tracking-wider text-xs",children:h.jsxs("tr",{children:[h.jsx("th",{className:"py-3 px-4 w-20 text-center",children:"Rank"}),h.jsx("th",{className:"py-3 px-4",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors",onClick:()=>ve("name"),children:[h.jsx("span",{className:"hidden sm:inline",children:"Warrior"}),h.jsx("span",{className:"sm:hidden",children:"Name"}),T==="name"?q==="asc"?h.jsx(rc,{size:14}):h.jsx(tc,{size:14}):h.jsx(Wf,{size:14,className:"opacity-50"})]})}),h.jsx("th",{className:"py-3 px-4 text-right",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors ml-auto",onClick:()=>ve("rating"),children:[h.jsx("span",{className:"hidden sm:inline",children:"Rating"}),h.jsx("span",{className:"sm:hidden",children:"Rtng"}),T==="rating"?q==="asc"?h.jsx(rc,{size:14}):h.jsx(tc,{size:14}):h.jsx(Wf,{size:14,className:"opacity-50"})]})}),h.jsx("th",{className:"py-3 px-4 text-right hidden sm:table-cell",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors ml-auto",onClick:()=>ve("rd"),title:"Rating Deviation",children:[h.jsx("span",{children:"Deviation"}),T==="rd"?q==="asc"?h.jsx(rc,{size:14}):h.jsx(tc,{size:14}):h.jsx(Wf,{size:14,className:"opacity-50"})]})}),h.jsx("th",{className:"py-3 px-4 text-right hidden sm:table-cell",children:h.jsxs("button",{className:"inline-flex items-center gap-1 hover:text-primary transition-colors ml-auto",onClick:()=>ve("matches"),children:[h.jsx("span",{children:"Battles"}),T==="matches"?q==="asc"?h.jsx(rc,{size:14}):h.jsx(tc,{size:14}):h.jsx(Wf,{size:14,className:"opacity-50"})]})})]})}),h.jsx("tbody",{className:"divide-y divide-border/20",children:be.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"py-12 text-center text-muted-foreground font-heading italic",children:R?`No warriors found matching "${R}"`:"No warriors found."})}):Fe.map((ie,ge)=>{const he=Ye(ge),Me=J.get(ie.id)??0,$e=he<=3;return h.jsxs("tr",{className:`group transition-colors hover:bg-primary/5 ${$e?"bg-primary/5":""}`,children:[h.jsx("td",{className:"py-3 px-4 text-center",children:h.jsxs("div",{className:`font-heading font-bold text-base ${he===1?"text-yellow-500 drop-shadow-[0_0_5px_rgba(234,179,8,0.5)]":he===2?"text-gray-300 drop-shadow-[0_0_5px_rgba(209,213,219,0.5)]":he===3?"text-amber-700 drop-shadow-[0_0_5px_rgba(180,83,9,0.5)]":"text-muted-foreground"}`,children:["#",he]})}),h.jsx("td",{className:"py-3 px-4",children:h.jsxs(Mr,{className:"flex items-center gap-3 group/link",to:`/players/${ie.id}`,children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:`absolute inset-0 rounded-full blur-sm opacity-0 group-hover/link:opacity-100 transition-opacity ${he===1?"bg-yellow-500/50":"bg-primary/30"}`}),h.jsx(Rs,{name:ie.name,twitter:ie.twitter,size:40,className:`h-10 w-10 border-2 relative z-10 transition-colors ${he===1?"border-yellow-500":he===2?"border-gray-300":he===3?"border-amber-700":"border-border group-hover/link:border-primary"}`})]}),h.jsx("span",{className:`font-heading font-bold text-base transition-colors ${he<=3?"text-foreground":"text-foreground/90 group-hover/link:text-primary"}`,children:ie.name})]})}),h.jsx("td",{className:"py-3 px-4 text-right font-mono font-bold text-lg text-primary",children:xS(ie.rating??0,0)}),h.jsx("td",{className:"py-3 px-4 text-right hidden sm:table-cell text-muted-foreground font-mono",children:xS(ie.rd??0,0)}),h.jsx("td",{className:"py-3 px-4 text-right hidden sm:table-cell text-foreground font-bold",children:Me})]},ie.id)})})]})})})]})]}),!r&&be.length>zd&&h.jsx(pb,{currentPage:U,totalPages:je,onPageChange:D,itemsPerPage:zd,totalItems:be.length})]})}var yS=1,_$=.9,C$=.8,E$=.17,Ix=.1,Dx=.999,M$=.9999,j$=.99,N$=/[\\\/_+.#"@\[\(\{&]/,T$=/[\\\/_+.#"@\[\(\{&]/g,A$=/[\s-]/,hM=/[\s-]/g;function u0(e,t,r,n,s,a,c){if(a===t.length)return s===e.length?yS:j$;var p=`${s},${a}`;if(c[p]!==void 0)return c[p];for(var v=n.charAt(a),b=r.indexOf(v,s),S=0,E,A,z,U;b>=0;)E=u0(e,t,r,n,b+1,a+1,c),E>S&&(b===s?E*=yS:N$.test(e.charAt(b-1))?(E*=C$,z=e.slice(s,b-1).match(T$),z&&s>0&&(E*=Math.pow(Dx,z.length))):A$.test(e.charAt(b-1))?(E*=_$,U=e.slice(s,b-1).match(hM),U&&s>0&&(E*=Math.pow(Dx,U.length))):(E*=E$,s>0&&(E*=Math.pow(Dx,b-s))),e.charAt(b)!==t.charAt(a)&&(E*=M$)),(E<Ix&&r.charAt(b-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&r.charAt(b-1)!==n.charAt(a))&&(A=u0(e,t,r,n,b+1,a+2,c),A*Ix>E&&(E=A*Ix)),E>S&&(S=E),b=r.indexOf(v,b+1);return c[p]=S,S}function bS(e){return e.toLowerCase().replace(hM," ")}function P$(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,u0(e,t,bS(e),bS(t),0,0,{})}function O$(e,t){return M.useReducer((r,n)=>t[r][n]??r,e)}var Ka=e=>{const{present:t,children:r}=e,n=R$(t),s=typeof r=="function"?r({present:n.isPresent}):M.Children.only(r),a=ir(n.ref,L$(s));return typeof r=="function"||n.isPresent?M.cloneElement(s,{ref:a}):null};Ka.displayName="Presence";function R$(e){const[t,r]=M.useState(),n=M.useRef(null),s=M.useRef(e),a=M.useRef("none"),c=e?"mounted":"unmounted",[p,v]=O$(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const b=Yf(n.current);a.current=p==="mounted"?b:"none"},[p]),Ir(()=>{const b=n.current,S=s.current;if(S!==e){const A=a.current,z=Yf(b);e?v("MOUNT"):z==="none"||(b==null?void 0:b.display)==="none"?v("UNMOUNT"):v(S&&A!==z?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,v]),Ir(()=>{if(t){let b;const S=t.ownerDocument.defaultView??window,E=z=>{const D=Yf(n.current).includes(CSS.escape(z.animationName));if(z.target===t&&D&&(v("ANIMATION_END"),!s.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",b=S.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},A=z=>{z.target===t&&(a.current=Yf(n.current))};return t.addEventListener("animationstart",A),t.addEventListener("animationcancel",E),t.addEventListener("animationend",E),()=>{S.clearTimeout(b),t.removeEventListener("animationstart",A),t.removeEventListener("animationcancel",E),t.removeEventListener("animationend",E)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:M.useCallback(b=>{n.current=b?getComputedStyle(b):null,r(b)},[])}}function Yf(e){return(e==null?void 0:e.animationName)||"none"}function L$(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Dg="Dialog",[fM]=Vo(Dg),[I$,Dn]=fM(Dg),pM=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:c=!0}=e,p=M.useRef(null),v=M.useRef(null),[b,S]=Sc({prop:n,defaultProp:s??!1,onChange:a,caller:Dg});return h.jsx(I$,{scope:t,triggerRef:p,contentRef:v,contentId:mi(),titleId:mi(),descriptionId:mi(),open:b,onOpenChange:S,onOpenToggle:M.useCallback(()=>S(E=>!E),[S]),modal:c,children:r})};pM.displayName=Dg;var gM="DialogTrigger",D$=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(gM,r),a=ir(t,s.triggerRef);return h.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":zb(s.open),...n,ref:a,onClick:Nt(e.onClick,s.onOpenToggle)})});D$.displayName=gM;var Bb="DialogPortal",[B$,mM]=fM(Bb,{forceMount:void 0}),vM=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Dn(Bb,t);return h.jsx(B$,{scope:t,forceMount:r,children:M.Children.map(n,c=>h.jsx(Ka,{present:r||a.open,children:h.jsx(Ng,{asChild:!0,container:s,children:c})}))})};vM.displayName=Bb;var Gp="DialogOverlay",xM=M.forwardRef((e,t)=>{const r=mM(Gp,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Dn(Gp,e.__scopeDialog);return a.modal?h.jsx(Ka,{present:n||a.open,children:h.jsx(z$,{...s,ref:t})}):null});xM.displayName=Gp;var $$=Ia("DialogOverlay.RemoveScroll"),z$=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(Gp,r);return h.jsx(Ag,{as:$$,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(yt.div,{"data-state":zb(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),za="DialogContent",yM=M.forwardRef((e,t)=>{const r=mM(za,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Dn(za,e.__scopeDialog);return h.jsx(Ka,{present:n||a.open,children:a.modal?h.jsx(F$,{...s,ref:t}):h.jsx(W$,{...s,ref:t})})});yM.displayName=za;var F$=M.forwardRef((e,t)=>{const r=Dn(za,e.__scopeDialog),n=M.useRef(null),s=ir(t,r.contentRef,n);return M.useEffect(()=>{const a=n.current;if(a)return Ib(a)},[]),h.jsx(bM,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Nt(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,p=c.button===0&&c.ctrlKey===!0;(c.button===2||p)&&a.preventDefault()}),onFocusOutside:Nt(e.onFocusOutside,a=>a.preventDefault())})}),W$=M.forwardRef((e,t)=>{const r=Dn(za,e.__scopeDialog),n=M.useRef(!1),s=M.useRef(!1);return h.jsx(bM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,p;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(n.current||(p=r.triggerRef.current)==null||p.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var v,b;(v=e.onInteractOutside)==null||v.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=a.target;((b=r.triggerRef.current)==null?void 0:b.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),bM=M.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...c}=e,p=Dn(za,r),v=M.useRef(null),b=ir(t,v);return Eb(),h.jsxs(h.Fragment,{children:[h.jsx(Sg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:h.jsx(kg,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":zb(p.open),...c,ref:b,onDismiss:()=>p.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(U$,{titleId:p.titleId}),h.jsx(G$,{contentRef:v,descriptionId:p.descriptionId})]})]})}),$b="DialogTitle",wM=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn($b,r);return h.jsx(yt.h2,{id:s.titleId,...n,ref:t})});wM.displayName=$b;var kM="DialogDescription",SM=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(kM,r);return h.jsx(yt.p,{id:s.descriptionId,...n,ref:t})});SM.displayName=kM;var _M="DialogClose",CM=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Dn(_M,r);return h.jsx(yt.button,{type:"button",...n,ref:t,onClick:Nt(e.onClick,()=>s.onOpenChange(!1))})});CM.displayName=_M;function zb(e){return e?"open":"closed"}var EM="DialogTitleWarning",[ZF,MM]=d3(EM,{contentName:za,titleName:$b,docsSlug:"dialog"}),U$=({titleId:e})=>{const t=MM(EM),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return M.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},H$="DialogDescriptionWarning",G$=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MM(H$).contentName}}.`;return M.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},jM=pM,NM=vM,Fb=xM,Wb=yM,TM=wM,AM=SM,V$=CM,Fd='[cmdk-group=""]',Bx='[cmdk-group-items=""]',X$='[cmdk-group-heading=""]',PM='[cmdk-item=""]',wS=`${PM}:not([aria-disabled="true"])`,h0="cmdk-item-select",Fl="data-value",Y$=(e,t,r)=>P$(e,t,r),OM=M.createContext(void 0),Uu=()=>M.useContext(OM),RM=M.createContext(void 0),Ub=()=>M.useContext(RM),LM=M.createContext(void 0),IM=M.forwardRef((e,t)=>{let r=Wl(()=>{var Ee,Ze;return{search:"",value:(Ze=(Ee=e.value)!=null?Ee:e.defaultValue)!=null?Ze:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Wl(()=>new Set),s=Wl(()=>new Map),a=Wl(()=>new Map),c=Wl(()=>new Set),p=DM(e),{label:v,children:b,value:S,onValueChange:E,filter:A,shouldFilter:z,loop:U,disablePointerSelection:D=!1,vimBindings:R=!0,...I}=e,T=mi(),O=mi(),q=mi(),ae=M.useRef(null),re=sz();Fa(()=>{if(S!==void 0){let Ee=S.trim();r.current.value=Ee,ce.emit()}},[S]),Fa(()=>{re(6,je)},[]);let ce=M.useMemo(()=>({subscribe:Ee=>(c.current.add(Ee),()=>c.current.delete(Ee)),snapshot:()=>r.current,setState:(Ee,Ze,ot)=>{var tt,Ce,Oe,st;if(!Object.is(r.current[Ee],Ze)){if(r.current[Ee]=Ze,Ee==="search")ve(),Se(),re(1,be);else if(Ee==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ut=document.getElementById(q);ut?ut.focus():(tt=document.getElementById(T))==null||tt.focus()}if(re(7,()=>{var ut;r.current.selectedItemId=(ut=Fe())==null?void 0:ut.id,ce.emit()}),ot||re(5,je),((Ce=p.current)==null?void 0:Ce.value)!==void 0){let ut=Ze??"";(st=(Oe=p.current).onValueChange)==null||st.call(Oe,ut);return}}ce.emit()}},emit:()=>{c.current.forEach(Ee=>Ee())}}),[]),J=M.useMemo(()=>({value:(Ee,Ze,ot)=>{var tt;Ze!==((tt=a.current.get(Ee))==null?void 0:tt.value)&&(a.current.set(Ee,{value:Ze,keywords:ot}),r.current.filtered.items.set(Ee,we(Ze,ot)),re(2,()=>{Se(),ce.emit()}))},item:(Ee,Ze)=>(n.current.add(Ee),Ze&&(s.current.has(Ze)?s.current.get(Ze).add(Ee):s.current.set(Ze,new Set([Ee]))),re(3,()=>{ve(),Se(),r.current.value||be(),ce.emit()}),()=>{a.current.delete(Ee),n.current.delete(Ee),r.current.filtered.items.delete(Ee);let ot=Fe();re(4,()=>{ve(),(ot==null?void 0:ot.getAttribute("id"))===Ee&&be(),ce.emit()})}),group:Ee=>(s.current.has(Ee)||s.current.set(Ee,new Set),()=>{a.current.delete(Ee),s.current.delete(Ee)}),filter:()=>p.current.shouldFilter,label:v||e["aria-label"],getDisablePointerSelection:()=>p.current.disablePointerSelection,listId:T,inputId:q,labelId:O,listInnerRef:ae}),[]);function we(Ee,Ze){var ot,tt;let Ce=(tt=(ot=p.current)==null?void 0:ot.filter)!=null?tt:Y$;return Ee?Ce(Ee,r.current.search,Ze):0}function Se(){if(!r.current.search||p.current.shouldFilter===!1)return;let Ee=r.current.filtered.items,Ze=[];r.current.filtered.groups.forEach(tt=>{let Ce=s.current.get(tt),Oe=0;Ce.forEach(st=>{let ut=Ee.get(st);Oe=Math.max(ut,Oe)}),Ze.push([tt,Oe])});let ot=ae.current;Ye().sort((tt,Ce)=>{var Oe,st;let ut=tt.getAttribute("id"),vt=Ce.getAttribute("id");return((Oe=Ee.get(vt))!=null?Oe:0)-((st=Ee.get(ut))!=null?st:0)}).forEach(tt=>{let Ce=tt.closest(Bx);Ce?Ce.appendChild(tt.parentElement===Ce?tt:tt.closest(`${Bx} > *`)):ot.appendChild(tt.parentElement===ot?tt:tt.closest(`${Bx} > *`))}),Ze.sort((tt,Ce)=>Ce[1]-tt[1]).forEach(tt=>{var Ce;let Oe=(Ce=ae.current)==null?void 0:Ce.querySelector(`${Fd}[${Fl}="${encodeURIComponent(tt[0])}"]`);Oe==null||Oe.parentElement.appendChild(Oe)})}function be(){let Ee=Ye().find(ot=>ot.getAttribute("aria-disabled")!=="true"),Ze=Ee==null?void 0:Ee.getAttribute(Fl);ce.setState("value",Ze||void 0)}function ve(){var Ee,Ze,ot,tt;if(!r.current.search||p.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Ce=0;for(let Oe of n.current){let st=(Ze=(Ee=a.current.get(Oe))==null?void 0:Ee.value)!=null?Ze:"",ut=(tt=(ot=a.current.get(Oe))==null?void 0:ot.keywords)!=null?tt:[],vt=we(st,ut);r.current.filtered.items.set(Oe,vt),vt>0&&Ce++}for(let[Oe,st]of s.current)for(let ut of st)if(r.current.filtered.items.get(ut)>0){r.current.filtered.groups.add(Oe);break}r.current.filtered.count=Ce}function je(){var Ee,Ze,ot;let tt=Fe();tt&&(((Ee=tt.parentElement)==null?void 0:Ee.firstChild)===tt&&((ot=(Ze=tt.closest(Fd))==null?void 0:Ze.querySelector(X$))==null||ot.scrollIntoView({block:"nearest"})),tt.scrollIntoView({block:"nearest"}))}function Fe(){var Ee;return(Ee=ae.current)==null?void 0:Ee.querySelector(`${PM}[aria-selected="true"]`)}function Ye(){var Ee;return Array.from(((Ee=ae.current)==null?void 0:Ee.querySelectorAll(wS))||[])}function ie(Ee){let Ze=Ye()[Ee];Ze&&ce.setState("value",Ze.getAttribute(Fl))}function ge(Ee){var Ze;let ot=Fe(),tt=Ye(),Ce=tt.findIndex(st=>st===ot),Oe=tt[Ce+Ee];(Ze=p.current)!=null&&Ze.loop&&(Oe=Ce+Ee<0?tt[tt.length-1]:Ce+Ee===tt.length?tt[0]:tt[Ce+Ee]),Oe&&ce.setState("value",Oe.getAttribute(Fl))}function he(Ee){let Ze=Fe(),ot=Ze==null?void 0:Ze.closest(Fd),tt;for(;ot&&!tt;)ot=Ee>0?iz(ot,Fd):nz(ot,Fd),tt=ot==null?void 0:ot.querySelector(wS);tt?ce.setState("value",tt.getAttribute(Fl)):ge(Ee)}let Me=()=>ie(Ye().length-1),$e=Ee=>{Ee.preventDefault(),Ee.metaKey?Me():Ee.altKey?he(1):ge(1)},Ie=Ee=>{Ee.preventDefault(),Ee.metaKey?ie(0):Ee.altKey?he(-1):ge(-1)};return M.createElement(yt.div,{ref:t,tabIndex:-1,...I,"cmdk-root":"",onKeyDown:Ee=>{var Ze;(Ze=I.onKeyDown)==null||Ze.call(I,Ee);let ot=Ee.nativeEvent.isComposing||Ee.keyCode===229;if(!(Ee.defaultPrevented||ot))switch(Ee.key){case"n":case"j":{R&&Ee.ctrlKey&&$e(Ee);break}case"ArrowDown":{$e(Ee);break}case"p":case"k":{R&&Ee.ctrlKey&&Ie(Ee);break}case"ArrowUp":{Ie(Ee);break}case"Home":{Ee.preventDefault(),ie(0);break}case"End":{Ee.preventDefault(),Me();break}case"Enter":{Ee.preventDefault();let tt=Fe();if(tt){let Ce=new Event(h0);tt.dispatchEvent(Ce)}}}}},M.createElement("label",{"cmdk-label":"",htmlFor:J.inputId,id:J.labelId,style:az},v),Bg(e,Ee=>M.createElement(RM.Provider,{value:ce},M.createElement(OM.Provider,{value:J},Ee))))}),q$=M.forwardRef((e,t)=>{var r,n;let s=mi(),a=M.useRef(null),c=M.useContext(LM),p=Uu(),v=DM(e),b=(n=(r=v.current)==null?void 0:r.forceMount)!=null?n:c==null?void 0:c.forceMount;Fa(()=>{if(!b)return p.item(s,c==null?void 0:c.id)},[b]);let S=BM(s,a,[e.value,e.children,a],e.keywords),E=Ub(),A=Fo(re=>re.value&&re.value===S.current),z=Fo(re=>b||p.filter()===!1?!0:re.search?re.filtered.items.get(s)>0:!0);M.useEffect(()=>{let re=a.current;if(!(!re||e.disabled))return re.addEventListener(h0,U),()=>re.removeEventListener(h0,U)},[z,e.onSelect,e.disabled]);function U(){var re,ce;D(),(ce=(re=v.current).onSelect)==null||ce.call(re,S.current)}function D(){E.setState("value",S.current,!0)}if(!z)return null;let{disabled:R,value:I,onSelect:T,forceMount:O,keywords:q,...ae}=e;return M.createElement(yt.div,{ref:La(a,t),...ae,id:s,"cmdk-item":"",role:"option","aria-disabled":!!R,"aria-selected":!!A,"data-disabled":!!R,"data-selected":!!A,onPointerMove:R||p.getDisablePointerSelection()?void 0:D,onClick:R?void 0:U},e.children)}),K$=M.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...a}=e,c=mi(),p=M.useRef(null),v=M.useRef(null),b=mi(),S=Uu(),E=Fo(z=>s||S.filter()===!1?!0:z.search?z.filtered.groups.has(c):!0);Fa(()=>S.group(c),[]),BM(c,p,[e.value,e.heading,v]);let A=M.useMemo(()=>({id:c,forceMount:s}),[s]);return M.createElement(yt.div,{ref:La(p,t),...a,"cmdk-group":"",role:"presentation",hidden:E?void 0:!0},r&&M.createElement("div",{ref:v,"cmdk-group-heading":"","aria-hidden":!0,id:b},r),Bg(e,z=>M.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?b:void 0},M.createElement(LM.Provider,{value:A},z))))}),Z$=M.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=M.useRef(null),a=Fo(c=>!c.search);return!r&&!a?null:M.createElement(yt.div,{ref:La(s,t),...n,"cmdk-separator":"",role:"separator"})}),Q$=M.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,a=Ub(),c=Fo(b=>b.search),p=Fo(b=>b.selectedItemId),v=Uu();return M.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),M.createElement(yt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":v.listId,"aria-labelledby":v.labelId,"aria-activedescendant":p,id:v.inputId,type:"text",value:s?e.value:c,onChange:b=>{s||a.setState("search",b.target.value),r==null||r(b.target.value)}})}),J$=M.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,a=M.useRef(null),c=M.useRef(null),p=Fo(b=>b.selectedItemId),v=Uu();return M.useEffect(()=>{if(c.current&&a.current){let b=c.current,S=a.current,E,A=new ResizeObserver(()=>{E=requestAnimationFrame(()=>{let z=b.offsetHeight;S.style.setProperty("--cmdk-list-height",z.toFixed(1)+"px")})});return A.observe(b),()=>{cancelAnimationFrame(E),A.unobserve(b)}}},[]),M.createElement(yt.div,{ref:La(a,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":p,"aria-label":n,id:v.listId},Bg(e,b=>M.createElement("div",{ref:La(c,v.listInnerRef),"cmdk-list-sizer":""},b)))}),ez=M.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:a,container:c,...p}=e;return M.createElement(jM,{open:r,onOpenChange:n},M.createElement(NM,{container:c},M.createElement(Fb,{"cmdk-overlay":"",className:s}),M.createElement(Wb,{"aria-label":e.label,"cmdk-dialog":"",className:a},M.createElement(IM,{ref:t,...p}))))}),tz=M.forwardRef((e,t)=>Fo(r=>r.filtered.count===0)?M.createElement(yt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),rz=M.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...a}=e;return M.createElement(yt.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Bg(e,c=>M.createElement("div",{"aria-hidden":!0},c)))}),Pi=Object.assign(IM,{List:J$,Item:q$,Input:Q$,Group:K$,Separator:Z$,Dialog:ez,Empty:tz,Loading:rz});function iz(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function nz(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function DM(e){let t=M.useRef(e);return Fa(()=>{t.current=e}),t}var Fa=typeof window>"u"?M.useEffect:M.useLayoutEffect;function Wl(e){let t=M.useRef();return t.current===void 0&&(t.current=e()),t}function Fo(e){let t=Ub(),r=()=>e(t.snapshot());return M.useSyncExternalStore(t.subscribe,r,r)}function BM(e,t,r,n=[]){let s=M.useRef(),a=Uu();return Fa(()=>{var c;let p=(()=>{var b;for(let S of r){if(typeof S=="string")return S.trim();if(typeof S=="object"&&"current"in S)return S.current?(b=S.current.textContent)==null?void 0:b.trim():s.current}})(),v=n.map(b=>b.trim());a.value(e,p,v),(c=t.current)==null||c.setAttribute(Fl,p),s.current=p}),s}var sz=()=>{let[e,t]=M.useState(),r=Wl(()=>new Map);return Fa(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function oz(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Bg({asChild:e,children:t},r){return e&&M.isValidElement(t)?M.cloneElement(oz(t),{ref:t.ref},r(t.props.children)):r(t)}var az={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const _c=jM,lz=NM,$M=M.forwardRef(({className:e,...t},r)=>h.jsx(Fb,{ref:r,className:gt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));$M.displayName=Fb.displayName;const Wa=M.forwardRef(({className:e,children:t,...r},n)=>h.jsxs(lz,{children:[h.jsx($M,{}),h.jsxs(Wb,{ref:n,className:gt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,h.jsxs(V$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(_b,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wa.displayName=Wb.displayName;const Ua=({className:e,...t})=>h.jsx("div",{className:gt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ua.displayName="DialogHeader";const Hu=({className:e,...t})=>h.jsx("div",{className:gt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hu.displayName="DialogFooter";const Ha=M.forwardRef(({className:e,...t},r)=>h.jsx(TM,{ref:r,className:gt("text-lg font-semibold leading-none tracking-tight",e),...t}));Ha.displayName=TM.displayName;const Gu=M.forwardRef(({className:e,...t},r)=>h.jsx(AM,{ref:r,className:gt("text-sm text-muted-foreground",e),...t}));Gu.displayName=AM.displayName;const zM=M.forwardRef(({className:e,...t},r)=>h.jsx(Pi,{ref:r,className:gt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));zM.displayName=Pi.displayName;const FM=M.forwardRef(({className:e,...t},r)=>h.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[h.jsx(e3,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),h.jsx(Pi.Input,{ref:r,className:gt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));FM.displayName=Pi.Input.displayName;const WM=M.forwardRef(({className:e,...t},r)=>h.jsx(Pi.List,{ref:r,className:gt("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));WM.displayName=Pi.List.displayName;const UM=M.forwardRef((e,t)=>h.jsx(Pi.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));UM.displayName=Pi.Empty.displayName;const HM=M.forwardRef(({className:e,...t},r)=>h.jsx(Pi.Group,{ref:r,className:gt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));HM.displayName=Pi.Group.displayName;const cz=M.forwardRef(({className:e,...t},r)=>h.jsx(Pi.Separator,{ref:r,className:gt("-mx-1 h-px bg-border",e),...t}));cz.displayName=Pi.Separator.displayName;const GM=M.forwardRef(({className:e,...t},r)=>h.jsx(Pi.Item,{ref:r,className:gt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",e),...t}));GM.displayName=Pi.Item.displayName;var $g="Popover",[VM]=Vo($g,[jg]),Vu=jg(),[dz,qo]=VM($g),XM=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:c=!1}=e,p=Vu(t),v=M.useRef(null),[b,S]=M.useState(!1),[E,A]=Sc({prop:n,defaultProp:s??!1,onChange:a,caller:$g});return h.jsx(v2,{...p,children:h.jsx(dz,{scope:t,contentId:mi(),triggerRef:v,open:E,onOpenChange:A,onOpenToggle:M.useCallback(()=>A(z=>!z),[A]),hasCustomAnchor:b,onCustomAnchorAdd:M.useCallback(()=>S(!0),[]),onCustomAnchorRemove:M.useCallback(()=>S(!1),[]),modal:c,children:r})})};XM.displayName=$g;var YM="PopoverAnchor",uz=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=qo(YM,r),a=Vu(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:p}=s;return M.useEffect(()=>(c(),()=>p()),[c,p]),h.jsx(Lb,{...a,...n,ref:t})});uz.displayName=YM;var qM="PopoverTrigger",KM=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=qo(qM,r),a=Vu(r),c=ir(t,s.triggerRef),p=h.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tj(s.open),...n,ref:c,onClick:Nt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?p:h.jsx(Lb,{asChild:!0,...a,children:p})});KM.displayName=qM;var Hb="PopoverPortal",[hz,fz]=VM(Hb,{forceMount:void 0}),ZM=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=qo(Hb,t);return h.jsx(hz,{scope:t,forceMount:r,children:h.jsx(Ka,{present:r||a.open,children:h.jsx(Ng,{asChild:!0,container:s,children:n})})})};ZM.displayName=Hb;var Cc="PopoverContent",QM=M.forwardRef((e,t)=>{const r=fz(Cc,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=qo(Cc,e.__scopePopover);return h.jsx(Ka,{present:n||a.open,children:a.modal?h.jsx(gz,{...s,ref:t}):h.jsx(mz,{...s,ref:t})})});QM.displayName=Cc;var pz=Ia("PopoverContent.RemoveScroll"),gz=M.forwardRef((e,t)=>{const r=qo(Cc,e.__scopePopover),n=M.useRef(null),s=ir(t,n),a=M.useRef(!1);return M.useEffect(()=>{const c=n.current;if(c)return Ib(c)},[]),h.jsx(Ag,{as:pz,allowPinchZoom:!0,children:h.jsx(JM,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(e.onCloseAutoFocus,c=>{var p;c.preventDefault(),a.current||(p=r.triggerRef.current)==null||p.focus()}),onPointerDownOutside:Nt(e.onPointerDownOutside,c=>{const p=c.detail.originalEvent,v=p.button===0&&p.ctrlKey===!0,b=p.button===2||v;a.current=b},{checkForDefaultPrevented:!1}),onFocusOutside:Nt(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),mz=M.forwardRef((e,t)=>{const r=qo(Cc,e.__scopePopover),n=M.useRef(!1),s=M.useRef(!1);return h.jsx(JM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,p;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(n.current||(p=r.triggerRef.current)==null||p.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var v,b;(v=e.onInteractOutside)==null||v.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=a.target;((b=r.triggerRef.current)==null?void 0:b.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),JM=M.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:b,onInteractOutside:S,...E}=e,A=qo(Cc,r),z=Vu(r);return Eb(),h.jsx(Sg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:h.jsx(kg,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:S,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:b,onDismiss:()=>A.onOpenChange(!1),children:h.jsx(x2,{"data-state":tj(A.open),role:"dialog",id:A.contentId,...z,...E,ref:t,style:{...E.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ej="PopoverClose",vz=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=qo(ej,r);return h.jsx(yt.button,{type:"button",...n,ref:t,onClick:Nt(e.onClick,()=>s.onOpenChange(!1))})});vz.displayName=ej;var xz="PopoverArrow",yz=M.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Vu(r);return h.jsx(y2,{...s,...n,ref:t})});yz.displayName=xz;function tj(e){return e?"open":"closed"}var bz=XM,wz=KM,kz=ZM,rj=QM;const Sz=bz,_z=wz,ij=M.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>h.jsx(kz,{children:h.jsx(rj,{ref:s,align:t,sideOffset:r,className:gt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ij.displayName=rj.displayName;function Cs({options:e,value:t,onValueChange:r,placeholder:n="Select option...",searchPlaceholder:s="Search...",emptyText:a="No option found.",className:c}){const[p,v]=M.useState(!1),b=e.find(S=>S.value===t);return h.jsxs(Sz,{open:p,onOpenChange:v,children:[h.jsx(_z,{asChild:!0,children:h.jsxs(_t,{variant:"outline",role:"combobox","aria-expanded":p,className:gt("w-full justify-between",c),children:[b?b.label:n,h.jsx(z5,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),h.jsx(ij,{className:"w-full p-0",align:"start",children:h.jsxs(zM,{children:[h.jsx(FM,{placeholder:s}),h.jsxs(WM,{children:[h.jsx(UM,{children:a}),h.jsx(HM,{children:e.map(S=>h.jsxs(GM,{value:S.label,keywords:[S.label,S.value],onSelect:()=>{r(S.value),v(!1)},children:[h.jsx(zE,{className:gt("mr-2 h-4 w-4",t===S.value?"opacity-100":"opacity-0")}),S.label]},S.value))})]})]})})]})}const Vp=.5,Xp=173.7178;function $x(e){return 1/Math.sqrt(1+3*e*e/(Math.PI*Math.PI))}function zx(e,t,r){return 1/(1+Math.exp(-r*(e-t)))}function qf(e){return{mu:(e.rating-1500)/Xp,phi:e.rd/Xp,sigma:e.vol}}function Cz(e,t,r){return{rating:e*Xp+1500,rd:t*Xp,vol:r}}function kS(e,t){if(t.length===0)return e;const{mu:r,phi:n,sigma:s}=qf(e),c=1/t.reduce((ae,re)=>{const ce=qf(re.opponent),J=$x(ce.phi),we=zx(r,ce.mu,J);return ae+J*J*we*(1-we)},0),p=c*t.reduce((ae,re)=>{const ce=qf(re.opponent),J=$x(ce.phi),we=zx(r,ce.mu,J);return ae+J*(re.score-we)},0),v=Math.log(s*s),b=1e-6;let S=v,E;if(p*p>n*n+c)E=Math.log(Math.max(p*p-n*n-c,b));else{let ae=1;const re=1e3;for(;Kf(v-ae*Vp,p,n,c,v)<0&&ae<re;)ae++;if(ae>=re)return e;E=v-ae*Vp}let A=Kf(S,p,n,c,v),z=Kf(E,p,n,c,v),U=0;const D=100;for(;Math.abs(E-S)>b&&U<D;){const ae=S+(S-E)*A/(z-A),re=Kf(ae,p,n,c,v);re*z<0?(S=E,A=z):A/=2,E=ae,z=re,U++}if(U>=D||!isFinite(S))return e;const R=Math.exp(S/2),I=Math.sqrt(n*n+R*R),T=1/Math.sqrt(1/(I*I)+1/c),O=r+T*T*t.reduce((ae,re)=>{const ce=qf(re.opponent),J=$x(ce.phi),we=zx(r,ce.mu,J);return ae+J*(re.score-we)},0),q=Cz(O,T,R);return!isFinite(q.rating)||!isFinite(q.rd)||!isFinite(q.vol)?e:q}function Kf(e,t,r,n,s){const a=Math.exp(e),c=a*(t*t-r*r-n-a),p=2*(r*r+n+a)*(r*r+n+a);return c/p-(e-s)/(Vp*Vp)}function SS(e,t){const r=e.rating??1500,n={rating:r,rd:e.rd??350,vol:e.volatility??.06},s={rating:t.rating??1500,rd:t.rd??350,vol:t.volatility??.06},a=kS(n,[{opponent:s,score:1}]),c=a.rating-r,p=kS(n,[{opponent:s,score:0}]),v=p.rating-r;return{winRatingChange:c,loseRatingChange:v,winNewRating:a.rating,loseNewRating:p.rating}}function Ez(e,t){return{player1:SS(e,t),player2:SS(t,e)}}function ic(e){return`${e>=0?"+":""}${e.toFixed(1)}`}const nj=M.createContext(void 0);function Gb(){const e=M.useContext(nj);if(!e)throw new Error("useMatchModal must be used within MatchModalProvider");return e}function Mz({children:e}){const[t,r]=M.useState(null),n=M.useCallback(c=>{r(c)},[]),s=M.useCallback(()=>{r(null)},[]),a=M.useMemo(()=>({matchId:t,openMatch:n,closeMatch:s}),[t,n,s]);return h.jsx(nj.Provider,{value:a,children:e})}function Fx(e){return e.includes("youtube.com")||e.includes("youtu.be")?h.jsx(GE,{size:14}):e.includes("twitch.tv")?h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",className:"inline-block",children:h.jsx("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})}):h.jsx(WE,{size:14})}function sj({match:e,player1:t,player2:r,showMatchNumber:n,matchNumber:s,event:a,showEventLink:c=!1,showLinksInHeader:p=!1}){const{openMatch:v}=Gb(),b=e.winner_id!==null,S=e.winner_id===e.player1_id,E=c&&a||e.vod_link;return h.jsxs("div",{className:"group relative p-4 border border-border/40 rounded-lg space-y-3 bg-card/40 backdrop-blur-sm hover:bg-card/60 transition-all duration-300 hover:border-primary/50 hover:shadow-[0_0_15px_rgba(var(--primary-rgb),0.2)] overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-transparent via-primary/0 to-transparent group-hover:via-primary/50 transition-all duration-500"}),(n||p&&E)&&h.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap border-b border-white/5 pb-2 mb-2",children:[h.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[p&&E&&h.jsxs(h.Fragment,{children:[c&&a&&h.jsx(Mr,{className:"text-primary hover:text-primary/80 hover:underline inline-flex items-center gap-1 font-heading font-bold tracking-wide transition-colors",to:`/events/${a.id}`,children:a.title}),e.vod_link&&!n&&h.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 hover:underline inline-flex items-center gap-1 font-bold transition-colors",children:[Fx(e.vod_link),"Watch"]})]}),n&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-xs font-heading font-bold uppercase tracking-widest text-muted-foreground",children:["Match ",s]}),b&&h.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-green-500 px-1.5 py-0.5 bg-green-500/10 rounded border border-green-500/20",children:"Completed"})]})]}),n&&e.vod_link&&h.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 hover:underline inline-flex items-center gap-1 text-xs font-bold uppercase tracking-wider transition-colors",children:[Fx(e.vod_link),"Watch"]})]}),h.jsxs("div",{className:`relative flex items-center justify-between p-2 rounded-md transition-colors ${b&&S?"bg-gradient-to-r from-yellow-500/10 to-transparent border-l-2 border-yellow-500":"hover:bg-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsx(Rs,{name:t.name,twitter:t.twitter,size:48,className:`h-12 w-12 shrink-0 border-2 ${b&&S?"border-yellow-500 shadow-[0_0_10px_rgba(234,179,8,0.3)]":"border-border"}`}),h.jsxs("div",{className:"min-w-0",children:[h.jsx(Mr,{to:`/players/${t.id}`,className:"group/player",children:h.jsxs("div",{className:`font-heading font-bold text-lg flex items-center gap-2 flex-wrap transition-colors ${b&&S?"text-yellow-500":"text-foreground group-hover/player:text-primary"}`,children:[b&&S&&h.jsx("span",{className:"text-yellow-500",children:""}),h.jsx("span",{className:"truncate",children:t.name})]})}),h.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:["Rating: ",t.rating===null?"Unrated":Math.round(t.rating)]})]})]}),b&&h.jsx("div",{className:"text-sm font-bold font-mono shrink-0",children:h.jsx("span",{className:e.rating_change_p1&&e.rating_change_p1>=0?"text-green-500":"text-red-500",children:e.rating_change_p1!==null&&e.rating_change_p1!==void 0?ic(e.rating_change_p1):""})})]}),b?h.jsxs("button",{onClick:()=>v(e.id),className:"relative flex items-center justify-center gap-4 font-heading font-black cursor-pointer w-full py-1 hover:scale-105 transition-transform",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 hover:opacity-100 transition-opacity"}),h.jsx("span",{className:S?"text-yellow-500 text-3xl drop-shadow-[0_0_10px_rgba(234,179,8,0.5)]":"text-muted-foreground text-2xl",children:e.player1_score??"?"}),h.jsx("span",{className:"text-muted-foreground/50 text-xl",children:"-"}),h.jsx("span",{className:S?"text-muted-foreground text-2xl":"text-yellow-500 text-3xl drop-shadow-[0_0_10px_rgba(234,179,8,0.5)]",children:e.player2_score??"?"})]}):h.jsx("div",{className:"flex items-center justify-center py-2",children:h.jsx("span",{className:"text-2xl font-heading font-black text-transparent bg-clip-text bg-gradient-to-b from-muted-foreground to-muted-foreground/50 italic pr-1",children:"VS"})}),h.jsxs("div",{className:`relative flex items-center justify-between p-2 rounded-md transition-colors ${b&&!S?"bg-gradient-to-r from-yellow-500/10 to-transparent border-l-2 border-yellow-500":"hover:bg-white/5"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[h.jsx(Rs,{name:r.name,twitter:r.twitter,size:48,className:`h-12 w-12 shrink-0 border-2 ${b&&!S?"border-yellow-500 shadow-[0_0_10px_rgba(234,179,8,0.3)]":"border-border"}`}),h.jsxs("div",{className:"min-w-0",children:[h.jsx(Mr,{to:`/players/${r.id}`,className:"group/player",children:h.jsxs("div",{className:`font-heading font-bold text-lg flex items-center gap-2 flex-wrap transition-colors ${b&&!S?"text-yellow-500":"text-foreground group-hover/player:text-primary"}`,children:[b&&!S&&h.jsx("span",{className:"text-yellow-500",children:""}),h.jsx("span",{className:"truncate",children:r.name})]})}),h.jsxs("div",{className:"text-xs font-mono text-muted-foreground",children:["Rating: ",r.rating===null?"Unrated":Math.round(r.rating)]})]})]}),b&&h.jsx("div",{className:"text-sm font-bold font-mono shrink-0",children:h.jsx("span",{className:e.rating_change_p2&&e.rating_change_p2>=0?"text-green-500":"text-red-500",children:e.rating_change_p2!==null&&e.rating_change_p2!==void 0?ic(e.rating_change_p2):""})})]}),!p&&!n&&E&&h.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs font-bold uppercase tracking-wider text-muted-foreground border-t border-white/5 pt-3 mt-2",children:[c&&a&&h.jsxs(Mr,{className:"text-primary hover:text-primary/80 hover:underline inline-flex items-center gap-1 transition-colors",to:`/events/${a.id}`,children:["Event: ",a.title]}),e.vod_link&&h.jsxs("a",{href:e.vod_link,target:"_blank",rel:"noopener noreferrer",className:"text-red-500 hover:text-red-400 hover:underline inline-flex items-center gap-1 transition-colors",children:[Fx(e.vod_link),"Watch"]})]})]})}const Wd=25;function jz(){fn("Matches");const{players:e,matches:t,loading:r}=bg(),[n,s]=rE(),[a,c]=M.useState([]),[p,v]=M.useState([]),[b,S]=M.useState(()=>{const re=n.get("season");if(re===null||re==="all")return null;const ce=parseInt(re,10);return Number.isFinite(ce)?ce:null}),[E,A]=M.useState(()=>n.get("search")||""),[z,U]=M.useState(()=>{const re=n.get("page");return re?parseInt(re,10):1});M.useEffect(()=>{const re=new URLSearchParams;z!==1&&re.set("page",z.toString()),E&&re.set("search",E),b!==null?re.set("season",String(b)):re.set("season","all");const ce=re.toString(),J=n.toString();ce!==J&&s(re)},[z,E,b,s,n]),M.useEffect(()=>{let re=!0;return(async()=>{const ce=await $u();re&&c(ce)})(),()=>{re=!1}},[]),M.useEffect(()=>{let re=!0;return(async()=>{const ce=await $c();re&&v(ce)})(),()=>{re=!1}},[]);const D=new Map(e.map(re=>[re.id,re])),R=new Map(a.map(re=>[re.id,re])),T=[...t].sort((re,ce)=>ce.id-re.id).filter(re=>{var Se,be;const ce=((Se=D.get(re.player1_id))==null?void 0:Se.name)??"",J=((be=D.get(re.player2_id))==null?void 0:be.name)??"",we=E.toLowerCase();return ce.toLowerCase().includes(we)||J.toLowerCase().includes(we)}),O=b===null?T:T.filter(re=>re.season_id===b),q=Math.ceil(O.length/Wd),ae=M.useMemo(()=>{const re=(z-1)*Wd,ce=re+Wd;return O.slice(re,ce)},[O,z]);return M.useEffect(()=>{U(1)},[E]),M.useEffect(()=>{U(1)},[b]),h.jsxs("section",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary/80 to-primary/50 drop-shadow-sm",children:"Matches"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg",children:"Battle history and upcoming bouts."})]}),r&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center bg-card/30 p-4 rounded-lg border border-border/40 backdrop-blur-sm",children:[h.jsx("div",{className:"max-w-md w-full",children:h.jsx(Zr,{placeholder:"Filter by player name...",value:E,onChange:re=>A(re.target.value),className:"bg-background/50 border-primary/30 focus:ring-primary/50 font-body"})}),h.jsx("div",{className:"w-full sm:w-64",children:h.jsx(Cs,{value:b===null?"all":String(b),onValueChange:re=>{S(re==="all"?null:parseInt(re,10))},placeholder:"Select season...",searchPlaceholder:"Search seasons...",options:[{value:"all",label:"All seasons"},...p.filter(re=>re.status==="active").map(re=>({value:String(re.id),label:`${re.name} (Active)`})),...p.filter(re=>re.status==="archived").sort((re,ce)=>re.id-ce.id).map(re=>({value:String(re.id),label:`${re.name} (Archived)`}))],className:"w-full"})})]}),ae.length===0?h.jsx(pr,{className:"bg-card/40 backdrop-blur-sm border-border/40",children:h.jsxs(xr,{className:"py-12 flex flex-col items-center justify-center text-center",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("p",{className:"text-muted-foreground font-heading uppercase tracking-wider text-lg",children:E?`No matches found for "${E}"`:"No matches found"})]})}):h.jsx("div",{className:"space-y-4",children:ae.map(re=>{const ce=D.get(re.player1_id),J=D.get(re.player2_id),we=re.event_id?R.get(re.event_id):null;return!ce||!J?null:h.jsx(sj,{match:re,player1:ce,player2:J,event:we,showEventLink:!0,showLinksInHeader:!0},re.id)})}),O.length>Wd&&h.jsx("div",{className:"flex justify-center pt-8",children:h.jsx(pb,{currentPage:z,totalPages:q,onPageChange:U,itemsPerPage:Wd,totalItems:O.length})})]})}function Nz(){fn("Events");const[e,t]=M.useState([]),[r,n]=M.useState([]),[s,a]=M.useState(!0);M.useEffect(()=>{let p=!0;return(async()=>{const[v,b]=await Promise.all([$u(),BE()]);p&&(t(v),n(b),a(!1))})(),()=>{p=!1}},[]);const c=M.useMemo(()=>e.length?e.map(p=>{const v=r.filter(S=>S.event_id===p.id),b=v.filter(S=>S.winner_id!==null);return{...p,matchCount:v.length,completedCount:b.length}}):[],[e,r]);return s?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Events"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]}):c.length===0?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Events"}),h.jsx(pr,{children:h.jsx(xr,{className:"pt-6",children:h.jsx("p",{className:"text-muted-foreground",children:"No events found."})})})]}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary/80 to-primary/50 drop-shadow-sm",children:"Events"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg max-w-2xl",children:"Upcoming tournaments and past battle records."})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.map(p=>{const v=new Date(p.event_date)<new Date;return h.jsx(Mr,{to:`/events/${p.id}`,className:"group block h-full",children:h.jsxs(pr,{className:"h-full bg-card/40 backdrop-blur-sm border-border/40 hover:bg-card/60 hover:border-primary/50 transition-all duration-300 hover:shadow-[0_0_20px_rgba(var(--primary-rgb),0.15)] overflow-hidden relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/0 to-transparent group-hover:via-primary/50 transition-all duration-500"}),h.jsxs(qr,{className:"pb-3",children:[h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsx(Kr,{className:"font-heading text-xl font-bold tracking-wide group-hover:text-primary transition-colors line-clamp-2",children:p.title}),v?h.jsx("span",{className:"shrink-0 text-[10px] font-bold uppercase tracking-widest text-muted-foreground px-2 py-1 bg-muted/50 rounded border border-border/50",children:"Past"}):h.jsx("span",{className:"shrink-0 text-[10px] font-bold uppercase tracking-widest text-green-500 px-2 py-1 bg-green-500/10 rounded border border-green-500/20 animate-pulse",children:"Upcoming"})]}),h.jsx(pi,{className:"font-mono text-xs uppercase tracking-wider mt-1",children:new Date(p.event_date).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),h.jsxs(xr,{children:[p.description&&h.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2 border-l-2 border-primary/20 pl-3 italic",children:p.description}),h.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-white/5",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Matches"}),h.jsx("span",{className:"font-heading font-bold text-lg",children:p.matchCount})]}),p.matchCount>0&&h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:"Completed"}),h.jsx("span",{className:"font-heading font-bold text-lg text-primary",children:p.completedCount})]})]}),p.stream_url&&h.jsx("div",{className:`text-xs font-bold uppercase tracking-wider flex items-center gap-1 ${v?"text-muted-foreground":"text-red-500"}`,children:v?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""})," VOD"]}):h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"relative flex h-2 w-2 mr-1",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),"Live"]})})]})]})]})},p.id)})})]})}function Tz(){const{id:e}=KC(),[t,r]=M.useState([]),[n,s]=M.useState(null),[a,c]=M.useState([]),[p,v]=M.useState(!0);M.useEffect(()=>{let E=!0;return(async()=>{const[A,z,U]=await Promise.all([bb(),$u(),BE()]);if(!E)return;r(A);const D=z.find(R=>R.id===Number(e));s(D||null),c(U.filter(R=>R.event_id===Number(e))),v(!1)})(),()=>{E=!1}},[e]);const b=M.useMemo(()=>{if(!t.length||!a.length)return[];const E=new Map(t.map(A=>[A.id,A]));return a.map(A=>({...A,player1:E.get(A.player1_id),player2:E.get(A.player2_id)})).sort((A,z)=>(A.match_order??0)-(z.match_order??0))},[t,a]);if(p)return fn("Event"),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsx(Mr,{to:"/events",children:h.jsx(_t,{variant:"outline",size:"sm",children:" Back to Events"})})}),h.jsx("h1",{className:"text-3xl font-bold",children:"Loading..."})]});if(!n)return fn("Event Not Found"),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsx(Mr,{to:"/events",children:h.jsx(_t,{variant:"outline",size:"sm",children:" Back to Events"})})}),h.jsx("h1",{className:"text-3xl font-bold",children:"Event Not Found"}),h.jsx("p",{className:"text-muted-foreground",children:"The event you're looking for doesn't exist."})]});const S=new Date(n.event_date)<new Date;return fn(`Event - ${n.title}`),h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsx(Mr,{to:"/events",children:h.jsx(_t,{variant:"ghost",size:"sm",className:"hover:bg-primary/10 hover:text-primary transition-colors font-heading uppercase tracking-wider font-bold",children:" Back to Events"})})}),h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(qr,{className:"border-b border-border/30 bg-muted/20 relative z-10",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-4",children:[h.jsxs("div",{children:[h.jsxs(Kr,{className:"flex items-center gap-3 font-heading text-3xl font-bold tracking-wide text-primary drop-shadow-md",children:[n.title,S&&h.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground px-2 py-1 bg-muted/50 rounded border border-border/50",children:"Past Event"})]}),h.jsx(pi,{className:"font-body text-lg mt-1",children:new Date(n.event_date).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})}),n.description&&h.jsx("p",{className:"text-sm text-muted-foreground mt-4 max-w-2xl leading-relaxed border-l-2 border-primary/30 pl-4 italic",children:n.description})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[n.stream_url&&h.jsxs("a",{href:n.stream_url,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-all shadow-lg hover:shadow-primary/25 font-heading font-bold uppercase tracking-wider text-sm text-center flex items-center justify-center gap-2",children:[h.jsx("span",{className:"text-lg",children:""})," ",S?"Stream VOD":"Watch Stream"]}),n.vod_link&&h.jsxs("a",{href:n.vod_link,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-all shadow-lg hover:shadow-red-600/25 font-heading font-bold uppercase tracking-wider text-sm text-center flex items-center justify-center gap-2",children:[h.jsx("span",{className:"text-lg",children:""})," Event VOD"]})]})]})}),h.jsx(xr,{className:"p-6 relative z-10",children:b.length===0?h.jsx("div",{className:"text-center py-12 border-2 border-dashed border-border/30 rounded-lg bg-card/30",children:h.jsx("p",{className:"text-muted-foreground font-heading uppercase tracking-wider",children:"No matches scheduled for this event yet."})}):h.jsx("div",{className:"space-y-4",children:b.map((E,A)=>{const{player1:z,player2:U}=E;return!z||!U?h.jsx("div",{className:"p-4 border border-border/40 rounded-lg bg-card/30 backdrop-blur-sm",children:h.jsxs("p",{className:"text-muted-foreground italic",children:["Match ",A+1,": Player data not found"]})},E.id):h.jsx(sj,{match:E,player1:z,player2:U,event:n,showMatchNumber:!0,matchNumber:A+1,showEventLink:!1},E.id)})})}),h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 pointer-events-none"})]})]})}function Az(){return fn("Profile"),h.jsx("div",{className:"container py-20 flex justify-center",children:h.jsxs("div",{className:"max-w-md w-full bg-card/80 backdrop-blur-xl border border-border/60 shadow-[0_0_50px_rgba(0,0,0,0.5)] rounded-lg p-8 text-center relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent"}),h.jsx("h2",{className:"text-3xl font-heading font-bold text-primary mb-4",children:"Profile"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg",children:"Coming soon."}),h.jsx("div",{className:"mt-8 h-1 w-16 bg-primary/30 mx-auto rounded-full"})]})})}var oj={exports:{}};(function(e,t){(function(r,n){e.exports=n(M)})(typeof self<"u"?self:vi,function(r){return function(n){function s(c){if(a[c])return a[c].exports;var p=a[c]={i:c,l:!1,exports:{}};return n[c].call(p.exports,p,p.exports,s),p.l=!0,p.exports}var a={};return s.m=n,s.c=a,s.d=function(c,p,v){s.o(c,p)||Object.defineProperty(c,p,{configurable:!1,enumerable:!0,get:v})},s.n=function(c){var p=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(p,"a",p),p},s.o=function(c,p){return Object.prototype.hasOwnProperty.call(c,p)},s.p="",s(s.s=0)}([function(n,s,a){function c(){return c=Object.assign?Object.assign.bind():function(T){for(var O=1;O<arguments.length;O++){var q=arguments[O];for(var ae in q)Object.prototype.hasOwnProperty.call(q,ae)&&(T[ae]=q[ae])}return T},c.apply(this,arguments)}function p(T){return E(T)||S(T)||b(T)||v()}function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(T,O){if(T){if(typeof T=="string")return A(T,O);var q=Object.prototype.toString.call(T).slice(8,-1);return q==="Object"&&T.constructor&&(q=T.constructor.name),q==="Map"||q==="Set"?Array.from(T):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?A(T,O):void 0}}function S(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}function E(T){if(Array.isArray(T))return A(T)}function A(T,O){(O==null||O>T.length)&&(O=T.length);for(var q=0,ae=new Array(O);q<O;q++)ae[q]=T[q];return ae}function z(T){"@babel/helpers - typeof";return(z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(T)}Object.defineProperty(s,"__esModule",{value:!0}),a.d(s,"HighchartsReact",function(){return I});var U=a(1),D=a.n(U),R=typeof window<"u"?U.useLayoutEffect:U.useEffect,I=Object(U.memo)(Object(U.forwardRef)(function(T,O){var q=Object(U.useRef)(),ae=Object(U.useRef)(),re=Object(U.useRef)(T.constructorType),ce=Object(U.useRef)(T.highcharts);return R(function(){function J(){var Se=T.highcharts||(typeof window>"u"?"undefined":z(window))==="object"&&window.Highcharts,be=T.constructorType||"chart";Se?Se[be]?T.options?ae.current=Se[be](q.current,T.options,T.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(ae.current){if(T.allowChartUpdate!==!1)if(T.constructorType!==re.current||T.highcharts!==ce.current)re.current=T.constructorType,ce.current=T.highcharts,J();else if(!T.immutable&&ae.current){var we;(we=ae.current).update.apply(we,[T.options].concat(p(T.updateArgs||[!0,!0])))}else J()}else J()},[T.options,T.allowChartUpdate,T.updateArgs,T.containerProps,T.highcharts,T.constructorType]),R(function(){return function(){ae.current&&(ae.current.destroy(),ae.current=null)}},[]),Object(U.useImperativeHandle)(O,function(){return{get chart(){return ae.current},container:q}},[]),D.a.createElement("div",c({},T.containerProps,{ref:q}))}));s.default=I},function(n,s){n.exports=r}])})})(oj);var Pz=oj.exports;const Oz=Tu(Pz);var aj={exports:{}};(function(e,t){(function(r,n){r._Highcharts=n(),e.exports=r._Highcharts})(typeof window>"u"?vi:window,()=>(()=>{var r1;let r,n;var s,a,c,p,v,b,S,E,A,z,U,D,R,I,T,O,q,ae,re={};re.d=(y,i)=>{for(var o in i)re.o(i,o)&&!re.o(y,o)&&Object.defineProperty(y,o,{enumerable:!0,get:i[o]})},re.o=(y,i)=>Object.prototype.hasOwnProperty.call(y,i);var ce={};re.d(ce,{default:()=>xA}),function(y){var i,o,l,d,u,f,g;y.SVG_NS="http://www.w3.org/2000/svg",y.product="Highcharts",y.version="12.4.0",y.win=typeof window<"u"?window:{},y.doc=y.win.document,y.svg=!!((l=(o=(i=y.doc)==null?void 0:i.createElementNS)==null?void 0:o.call(i,y.SVG_NS,"svg"))!=null&&l.createSVGRect),y.pageLang=(f=(u=(d=y.doc)==null?void 0:d.documentElement)==null?void 0:u.closest("[lang]"))==null?void 0:f.lang,y.userAgent=((g=y.win.navigator)==null?void 0:g.userAgent)||"",y.isChrome=y.win.chrome,y.isFirefox=y.userAgent.indexOf("Firefox")!==-1,y.isMS=/(edge|msie|trident)/i.test(y.userAgent)&&!y.win.opera,y.isSafari=!y.isChrome&&y.userAgent.indexOf("Safari")!==-1,y.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(y.userAgent),y.isWebKit=y.userAgent.indexOf("AppleWebKit")!==-1,y.deg2rad=2*Math.PI/360,y.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],y.noop=function(){},y.supportsPassiveEvents=function(){let m=!1;if(!y.isMS){let x=Object.defineProperty({},"passive",{get:function(){m=!0}});y.win.addEventListener&&y.win.removeEventListener&&(y.win.addEventListener("testPassive",y.noop,x),y.win.removeEventListener("testPassive",y.noop,x))}return m}(),y.charts=[],y.composed=[],y.dateFormats={},y.seriesTypes={},y.symbolSizes={},y.chartCount=0}(s||(s={}));let J=s,{charts:we,doc:Se,win:be}=J;function ve(y,i,o,l){let d=i?"Highcharts error":"Highcharts warning";y===32&&(y=`${d}: Deprecated member`);let u=Me(y),f=u?`${d} #${y}: www.highcharts.com/errors/${y}/`:y.toString();if(l!==void 0){let g="";u&&(f+="?"),ut(l,function(m,x){g+=`
 - ${x}: ${m}`,u&&(f+=encodeURI(x)+"="+encodeURI(m))}),f+=g}ft(J,"displayError",{chart:o,code:y,message:f,params:l},function(){if(i)throw Error(f);be.console&&ve.messages.indexOf(f)===-1&&console.warn(f)}),ve.messages.push(f)}function je(y,i){return parseInt(y,i||10)}function Fe(y){return typeof y=="string"}function Ye(y){let i=Object.prototype.toString.call(y);return i==="[object Array]"||i==="[object Array Iterator]"}function ie(y,i){return!!y&&typeof y=="object"&&(!i||!Ye(y))}function ge(y){return ie(y)&&typeof y.nodeType=="number"}function he(y){let i=y==null?void 0:y.constructor;return!!(ie(y,!0)&&!ge(y)&&(i!=null&&i.name)&&i.name!=="Object")}function Me(y){return typeof y=="number"&&!isNaN(y)&&y<1/0&&y>-1/0}function $e(y){return y!=null}function Ie(y,i,o){let l,d=Fe(i)&&!$e(o),u=(f,g)=>{$e(f)?y.setAttribute(g,f):d?(l=y.getAttribute(g))||g!=="class"||(l=y.getAttribute(g+"Name")):y.removeAttribute(g)};return Fe(i)?u(o,i):ut(i,u),l}function Ee(y){return Ye(y)?y:[y]}function Ze(y,i){let o;for(o in y||(y={}),i)y[o]=i[o];return y}function ot(){let y=arguments,i=y.length;for(let o=0;o<i;o++){let l=y[o];if(l!=null)return l}}function tt(y,i){Ze(y.style,i)}function Ce(y){return Math.pow(10,Math.floor(Math.log(y)/Math.LN10))}function Oe(y,i){return y>1e14?y:parseFloat(y.toPrecision(i||14))}(ve||(ve={})).messages=[],Math.easeInOutSine=function(y){return-.5*(Math.cos(Math.PI*y)-1)};let st=Array.prototype.find?function(y,i){return y.find(i)}:function(y,i){let o,l=y.length;for(o=0;o<l;o++)if(i(y[o],o))return y[o]};function ut(y,i,o){for(let l in y)Object.hasOwnProperty.call(y,l)&&i.call(o||y[l],y[l],l,y)}function vt(y,i,o){function l(f,g){let m=y.removeEventListener;m&&m.call(y,f,g,!1)}function d(f){let g,m;y.nodeName&&(i?(g={})[i]=!0:g=f,ut(g,function(x,_){if(f[_])for(m=f[_].length;m--;)l(_,f[_][m].fn)}))}let u=typeof y=="function"&&y.prototype||y;if(Object.hasOwnProperty.call(u,"hcEvents")){let f=u.hcEvents;if(i){let g=f[i]||[];o?(f[i]=g.filter(function(m){return o!==m.fn}),l(i,o)):(d(f),f[i]=[])}else d(f),delete u.hcEvents}}function ft(y,i,o,l){if(o=o||{},(Se==null?void 0:Se.createEvent)&&(y.dispatchEvent||y.fireEvent&&y!==J)){let d=Se.createEvent("Events");d.initEvent(i,!0,!0),o=Ze(d,o),y.dispatchEvent?y.dispatchEvent(o):y.fireEvent(i,o)}else if(y.hcEvents){o.target||Ze(o,{preventDefault:function(){o.defaultPrevented=!0},target:y,type:i});let d=[],u=y,f=!1;for(;u.hcEvents;)Object.hasOwnProperty.call(u,"hcEvents")&&u.hcEvents[i]&&(d.length&&(f=!0),d.unshift.apply(d,u.hcEvents[i])),u=Object.getPrototypeOf(u);f&&d.sort((g,m)=>g.order-m.order),d.forEach(g=>{g.fn.call(y,o)===!1&&o.preventDefault()})}l&&!o.defaultPrevented&&l.call(y,o)}let kt=function(){let y=Math.random().toString(36).substring(2,9)+"-",i=0;return function(){return"highcharts-"+(r?"":y)+i++}}();be.jQuery&&(be.jQuery.fn.highcharts=function(){let y=[].slice.call(arguments);if(this[0])return y[0]?(new J[Fe(y[0])?y.shift():"Chart"](this[0],y[0],y[1]),this):we[Ie(this[0],"data-highcharts-chart")]});let Qe={addEvent:function(y,i,o,l={}){let d=typeof y=="function"&&y.prototype||y;Object.hasOwnProperty.call(d,"hcEvents")||(d.hcEvents={});let u=d.hcEvents;J.Point&&y instanceof J.Point&&y.series&&y.series.chart&&(y.series.chart.runTrackerClick=!0);let f=y.addEventListener;f&&f.call(y,i,o,!!J.supportsPassiveEvents&&{passive:l.passive===void 0?i.indexOf("touch")!==-1:l.passive,capture:!1}),u[i]||(u[i]=[]);let g={fn:o,order:typeof l.order=="number"?l.order:1/0};return u[i].push(g),u[i].sort((m,x)=>m.order-x.order),function(){vt(y,i,o)}},arrayMax:function(y){let i=y.length,o=y[0];for(;i--;)y[i]>o&&(o=y[i]);return o},arrayMin:function(y){let i=y.length,o=y[0];for(;i--;)y[i]<o&&(o=y[i]);return o},attr:Ie,clamp:function(y,i,o){return y>i?y<o?y:o:i},clearTimeout:function(y){$e(y)&&clearTimeout(y)},correctFloat:Oe,createElement:function(y,i,o,l,d){let u=Se.createElement(y);return i&&Ze(u,i),d&&tt(u,{padding:"0",border:"none",margin:"0"}),o&&tt(u,o),l&&l.appendChild(u),u},crisp:function(y,i=0,o){let l=i%2/2,d=o?-1:1;return(Math.round(y*d-l)+l)*d},css:tt,defined:$e,destroyObjectProperties:function(y,i,o){ut(y,function(l,d){l!==i&&(l!=null&&l.destroy)&&l.destroy(),(l!=null&&l.destroy||!o)&&delete y[d]})},diffObjects:function(y,i,o,l){let d={};return function u(f,g,m,x){let _=o?g:f;ut(f,function(w,C){if(!x&&l&&l.indexOf(C)>-1&&g[C]){w=Ee(w),m[C]=[];for(let j=0;j<Math.max(w.length,g[C].length);j++)g[C][j]&&(w[j]===void 0?m[C][j]=g[C][j]:(m[C][j]={},u(w[j],g[C][j],m[C][j],x+1)))}else ie(w,!0)&&!w.nodeType?(m[C]=Ye(w)?[]:{},u(w,g[C]||{},m[C],x+1),Object.keys(m[C]).length===0&&(C!=="colorAxis"||x!==0)&&delete m[C]):(f[C]!==g[C]||C in f&&!(C in g))&&C!=="__proto__"&&C!=="constructor"&&(m[C]=_[C])})}(y,i,d,0),d},discardElement:function(y){var i;(i=y==null?void 0:y.parentElement)==null||i.removeChild(y)},erase:function(y,i){let o=y.length;for(;o--;)if(y[o]===i){y.splice(o,1);break}},error:ve,extend:Ze,extendClass:function(y,i){let o=function(){};return o.prototype=new y,Ze(o.prototype,i),o},find:st,fireEvent:ft,getAlignFactor:(y="")=>({center:.5,right:1,middle:.5,bottom:1})[y]||0,getClosestDistance:function(y,i){let o,l,d,u=!i;return y.forEach(f=>{if(f.length>1)for(d=f.length-1;d>0;d--)(l=f[d]-f[d-1])<0&&!u?(i==null||i(),i=void 0):l&&(o===void 0||l<o)&&(o=l)}),o},getMagnitude:Ce,getNestedProperty:function(y,i){let o=y.split(".");for(;o.length&&$e(i);){let l=o.shift();if(l===void 0||l==="__proto__")return;if(l==="this"){let u;return ie(i)&&(u=i["@this"]),u??i}let d=i[l.replace(/[\\'"]/g,"")];if(!$e(d)||typeof d=="function"||typeof d.nodeType=="number"||d===be)return;i=d}return i},getStyle:function y(i,o,l){var f;let d;if(o==="width"){let g=Math.min(i.offsetWidth,i.scrollWidth),m=(f=i.getBoundingClientRect)==null?void 0:f.call(i).width;return m<g&&m>=g-1&&(g=Math.floor(m)),Math.max(0,g-(y(i,"padding-left",!0)||0)-(y(i,"padding-right",!0)||0))}if(o==="height")return Math.max(0,Math.min(i.offsetHeight,i.scrollHeight)-(y(i,"padding-top",!0)||0)-(y(i,"padding-bottom",!0)||0));let u=be.getComputedStyle(i,void 0);return u&&(d=u.getPropertyValue(o),ot(l,o!=="opacity")&&(d=je(d))),d},insertItem:function(y,i){let o,l=y.options.index,d=i.length;for(o=y.options.isInternal?d:0;o<d+1;o++)if(!i[o]||Me(l)&&l<ot(i[o].options.index,i[o]._i)||i[o].options.isInternal){i.splice(o,0,y);break}return o},isArray:Ye,isClass:he,isDOMElement:ge,isFunction:function(y){return typeof y=="function"},isNumber:Me,isObject:ie,isString:Fe,merge:function(y,...i){let o,l=[y,...i],d={},u=function(g,m){return typeof g!="object"&&(g={}),ut(m,function(x,_){_!=="__proto__"&&_!=="constructor"&&(!ie(x,!0)||he(x)||ge(x)?g[_]=m[_]:g[_]=u(g[_]||{},x))}),g};y===!0&&(d=l[1],l=Array.prototype.slice.call(l,2));let f=l.length;for(o=0;o<f;o++)d=u(d,l[o]);return d},normalizeTickInterval:function(y,i,o,l,d){let u,f=y;o=ot(o,Ce(y));let g=y/o;for(!i&&(i=d?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],l===!1&&(o===1?i=i.filter(function(m){return m%1==0}):o<=.1&&(i=[1/o]))),u=0;u<i.length&&(f=i[u],(!d||!(f*o>=y))&&(d||!(g<=(i[u]+(i[u+1]||i[u]))/2)));u++);return Oe(f*o,-Math.round(Math.log(.001)/Math.LN10))},objectEach:ut,offset:function(y){let i=Se.documentElement,o=y.parentElement||y.parentNode?y.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:o.top+(be.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(be.pageXOffset||i.scrollLeft)-(i.clientLeft||0),width:o.width,height:o.height}},pad:function(y,i,o){return Array((i||2)+1-String(y).replace("-","").length).join(o||"0")+y},pick:ot,pInt:je,pushUnique:function(y,i){return 0>y.indexOf(i)&&!!y.push(i)},relativeLength:function(y,i,o){return/%$/.test(y)?i*parseFloat(y)/100+(o||0):parseFloat(y)},removeEvent:vt,replaceNested:function(y,...i){let o,l;do for(l of(o=y,i))y=y.replace(l[0],l[1]);while(y!==o);return y},splat:Ee,stableSort:function(y,i){let o,l,d=y.length;for(l=0;l<d;l++)y[l].safeI=l;for(y.sort(function(u,f){return(o=i(u,f))===0?u.safeI-f.safeI:o}),l=0;l<d;l++)delete y[l].safeI},syncTimeout:function(y,i,o){return i>0?setTimeout(y,i,o):(y.call(0,o),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(y){return Fe(y)?y.substring(0,1).toUpperCase()+y.substring(1):String(y)},uniqueKey:kt,useSerialIds:function(y){return r=ot(y,r)},wrap:function(y,i,o){let l=y[i];y[i]=function(){let d=arguments,u=this;return o.apply(this,[function(){return l.apply(u,arguments.length?arguments:d)}].concat([].slice.call(arguments)))}}},{pageLang:Dr,win:Wr}=J,{defined:Xi,error:li,extend:Ur,isNumber:Yi,isObject:zc,isString:Ko,merge:Gg,objectEach:Vg,pad:Bn,splat:Yu,timeUnits:Za,ucfirst:Fc}=Qe,qu=J.isSafari&&Wr.Intl&&!Wr.Intl.DateTimeFormat.prototype.formatRange,Ku=y=>y.main===void 0,Xg=class{constructor(y,i){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Wr.Date,this.update(y),this.lang=i}update(y={}){this.dTLCache={},this.options=y=Gg(!0,this.options,y);let{timezoneOffset:i,useUTC:o,locale:l}=y;this.Date=y.Date||Wr.Date||Date;let d=y.timezone;Xi(o)&&(d=o?"UTC":void 0),i&&i%60==0&&(d="Etc/GMT"+(i>0?"+":"")+i/60),this.variableTimezone=d!=="UTC"&&(d==null?void 0:d.indexOf("Etc/GMT"))!==0,this.timezone=d,this.lang&&l&&(this.lang.locale=l),["months","shortMonths","weekdays","shortWeekdays"].forEach(u=>{let f=/months/i.test(u),g=/short/.test(u),m={timeZone:"UTC"};m[f?"month":"weekday"]=g?"short":"long",this[u]=(f?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(x=>this.dateFormat(m,(f?31:1)*24*36e5*x))})}toParts(y){let[i,o,l,d,u,f,g]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},y,"es").split(/(?:, | |\/|:)/g);return[d,l-1,o,u,f,g,Math.floor(Number(y)||0)%1e3,"DLMXJVS".indexOf(i)].map(Number)}dateTimeFormat(y,i,o=this.options.locale||Dr){let l=JSON.stringify(y)+o;Ko(y)&&(y=this.str2dtf(y));let d=this.dTLCache[l];if(!d){y.timeZone??(y.timeZone=this.timezone);try{d=new Intl.DateTimeFormat(o,y)}catch(u){/Invalid time zone/i.test(u.message)?(li(34),y.timeZone="UTC",d=new Intl.DateTimeFormat(o,y)):li(u.message,!1)}}return this.dTLCache[l]=d,(d==null?void 0:d.format(i))||""}str2dtf(y,i={}){let o={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(o).forEach(l=>{y.indexOf(l)!==-1&&Ur(i,o[l])}),i}makeTime(y,i,o=1,l=0,d,u,f){let g=this.Date.UTC(y,i,o,l,d||0,u||0,f||0);if(this.timezone!=="UTC"){let m=this.getTimezoneOffset(g);if(g+=m,[2,3,8,9,10,11].indexOf(i)!==-1&&(l<5||l>20)){let x=this.getTimezoneOffset(g);m!==x?g+=x-m:m-36e5!==this.getTimezoneOffset(g-36e5)||qu||(g-=36e5)}}return g}parse(y){if(!Ko(y))return y??void 0;let i=(y=y.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(y),o=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(y);i||o||(y+="Z");let l=Date.parse(y);if(Yi(l))return l+(!i||o?this.getTimezoneOffset(l):0)}getTimezoneOffset(y){if(this.timezone!=="UTC"){let[i,o,l,d,u=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},y,"en").split(/(GMT|:)/).map(Number),f=-(60*(l+u/60)*6e4);if(Yi(f))return f}return 0}dateFormat(y,i,o){let l=this.lang;if(!Xi(i)||isNaN(i))return(l==null?void 0:l.invalidDate)||"";if(Ko(y=y??"%Y-%m-%d %H:%M:%S")){let d,u=/%\[([a-zA-Z]+)\]/g;for(;d=u.exec(y);)y=y.replace(d[0],this.dateTimeFormat(d[1],i,l==null?void 0:l.locale))}if(Ko(y)&&y.indexOf("%")!==-1){let d=this,[u,f,g,m,x,_,w,C]=this.toParts(i),j=(l==null?void 0:l.weekdays)||this.weekdays,L=(l==null?void 0:l.shortWeekdays)||this.shortWeekdays,F=(l==null?void 0:l.months)||this.months,$=(l==null?void 0:l.shortMonths)||this.shortMonths;Vg(Ur({a:L?L[C]:j[C].substr(0,3),A:j[C],d:Bn(g),e:Bn(g,2," "),w:C,v:(l==null?void 0:l.weekFrom)??"",b:$[f],B:F[f],m:Bn(f+1),o:f+1,y:u.toString().substr(2,2),Y:u,H:Bn(m),k:m,I:Bn(m%12||12),l:m%12||12,M:Bn(x),p:m<12?"AM":"PM",P:m<12?"am":"pm",S:Bn(_),L:Bn(w,3)},J.dateFormats),function(B,G){if(Ko(y))for(;y.indexOf("%"+G)!==-1;)y=y.replace("%"+G,typeof B=="function"?B.call(d,i):B)})}else if(zc(y)){let d=(this.getTimezoneOffset(i)||0)/36e5,u=this.timezone||"Etc/GMT"+(d>=0?"+":"")+d,{prefix:f="",suffix:g=""}=y;y=f+this.dateTimeFormat(Ur({timeZone:u},y),i)+g}return o?Fc(y):y}resolveDTLFormat(y){return zc(y,!0)?zc(y,!0)&&Ku(y)?{main:y}:y:{main:(y=Yu(y))[0],from:y[1],to:y[2]}}getDateFormat(y,i,o,l){let d=this.dateFormat("%m-%d %H:%M:%S.%L",i),u="01-01 00:00:00.000",f={millisecond:15,second:12,minute:9,hour:6,day:3},g="millisecond",m=g;for(g in Za){if(y&&y===Za.week&&+this.dateFormat("%w",i)===o&&d.substr(6)===u.substr(6)){g="week";break}if(y&&Za[g]>y){g=m;break}if(f[g]&&d.substr(f[g])!==u.substr(f[g]))break;g!=="week"&&(m=g)}return this.resolveDTLFormat(l[g]).main}},{defined:Zu,extend:Wc,timeUnits:nr}=Qe,Uc=class extends Xg{getTimeTicks(y,i,o,l){let d=this,u=[],f={},{count:g=1,unitRange:m}=y,[x,_,w,C,j,L]=d.toParts(i),F=(i||0)%1e3,$;if(l??(l=1),Zu(i)){if(F=m>=nr.second?0:g*Math.floor(F/g),m>=nr.second&&(L=m>=nr.minute?0:g*Math.floor(L/g)),m>=nr.minute&&(j=m>=nr.hour?0:g*Math.floor(j/g)),m>=nr.hour&&(C=m>=nr.day?0:g*Math.floor(C/g)),m>=nr.day&&(w=m>=nr.month?1:Math.max(1,g*Math.floor(w/g))),m>=nr.month&&(_=m>=nr.year?0:g*Math.floor(_/g)),m>=nr.year&&(x-=x%g),m===nr.week){g&&(i=d.makeTime(x,_,w,C,j,L,F));let X=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},i,"es"),pe="DLMXJVS".indexOf(X);w+=-pe+l+(pe<l?-7:0)}i=d.makeTime(x,_,w,C,j,L,F),d.variableTimezone&&Zu(o)&&($=o-i>4*nr.month||d.getTimezoneOffset(i)!==d.getTimezoneOffset(o));let B=i,G=1;for(;B<o;)u.push(B),m===nr.year?B=d.makeTime(x+G*g,0):m===nr.month?B=d.makeTime(x,_+G*g):$&&(m===nr.day||m===nr.week)?B=d.makeTime(x,_,w+G*g*(m===nr.day?1:7)):$&&m===nr.hour&&g>1?B=d.makeTime(x,_,w,C+G*g):B+=m*g,G++;u.push(B),m<=nr.hour&&u.length<1e4&&u.forEach(X=>{X%18e5==0&&d.dateFormat("%H%M%S%L",X)==="000000000"&&(f[X]="day")})}return u.info=Wc(y,{higherRanks:f,totalRange:m*g}),u}},{isTouchDevice:Yg}=J,{fireEvent:ci,merge:qg}=Qe,mn={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:y=>Math.sqrt(1-Math.pow(y-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:Yg?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Zo=new Uc(mn.time,mn.lang),Oi={defaultOptions:mn,defaultTime:Zo,getOptions:function(){return mn},setOptions:function(y){var i;return ci(J,"setOptions",{options:y}),qg(!0,mn,y),y.time&&Zo.update(mn.time),y.lang&&"locale"in y.lang&&Zo.update({locale:y.lang.locale}),(i=y.lang)!=null&&i.chartTitle&&(mn.title={...mn.title,text:y.lang.chartTitle}),mn}},{win:Kb}=J,{isNumber:Qa,isString:Kg,merge:Zg,pInt:Hr,defined:Qu}=Qe,Hc=(y,i,o)=>`color-mix(in srgb,${y},${i} ${100*o}%)`,Ja=y=>Kg(y)&&!!y&&y!=="none";class Wt{static parse(i){return i?new Wt(i):Wt.None}constructor(i){let o,l,d,u;this.rgba=[NaN,NaN,NaN,NaN],this.input=i;let f=J.Color;if(f&&f!==Wt)return new f(i);if(typeof i=="object"&&i.stops!==void 0)this.stops=i.stops.map(g=>new Wt(g[1]));else if(typeof i=="string")for(this.input=i=Wt.names[i.toLowerCase()]||i,d=Wt.parsers.length;d--&&!l;)(o=(u=Wt.parsers[d]).regex.exec(i))&&(l=u.parse(o));l&&(this.rgba=l)}get(i){let o=this.input,l=this.rgba;if(this.output)return this.output;if(typeof o=="object"&&this.stops!==void 0){let d=Zg(o);return d.stops=[].slice.call(d.stops),this.stops.forEach((u,f)=>{d.stops[f]=[d.stops[f][0],u.get(i)]}),d}return l&&Qa(l[0])?i!=="rgb"&&(i||l[3]!==1)?i==="a"?`${l[3]}`:"rgba("+l.join(",")+")":"rgb("+l[0]+","+l[1]+","+l[2]+")":o}brighten(i){let o=this.rgba;if(this.stops)this.stops.forEach(function(l){l.brighten(i)});else if(Qa(i)&&i!==0)if(Qa(o[0]))for(let l=0;l<3;l++)o[l]+=Hr(255*i),o[l]<0&&(o[l]=0),o[l]>255&&(o[l]=255);else Wt.useColorMix&&Ja(this.input)&&(this.output=Hc(this.input,i>0?"white":"black",Math.abs(i)));return this}setOpacity(i){return this.rgba[3]=i,this}tweenTo(i,o){let l=this.rgba,d=i.rgba;if(!Qa(l[0])||!Qa(d[0]))return Wt.useColorMix&&Ja(this.input)&&Ja(i.input)&&o<.99?Hc(this.input,i.input,o):i.input||"none";let u=d[3]!==1||l[3]!==1,f=(m,x)=>m+(l[x]-m)*(1-o),g=d.slice(0,3).map(f).map(Math.round);return u&&g.push(f(d[3],3)),(u?"rgba(":"rgb(")+g.join(",")+")"}}Wt.names={white:"#ffffff",black:"#000000"},Wt.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(y){return[Hr(y[1]),Hr(y[2]),Hr(y[3]),parseFloat(y[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(y){return[Hr(y[1]),Hr(y[2]),Hr(y[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(y){return[Hr(y[1]+y[1],16),Hr(y[2]+y[2],16),Hr(y[3]+y[3],16),Qu(y[4])?Hr(y[4]+y[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(y){return[Hr(y[1],16),Hr(y[2],16),Hr(y[3],16),Qu(y[4])?Hr(y[4],16)/255:1]}}],Wt.useColorMix=(r1=Kb.CSS)==null?void 0:r1.supports("color","color-mix(in srgb,red,blue 9%)"),Wt.None=new Wt("");let{parse:Ju}=Wt,{win:Qg}=J,{isNumber:Gc,objectEach:Jg}=Qe;class Gr{constructor(i,o,l){this.pos=NaN,this.options=o,this.elem=i,this.prop=l}dSetter(){let i=this.paths,o=i==null?void 0:i[0],l=i==null?void 0:i[1],d=this.now||0,u=[];if(d!==1&&o&&l)if(o.length===l.length&&d<1)for(let f=0;f<l.length;f++){let g=o[f],m=l[f],x=[];for(let _=0;_<m.length;_++){let w=g[_],C=m[_];Gc(w)&&Gc(C)&&(m[0]!=="A"||_!==4&&_!==5)?x[_]=w+d*(C-w):x[_]=C}u.push(x)}else u=l;else u=this.toD||[];this.elem.attr("d",u,void 0,!0)}update(){let i=this.elem,o=this.prop,l=this.now,d=this.options.step;this[o+"Setter"]?this[o+"Setter"]():i.attr?i.element&&i.attr(o,l,null,!0):i.style[o]=l+this.unit,d&&d.call(i,l,this)}run(i,o,l){let d=this,u=d.options,f=function(x){return!f.stopped&&d.step(x)},g=Qg.requestAnimationFrame||function(x){setTimeout(x,13)},m=function(){for(let x=0;x<Gr.timers.length;x++)Gr.timers[x]()||Gr.timers.splice(x--,1);Gr.timers.length&&g(m)};i!==o||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=i,this.end=o,this.unit=l,this.now=this.start,this.pos=0,f.elem=this.elem,f.prop=this.prop,f()&&Gr.timers.push(f)===1&&g(m)):(delete u.curAnim[this.prop],u.complete&&Object.keys(u.curAnim).length===0&&u.complete.call(this.elem))}step(i){let o,l,d=+new Date,u=this.options,f=this.elem,g=u.complete,m=u.duration,x=u.curAnim;return f.attr&&!f.element?o=!1:i||d>=m+this.startTime?(this.now=this.end,this.pos=1,this.update(),x[this.prop]=!0,l=!0,Jg(x,function(_){_!==!0&&(l=!1)}),l&&g&&g.call(f),o=!1):(this.pos=u.easing((d-this.startTime)/m),this.now=this.start+(this.end-this.start)*this.pos,this.update(),o=!0),o}initPath(i,o,l){let d=i.startX,u=i.endX,f=l.slice(),g=i.isArea,m=g?2:1,x=o&&l.length>o.length&&l.hasStackedCliffs,_,w,C,j,L=o==null?void 0:o.slice();if(!L||x)return[f,f];function F(B,G){for(;B.length<w;){let X=B[0],pe=G[w-B.length];if(pe&&X[0]==="M"&&(pe[0]==="C"?B[0]=["C",X[1],X[2],X[1],X[2],X[1],X[2]]:B[0]=["L",X[1],X[2]]),B.unshift(X),g){let de=B.pop();B.push(B[B.length-1],de)}}}function $(B){for(;B.length<w;){let G=B[Math.floor(B.length/m)-1].slice();if(G[0]==="C"&&(G[1]=G[5],G[2]=G[6]),g){let X=B[Math.floor(B.length/m)].slice();B.splice(B.length/2,0,G,X)}else B.push(G)}}if(d&&u&&u.length){for(C=0;C<d.length;C++)if(d[C]===u[0]){_=C;break}else if(d[0]===u[u.length-d.length+C]){_=C,j=!0;break}else if(d[d.length-1]===u[u.length-d.length+C]){_=d.length-C;break}_===void 0&&(L=[])}return L.length&&Gc(_)&&(w=f.length+_*m,j?(F(L,f),$(f)):(F(f,L),$(L))),[L,f]}fillSetter(){Gr.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Ju(this.start).tweenTo(Ju(this.end),this.pos),void 0,!0)}}Gr.timers=[];let{defined:eh,getStyle:em,isArray:tm,isNumber:rm,isObject:Vc,merge:Qo,objectEach:th,pick:cs}=Qe;function el(y){return Vc(y)?Qo({duration:500,defer:0},y):{duration:500*!!y,defer:0}}function rh(y,i){let o=Gr.timers.length;for(;o--;)Gr.timers[o].elem!==y||i&&i!==Gr.timers[o].prop||(Gr.timers[o].stopped=!0)}let jr={animate:function(y,i,o){let l,d="",u,f,g;Vc(o)||(g=arguments,o={duration:g[2],easing:g[3],complete:g[4]}),rm(o.duration)||(o.duration=400),o.easing=typeof o.easing=="function"?o.easing:Math[o.easing]||Math.easeInOutSine,o.curAnim=Qo(i),th(i,function(m,x){rh(y,x),f=new Gr(y,o,x),u=void 0,x==="d"&&tm(i.d)?(f.paths=f.initPath(y,y.pathArray,i.d),f.toD=i.d,l=0,u=1):y.attr?l=y.attr(x):(l=parseFloat(em(y,x))||0,x!=="opacity"&&(d="px")),u||(u=m),typeof u=="string"&&u.match("px")&&(u=u.replace(/px/g,"")),f.run(l,u,d)})},animObject:el,getDeferredAnimation:function(y,i,o){let l=el(i),d=o?[o]:y.series,u=0,f=0;return d.forEach(g=>{let m=el(g.options.animation);u=Vc(i)&&eh(i.defer)?l.defer:Math.max(u,m.duration+m.defer),f=Math.min(l.duration,m.duration)}),y.renderer.forExport&&(u=0),{defer:Math.max(0,u-f),duration:Math.min(u,f)}},setAnimation:function(y,i){i.renderer.globalAnimation=cs(y,i.options.chart.animation,!0)},stop:rh},{SVG_NS:Jo,win:ih}=J,{attr:im,createElement:nm,css:ds,error:ea,isFunction:nh,isString:sh,objectEach:oh,splat:ta}=Qe,{trustedTypes:tl}=ih,$n=tl&&nh(tl.createPolicy)&&tl.createPolicy("highcharts",{createHTML:y=>y}),sm=$n?$n.createHTML(""):"";class Ut{static filterUserAttributes(i){return oh(i,(o,l)=>{let d=!0;Ut.allowedAttributes.indexOf(l)===-1&&(d=!1),["background","dynsrc","href","lowsrc","src"].indexOf(l)!==-1&&(d=sh(o)&&Ut.allowedReferences.some(u=>o.indexOf(u)===0)),d||(ea(33,!1,void 0,{"Invalid attribute in config":`${l}`}),delete i[l]),sh(o)&&i[l]&&(i[l]=o.replace(/</g,"&lt;"))}),i}static parseStyle(i){return i.split(";").reduce((o,l)=>{let d=l.split(":").map(f=>f.trim()),u=d.shift();return u&&d.length&&(o[u.replace(/-([a-z])/g,f=>f[1].toUpperCase())]=d.join(":")),o},{})}static setElementHTML(i,o){i.innerHTML=Ut.emptyHTML,o&&new Ut(o).addToDOM(i)}constructor(i){this.nodes=typeof i=="string"?this.parseMarkup(i):i}addToDOM(i){return function o(l,d){let u;return ta(l).forEach(function(f){let g,m=f.tagName,x=f.textContent?J.doc.createTextNode(f.textContent):void 0,_=Ut.bypassHTMLFiltering;if(m)if(m==="#text")g=x;else if(Ut.allowedTags.indexOf(m)!==-1||_){let w=m==="svg"?Jo:d.namespaceURI||Jo,C=J.doc.createElementNS(w,m),j=f.attributes||{};oh(f,function(L,F){F!=="tagName"&&F!=="attributes"&&F!=="children"&&F!=="style"&&F!=="textContent"&&(j[F]=L)}),im(C,_?j:Ut.filterUserAttributes(j)),f.style&&ds(C,f.style),x&&C.appendChild(x),o(f.children||[],C),g=C}else ea(33,!1,void 0,{"Invalid tagName in config":m});g&&d.appendChild(g),u=g}),u}(this.nodes,i)}parseMarkup(i){let o,l=[];i=i.trim().replace(/ style=(["'])/g," data-style=$1");try{o=new DOMParser().parseFromString($n?$n.createHTML(i):i,"text/html")}catch{}if(!o){let u=nm("div");u.innerHTML=i,o={body:u}}let d=(u,f)=>{let g=u.nodeName.toLowerCase(),m={tagName:g};g==="#text"&&(m.textContent=u.textContent||"");let x=u.attributes;if(x){let _={};[].forEach.call(x,w=>{w.name==="data-style"?m.style=Ut.parseStyle(w.value):_[w.name]=w.value}),m.attributes=_}if(u.childNodes.length){let _=[];[].forEach.call(u.childNodes,w=>{d(w,_)}),_.length&&(m.children=_)}f.push(m)};return[].forEach.call(o.body.childNodes,u=>d(u,l)),l}}Ut.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Ut.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Ut.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Ut.emptyHTML=sm,Ut.bypassHTMLFiltering=!1;let{defaultOptions:zn,defaultTime:ah}=Oi,{pageLang:om}=J,{extend:Xc,getNestedProperty:am,isArray:lh,isNumber:yr,isObject:ch,isString:rl,pick:Fs,ucfirst:lm}=Qe,vn={add:(y,i)=>y+i,divide:(y,i)=>i!==0?y/i:"",eq:(y,i)=>y==i,each:function(y){let i=arguments[arguments.length-1];return!!lh(y)&&y.map((o,l)=>Ws(i.body,Xc(ch(o)?o:{"@this":o},{"@index":l,"@first":l===0,"@last":l===y.length-1}))).join("")},ge:(y,i)=>y>=i,gt:(y,i)=>y>i,if:y=>!!y,le:(y,i)=>y<=i,lt:(y,i)=>y<i,multiply:(y,i)=>y*i,ne:(y,i)=>y!=i,subtract:(y,i)=>y-i,ucfirst:lm,unless:y=>!y},dh={},uh=y=>/^["'].+["']$/.test(y);function Ws(y="",i,o){var $;let l=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,d=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,u=[],f=/f$/,g=/\.(\d)/,m=(($=o==null?void 0:o.options)==null?void 0:$.lang)||zn.lang,x=(o==null?void 0:o.time)||ah,_=(o==null?void 0:o.numberFormatter)||Yc.bind(o),w=(B="")=>{let G;return B==="true"||B!=="false"&&((G=Number(B)).toString()===B?G:uh(B)?B.slice(1,-1):am(B,i))},C,j,L=0,F;for(;(C=l.exec(y))!==null;){let B=C,G=d.exec(C[1]);G&&(C=G,F=!0),j!=null&&j.isBlock||(j={ctx:i,expression:C[1],find:C[0],isBlock:C[1].charAt(0)==="#",start:C.index,startInner:C.index+C[0].length,length:C[0].length});let X=(j.isBlock?B:C)[1].split(" ")[0].replace("#","");vn[X]&&(j.isBlock&&X===j.fn&&L++,j.fn||(j.fn=X));let pe=C[1]==="else";if(j.isBlock&&j.fn&&(C[1]===`/${j.fn}`||pe))if(L)!pe&&L--;else{let de=j.startInner,fe=y.substr(de,C.index-de);j.body===void 0?(j.body=fe,j.startInner=C.index+C[0].length):j.elseBody=fe,j.find+=fe+C[0],pe||(u.push(j),j=void 0)}else j.isBlock||u.push(j);if(G&&!(j!=null&&j.isBlock))break}return u.forEach(B=>{let G,X,{body:pe,elseBody:de,expression:fe,fn:ye}=B;if(ye){let me=[B],xe=[],Ne=fe.length,Ae=0,We;for(X=0;X<=Ne;X++){let Ge=fe.charAt(X);We||Ge!=='"'&&Ge!=="'"?We===Ge&&(We=""):We=Ge,We||Ge!==" "&&X!==Ne||(xe.push(fe.substr(Ae,X-Ae)),Ae=X+1)}for(X=vn[ye].length;X--;)me.unshift(w(xe[X+1]));G=vn[ye].apply(i,me),B.isBlock&&typeof G=="boolean"&&(G=Ws(G?pe:de,i,o))}else{let me=uh(fe)?[fe]:fe.split(":"),xe=(G=w(me.shift()||""))%1!=0;if(typeof G=="number"&&(me.length||xe)){let Ne=me.join(":");if(f.test(Ne)||xe){let Ae=parseInt((Ne.match(g)||["","-1"])[1],10);G!==null&&(G=_(G,Ae,m.decimalPoint,Ne.indexOf(",")>-1?m.thousandsSep:""))}else G=x.dateFormat(Ne,G)}d.lastIndex=0,d.test(B.find)&&rl(G)&&(G=`"${G}"`)}y=y.replace(B.find,Fs(G,""))}),F?Ws(y,i,o):y}function Yc(y,i,o,l){var F;i*=1;let d,u,[f,g]=(y=+y||0).toString().split("e").map(Number),m=((F=this==null?void 0:this.options)==null?void 0:F.lang)||zn.lang,x=(y.toString().split(".")[1]||"").split("e")[0].length,_=i,w={};o??(o=m.decimalPoint),l??(l=m.thousandsSep),i===-1?i=Math.min(x,20):yr(i)?i&&g<0&&((u=i+g)>=0?(f=+f.toExponential(u).split("e")[0],i=u):(f=Math.floor(f),y=i<20?+(f*Math.pow(10,g)).toFixed(i):0,g=0)):i=2,g&&(i??(i=2),y=f),yr(i)&&i>=0&&(w.minimumFractionDigits=i,w.maximumFractionDigits=i),l===""&&(w.useGrouping=!1);let C=l||o,j=C?"en":(this==null?void 0:this.locale)||m.locale||om,L=JSON.stringify(w)+j;return d=(dh[L]??(dh[L]=new Intl.NumberFormat(j,w))).format(y),C&&(d=d.replace(/([,\.])/g,"_$1").replace(/_\,/g,l??",").replace("_.",o??".")),(i||+d!=0)&&(!(g<0)||_)||(d="0"),g&&+d!=0&&(d+="e"+(g<0?"":"+")+g),d}let sr={dateFormat:function(y,i,o){return ah.dateFormat(y,i,o)},format:Ws,helpers:vn,numberFormat:Yc};(function(y){let i;y.rendererTypes={},y.getRendererType=function(o=i){return y.rendererTypes[o]||y.rendererTypes[i]},y.registerRendererType=function(o,l,d){y.rendererTypes[o]=l,(!i||d)&&(i=o,J.Renderer=l)}})(a||(a={}));let qi=a,{clamp:di,pick:il,pushUnique:hh,stableSort:Us}=Qe;(c||(c={})).distribute=function y(i,o,l){let d=i,u=d.reducedLen||o,f=(X,pe)=>X.target-pe.target,g=[],m=i.length,x=[],_=g.push,w,C,j,L=!0,F,$,B=0,G;for(w=m;w--;)B+=i[w].size;if(B>u){for(Us(i,(X,pe)=>(pe.rank||0)-(X.rank||0)),j=(G=i[0].rank===i[i.length-1].rank)?m/2:-1,C=G?j:m-1;j&&B>u;)F=i[w=Math.floor(C)],hh(x,w)&&(B-=F.size),C+=j,G&&C>=i.length&&(j/=2,C=j);x.sort((X,pe)=>pe-X).forEach(X=>_.apply(g,i.splice(X,1)))}for(Us(i,f),i=i.map(X=>({size:X.size,targets:[X.target],align:il(X.align,.5)}));L;){for(w=i.length;w--;)F=i[w],$=(Math.min.apply(0,F.targets)+Math.max.apply(0,F.targets))/2,F.pos=di($-F.size*F.align,0,o-F.size);for(w=i.length,L=!1;w--;)w>0&&i[w-1].pos+i[w-1].size>i[w].pos&&(i[w-1].size+=i[w].size,i[w-1].targets=i[w-1].targets.concat(i[w].targets),i[w-1].align=.5,i[w-1].pos+i[w-1].size>o&&(i[w-1].pos=o-i[w-1].size),i.splice(w,1),L=!0)}return _.apply(d,g),w=0,i.some(X=>{let pe=0;return(X.targets||[]).some(()=>(d[w].pos=X.pos+pe,l!==void 0&&Math.abs(d[w].pos-d[w].target)>l?(d.slice(0,w+1).forEach(de=>delete de.pos),d.reducedLen=(d.reducedLen||o)-.1*o,d.reducedLen>.1*o&&y(d,o,l),!0):(pe+=d[w].size,w++,!1)))}),Us(d,f),d};let us=c,{animate:cm,animObject:fh,stop:nl}=jr,{deg2rad:Hs,doc:Ki,svg:ph,SVG_NS:Zi,win:sl,isFirefox:dm}=J,{addEvent:Qi,attr:qc,createElement:Kc,crisp:Gs,css:gh,defined:Ji,erase:Zc,extend:hs,fireEvent:ol,getAlignFactor:Qc,isArray:Fn,isFunction:mh,isNumber:vh,isObject:Vs,isString:xh,merge:al,objectEach:Xs,pick:Ri,pInt:ll,pushUnique:um,replaceNested:hm,syncTimeout:fm,uniqueKey:Jc}=Qe;class gr{_defaultGetter(i){let o=Ri(this[i+"Value"],this[i],this.element?this.element.getAttribute(i):null,0);return/^-?[\d\.]+$/.test(o)&&(o=parseFloat(o)),o}_defaultSetter(i,o,l){l.setAttribute(o,i)}add(i){let o,l=this.renderer,d=this.element;return i&&(this.parentGroup=i),this.textStr!==void 0&&this.element.nodeName==="text"&&l.buildText(this),this.added=!0,(!i||i.handleZ||this.zIndex)&&(o=this.zIndexSetter()),o||(i?i.element:l.box).appendChild(d),this.onAdd&&this.onAdd(),this}addClass(i,o){let l=o?"":this.attr("class")||"";return(i=(i||"").split(/ /g).reduce(function(d,u){return l.indexOf(u)===-1&&d.push(u),d},l?[l]:[]).join(" "))!==l&&this.attr("class",i),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(i,o,l,d=!0){let u=this.renderer,f=u.alignedObjects,g=!!i;i?(this.alignOptions=i,this.alignByTranslate=o,this.alignTo=l):(i=this.alignOptions||{},o=this.alignByTranslate,l=this.alignTo);let m=!l||xh(l)?l||"renderer":void 0;m&&(g&&um(f,this),l=void 0);let x=Ri(l,u[m],u),_=(x.x||0)+(i.x||0)+((x.width||0)-(i.width||0))*Qc(i.align),w=(x.y||0)+(i.y||0)+((x.height||0)-(i.height||0))*Qc(i.verticalAlign),C={"text-align":i==null?void 0:i.align};return C[o?"translateX":"x"]=Math.round(_),C[o?"translateY":"y"]=Math.round(w),d&&(this[this.placed?"animate":"attr"](C),this.placed=!0),this.alignAttr=C,this}alignSetter(i){let o={left:"start",center:"middle",right:"end"};o[i]&&(this.alignValue=i,this.element.setAttribute("text-anchor",o[i]))}animate(i,o,l){let d=fh(Ri(o,this.renderer.globalAnimation,!0)),u=d.defer;return Ki.hidden&&(d.duration=0),d.duration!==0?(l&&(d.complete=l),fm(()=>{this.element&&cm(this,i,d)},u)):(this.attr(i,void 0,l||d.complete),Xs(i,function(f,g){d.step&&d.step.call(this,f,{prop:g,pos:1,elem:this})},this)),this}applyTextOutline(i){let o=this.element;i.indexOf("contrast")!==-1&&(i=i.replace(/contrast/g,this.renderer.getContrast(o.style.fill)));let l=i.indexOf(" "),d=i.substring(l+1),u=i.substring(0,l);if(u&&u!=="none"&&J.svg){this.fakeTS=!0,u=u.replace(/(^[\d\.]+)(.*?)$/g,function(_,w,C){return 2*Number(w)+C}),this.removeTextOutline();let f=Ki.createElementNS(Zi,"tspan");qc(f,{class:"highcharts-text-outline",fill:d,stroke:d,"stroke-width":u,"stroke-linejoin":"round"});let g=o.querySelector("textPath")||o;[].forEach.call(g.childNodes,_=>{let w=_.cloneNode(!0);w.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(C=>w.removeAttribute(C)),f.appendChild(w)});let m=0;[].forEach.call(g.querySelectorAll("text tspan"),_=>{m+=Number(_.getAttribute("dy"))});let x=Ki.createElementNS(Zi,"tspan");x.textContent="",qc(x,{x:Number(o.getAttribute("x")),dy:-m}),f.appendChild(x),g.insertBefore(f,g.firstChild)}}attr(i,o,l,d){let{element:u}=this,f=gr.symbolCustomAttribs,g,m,x=this,_;return typeof i=="string"&&o!==void 0&&(g=i,(i={})[g]=o),typeof i=="string"?x=(this[i+"Getter"]||this._defaultGetter).call(this,i,u):(Xs(i,function(w,C){_=!1,d||nl(this,C),this.symbolName&&f.indexOf(C)!==-1&&(m||(this.symbolAttr(i),m=!0),_=!0),this.rotation&&(C==="x"||C==="y")&&(this.doTransform=!0),_||(this[C+"Setter"]||this._defaultSetter).call(this,w,C,u)},this),this.afterSetters()),l&&l.call(this),x}clip(i){if(i&&!i.clipPath){let o=Jc()+"-",l=this.renderer.createElement("clipPath").attr({id:o}).add(this.renderer.defs);hs(i,{clipPath:l,id:o,count:0}),i.add(l)}return this.attr("clip-path",i?`url(${this.renderer.url}#${i.id})`:"none")}crisp(i,o){o=Math.round(o||i.strokeWidth||0);let l=i.x||this.x||0,d=i.y||this.y||0,u=(i.width||this.width||0)+l,f=(i.height||this.height||0)+d,g=Gs(l,o),m=Gs(d,o);return hs(i,{x:g,y:m,width:Gs(u,o)-g,height:Gs(f,o)-m}),Ji(i.strokeWidth)&&(i.strokeWidth=o),i}complexColor(i,o,l){let d=this.renderer,u,f,g,m,x,_,w,C,j,L,F=[],$;ol(this.renderer,"complexColor",{args:arguments},function(){if(i.radialGradient?f="radialGradient":i.linearGradient&&(f="linearGradient"),f){if(g=i[f],x=d.gradients,_=i.stops,j=l.radialReference,Fn(g)&&(i[f]=g={x1:g[0],y1:g[1],x2:g[2],y2:g[3],gradientUnits:"userSpaceOnUse"}),f==="radialGradient"&&j&&!Ji(g.gradientUnits)&&(m=g,g=al(g,d.getRadialAttr(j,m),{gradientUnits:"userSpaceOnUse"})),Xs(g,function(B,G){G!=="id"&&F.push(G,B)}),Xs(_,function(B){F.push(B)}),x[F=F.join(",")])L=x[F].attr("id");else{g.id=L=Jc();let B=x[F]=d.createElement(f).attr(g).add(d.defs);B.radAttr=m,B.stops=[],_.forEach(function(G){G[1].indexOf("rgba")===0?(w=(u=Wt.parse(G[1])).get("rgb"),C=u.get("a")):(w=G[1],C=1);let X=d.createElement("stop").attr({offset:G[0],"stop-color":w,"stop-opacity":C}).add(B);B.stops.push(X)})}$="url("+d.url+"#"+L+")",l.setAttribute(o,$),l.gradient=F,i.toString=function(){return $}}})}css(i){let o=this.styles,l={},d=this.element,u,f=!o;if(o&&Xs(i,function(g,m){o&&o[m]!==g&&(l[m]=g,f=!0)}),f){o&&(i=hs(o,l)),i.width===null||i.width==="auto"?delete this.textWidth:d.nodeName.toLowerCase()==="text"&&i.width&&(u=this.textWidth=ll(i.width)),hs(this.styles,i),u&&!ph&&this.renderer.forExport&&delete i.width;let g=dm&&i.fontSize||null;g&&(vh(g)||/^\d+$/.test(g))&&(i.fontSize+="px");let m=al(i);d.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(x=>m&&delete m[x]),m.color&&(m.fill=m.color,delete m.color)),gh(d,m)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),i.textOutline&&this.applyTextOutline(i.textOutline)),this}dashstyleSetter(i){let o,l=this["stroke-width"];if(l==="inherit"&&(l=1),i){let d=(i=i.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(o=d.length;o--;)d[o]=""+ll(d[o])*Ri(l,NaN);i=d.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",i)}}destroy(){let i=this,o=i.element||{},l=i.renderer,d=o.ownerSVGElement,u=o.nodeName==="SPAN"&&i.parentGroup||void 0,f,g;if(o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=o.point=null,nl(i),i.clipPath&&d){let m=i.clipPath;[].forEach.call(d.querySelectorAll("[clip-path],[CLIP-PATH]"),function(x){x.getAttribute("clip-path").indexOf(m.element.id)>-1&&x.removeAttribute("clip-path")}),i.clipPath=m.destroy()}if(i.stops){for(g=0;g<i.stops.length;g++)i.stops[g].destroy();i.stops.length=0,i.stops=void 0}for(i.safeRemoveChild(o);u!=null&&u.div&&u.div.childNodes.length===0;)f=u.parentGroup,i.safeRemoveChild(u.div),delete u.div,u=f;i.alignOptions&&Zc(l.alignedObjects,i),Xs(i,(m,x)=>{var _,w,C;(((_=i[x])==null?void 0:_.parentGroup)===i||["connector","foreignObject"].indexOf(x)!==-1)&&((C=(w=i[x])==null?void 0:w.destroy)==null||C.call(w)),delete i[x]})}dSetter(i,o,l){Fn(i)&&(typeof i[0]=="string"&&(i=this.renderer.pathToSegments(i)),this.pathArray=i,i=i.reduce((d,u,f)=>u!=null&&u.join?(f?d+" ":"")+u.join(" "):(u||"").toString(),"")),/(NaN| {2}|^$)/.test(i)&&(i="M 0 0"),this[o]!==i&&(l.setAttribute(o,i),this[o]=i)}fillSetter(i,o,l){typeof i=="string"?l.setAttribute(o,i):i&&this.complexColor(i,o,l)}hrefSetter(i,o,l){l.setAttributeNS("http://www.w3.org/1999/xlink",o,i)}getBBox(i,o){let l,d,u,f,{alignValue:g,element:m,renderer:x,styles:_,textStr:w}=this,{cache:C,cacheKeys:j}=x,L=m.namespaceURI===this.SVG_NS,F=Ri(o,this.rotation,0),$=x.styledMode?m&&gr.prototype.getStyle.call(m,"font-size"):_.fontSize;if(Ji(w)&&((f=w.toString()).indexOf("<")===-1&&(f=f.replace(/\d/g,"0")),f+=["",x.rootFontSize,$,F,this.textWidth,g,_.lineClamp,_.textOverflow,_.fontWeight].join(",")),f&&!i&&(l=C[f]),!l||l.polygon){if(L||x.forExport){try{u=this.fakeTS&&function(G){let X=m.querySelector(".highcharts-text-outline");X&&gh(X,{display:G})},mh(u)&&u("none"),l=m.getBBox?hs({},m.getBBox()):{width:m.offsetWidth,height:m.offsetHeight,x:0,y:0},mh(u)&&u("")}catch{}(!l||l.width<0)&&(l={x:0,y:0,width:0,height:0})}else l=this.htmlGetBBox();d=l.height,L&&(l.height=d={"11px,17":14,"13px,20":16}[`${$||""},${Math.round(d)}`]||d),F&&(l=this.getRotatedBox(l,F));let B={bBox:l};ol(this,"afterGetBBox",B),l=B.bBox}if(f&&(w===""||l.height>0)){for(;j.length>250;)delete C[j.shift()];C[f]||j.push(f),C[f]=l}return l}getRotatedBox(i,o){let{x:l,y:d,width:u,height:f}=i,{alignValue:g,translateY:m,rotationOriginX:x=0,rotationOriginY:_=0}=this,w=Qc(g),C=Number(this.element.getAttribute("y")||0)-(m?0:d),j=o*Hs,L=(o-90)*Hs,F=Math.cos(j),$=Math.sin(j),B=u*F,G=u*$,X=Math.cos(L),pe=Math.sin(L),[[de,fe],[ye,me]]=[x,_].map(At=>[At-At*F,At*$]),xe=l+w*(u-B)+de+me+C*X,Ne=xe+B,Ae=Ne-f*X,We=Ae-B,Ge=d+C-w*G-fe+ye+C*pe,rt=Ge+G,Je=rt-f*pe,lt=Je-G,Ke=Math.min(xe,Ne,Ae,We),ct=Math.min(Ge,rt,Je,lt),wt=Math.max(xe,Ne,Ae,We)-Ke,jt=Math.max(Ge,rt,Je,lt)-ct;return{x:Ke,y:ct,width:wt,height:jt,polygon:[[xe,Ge],[Ne,rt],[Ae,Je],[We,lt]]}}getStyle(i){return sl.getComputedStyle(this.element||this,"").getPropertyValue(i)}hasClass(i){return(""+this.attr("class")).split(" ").indexOf(i)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(i,o){this.onEvents={},this.opacity=1,this.SVG_NS=Zi,this.element=o==="span"||o==="body"?Kc(o):Ki.createElementNS(this.SVG_NS,o),this.renderer=i,this.styles={},ol(this,"afterInit")}on(i,o){let{onEvents:l}=this;return l[i]&&l[i](),l[i]=Qi(this.element,i,o),this}opacitySetter(i,o,l){let d=Number(Number(i).toFixed(3));this.opacity=d,l.setAttribute(o,d)}reAlign(){var i;(i=this.alignOptions)!=null&&i.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(i){return this.attr("class",(""+this.attr("class")).replace(xh(i)?RegExp(`(^| )${i}( |$)`):i," ").replace(/ +/g," ").trim())}removeTextOutline(){let i=this.element.querySelector("tspan.highcharts-text-outline");i&&this.safeRemoveChild(i)}safeRemoveChild(i){let o=i.parentNode;o&&o.removeChild(i)}setRadialReference(i){let o=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=i,o!=null&&o.radAttr&&o.animate(this.renderer.getRadialAttr(i,o.radAttr)),this}shadow(i){var u;let{renderer:o}=this,l=al(((u=this.parentGroup)==null?void 0:u.rotation)===90?{offsetX:-1,offsetY:-1}:{},Vs(i)?i:{}),d=o.shadowDefinition(l);return this.attr({filter:i?`url(${o.url}#${d})`:"none"})}show(i=!0){return this.attr({visibility:i?"inherit":"visible"})}"stroke-widthSetter"(i,o,l){this[o]=i,l.setAttribute(o,i)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let i=this.getStyle("stroke-width"),o=0,l;return/px$/.test(i)?o=ll(i):i!==""&&(qc(l=Ki.createElementNS(Zi,"rect"),{width:i,"stroke-width":0}),this.element.parentNode.appendChild(l),o=l.getBBox().width,l.parentNode.removeChild(l)),o}symbolAttr(i){let o=this;gr.symbolCustomAttribs.forEach(function(l){o[l]=Ri(i[l],o[l])}),o.attr({d:o.renderer.symbols[o.symbolName](o.x,o.y,o.width,o.height,o)})}textSetter(i){i!==this.textStr&&(delete this.textPxLength,this.textStr=i,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(i){let o=this.element,l=o.getElementsByTagName("title")[0]||Ki.createElementNS(this.SVG_NS,"title");o.insertBefore?o.insertBefore(l,o.firstChild):o.appendChild(l),l.textContent=hm(Ri(i,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let i=this.element;return i.parentNode.appendChild(i),this}translate(i,o){return this.attr({translateX:i,translateY:o})}updateTransform(i="transform"){let{element:o,foreignObject:l,matrix:d,padding:u,rotation:f=0,rotationOriginX:g,rotationOriginY:m,scaleX:x,scaleY:_,text:w,translateX:C=0,translateY:j=0}=this,L=["translate("+C+","+j+")"];Ji(d)&&L.push("matrix("+d.join(",")+")"),f&&(L.push("rotate("+f+" "+(g??o.getAttribute("x")??this.x??0)+" "+(m??o.getAttribute("y")??this.y??0)+")"),(w==null?void 0:w.element.tagName)!=="SPAN"||w!=null&&w.foreignObject||w.attr({rotation:f,rotationOriginX:(g||0)-u,rotationOriginY:(m||0)-u})),(Ji(x)||Ji(_))&&L.push("scale("+Ri(x,1)+" "+Ri(_,1)+")"),L.length&&!(w||this).textPath&&((l==null?void 0:l.element)||o).setAttribute(i,L.join(" "))}visibilitySetter(i,o,l){i==="inherit"?l.removeAttribute(o):this[o]!==i&&l.setAttribute(o,i),this[o]=i}xGetter(i){return this.element.nodeName==="circle"&&(i==="x"?i="cx":i==="y"&&(i="cy")),this._defaultGetter(i)}zIndexSetter(i,o){let l=this.renderer,d=this.parentGroup,u=(d||l).element||l.box,f=this.element,g=u===l.box,m,x,_,w=!1,C,j=this.added,L;if(Ji(i)?(f.setAttribute("data-z-index",i),i*=1,this[o]===i&&(j=!1)):Ji(this[o])&&f.removeAttribute("data-z-index"),this[o]=i,j){for((i=this.zIndex)&&d&&(d.handleZ=!0),L=(m=u.childNodes).length-1;L>=0&&!w;L--)C=!Ji(_=(x=m[L]).getAttribute("data-z-index")),x!==f&&(i<0&&C&&!g&&!L?(u.insertBefore(f,m[L]),w=!0):(ll(_)<=i||C&&(!Ji(i)||i>=0))&&(u.insertBefore(f,m[L+1]),w=!0));w||(u.insertBefore(f,m[3*!!g]),w=!0)}return w}}gr.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],gr.prototype.strokeSetter=gr.prototype.fillSetter,gr.prototype.yGetter=gr.prototype.xGetter,gr.prototype.matrixSetter=gr.prototype.rotationOriginXSetter=gr.prototype.rotationOriginYSetter=gr.prototype.rotationSetter=gr.prototype.scaleXSetter=gr.prototype.scaleYSetter=gr.prototype.translateXSetter=gr.prototype.translateYSetter=gr.prototype.verticalAlignSetter=function(y,i){this[i]=y,this.doTransform=!0};let en=gr,{defined:yh,extend:pm,getAlignFactor:bh,isNumber:Ys,merge:gm,pick:qs,removeEvent:cl}=Qe;class Wn extends en{constructor(i,o,l,d,u,f,g,m,x,_){let w;super(i,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=o,this.x=l,this.y=d,this.anchorX=f,this.anchorY=g,this.baseline=x,this.className=_,this.addClass(_==="button"?"highcharts-no-tooltip":"highcharts-label"),_&&this.addClass("highcharts-"+_),this.text=i.text(void 0,0,0,m).attr({zIndex:1}),typeof u=="string"&&((w=/^url\((.*?)\)$/.test(u))||this.renderer.symbols[u])&&(this.symbolKey=u),this.bBox=Wn.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=i.styledMode||w,this.deferredAttr={},this.alignFactor=0}alignSetter(i){let o=bh(i);this.textAlign=i,o!==this.alignFactor&&(this.alignFactor=o,this.bBox&&Ys(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(i,o){this.anchorX=i,this.boxAttr(o,Math.round(i)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(i,o){this.anchorY=i,this.boxAttr(o,i-this.ySetting)}boxAttr(i,o){this.box?this.box.attr(i,o):this.deferredAttr[i]=o}css(i){if(i){let o={};i=gm(i),Wn.textProps.forEach(l=>{i[l]!==void 0&&(o[l]=i[l],delete i[l])}),this.text.css(o),"fontSize"in o||"fontWeight"in o?this.updateTextPadding():("width"in o||"textOverflow"in o)&&this.updateBoxSize()}return en.prototype.css.call(this,i)}destroy(){cl(this.element,"mouseenter"),cl(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),en.prototype.destroy.call(this)}fillSetter(i,o){i&&(this.needsBox=!0),this.fill=i,this.boxAttr(o,i)}getBBox(i,o){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:l,height:d=0,translateX:u=0,translateY:f=0,width:g=0}=this,m=qs(this.paddingLeft,l),x=o??(this.rotation||0),_={width:g,height:d,x:u+this.bBox.x-m,y:f+this.bBox.y-l+this.baselineOffset};return x&&(_=this.getRotatedBox(_,x)),_}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(i){this.heightSetting=i,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:qs(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&yh(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(i,o){Ys(i)?i!==this[o]&&(this[o]=i,this.updateTextPadding()):this[o]=void 0}rSetter(i,o){this.boxAttr(o,i)}strokeSetter(i,o){this.stroke=i,this.boxAttr(o,i)}"stroke-widthSetter"(i,o){i&&(this.needsBox=!0),this["stroke-width"]=i,this.boxAttr(o,i)}"text-alignSetter"(i){this.textAlign=this["text-align"]=i,this.updateTextPadding()}textSetter(i){i!==void 0&&this.text.attr({text:i}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let i,o=this.text,l={},d=this.padding,u=this.bBox=(!Ys(this.widthSetting)||!Ys(this.heightSetting)||this.textAlign)&&yh(o.textStr)?o.getBBox(void 0,0):Wn.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||u.height||0)+2*d;let f=this.renderer.fontMetrics(o);if(this.baselineOffset=d+Math.min((this.text.firstLineMetrics||f).b,u.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-f.h)/2),this.needsBox&&!o.textPath){if(!this.box){let g=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();g.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),g.add(this)}l.x=i=this.getCrispAdjust(),l.y=(this.baseline?-this.baselineOffset:0)+i,l.width=Math.round(this.width),l.height=Math.round(this.height),this.box.attr(pm(l,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let i=this.text,o=i.styles.textAlign||this.textAlign;if(!i.textPath){this.updateBoxSize();let l=this.baseline?0:this.baselineOffset,d=(this.paddingLeft??this.padding)+bh(o)*(this.widthSetting??this.bBox.width);(d!==i.x||l!==i.y)&&(i.attr({align:o,x:d}),l!==void 0&&i.attr("y",l)),i.x=d,i.y=l}}widthSetter(i){this.widthSetting=Ys(i)?i:void 0,this.doUpdate=!0}getPaddedWidth(){let i=this.padding,o=qs(this.paddingLeft,i),l=qs(this.paddingRight,i);return(this.widthSetting||this.bBox.width||0)+o+l}xSetter(i){this.x=i,this.alignFactor&&(i-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(i),this.attr("translateX",this.xSetting)}ySetter(i){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(i),this.attr("translateY",this.ySetting)}}Wn.emptyBBox={width:0,height:0,x:0,y:0},Wn.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Li,isNumber:ra,pick:ui}=Qe;function tn(y,i,o,l,d){let u=[];if(d){let f=d.start||0,g=d.end||0,m=ui(d.r,o),x=ui(d.r,l||o),_=2e-4/(d.borderRadius?1:Math.max(m,1)),w=Math.abs(g-f-2*Math.PI)<_;w&&(f=Math.PI/2,g=2.5*Math.PI-_);let C=d.innerR,j=ui(d.open,w),L=Math.cos(f),F=Math.sin(f),$=Math.cos(g),B=Math.sin(g),G=ui(d.longArc,g-f-Math.PI<_?0:1),X=["A",m,x,0,G,ui(d.clockwise,1),y+m*$,i+x*B];X.params={start:f,end:g,cx:y,cy:i},u.push(["M",y+m*L,i+x*F],X),Li(C)&&((X=["A",C,C,0,G,Li(d.clockwise)?1-d.clockwise:0,y+C*L,i+C*F]).params={start:g,end:f,cx:y,cy:i},u.push(j?["M",y+C*$,i+C*B]:["L",y+C*$,i+C*B],X)),j||u.push(["Z"])}return u}function wh(y,i,o,l,d){return d!=null&&d.r?ed(y,i,o,l,d):[["M",y,i],["L",y+o,i],["L",y+o,i+l],["L",y,i+l],["Z"]]}function ed(y,i,o,l,d){let u=(d==null?void 0:d.r)||0;return[["M",y+u,i],["L",y+o-u,i],["A",u,u,0,0,1,y+o,i+u],["L",y+o,i+l-u],["A",u,u,0,0,1,y+o-u,i+l],["L",y+u,i+l],["A",u,u,0,0,1,y,i+l-u],["L",y,i+u],["A",u,u,0,0,1,y+u,i],["Z"]]}let kh={arc:tn,callout:function(y,i,o,l,d){let u=Math.min((d==null?void 0:d.r)||0,o,l),f=u+6,g=d==null?void 0:d.anchorX,m=(d==null?void 0:d.anchorY)||0,x=ed(y,i,o,l,{r:u});if(!ra(g)||g<o&&g>0&&m<l&&m>0)return x;if(y+g>o-f)if(m>i+f&&m<i+l-f)x.splice(3,1,["L",y+o,m-6],["L",y+o+6,m],["L",y+o,m+6],["L",y+o,i+l-u]);else if(g<o){let _=m<i+f,w=_?i:i+l;x.splice(_?2:5,0,["L",g,m],["L",y+o-u,w])}else x.splice(3,1,["L",y+o,l/2],["L",g,m],["L",y+o,l/2],["L",y+o,i+l-u]);else if(y+g<f)if(m>i+f&&m<i+l-f)x.splice(7,1,["L",y,m+6],["L",y-6,m],["L",y,m-6],["L",y,i+u]);else if(g>0){let _=m<i+f,w=_?i:i+l;x.splice(_?1:6,0,["L",g,m],["L",y+u,w])}else x.splice(7,1,["L",y,l/2],["L",g,m],["L",y,l/2],["L",y,i+u]);else m>l&&g<o-f?x.splice(5,1,["L",g+6,i+l],["L",g,i+l+6],["L",g-6,i+l],["L",y+u,i+l]):m<0&&g>f&&x.splice(1,1,["L",g-6,i],["L",g,i-6],["L",g+6,i],["L",o-u,i]);return x},circle:function(y,i,o,l){return tn(y+o/2,i+l/2,o/2,l/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(y,i,o,l){return[["M",y+o/2,i],["L",y+o,i+l/2],["L",y+o/2,i+l],["L",y,i+l/2],["Z"]]},rect:wh,roundedRect:ed,square:wh,triangle:function(y,i,o,l){return[["M",y+o/2,i],["L",y+o,i+l],["L",y,i+l],["Z"]]},"triangle-down":function(y,i,o,l){return[["M",y,i],["L",y+o,i],["L",y+o/2,i+l],["Z"]]}},{doc:dl,SVG_NS:Ks,win:Br}=J,{attr:ia,extend:Un,fireEvent:mm,isString:rn,objectEach:vm,pick:Sh}=Qe,fs=(y,i)=>y.substring(0,i)+"",xm=class{constructor(y){let i=y.styles;this.renderer=y.renderer,this.svgElement=y,this.width=y.textWidth,this.textLineHeight=i==null?void 0:i.lineHeight,this.textOutline=i==null?void 0:i.textOutline,this.ellipsis=(i==null?void 0:i.textOverflow)==="ellipsis",this.lineClamp=i==null?void 0:i.lineClamp,this.noWrap=(i==null?void 0:i.whiteSpace)==="nowrap"}buildSVG(){let y=this.svgElement,i=y.element,o=y.renderer,l=Sh(y.textStr,"").toString(),d=l.indexOf("<")!==-1,u=i.childNodes,f=!y.added&&o.box,g=[l,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,y.getStyle("font-size"),y.styles.lineClamp,this.width].join(",");if(g!==y.textCache){y.textCache=g,delete y.actualWidth;for(let m=u.length;m--;)i.removeChild(u[m]);if(d||this.ellipsis||this.width||y.textPath||l.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(l))){if(l!==""){f&&f.appendChild(i);let m=new Ut(l);this.modifyTree(m.nodes),m.addToDOM(i),this.modifyDOM(),this.ellipsis&&(i.textContent||"").indexOf("")!==-1&&y.attr("title",this.unescapeEntities(y.textStr||"",["&lt;","&gt;"])),f&&f.removeChild(i)}}else i.appendChild(dl.createTextNode(this.unescapeEntities(l)));rn(this.textOutline)&&y.applyTextOutline&&y.applyTextOutline(this.textOutline)}}modifyDOM(){let y,i=this.svgElement,o=ia(i.element,"x");for(i.firstLineMetrics=void 0;(y=i.element.firstChild)&&/^[\s\u200B]*$/.test(y.textContent||" ");)i.element.removeChild(y);[].forEach.call(i.element.querySelectorAll("tspan.highcharts-br"),(f,g)=>{f.nextSibling&&f.previousSibling&&(g===0&&f.previousSibling.nodeType===1&&(i.firstLineMetrics=i.renderer.fontMetrics(f.previousSibling)),ia(f,{dy:this.getLineHeight(f.nextSibling),x:o}))});let l=this.width||0;if(!l)return;let d=(f,g)=>{var F;let m=f.textContent||"",x=m.replace(/([^\^])-/g,"$1- ").split(" "),_=!this.noWrap&&(x.length>1||i.element.childNodes.length>1),w=this.getLineHeight(g),C=Math.max(0,l-.8*w),j=0,L=i.actualWidth;if(_){let $=[],B=[];for(;g.firstChild&&g.firstChild!==f;)B.push(g.firstChild),g.removeChild(g.firstChild);for(;x.length;)if(x.length&&!this.noWrap&&j>0&&($.push(f.textContent||""),f.textContent=x.join(" ").replace(/- /g,"-")),this.truncate(f,void 0,x,j===0&&L||0,l,C,(G,X)=>x.slice(0,X).join(" ").replace(/- /g,"-")),L=i.actualWidth,j++,this.lineClamp&&j>=this.lineClamp){x.length&&(this.truncate(f,f.textContent||"",void 0,0,l,C,fs),f.textContent=((F=f.textContent)==null?void 0:F.replace("",""))+"");break}B.forEach(G=>{g.insertBefore(G,f)}),$.forEach(G=>{g.insertBefore(dl.createTextNode(G),f);let X=dl.createElementNS(Ks,"tspan");X.textContent="",ia(X,{dy:w,x:o}),g.insertBefore(X,f)})}else this.ellipsis&&m&&this.truncate(f,m,void 0,0,l,C,fs)},u=f=>{[].slice.call(f.childNodes).forEach(g=>{g.nodeType===Br.Node.TEXT_NODE?d(g,f):(g.className.baseVal.indexOf("highcharts-br")!==-1&&(i.actualWidth=0),u(g))})};u(i.element)}getLineHeight(y){let i=y.nodeType===Br.Node.TEXT_NODE?y.parentElement:y;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(i||this.svgElement.element).h}modifyTree(y){let i=(o,l)=>{let{attributes:d={},children:u,style:f={},tagName:g}=o,m=this.renderer.styledMode;if(g==="b"||g==="strong"?m?d.class="highcharts-strong":f.fontWeight="bold":(g==="i"||g==="em")&&(m?d.class="highcharts-emphasized":f.fontStyle="italic"),f!=null&&f.color&&(f.fill=f.color),g==="br"){d.class="highcharts-br",o.textContent="";let x=y[l+1];x!=null&&x.textContent&&(x.textContent=x.textContent.replace(/^ +/gm,""))}else g==="a"&&u&&u.some(x=>x.tagName==="#text")&&(o.children=[{children:u,tagName:"tspan"}]);g!=="#text"&&g!=="a"&&(o.tagName="tspan"),Un(o,{attributes:d,style:f}),u&&u.filter(x=>x.tagName!=="#text").forEach(i)};y.forEach(i),mm(this.svgElement,"afterModifyTree",{nodes:y})}truncate(y,i,o,l,d,u,f){let g,m,x=this.svgElement,{rotation:_}=x,w=[],C=o&&!l?1:0,j=(i||o||"").length,L=j;o||(d=u);let F=function($,B){let G=B||$,X=y.parentNode;if(X&&w[G]===void 0&&X.getSubStringLength)try{w[G]=l+X.getSubStringLength(0,o?G+1:G)}catch{}return w[G]};if(x.rotation=0,l+(m=F(y.textContent.length))>d){for(;C<=j;)L=Math.ceil((C+j)/2),o&&(g=f(o,L)),m=F(L,g&&g.length-1),C===j?C=j+1:m>d?j=L-1:C=L;j===0?y.textContent="":i&&j===i.length-1||(y.textContent=g||f(i||o,L)),this.ellipsis&&m>d&&this.truncate(y,y.textContent||"",void 0,0,d,u,fs)}o&&o.splice(0,L),x.actualWidth=m,x.rotation=_}unescapeEntities(y,i){return vm(this.renderer.escapes,function(o,l){i&&i.indexOf(o)!==-1||(y=y.toString().replace(RegExp(o,"g"),l))}),y}},{defaultOptions:_h}=Oi,{charts:ym,deg2rad:td,doc:Zs,isFirefox:Hn,isMS:Ch,isWebKit:Eh,noop:rd,SVG_NS:bm,symbolSizes:id,win:nn}=J,{addEvent:ul,attr:xn,createElement:yn,crisp:nd,css:Qs,defined:Gn,destroyObjectProperties:sd,extend:Vn,isArray:wm,isNumber:Xn,isObject:Js,isString:Mh,merge:od,pick:ad,pInt:ld,replaceNested:km,uniqueKey:Sm}=Qe;class hl{constructor(i,o,l,d,u,f,g){let m,x;this.x=0,this.y=0;let _=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),w=_.element;g||_.css(this.getStyle(d||{})),i.appendChild(w),xn(i,"dir","ltr"),i.innerHTML.indexOf("xmlns")===-1&&xn(w,"xmlns",this.SVG_NS),this.box=w,this.boxWrapper=_,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Zs.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=f,this.forExport=u,this.styledMode=g,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=_.getStyle("font-size"),this.setSize(o,l,!1),Hn&&i.getBoundingClientRect&&((m=function(){Qs(i,{left:0,top:0}),x=i.getBoundingClientRect(),Qs(i,{left:Math.ceil(x.left)-x.left+"px",top:Math.ceil(x.top)-x.top+"px"})})(),this.unSubPixelFix=ul(nn,"resize",m))}definition(i){return new Ut([i]).addToDOM(this.defs.element)}getReferenceURL(){if((Hn||Eh)&&Zs.getElementsByTagName("base").length){if(!Gn(n)){let i=Sm(),o=new Ut([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:i},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${i})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Zs.body);Qs(o,{position:"fixed",top:0,left:0,zIndex:9e5});let l=Zs.elementFromPoint(6,6);n=(l==null?void 0:l.id)==="hitme",Zs.body.removeChild(o)}if(n)return km(nn.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(i){return this.style=Vn({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},i),this.style}setStyle(i){this.boxWrapper.css(this.getStyle(i))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let i=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),sd(this.gradients||{}),this.gradients=null,this.defs=i.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(i){return new this.Element(this,i)}getRadialAttr(i,o){return{cx:i[0]-i[2]/2+(o.cx||0)*i[2],cy:i[1]-i[2]/2+(o.cy||0)*i[2],r:(o.r||0)*i[2]}}shadowDefinition(i){let o=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(i).map(d=>`${d}-${i[d]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),l=od({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},i);return this.defs.element.querySelector(`#${o}`)||this.definition({tagName:"filter",attributes:{id:o,filterUnits:l.filterUnits},children:this.getShadowFilterContent(l)}),o}getShadowFilterContent(i){return[{tagName:"feDropShadow",attributes:{dx:i.offsetX,dy:i.offsetY,"flood-color":i.color,"flood-opacity":Math.min(5*i.opacity,1),stdDeviation:i.width/2}}]}buildText(i){new xm(i).buildSVG()}getContrast(i){if(i==="transparent")return"#000000";let o=Wt.parse(i).rgba,l=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Xn(o[0])||!Wt.useColorMix){let d=o.map(f=>{let g=f/255;return g<=.04?g/12.92:Math.pow((g+.055)/1.055,2.4)}),u=.2126*d[0]+.7152*d[1]+.0722*d[2];return 1.05/(u+.05)>(u+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+i+" srgb"+l+l+l+")"}button(i,o,l,d,u={},f,g,m,x,_){let w=this.label(i,o,l,x,void 0,void 0,_,void 0,"button"),C=this.styledMode,j=arguments,L=0;u=od(_h.global.buttonTheme,u),C&&(delete u.fill,delete u.stroke,delete u["stroke-width"]);let F=u.states||{},$=u.style||{};delete u.states,delete u.style;let B=[Ut.filterUserAttributes(u)],G=[$];return C||["hover","select","disabled"].forEach((X,pe)=>{B.push(od(B[0],Ut.filterUserAttributes(j[pe+5]||F[X]||{}))),G.push(B[pe+1].style),delete B[pe+1].style}),ul(w.element,Ch?"mouseover":"mouseenter",function(){L!==3&&w.setState(1)}),ul(w.element,Ch?"mouseout":"mouseleave",function(){L!==3&&w.setState(L)}),w.setState=(X=0)=>{if(X!==1&&(w.state=L=X),w.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][X]),!C){w.attr(B[X]);let pe=G[X];Js(pe)&&w.css(pe)}},w.attr(B[0]),!C&&(w.css(Vn({cursor:"default"},$)),_&&w.text.css({pointerEvents:"none"})),w.on("touchstart",X=>X.stopPropagation()).on("click",function(X){L!==3&&(d==null||d.call(w,X))})}crispLine(i,o){let[l,d]=i;return Gn(l[1])&&l[1]===d[1]&&(l[1]=d[1]=nd(l[1],o)),Gn(l[2])&&l[2]===d[2]&&(l[2]=d[2]=nd(l[2],o)),i}path(i){let o=this.styledMode?{}:{fill:"none"};return wm(i)?o.d=i:Js(i)&&Vn(o,i),this.createElement("path").attr(o)}circle(i,o,l){let d=Js(i)?i:i===void 0?{}:{x:i,y:o,r:l},u=this.createElement("circle");return u.xSetter=u.ySetter=function(f,g,m){m.setAttribute("c"+g,f)},u.attr(d)}arc(i,o,l,d,u,f){let g;Js(i)?(o=(g=i).y,l=g.r,d=g.innerR,u=g.start,f=g.end,i=g.x):g={innerR:d,start:u,end:f};let m=this.symbol("arc",i,o,l,l,g);return m.r=l,m}rect(i,o,l,d,u,f){let g=Js(i)?i:i===void 0?{}:{x:i,y:o,r:u,width:Math.max(l||0,0),height:Math.max(d||0,0)},m=this.createElement("rect");return this.styledMode||(f!==void 0&&(g["stroke-width"]=f,Vn(g,m.crisp(g))),g.fill="none"),m.rSetter=function(x,_,w){m.r=x,xn(w,{rx:x,ry:x})},m.rGetter=function(){return m.r||0},m.attr(g)}roundedRect(i){return this.symbol("roundedRect").attr(i)}setSize(i,o,l){this.width=i,this.height=o,this.boxWrapper.animate({width:i,height:o},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:ad(l,!0)?void 0:0}),this.alignElements()}g(i){let o=this.createElement("g");return i?o.attr({class:"highcharts-"+i}):o}image(i,o,l,d,u,f){let g={preserveAspectRatio:"none"};Xn(o)&&(g.x=o),Xn(l)&&(g.y=l),Xn(d)&&(g.width=d),Xn(u)&&(g.height=u);let m=this.createElement("image").attr(g),x=function(_){m.attr({href:i}),f.call(m,_)};if(f){m.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let _=new nn.Image;ul(_,"load",x),_.src=i,_.complete&&x({})}else m.attr({href:i});return m}symbol(i,o,l,d,u,f){var $,B;let g,m,x,_,w=this,C=/^url\((.*?)\)$/,j=C.test(i),L=!j&&(this.symbols[i]?i:"circle"),F=L&&this.symbols[L];if(F)typeof o=="number"&&(m=F.call(this.symbols,o||0,l||0,d||0,u||0,f)),g=this.path(m),w.styledMode||g.attr("fill","none"),Vn(g,{symbolName:L||void 0,x:o,y:l,width:d,height:u}),f&&Vn(g,f);else if(j){x=i.match(C)[1];let G=g=this.image(x);G.imgwidth=ad(f==null?void 0:f.width,($=id[x])==null?void 0:$.width),G.imgheight=ad(f==null?void 0:f.height,(B=id[x])==null?void 0:B.height),_=X=>X.attr({width:X.width,height:X.height}),["width","height"].forEach(X=>{G[`${X}Setter`]=function(pe,de){this[de]=pe;let{alignByTranslate:fe,element:ye,width:me,height:xe,imgwidth:Ne,imgheight:Ae}=this,We=de==="width"?Ne:Ae,Ge=1;f&&f.backgroundSize==="within"&&me&&xe&&Ne&&Ae?(Ge=Math.min(me/Ne,xe/Ae),xn(ye,{width:Math.round(Ne*Ge),height:Math.round(Ae*Ge)})):ye&&We&&ye.setAttribute(de,We),!fe&&Ne&&Ae&&this.translate(((me||0)-Ne*Ge)/2,((xe||0)-Ae*Ge)/2)}}),Gn(o)&&G.attr({x:o,y:l}),G.isImg=!0,G.symbolUrl=i,Gn(G.imgwidth)&&Gn(G.imgheight)?_(G):(G.attr({width:0,height:0}),yn("img",{onload:function(){let X=ym[w.chartIndex];this.width===0&&(Qs(this,{position:"absolute",top:"-999em"}),Zs.body.appendChild(this)),id[x]={width:this.width,height:this.height},G.imgwidth=this.width,G.imgheight=this.height,G.element&&_(G),this.parentNode&&this.parentNode.removeChild(this),w.imgCount--,w.imgCount||!X||X.hasLoaded||X.onload()},src:x}),this.imgCount++)}return g}clipRect(i,o,l,d){return this.rect(i,o,l,d,0)}text(i,o,l,d){let u={};if(d&&(this.allowHTML||!this.forExport))return this.html(i,o,l);u.x=Math.round(o||0),l&&(u.y=Math.round(l)),Gn(i)&&(u.text=i);let f=this.createElement("text").attr(u);return d&&(!this.forExport||this.allowHTML)||(f.xSetter=function(g,m,x){let _=x.getElementsByTagName("tspan"),w=x.getAttribute(m);for(let C=0,j;C<_.length;C++)(j=_[C]).getAttribute(m)===w&&j.setAttribute(m,g);x.setAttribute(m,g)}),f}fontMetrics(i){let o=Xn(i)?i:ld(en.prototype.getStyle.call(i,"font-size")||0),l=o<24?o+3:Math.round(1.2*o),d=Math.round(.8*l);return{h:l,b:d,f:o}}rotCorr(i,o,l){let d=i;return o&&l&&(d=Math.max(d*Math.cos(o*td),4)),{x:-i/3*Math.sin(o*td),y:d}}pathToSegments(i){let o=[],l=[],d={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let u=0;u<i.length;u++)Mh(l[0])&&Xn(i[u])&&l.length===d[l[0].toUpperCase()]&&i.splice(u,0,l[0].replace("M","L").replace("m","l")),typeof i[u]=="string"&&(l.length&&o.push(l.slice(0)),l.length=0),l.push(i[u]);return o.push(l.slice(0)),o}label(i,o,l,d,u,f,g,m,x){return new Wn(this,i,o,l,d,u,f,g,m,x)}alignElements(){this.alignedObjects.forEach(i=>i.align())}}Vn(hl.prototype,{Element:en,SVG_NS:bm,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:kh,draw:rd}),qi.registerRendererType("svg",hl,!0);let{composed:jh,isFirefox:Nh}=J,{attr:Th,css:bn,createElement:_m,defined:Ah,extend:Cm,getAlignFactor:Em,isNumber:sn,pInt:Mm,pushUnique:cd}=Qe;function fl(y,i,o){var d;let l=(d=this.div)==null?void 0:d.style;en.prototype[`${i}Setter`].call(this,y,i,o),l&&(o.style[i]=l[i]=y)}let jm=(y,i)=>{var o;if(!y.div){let l=Th(y.element,"class"),d=y.css,u=_m("div",l?{className:l}:void 0,{position:"absolute",left:`${y.translateX||0}px`,top:`${y.translateY||0}px`,...y.styles,display:y.display,opacity:y.opacity,visibility:y.visibility},((o=y.parentGroup)==null?void 0:o.div)||i);y.classSetter=(f,g,m)=>{m.setAttribute("class",f),u.className=f},y.translateXSetter=y.translateYSetter=(f,g)=>{y[g]=f,u.style[g==="translateX"?"left":"top"]=`${f}px`,y.doTransform=!0},y.scaleXSetter=y.scaleYSetter=(f,g)=>{y[g]=f,y.doTransform=!0},y.opacitySetter=y.visibilitySetter=fl,y.css=f=>(d.call(y,f),f.cursor&&(u.style.cursor=f.cursor),f.pointerEvents&&(u.style.pointerEvents=f.pointerEvents),y),y.on=function(){return en.prototype.on.apply({element:u,onEvents:y.onEvents},arguments),y},y.div=u}return y.div};class ps extends en{static compose(i){cd(jh,this.compose)&&(i.prototype.html=function(o,l,d){return new ps(this,"span").attr({text:o,x:Math.round(l),y:Math.round(d)})})}constructor(i,o){super(i,o),ps.useForeignObject?this.foreignObject=i.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...i.styledMode?{}:{fontFamily:i.style.fontFamily,fontSize:i.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(i,o,l){this.xCorr=-i*l,this.yCorr=-o}css(i){let o,{element:l}=this,d=l.tagName==="SPAN"&&i&&"width"in i,u=d&&i.width;return d&&(delete i.width,this.textWidth=Mm(u)||void 0,o=!0),(i==null?void 0:i.textOverflow)==="ellipsis"&&(i.overflow="hidden",i.whiteSpace="nowrap"),i!=null&&i.lineClamp&&(i.display="-webkit-box",i.WebkitLineClamp=i.lineClamp,i.WebkitBoxOrient="vertical",i.overflow="hidden"),sn(Number(i==null?void 0:i.fontSize))&&(i.fontSize+="px"),Cm(this.styles,i),bn(l,i),o&&this.updateTransform(),this}htmlGetBBox(){let{element:i}=this;return{x:i.offsetLeft,y:i.offsetTop,width:i.offsetWidth,height:i.offsetHeight}}updateTransform(){var G;if(!this.added){this.alignOnAdd=!0;return}let{element:i,foreignObject:o,oldTextWidth:l,renderer:d,rotation:u,rotationOriginX:f,rotationOriginY:g,scaleX:m,scaleY:x,styles:{display:_="inline-block",whiteSpace:w},textAlign:C="left",textWidth:j,translateX:L=0,translateY:F=0,x:$=0,y:B=0}=this;if(o||bn(i,{marginLeft:`${L}px`,marginTop:`${F}px`}),i.tagName==="SPAN"){let X,pe=[u,C,i.innerHTML,j,this.textAlign].join(","),de=-(((G=this.parentGroup)==null?void 0:G.padding)*1)||0;if(j!==l){let xe=this.textPxLength?this.textPxLength:(bn(i,{width:"",whiteSpace:w||"nowrap"}),i.offsetWidth),Ne=j||0,Ae=!d.styledMode&&i.style.textOverflow===""&&i.style.webkitLineClamp;(Ne>l||xe>Ne||Ae)&&(/[\-\s\u00AD]/.test(i.textContent||i.innerText)||i.style.textOverflow==="ellipsis")&&(bn(i,{width:(u||m||xe>Ne||Ae)&&sn(j)?j+"px":"auto",display:_,whiteSpace:w||"normal"}),this.oldTextWidth=j)}o&&(bn(i,{display:"inline-block",verticalAlign:"top"}),o.attr({width:d.width,height:d.height})),pe!==this.cTT&&(X=d.fontMetrics(i).b,Ah(u)&&!o&&(u!==(this.oldRotation||0)||C!==this.oldAlign)&&bn(i,{transform:`rotate(${u}deg)`,transformOrigin:`${de}% ${de}px`}),this.getSpanCorrection(!Ah(u)&&!this.textWidth&&this.textPxLength||i.offsetWidth,X,Em(C)));let{xCorr:fe=0,yCorr:ye=0}=this,me={left:`${$+fe}px`,top:`${B+ye}px`,textAlign:C,transformOrigin:`${(f??$)-fe-$-de}px ${(g??B)-ye-B-de}px`};(m||x)&&(me.transform=`scale(${m??1},${x??1})`),o?(super.updateTransform(),sn($)&&sn(B)?(o.attr({x:$+fe,y:B+ye,width:i.offsetWidth+3,height:i.offsetHeight,"transform-origin":i.getAttribute("transform-origin")||"0 0"}),bn(i,{display:_,textAlign:C})):Nh&&o.attr({width:0,height:0})):bn(i,me),this.cTT=pe,this.oldRotation=u,this.oldAlign=C}}add(i){let{foreignObject:o,renderer:l}=this,d=l.box.parentNode,u=[];if(o)o.add(i),super.add(l.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(o));else{let f;if(this.parentGroup=i,i&&!(f=i.div)){let g=i;for(;g;)u.push(g),g=g.parentGroup;for(let m of u.reverse())f=jm(m,d)}(f||d).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(i){i!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Ut.setElementHTML(this.element,i??""),this.textStr=i,this.doTransform=!0)}alignSetter(i){this.alignValue=this.textAlign=i,this.doTransform=!0}xSetter(i,o){this[o]=i,this.doTransform=!0}}let gs=ps.prototype;gs.visibilitySetter=gs.opacitySetter=fl,gs.ySetter=gs.rotationSetter=gs.rotationOriginXSetter=gs.rotationOriginYSetter=gs.xSetter,function(y){y.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},y.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:i}=this.axis.chart;return i(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(p||(p={}));let Nm=p,{addEvent:Tm,isFunction:Am,objectEach:Pm,removeEvent:Om}=Qe;(v||(v={})).registerEventOptions=function(y,i){y.eventOptions=y.eventOptions||{},Pm(i.events,function(o,l){y.eventOptions[l]!==o&&(y.eventOptions[l]&&(Om(y,l,y.eventOptions[l]),delete y.eventOptions[l]),Am(o)&&(y.eventOptions[l]=o,Tm(y,l,o,{order:0})))})};let pl=v,{deg2rad:dd}=J,{clamp:Rm,correctFloat:gl,defined:ud,destroyObjectProperties:hd,extend:Ph,fireEvent:na,getAlignFactor:Lm,isNumber:ml,merge:Im,objectEach:Oh,pick:Ii}=Qe,eo=class{constructor(y,i,o,l,d){this.isNew=!0,this.isNewLabel=!0,this.axis=y,this.pos=i,this.type=o||"",this.parameters=d||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,na(this,"init"),o||l||this.addLabel()}addLabel(){var ye,me;let y=this,i=y.axis,o=i.options,l=i.chart,d=i.categories,u=i.logarithmic,f=i.names,g=y.pos,m=Ii((ye=y.options)==null?void 0:ye.labels,o.labels),x=i.tickPositions,_=g===x[0],w=g===x[x.length-1],C=(!m.step||m.step===1)&&i.tickInterval===1,j=x.info,L=y.label,F,$,B,G=this.parameters.category||(d?Ii(d[g],f[g],g):g);u&&ml(G)&&(G=gl(u.lin2log(G))),i.dateTime&&(j?F=($=l.time.resolveDTLFormat(o.dateTimeLabelFormats[!((me=o.grid)!=null&&me.enabled)&&j.higherRanks[g]||j.unitName])).main:ml(G)&&(F=i.dateTime.getXDateFormat(G,o.dateTimeLabelFormats||{}))),y.isFirst=_,y.isLast=w;let X={axis:i,chart:l,dateTimeLabelFormat:F,isFirst:_,isLast:w,pos:g,tick:y,tickPositionInfo:j,value:G};na(this,"labelFormat",X);let pe=xe=>m.formatter?m.formatter.call(xe,xe):m.format?(xe.text=i.defaultLabelFormatter.call(xe),sr.format(m.format,xe,l)):i.defaultLabelFormatter.call(xe),de=pe.call(X,X),fe=$==null?void 0:$.list;fe?y.shortenLabel=function(){for(B=0;B<fe.length;B++)if(Ph(X,{dateTimeLabelFormat:fe[B]}),L.attr({text:pe.call(X,X)}),L.getBBox().width<i.getSlotWidth(y)-2*(m.padding||0))return;L.attr({text:""})}:y.shortenLabel=void 0,C&&i._addedPlotLB&&y.moveLabel(de,m),ud(L)||y.movedLabel?L&&L.textStr!==de&&!C&&(!L.textWidth||m.style.width||L.styles.width||L.css({width:null}),L.attr({text:de}),L.textPxLength=L.getBBox().width):(y.label=L=y.createLabel(de,m),y.rotation=0)}createLabel(y,i,o){let l=this.axis,{renderer:d,styledMode:u}=l.chart,f=i.style.whiteSpace,g=ud(y)&&i.enabled?d.text(y,o==null?void 0:o.x,o==null?void 0:o.y,i.useHTML).add(l.labelGroup):void 0;return g&&(u||g.css(Im(i.style)),g.textPxLength=g.getBBox().width,!u&&f&&g.css({whiteSpace:f})),g}destroy(){hd(this,this.axis)}getPosition(y,i,o,l){let d=this.axis,u=d.chart,f=l&&u.oldChartHeight||u.chartHeight,g={x:y?gl(d.translate(i+o,void 0,void 0,l)+d.transB):d.left+d.offset+(d.opposite?(l&&u.oldChartWidth||u.chartWidth)-d.right-d.left:0),y:y?f-d.bottom+d.offset-(d.opposite?d.height:0):gl(f-d.translate(i+o,void 0,void 0,l)-d.transB)};return g.y=Rm(g.y,-1e9,1e9),na(this,"afterGetPosition",{pos:g}),g}getLabelPosition(y,i,o,l,d,u,f,g){let m,x,_=this.axis,w=_.transA,C=_.isLinked&&_.linkedParent?_.linkedParent.reversed:_.reversed,j=_.staggerLines,L=_.tickRotCorr||{x:0,y:0},F=l||_.reserveSpaceDefault?0:-_.labelOffset*(_.labelAlign==="center"?.5:1),$=d.distance,B={};return m=_.side===0?o.rotation?-$:-o.getBBox().height:_.side===2?L.y+$:Math.cos(o.rotation*dd)*(L.y-o.getBBox(!1,0).height/2),ud(d.y)&&(m=_.side===0&&_.horiz?d.y+m:d.y),y=y+Ii(d.x,[0,1,0,-1][_.side]*$)+F+L.x-(u&&l?u*w*(C?-1:1):0),i=i+m-(u&&!l?u*w*(C?1:-1):0),j&&(x=f/(g||1)%j,_.opposite&&(x=j-x-1),i+=x*(_.labelOffset/j)),B.x=y,B.y=Math.round(i),na(this,"afterGetLabelPosition",{pos:B,tickmarkOffset:u,index:f}),B}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(y,i,o,l,d=!1,u){return u.crispLine([["M",y,i],["L",y+(d?0:-o),i+(d?o:0)]],l)}handleOverflow(y){var $;let i=this.axis,o=i.options.labels,l=y.x,d=i.chart.chartWidth,u=i.chart.spacing,f=Ii(i.labelLeft,Math.min(i.pos,u[3])),g=Ii(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,d-u[1])),m=this.label,x=this.rotation,_=Lm(i.labelAlign||m.attr("align")),w=m.getBBox().width,C=i.getSlotWidth(this),j=C,L=1,F;x||o.overflow!=="justify"?x<0&&l-_*w<f?F=Math.round(l/Math.cos(x*dd)-f):x>0&&l+_*w>g&&(F=Math.round((d-l)/Math.cos(x*dd))):(l-_*w<f?j=y.x+j*(1-_)-f:l+(1-_)*w>g&&(j=g-y.x+j*_,L=-1),(j=Math.min(C,j))<C&&i.labelAlign==="center"&&(y.x+=L*(C-j-_*(C-Math.min(w,j)))),(w>j||i.autoRotation&&(($=m==null?void 0:m.styles)!=null&&$.width))&&(F=j)),F&&m&&(this.shortenLabel?this.shortenLabel():m.css(Ph({},{width:Math.floor(F)+"px",lineClamp:+!i.isRadial})))}moveLabel(y,i){let o=this,l=o.label,d=o.axis,u=!1,f;l&&l.textStr===y?(o.movedLabel=l,u=!0,delete o.label):Oh(d.ticks,function(g){u||g.isNew||g===o||!g.label||g.label.textStr!==y||(o.movedLabel=g.label,u=!0,g.labelPos=o.movedLabel.xy,delete g.label)}),!u&&(o.labelPos||l)&&(f=o.labelPos||l.xy,o.movedLabel=o.createLabel(y,i,f),o.movedLabel&&o.movedLabel.attr({opacity:0}))}render(y,i,o){var L;let l=this.axis,d=l.horiz,u=this.pos,f=Ii(this.tickmarkOffset,l.tickmarkOffset),g=this.getPosition(d,u,f,i),m=g.x,x=g.y,_=l.pos,w=_+l.len,C=d?m:x,j=Ii(o,(L=this.label)==null?void 0:L.newOpacity,1);!l.chart.polar&&(gl(C)<_||C>w)&&(o=0),o??(o=1),this.isActive=!0,this.renderGridLine(i,o),this.renderMark(g,o),this.renderLabel(g,i,j,y),this.isNew=!1,na(this,"afterRender")}renderGridLine(y,i){let o=this.axis,l=o.options,d={},u=this.pos,f=this.type,g=Ii(this.tickmarkOffset,o.tickmarkOffset),m=o.chart.renderer,x=this.gridLine,_,w=l.gridLineWidth,C=l.gridLineColor,j=l.gridLineDashStyle;this.type==="minor"&&(w=l.minorGridLineWidth,C=l.minorGridLineColor,j=l.minorGridLineDashStyle),x||(o.chart.styledMode||(d.stroke=C,d["stroke-width"]=w||0,d.dashstyle=j),f||(d.zIndex=1),y&&(i=0),this.gridLine=x=m.path().attr(d).addClass("highcharts-"+(f?f+"-":"")+"grid-line").add(o.gridGroup)),x&&(_=o.getPlotLinePath({value:u+g,lineWidth:x.strokeWidth(),force:"pass",old:y,acrossPanes:!1}))&&x[y||this.isNew?"attr":"animate"]({d:_,opacity:i})}renderMark(y,i){let o=this.axis,l=o.options,d=o.chart.renderer,u=this.type,f=o.tickSize(u?u+"Tick":"tick"),g=y.x,m=y.y,x=Ii(l[u!=="minor"?"tickWidth":"minorTickWidth"],!u&&o.isXAxis?1:0),_=l[u!=="minor"?"tickColor":"minorTickColor"],w=this.mark,C=!w;f&&(o.opposite&&(f[0]=-f[0]),!w&&(this.mark=w=d.path().addClass("highcharts-"+(u?u+"-":"")+"tick").add(o.axisGroup),o.chart.styledMode||w.attr({stroke:_,"stroke-width":x})),w[C?"attr":"animate"]({d:this.getMarkPath(g,m,f[0],w.strokeWidth(),o.horiz,d),opacity:i}))}renderLabel(y,i,o,l){let d=this.axis,u=d.horiz,f=d.options,g=this.label,m=f.labels,x=m.step,_=Ii(this.tickmarkOffset,d.tickmarkOffset),w=y.x,C=y.y,j=!0;g&&ml(w)&&(g.xy=y=this.getLabelPosition(w,C,g,u,m,_,l,x),(!this.isFirst||this.isLast||f.showFirstLabel)&&(!this.isLast||this.isFirst||f.showLastLabel)?!u||m.step||m.rotation||i||o===0||this.handleOverflow(y):j=!1,x&&l%x&&(j=!1),j&&ml(y.y)?(y.opacity=o,g[this.isNewLabel?"attr":"animate"](y).show(!0),this.isNewLabel=!1):(g.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let y=this.label,i=this.axis;y&&!this.isNew&&(y.animate({opacity:0},void 0,y.destroy),delete this.label),i.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:Dm}=jr,{xAxis:Rh,yAxis:Bm}=Nm,{defaultOptions:vl}=Oi,{registerEventOptions:$m}=pl,{deg2rad:zm}=J,{arrayMax:ms,arrayMin:Fm,clamp:fd,correctFloat:br,defined:$t,destroyObjectProperties:Lh,erase:Ih,error:wr,extend:vs,fireEvent:Gt,getClosestDistance:to,insertItem:ei,isArray:Dh,isNumber:dt,isString:Bh,merge:xl,normalizeTickInterval:on,objectEach:sa,pick:bt,relativeLength:oa,removeEvent:ro,splat:$h,syncTimeout:Wm}=Qe,zh=(y,i)=>on(i,void 0,void 0,bt(y.options.allowDecimals,i<.5||y.tickAmount!==void 0),!!y.tickAmount);vs(vl,{xAxis:Rh,yAxis:xl(Rh,Bm)});class xs{constructor(i,o,l){this.init(i,o,l)}init(i,o,l=this.coll){let d=l==="xAxis",u=this.isZAxis||(i.inverted?!d:d);this.chart=i,this.horiz=u,this.isXAxis=d,this.coll=l,Gt(this,"init",{userOptions:o}),this.opposite=bt(o.opposite,this.opposite),this.side=bt(o.side,this.side,u?2*!this.opposite:this.opposite?1:3),this.setOptions(o);let f=this.options,g=f.labels;this.type??(this.type=f.type||"linear"),this.uniqueNames??(this.uniqueNames=f.uniqueNames??!0),Gt(this,"afterSetType"),this.userOptions=o,this.minPixelPadding=0,this.reversed=bt(f.reversed,this.reversed),this.visible=f.visible,this.zoomEnabled=f.zoomEnabled,this.hasNames=this.type==="category"||f.categories===!0,this.categories=Dh(f.categories)&&f.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=$t(f.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=f.minRange||f.maxZoom,this.range=f.range,this.offset=f.offset||0,this.max=void 0,this.min=void 0;let m=bt(f.crosshair,$h(i.options.tooltip.crosshairs)[+!d]);this.crosshair=m===!0?{}:m,i.axes.indexOf(this)===-1&&(d?i.axes.splice(i.xAxis.length,0,this):i.axes.push(this),ei(this,i[this.coll])),i.orderItems(this.coll),this.series=this.series||[],i.inverted&&!this.isZAxis&&d&&!$t(this.reversed)&&(this.reversed=!0),this.labelRotation=dt(g.rotation)?g.rotation:void 0,$m(this,f),Gt(this,"afterInit")}setOptions(i){let o=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=xl(o,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},vl[this.coll],i),Gt(this,"afterSetOptions",{userOptions:i})}defaultLabelFormatter(){let i=this.axis,{numberFormatter:o}=this.chart,l=dt(this.value)?this.value:NaN,d=i.chart.time,u=i.categories,f=this.dateTimeLabelFormat,g=vl.lang,m=g.numericSymbols,x=g.numericSymbolMagnitude||1e3,_=i.logarithmic?Math.abs(l):i.tickInterval,w=m==null?void 0:m.length,C,j;if(u)j=`${this.value}`;else if(f)j=d.dateFormat(f,l,!0);else if(w&&m&&_>=1e3)for(;w--&&j===void 0;)_>=(C=Math.pow(x,w+1))&&10*l%C==0&&m[w]!==null&&l!==0&&(j=o(l/C,-1)+m[w]);return j===void 0&&(j=Math.abs(l)>=1e4?o(l,-1):o(l,-1,void 0,"")),j}getSeriesExtremes(){let i,o=this;Gt(this,"getSeriesExtremes",null,function(){o.hasVisibleSeries=!1,o.dataMin=o.dataMax=o.threshold=void 0,o.softThreshold=!o.isXAxis,o.series.forEach(l=>{if(l.reserveSpace()){let d=l.options,u,f=d.threshold,g,m;if(o.hasVisibleSeries=!0,o.positiveValuesOnly&&0>=(f||0)&&(f=void 0),o.isXAxis)(u=l.getColumn("x")).length&&(u=o.logarithmic?u.filter(x=>x>0):u,g=(i=l.getXExtremes(u)).min,m=i.max,dt(g)||g instanceof Date||(u=u.filter(dt),g=(i=l.getXExtremes(u)).min,m=i.max),u.length&&(o.dataMin=Math.min(bt(o.dataMin,g),g),o.dataMax=Math.max(bt(o.dataMax,m),m)));else{let x=l.applyExtremes();dt(x.dataMin)&&(g=x.dataMin,o.dataMin=Math.min(bt(o.dataMin,g),g)),dt(x.dataMax)&&(m=x.dataMax,o.dataMax=Math.max(bt(o.dataMax,m),m)),$t(f)&&(o.threshold=f),(!d.softThreshold||o.positiveValuesOnly)&&(o.softThreshold=!1)}}})}),Gt(this,"afterGetSeriesExtremes")}translate(i,o,l,d,u,f){var F;let g=this.linkedParent||this,m=d&&g.old?g.old.min:g.min;if(!dt(m))return NaN;let x=g.minPixelPadding,_=(g.isOrdinal||((F=g.brokenAxis)==null?void 0:F.hasBreaks)||g.logarithmic&&u)&&!!g.lin2val,w=1,C=0,j=d&&g.old?g.old.transA:g.transA,L=0;return j||(j=g.transA),l&&(w*=-1,C=g.len),g.reversed&&(w*=-1,C-=w*(g.sector||g.len)),o?(L=(i=i*w+C-x)/j+m,_&&(L=g.lin2val(L))):(_&&(i=g.val2lin(i)),L=w*(i-m)*j+C+w*x+(dt(f)?j*f:0),g.isRadial||(L=br(L))),L}toPixels(i,o){var l;return this.translate(((l=this.chart)==null?void 0:l.time.parse(i))??NaN,!1,!this.horiz,void 0,!0)+(o?0:this.pos)}toValue(i,o){return this.translate(i-(o?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(i){let o=this,l=o.chart,d=o.left,u=o.top,f=i.old,g=i.value,m=i.lineWidth,x=f&&l.oldChartHeight||l.chartHeight,_=f&&l.oldChartWidth||l.chartWidth,w=o.transB,C=i.translatedValue,j=i.force,L,F,$,B,G;function X(de,fe,ye){return j!=="pass"&&(de<fe||de>ye)&&(j?de=fd(de,fe,ye):G=!0),de}let pe={value:g,lineWidth:m,old:f,force:j,acrossPanes:i.acrossPanes,translatedValue:C};return Gt(this,"getPlotLinePath",pe,function(de){L=$=(C=fd(C=bt(C,o.translate(g,void 0,void 0,f)),-1e9,1e9))+w,F=B=x-C-w,dt(C)?o.horiz?(F=u,B=x-o.bottom+(o.options.isInternal?0:l.scrollablePixelsY||0),L=$=X(L,d,d+o.width)):(L=d,$=_-o.right+(l.scrollablePixelsX||0),F=B=X(F,u,u+o.height)):(G=!0,j=!1),de.path=G&&!j?void 0:l.renderer.crispLine([["M",L,F],["L",$,B]],m||1)}),pe.path}getLinearTickPositions(i,o,l){let d,u,f,g=br(Math.floor(o/i)*i),m=br(Math.ceil(l/i)*i),x=[];if(br(g+i)===g&&(f=20),this.single)return[o];for(d=g;d<=m&&(x.push(d),(d=br(d+i,f))!==u);)u=d;return x}getMinorTickInterval(){let{minorTicks:i,minorTickInterval:o}=this.options;return i===!0?bt(o,"auto"):i!==!1?o:void 0}getMinorTickPositions(){var _;let i=this.options,o=this.tickPositions,l=this.minorTickInterval,d=this.pointRangePadding||0,u=(this.min||0)-d,f=(this.max||0)+d,g=(_=this.brokenAxis)!=null&&_.hasBreaks?this.brokenAxis.unitLength:f-u,m=[],x;if(g&&g/l<this.len/3){let w=this.logarithmic;if(w)this.paddedTicks.forEach(function(C,j,L){j&&m.push.apply(m,w.getLogTickPositions(l,L[j-1],L[j],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")m=m.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(l),u,f,i.startOfWeek));else for(x=u+(o[0]-u)%l;x<=f&&x!==m[0];x+=l)m.push(x)}return m.length!==0&&this.trimTicks(m),m}adjustForMinRange(){let i=this.options,o=this.logarithmic,l=this.chart.time,{max:d,min:u,minRange:f}=this,g,m,x,_;this.isXAxis&&f===void 0&&!o&&(f=$t(i.min)||$t(i.max)||$t(i.floor)||$t(i.ceiling)?null:Math.min(5*(to(this.series.map(w=>{let C=w.getColumn("x");return w.xIncrement?C.slice(0,2):C}))||0),this.dataMax-this.dataMin)),dt(d)&&dt(u)&&dt(f)&&d-u<f&&(m=this.dataMax-this.dataMin>=f,g=(f-d+u)/2,x=[u-g,l.parse(i.min)??u-g],m&&(x[2]=o?o.log2lin(this.dataMin):this.dataMin),_=[(u=ms(x))+f,l.parse(i.max)??u+f],m&&(_[2]=o?o.log2lin(this.dataMax):this.dataMax),(d=Fm(_))-u<f&&(x[0]=d-f,x[1]=l.parse(i.min)??d-f,u=ms(x))),this.minRange=f,this.min=u,this.max=d}getClosest(){let i,o;if(this.categories)o=1;else{let l=[];this.series.forEach(function(d){let u=d.closestPointRange,f=d.getColumn("x");f.length===1?l.push(f[0]):d.sorted&&$t(u)&&d.reserveSpace()&&(o=$t(o)?Math.min(o,u):u)}),l.length&&(l.sort((d,u)=>d-u),i=to([l]))}return i&&o?Math.min(i,o):i||o}nameToX(i){let o=Dh(this.options.categories),l=o?this.categories:this.names,d=i.options.x,u;return i.series.requireSorting=!1,$t(d)||(d=this.uniqueNames&&l?o?l.indexOf(i.name):bt(l.keys[i.name],-1):i.series.autoIncrement()),d===-1?!o&&l&&(u=l.length):dt(d)&&(u=d),u!==void 0?(this.names[u]=i.name,this.names.keys[i.name]=u):i.x&&(u=i.x),u}updateNames(){let i=this,o=this.names;o.length>0&&(Object.keys(o.keys).forEach(function(l){delete o.keys[l]}),o.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(l=>{l.xIncrement=null,(!l.points||l.isDirtyData)&&(i.max=Math.max(i.max||0,l.dataTable.rowCount-1),l.processData(),l.generatePoints());let d=l.getColumn("x").slice();l.data.forEach((u,f)=>{let g=d[f];u!=null&&u.options&&u.name!==void 0&&(g=i.nameToX(u))!==void 0&&g!==u.x&&(d[f]=u.x=g)}),l.dataTable.setColumn("x",d)}))}setAxisTranslation(){var C;let i=this,o=i.max-i.min,l=i.linkedParent,d=!!i.categories,u=i.isXAxis,f=i.axisPointRange||0,g,m=0,x=0,_,w=i.transA;(u||d||f)&&(g=i.getClosest(),l?(m=l.minPointOffset,x=l.pointRangePadding):i.series.forEach(function(j){let L=d?1:u?bt(j.options.pointRange,g,0):i.axisPointRange||0,F=j.options.pointPlacement;if(f=Math.max(f,L),!i.single||d){let $=j.is("xrange")?!u:u;m=Math.max(m,$&&Bh(F)?0:L/2),x=Math.max(x,$&&F==="on"?0:L)}}),_=(C=i.ordinal)!=null&&C.slope&&g?i.ordinal.slope/g:1,i.minPointOffset=m*=_,i.pointRangePadding=x*=_,i.pointRange=Math.min(f,i.single&&d?1:o),u&&(i.closestPointRange=g)),i.translationSlope=i.transA=w=i.staticScale||i.len/(o+x||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=w*m,Gt(this,"afterSetAxisTranslation")}minFromRange(){let{max:i,min:o}=this;return dt(i)&&dt(o)&&i-o||void 0}setTickInterval(i){var Je,lt,Ke,ct;let{categories:o,chart:l,dataMax:d,dataMin:u,dateTime:f,isXAxis:g,logarithmic:m,options:x,softThreshold:_}=this,w=l.time,C=dt(this.threshold)?this.threshold:void 0,j=this.minRange||0,{ceiling:L,floor:F,linkedTo:$,softMax:B,softMin:G}=x,X=dt($)&&((Je=l[this.coll])==null?void 0:Je[$]),pe=x.tickPixelInterval,de=x.maxPadding,fe=x.minPadding,ye=0,me,xe=dt(x.tickInterval)&&x.tickInterval>=0?x.tickInterval:void 0,Ne,Ae,We,Ge;if(f||o||X||this.getTickAmount(),We=bt(this.userMin,w.parse(x.min)),Ge=bt(this.userMax,w.parse(x.max)),X?(this.linkedParent=X,me=X.getExtremes(),this.min=bt(me.min,me.dataMin),this.max=bt(me.max,me.dataMax),this.type!==X.type&&wr(11,!0,l)):(_&&$t(C)&&dt(d)&&dt(u)&&(u>=C?(Ne=C,fe=0):d<=C&&(Ae=C,de=0)),this.min=bt(We,Ne,u),this.max=bt(Ge,Ae,d)),dt(this.max)&&dt(this.min)&&(m&&(this.positiveValuesOnly&&!i&&0>=Math.min(this.min,bt(u,this.min))&&wr(10,!0,l),this.min=br(m.log2lin(this.min),16),this.max=br(m.log2lin(this.max),16)),this.range&&dt(u)&&(this.userMin=this.min=We=Math.max(u,this.minFromRange()||0),this.userMax=Ge=this.max,this.range=void 0)),Gt(this,"foundExtremes"),this.adjustForMinRange(),dt(this.min)&&dt(this.max)){if(!dt(this.userMin)&&dt(G)&&G<this.min&&(this.min=We=G),!dt(this.userMax)&&dt(B)&&B>this.max&&(this.max=Ge=B),o||this.axisPointRange||(lt=this.stacking)!=null&&lt.usePercentage||X||(ye=this.max-this.min)&&(!$t(We)&&fe&&(this.min-=ye*fe),!$t(Ge)&&de&&(this.max+=ye*de)),!dt(this.userMin)&&dt(F)&&(this.min=Math.max(this.min,F)),!dt(this.userMax)&&dt(L)&&(this.max=Math.min(this.max,L)),_&&dt(u)&&dt(d)){let wt=C||0;!$t(We)&&this.min<wt&&u>=wt?this.min=x.minRange?Math.min(wt,this.max-j):wt:!$t(Ge)&&this.max>wt&&d<=wt&&(this.max=x.minRange?Math.max(wt,this.min+j):wt)}!l.polar&&this.min>this.max&&($t(x.min)?this.max=this.min:$t(x.max)&&(this.min=this.max)),ye=this.max-this.min}if(this.min!==this.max&&dt(this.min)&&dt(this.max)?X&&!xe&&pe===X.options.tickPixelInterval?this.tickInterval=xe=X.tickInterval:this.tickInterval=bt(xe,this.tickAmount?ye/Math.max(this.tickAmount-1,1):void 0,o?1:ye*pe/Math.max(this.len,pe)):this.tickInterval=1,g&&!i){let wt=this.min!==((Ke=this.old)==null?void 0:Ke.min)||this.max!==((ct=this.old)==null?void 0:ct.max);this.series.forEach(function(jt){var At;jt.forceCrop=(At=jt.forceCropping)==null?void 0:At.call(jt),jt.processData(wt)}),Gt(this,"postProcessData",{hasExtremesChanged:wt})}this.setAxisTranslation(),Gt(this,"initialAxisTranslation"),this.pointRange&&!xe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let rt=bt(x.minTickInterval,f&&!this.series.some(wt=>!wt.sorted)?this.closestPointRange:0);!xe&&rt&&this.tickInterval<rt&&(this.tickInterval=rt),f||m||xe||(this.tickInterval=zh(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var _,w;let i=this.options,o=i.tickPositions,l=i.tickPositioner,d=this.getMinorTickInterval(),u=!this.isPanning,f=u&&i.startOnTick,g=u&&i.endOnTick,m=[],x;if(this.tickmarkOffset=this.categories&&i.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&$t(this.min)&&!this.tickAmount&&(this.min%1==0||i.allowDecimals!==!1),o)m=o.slice();else if(dt(this.min)&&dt(this.max)){if(!((_=this.ordinal)!=null&&_.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))m=[this.min,this.max],wr(19,!1,this.chart);else if(this.dateTime)m=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,(w=this.ordinal)==null?void 0:w.positions,this.closestPointRange,!0);else if(this.logarithmic)m=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let C=this.tickInterval,j=C;for(;j<=2*C&&(m=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&m.length>this.tickAmount);)this.tickInterval=zh(this,j*=1.1)}m.length>this.len&&(m=[m[0],m[m.length-1]])[0]===m[1]&&(m.length=1),l&&(this.tickPositions=m,(x=l.apply(this,[this.min,this.max]))&&(m=x))}this.tickPositions=m,this.minorTickInterval=d==="auto"&&this.tickInterval?this.tickInterval/i.minorTicksPerMajor:d,this.paddedTicks=m.slice(0),this.trimTicks(m,f,g),!this.isLinked&&dt(this.min)&&dt(this.max)&&(this.single&&m.length<2&&!this.categories&&!this.series.some(C=>C.is("heatmap")&&C.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),o||x||this.adjustTickAmount()),Gt(this,"afterSetTickPositions")}trimTicks(i,o,l){let d=i[0],u=i[i.length-1],f=!this.isOrdinal&&this.minPointOffset||0;if(Gt(this,"trimTicks"),!this.isLinked||!this.grid){if(o&&d!==-1/0)this.min=d;else for(;this.min-f>i[0];)i.shift();if(l)this.max=u;else for(;this.max+f<i[i.length-1];)i.pop();i.length===0&&$t(d)&&!this.options.tickPositions&&i.push((u+d)/2)}}alignToOthers(){let i,o=this,l=o.chart,d=[this],u=o.options,f=l.options.chart,g=this.coll==="yAxis"&&f.alignThresholds,m=[];if(o.thresholdAlignment=void 0,(f.alignTicks!==!1&&u.alignTicks||g)&&u.startOnTick!==!1&&u.endOnTick!==!1&&!o.logarithmic){let x=w=>{let{horiz:C,options:j}=w;return[C?j.left:j.top,j.width,j.height,j.pane].join(",")},_=x(this);l[this.coll].forEach(function(w){let{series:C}=w;C.length&&C.some(j=>j.visible)&&w!==o&&x(w)===_&&(i=!0,d.push(w))})}if(i&&g){d.forEach(_=>{let w=_.getThresholdAlignment(o);dt(w)&&m.push(w)});let x=m.length>1?m.reduce((_,w)=>_+=w,0)/m.length:void 0;d.forEach(_=>{_.thresholdAlignment=x})}return i}getThresholdAlignment(i){if((!dt(this.dataMin)||this!==i&&this.series.some(o=>o.isDirty||o.isDirtyData))&&this.getSeriesExtremes(),dt(this.threshold)){let o=fd((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(o=1-o),o}}getTickAmount(){let i=this.options,o=i.tickPixelInterval,l=i.tickAmount;$t(i.tickInterval)||l||!(this.len<o)||this.isRadial||this.logarithmic||!i.startOnTick||!i.endOnTick||(l=2),!l&&this.alignToOthers()&&(l=Math.ceil(this.len/o)+1),l<4&&(this.finalTickAmt=l,l=5),this.tickAmount=l}adjustTickAmount(){let i=this,{finalTickAmt:o,max:l,min:d,options:u,tickPositions:f,tickAmount:g,thresholdAlignment:m}=i,x=f==null?void 0:f.length,_=bt(i.threshold,i.softThreshold?0:null),w,C,j=i.tickInterval,L,F=()=>f.push(br(f[f.length-1]+j)),$=()=>f.unshift(br(f[0]-j));if(dt(m)&&(L=m<.5?Math.ceil(m*(g-1)):Math.floor(m*(g-1)),u.reversed&&(L=g-1-L)),i.hasData()&&dt(d)&&dt(l)){let B=()=>{i.transA*=(x-1)/(g-1),i.min=u.startOnTick?f[0]:Math.min(d,f[0]),i.max=u.endOnTick?f[f.length-1]:Math.max(l,f[f.length-1])};if(dt(L)&&dt(i.threshold)){for(;f[L]!==_||f.length!==g||f[0]>d||f[f.length-1]<l;){for(f.length=0,f.push(i.threshold);f.length<g;)f[L]===void 0||f[L]>i.threshold?$():F();if(j>8*i.tickInterval)break;j*=2}B()}else if(x<g){for(;f.length<g;)f.length%2||d===_?F():$();B()}if($t(o)){for(C=w=f.length;C--;)(o===3&&C%2==1||o<=2&&C>0&&C<w-1)&&f.splice(C,1);i.finalTickAmt=void 0}}}setScale(){var f,g,m,x,_;let{coll:i,stacking:o}=this,l=!1,d=!1;this.series.forEach(w=>{var C;l=l||w.isDirtyData||w.isDirty,d=d||((C=w.xAxis)==null?void 0:C.isDirty)||!1}),this.setAxisSize();let u=this.len!==((f=this.old)==null?void 0:f.len);u||l||d||this.isLinked||this.forceRedraw||this.userMin!==((g=this.old)==null?void 0:g.userMin)||this.userMax!==((m=this.old)==null?void 0:m.userMax)||this.alignToOthers()?(o&&i==="yAxis"&&o.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),o&&i==="xAxis"&&o.buildStacks(),this.isDirty||(this.isDirty=u||this.min!==((x=this.old)==null?void 0:x.min)||this.max!==((_=this.old)==null?void 0:_.max))):o&&o.cleanStacks(),l&&delete this.allExtremes,Gt(this,"afterSetScale")}setExtremes(i,o,l=!0,d,u){let f=this.chart;this.series.forEach(g=>{delete g.kdTree}),i=f.time.parse(i),o=f.time.parse(o),Gt(this,"setExtremes",u=vs(u,{min:i,max:o}),g=>{this.userMin=g.min,this.userMax=g.max,this.eventArgs=g,l&&f.redraw(d)})}setAxisSize(){let i=this.chart,o=this.options,l=o.offsets||[0,0,0,0],d=this.horiz,u=this.width=Math.round(oa(bt(o.width,i.plotWidth-l[3]+l[1]),i.plotWidth)),f=this.height=Math.round(oa(bt(o.height,i.plotHeight-l[0]+l[2]),i.plotHeight)),g=this.top=Math.round(oa(bt(o.top,i.plotTop+l[0]),i.plotHeight,i.plotTop)),m=this.left=Math.round(oa(bt(o.left,i.plotLeft+l[3]),i.plotWidth,i.plotLeft));this.bottom=i.chartHeight-f-g,this.right=i.chartWidth-u-m,this.len=Math.max(d?u:f,0),this.pos=d?m:g}getExtremes(){let i=this.logarithmic;return{min:i?br(i.lin2log(this.min)):this.min,max:i?br(i.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(i){let o=this.logarithmic,l=o?o.lin2log(this.min):this.min,d=o?o.lin2log(this.max):this.max;return i===null||i===-1/0?i=l:i===1/0?i=d:l>i?i=l:d<i&&(i=d),this.translate(i,0,1,0,1)}autoLabelAlign(i){let o=(bt(i,0)-90*this.side+720)%360,l={align:"center"};return Gt(this,"autoLabelAlign",l,function(d){o>15&&o<165?d.align="right":o>195&&o<345&&(d.align="left")}),l.align}tickSize(i){let o=this.options,l=bt(o[i==="tick"?"tickWidth":"minorTickWidth"],i==="tick"&&this.isXAxis&&!this.categories?1:0),d=o[i==="tick"?"tickLength":"minorTickLength"],u;l&&d&&(o[i+"Position"]==="inside"&&(d=-d),u=[d,l]);let f={tickSize:u};return Gt(this,"afterTickSize",f),f.tickSize}labelMetrics(){let i=this.chart.renderer,o=this.ticks,l=o[Object.keys(o)[0]]||{};return this.chart.renderer.fontMetrics(l.label||l.movedLabel||i.box)}unsquish(){let i=this.options.labels,o=i.padding||0,l=this.horiz,d=this.tickInterval,u=this.len/((+!!this.categories+this.max-this.min)/d),f=i.rotation,g=br(.8*this.labelMetrics().h),m=Math.max(this.max-this.min,0),x=function(L){let F=(L+2*o)/(u||1);return(F=F>1?Math.ceil(F):1)*d>m&&L!==1/0&&u!==1/0&&m&&(F=Math.ceil(m/d)),br(F*d)},_=d,w,C=Number.MAX_VALUE,j;if(l){if(!i.staggerLines&&(dt(f)?j=[f]:u<i.autoRotationLimit&&(j=i.autoRotation)),j){let L,F;for(let $ of j)($===f||$&&$>=-90&&$<=90)&&(F=(L=x(Math.abs(g/Math.sin(zm*$))))+Math.abs($/360))<C&&(C=F,w=$,_=L)}}else _=x(.75*g);return this.autoRotation=j,this.labelRotation=bt(w,dt(f)?f:0),i.step?d:_}getSlotWidth(i){let o=this.chart,l=this.horiz,d=this.options.labels,u=Math.max(this.tickPositions.length-!this.categories,1),f=o.margin[3];if(i&&dt(i.slotWidth))return i.slotWidth;if(l&&d.step<2&&!this.isRadial)return d.rotation?0:(this.staggerLines||1)*this.len/u;if(!l){let g=d.style.width;if(g!==void 0)return parseInt(String(g),10);if(!this.opposite&&f)return f-o.spacing[3]}return .33*o.chartWidth}renderUnsquish(){let i=this.chart,o=i.renderer,l=this.tickPositions,d=this.ticks,u=this.options.labels,f=u.style,g=this.horiz,m=this.getSlotWidth(),x=Math.max(1,Math.round(m-(g?2*(u.padding||0):u.distance||0))),_={},w=this.labelMetrics(),C=f.lineClamp,j,L=C??(Math.floor(this.len/(l.length*w.h))||1),F=0;Bh(u.rotation)||(_.rotation=u.rotation||0),l.forEach(function($){var X;let B=d[$];B.movedLabel&&B.replaceMovedLabel();let G=((X=B.label)==null?void 0:X.textPxLength)||0;G>F&&(F=G)}),this.maxLabelLength=F,this.autoRotation?F>x&&F>w.h?_.rotation=this.labelRotation:this.labelRotation=0:m&&(j=x),_.rotation&&(j=F>.5*i.chartHeight?.33*i.chartHeight:F,C||(L=1)),this.labelAlign=u.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(_.align=this.labelAlign),l.forEach(function($){let B=d[$],G=B==null?void 0:B.label,X=f.width,pe={};G&&(G.attr(_),B.shortenLabel?B.shortenLabel():j&&!X&&f.whiteSpace!=="nowrap"&&(j<(G.textPxLength||0)||G.element.tagName==="SPAN")?G.css(vs(pe,{width:`${j}px`,lineClamp:L})):!G.styles.width||pe.width||X||G.css({width:"auto"}),B.rotation=_.rotation)},this),this.tickRotCorr=o.rotCorr(w.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(i){return i.hasData()})||this.options.showEmpty&&$t(this.min)&&$t(this.max)}addTitle(i){let o,l=this.chart.renderer,d=this.horiz,u=this.opposite,f=this.options.title,g=this.chart.styledMode;this.axisTitle||((o=f.textAlign)||(o=(d?{low:"left",middle:"center",high:"right"}:{low:u?"right":"left",middle:"center",high:u?"left":"right"})[f.align]),this.axisTitle=l.text(f.text||"",0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:o}).addClass("highcharts-axis-title"),g||this.axisTitle.css(xl(f.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),g||f.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[i?"show":"hide"](i)}generateTick(i){let o=this.ticks;o[i]?o[i].addLabel():o[i]=new eo(this,i)}createGroups(){let{axisParent:i,chart:o,coll:l,options:d}=this,u=o.renderer,f=(g,m,x)=>u.g(g).attr({zIndex:x}).addClass(`highcharts-${l.toLowerCase()}${m} `+(this.isRadial?`highcharts-radial-axis${m} `:"")+(d.className||"")).add(i);this.axisGroup||(this.gridGroup=f("grid","-grid",d.gridZIndex),this.axisGroup=f("axis","",d.zIndex),this.labelGroup=f("axis-labels","-labels",d.labels.zIndex))}getOffset(){let i=this,{chart:o,horiz:l,options:d,side:u,ticks:f,tickPositions:g,coll:m}=i,x=o.inverted&&!i.isZAxis?[1,0,3,2][u]:u,_=i.hasData(),w=d.title,C=d.labels,j=dt(d.crossing),L=o.axisOffset,F=o.clipOffset,$=[-1,1,1,-1][u],B,G=0,X,pe=0,de=0,fe,ye;if(i.showAxis=B=_||d.showEmpty,i.staggerLines=i.horiz&&C.staggerLines||void 0,i.createGroups(),_||i.isLinked?(g.forEach(function(me){i.generateTick(me)}),i.renderUnsquish(),i.reserveSpaceDefault=u===0||u===2||{1:"left",3:"right"}[u]===i.labelAlign,bt(C.reserveSpace,!j&&null,i.labelAlign==="center"||null,i.reserveSpaceDefault)&&g.forEach(function(me){de=Math.max(f[me].getLabelSize(),de)}),i.staggerLines&&(de*=i.staggerLines),i.labelOffset=de*(i.opposite?-1:1)):sa(f,function(me,xe){me.destroy(),delete f[xe]}),w!=null&&w.text&&w.enabled!==!1&&(i.addTitle(B),B&&!j&&w.reserveSpace!==!1&&(i.titleOffset=G=i.axisTitle.getBBox()[l?"height":"width"],pe=$t(X=w.offset)?0:bt(w.margin,l?5:10))),i.renderLine(),i.offset=$*bt(d.offset,L[u]?L[u]+(d.margin||0):0),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},ye=u===0?-i.labelMetrics().h:u===2?i.tickRotCorr.y:0,fe=Math.abs(de)+pe,de&&(fe-=ye,fe+=$*(l?bt(C.y,i.tickRotCorr.y+$*C.distance):bt(C.x,$*C.distance))),i.axisTitleMargin=bt(X,fe),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(f,g)),m!=="colorAxis"&&F){let me=this.tickSize("tick");L[u]=Math.max(L[u],(i.axisTitleMargin||0)+G+$*i.offset,fe,g!=null&&g.length&&me?me[0]+$*i.offset:0);let xe=!i.axisLine||d.offset?0:i.axisLine.strokeWidth()/2;F[x]=Math.max(F[x],xe)}Gt(this,"afterGetOffset")}getLinePath(i){let o=this.chart,l=this.opposite,d=this.offset,u=this.horiz,f=this.left+(l?this.width:0)+d,g=o.chartHeight-this.bottom-(l?this.height:0)+d;return l&&(i*=-1),o.renderer.crispLine([["M",u?this.left:f,u?g:this.top],["L",u?o.chartWidth-this.right:f,u?g:o.chartHeight-this.bottom]],i)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(i){let o=this.horiz,l=this.left,d=this.top,u=this.len,f=this.options.title,g=o?l:d,m=this.opposite,x=this.offset,_=f.x,w=f.y,C=this.chart.renderer.fontMetrics(i),j=i?Math.max(i.getBBox(!1,0).height-C.h-1,0):0,L={low:g+(o?0:u),middle:g+u/2,high:g+(o?u:0)}[f.align],F=(o?d+this.height:l)+(o?1:-1)*(m?-1:1)*(this.axisTitleMargin||0)+[-j,j,C.f,-j][this.side],$={x:o?L+_:F+(m?this.width:0)+x+_,y:o?F+w-(m?this.height:0)+x:L+w};return Gt(this,"afterGetTitlePosition",{titlePosition:$}),$}renderMinorTick(i,o){let l=this.minorTicks;l[i]||(l[i]=new eo(this,i,"minor")),o&&l[i].isNew&&l[i].render(null,!0),l[i].render(null,!1,1)}renderTick(i,o,l){var f;let d=this.isLinked,u=this.ticks;(!d||i>=this.min&&i<=this.max||(f=this.grid)!=null&&f.isColumn)&&(u[i]||(u[i]=new eo(this,i)),l&&u[i].isNew&&u[i].render(o,!0,-1),u[i].render(o))}render(){let i,o,l=this,d=l.chart,u=l.logarithmic,f=d.renderer,g=l.options,m=l.isLinked,x=l.tickPositions,_=l.axisTitle,w=l.ticks,C=l.minorTicks,j=l.alternateBands,L=g.stackLabels,F=g.alternateGridColor,$=g.crossing,B=l.tickmarkOffset,G=l.axisLine,X=l.showAxis,pe=Dm(f.globalAnimation);if(l.labelEdge.length=0,l.overlap=!1,[w,C,j].forEach(function(de){sa(de,function(fe){fe.isActive=!1})}),dt($)){let de=this.isXAxis?d.yAxis[0]:d.xAxis[0],fe=[1,-1,-1,1][this.side];if(de){let ye=de.toPixels($,!0);l.horiz&&(ye=de.len-ye),l.offset=fe*ye}}if(l.hasData()||m){let de=l.chart.hasRendered&&l.old&&dt(l.old.min);l.minorTickInterval&&!l.categories&&l.getMinorTickPositions().forEach(function(fe){l.renderMinorTick(fe,de)}),x.length&&(x.forEach(function(fe,ye){l.renderTick(fe,ye,de)}),B&&(l.min===0||l.single)&&(w[-1]||(w[-1]=new eo(l,-1,null,!0)),w[-1].render(-1))),F&&x.forEach(function(fe,ye){o=x[ye+1]!==void 0?x[ye+1]+B:l.max-B,ye%2==0&&fe<l.max&&o<=l.max+(d.polar?-B:B)&&(j[fe]||(j[fe]=new J.PlotLineOrBand(l,{})),i=fe+B,j[fe].options={from:u?u.lin2log(i):i,to:u?u.lin2log(o):o,color:F,className:"highcharts-alternate-grid"},j[fe].render(),j[fe].isActive=!0)}),l._addedPlotLB||(l._addedPlotLB=!0,(g.plotLines||[]).concat(g.plotBands||[]).forEach(function(fe){l.addPlotBandOrLine(fe)}))}[w,C,j].forEach(function(de){let fe=[],ye=pe.duration;sa(de,function(me,xe){me.isActive||(me.render(xe,!1,0),me.isActive=!1,fe.push(xe))}),Wm(function(){let me=fe.length;for(;me--;)de[fe[me]]&&!de[fe[me]].isActive&&(de[fe[me]].destroy(),delete de[fe[me]])},de!==j&&d.hasRendered&&ye?ye:0)}),G&&(G[G.isPlaced?"animate":"attr"]({d:this.getLinePath(G.strokeWidth())}),G.isPlaced=!0,G[X?"show":"hide"](X)),_&&X&&(_[_.isNew?"attr":"animate"](l.getTitlePosition(_)),_.isNew=!1),L!=null&&L.enabled&&l.stacking&&l.stacking.renderStackTotals(),l.old={len:l.len,max:l.max,min:l.min,transA:l.transA,userMax:l.userMax,userMin:l.userMin},l.isDirty=!1,Gt(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(i){i.render()})),this.series.forEach(function(i){i.isDirty=!0})}getKeepProps(){return this.keepProps||xs.keepProps}destroy(i){let o=this,l=o.plotLinesAndBands,d=this.eventOptions;if(Gt(this,"destroy",{keepEvents:i}),i||ro(o),[o.ticks,o.minorTicks,o.alternateBands].forEach(function(u){Lh(u)}),l){let u=l.length;for(;u--;)l[u].destroy()}for(let u in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(f){o[f]&&(o[f]=o[f].destroy())}),o.plotLinesAndBandsGroups)o.plotLinesAndBandsGroups[u]=o.plotLinesAndBandsGroups[u].destroy();sa(o,function(u,f){o.getKeepProps().indexOf(f)===-1&&delete o[f]}),this.eventOptions=d}drawCrosshair(i,o){var w;let l=this.crosshair,d=(l==null?void 0:l.snap)??!0,u=this.chart,f,g,m,x=this.cross,_;if(Gt(this,"drawCrosshair",{e:i,point:o}),i||(i=(w=this.cross)==null?void 0:w.e),l&&($t(o)||!d)!==!1){if(d?$t(o)&&(g=bt(this.coll!=="colorAxis"?o.crosshairPos:null,this.isXAxis?o.plotX:this.len-o.plotY)):g=i&&(this.horiz?i.chartX-this.pos:this.len-i.chartY+this.pos),$t(g)&&(_={value:o&&(this.isXAxis?o.x:bt(o.stackY,o.y)),translatedValue:g},u.polar&&vs(_,{isCrosshair:!0,chartX:i==null?void 0:i.chartX,chartY:i==null?void 0:i.chartY,point:o}),f=this.getPlotLinePath(_)||null),!$t(f))return void this.hideCrosshair();m=this.categories&&!this.isRadial,x||(this.cross=x=u.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(m?"category ":"thin ")+(l.className||"")).attr({zIndex:bt(l.zIndex,2)}).add(),!u.styledMode&&(x.attr({stroke:l.color||(m?Wt.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":bt(l.width,1)}).css({"pointer-events":"none"}),l.dashStyle&&x.attr({dashstyle:l.dashStyle}))),x.show().attr({d:f}),m&&!l.width&&x.attr({"stroke-width":this.transA}),this.cross.e=i}else this.hideCrosshair();Gt(this,"afterDrawCrosshair",{e:i,point:o})}hideCrosshair(){this.cross&&this.cross.hide(),Gt(this,"afterHideCrosshair")}update(i,o){let l=this.chart;i=xl(this.userOptions,i),this.destroy(!0),this.init(l,i),l.isDirtyBox=!0,bt(o,!0)&&l.redraw()}remove(i){let o=this.chart,l=this.coll,d=this.series,u=d.length;for(;u--;)d[u]&&d[u].remove(!1);Ih(o.axes,this),Ih(o[l]||[],this),o.orderItems(l),this.destroy(),o.isDirtyBox=!0,bt(i,!0)&&o.redraw()}setTitle(i,o){this.update({title:i},o)}setCategories(i,o){this.update({categories:i},o)}}xs.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Fh,getMagnitude:Um,normalizeTickInterval:Hm,timeUnits:yl}=Qe;(function(y){function i(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function o(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new l(this))}y.compose=function(d){return d.keepProps.includes("dateTime")||(d.keepProps.push("dateTime"),d.prototype.getTimeTicks=i,Fh(d,"afterSetType",o)),d};class l{constructor(u){this.axis=u}normalizeTimeTickInterval(u,f){let g=f||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],m=g[g.length-1],x=yl[m[0]],_=m[1],w;for(w=0;w<g.length&&(x=yl[(m=g[w])[0]],_=m[1],!g[w+1]||!(u<=(x*_[_.length-1]+yl[g[w+1][0]])/2));w++);x===yl.year&&u<5*x&&(_=[1,2,5]);let C=Hm(u/x,_,m[0]==="year"?Math.max(Um(u/x),1):1);return{unitRange:x,count:C,unitName:m[0]}}getXDateFormat(u,f){let{axis:g}=this,m=g.chart.time;return g.closestPointRange?m.getDateFormat(g.closestPointRange,u,g.options.startOfWeek,f)||m.resolveDTLFormat(f.year).main:m.resolveDTLFormat(f.day).main}}y.Additions=l})(b||(b={}));let Gm=b,{addEvent:Wh,normalizeTickInterval:Vm,pick:Xm}=Qe;(function(y){function i(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new l(this))}function o(){let d=this.logarithmic;d&&(this.lin2val=function(u){return d.lin2log(u)},this.val2lin=function(u){return d.log2lin(u)})}y.compose=function(d){return d.keepProps.includes("logarithmic")||(d.keepProps.push("logarithmic"),Wh(d,"afterSetType",i),Wh(d,"afterInit",o)),d};class l{constructor(u){this.axis=u}getLogTickPositions(u,f,g,m){let x=this.axis,_=x.len,w=x.options,C=[];if(m||(this.minorAutoInterval=void 0),u>=.5)u=Math.round(u),C=x.getLinearTickPositions(u,f,g);else if(u>=.08){let j,L,F,$,B,G,X,pe=Math.floor(f);for(j=u>.3?[1,2,4]:u>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],L=pe;L<g+1&&!X;L++)for(F=0,$=j.length;F<$&&!X;F++)(B=this.log2lin(this.lin2log(L)*j[F]))>f&&(!m||G<=g)&&G!==void 0&&C.push(G),G>g&&(X=!0),G=B}else{let j=this.lin2log(f),L=this.lin2log(g),F=m?x.getMinorTickInterval():w.tickInterval,$=w.tickPixelInterval/(m?5:1),B=m?_/x.tickPositions.length:_;u=Vm(u=Xm(F==="auto"?null:F,this.minorAutoInterval,(L-j)*$/(B||1))),C=x.getLinearTickPositions(u,j,L).map(this.log2lin),m||(this.minorAutoInterval=u/5)}return m||(x.tickInterval=u),C}lin2log(u){return Math.pow(10,u)}log2lin(u){return Math.log(u)/Math.LN10}}y.Additions=l})(S||(S={}));let bl=S,{erase:Ym,extend:Uh,isNumber:wl}=Qe;(function(y){let i;function o(x){return this.addPlotBandOrLine(x,"plotBands")}function l(x,_){let w=this.userOptions,C=new i(this,x);if(this.visible&&(C=C.render()),C){if(this._addedPlotLB||(this._addedPlotLB=!0,(w.plotLines||[]).concat(w.plotBands||[]).forEach(j=>{this.addPlotBandOrLine(j)})),_){let j=w[_]||[];j.push(x),w[_]=j}this.plotLinesAndBands.push(C)}return C}function d(x){return this.addPlotBandOrLine(x,"plotLines")}function u(x,_,w){w=w||this.options;let C=this.getPlotLinePath({value:_,force:!0,acrossPanes:w.acrossPanes}),j=[],L=this.horiz,F=!wl(this.min)||!wl(this.max)||x<this.min&&_<this.min||x>this.max&&_>this.max,$=this.getPlotLinePath({value:x,force:!0,acrossPanes:w.acrossPanes}),B,G=1,X;if($&&C)for(F&&(X=$.toString()===C.toString(),G=0),B=0;B<$.length;B+=2){let pe=$[B],de=$[B+1],fe=C[B],ye=C[B+1];(pe[0]==="M"||pe[0]==="L")&&(de[0]==="M"||de[0]==="L")&&(fe[0]==="M"||fe[0]==="L")&&(ye[0]==="M"||ye[0]==="L")&&(L&&fe[1]===pe[1]?(fe[1]+=G,ye[1]+=G):L||fe[2]!==pe[2]||(fe[2]+=G,ye[2]+=G),j.push(["M",pe[1],pe[2]],["L",de[1],de[2]],["L",ye[1],ye[2]],["L",fe[1],fe[2]],["Z"])),j.isFlat=X}return j}function f(x){this.removePlotBandOrLine(x)}function g(x){let _=this.plotLinesAndBands,w=this.options,C=this.userOptions;if(_){let j=_.length;for(;j--;)_[j].id===x&&_[j].destroy();[w.plotLines||[],C.plotLines||[],w.plotBands||[],C.plotBands||[]].forEach(function(L){var F;for(j=L.length;j--;)((F=L[j])==null?void 0:F.id)===x&&Ym(L,L[j])})}}function m(x){this.removePlotBandOrLine(x)}y.compose=function(x,_){let w=_.prototype;return w.addPlotBand||(i=x,Uh(w,{addPlotBand:o,addPlotLine:d,addPlotBandOrLine:l,getPlotBandPath:u,removePlotBand:f,removePlotLine:m,removePlotBandOrLine:g})),_}})(E||(E={}));let aa=E,{addEvent:Hh,arrayMax:Gh,arrayMin:bi,defined:wi,destroyObjectProperties:qm,erase:Km,fireEvent:Zm,merge:Vh,objectEach:Xh,pick:Qm}=Qe;class kl{static compose(i,o){return Hh(i,"afterInit",function(){this.labelCollectors.push(()=>{var d;let l=[];for(let u of this.axes)for(let{label:f,options:g}of u.plotLinesAndBands)f&&!((d=g==null?void 0:g.label)!=null&&d.allowOverlap)&&l.push(f);return l})}),aa.compose(kl,o)}constructor(i,o){this.axis=i,this.options=o,this.id=o.id}render(){Zm(this,"render");let{axis:i,options:o}=this,{horiz:l,logarithmic:d}=i,{color:u,events:f,zIndex:g=0}=o,{renderer:m,time:x}=i.chart,_={},w=x.parse(o.to),C=x.parse(o.from),j=x.parse(o.value),L=o.borderWidth,F=o.label,{label:$,svgElem:B}=this,G=[],X,pe=wi(C)&&wi(w),de=wi(j),fe=!B,ye={class:"highcharts-plot-"+(pe?"band ":"line ")+(o.className||"")},me=pe?"bands":"lines";if(!i.chart.styledMode&&(de?(ye.stroke=u||"#999999",ye["stroke-width"]=Qm(o.width,1),o.dashStyle&&(ye.dashstyle=o.dashStyle)):pe&&(ye.fill=u||"#e6e9ff",L&&(ye.stroke=o.borderColor,ye["stroke-width"]=L))),_.zIndex=g,me+="-"+g,(X=i.plotLinesAndBandsGroups[me])||(i.plotLinesAndBandsGroups[me]=X=m.g("plot-"+me).attr(_).add()),B||(this.svgElem=B=m.path().attr(ye).add(X)),wi(j))G=i.getPlotLinePath({value:(d==null?void 0:d.log2lin(j))??j,lineWidth:B.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!(wi(C)&&wi(w)))return;G=i.getPlotBandPath((d==null?void 0:d.log2lin(C))??C,(d==null?void 0:d.log2lin(w))??w,o)}return!this.eventsAdded&&f&&(Xh(f,(xe,Ne)=>{B==null||B.on(Ne,Ae=>{f[Ne].apply(this,[Ae])})}),this.eventsAdded=!0),(fe||!B.d)&&(G!=null&&G.length)?B.attr({d:G}):B&&(G?(B.show(),B.animate({d:G})):B.d&&(B.hide(),$&&(this.label=$=$.destroy()))),F&&(wi(F.text)||wi(F.formatter))&&(G!=null&&G.length)&&i.width>0&&i.height>0&&!G.isFlat?(F=Vh({align:l&&pe?"center":void 0,x:l?!pe&&4:10,verticalAlign:!l&&pe?"middle":void 0,y:l?pe?16:10:pe?6:-4,rotation:l&&!pe?90:0,...pe?{inside:!0}:{}},F),this.renderLabel(F,G,pe,g)):$&&$.hide(),this}renderLabel(i,o,l,d){var L,F,$;let u=this.axis,f=u.chart.renderer,g=i.inside,m=this.label;m||(this.label=m=f.text(this.getLabelText(i),0,0,i.useHTML).attr({align:i.textAlign||i.align,rotation:i.rotation,class:"highcharts-plot-"+(l?"band":"line")+"-label "+(i.className||""),zIndex:d}),u.chart.styledMode||m.css(Vh({color:(F=(L=u.chart.options.title)==null?void 0:L.style)==null?void 0:F.color,fontSize:"0.8em",textOverflow:l&&!g?"":"ellipsis"},i.style)),m.add());let x=o.xBounds||[o[0][1],o[1][1],l?o[2][1]:o[0][1]],_=o.yBounds||[o[0][2],o[1][2],l?o[2][2]:o[0][2]],w=bi(x),C=bi(_),j=Gh(x)-w;m.align(i,!1,{x:w,y:C,width:j,height:Gh(_)-C}),m.alignAttr.y-=f.fontMetrics(m).b,(!m.alignValue||m.alignValue==="left"||wi(g))&&m.css({width:((($=i.style)==null?void 0:$.width)||(l&&g?j:m.rotation===90?u.height-(m.alignAttr.y-u.top):(i.clip?u.width:u.chart.chartWidth)-(m.alignAttr.x-u.left)))+"px"}),m.show(!0)}getLabelText(i){return wi(i.formatter)?i.formatter.call(this):i.text}destroy(){Km(this.axis.plotLinesAndBands,this),delete this.axis,qm(this)}}let{animObject:Yh}=jr,{format:qh}=sr,{composed:Kh,dateFormats:Jm,doc:Zh,isSafari:ev}=J,{distribute:tv}=us,{addEvent:rv,clamp:io,css:Qh,discardElement:iv,extend:nv,fireEvent:Di,getAlignFactor:sv,isArray:Jh,isNumber:ov,isObject:ef,isString:pd,merge:av,pick:no,pushUnique:lv,splat:Sl,syncTimeout:tf}=Qe;class gd{constructor(i,o,l){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=i,this.init(i,o),this.pointer=l}bodyFormatter(i){return i.map(o=>{let l=o.series.tooltipOptions,d=o.formatPrefix||"point";return(l[d+"Formatter"]||o.tooltipFormatter).call(o,l[d+"Format"]||"")})}cleanSplit(i){this.chart.series.forEach(function(o){let l=o==null?void 0:o.tt;l&&(!l.isActive||i?o.tt=l.destroy():l.isActive=!1)})}defaultFormatter(i){let o,l=this.points||Sl(this);return(o=(o=[i.headerFooterFormatter(l[0])]).concat(i.bodyFormatter(l))).push(i.headerFooterFormatter(l[0],!0)),o}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),iv(this.container)),Qe.clearTimeout(this.hideTimer)}getAnchor(i,o){var _;let l,{chart:d,pointer:u}=this,f=d.inverted,g=d.plotTop,m=d.plotLeft;if(i=Sl(i),(_=i[0].series)!=null&&_.yAxis&&!i[0].series.yAxis.options.reversedStacks&&(i=i.slice().reverse()),this.followPointer&&o)o.chartX===void 0&&(o=u.normalize(o)),l=[o.chartX-m,o.chartY-g];else if(i[0].tooltipPos)l=i[0].tooltipPos;else{let w=0,C=0;i.forEach(function(j){let L=j.pos(!0);L&&(w+=L[0],C+=L[1])}),w/=i.length,C/=i.length,this.shared&&i.length>1&&o&&(f?w=o.chartX:C=o.chartY),l=[w-m,C-g]}let x={point:i[0],ret:l};return Di(this,"getAnchor",x),x.ret.map(Math.round)}getClassName(i,o,l){let d=this.options,u=i.series,f=u.options;return[d.className,"highcharts-label",l&&"highcharts-tooltip-header",o?"highcharts-tooltip-box":"highcharts-tooltip",!l&&"highcharts-color-"+no(i.colorIndex,u.colorIndex),f==null?void 0:f.className].filter(pd).join(" ")}getLabel({anchorX:i,anchorY:o}={anchorX:0,anchorY:0}){let l=this,d=this.chart.styledMode,u=this.options,f=this.split&&this.allowShared,g=this.container,m=this.chart.renderer;if(this.label){let x=!this.label.hasClass("highcharts-label");(!f&&x||f&&!x)&&this.destroy()}if(!this.label){if(this.outside){let x=this.chart,_=x.options.chart.style,w=qi.getRendererType();this.container=g=J.doc.createElement("div"),g.className="highcharts-tooltip-container "+(x.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Qh(g,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((_==null?void 0:_.zIndex)||0)+3)}),this.renderer=m=new w(g,0,0,_,void 0,void 0,m.styledMode)}if(f?this.label=m.g("tooltip"):(this.label=m.label("",i,o,u.shape||"callout",void 0,void 0,u.useHTML,void 0,"tooltip").attr({padding:u.padding,r:u.borderRadius}),d||this.label.attr({fill:u.backgroundColor,"stroke-width":u.borderWidth||0}).css(u.style).css({pointerEvents:u.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),l.outside){let x=this.label;[x.xSetter,x.ySetter].forEach((_,w)=>{x[w?"ySetter":"xSetter"]=C=>{_.call(x,l.distance),x[w?"y":"x"]=C,g&&(g.style[w?"top":"left"]=`${C}px`)}})}this.label.attr({zIndex:8}).shadow(u.shadow??!u.fixed).add()}return g&&!g.parentElement&&J.doc.body.appendChild(g),this.label}getPlayingField(){let{body:i,documentElement:o}=Zh,{chart:l,distance:d,outside:u}=this;return{width:u?Math.max(i.scrollWidth,o.scrollWidth,i.offsetWidth,o.offsetWidth,o.clientWidth)-2*d-2:l.chartWidth,height:u?Math.max(i.scrollHeight,o.scrollHeight,i.offsetHeight,o.offsetHeight,o.clientHeight):l.chartHeight}}getPosition(i,o,l){var Je,lt;let{distance:d,chart:u,outside:f,pointer:g}=this,{inverted:m,plotLeft:x,plotTop:_,polar:w}=u,{plotX:C=0,plotY:j=0}=l,L={},F=m&&l.h||0,{height:$,width:B}=this.getPlayingField(),G=g.getChartPosition(),X=Ke=>Ke*G.scaleX,pe=Ke=>Ke*G.scaleY,de=Ke=>{let ct=Ke==="x";return[Ke,ct?B:$,ct?i:o].concat(f?[ct?X(i):pe(o),ct?G.left-d+X(C+x):G.top-d+pe(j+_),0,ct?B:$]:[ct?i:o,ct?C+x:j+_,ct?x:_,ct?x+u.plotWidth:_+u.plotHeight])},fe=de("y"),ye=de("x"),me,xe=!!l.negative;!w&&((lt=(Je=u.hoverSeries)==null?void 0:Je.yAxis)!=null&&lt.reversed)&&(xe=!xe);let Ne=!this.followPointer&&no(l.ttBelow,!w&&!m===xe),Ae=function(Ke,ct,wt,jt,At,Vr,Ct){let It=f?Ke==="y"?pe(d):X(d):d,pt=(wt-jt)/2,ht=jt<At-d,ur=At+d+jt<ct,Dt=At-It-wt+pt,Ht=At+It-pt;if(Ne&&ur)L[Ke]=Ht;else if(!Ne&&ht)L[Ke]=Dt;else if(ht)L[Ke]=Math.min(Ct-jt,Dt-F<0?Dt:Dt-F);else{if(!ur)return L[Ke]=0,!1;L[Ke]=Math.max(Vr,Ht+F+wt>ct?Ht:Ht+F)}},We=function(Ke,ct,wt,jt,At){if(At<d||At>ct-d)return!1;At<wt/2?L[Ke]=1:At>ct-jt/2?L[Ke]=ct-jt-2:L[Ke]=At-wt/2},Ge=function(Ke){[fe,ye]=[ye,fe],me=Ke},rt=()=>{Ae.apply(0,fe)!==!1?We.apply(0,ye)!==!1||me||(Ge(!0),rt()):me?L.x=L.y=0:(Ge(!0),rt())};return(m&&!w||this.len>1)&&Ge(),rt(),L}getFixedPosition(i,o,l){var C;let d=l.series,{chart:u,options:f,split:g}=this,m=f.position,x=m.relativeTo,_=f.shared||(C=d==null?void 0:d.yAxis)!=null&&C.isRadial&&(x==="pane"||!x)?"plotBox":x,w=_==="chart"?u.renderer:u[_]||u.getClipBox(d,!0);return{x:w.x+(w.width-i)*sv(m.align)+m.x,y:w.y+(w.height-o)*sv(m.verticalAlign)+(!g&&m.y||0)}}hide(i){let o=this;Qe.clearTimeout(this.hideTimer),i=no(i,this.options.hideDelay),this.isHidden||(this.hideTimer=tf(function(){let l=o.getLabel();o.getLabel().animate({opacity:0},{duration:i&&150,complete:()=>{l.hide(),o.container&&o.container.remove()}}),o.isHidden=!0},i))}init(i,o){this.chart=i,this.options=o,this.crosshairs=[],this.isHidden=!0,this.split=o.split&&!i.inverted&&!i.polar,this.shared=o.shared||this.split,this.outside=no(o.outside,!!(i.scrollablePixelsX||i.scrollablePixelsY))}shouldStickOnContact(i){return!!(!this.followPointer&&this.options.stickOnContact&&(!i||this.pointer.inClass(i.target,"highcharts-tooltip")))}move(i,o,l,d){let{followPointer:u,options:f}=this,g=Yh(!u&&!this.isHidden&&!f.fixed&&f.animation),m=u||(this.len||0)>1,x={x:i,y:o};m?x.anchorX=x.anchorY=NaN:(x.anchorX=l,x.anchorY=d),g.step=()=>this.drawTracker(),this.getLabel().animate(x,g)}refresh(i,o){let{chart:l,options:d,pointer:u,shared:f}=this,g=Sl(i),m=g[0],x=d.format,_=d.formatter||this.defaultFormatter,w=l.styledMode,C=this.allowShared;if(!d.enabled||!m.series)return;Qe.clearTimeout(this.hideTimer),this.allowShared=!(!Jh(i)&&i.series&&i.series.noSharedTooltip),C=C&&!this.allowShared,this.followPointer=!this.split&&m.series.tooltipOptions.followPointer;let j=this.getAnchor(i,o),L=j[0],F=j[1];f&&this.allowShared&&(u.applyInactiveState(g),g.forEach(G=>G.setState("hover")),m.points=g),this.len=g.length;let $=pd(x)?qh(x,m,l):_.call(m,this);m.points=void 0;let B=m.series;if(this.distance=no(B.tooltipOptions.distance,16),$===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit($,g);else{let G=L,X=F;if(o&&u.isDirectTouch&&(G=o.chartX-l.plotLeft,X=o.chartY-l.plotTop),!(l.polar||B.options.clip===!1||g.some(pe=>u.isDirectTouch||pe.series.shouldShowTooltip(G,X))))return void this.hide();{let pe=this.getLabel(C&&this.tt||{});(!d.style.width||w)&&pe.css({width:(this.outside?this.getPlayingField():l.spacingBox).width+"px"}),pe.attr({class:this.getClassName(m),text:$&&$.join?$.join(""):$}),this.outside&&pe.attr({x:io(pe.x||0,0,this.getPlayingField().width-(pe.width||0)-1)}),w||pe.attr({stroke:d.borderColor||m.color||B.color||"#666666"}),this.updatePosition({plotX:L,plotY:F,negative:m.negative,ttBelow:m.ttBelow,series:B,h:j[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Di(this,"refresh")}renderSplit(i,o){var At,Vr;let l=this,{chart:d,chart:{chartWidth:u,chartHeight:f,plotHeight:g,plotLeft:m,plotTop:x,scrollablePixelsY:_=0,scrollablePixelsX:w,styledMode:C},distance:j,options:L,options:{fixed:F,position:$,positioner:B},pointer:G}=l,{scrollLeft:X=0,scrollTop:pe=0}=((At=d.scrollablePlotArea)==null?void 0:At.scrollingContainer)||{},de=l.outside&&typeof w!="number"?Zh.documentElement.getBoundingClientRect():{left:X,right:X+u},fe=l.getLabel(),ye=this.renderer||d.renderer,me=!!((Vr=d.xAxis[0])!=null&&Vr.opposite),{left:xe,top:Ne}=G.getChartPosition(),Ae=B||F,We=x+pe,Ge=0,rt=g-_,Je=function(Ct,It,pt,ht=[0,0],ur=!0){let Dt,Ht;if(pt.isHeader)Ht=me?0:rt,Dt=io(ht[0]-Ct/2,de.left,de.right-Ct-(l.outside?xe:0));else if(F&&pt){let Ar=l.getFixedPosition(Ct,It,pt);Dt=Ar.x,Ht=Ar.y-We}else Ht=ht[1]-We,Dt=io(Dt=ur?ht[0]-Ct-j:ht[0]+j,ur?Dt:de.left,de.right);return{x:Dt,y:Ht}};pd(i)&&(i=[!1,i]);let lt=i.slice(0,o.length+1).reduce(function(Ct,It,pt){if(It!==!1&&It!==""){let ht=o[pt-1]||{isHeader:!0,plotX:o[0].plotX,plotY:g,series:{}},ur=ht.isHeader,Dt=ur?l:ht.series,Ht=Dt.tt=function($r,Vt,Ed){let ho=$r,{isHeader:fa,series:Md}=Vt,Cn=Md.tooltipOptions||L;if(!ho){let jl={padding:Cn.padding,r:Cn.borderRadius};C||(jl.fill=Cn.backgroundColor,jl["stroke-width"]=Cn.borderWidth??(F&&!fa?0:1)),ho=ye.label("",0,0,Cn[fa?"headerShape":"shape"]||(F&&!fa?"rect":"callout"),void 0,void 0,Cn.useHTML).addClass(l.getClassName(Vt,!0,fa)).attr(jl).add(fe)}return ho.isActive=!0,ho.attr({text:Ed}),C||ho.css(Cn.style).attr({stroke:Cn.borderColor||Vt.color||Md.color||"#333333"}),ho}(Dt.tt,ht,It.toString()),Ar=Ht.getBBox(),bs=Ar.width+Ht.strokeWidth();ur&&(Ge=Ar.height,rt+=Ge,me&&(We-=Ge));let{anchorX:an,anchorY:Xr}=function($r){let Vt,Ed,{isHeader:ho,plotX:fa=0,plotY:Md=0,series:Cn}=$r;if(ho)Vt=Math.max(m+fa,m),Ed=x+g/2;else{let{xAxis:jl,yAxis:i1}=Cn;Vt=jl.pos+io(fa,-j,jl.len+j),Cn.shouldShowTooltip(0,i1.pos-x+Md,{ignoreX:!0})&&(Ed=i1.pos+Md)}return{anchorX:Vt=io(Vt,de.left-j,de.right+j),anchorY:Ed}}(ht);if(typeof Xr=="number"){let $r=Ar.height+1,Vt=(B||Je).call(l,bs,$r,ht,[an,Xr]);Ct.push({align:Ae?0:void 0,anchorX:an,anchorY:Xr,boxWidth:bs,point:ht,rank:no(Vt.rank,+!!ur),size:$r,target:Vt.y,tt:Ht,x:Vt.x})}else Ht.isActive=!1}return Ct},[]);!Ae&&lt.some(Ct=>{let{outside:It}=l,pt=(It?xe:0)+Ct.anchorX;return pt<de.left&&pt+Ct.boxWidth<de.right||pt<xe-de.left+Ct.boxWidth&&de.right-pt>pt})&&(lt=lt.map(Ct=>{let{x:It,y:pt}=Je.call(this,Ct.boxWidth,Ct.size,Ct.point,[Ct.anchorX,Ct.anchorY],!1);return nv(Ct,{target:pt,x:It})})),l.cleanSplit(),tv(lt,rt);let Ke={left:xe,right:xe};lt.forEach(function(Ct){let{x:It,boxWidth:pt,isHeader:ht}=Ct;!ht&&(l.outside&&xe+It<Ke.left&&(Ke.left=xe+It),!ht&&l.outside&&Ke.left+pt>Ke.right&&(Ke.right=xe+It))}),lt.forEach(function(Ct){let{x:It,anchorX:pt,anchorY:ht,pos:ur,point:{isHeader:Dt}}=Ct,Ht={visibility:ur===void 0?"hidden":"inherit",x:It,y:(ur||0)+We+(F&&$.y||0),anchorX:pt,anchorY:ht};if(l.outside&&It<pt){let Ar=xe-Ke.left;Ar>0&&(Dt||(Ht.x=It+Ar,Ht.anchorX=pt+Ar),Dt&&(Ht.x=(Ke.right-Ke.left)/2,Ht.anchorX=pt+Ar))}Ct.tt.attr(Ht)});let{container:ct,outside:wt,renderer:jt}=l;if(wt&&ct&&jt){let{width:Ct,height:It,x:pt,y:ht}=fe.getBBox();jt.setSize(Ct+pt,It+ht,!1),ct.style.left=Ke.left+"px",ct.style.top=Ne+"px"}ev&&fe.attr({opacity:fe.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let i=this.chart,o=this.label,l=this.shared?i.hoverPoints:i.hoverPoint;if(!o||!l)return;let d={x:0,y:0,width:0,height:0},u=this.getAnchor(l),f=o.getBBox();u[0]+=i.plotLeft-(o.translateX||0),u[1]+=i.plotTop-(o.translateY||0),d.x=Math.min(0,u[0]),d.y=Math.min(0,u[1]),d.width=u[0]<0?Math.max(Math.abs(u[0]),f.width-u[0]):Math.max(Math.abs(u[0]),f.width),d.height=u[1]<0?Math.max(Math.abs(u[1]),f.height-Math.abs(u[1])):Math.max(Math.abs(u[1]),f.height),this.tracker?this.tracker.attr(d):(this.tracker=o.renderer.rect(d).addClass("highcharts-tracker").add(o),i.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(i){return i.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(i,o){let l=i.series,d=l.tooltipOptions,u=l.xAxis,f=u==null?void 0:u.dateTime,g={isFooter:o,point:i},m=d.xDateFormat||"",x=d[o?"footerFormat":"headerFormat"];return Di(this,"headerFormatter",g,function(_){if(f&&!m&&ov(i.key)&&(m=f.getXDateFormat(i.key,d.dateTimeLabelFormats)),f&&m){if(ef(m)){let w=m;Jm[0]=C=>l.chart.time.dateFormat(w,C),m="%0"}(i.tooltipDateKeys||["key"]).forEach(w=>{x=x.replace(RegExp("point\\."+w+"([ \\)}])"),`(point.${w}:${m})$1`)})}l.chart.styledMode&&(x=this.styledModeFormat(x)),_.text=qh(x,i,this.chart)}),g.text||""}update(i){this.destroy(),this.init(this.chart,av(!0,this.options,i))}updatePosition(i){var de;let{chart:o,container:l,distance:d,options:u,pointer:f,renderer:g}=this,{height:m=0,width:x=0}=this.getLabel(),{fixed:_,positioner:w}=u,{left:C,top:j,scaleX:L,scaleY:F}=f.getChartPosition(),$=(w||_&&this.getFixedPosition||this.getPosition).call(this,x,m,i),B=J.doc,G=(i.plotX||0)+o.plotLeft,X=(i.plotY||0)+o.plotTop,pe;if(g&&l){if(w||_){let{scrollLeft:fe=0,scrollTop:ye=0}=((de=o.scrollablePlotArea)==null?void 0:de.scrollingContainer)||{};$.x+=fe+C-d,$.y+=ye+j-d}pe=(u.borderWidth||0)+2*d+2,g.setSize(io(x+pe,0,B.documentElement.clientWidth)-1,m+pe,!1),(L!==1||F!==1)&&(Qh(l,{transform:`scale(${L}, ${F})`}),G*=L,X*=F),G+=C-$.x,X+=j-$.y}this.move(Math.round($.x),Math.round($.y||0),G,X)}}(function(y){y.compose=function(i){lv(Kh,"Core.Tooltip")&&rv(i,"afterInit",function(){let o=this.chart;o.options.tooltip&&(o.tooltip=new y(o,o.options.tooltip,this))})}})(gd||(gd={}));let rf=gd,{animObject:cv}=jr,{defaultOptions:dv}=Oi,{format:_l}=sr,{addEvent:Mt,crisp:uv,erase:K,extend:k,fireEvent:N,getNestedProperty:P,isArray:W,isFunction:H,isNumber:Y,isObject:ne,merge:se,pick:oe,syncTimeout:ee,removeEvent:te,uniqueKey:V}=Qe;class Q{animateBeforeDestroy(){let i=this,o={x:i.startXPos,opacity:0},l=i.getGraphicalProps();l.singular.forEach(function(d){i[d]=i[d].animate(d==="dataLabel"?{x:i[d].startXPos,y:i[d].startYPos,opacity:0}:o)}),l.plural.forEach(function(d){i[d].forEach(function(u){u.element&&u.animate(k({x:i.startXPos},u.startYPos?{x:u.startXPos,y:u.startYPos}:{}))})})}applyOptions(i,o){let l=this.series,d=l.options.pointValKey||l.pointValKey;return k(this,i=Q.prototype.optionsToObject.call(this,i)),this.options=this.options?k(this.options,i):i,i.group&&delete this.group,i.dataLabels&&delete this.dataLabels,d&&(this.y=Q.prototype.getNestedProperty.call(this,d)),this.selected&&(this.state="select"),"name"in this&&o===void 0&&l.xAxis&&l.xAxis.hasNames&&(this.x=l.xAxis.nameToX(this)),this.x===void 0&&l?this.x=o??l.autoIncrement():Y(i.x)&&l.options.relativeXValue?this.x=l.autoIncrement(i.x):typeof this.x=="string"&&(o??(o=l.chart.time.parse(this.x)),Y(o)&&(this.x=o)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let i=this,o=i.series,l=o.chart,d=o.options.dataSorting,u=l.hoverPoints,f=cv(i.series.chart.renderer.globalAnimation),g=()=>{for(let m in(i.graphic||i.graphics||i.dataLabel||i.dataLabels)&&(te(i),i.destroyElements()),i)delete i[m]};i.legendItem&&l.legend.destroyItem(i),u&&(i.setState(),K(u,i),u.length||(l.hoverPoints=null)),i===l.hoverPoint&&i.onMouseOut(),d!=null&&d.enabled?(this.animateBeforeDestroy(),ee(g,f.duration)):g(),l.pointCount--}this.destroyed=!0}destroyElements(i){let o=this,l=o.getGraphicalProps(i);l.singular.forEach(function(d){o[d]=o[d].destroy()}),l.plural.forEach(function(d){o[d].forEach(function(u){u!=null&&u.element&&u.destroy()}),delete o[d]})}firePointEvent(i,o,l){let d=this,u=this.series.options;d.manageEvent(i),i==="click"&&u.allowPointSelect&&(l=function(f){!d.destroyed&&d.select&&d.select(null,f.ctrlKey||f.metaKey||f.shiftKey)}),N(d,i,o,l)}getClassName(){var i;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((i=this.zone)!=null&&i.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(i){let o,l,d=this,u=[],f={singular:[],plural:[]};for((i=i||{graphic:1,dataLabel:1}).graphic&&u.push("graphic","connector"),i.dataLabel&&u.push("dataLabel","dataLabelPath","dataLabelUpper"),l=u.length;l--;)d[o=u[l]]&&f.singular.push(o);return["graphic","dataLabel"].forEach(function(g){let m=g+"s";i[g]&&d[m]&&f.plural.push(m)}),f}getNestedProperty(i){if(i)return i.indexOf("custom.")===0?P(i,this.options):this[i]}getZone(){let i=this.series,o=i.zones,l=i.zoneAxis||"y",d,u=0;for(d=o[0];this[l]>=d.value;)d=o[++u];return this.nonZonedColor||(this.nonZonedColor=this.color),d!=null&&d.color&&!this.options.color?this.color=d.color:this.color=this.nonZonedColor,d}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(i,o,l){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=i,this.applyOptions(o,l),this.id??(this.id=V()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=i.options.nullInteraction),i.chart.pointCount++,N(this,"afterInit")}isValid(){return(Y(this.x)||this.x instanceof Date)&&Y(this.y)}optionsToObject(i){var _;let o=this.series,l=o.options.keys,d=l||o.pointArrayMap||["y"],u=d.length,f={},g,m=0,x=0;if(Y(i)||i===null)f[d[0]]=i;else if(W(i))for(!l&&i.length>u&&((g=typeof i[0])=="string"?(_=o.xAxis)!=null&&_.dateTime?f.x=o.chart.time.parse(i[0]):f.name=i[0]:g==="number"&&(f.x=i[0]),m++);x<u;)l&&i[m]===void 0||(d[x].indexOf(".")>0?Q.prototype.setNestedProperty(f,i[m],d[x]):f[d[x]]=i[m]),m++,x++;else typeof i=="object"&&(f=i,i.dataLabels&&(o.hasDataLabels=()=>!0),i.marker&&(o._hasPointMarkers=!0));return f}pos(i,o=this.plotY){if(!this.destroyed){let{plotX:l,series:d}=this,{chart:u,xAxis:f,yAxis:g}=d,m=0,x=0;if(Y(l)&&Y(o))return i&&(m=f?f.pos:u.plotLeft,x=g?g.pos:u.plotTop),u.inverted&&f&&g?[g.len-o+x,f.len-l+m]:[l+m,o+x]}}resolveColor(){let i=this.series,o=i.chart.options.chart,l=i.chart.styledMode,d,u,f=o.colorCount,g;delete this.nonZonedColor,i.options.colorByPoint?(l||(d=(u=i.options.colors||i.chart.options.colors)[i.colorCounter],f=u.length),g=i.colorCounter,i.colorCounter++,i.colorCounter===f&&(i.colorCounter=0)):(l||(d=i.color),g=i.colorIndex),this.colorIndex=oe(this.options.colorIndex,g),this.color=oe(this.options.color,d)}setNestedProperty(i,o,l){return l.split(".").reduce(function(d,u,f,g){let m=g.length-1===f;return d[u]=m?o:ne(d[u],!0)?d[u]:{},d[u]},i),i}shouldDraw(){return!this.isNull}tooltipFormatter(i){var m;let{chart:o,pointArrayMap:l=["y"],tooltipOptions:d}=this.series,{valueDecimals:u="",valuePrefix:f="",valueSuffix:g=""}=d;return o.styledMode&&(i=((m=o.tooltip)==null?void 0:m.styledModeFormat(i))||i),l.forEach(x=>{x="{point."+x,(f||g)&&(i=i.replace(RegExp(x+"}","g"),f+x+"}"+g)),i=i.replace(RegExp(x+"}","g"),x+":,."+u+"f}")}),_l(i,this,o)}update(i,o,l,d){let u,f=this,g=f.series,m=f.graphic,x=g.chart,_=g.options;function w(){f.applyOptions(i);let C=m&&f.hasMockGraphic,j=f.y===null?!C:C;m&&j&&(f.graphic=m.destroy(),delete f.hasMockGraphic),ne(i,!0)&&(m!=null&&m.element&&i&&i.marker&&i.marker.symbol!==void 0&&(f.graphic=m.destroy()),i!=null&&i.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy())),u=f.index;let L={};for(let F of g.dataColumnKeys())L[F]=f[F];g.dataTable.setRow(L,u),_.data[u]=ne(_.data[u],!0)||ne(i,!0)?f.options:oe(i,_.data[u]),g.isDirty=g.isDirtyData=!0,!g.fixedBox&&g.hasCartesianSeries&&(x.isDirtyBox=!0),_.legendType==="point"&&(x.isDirtyLegend=!0),o&&x.redraw(l)}o=oe(o,!0),d===!1?w():f.firePointEvent("update",{options:i},w)}remove(i,o){this.series.removePoint(this.series.data.indexOf(this),i,o)}select(i,o){let l=this,d=l.series,u=d.chart;i=oe(i,!l.selected),this.selectedStaging=i,l.firePointEvent(i?"select":"unselect",{accumulate:o},function(){l.selected=l.options.selected=i,d.options.data[d.data.indexOf(l)]=l.options,l.setState(i&&"select"),o||u.getSelectedPoints().forEach(function(f){let g=f.series;f.selected&&f!==l&&(f.selected=f.options.selected=!1,g.options.data[g.data.indexOf(f)]=f.options,f.setState(u.hoverPoints&&g.options.inactiveOtherPoints?"inactive":""),f.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(i){let{inverted:o,pointer:l}=this.series.chart;l&&(i=i?l.normalize(i):l.getChartCoordinatesFromPoint(this,o),l.runPointActions(i,this))}onMouseOut(){let i=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(i.hoverPoints||[]).forEach(function(o){o.setState()}),i.hoverPoints=i.hoverPoint=null}manageEvent(i){var d,u,f,g,m,x,_;let o=se(this.series.options.point,this.options),l=(d=o.events)==null?void 0:d[i];H(l)&&(!((u=this.hcEvents)!=null&&u[i])||((g=(f=this.hcEvents)==null?void 0:f[i])==null?void 0:g.map(w=>w.fn).indexOf(l))===-1)?((m=this.importedUserEvent)==null||m.call(this),this.importedUserEvent=Mt(this,i,l),this.hcEvents&&(this.hcEvents[i].userEvent=!0)):this.importedUserEvent&&!l&&((x=this.hcEvents)!=null&&x[i])&&((_=this.hcEvents)!=null&&_[i].userEvent)&&(te(this,i),delete this.hcEvents[i],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(i,o){var fe,ye;let l=this.series,d=this.state,u=l.options.states[i||"normal"]||{},f=dv.plotOptions[l.type].marker&&l.options.marker,g=f&&f.enabled===!1,m=((fe=f==null?void 0:f.states)==null?void 0:fe[i||"normal"])||{},x=m.enabled===!1,_=this.marker||{},w=l.chart,C=f&&l.markerAttribs,j=l.halo,L,F,$,B=l.stateMarkerGraphic,G;if((i=i||"")===this.state&&!o||this.selected&&i!=="select"||u.enabled===!1||i&&(x||g&&m.enabled===!1)||i&&_.states&&_.states[i]&&_.states[i].enabled===!1)return;if(this.state=i,C&&(L=l.markerAttribs(this,i)),this.graphic&&!this.hasMockGraphic){if(d&&this.graphic.removeClass("highcharts-point-"+d),i&&this.graphic.addClass("highcharts-point-"+i),!w.styledMode){F=l.pointAttribs(this,i),$=oe(w.options.chart.animation,u.animation);let me=F.opacity;l.options.inactiveOtherPoints&&Y(me)&&(this.dataLabels||[]).forEach(function(xe){xe&&!xe.hasClass("highcharts-data-label-hidden")&&(xe.animate({opacity:me},$),xe.connector&&xe.connector.animate({opacity:me},$))}),this.graphic.animate(F,$)}L&&this.graphic.animate(L,oe(w.options.chart.animation,m.animation,f.animation)),B&&B.hide()}else i&&m&&(G=_.symbol||l.symbol,B&&B.currentSymbol!==G&&(B=B.destroy()),L&&(B?B[o?"animate":"attr"]({x:L.x,y:L.y}):G&&(l.stateMarkerGraphic=B=w.renderer.symbol(G,L.x,L.y,L.width,L.height,se(f,m)).add(l.markerGroup),B.currentSymbol=G)),!w.styledMode&&B&&this.state!=="inactive"&&B.attr(l.pointAttribs(this,i))),B&&(B[i&&this.isInside?"show":"hide"](),B.element.point=this,B.addClass(this.getClassName(),!0));let X=u.halo,pe=this.graphic||B,de=(pe==null?void 0:pe.visibility)||"inherit";X!=null&&X.size&&pe&&de!=="hidden"&&!this.isCluster?(j||(l.halo=j=w.renderer.path().add(pe.parentGroup)),j.show()[o?"animate":"attr"]({d:this.haloPath(X.size)}),j.attr({class:"highcharts-halo highcharts-color-"+oe(this.colorIndex,l.colorIndex)+(this.className?" "+this.className:""),visibility:de,zIndex:-1}),j.point=this,w.styledMode||j.attr(k({fill:this.color||l.color,"fill-opacity":X.opacity},Ut.filterUserAttributes(X.attributes||{})))):(ye=j==null?void 0:j.point)!=null&&ye.haloPath&&!j.point.destroyed&&j.animate({d:j.point.haloPath(0)},null,j.hide),N(this,"afterSetState",{state:i})}haloPath(i){let o=this.pos();return o?this.series.chart.renderer.symbols.circle(uv(o[0],1)-i,o[1]-i,2*i,2*i):[]}}let Z=Q,{parse:le}=Wt,{charts:ue,composed:ke,isTouchDevice:_e}=J,{addEvent:ze,attr:Te,css:Pe,extend:Re,find:De,fireEvent:Ue,isNumber:Be,isObject:Xe,objectEach:Le,offset:et,pick:qe,pushUnique:zt,splat:it}=Qe;class at{applyInactiveState(i=[]){var l,d;let o=[];for(let u of(i.forEach(f=>{let g=f.series;o.push(g),g.linkedParent&&o.push(g.linkedParent),g.linkedSeries&&o.push.apply(o,g.linkedSeries),g.navigatorSeries&&o.push(g.navigatorSeries),g.boosted&&g.markerGroup&&o.push.apply(o,this.chart.series.filter(m=>m.markerGroup===g.markerGroup))}),this.chart.series)){let f=u.options;((d=(l=f.states)==null?void 0:l.inactive)==null?void 0:d.enabled)!==!1&&(o.indexOf(u)===-1?u.setState("inactive",!0):f.inactiveOtherPoints&&u.setAllPointsToState("inactive"))}}destroy(){let i=this;this.eventsToUnbind.forEach(o=>o()),this.eventsToUnbind=[],!J.chartCount&&(at.unbindDocumentMouseUp.forEach(o=>o.unbind()),at.unbindDocumentMouseUp.length=0,at.unbindDocumentTouchEnd&&(at.unbindDocumentTouchEnd=at.unbindDocumentTouchEnd())),clearInterval(i.tooltipTimeout),Le(i,function(o,l){i[l]=void 0})}getSelectionMarkerAttrs(i,o){let l={args:{chartX:i,chartY:o},attrs:{},shapeType:"rect"};return Ue(this,"getSelectionMarkerAttrs",l,d=>{let u,{chart:f,zoomHor:g,zoomVert:m}=this,{mouseDownX:x=0,mouseDownY:_=0}=f,w=d.attrs;w.x=f.plotLeft,w.y=f.plotTop,w.width=g?1:f.plotWidth,w.height=m?1:f.plotHeight,g&&(w.width=Math.max(1,Math.abs(u=i-x)),w.x=(u>0?0:u)+x),m&&(w.height=Math.max(1,Math.abs(u=o-_)),w.y=(u>0?0:u)+_)}),l}drag(i){let{chart:o}=this,{mouseDownX:l=0,mouseDownY:d=0}=o,{panning:u,panKey:f,selectionMarkerFill:g}=o.options.chart,m=o.plotLeft,x=o.plotTop,_=o.plotWidth,w=o.plotHeight,C=Xe(u)?u.enabled:u,j=f&&i[`${f}Key`],L=i.chartX,F=i.chartY,$,B=this.selectionMarker;if((!B||!B.touch)&&(L<m?L=m:L>m+_&&(L=m+_),F<x?F=x:F>x+w&&(F=x+w),this.hasDragged=Math.sqrt(Math.pow(l-L,2)+Math.pow(d-F,2)),this.hasDragged>10)){$=o.isInsidePlot(l-m,d-x,{visiblePlotOnly:!0});let{shapeType:G,attrs:X}=this.getSelectionMarkerAttrs(L,F);this.hasZoom&&$&&!j&&!B&&(this.selectionMarker=B=o.renderer[G](),B.attr({class:"highcharts-selection-marker",zIndex:7}).add(),o.styledMode||B.attr({fill:g||le("#334eff").setOpacity(.25).get()})),B&&B.attr(X),$&&!B&&C&&o.pan(i,u)}}dragStart(i){let o=this.chart;o.mouseIsDown=i.type,o.cancelClick=!1,o.mouseDownX=i.chartX,o.mouseDownY=i.chartY}getSelectionBox(i){let o={args:{marker:i},result:i.getBBox()};return Ue(this,"getSelectionBox",o),o.result}drop(i){let o,{chart:l,selectionMarker:d}=this;for(let u of l.axes)u.isPanning&&(u.isPanning=!1,(u.options.startOnTick||u.options.endOnTick||u.series.some(f=>f.boosted))&&(u.forceRedraw=!0,u.setExtremes(u.userMin,u.userMax,!1),o=!0));if(o&&l.redraw(),d&&i){if(this.hasDragged){let u=this.getSelectionBox(d);l.transform({axes:l.axes.filter(f=>f.zoomEnabled&&(f.coll==="xAxis"&&this.zoomX||f.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:i,xAxis:[],yAxis:[],...u},from:u})}Be(l.index)&&(this.selectionMarker=d.destroy())}l&&Be(l.index)&&(Pe(l.container,{cursor:l._cursor}),l.cancelClick=this.hasDragged>10,l.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(i,o,l){let d;return i.forEach(function(u){let f=!(u.noSharedTooltip&&o)&&0>u.options.findNearestPointBy.indexOf("y"),g=u.searchPoint(l,f);Xe(g,!0)&&g.series&&(!Xe(d,!0)||function(m,x){var j,L;let _=m.distX-x.distX,w=m.dist-x.dist,C=((j=x.series.group)==null?void 0:j.zIndex)-((L=m.series.group)==null?void 0:L.zIndex);return _!==0&&o?_:w!==0?w:C!==0?C:m.series.index>x.series.index?-1:1}(d,g)>0)&&(d=g)}),d}getChartCoordinatesFromPoint(i,o){let{xAxis:l,yAxis:d}=i.series,u=i.shapeArgs;if(l&&d){let f=i.clientX??i.plotX??0,g=i.plotY||0;return i.isNode&&u&&Be(u.x)&&Be(u.y)&&(f=u.x,g=u.y),o?{chartX:d.len+d.pos-g,chartY:l.len+l.pos-f}:{chartX:f+l.pos,chartY:g+d.pos}}if(u!=null&&u.x&&u.y)return{chartX:u.x,chartY:u.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:i}=this.chart,o=et(i);this.chartPosition={left:o.left,top:o.top,scaleX:1,scaleY:1};let{offsetHeight:l,offsetWidth:d}=i;return d>2&&l>2&&(this.chartPosition.scaleX=o.width/d,this.chartPosition.scaleY=o.height/l),this.chartPosition}getCoordinates(i){let o={xAxis:[],yAxis:[]};for(let l of this.chart.axes)o[l.isXAxis?"xAxis":"yAxis"].push({axis:l,value:l.toValue(i[l.horiz?"chartX":"chartY"])});return o}getHoverData(i,o,l,d,u,f){let g=[],m=function(j){return j.visible&&!(!u&&j.directTouch)&&qe(j.options.enableMouseTracking,!0)},x=o,_,w={chartX:f?f.chartX:void 0,chartY:f?f.chartY:void 0,shared:u};Ue(this,"beforeGetHoverData",w),_=x&&!x.stickyTracking?[x]:l.filter(j=>j.stickyTracking&&(w.filter||m)(j));let C=d&&i||!f?i:this.findNearestKDPoint(_,u,f);return x=C==null?void 0:C.series,C&&(u&&!x.noSharedTooltip?(_=l.filter(function(j){return w.filter?w.filter(j):m(j)&&!j.noSharedTooltip})).forEach(function(j){var $;let L=($=j.options)==null?void 0:$.nullInteraction,F=De(j.points,function(B){return B.x===C.x&&(!B.isNull||!!L)});Xe(F)&&(j.boosted&&j.boost&&(F=j.boost.getPoint(F)),g.push(F))}):g.push(C)),Ue(this,"afterGetHoverData",w={hoverPoint:C}),{hoverPoint:w.hoverPoint,hoverSeries:x,hoverPoints:g}}getPointFromEvent(i){let o=i.target,l;for(;o&&!l;)l=o.point,o=o.parentNode;return l}onTrackerMouseOut(i){let o=this.chart,l=i.relatedTarget,d=o.hoverSeries;this.isDirectTouch=!1,!d||!l||d.stickyTracking||this.inClass(l,"highcharts-tooltip")||this.inClass(l,"highcharts-series-"+d.index)&&this.inClass(l,"highcharts-tracker")||d.onMouseOut()}inClass(i,o){let l=i,d;for(;l;){if(d=Te(l,"class")){if(d.indexOf(o)!==-1)return!0;if(d.indexOf("highcharts-container")!==-1)return!1}l=l.parentElement}}constructor(i,o){var l;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=o,this.chart=i,this.runChartClick=!!((l=o.chart.events)!=null&&l.click),this.pinchDown=[],this.setDOMEvents(),Ue(this,"afterInit")}normalize(i,o){let l=i.touches,d=l?l.length?l.item(0):qe(l.changedTouches,i.changedTouches)[0]:i;o||(o=this.getChartPosition());let u=d.pageX-o.left,f=d.pageY-o.top;return Re(i,{chartX:Math.round(u/=o.scaleX),chartY:Math.round(f/=o.scaleY)})}onContainerClick(i){let o=this.chart,l=o.hoverPoint,d=this.normalize(i),u=o.plotLeft,f=o.plotTop;!o.cancelClick&&(l&&this.inClass(d.target,"highcharts-tracker")?(Ue(l.series,"click",Re(d,{point:l})),o.hoverPoint&&l.firePointEvent("click",d)):(Re(d,this.getCoordinates(d)),o.isInsidePlot(d.chartX-u,d.chartY-f,{visiblePlotOnly:!0})&&Ue(o,"click",d)))}onContainerMouseDown(i){var l;let o=(1&(i.buttons||i.button))==1;i=this.normalize(i),J.isFirefox&&i.button!==0&&this.onContainerMouseMove(i),(i.button===void 0||o)&&(this.zoomOption(i),o&&((l=i.preventDefault)==null||l.call(i)),this.dragStart(i))}onContainerMouseLeave(i){let{pointer:o}=ue[qe(at.hoverChartIndex,-1)]||{};i=this.normalize(i),this.onContainerMouseMove(i),o&&!this.inClass(i.relatedTarget,"highcharts-tooltip")&&(o.reset(),o.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(i){var u;let o=this.chart,l=o.tooltip,d=this.normalize(i);this.setHoverChartIndex(i),(o.mouseIsDown==="mousedown"||this.touchSelect(d))&&this.drag(d),!((u=o.exporting)!=null&&u.openMenu)&&(this.inClass(d.target,"highcharts-tracker")||o.isInsidePlot(d.chartX-o.plotLeft,d.chartY-o.plotTop,{visiblePlotOnly:!0}))&&!(l!=null&&l.shouldStickOnContact(d))&&(this.inClass(d.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(d))}onDocumentTouchEnd(i){this.onDocumentMouseUp(i)}onContainerTouchMove(i){this.touchSelect(i)?this.onContainerMouseMove(i):this.touch(i)}onContainerTouchStart(i){this.touchSelect(i)?this.onContainerMouseDown(i):(this.zoomOption(i),this.touch(i,!0))}onDocumentMouseMove(i){let o=this.chart,l=o.tooltip,d=this.chartPosition,u=this.normalize(i,d);!d||o.isInsidePlot(u.chartX-o.plotLeft,u.chartY-o.plotTop,{visiblePlotOnly:!0})||l!=null&&l.shouldStickOnContact(u)||u.target!==o.container.ownerDocument&&this.inClass(u.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(i){var o,l,d;i!=null&&i.touches&&this.hasPinchMoved&&((o=i==null?void 0:i.preventDefault)==null||o.call(i)),(d=(l=ue[qe(at.hoverChartIndex,-1)])==null?void 0:l.pointer)==null||d.drop(i)}pinch(i){let o=this,{chart:l,hasZoom:d,lastTouches:u}=o,f=[].map.call(i.touches||[],w=>o.normalize(w)),g=f.length,m=g===1&&(o.inClass(i.target,"highcharts-tracker")&&l.runTrackerClick||o.runChartClick),x=l.tooltip,_=g===1&&qe(x==null?void 0:x.options.followTouchMove,!0);g>1?o.initiated=!0:_&&(o.initiated=!1),d&&o.initiated&&!m&&i.cancelable!==!1&&i.preventDefault(),i.type==="touchstart"?(o.pinchDown=f,o.res=!0,l.mouseDownX=i.chartX):_?this.runPointActions(o.normalize(i)):u&&(Ue(l,"touchpan",{originalEvent:i,touches:f},()=>{let w=C=>{let j=C[0],L=C[1]||j;return{x:j.chartX,y:j.chartY,width:L.chartX-j.chartX,height:L.chartY-j.chartY}};l.transform({axes:l.axes.filter(C=>C.zoomEnabled&&(this.zoomHor&&C.horiz||this.zoomVert&&!C.horiz)),to:w(f),from:w(u),trigger:i.type})}),o.res&&(o.res=!1,this.reset(!1,0))),o.lastTouches=f}reset(i,o){let l=this.chart,d=l.hoverSeries,u=l.hoverPoint,f=l.hoverPoints,g=l.tooltip,m=g!=null&&g.shared?f:u;i&&m&&it(m).forEach(function(x){x.series.isCartesian&&x.plotX===void 0&&(i=!1)}),i?g&&m&&it(m).length&&(g.refresh(m),g.shared&&f?f.forEach(function(x){x.setState(x.state,!0),x.series.isCartesian&&(x.series.xAxis.crosshair&&x.series.xAxis.drawCrosshair(null,x),x.series.yAxis.crosshair&&x.series.yAxis.drawCrosshair(null,x))}):u&&(u.setState(u.state,!0),l.axes.forEach(function(x){x.crosshair&&u.series[x.coll]===x&&x.drawCrosshair(null,u)}))):(u&&u.onMouseOut(),f&&f.forEach(function(x){x.setState()}),d&&d.onMouseOut(),g&&g.hide(o),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l.axes.forEach(function(x){x.hideCrosshair()}),l.hoverPoints=l.hoverPoint=void 0)}runPointActions(i,o,l){var F;let d=this.chart,u=d.series,f=(F=d.tooltip)!=null&&F.options.enabled?d.tooltip:void 0,g=!!f&&f.shared,m=o||d.hoverPoint,x=(m==null?void 0:m.series)||d.hoverSeries,_=(!i||i.type!=="touchmove")&&(!!o||(x==null?void 0:x.directTouch)&&this.isDirectTouch),w=this.getHoverData(m,x,u,_,g,i);m=w.hoverPoint,x=w.hoverSeries;let C=w.hoverPoints,j=(x==null?void 0:x.tooltipOptions.followPointer)&&!x.tooltipOptions.split,L=g&&x&&!x.noSharedTooltip;if(m&&(l||m!==d.hoverPoint||f!=null&&f.isHidden)){if((d.hoverPoints||[]).forEach(function($){C.indexOf($)===-1&&$.setState()}),d.hoverSeries!==x&&x.onMouseOver(),this.applyInactiveState(C),(C||[]).forEach(function($){$.setState("hover")}),d.hoverPoint&&d.hoverPoint.firePointEvent("mouseOut"),!m.series)return;d.hoverPoints=C,d.hoverPoint=m,m.firePointEvent("mouseOver",void 0,()=>{f&&m&&f.refresh(L?C:m,i)})}else if(j&&f&&!f.isHidden){let $=f.getAnchor([{}],i);d.isInsidePlot($[0],$[1],{visiblePlotOnly:!0})&&f.updatePosition({plotX:$[0],plotY:$[1]})}this.unDocMouseMove||(this.unDocMouseMove=ze(d.container.ownerDocument,"mousemove",$=>{var B,G;return(G=(B=ue[at.hoverChartIndex??-1])==null?void 0:B.pointer)==null?void 0:G.onDocumentMouseMove($)}),this.eventsToUnbind.push(this.unDocMouseMove)),d.axes.forEach(function($){var X;let B,G=((X=$.crosshair)==null?void 0:X.snap)??!0;G&&((B=d.hoverPoint)&&B.series[$.coll]===$||(B=De(C,pe=>{var de;return((de=pe.series)==null?void 0:de[$.coll])===$}))),B||!G?$.drawCrosshair(i,B):$.hideCrosshair()})}setDOMEvents(){let i=this.chart.container,o=i.ownerDocument;i.onmousedown=this.onContainerMouseDown.bind(this),i.onmousemove=this.onContainerMouseMove.bind(this),i.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(ze(i,"mouseenter",this.onContainerMouseEnter.bind(this)),ze(i,"mouseleave",this.onContainerMouseLeave.bind(this))),at.unbindDocumentMouseUp.some(d=>d.doc===o)||at.unbindDocumentMouseUp.push({doc:o,unbind:ze(o,"mouseup",this.onDocumentMouseUp.bind(this))});let l=this.chart.renderTo.parentElement;for(;l&&l.tagName!=="BODY";)this.eventsToUnbind.push(ze(l,"scroll",()=>{delete this.chartPosition})),l=l.parentElement;this.eventsToUnbind.push(ze(i,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),ze(i,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),at.unbindDocumentTouchEnd||(at.unbindDocumentTouchEnd=ze(o,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),ze(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var u,f;if(!_e)return;let i=this.pointerCaptureEventsToUnbind,o=this.chart,l=o.container,d=qe((u=o.options.tooltip)==null?void 0:u.followTouchMove,!0)&&o.series.some(g=>g.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&d?(i.push(ze(l,"pointerdown",g=>{var m,x;(m=g.target)!=null&&m.hasPointerCapture(g.pointerId)&&((x=g.target)==null||x.releasePointerCapture(g.pointerId))}),ze(l,"pointermove",g=>{var m,x;(x=(m=o.pointer)==null?void 0:m.getPointFromEvent(g))==null||x.onMouseOver(g)})),o.styledMode||Pe(l,{"touch-action":"none"}),l.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!d&&(i.forEach(g=>g()),i.length=0,o.styledMode||Pe(l,{"touch-action":qe((f=o.options.chart.style)==null?void 0:f["touch-action"],"manipulation")}),l.className=l.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(i){var d;let o=this.chart,l=J.charts[qe(at.hoverChartIndex,-1)];if(l&&l!==o){let u={relatedTarget:o.container};i&&!(i!=null&&i.relatedTarget)&&Object.assign({},i,u),(d=l.pointer)==null||d.onContainerMouseLeave(i||u)}l!=null&&l.mouseIsDown||(at.hoverChartIndex=o.index)}touch(i,o){var f;let l,{chart:d,pinchDown:u=[]}=this;this.setHoverChartIndex(),(i=this.normalize(i)).touches.length===1?d.isInsidePlot(i.chartX-d.plotLeft,i.chartY-d.plotTop,{visiblePlotOnly:!0})&&!((f=d.exporting)!=null&&f.openMenu)?(o&&this.runPointActions(i),i.type==="touchmove"&&(this.hasPinchMoved=l=!!u[0]&&Math.pow(u[0].chartX-i.chartX,2)+Math.pow(u[0].chartY-i.chartY,2)>=16),qe(l,!0)&&this.pinch(i)):o&&this.reset():i.touches.length===2&&this.pinch(i)}touchSelect(i){return!!(this.chart.zooming.singleTouch&&i.touches&&i.touches.length===1)}zoomOption(i){let o=this.chart,l=o.inverted,d=o.zooming.type||"",u,f;/touch/.test(i.type)&&(d=qe(o.zooming.pinchType,d)),this.zoomX=u=/x/.test(d),this.zoomY=f=/y/.test(d),this.zoomHor=u&&!l||f&&l,this.zoomVert=f&&!l||u&&l,this.hasZoom=u||f}}at.unbindDocumentMouseUp=[],function(y){y.compose=function(i){zt(ke,"Core.Pointer")&&ze(i,"beforeRender",function(){this.pointer=new y(this,this.options)})}}(at||(at={}));let kr=at;(function(y){y.setLength=function(i,o,l){return Array.isArray(i)?(i.length=o,i):i[l?"subarray":"slice"](0,o)},y.splice=function(i,o,l,d,u=[]){if(Array.isArray(i))return Array.isArray(u)||(u=Array.from(u)),{removed:i.splice(o,l,...u),array:i};let f=Object.getPrototypeOf(i).constructor,g=i[d?"subarray":"slice"](o,o+l),m=new f(i.length-l+u.length);return m.set(i.subarray(0,o),0),m.set(u,o),m.set(i.subarray(o+l),o+u.length),{removed:g,array:m}}})(A||(A={}));let{setLength:Bt,splice:mt}=A,{fireEvent:xt,objectEach:Lt,uniqueKey:mr}=Qe,ki=class{constructor(y={}){this.autoId=!y.id,this.columns={},this.id=y.id||mr(),this.modified=this,this.rowCount=0,this.versionTag=mr();let i=0;Lt(y.columns||{},(o,l)=>{this.columns[l]=o.slice(),i=Math.max(i,o.length)}),this.applyRowCount(i)}applyRowCount(y){this.rowCount=y,Lt(this.columns,(i,o)=>{i.length!==y&&(this.columns[o]=Bt(i,y))})}deleteRows(y,i=1){if(i>0&&y<this.rowCount){let o=0;Lt(this.columns,(l,d)=>{this.columns[d]=mt(l,y,i).array,o=l.length}),this.rowCount=o}xt(this,"afterDeleteRows",{rowIndex:y,rowCount:i}),this.versionTag=mr()}getColumn(y,i){return this.columns[y]}getColumns(y,i){return(y||Object.keys(this.columns)).reduce((o,l)=>(o[l]=this.columns[l],o),{})}getRow(y,i){return(i||Object.keys(this.columns)).map(o=>{var l;return(l=this.columns[o])==null?void 0:l[y]})}setColumn(y,i=[],o=0,l){this.setColumns({[y]:i},o,l)}setColumns(y,i,o){let l=this.rowCount;Lt(y,(d,u)=>{this.columns[u]=d.slice(),l=d.length}),this.applyRowCount(l),o!=null&&o.silent||(xt(this,"afterSetColumns"),this.versionTag=mr())}setRow(y,i=this.rowCount,o,l){let{columns:d}=this,u=o?this.rowCount+1:i+1;Lt(y,(f,g)=>{let m=d[g]||(l==null?void 0:l.addColumns)!==!1&&Array(u);m&&(o?m=mt(m,i,0,!0,[f]).array:m[i]=f,d[g]=m)}),u>this.rowCount&&this.applyRowCount(u),l!=null&&l.silent||(xt(this,"afterSetRows"),this.versionTag=mr())}},{extend:Nr,merge:so,pick:la}=Qe;(function(y){function i(o,l,d){var pe,de;let u=this.legendItem=this.legendItem||{},{chart:f,options:g}=this,{baseline:m=0,symbolWidth:x,symbolHeight:_}=o,w=this.symbol||"circle",C=_/2,j=f.renderer,L=u.group,F=m-Math.round((((pe=o.fontMetrics)==null?void 0:pe.b)||_)*(d?.4:.3)),$={},B,G=g.marker,X=0;if(f.styledMode||($["stroke-width"]=Math.min(g.lineWidth||0,24),g.dashStyle?$.dashstyle=g.dashStyle:g.linecap!=="square"&&($["stroke-linecap"]="round")),u.line=j.path().addClass("highcharts-graph").attr($).add(L),d&&(u.area=j.path().addClass("highcharts-area").add(L)),$["stroke-linecap"]&&(X=Math.min(u.line.strokeWidth(),x)/2),x){let fe=[["M",X,F],["L",x-X,F]];u.line.attr({d:fe}),(de=u.area)==null||de.attr({d:[...fe,["L",x-X,m],["L",X,m]]})}if(G&&G.enabled!==!1&&x){let fe=Math.min(la(G.radius,C),C);w.indexOf("url")===0&&(G=so(G,{width:_,height:_}),fe=0),u.symbol=B=j.symbol(w,x/2-fe,F-fe,2*fe,2*fe,Nr({context:"legend"},G)).addClass("highcharts-point").add(L),B.isMarker=!0}}y.areaMarker=function(o,l){i.call(this,o,l,!0)},y.lineMarker=i,y.rectangle=function(o,l){let d=l.legendItem||{},u=o.options,f=o.symbolHeight,g=u.squareSymbol,m=g?f:o.symbolWidth;d.symbol=this.chart.renderer.rect(g?(o.symbolWidth-f)/2:0,o.baseline-f+1,m,f,la(o.options.symbolRadius,f/2)).addClass("highcharts-point").attr({zIndex:3}).add(d.group)}})(z||(z={}));let wn=z,{defaultOptions:md}=Oi,{extend:nf,extendClass:eN,merge:tN}=Qe;(function(y){function i(o,l){let d=md.plotOptions||{},u=l.defaultOptions,f=l.prototype;return f.type=o,f.pointClass||(f.pointClass=Z),!y.seriesTypes[o]&&(u&&(d[o]=u),y.seriesTypes[o]=l,!0)}y.seriesTypes=J.seriesTypes,y.registerSeriesType=i,y.seriesType=function(o,l,d,u,f){let g=md.plotOptions||{};if(l=l||"",g[o]=tN(g[l],d),delete y.seriesTypes[o],i(o,eN(y.seriesTypes[l]||Si,u)),y.seriesTypes[o].prototype.type=o,f){class m extends Z{}nf(m.prototype,f),y.seriesTypes[o].prototype.pointClass=m}return y.seriesTypes[o]}})(U||(U={}));let or=U,{animObject:Zb,setAnimation:rN}=jr,{defaultOptions:sf}=Oi,{registerEventOptions:iN}=pl,{svg:nN,win:sN}=J,{seriesTypes:Cl}=or,{format:oN}=sr,{arrayMax:hv,arrayMin:Qb,clamp:Jb,correctFloat:ew,crisp:aN,defined:Sr,destroyObjectProperties:lN,diffObjects:cN,erase:tw,error:of,extend:El,find:dN,fireEvent:er,getClosestDistance:uN,getNestedProperty:rw,insertItem:iw,isArray:nw,isNumber:Tr,isString:hN,merge:vd,objectEach:fv,pick:tr,removeEvent:fN,syncTimeout:sw}=Qe;class kn{constructor(){this.zoneAxis="y"}init(i,o){var m,x,_;let l;er(this,"init",{options:o}),this.dataTable??(this.dataTable=new ki);let d=i.series;this.eventsToUnbind=[],this.chart=i,this.options=this.setOptions(o);let u=this.options,f=u.visible!==!1;this.linkedSeries=[],this.bindAxes(),El(this,{name:u.name,state:"",visible:f,selected:u.selected===!0}),iN(this,u);let g=u.events;(g!=null&&g.click||(x=(m=u.point)==null?void 0:m.events)!=null&&x.click||u.allowPointSelect)&&(i.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(i.hasCartesianSeries=!0),d.length&&(l=d[d.length-1]),this._i=tr(l==null?void 0:l._i,-1)+1,this.opacity=this.options.opacity,i.orderItems("series",iw(this,d)),(_=u.dataSorting)!=null&&_.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(u.data,!1),er(this,"afterInit")}is(i){return Cl[i]&&this instanceof Cl[i]}bindAxes(){let i,o=this,l=o.options,d=o.chart;er(this,"bindAxes",null,function(){(o.axisTypes||[]).forEach(function(u){(d[u]||[]).forEach(function(f){i=f.options,(tr(l[u],0)===f.index||l[u]!==void 0&&l[u]===i.id)&&(iw(o,f.series),o[u]=f,f.isDirty=!0)}),o[u]||o.optionalAxis===u||of(18,!0,d)})}),er(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(i,o){let l=i.marker,d=o.marker||{};return l&&(d.enabled&&!l.enabled||d.symbol!==l.symbol||d.height!==l.height||d.width!==l.width)}autoIncrement(i){let o,l=this.options,{pointIntervalUnit:d,relativeXValue:u}=this.options,f=this.chart.time,g=this.xIncrement??f.parse(l.pointStart)??0;if(this.pointInterval=o=tr(this.pointInterval,l.pointInterval,1),u&&Tr(i)&&(o*=i),d){let m=f.toParts(g);d==="day"?m[2]+=o:d==="month"?m[1]+=o:d==="year"&&(m[0]+=o),o=f.makeTime.apply(f,m)-g}return u&&Tr(i)?g+o:(this.xIncrement=g+o,g)}setDataSortingOptions(){let i=this.options;El(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Sr(i.pointRange)||(i.pointRange=1)}setOptions(i){var $,B;let o,l=this.chart,d=l.options.plotOptions,u=l.userOptions||{},f=vd(i),g=l.styledMode,m={plotOptions:d,userOptions:f};er(this,"setOptions",m);let x=m.plotOptions[this.type],_=u.plotOptions||{},w=_.series||{},C=sf.plotOptions[this.type]||{},j=_[this.type]||{};x.dataLabels=this.mergeArrays(C.dataLabels,x.dataLabels),this.userOptions=m.userOptions;let L=vd(x,d.series,j,f);this.tooltipOptions=vd(sf.tooltip,($=sf.plotOptions.series)==null?void 0:$.tooltip,C==null?void 0:C.tooltip,l.userOptions.tooltip,(B=_.series)==null?void 0:B.tooltip,j.tooltip,f.tooltip),this.stickyTracking=tr(f.stickyTracking,j.stickyTracking,w.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||L.stickyTracking),x.marker===null&&delete L.marker,this.zoneAxis=L.zoneAxis||"y";let F=this.zones=(L.zones||[]).map(G=>({...G}));return(L.negativeColor||L.negativeFillColor)&&!L.zones&&(o={value:L[this.zoneAxis+"Threshold"]||L.threshold||0,className:"highcharts-negative"},g||(o.color=L.negativeColor,o.fillColor=L.negativeFillColor),F.push(o)),F.length&&Sr(F[F.length-1].value)&&F.push(g?{}:{color:this.color,fillColor:this.fillColor}),er(this,"afterSetOptions",{options:L}),L}getName(){return this.options.name??oN(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(i,o,l){let d,u,f=this.chart,g=`${i}Index`,m=`${i}Counter`,x=(l==null?void 0:l.length)||f.options.chart.colorCount;!o&&(Sr(u=tr(i==="color"?this.options.colorIndex:void 0,this[g]))?d=u:(f.series.length||(f[m]=0),d=f[m]%x,f[m]+=1),l&&(o=l[d])),d!==void 0&&(this[g]=d),this[i]=o}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||sf.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let i=this.options.marker;this.getCyclic("symbol",i.symbol,this.chart.options.symbols)}getColumn(i,o){return(o?this.dataTable.modified:this.dataTable).getColumn(i,!0)||[]}findPointIndex(i,o){var w;let l,d,u,{id:f,x:g}=i,m=this.points,x=this.options.dataSorting,_=this.cropStart||0;if(f){let C=this.chart.get(f);C instanceof Z&&(l=C)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let C=j=>!j.touched&&j.index===i.index;if(x!=null&&x.matchByName?C=j=>!j.touched&&j.name===i.name:this.options.relativeXValue&&(C=j=>!j.touched&&j.options.x===i.x),!(l=dN(m,C)))return}return l&&(u=l==null?void 0:l.index)!==void 0&&(d=!0),u===void 0&&Tr(g)&&(u=this.getColumn("x").indexOf(g,o)),u!==-1&&u!==void 0&&this.cropped&&(u=u>=_?u-_:u),!d&&Tr(u)&&((w=m[u])!=null&&w.touched)&&(u=void 0),u}updateData(i,o){var F;let{options:l,requireSorting:d}=this,u=l.dataSorting,f=this.points,g=[],m=i.length===f.length,x,_,w,C,j=!0;if(this.xIncrement=null,i.forEach(($,B)=>{var fe;let G,X=Sr($)&&this.pointClass.prototype.optionsToObject.call({series:this},$)||{},{id:pe,x:de}=X;pe||Tr(de)?((G=this.findPointIndex(X,C))===-1||G===void 0?g.push($):f[G]&&$!==((fe=l.data)==null?void 0:fe[G])?(f[G].update($,!1,void 0,!1),f[G].touched=!0,d&&(C=G+1)):f[G]&&(f[G].touched=!0),(!m||B!==G||u!=null&&u.enabled||this.hasDerivedData)&&(x=!0)):g.push($)},this),x)for(_=f.length;_--;)(w=f[_])&&!w.touched&&((F=w.remove)==null||F.call(w,!1,o));else m&&!(u!=null&&u.enabled)?(i.forEach(($,B)=>{$===f[B].y||f[B].destroyed||f[B].update($,!1,void 0,!1)}),g.length=0):j=!1;if(f.forEach($=>{$&&($.touched=!1)}),!j)return!1;g.forEach($=>{this.addPoint($,!1,void 0,void 0,!1)},this);let L=this.getColumn("x");return this.xIncrement===null&&L.length&&(this.xIncrement=hv(L),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(i,o=!0,l,d){var ye,me;let u=this.points,f=(u==null?void 0:u.length)||0,g=this.options,m=this.chart,x=g.dataSorting,_=this.xAxis,w=g.turboThreshold,C=this.dataTable,j=this.dataColumnKeys(),L=this.pointValKey||"y",F=(this.pointArrayMap||[]).length,$=g.keys,B,G,X=0,pe=1,de;m.options.chart.allowMutatingData||(g.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,de=vd(!0,i));let fe=(i=de||i||[]).length;if(x!=null&&x.enabled&&(i=this.sortData(i)),m.options.chart.allowMutatingData&&d!==!1&&fe&&f&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(G=this.updateData(i,l)),!G){this.xIncrement=null,this.colorCounter=0;let xe=w&&!g.relativeXValue&&fe>w;if(xe){let Ne=this.getFirstValidPoint(i),Ae=this.getFirstValidPoint(i,fe-1,-1),We=Ge=>!!(nw(Ge)&&($||Tr(Ge[0])));if(Tr(Ne)&&Tr(Ae)){let Ge=[],rt=[];for(let Je of i)Ge.push(this.autoIncrement()),rt.push(Je);C.setColumns({x:Ge,[L]:rt})}else if(We(Ne)&&We(Ae))if(F){let Ge=+(Ne.length===F),rt=Array(j.length).fill(0).map(()=>[]);for(let Je of i){Ge&&rt[0].push(this.autoIncrement());for(let lt=Ge;lt<=F;lt++)(ye=rt[lt])==null||ye.push(Je[lt-Ge])}C.setColumns(j.reduce((Je,lt,Ke)=>(Je[lt]=rt[Ke],Je),{}))}else{$&&(X=$.indexOf("x"),pe=$.indexOf("y"),X=X>=0?X:0,pe=pe>=0?pe:1),Ne.length===1&&(pe=0);let Ge=[],rt=[];if(X===pe)for(let Je of i)Ge.push(this.autoIncrement()),rt.push(Je[pe]);else for(let Je of i)Ge.push(Je[X]),rt.push(Je[pe]);C.setColumns({x:Ge,[L]:rt})}else xe=!1}if(!xe){let Ne=j.reduce((Ae,We)=>(Ae[We]=[],Ae),{});for(B=0;B<fe;B++){let Ae=this.pointClass.prototype.applyOptions.apply({series:this},[i[B]]);for(let We of j)Ne[We][B]=Ae[We]}C.setColumns(Ne)}for(hN(this.getColumn("y")[0])&&of(14,!0,m),this.data=[],this.options.data=this.userOptions.data=i,B=f;B--;)(me=u[B])==null||me.destroy();_&&(_.minRange=_.userMinRange),this.isDirty=m.isDirtyBox=!0,this.isDirtyData=!!u,l=!1}g.legendType==="point"&&(this.processData(),this.generatePoints()),o&&m.redraw(l)}sortData(i){let o=this,l=o.options.dataSorting.sortKey||"y",d=function(u,f){return Sr(f)&&u.pointClass.prototype.optionsToObject.call({series:u},f)||{}};return i.forEach(function(u,f){i[f]=d(o,u),i[f].index=f},this),i.concat().sort((u,f)=>{let g=rw(l,u),m=rw(l,f);return m<g?-1:+(m>g)}).forEach(function(u,f){u.x=f},this),o.linkedSeries&&o.linkedSeries.forEach(function(u){var m;let f=u.options,g=f.data;!((m=f.dataSorting)!=null&&m.enabled)&&g&&(g.forEach(function(x,_){g[_]=d(u,x),i[_]&&(g[_].x=i[_].x,g[_].index=_)}),u.setData(g,!1))}),i}getProcessedData(i){let o=this,{dataTable:l,isCartesian:d,options:u,xAxis:f}=o,g=u.cropThreshold,m=i||o.getExtremesFromAll,x=f==null?void 0:f.logarithmic,_=l.rowCount,w,C,j=0,L,F,$,B=o.getColumn("x"),G=l,X=!1;return f&&(F=(L=f.getExtremes()).min,$=L.max,X=!!(f.categories&&!f.names.length),d&&o.sorted&&!m&&(!g||_>g||o.forceCrop)&&(B[_-1]<F||B[0]>$?G=new ki:o.getColumn(o.pointValKey||"y").length&&(B[0]<F||B[_-1]>$)&&(G=(w=this.cropData(l,F,$)).modified,j=w.start,C=!0))),B=G.getColumn("x")||[],{modified:G,cropped:C,cropStart:j,closestPointRange:uN([x?B.map(x.log2lin):B],()=>o.requireSorting&&!X&&of(15,!1,o.chart))}}processData(i){let o=this.xAxis,l=this.dataTable;if(this.isCartesian&&!this.isDirty&&!o.isDirty&&!this.yAxis.isDirty&&!i)return!1;let d=this.getProcessedData();l.modified=d.modified,this.cropped=d.cropped,this.cropStart=d.cropStart,this.closestPointRange=this.basePointRange=d.closestPointRange,er(this,"afterProcessData")}cropData(i,o,l){let d=i.getColumn("x",!0)||[],u=d.length,f={},g,m,x=0,_=u;for(g=0;g<u;g++)if(d[g]>=o){x=Math.max(0,g-1);break}for(m=g;m<u;m++)if(d[m]>l){_=m+1;break}for(let w of this.dataColumnKeys()){let C=i.getColumn(w,!0);C&&(f[w]=C.slice(x,_))}return{modified:new ki({columns:f}),start:x,end:_}}generatePoints(){var de,fe,ye;let i=this.options,o=this.processedData||i.data,l=this.dataTable.modified,d=this.getColumn("x",!0),u=this.pointClass,f=l.rowCount,g=this.cropStart||0,m=this.hasGroupedData,x=i.keys,_=[],w=(de=i.dataGrouping)!=null&&de.groupAll?g:0,C=(fe=this.xAxis)==null?void 0:fe.categories,j=this.pointArrayMap||["y"],L=this.dataColumnKeys(),F,$,B,G,X=this.data,pe;if(!X&&!m){let me=[];me.length=(o==null?void 0:o.length)||0,X=this.data=me}for(x&&m&&(this.options.keys=!1),G=0;G<f;G++)$=g+G,m?((B=new u(this,l.getRow(G,L)||[])).dataGroup=this.groupMap[w+G],(ye=B.dataGroup)!=null&&ye.options&&(B.options=B.dataGroup.options,El(B,B.dataGroup.options),delete B.dataLabels)):(B=X[$],pe=o?o[$]:l.getRow(G,j),B||pe===void 0||(X[$]=B=new u(this,pe,d[G]))),B&&(B.index=m?w+G:$,_[G]=B,B.category=(C==null?void 0:C[B.x])??B.x,B.key=B.name??B.category);if(this.options.keys=x,X&&(f!==(F=X.length)||m))for(G=0;G<F;G++)G!==g||m||(G+=f),X[G]&&(X[G].destroyElements(),X[G].plotX=void 0);this.data=X,this.points=_,er(this,"afterGeneratePoints")}getXExtremes(i){return{min:Qb(i),max:hv(i)}}getExtremes(i,o){var de;let{xAxis:l,yAxis:d}=this,u=o||this.getExtremesFromAll||this.options.getExtremesFromAll,f=u&&this.cropped?this.dataTable:this.dataTable.modified,g=f.rowCount,m=i||this.stackedYData,x=m?[m]:((de=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:de.map(fe=>f.getColumn(fe,!0)||[]))||[],_=this.getColumn("x",!0),w=[],C=this.requireSorting&&!this.is("column")?1:0,j=!!d&&d.positiveValuesOnly,L=u||this.cropped||!l,F,$,B,G=0,X=0;for(l&&(G=(F=l.getExtremes()).min,X=F.max),B=0;B<g;B++)if($=_[B],L||(_[B+C]||$)>=G&&(_[B-C]||$)<=X)for(let fe of x){let ye=fe[B];Tr(ye)&&(ye>0||!j)&&w.push(ye)}let pe={activeYData:w,dataMin:Qb(w),dataMax:hv(w)};return er(this,"afterGetExtremes",{dataExtremes:pe}),pe}applyExtremes(){let i=this.getExtremes();return this.dataMin=i.dataMin,this.dataMax=i.dataMax,i}getFirstValidPoint(i,o=0,l=1){let d=i.length,u=o;for(;u>=0&&u<d;){if(Sr(i[u]))return i[u];u+=l}}translate(){var X;this.generatePoints();let i=this.options,o=i.stacking,l=this.xAxis,d=this.enabledDataSorting,u=this.yAxis,f=this.points,g=f.length,m=this.pointPlacementToXValue(),x=!!m,_=i.threshold,w=i.startFromThreshold?_:0,C=(i==null?void 0:i.nullInteraction)&&u.len,j,L,F,$,B=Number.MAX_VALUE;function G(pe){return Jb(pe,-1e9,1e9)}for(j=0;j<g;j++){let pe,de=f[j],fe=de.x,ye,me,xe=de.y,Ne=de.low,Ae=o&&((X=u.stacking)==null?void 0:X.stacks[(this.negStacks&&xe<(w?0:_)?"-":"")+this.stackKey]);de.plotX=Tr(L=l.translate(fe,!1,!1,!1,!0,m))?ew(G(L)):void 0,o&&this.visible&&Ae&&Ae[fe]&&($=this.getStackIndicator($,fe,this.index),!de.isNull&&$.key&&(me=(ye=Ae[fe]).points[$.key]),ye&&nw(me)&&(Ne=me[0],xe=me[1],Ne===w&&$.key===Ae[fe].base&&(Ne=tr(Tr(_)?_:u.min)),u.positiveValuesOnly&&Sr(Ne)&&Ne<=0&&(Ne=void 0),de.total=de.stackTotal=tr(ye.total),de.percentage=Sr(de.y)&&ye.total?de.y/ye.total*100:void 0,de.stackY=xe,this.irregularWidths||ye.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),de.yBottom=Sr(Ne)?G(u.translate(Ne,!1,!0,!1,!0)):void 0,this.dataModify&&(xe=this.dataModify.modifyValue(xe,j)),Tr(xe)&&de.plotX!==void 0?pe=Tr(pe=u.translate(xe,!1,!0,!1,!0))?G(pe):void 0:!Tr(xe)&&C&&(pe=C),de.plotY=pe,de.isInside=this.isPointInside(de),de.clientX=x?ew(l.translate(fe,!1,!1,!1,!0,m)):L,de.negative=(de.y||0)<(_||0),de.isNull||de.visible===!1||(F!==void 0&&(B=Math.min(B,Math.abs(L-F))),F=L),de.zone=this.zones.length?de.getZone():void 0,!de.graphic&&this.group&&d&&(de.isNew=!0)}this.closestPointRangePx=B,er(this,"afterTranslate")}getValidPoints(i,o,l){let d=this.chart;return(i||this.points||[]).filter(function(u){let{plotX:f,plotY:g}=u;return(!!l||!u.isNull&&!!Tr(g))&&(!o||!!d.isInsidePlot(f,g,{inverted:d.inverted}))&&u.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:i,group:o,markerGroup:l}=this,d=i.sharedClips,u=i.renderer,f=i.getClipBox(this),g=this.getSharedClipKey(),m=d[g];m?m.animate(f):d[g]=m=u.clipRect(f),o&&o.clip(this.options.clip===!1?void 0:m),l&&l.clip()}animate(i){let{chart:o,group:l,markerGroup:d}=this,u=o.inverted,f=Zb(this.options.animation),g=[this.getSharedClipKey(),f.duration,f.easing,f.defer].join(","),m=o.sharedClips[g],x=o.sharedClips[g+"m"];if(i&&l){let _=o.getClipBox(this);if(m)m.attr("height",_.height);else{_.width=0,u&&(_.x=o.plotHeight),m=o.renderer.clipRect(_),o.sharedClips[g]=m;let w={x:-99,y:-99,width:u?o.plotWidth+199:99,height:u?99:o.plotHeight+199};x=o.renderer.clipRect(w),o.sharedClips[g+"m"]=x}l.clip(m),d==null||d.clip(x)}else if(m&&!m.hasClass("highcharts-animating")){let _=o.getClipBox(this),w=f.step;(d!=null&&d.element.childNodes.length||o.series.length>1)&&(f.step=function(C,j){w&&w.apply(j,arguments),j.prop==="width"&&(x!=null&&x.element)&&x.attr(u?"height":"width",C+99)}),m.addClass("highcharts-animating").animate(_,f)}}afterAnimate(){this.setClip(),fv(this.chart.sharedClips,(i,o,l)=>{i&&!this.chart.container.querySelector(`[clip-path="url(#${i.id})"]`)&&(i.destroy(),delete l[o])}),this.finishedAnimating=!0,er(this,"afterAnimate")}drawPoints(i=this.points){let o,l,d,u,f,g,m,x=this.chart,_=x.styledMode,{colorAxis:w,options:C}=this,j=C.marker,L=C.nullInteraction,F=this[this.specialGroup||"markerGroup"],$=this.xAxis,B=tr(j.enabled,!$||!!$.isRadial||null,this.closestPointRangePx>=j.enabledThreshold*j.radius);if(j.enabled!==!1||this._hasPointMarkers)for(o=0;o<i.length;o++){u=(d=(l=i[o]).graphic)?"animate":"attr",f=l.marker||{},g=!!l.marker;let G=l.isNull;if((B&&!Sr(f.enabled)||f.enabled)&&(!G||L)&&l.visible!==!1){let X=tr(f.symbol,this.symbol,"rect");m=this.markerAttribs(l,l.selected&&"select"),this.enabledDataSorting&&(l.startXPos=$.reversed?-(m.width||0):$.width);let pe=l.isInside!==!1;if(!d&&pe&&((m.width||0)>0||l.hasImage)&&(l.graphic=d=x.renderer.symbol(X,m.x,m.y,m.width,m.height,g?f:j).add(F),this.enabledDataSorting&&x.hasRendered&&(d.attr({x:l.startXPos}),u="animate")),d&&u==="animate"&&d[pe?"show":"hide"](pe).animate(m),d){let de=this.pointAttribs(l,_||!l.selected?void 0:"select");_?w&&d.css({fill:de.fill}):d[u](de)}d&&d.addClass(l.getClassName(),!0)}else d&&(l.graphic=d.destroy())}}markerAttribs(i,o){let l=this.options,d=l.marker,u=i.marker||{},f=u.symbol||d.symbol,g={},m,x,_=tr(u.radius,d==null?void 0:d.radius);o&&(m=d.states[o],x=u.states&&u.states[o],_=tr(x==null?void 0:x.radius,m==null?void 0:m.radius,_&&_+((m==null?void 0:m.radiusPlus)||0))),i.hasImage=f&&f.indexOf("url")===0,i.hasImage&&(_=0);let w=i.pos();return Tr(_)&&w&&(l.crisp&&(w[0]=aN(w[0],i.hasImage?0:f==="rect"?(d==null?void 0:d.lineWidth)||0:1)),g.x=w[0]-_,g.y=w[1]-_),_&&(g.width=g.height=2*_),g}pointAttribs(i,o){var B;let l=this.options,d=l.marker,u=i==null?void 0:i.options,f=(u==null?void 0:u.marker)||{},g=u==null?void 0:u.color,m=i==null?void 0:i.color,x=(B=i==null?void 0:i.zone)==null?void 0:B.color,_,w,C=this.color,j,L,F=tr(f.lineWidth,d.lineWidth),$=i!=null&&i.isNull&&l.nullInteraction?0:1;return C=g||x||m||C,j=f.fillColor||d.fillColor||C,L=f.lineColor||d.lineColor||C,o=o||"normal",_=d.states[o]||{},F=tr((w=f.states&&f.states[o]||{}).lineWidth,_.lineWidth,F+tr(w.lineWidthPlus,_.lineWidthPlus,0)),j=w.fillColor||_.fillColor||j,L=w.lineColor||_.lineColor||L,{stroke:L,"stroke-width":F,fill:j,opacity:$=tr(w.opacity,_.opacity,$)}}destroy(i){var m,x;let o,l,d=this,u=d.chart,f=/AppleWebKit\/533/.test(sN.navigator.userAgent),g=d.data||[];for(er(d,"destroy",{keepEventsForUpdate:i}),this.removeEvents(i),(d.axisTypes||[]).forEach(function(_){l=d[_],l!=null&&l.series&&(tw(l.series,d),l.isDirty=l.forceRedraw=!0)}),d.legendItem&&d.chart.legend.destroyItem(d),o=g.length;o--;)(x=(m=g[o])==null?void 0:m.destroy)==null||x.call(m);for(let _ of d.zones)lN(_,void 0,!0);Qe.clearTimeout(d.animationTimeout),fv(d,function(_,w){_ instanceof en&&!_.survive&&_[f&&w==="group"?"hide":"destroy"]()}),u.hoverSeries===d&&(u.hoverSeries=void 0),tw(u.series,d),u.orderItems("series"),fv(d,function(_,w){i&&w==="hcEvents"||delete d[w]})}applyZones(){let{area:i,chart:o,graph:l,zones:d,points:u,xAxis:f,yAxis:g,zoneAxis:m}=this,{inverted:x,renderer:_}=o,w=this[`${m}Axis`],{isXAxis:C,len:j=0,minPointOffset:L=0}=w||{},F=((l==null?void 0:l.strokeWidth())||0)/2+1,$=(B,G=0,X=0)=>{x&&(X=j-X);let{translated:pe=0,lineClip:de}=B,fe=X-pe;de==null||de.push(["L",G,Math.abs(fe)<F?X-F*(fe<=0?-1:1):pe])};if(d.length&&(l||i)&&w&&Tr(w.min)){let B=w.getExtremes().max+L,G=de=>{de.forEach((fe,ye)=>{(fe[0]==="M"||fe[0]==="L")&&(de[ye]=[fe[0],C?j-fe[1]:fe[1],C?fe[2]:j-fe[2]])})};if(d.forEach(de=>{de.lineClip=[],de.translated=Jb(w.toPixels(tr(de.value,B),!0)||0,0,j)}),l&&!this.showLine&&l.hide(),i&&i.hide(),m==="y"&&u.length<f.len)for(let de of u){let{plotX:fe,plotY:ye,zone:me}=de,xe=me&&d[d.indexOf(me)-1];me&&$(me,fe,ye),xe&&$(xe,fe,ye)}let X=[],pe=w.toPixels(w.getExtremes().min-L,!0);d.forEach(de=>{var lt,Ke;let fe=de.lineClip||[],ye=Math.round(de.translated||0);f.reversed&&fe.reverse();let{clip:me,simpleClip:xe}=de,Ne=0,Ae=0,We=f.len,Ge=g.len;C?(Ne=ye,We=pe):(Ae=ye,Ge=pe);let rt=[["M",Ne,Ae],["L",We,Ae],["L",We,Ge],["L",Ne,Ge],["Z"]],Je=[rt[0],...fe,rt[1],rt[2],...X,rt[3],rt[4]];X=fe.reverse(),pe=ye,x&&(G(Je),i&&G(rt)),me?(me.animate({d:Je}),xe==null||xe.animate({d:rt})):(me=de.clip=_.path(Je),i&&(xe=de.simpleClip=_.path(rt))),l&&((lt=de.graph)==null||lt.clip(me)),i&&((Ke=de.area)==null||Ke.clip(xe))})}else this.visible&&(l&&l.show(),i&&i.show())}plotGroup(i,o,l,d,u){let f=this[i],g=!f,m={visibility:l,zIndex:d||.1};return Sr(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(m.opacity=this.opacity),f||(this[i]=f=this.chart.renderer.g().add(u)),f.addClass("highcharts-"+o+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Sr(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(f.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),f.attr(m)[g?"attr":"animate"](this.getPlotBox(o)),f}getPlotBox(i){let o=this.xAxis,l=this.yAxis,d=this.chart,u=d.inverted&&!d.polar&&o&&this.invertible&&i==="series";d.inverted&&(o=l,l=this.xAxis);let f={scale:1,translateX:o?o.left:d.plotLeft,translateY:l?l.top:d.plotTop,name:i};er(this,"getPlotBox",f);let{scale:g,translateX:m,translateY:x}=f;return{translateX:m,translateY:x,rotation:90*!!u,rotationOriginX:u?g*(o.len-l.len)/2:0,rotationOriginY:u?g*(o.len+l.len)/2:0,scaleX:u?-g:g,scaleY:g}}removeEvents(i){let{eventsToUnbind:o}=this;i||fN(this),o.length&&(o.forEach(l=>{l()}),o.length=0)}render(){var _,w,C,j,L;let i=this,{chart:o,options:l,hasRendered:d}=i,u=Zb(l.animation),f=i.visible?"inherit":"hidden",g=l.zIndex,m=o.seriesGroup,x=i.finishedAnimating?0:u.duration;er(this,"render"),i.plotGroup("group","series",f,g,m),i.markerGroup=i.plotGroup("markerGroup","markers",f,g,m),l.clip!==!1&&i.setClip(),x&&((_=i.animate)==null||_.call(i,!0)),i.drawGraph&&(i.drawGraph(),i.applyZones()),i.visible&&i.drawPoints(),(w=i.drawDataLabels)==null||w.call(i),(C=i.redrawPoints)==null||C.call(i),l.enableMouseTracking&&((j=i.drawTracker)==null||j.call(i)),x&&((L=i.animate)==null||L.call(i)),d||(x&&u.defer&&(x+=u.defer),i.animationTimeout=sw(()=>{i.afterAnimate()},x||0)),i.isDirty=!1,i.hasRendered=!0,er(i,"afterRender")}redraw(){let i=this.isDirty||this.isDirtyData;this.translate(),this.render(),i&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(i,o){let{xAxis:l,yAxis:d}=this,u=this.chart.inverted;return this.searchKDTree({clientX:u?l.len-i.chartY+l.pos:i.chartX-l.pos,plotY:u?d.len-i.chartX+d.pos:i.chartY-d.pos},o,i)}buildKDTree(i){this.buildingKdTree=!0;let o=this,l=o.options,d=l.findNearestPointBy.indexOf("y")>-1?2:1;delete o.kdTree,sw(function(){o.kdTree=function u(f,g,m){let x,_,w=f==null?void 0:f.length;if(w)return x=o.kdAxisArray[g%m],f.sort((C,j)=>(C[x]||0)-(j[x]||0)),{point:f[_=Math.floor(w/2)],left:u(f.slice(0,_),g+1,m),right:u(f.slice(_+1),g+1,m)}}(o.getValidPoints(void 0,!o.directTouch,l==null?void 0:l.nullInteraction),d,d),o.buildingKdTree=!1},l.kdNow||(i==null?void 0:i.type)==="touchstart"?0:1)}searchKDTree(i,o,l,d,u){let f=this,[g,m]=this.kdAxisArray,x=o?"distX":"dist",_=(f.options.findNearestPointBy||"").indexOf("y")>-1?2:1,w=!!f.isBubble,C=d||((L,F,$)=>{let B=L[$]||0,G=F[$]||0;return[B===G&&L.index>F.index||B<G?L:F,!1]}),j=u||((L,F)=>L<F);if(this.kdTree||this.buildingKdTree||this.buildKDTree(l),this.kdTree)return function L(F,$,B,G){var Ne;let X=$.point,pe=f.kdAxisArray[B%G],de=X,fe=!1;(function(Ae,We){var jt;let Ge=Ae[g],rt=We[g],Je=Sr(Ge)&&Sr(rt)?Ge-rt:null,lt=Ae[m],Ke=We[m],ct=Sr(lt)&&Sr(Ke)?lt-Ke:0,wt=w&&((jt=We.marker)==null?void 0:jt.radius)||0;We.dist=Math.sqrt((Je&&Je*Je||0)+ct*ct)-wt,We.distX=Sr(Je)?Math.abs(Je)-wt:Number.MAX_VALUE})(F,X);let ye=(F[pe]||0)-(X[pe]||0)+(w&&((Ne=X.marker)==null?void 0:Ne.radius)||0),me=ye<0?"left":"right",xe=ye<0?"right":"left";return $[me]&&([de,fe]=C(X,L(F,$[me],B+1,G),x)),$[xe]&&j(Math.sqrt(ye*ye),de[x],fe)&&(de=C(de,L(F,$[xe],B+1,G),x)[0]),de}(i,this.kdTree,_,_)}pointPlacementToXValue(){let{options:i,xAxis:o}=this,l=i.pointPlacement;return l==="between"&&(l=o.reversed?-.5:.5),Tr(l)?l*(i.pointRange||o.pointRange):0}isPointInside(i){let{chart:o,xAxis:l,yAxis:d}=this,{plotX:u=-1,plotY:f=-1}=i;return f>=0&&f<=(d?d.len:o.plotHeight)&&u>=0&&u<=(l?l.len:o.plotWidth)}drawTracker(){var C;let i=this,o=i.options,l=o.trackByArea,d=[].concat((l?i.areaPath:i.graphPath)||[]),u=i.chart,f=u.pointer,g=u.renderer,m=((C=u.options.tooltip)==null?void 0:C.snap)||0,x=()=>{o.enableMouseTracking&&u.hoverSeries!==i&&i.onMouseOver()},_="rgba(192,192,192,"+(nN?1e-4:.002)+")",w=i.tracker;w?w.attr({d}):i.graph&&(i.tracker=w=g.path(d).attr({visibility:i.visible?"inherit":"hidden",zIndex:2}).addClass(l?"highcharts-tracker-area":"highcharts-tracker-line").add(i.group),u.styledMode||w.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:_,fill:l?_:"none","stroke-width":i.graph.strokeWidth()+(l?0:2*m)}),[i.tracker,i.markerGroup,i.dataLabelsGroup].forEach(j=>{j&&(j.addClass("highcharts-tracker").on("mouseover",x).on("mouseout",L=>{f==null||f.onTrackerMouseOut(L)}),o.cursor&&!u.styledMode&&j.css({cursor:o.cursor}),j.on("touchstart",x))})),er(this,"afterDrawTracker")}addPoint(i,o,l,d,u){let f,g,m=this.options,{chart:x,data:_,dataTable:w,xAxis:C}=this,j=(C==null?void 0:C.hasNames)&&C.names,L=m.data,F=this.getColumn("x");o=tr(o,!0);let $={series:this};this.pointClass.prototype.applyOptions.apply($,[i]);let B=$.x;if(g=F.length,this.requireSorting&&B<F[g-1])for(f=!0;g&&F[g-1]>B;)g--;w.setRow($,g,!0,{addColumns:!1}),j&&$.name&&(j[B]=$.name),L==null||L.splice(g,0,i),(f||this.processedData)&&(this.data.splice(g,0,null),this.processData()),m.legendType==="point"&&this.generatePoints(),l&&(_[0]&&_[0].remove?_[0].remove(!1):([_,L].filter(Sr).forEach(G=>{G.shift()}),w.deleteRows(0))),u!==!1&&er(this,"addPoint",{point:$}),this.isDirty=!0,this.isDirtyData=!0,o&&x.redraw(d)}removePoint(i,o,l){let d=this,{chart:u,data:f,points:g,dataTable:m}=d,x=f[i],_=function(){[(g==null?void 0:g.length)===f.length?g:void 0,f,d.options.data].filter(Sr).forEach(w=>{w.splice(i,1)}),m.deleteRows(i),x==null||x.destroy(),d.isDirty=!0,d.isDirtyData=!0,o&&u.redraw()};rN(l,u),o=tr(o,!0),x?x.firePointEvent("remove",null,_):_()}remove(i,o,l,d){let u=this,f=u.chart;function g(){u.destroy(d),f.isDirtyLegend=f.isDirtyBox=!0,f.linkSeries(d),tr(i,!0)&&f.redraw(o)}l!==!1?er(u,"remove",null,g):g()}update(i,o){var B,G;er(this,"update",{options:i=cN(i,this.userOptions)});let l=this,d=l.chart,u=l.userOptions,f=l.initialType||l.type,g=d.options.plotOptions,m=Cl[f].prototype,x=l.finishedAnimating&&{animation:!1},_={},w,C,j=kn.keepProps.slice(),L=i.type||u.type||d.options.chart.type,F=!(this.hasDerivedData||L&&L!==this.type||i.keys!==void 0||i.pointStart!==void 0||i.pointInterval!==void 0||i.relativeXValue!==void 0||i.joinBy||i.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(X=>l.hasOptionChanged(X)));L=L||f,F?(j.push.apply(j,kn.keepPropsForPoints),i.visible!==!1&&j.push("area","graph"),l.parallelArrays.forEach(function(X){j.push(X+"Data")}),i.data&&(i.dataSorting&&El(l.options.dataSorting,i.dataSorting),this.setData(i.data,!1))):this.dataTable.modified=this.dataTable,i=vd(u,{index:u.index===void 0?l.index:u.index,pointStart:((B=g==null?void 0:g.series)==null?void 0:B.pointStart)??u.pointStart??l.getColumn("x")[0]},!F&&{data:l.options.data},i,x),F&&i.data&&(i.data=l.options.data),(j=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(j)).forEach(function(X){j[X]=l[X],delete l[X]});let $=!1;if(Cl[L]){if($=L!==l.type,l.remove(!1,!1,!1,!0),$)if(d.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(l,Cl[L].prototype);else{let X=Object.hasOwnProperty.call(l,"hcEvents")&&l.hcEvents;for(C in m)l[C]=void 0;El(l,Cl[L].prototype),X?l.hcEvents=X:delete l.hcEvents}}else of(17,!0,d,{missingModuleFor:L});if(j.forEach(function(X){l[X]=j[X]}),l.init(d,i),F&&this.points)for(let X of((w=l.options).visible===!1?(_.graphic=1,_.dataLabel=1):(this.hasMarkerChanged(w,u)&&(_.graphic=1),(G=l.hasDataLabels)!=null&&G.call(l)||(_.dataLabel=1)),this.points))X!=null&&X.series&&(X.resolveColor(),Object.keys(_).length&&X.destroyElements(_),w.showInLegend===!1&&X.legendItem&&d.legend.destroyItem(X));l.initialType=f,d.linkSeries(),d.setSortedData(),$&&l.linkedSeries.length&&(l.isDirtyData=!0),er(this,"afterUpdate"),tr(o,!0)&&d.redraw(!!F&&void 0)}setName(i){this.name=this.options.name=this.userOptions.name=i,this.chart.isDirtyLegend=!0}hasOptionChanged(i){var g,m;let o=this.chart,l=this.options[i],d=o.options.plotOptions,u=this.userOptions[i],f=tr((g=d==null?void 0:d[this.type])==null?void 0:g[i],(m=d==null?void 0:d.series)==null?void 0:m[i]);return u&&!Sr(f)?l!==u:l!==tr(f,l)}onMouseOver(){let i=this.chart,o=i.hoverSeries,l=i.pointer;l==null||l.setHoverChartIndex(),o&&o!==this&&o.onMouseOut(),this.options.events.mouseOver&&er(this,"mouseOver"),this.setState("hover"),i.hoverSeries=this}onMouseOut(){let i=this.options,o=this.chart,l=o.tooltip,d=o.hoverPoint;o.hoverSeries=null,d&&d.onMouseOut(),this&&i.events.mouseOut&&er(this,"mouseOut"),l&&!this.stickyTracking&&(!l.shared||this.noSharedTooltip)&&l.hide(),o.series.forEach(function(u){u.setState("",!0)})}setState(i,o){let l=this,d=l.options,u=l.graph,f=d.inactiveOtherPoints,g=d.states,m=tr(g[i||"normal"]&&g[i||"normal"].animation,l.chart.options.chart.animation),x=d.lineWidth,_=d.opacity;if(i=i||"",l.state!==i&&([l.group,l.markerGroup,l.dataLabelsGroup].forEach(function(w){w&&(l.state&&w.removeClass("highcharts-series-"+l.state),i&&w.addClass("highcharts-series-"+i))}),l.state=i,!l.chart.styledMode)){if(g[i]&&g[i].enabled===!1)return;if(i&&(x=g[i].lineWidth||x+(g[i].lineWidthPlus||0),_=tr(g[i].opacity,_)),u&&!u.dashstyle&&Tr(x))for(let w of[u,...this.zones.map(C=>C.graph)])w==null||w.animate({"stroke-width":x},m);f||[l.group,l.markerGroup,l.dataLabelsGroup,l.labelBySeries].forEach(function(w){w&&w.animate({opacity:_},m)})}o&&f&&l.points&&l.setAllPointsToState(i||void 0)}setAllPointsToState(i){this.points.forEach(function(o){o.setState&&o.setState(i)})}setVisible(i,o){var m;let l=this,d=l.chart,u=d.options.chart.ignoreHiddenSeries,f=l.visible;l.visible=i=l.options.visible=l.userOptions.visible=i===void 0?!f:i;let g=i?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(x=>{var _;(_=l[x])==null||_[g]()}),(d.hoverSeries===l||((m=d.hoverPoint)==null?void 0:m.series)===l)&&l.onMouseOut(),l.legendItem&&d.legend.colorizeItem(l,i),l.isDirty=!0,l.options.stacking&&d.series.forEach(x=>{x.options.stacking&&x.visible&&(x.isDirty=!0)}),l.linkedSeries.forEach(x=>{x.setVisible(i,!1)}),u&&(d.isDirtyBox=!0),er(l,g),o!==!1&&d.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(i){this.selected=i=this.options.selected=i===void 0?!this.selected:i,this.checkbox&&(this.checkbox.checked=i),er(this,i?"select":"unselect")}shouldShowTooltip(i,o,l={}){return l.series=this,l.visiblePlotOnly=!0,this.chart.isInsidePlot(i,o,l)}drawLegendSymbol(i,o){var l;(l=wn[this.options.legendSymbol||"rectangle"])==null||l.call(this,i,o)}}kn.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:y}=this.series.chart;return typeof this.y!="number"?"":y(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},kn.types=or.seriesTypes,kn.registerType=or.registerSeriesType,kn.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],kn.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],El(kn.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Z,requireSorting:!0,sorted:!0}),or.series=kn;let Si=kn,{animObject:pN,setAnimation:gN}=jr,{registerEventOptions:ow}=pl,{composed:mN,marginNames:aw}=J,{distribute:vN}=us,{format:xN}=sr,{addEvent:af,createElement:yN,css:bN,defined:pv,discardElement:wN,find:kN,fireEvent:ys,isNumber:lw,merge:ca,pick:Sn,pushUnique:SN,relativeLength:_N,stableSort:CN,syncTimeout:EN}=Qe;class gv{constructor(i,o){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=i,this.setOptions(o),o.enabled&&(this.render(),ow(this,o),af(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),af(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(i){let o=Sn(i.padding,8);this.options=i,this.chart.styledMode||(this.itemStyle=i.itemStyle,this.itemHiddenStyle=ca(this.itemStyle,i.itemHiddenStyle)),this.itemMarginTop=i.itemMarginTop,this.itemMarginBottom=i.itemMarginBottom,this.padding=o,this.initialItemY=o-5,this.symbolWidth=Sn(i.symbolWidth,16),this.pages=[],this.proximate=i.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(i,o){let l=this.chart;this.setOptions(ca(!0,this.options,i)),"events"in this.options&&ow(this,this.options),this.destroy(),l.isDirtyLegend=l.isDirtyBox=!0,Sn(o,!0)&&l.redraw(),ys(this,"afterUpdate",{redraw:o})}colorizeItem(i,o){var x;let l=i.color,{area:d,group:u,label:f,line:g,symbol:m}=i.legendItem||{};if((i instanceof Si||i instanceof Z)&&(i.color=((x=i.options)==null?void 0:x.legendSymbolColor)||l),u==null||u[o?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:_={}}=this,w=_.color,{fillColor:C,fillOpacity:j,lineColor:L,marker:F}=i.options,$=B=>(!o&&(B.fill&&(B.fill=w),B.stroke&&(B.stroke=w)),B);f==null||f.css(ca(o?this.itemStyle:_)),g==null||g.attr($({stroke:L||i.color})),m&&m.attr($(F&&m.isMarker?i.pointAttribs():{fill:i.color})),d==null||d.attr($({fill:C||i.color,"fill-opacity":C?1:j??.75}))}i.color=l,ys(this,"afterColorizeItem",{item:i,visible:o})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(i){let{group:o,x:l=0,y:d=0}=i.legendItem||{},u=this.options,f=u.symbolPadding,g=!u.rtl,m=i.checkbox;if(o!=null&&o.element){let x={translateX:g?l:this.legendWidth-l-2*f-4,translateY:d};o[pv(o.translateY)?"animate":"attr"](x,void 0,()=>{ys(this,"afterPositionItem",{item:i})})}m&&(m.x=l,m.y=d)}destroyItem(i){let o=i.legendItem||{};for(let l of["group","label","line","symbol"])o[l]&&(o[l]=o[l].destroy());i.checkbox=wN(i.checkbox),i.legendItem=void 0}destroy(){for(let i of this.getAllItems())this.destroyItem(i);for(let i of["clipRect","up","down","pager","nav","box","title","group"])this[i]&&(this[i]=this[i].destroy());this.display=null}positionCheckboxes(){var u;let i,o=(u=this.group)==null?void 0:u.alignAttr,l=this.clipHeight||this.legendHeight,d=this.titleHeight;o&&(i=o.translateY,this.allItems.forEach(function(f){let g,m=f.checkbox;m&&(g=i+d+m.y+(this.scrollOffset||0)+3,bN(m,{left:o.translateX+f.checkboxOffset+m.x-20+"px",top:g+"px",display:this.proximate||g>i-6&&g<i+l-6?"":"none"}))},this))}renderTitle(){let i=this.options,o=this.padding,l=i.title,d,u=0;l.text&&(this.title||(this.title=this.chart.renderer.label(l.text,o-3,o-4,void 0,void 0,void 0,i.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(l.style),this.title.add(this.group)),l.width||this.title.css({width:this.maxLegendWidth+"px"}),u=(d=this.title.getBBox()).height,this.offsetWidth=d.width,this.contentGroup.attr({translateY:u})),this.titleHeight=u}setText(i){let o=this.options;i.legendItem.label.attr({text:o.labelFormat?xN(o.labelFormat,i,this.chart):o.labelFormatter.call(i)})}renderItem(i){var ye;let o=i.legendItem=i.legendItem||{},l=this.chart,d=l.renderer,u=this.options,f=u.layout==="horizontal",g=this.symbolWidth,m=u.symbolPadding||0,x=this.itemStyle,_=this.itemHiddenStyle,w=f?Sn(u.itemDistance,20):0,C=!u.rtl,j=!i.series,L=!j&&i.series.drawLegendSymbol?i.series:i,F=L.options,$=!!this.createCheckboxForItem&&F&&F.showCheckbox,B=u.useHTML,G=i.options.className,X=o.label,pe=g+m+w+20*!!$;!X&&(o.group=d.g("legend-item").addClass("highcharts-"+L.type+"-series highcharts-color-"+i.colorIndex+(G?" "+G:"")+(j?" highcharts-series-"+i.index:"")).attr({zIndex:1}).add(this.scrollGroup),o.label=X=d.text("",C?g+m:-m,this.baseline||0,B),l.styledMode||X.css(ca(i.visible?x:_)),X.attr({align:C?"left":"right",zIndex:2}).add(o.group),!this.baseline&&(this.fontMetrics=d.fontMetrics(X),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,X.attr("y",this.baseline),this.symbolHeight=Sn(u.symbolHeight,this.fontMetrics.f),u.squareSymbol&&(this.symbolWidth=Sn(u.symbolWidth,Math.max(this.symbolHeight,16)),pe=this.symbolWidth+m+w+20*!!$,C&&X.attr("x",this.symbolWidth+m))),L.drawLegendSymbol(this,i),this.setItemEvents&&this.setItemEvents(i,X,B)),$&&!i.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(i),this.colorizeItem(i,i.visible),(l.styledMode||!x.width)&&X.css({width:(u.itemWidth||this.widthOption||l.spacingBox.width)-pe+"px"}),this.setText(i);let de=X.getBBox(),fe=((ye=this.fontMetrics)==null?void 0:ye.h)||0;i.itemWidth=i.checkboxOffset=u.itemWidth||o.labelWidth||de.width+pe,this.maxItemWidth=Math.max(this.maxItemWidth,i.itemWidth),this.totalItemWidth+=i.itemWidth,this.itemHeight=i.itemHeight=Math.round(o.labelHeight||(de.height>1.5*fe?de.height:fe))}layoutItem(i){let o=this.options,l=this.padding,d=o.layout==="horizontal",u=i.itemHeight,f=this.itemMarginBottom,g=this.itemMarginTop,m=d?Sn(o.itemDistance,20):0,x=this.maxLegendWidth,_=o.alignColumns&&this.totalItemWidth>x?this.maxItemWidth:i.itemWidth,w=i.legendItem||{};d&&this.itemX-l+_>x&&(this.itemX=l,this.lastLineHeight&&(this.itemY+=g+this.lastLineHeight+f),this.lastLineHeight=0),this.lastItemY=g+this.itemY+f,this.lastLineHeight=Math.max(u,this.lastLineHeight),w.x=this.itemX,w.y=this.itemY,d?this.itemX+=_:(this.itemY+=g+u+f,this.lastLineHeight=u),this.offsetWidth=this.widthOption||Math.max((d?this.itemX-l-(i.checkbox?0:m):_)+l,this.offsetWidth)}getAllItems(){let i=[];return this.chart.series.forEach(function(o){var d;let l=o==null?void 0:o.options;o&&Sn(l.showInLegend,!pv(l.linkedTo)&&void 0,!0)&&(i=i.concat(((d=o.legendItem)==null?void 0:d.labels)||(l.legendType==="point"?o.data:o)))}),ys(this,"afterGetAllItems",{allItems:i}),i}getAlignment(){let i=this.options;return this.proximate?i.align.charAt(0)+"tv":i.floating?"":i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0)}adjustMargins(i,o){let l=this.chart,d=this.options,u=this.getAlignment();u&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((f,g)=>{f.test(u)&&!pv(i[g])&&(l[aw[g]]=Math.max(l[aw[g]],l.legend[(g+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][g]*d[g%2?"x":"y"]+(d.margin??12)+o[g]+(l.titleOffset[g]||0)))})}proximatePositions(){let i,o=this.chart,l=[],d=this.options.align==="left";for(let u of(this.allItems.forEach(function(f){let g,m,x=d,_,w;f.yAxis&&(f.xAxis.options.reversed&&(x=!x),f.points&&(g=kN(x?f.points:f.points.slice(0).reverse(),function(C){return lw(C.plotY)})),m=this.itemMarginTop+f.legendItem.label.getBBox().height+this.itemMarginBottom,w=f.yAxis.top-o.plotTop,_=f.visible?(g?g.plotY:f.yAxis.height)+(w-.3*m):w+f.yAxis.height,l.push({target:_,size:m,item:f}))},this),vN(l,o.plotHeight)))i=u.item.legendItem||{},lw(u.pos)&&(i.y=o.plotTop-o.spacing[0]+u.pos)}render(){let i=this.chart,o=i.renderer,l=this.options,d=this.padding,u=this.getAllItems(),f,g,m,x=this.group,_,w=this.box;this.itemX=d,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=_N(l.width,i.spacingBox.width-d),_=i.spacingBox.width-2*d-l.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(_/=2),this.maxLegendWidth=this.widthOption||_,x||(this.group=x=o.g("legend").addClass(l.className||"").attr({zIndex:7}).add(),this.contentGroup=o.g().attr({zIndex:1}).add(x),this.scrollGroup=o.g().add(this.contentGroup)),this.renderTitle(),CN(u,(C,j)=>{var L,F;return(((L=C.options)==null?void 0:L.legendIndex)||0)-(((F=j.options)==null?void 0:F.legendIndex)||0)}),l.reversed&&u.reverse(),this.allItems=u,this.display=f=!!u.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,u.forEach(this.renderItem,this),u.forEach(this.layoutItem,this),g=(this.widthOption||this.offsetWidth)+d,m=this.lastItemY+this.lastLineHeight+this.titleHeight,m=this.handleOverflow(m)+d,w||(this.box=w=o.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(x)),i.styledMode||w.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),g>0&&m>0&&w[w.placed?"animate":"attr"](w.crisp.call({},{x:0,y:0,width:g,height:m},w.strokeWidth())),x[f?"show":"hide"](),i.styledMode&&x.getStyle("display")==="none"&&(g=m=0),this.legendWidth=g,this.legendHeight=m,f&&this.align(),this.proximate||this.positionItems(),ys(this,"afterRender")}align(i=this.chart.spacingBox){let o=this.chart,l=this.options,d=i.y;/(lth|ct|rth)/.test(this.getAlignment())&&o.titleOffset[0]>0?d+=o.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&o.titleOffset[2]>0&&(d-=o.titleOffset[2]),d!==i.y&&(i=ca(i,{y:d})),o.hasRendered||(this.group.placed=!1),this.group.align(ca(l,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,i)}handleOverflow(i){let o=this,l=this.chart,d=l.renderer,u=this.options,f=u.y,g=u.verticalAlign==="top",m=this.padding,x=u.maxHeight,_=u.navigation,w=Sn(_.animation,!0),C=_.arrowSize||12,j=this.pages,L=this.allItems,F=function(me){typeof me=="number"?ye.attr({height:me}):ye&&(o.clipRect=ye.destroy(),o.contentGroup.clip()),o.contentGroup.div&&(o.contentGroup.div.style.clip=me?"rect("+m+"px,9999px,"+(m+me)+"px,0)":"auto")},$=function(me){return o[me]=d.circle(0,0,1.3*C).translate(C/2,C/2).add(fe),l.styledMode||o[me].attr("fill","rgba(0,0,0,0.0001)"),o[me]},B,G,X,pe,de=l.spacingBox.height+(g?-f:f)-m,fe=this.nav,ye=this.clipRect;return u.layout!=="horizontal"||u.verticalAlign==="middle"||u.floating||(de/=2),x&&(de=Math.min(de,x)),j.length=0,i&&de>0&&i>de&&_.enabled!==!1?(this.clipHeight=B=Math.max(de-20-this.titleHeight-m,0),this.currentPage=Sn(this.currentPage,1),this.fullHeight=i,L.forEach((me,xe)=>{let Ne=(X=me.legendItem||{}).y||0,Ae=Math.round(X.label.getBBox().height),We=j.length;(!We||Ne-j[We-1]>B&&(G||Ne)!==j[We-1])&&(j.push(G||Ne),We++),X.pageIx=We-1,G&&pe&&(pe.pageIx=We-1),xe===L.length-1&&Ne+Ae-j[We-1]>B&&Ne>j[We-1]&&(j.push(Ne),X.pageIx=We),Ne!==G&&(G=Ne),pe=X}),ye||(ye=o.clipRect=d.clipRect(0,m-2,9999,0),o.contentGroup.clip(ye)),F(B),fe||(this.nav=fe=d.g().attr({zIndex:1}).add(this.group),this.up=d.symbol("triangle",0,0,C,C).add(fe),$("upTracker").on("click",function(){o.scroll(-1,w)}),this.pager=d.text("",15,10).addClass("highcharts-legend-navigation"),!l.styledMode&&_.style&&this.pager.css(_.style),this.pager.add(fe),this.down=d.symbol("triangle-down",0,0,C,C).add(fe),$("downTracker").on("click",function(){o.scroll(1,w)})),o.scroll(0),i=de):fe&&(F(),this.nav=fe.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),i}scroll(i,o){let l=this.chart,d=this.pages,u=d.length,f=this.clipHeight,g=this.options.navigation,m=this.pager,x=this.padding,_=this.currentPage+i;_>u&&(_=u),_>0&&(o!==void 0&&gN(o,l),this.nav.attr({translateX:x,translateY:f+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(w){w.attr({class:_===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),m.attr({text:_+"/"+u}),[this.down,this.downTracker].forEach(function(w){w.attr({x:18+this.pager.getBBox().width,class:_===u?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),l.styledMode||(this.up.attr({fill:_===1?g.inactiveColor:g.activeColor}),this.upTracker.css({cursor:_===1?"default":"pointer"}),this.down.attr({fill:_===u?g.inactiveColor:g.activeColor}),this.downTracker.css({cursor:_===u?"default":"pointer"})),this.scrollOffset=-d[_-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=_,this.positionCheckboxes(),EN(()=>{ys(this,"afterScroll",{currentPage:_})},pN(Sn(o,l.renderer.globalAnimation,!0)).duration))}setItemEvents(i,o,l){let d=this,u=i.legendItem||{},f=d.chart.renderer.boxWrapper,g=i instanceof Z,m=i instanceof Si,x="highcharts-legend-"+(g?"point":"series")+"-active",_=d.chart.styledMode,w=l?[o,u.symbol]:[u.group],C=j=>{d.allItems.forEach(L=>{i!==L&&[L].concat(L.linkedSeries||[]).forEach(F=>{F.setState(j,!g)})})};for(let j of w)j&&j.on("mouseover",function(){i.visible&&C("inactive"),i.setState("hover"),i.visible&&f.addClass(x),_||o.css(d.options.itemHoverStyle)}).on("mouseout",function(){d.chart.styledMode||o.css(ca(i.visible?d.itemStyle:d.itemHiddenStyle)),C(""),f.removeClass(x),i.setState()}).on("click",function(L){let F=function(){i.setVisible&&i.setVisible(),C(i.visible?"inactive":"")};f.removeClass(x),ys(d,"itemClick",{browserEvent:L,legendItem:i},F),g?i.firePointEvent("legendItemClick",{browserEvent:L}):m&&ys(i,"legendItemClick",{browserEvent:L})})}createCheckboxForItem(i){i.checkbox=yN("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:i.selected,defaultChecked:i.selected},this.options.itemCheckboxStyle,this.chart.container),af(i.checkbox,"click",function(o){let l=o.target;ys(i.series||i,"checkboxClick",{checked:l.checked,item:i},function(){i.select()})})}}(function(y){y.compose=function(i){SN(mN,"Core.Legend")&&af(i,"beforeMargins",function(){this.legend=new y(this,this.options.legend)})}})(gv||(gv={}));let cw=gv,{animate:mv,animObject:MN,setAnimation:vv}=jr,{defaultOptions:xv}=Oi,{numberFormat:jN}=sr,{registerEventOptions:dw}=pl,{charts:da,doc:xd,marginNames:uw,svg:NN,win:hw}=J,{seriesTypes:yv}=or,{addEvent:bv,attr:fw,createElement:wv,css:_n,defined:oo,diffObjects:pw,discardElement:TN,erase:AN,error:kv,extend:ao,find:Sv,fireEvent:Ot,getAlignFactor:PN,getStyle:_v,isArray:ON,isNumber:Ml,isObject:RN,isString:lf,merge:Yn,objectEach:Cv,pick:hi,pInt:LN,relativeLength:gw,removeEvent:mw,splat:cf,syncTimeout:IN,uniqueKey:DN}=Qe;class lo{static chart(i,o,l){return new lo(i,o,l)}constructor(i,o,l){this.sharedClips={};let d=[...arguments];(lf(i)||i.nodeName)&&(this.renderTo=d.shift()),this.init(d[0],d[1])}setZoomOptions(){let i=this.options.chart,o=i.zooming;this.zooming={...o,type:hi(i.zoomType,o.type),key:hi(i.zoomKey,o.key),pinchType:hi(i.pinchType,o.pinchType),singleTouch:hi(i.zoomBySingleTouch,o.singleTouch,!1),resetButton:Yn(o.resetButton,i.resetZoomButton)}}init(i,o){Ot(this,"init",{args:arguments},function(){var f;let l=Yn(xv,i),d=l.chart,u=this.renderTo||d.renderTo;this.userOptions=ao({},i),(this.renderTo=lf(u)?xd.getElementById(u):u)||kv(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=o,this.isResizing=0,this.options=l,this.axes=[],this.series=[],this.locale=l.lang.locale??((f=this.renderTo.closest("[lang]"))==null?void 0:f.lang),this.time=new Uc(ao(l.time||{},{locale:this.locale}),l.lang),l.time=this.time.options,this.numberFormatter=(d.numberFormatter||jN).bind(this),this.styledMode=d.styledMode,this.hasCartesianSeries=d.showAxes,this.index=da.length,da.push(this),J.chartCount++,dw(this,d),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Ot(this,"afterInit"),this.firstRender()})}initSeries(i){let o=this.options.chart,l=i.type||o.type,d=yv[l];d||kv(17,!0,this,{missingModuleFor:l});let u=new d;return typeof u.init=="function"&&u.init(this,i),u}setSortedData(){this.getSeriesOrderByLinks().forEach(function(i){i.points||i.data||!i.enabledDataSorting||i.setData(i.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(i,o){return i.linkedSeries.length||o.linkedSeries.length?o.linkedSeries.length-i.linkedSeries.length:0})}orderItems(i,o=0){let l=this[i],d=this.options[i]=cf(this.options[i]).slice(),u=this.userOptions[i]=this.userOptions[i]?cf(this.userOptions[i]).slice():[];if(this.hasRendered&&(d.splice(o),u.splice(o)),l)for(let f=o,g=l.length;f<g;++f){let m=l[f];m&&(m.index=f,m instanceof Si&&(m.name=m.getName()),m.options.isInternal||(d[f]=m.options,u[f]=m.userOptions))}}getClipBox(i,o){var _,w;let l=this.inverted,{xAxis:d,yAxis:u}=i||{},{x:f,y:g,width:m,height:x}=Yn(this.clipBox);return i&&(d&&d.len!==this.plotSizeX&&(m=d.len),u&&u.len!==this.plotSizeY&&(x=u.len),l&&!i.invertible&&([m,x]=[x,m])),o&&(f+=((_=l?u:d)==null?void 0:_.pos)??this.plotLeft,g+=((w=l?d:u)==null?void 0:w.pos)??this.plotTop),{x:f,y:g,width:m,height:x}}isInsidePlot(i,o,l={}){var $;let{inverted:d,plotBox:u,plotLeft:f,plotTop:g,scrollablePlotBox:m}=this,{scrollLeft:x=0,scrollTop:_=0}=l.visiblePlotOnly&&(($=this.scrollablePlotArea)==null?void 0:$.scrollingContainer)||{},w=l.series,C=l.visiblePlotOnly&&m||u,j=l.inverted?o:i,L=l.inverted?i:o,F={x:j,y:L,isInsidePlot:!0,options:l};if(!l.ignoreX){let B=w&&(d&&!this.polar?w.yAxis:w.xAxis)||{pos:f,len:1/0},G=l.paneCoordinates?B.pos+j:f+j;G>=Math.max(x+f,B.pos)&&G<=Math.min(x+f+C.width,B.pos+B.len)||(F.isInsidePlot=!1)}if(!l.ignoreY&&F.isInsidePlot){let B=!d&&l.axis&&!l.axis.isXAxis&&l.axis||w&&(d?w.xAxis:w.yAxis)||{pos:g,len:1/0},G=l.paneCoordinates?B.pos+L:g+L;G>=Math.max(_+g,B.pos)&&G<=Math.min(_+g+C.height,B.pos+B.len)||(F.isInsidePlot=!1)}return Ot(this,"afterIsInsidePlot",F),F.isInsidePlot}redraw(i){Ot(this,"beforeRedraw");let o=this.hasCartesianSeries?this.axes:this.colorAxis||[],l=this.series,d=this.pointer,u=this.legend,f=this.userOptions.legend,g=this.renderer,m=g.isHidden(),x=[],_,w,C,j=this.isDirtyBox,L=this.isDirtyLegend,F;for(g.rootFontSize=g.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),vv(!!this.hasRendered&&i,this),m&&this.temporaryDisplay(),this.layOutTitles(!1),C=l.length;C--;)if(((F=l[C]).options.stacking||F.options.centerInCategory)&&(w=!0,F.isDirty)){_=!0;break}if(_)for(C=l.length;C--;)(F=l[C]).options.stacking&&(F.isDirty=!0);l.forEach(function($){$.isDirty&&($.options.legendType==="point"?(typeof $.updateTotals=="function"&&$.updateTotals(),L=!0):f&&(f.labelFormatter||f.labelFormat)&&(L=!0)),$.isDirtyData&&Ot($,"updatedData")}),L&&u&&u.options.enabled&&(u.render(),this.isDirtyLegend=!1),w&&this.getStacks(),o.forEach(function($){$.updateNames(),$.setScale()}),this.getMargins(),o.forEach(function($){$.isDirty&&(j=!0)}),o.forEach(function($){let B=$.min+","+$.max;$.extKey!==B&&($.extKey=B,x.push(function(){Ot($,"afterSetExtremes",ao($.eventArgs,$.getExtremes())),delete $.eventArgs})),(j||w)&&$.redraw()}),j&&this.drawChartBox(),Ot(this,"predraw"),l.forEach(function($){(j||$.isDirty)&&$.visible&&$.redraw(),$.isDirtyData=!1}),d&&d.reset(!0),g.draw(),Ot(this,"redraw"),Ot(this,"render"),m&&this.temporaryDisplay(!0),x.forEach(function($){$.call()})}get(i){let o=this.series;function l(u){return u.id===i||u.options&&u.options.id===i}let d=Sv(this.axes,l)||Sv(this.series,l);for(let u=0;!d&&u<o.length;u++)d=Sv(o[u].points||[],l);return d}createAxes(){let i=this.userOptions;for(let o of(Ot(this,"createAxes"),["xAxis","yAxis"]))for(let l of i[o]=cf(i[o]||{}))new xs(this,l,o);Ot(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((i,o)=>(o.getPointsCollection().forEach(l=>{hi(l.selectedStaging,l.selected)&&i.push(l)}),i),[])}getSelectedSeries(){return this.series.filter(i=>i.selected)}setTitle(i,o,l){this.applyDescription("title",i),this.applyDescription("subtitle",o),this.applyDescription("caption",void 0),this.layOutTitles(l)}applyDescription(i,o){var f;let l=this,d=this.options[i]=Yn(this.options[i],o),u=this[i];u&&o&&(this[i]=u=u.destroy()),d&&!u&&((u=this.renderer.text(d.text,0,0,d.useHTML).attr({align:d.align,class:"highcharts-"+i,zIndex:d.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(g,m){l.applyDescription(i,g),l.layOutTitles(m)},this.styledMode||u.css(ao(i==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},d.style)),u.textPxLength=u.getBBox().width,u.css({whiteSpace:(f=d.style)==null?void 0:f.whiteSpace}),this[i]=u)}layOutTitles(i=!0){var g,m,x,_;let o=[0,0,0],{options:l,renderer:d,spacingBox:u}=this;["title","subtitle","caption"].forEach(w=>{var $;let C=this[w],j=this.options[w],L=Yn(u),F=(C==null?void 0:C.textPxLength)||0;if(C&&j){Ot(this,"layOutTitle",{alignTo:L,key:w,textPxLength:F});let B=d.fontMetrics(C),G=B.b,X=B.h,pe=j.verticalAlign||"top",de=pe==="top",fe=de&&j.minScale||1,ye=w==="title"?de?-3:0:de?o[0]+2:0,me=Math.min(L.width/F,1),xe=Math.max(fe,me),Ne=Yn({y:pe==="bottom"?G:ye+G},{align:w==="title"?me<fe?"left":"center":($=this.title)==null?void 0:$.alignValue},j),Ae=(j.width||(me>fe?this.chartWidth:L.width)/xe)+"px";C.alignValue!==Ne.align&&(C.placed=!1);let We=Math.round(C.css({width:Ae}).getBBox(j.useHTML).height);if(Ne.height=We,C.align(Ne,!1,L).attr({align:Ne.align,scaleX:xe,scaleY:xe,"transform-origin":`${L.x+F*xe*PN(Ne.align)} ${X}`}),!j.floating){let Ge=We*(We<1.2*X?1:xe);pe==="top"?o[0]=Math.ceil(o[0]+Ge):pe==="bottom"&&(o[2]=Math.ceil(o[2]+Ge))}}},this),o[0]&&(((g=l.title)==null?void 0:g.verticalAlign)||"top")==="top"&&(o[0]+=((m=l.title)==null?void 0:m.margin)||0),o[2]&&((x=l.caption)==null?void 0:x.verticalAlign)==="bottom"&&(o[2]+=((_=l.caption)==null?void 0:_.margin)||0);let f=!this.titleOffset||this.titleOffset.join(",")!==o.join(",");this.titleOffset=o,Ot(this,"afterLayOutTitles"),!this.isDirtyBox&&f&&(this.isDirtyBox=this.isDirtyLegend=f,this.hasRendered&&i&&this.isDirtyBox&&this.redraw())}getContainerBox(){let i=[].map.call(this.renderTo.children,l=>{if(l!==this.container){let d=l.style.display;return l.style.display="none",[l,d]}}),o={width:_v(this.renderTo,"width",!0)||0,height:_v(this.renderTo,"height",!0)||0};return i.filter(Boolean).forEach(([l,d])=>{l.style.display=d}),o}getChartSize(){var f;let i=this.options.chart,o=i.width,l=i.height,d=this.getContainerBox(),u=d.height<=1||!((f=this.renderTo.parentElement)!=null&&f.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,o||d.width||600),this.chartHeight=Math.max(0,gw(l,this.chartWidth)||(u?400:d.height)),this.containerBox=d}temporaryDisplay(i){let o=this.renderTo,l;if(i)for(;o!=null&&o.style;)o.hcOrigStyle&&(_n(o,o.hcOrigStyle),delete o.hcOrigStyle),o.hcOrigDetached&&(xd.body.removeChild(o),o.hcOrigDetached=!1),o=o.parentNode;else for(;o!=null&&o.style&&(xd.body.contains(o)||o.parentNode||(o.hcOrigDetached=!0,xd.body.appendChild(o)),(_v(o,"display",!1)==="none"||o.hcOricDetached)&&(o.hcOrigStyle={display:o.style.display,height:o.style.height,overflow:o.style.overflow},l={display:"block",overflow:"hidden"},o!==this.renderTo&&(l.height=0),_n(o,l),o.offsetWidth||o.style.setProperty("display","block","important")),(o=o.parentNode)!==xd.body););}setClassName(i){this.container.className="highcharts-container "+(i||"")}getContainer(){var C,j;let i,o=this.options,l=o.chart,d="data-highcharts-chart",u=DN(),f=this.renderTo,g=LN(fw(f,d));Ml(g)&&da[g]&&da[g].hasRendered&&da[g].destroy(),fw(f,d,this.index),f.innerHTML=Ut.emptyHTML,l.skipClone||f.offsetWidth||this.temporaryDisplay(),this.getChartSize();let m=this.chartHeight,x=this.chartWidth;_n(f,{overflow:"hidden"}),this.styledMode||(i=ao({position:"relative",overflow:"hidden",width:x+"px",height:m+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},l.style||{}));let _=wv("div",{id:u},i,f);this.container=_,this.getChartSize(),x!==this.chartWidth&&(x=this.chartWidth,this.styledMode||_n(_,{width:hi((C=l.style)==null?void 0:C.width,x+"px")})),this.containerBox=this.getContainerBox(),this._cursor=_.style.cursor;let w=l.renderer||!NN?qi.getRendererType(l.renderer):hl;if(this.renderer=new w(_,x,m,void 0,l.forExport,(j=o.exporting)==null?void 0:j.allowHTML,this.styledMode),vv(void 0,this),this.setClassName(l.className),this.styledMode)for(let L in o.defs)this.renderer.definition(o.defs[L]);else this.renderer.setStyle(l.style);this.renderer.chartIndex=this.index,Ot(this,"afterGetContainer")}getMargins(i){var u;let{spacing:o,margin:l,titleOffset:d}=this;this.resetMargins(),d[0]&&!oo(l[0])&&(this.plotTop=Math.max(this.plotTop,d[0]+o[0])),d[2]&&!oo(l[2])&&(this.marginBottom=Math.max(this.marginBottom,d[2]+o[2])),(u=this.legend)!=null&&u.display&&this.legend.adjustMargins(l,o),Ot(this,"getMargins"),i||this.getAxisMargins()}getAxisMargins(){let i=this,o=i.axisOffset=[0,0,0,0],l=i.colorAxis,d=i.margin,u=f=>{f.forEach(g=>{g.visible&&g.getOffset()})};i.hasCartesianSeries?u(i.axes):l!=null&&l.length&&u(l),uw.forEach((f,g)=>{oo(d[g])||(i[f]+=o[g])}),i.setChartSize()}getOptions(){return pw(this.userOptions,xv)}reflow(i){var u,f;let o=this,l=o.containerBox,d=o.getContainerBox();(u=o.pointer)==null||delete u.chartPosition,!((f=o.exporting)!=null&&f.isPrinting)&&!o.isResizing&&l&&d.width&&((d.width!==l.width||d.height!==l.height)&&(Qe.clearTimeout(o.reflowTimeout),o.reflowTimeout=IN(function(){o.container&&o.setSize(void 0,void 0,!1)},100*!!i)),o.containerBox=d)}setReflow(){let i=this,o=l=>{var d;(d=i.options)!=null&&d.chart.reflow&&i.hasLoaded&&i.reflow(l)};if(typeof ResizeObserver=="function")new ResizeObserver(o).observe(i.renderTo);else{let l=bv(hw,"resize",o);bv(this,"destroy",l)}}setSize(i,o,l){let d=this,u=d.renderer;d.isResizing+=1,vv(l,d);let f=u.globalAnimation;d.oldChartHeight=d.chartHeight,d.oldChartWidth=d.chartWidth,i!==void 0&&(d.options.chart.width=i),o!==void 0&&(d.options.chart.height=o),d.getChartSize();let{chartWidth:g,chartHeight:m,scrollablePixelsX:x=0,scrollablePixelsY:_=0}=d;(d.isDirtyBox||g!==d.oldChartWidth||m!==d.oldChartHeight)&&(d.styledMode||(f?mv:_n)(d.container,{width:`${g+x}px`,height:`${m+_}px`},f),d.setChartSize(!0),u.setSize(g,m,f),d.axes.forEach(function(w){w.isDirty=!0,w.setScale()}),d.isDirtyLegend=!0,d.isDirtyBox=!0,d.layOutTitles(),d.getMargins(),d.redraw(f),d.oldChartHeight=void 0,Ot(d,"resize"),setTimeout(()=>{d&&Ot(d,"endResize")},MN(f).duration)),d.isResizing-=1}setChartSize(i){let o,l,d,u,{chartHeight:f,chartWidth:g,inverted:m,spacing:x,renderer:_}=this,w=this.clipOffset,C=Math[m?"floor":"round"];this.plotLeft=o=Math.round(this.plotLeft),this.plotTop=l=Math.round(this.plotTop),this.plotWidth=d=Math.max(0,Math.round(g-o-(this.marginRight??0))),this.plotHeight=u=Math.max(0,Math.round(f-l-(this.marginBottom??0))),this.plotSizeX=m?u:d,this.plotSizeY=m?d:u,this.spacingBox=_.spacingBox={x:x[3],y:x[0],width:g-x[3]-x[1],height:f-x[0]-x[2]},this.plotBox=_.plotBox={x:o,y:l,width:d,height:u},w&&(this.clipBox={x:C(w[3]),y:C(w[0]),width:C(this.plotSizeX-w[1]-w[3]),height:C(this.plotSizeY-w[0]-w[2])}),i||(this.axes.forEach(function(j){j.setAxisSize(),j.setAxisTranslation()}),_.alignElements()),Ot(this,"afterSetChartSize",{skipAxes:i})}resetMargins(){Ot(this,"resetMargins");let i=this,o=i.options.chart,l=o.plotBorderWidth||0,d=Math.round(l)/2;["margin","spacing"].forEach(u=>{let f=o[u],g=RN(f)?f:[f,f,f,f];["Top","Right","Bottom","Left"].forEach((m,x)=>{i[u][x]=o[`${u}${m}`]??g[x]})}),uw.forEach((u,f)=>{i[u]=i.margin[f]??i.spacing[f]}),i.axisOffset=[0,0,0,0],i.clipOffset=[d,d,d,d],i.plotBorderWidth=l}drawChartBox(){let i=this.options.chart,o=this.renderer,l=this.chartWidth,d=this.chartHeight,u=this.styledMode,f=this.plotBGImage,g=i.backgroundColor,m=i.plotBackgroundColor,x=i.plotBackgroundImage,_=this.plotLeft,w=this.plotTop,C=this.plotWidth,j=this.plotHeight,L=this.plotBox,F=this.clipRect,$=this.clipBox,B=this.chartBackground,G=this.plotBackground,X=this.plotBorder,pe,de,fe,ye="animate";B||(this.chartBackground=B=o.rect().addClass("highcharts-background").add(),ye="attr"),u?pe=de=B.strokeWidth():(de=(pe=i.borderWidth||0)+8*!!i.shadow,fe={fill:g||"none"},(pe||B["stroke-width"])&&(fe.stroke=i.borderColor,fe["stroke-width"]=pe),B.attr(fe).shadow(i.shadow)),B[ye]({x:de/2,y:de/2,width:l-de-pe%2,height:d-de-pe%2,r:i.borderRadius}),ye="animate",G||(ye="attr",this.plotBackground=G=o.rect().addClass("highcharts-plot-background").add()),G[ye](L),!u&&(G.attr({fill:m||"none"}).shadow(i.plotShadow),x&&(f?(x!==f.attr("href")&&f.attr("href",x),f.animate(L)):this.plotBGImage=o.image(x,_,w,C,j).add())),F?F.animate({width:$.width,height:$.height}):this.clipRect=o.clipRect($),ye="animate",X||(ye="attr",this.plotBorder=X=o.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),u||X.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),X[ye](X.crisp(L,-X.strokeWidth())),this.isDirtyBox=!1,Ot(this,"afterDrawChartBox")}propFromSeries(){let i,o,l,d=this,u=d.options.chart,f=d.options.series;["inverted","angular","polar"].forEach(function(g){for(o=yv[u.type],l=u[g]||o&&o.prototype[g],i=f==null?void 0:f.length;!l&&i--;)(o=yv[f[i].type])&&o.prototype[g]&&(l=!0);d[g]=l})}linkSeries(i){let o=this,l=o.series;l.forEach(function(d){d.linkedSeries.length=0}),l.forEach(function(d){let{linkedTo:u}=d.options;if(lf(u)){let f;(f=u===":previous"?o.series[d.index-1]:o.get(u))&&f.linkedParent!==d&&(f.linkedSeries.push(d),d.linkedParent=f,f.enabledDataSorting&&d.setDataSortingOptions(),d.visible=hi(d.options.visible,f.options.visible,d.visible))}}),Ot(this,"afterLinkSeries",{isUpdating:i})}renderSeries(){this.series.forEach(function(i){i.translate(),i.render()})}render(){var _;let i=this.axes,o=this.colorAxis,l=this.renderer,d=this.options.chart.axisLayoutRuns||2,u=w=>{w.forEach(C=>{C.visible&&C.render()})},f=0,g=!0,m,x=0;for(let w of(this.setTitle(),Ot(this,"beforeMargins"),(_=this.getStacks)==null||_.call(this),this.getMargins(!0),this.setChartSize(),i)){let{options:C}=w,{labels:j}=C;if(this.hasCartesianSeries&&w.horiz&&w.visible&&j.enabled&&w.series.length&&w.coll!=="colorAxis"&&!this.polar){f=C.tickLength,w.createGroups();let L=new eo(w,0,"",!0),F=L.createLabel("x",j);if(L.destroy(),F&&hi(j.reserveSpace,!Ml(C.crossing))&&(f=F.getBBox().height+j.distance+Math.max(C.offset||0,0)),f){F==null||F.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-f,0);(g||m||d>1)&&x<d;){let w=this.plotWidth,C=this.plotHeight;for(let j of i)x===0?j.setScale():(j.horiz&&g||!j.horiz&&m)&&j.setTickInterval(!0);x===0?this.getAxisMargins():this.getMargins(),g=w/this.plotWidth>(x?1:1.1),m=C/this.plotHeight>(x?1:1.05),x++}this.drawChartBox(),this.hasCartesianSeries?u(i):o!=null&&o.length&&u(o),this.seriesGroup||(this.seriesGroup=l.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=l.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(i){let o=this,l=Yn(!0,this.options.credits,i);l.enabled&&!this.credits&&(this.credits=this.renderer.text(l.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){l.href&&(hw.location.href=l.href)}).attr({align:l.position.align,zIndex:8}),o.styledMode||this.credits.css(l.style),this.credits.add().align(l.position),this.credits.update=function(d){o.credits=o.credits.destroy(),o.addCredits(d)})}destroy(){var g,m;let i,o=this,l=o.axes,d=o.series,u=o.container,f=u==null?void 0:u.parentNode;for(Ot(o,"destroy"),o.renderer.forExport?AN(da,o):da[o.index]=void 0,J.chartCount--,o.renderTo.removeAttribute("data-highcharts-chart"),mw(o),i=l.length;i--;)l[i]=l[i].destroy();for((m=(g=this.scroller)==null?void 0:g.destroy)==null||m.call(g),i=d.length;i--;)d[i]=d[i].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(x=>{var _,w;o[x]=(w=(_=o[x])==null?void 0:_.destroy)==null?void 0:w.call(_)}),u&&(u.innerHTML=Ut.emptyHTML,mw(u),f&&TN(u)),Cv(o,function(x,_){delete o[_]})}firstRender(){var d;let i=this,o=i.options;i.getContainer(),i.resetMargins(),i.setChartSize(),i.propFromSeries(),i.createAxes();let l=ON(o.series)?o.series:[];o.series=[],l.forEach(function(u){i.initSeries(u)}),i.linkSeries(),i.setSortedData(),Ot(i,"beforeRender"),i.render(),(d=i.pointer)==null||d.getChartPosition(),i.renderer.imgCount||i.hasLoaded||i.onload(),i.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(i){i&&this.index!==void 0&&i.apply(this,[this])},this),Ot(this,"load"),Ot(this,"render"),oo(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:i,title:o}=this;i&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((o==null?void 0:o.element.textContent)||"").replace(/</g,"&lt;")}),i.accessibility&&i.accessibility.enabled===!1||kv('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(i,o,l){let d,u=this;return i&&(o=hi(o,!0),Ot(u,"addSeries",{options:i},function(){d=u.initSeries(i),u.isDirtyLegend=!0,u.linkSeries(),d.enabledDataSorting&&d.setData(i.data,!1),Ot(u,"afterAddSeries",{series:d}),o&&u.redraw(l)})),d}addAxis(i,o,l,d){return this.createAxis(o?"xAxis":"yAxis",{axis:i,redraw:l,animation:d})}addColorAxis(i,o,l){return this.createAxis("colorAxis",{axis:i,redraw:o,animation:l})}createAxis(i,o){let l=new xs(this,o.axis,i);return hi(o.redraw,!0)&&this.redraw(o.animation),l}showLoading(i){let o=this,l=o.options,d=l.loading,u=function(){f&&_n(f,{left:o.plotLeft+"px",top:o.plotTop+"px",width:o.plotWidth+"px",height:o.plotHeight+"px"})},f=o.loadingDiv,g=o.loadingSpan;f||(o.loadingDiv=f=wv("div",{className:"highcharts-loading highcharts-loading-hidden"},null,o.container)),g||(o.loadingSpan=g=wv("span",{className:"highcharts-loading-inner"},null,f),bv(o,"redraw",u)),f.className="highcharts-loading",Ut.setElementHTML(g,hi(i,l.lang.loading,"")),!o.styledMode&&(_n(f,ao(d.style,{zIndex:10})),_n(g,d.labelStyle),o.loadingShown||(_n(f,{opacity:0,display:""}),mv(f,{opacity:d.style.opacity||.5},{duration:d.showDuration||0}))),o.loadingShown=!0,u()}hideLoading(){let i=this.options,o=this.loadingDiv;o&&(o.className="highcharts-loading highcharts-loading-hidden",this.styledMode||mv(o,{opacity:0},{duration:i.loading.hideDuration||100,complete:function(){_n(o,{display:"none"})}})),this.loadingShown=!1}update(i,o,l,d){let u,f,g,m=this,x={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},_=i.isResponsiveOptions,w=[];Ot(m,"update",{options:i}),_||m.setResponsive(!1,!0),i=pw(i,m.options),m.userOptions=Yn(m.userOptions,i);let C=i.chart;C&&(Yn(!0,m.options.chart,C),this.setZoomOptions(),"className"in C&&m.setClassName(C.className),("inverted"in C||"polar"in C||"type"in C)&&(m.propFromSeries(),u=!0),"alignTicks"in C&&(u=!0),"events"in C&&dw(this,C),Cv(C,function(F,$){m.propsRequireUpdateSeries.indexOf("chart."+$)!==-1&&(f=!0),m.propsRequireDirtyBox.indexOf($)!==-1&&(m.isDirtyBox=!0),m.propsRequireReflow.indexOf($)!==-1&&(m.isDirtyBox=!0,_||(g=!0))}),!m.styledMode&&C.style&&m.renderer.setStyle(m.options.chart.style||{})),!m.styledMode&&i.colors&&(this.options.colors=i.colors),Cv(i,function(F,$){m[$]&&typeof m[$].update=="function"?m[$].update(F,!1):typeof m[x[$]]=="function"?m[x[$]](F):$!=="colors"&&m.collectionsWithUpdate.indexOf($)===-1&&Yn(!0,m.options[$],i[$]),$!=="chart"&&m.propsRequireUpdateSeries.indexOf($)!==-1&&(f=!0)}),this.collectionsWithUpdate.forEach(function(F){i[F]&&(cf(i[F]).forEach(function($,B){let G,X=oo($.id);X&&(G=m.get($.id)),!G&&m[F]&&(G=m[F][hi($.index,B)])&&(X&&oo(G.options.id)||G.options.isInternal)&&(G=void 0),G&&G.coll===F&&(G.update($,!1),l&&(G.touched=!0)),!G&&l&&m.collectionsWithInit[F]&&(m.collectionsWithInit[F][0].apply(m,[$].concat(m.collectionsWithInit[F][1]||[]).concat([!1])).touched=!0)}),l&&m[F].forEach(function($){$.touched||$.options.isInternal?delete $.touched:w.push($)}))}),w.forEach(function(F){F.chart&&F.remove&&F.remove(!1)}),u&&m.axes.forEach(function(F){F.update({},!1)}),f&&m.getSeriesOrderByLinks().forEach(function(F){F.chart&&F.update({},!1)},this);let j=C==null?void 0:C.width,L=C&&(lf(C.height)?gw(C.height,j||m.chartWidth):C.height);g||Ml(j)&&j!==m.chartWidth||Ml(L)&&L!==m.chartHeight?m.setSize(j,L,d):hi(o,!0)&&m.redraw(d),Ot(m,"afterUpdate",{options:i,redraw:o,animation:d})}setSubtitle(i,o){this.applyDescription("subtitle",i),this.layOutTitles(o)}setCaption(i,o){this.applyDescription("caption",i),this.layOutTitles(o)}showResetZoom(){let i=this,o=xv.lang,l=i.zooming.resetButton,d=l.theme,u=l.relativeTo==="chart"||l.relativeTo==="spacingBox"?null:"plotBox";function f(){i.zoomOut()}Ot(this,"beforeShowResetZoom",null,function(){i.resetZoomButton=i.renderer.button(o.resetZoom,null,null,f,d).attr({align:l.position.align,title:o.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(l.position,!1,u)}),Ot(this,"afterShowResetZoom")}zoomOut(){Ot(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(i,o){let l=this,d=typeof o=="object"?o:{enabled:o,type:"x"},u=d.type,f=u&&l[{x:"xAxis",xy:"axes",y:"yAxis"}[u]].filter(m=>m.options.panningEnabled&&!m.options.isInternal),g=l.options.chart;g!=null&&g.panning&&(g.panning=d),Ot(this,"pan",{originalEvent:i},()=>{l.transform({axes:f,event:i,to:{x:i.chartX-(l.mouseDownX||0),y:i.chartY-(l.mouseDownY||0)},trigger:"pan"}),_n(l.container,{cursor:"move"})})}transform(i){var L;let{axes:o=this.axes,event:l,from:d={},reset:u,selection:f,to:g={},trigger:m}=i,{inverted:x,time:_}=this;(L=this.hoverPoints)==null||L.forEach(F=>F.setState()),Ot(this,"transform",i);let w=i.hasZoomed||!1,C,j;for(let F of o){let{horiz:$,len:B,minPointOffset:G=0,options:X,reversed:pe}=F,de=$?"width":"height",fe=$?"x":"y",ye=hi(g[de],F.len),me=hi(d[de],F.len),xe=10>Math.abs(ye)?1:ye/me,Ne=(d[fe]||0)+me/2-F.pos,Ae=Ne-((g[fe]??F.pos)+ye/2-F.pos)/xe,We=pe&&!x||!pe&&x?-1:1;if(!u&&(Ne<0||Ne>F.len))continue;let Ge=F.chart.polar||F.isOrdinal?0:G*We||0,rt=F.toValue(Ae,!0),Je=F.toValue(Ae+B/xe,!0),lt=rt+Ge,Ke=Je-Ge,ct=F.allExtremes;if(f&&f[F.coll].push({axis:F,min:Math.min(rt,Je),max:Math.max(rt,Je)}),lt>Ke&&([lt,Ke]=[Ke,lt]),xe===1&&!u&&F.coll==="yAxis"&&!ct){for(let $r of F.series){let Vt=$r.getExtremes($r.getProcessedData(!0).modified.getColumn("y")||[],!0);ct??(ct={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Ml(Vt.dataMin)&&Ml(Vt.dataMax)&&(ct.dataMin=Math.min(Vt.dataMin,ct.dataMin),ct.dataMax=Math.max(Vt.dataMax,ct.dataMax))}F.allExtremes=ct}let{dataMin:wt,dataMax:jt,min:At,max:Vr}=ao(F.getExtremes(),ct||{}),Ct=_.parse(X.min),It=_.parse(X.max),pt=wt??Ct,ht=jt??It,ur=Ke-lt,Dt=F.categories?0:Math.min(ur,ht-pt),Ht=pt-Dt*(oo(Ct)?0:X.minPadding),Ar=ht+Dt*(oo(It)?0:X.maxPadding),bs=F.allowZoomOutside||xe===1||m!=="zoom"&&xe>1,an=Math.min(Ct??Ht,Ht,bs?At:Ht),Xr=Math.max(It??Ar,Ar,bs?Vr:Ar);(!F.isOrdinal||xe!==1||u)&&(lt<an&&(lt=an,xe>=1&&(Ke=lt+ur)),Ke>Xr&&(Ke=Xr,xe>=1&&(lt=Ke-ur)),(u||F.series.length&&(lt!==At||Ke!==Vr)&&lt>=an&&Ke<=Xr)&&(f?f[F.coll].push({axis:F,min:lt,max:Ke}):(F.isPanning=m!=="zoom",F.isPanning&&(j=!0),F.setExtremes(u?void 0:lt,u?void 0:Ke,!1,!1,{move:Ae,trigger:m,scale:xe}),!u&&(lt>an||Ke<Xr)&&m!=="mousewheel"&&(C=!0)),w=!0),this.hasCartesianSeries||u||m==="mousewheel"||(C=!0),l&&(this[$?"mouseDownX":"mouseDownY"]=l[$?"chartX":"chartY"]))}return w&&(f?Ot(this,"selection",f,()=>{delete i.selection,i.trigger="zoom",this.transform(i)}):(!C||j||this.resetZoomButton?!C&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(m==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),w}}ao(lo.prototype,{callbacks:[],collectionsWithInit:{xAxis:[lo.prototype.addAxis,[!0]],yAxis:[lo.prototype.addAxis,[!1]],series:[lo.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:BN}=jr,{composed:$N}=J,{addEvent:co,createElement:df,css:Ev,defined:Mv,erase:zN,merge:vw,pushUnique:xw}=Qe;function FN(){let y=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!y&&(this.scrollablePlotArea=y=new yd(this)),y==null||y.applyFixed()}function yw(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class yd{static compose(i,o,l){xw($N,this.compose)&&(co(i,"afterInit",yw),co(o,"afterSetChartSize",d=>this.afterSetSize(d.target,d)),co(o,"render",FN),co(l,"show",yw))}static afterSetSize(i,o){let l,d,u,{minWidth:f,minHeight:g}=i.options.chart.scrollablePlotArea||{},{clipBox:m,plotBox:x,inverted:_,renderer:w}=i;if(!w.forExport)if(f?(i.scrollablePixelsX=l=Math.max(0,f-i.chartWidth),l&&(i.scrollablePlotBox=vw(i.plotBox),x.width=i.plotWidth+=l,m[_?"height":"width"]+=l,u=!0)):g&&(i.scrollablePixelsY=d=Math.max(0,g-i.chartHeight),Mv(d)&&(i.scrollablePlotBox=vw(i.plotBox),x.height=i.plotHeight+=d,m[_?"width":"height"]+=d,u=!1)),Mv(u)){if(!o.skipAxes)for(let C of i.axes)(C.horiz===u||i.hasParallelCoordinates&&C.coll==="yAxis")&&(C.setAxisSize(),C.setAxisTranslation())}else delete i.scrollablePlotBox}constructor(i){var j;let o,l=i.options.chart,d=qi.getRendererType(),u=l.scrollablePlotArea||{},f=this.moveFixedElements.bind(this),g={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};i.scrollablePixelsX&&(g.overflowX="auto"),i.scrollablePixelsY&&(g.overflowY="auto"),this.chart=i;let m=this.parentDiv=df("div",{className:"highcharts-scrolling-parent"},{position:"relative"},i.renderTo),x=this.scrollingContainer=df("div",{className:"highcharts-scrolling"},g,m),_=this.innerContainer=df("div",{className:"highcharts-inner-container"},void 0,x),w=this.fixedDiv=df("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((j=l.style)==null?void 0:j.zIndex)||0)+2,top:0},void 0,!0),C=this.fixedRenderer=new d(w,i.chartWidth,i.chartHeight,l.style);this.mask=C.path().attr({fill:l.backgroundColor||"#fff","fill-opacity":u.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),x.parentNode.insertBefore(w,x),Ev(i.renderTo,{overflow:"visible"}),co(i,"afterShowResetZoom",f),co(i,"afterApplyDrilldown",f),co(i,"afterLayOutTitles",f),co(x,"scroll",()=>{let{pointer:L,hoverPoint:F}=i;L&&(delete L.chartPosition,F&&(o=F),L.runPointActions(void 0,o,!0))}),_.appendChild(i.container)}applyFixed(){var Ne;let{chart:i,fixedRenderer:o,isDirty:l,scrollingContainer:d}=this,{axisOffset:u,chartWidth:f,chartHeight:g,container:m,plotHeight:x,plotLeft:_,plotTop:w,plotWidth:C,scrollablePixelsX:j=0,scrollablePixelsY:L=0}=i,{scrollPositionX:F=0,scrollPositionY:$=0}=i.options.chart.scrollablePlotArea||{},B=f+j,G=g+L;o.setSize(f,g),(l??!0)&&(this.isDirty=!1,this.moveFixedElements()),BN(i.container),Ev(m,{width:`${B}px`,height:`${G}px`}),i.renderer.boxWrapper.attr({width:B,height:G,viewBox:[0,0,B,G].join(" ")}),(Ne=i.chartBackground)==null||Ne.attr({width:B,height:G}),Ev(d,{width:`${f}px`,height:`${g}px`}),Mv(l)||(d.scrollLeft=j*F,d.scrollTop=L*$);let X=w-u[0]-1,pe=_-u[3]-1,de=w+x+u[2]+1,fe=_+C+u[1]+1,ye=_+C-j,me=w+x-L,xe=[["M",0,0]];j?xe=[["M",0,X],["L",_-1,X],["L",_-1,de],["L",0,de],["Z"],["M",ye,X],["L",f,X],["L",f,de],["L",ye,de],["Z"]]:L&&(xe=[["M",pe,0],["L",pe,w-1],["L",fe,w-1],["L",fe,0],["Z"],["M",pe,me],["L",pe,g],["L",fe,g],["L",fe,me],["Z"]]),i.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:xe})}moveFixedElements(){let i,{container:o,inverted:l,scrollablePixelsX:d,scrollablePixelsY:u}=this.chart,f=this.fixedRenderer,g=yd.fixedSelectors;if(d&&!l?i=".highcharts-yaxis":d&&l||u&&!l?i=".highcharts-xaxis":u&&l&&(i=".highcharts-yaxis"),i&&!(this.chart.hasParallelCoordinates&&i===".highcharts-yaxis"))for(let m of[`${i}:not(.highcharts-radial-axis)`,`${i}-labels:not(.highcharts-radial-axis-labels)`])xw(g,m);else for(let m of[".highcharts-xaxis",".highcharts-yaxis"])for(let x of[`${m}:not(.highcharts-radial-axis)`,`${m}-labels:not(.highcharts-radial-axis-labels)`])zN(g,x);for(let m of g)[].forEach.call(o.querySelectorAll(m),x=>{(x.namespaceURI===f.SVG_NS?f.box:f.box.parentNode).appendChild(x),x.style.pointerEvents="auto"})}}yd.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:WN}=sr,{series:UN}=or,{destroyObjectProperties:HN,fireEvent:bw,getAlignFactor:jv,isNumber:Nv,pick:bd}=Qe,ww=class{constructor(y,i,o,l,d){let u=y.chart.inverted,f=y.reversed;this.axis=y;let g=this.isNegative=!!o!=!!f;this.options=i=i||{},this.x=l,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=d,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:i.align||(u?g?"left":"right":"center"),verticalAlign:i.verticalAlign||(u?"middle":g?"bottom":"top"),y:i.y,x:i.x},this.textAlign=i.textAlign||(u?g?"right":"left":"center")}destroy(){HN(this,this.axis)}render(y){let i=this.axis.chart,o=this.options,l=o.format,d=l?WN(l,this,i):o.formatter.call(this);if(this.label)this.label.attr({text:d,visibility:"hidden"});else{this.label=i.renderer.label(d,null,void 0,o.shape,void 0,void 0,o.useHTML,!1,"stack-labels");let u={r:o.borderRadius||0,text:d,padding:bd(o.padding,5),visibility:"hidden"};i.styledMode||(u.fill=o.backgroundColor,u.stroke=o.borderColor,u["stroke-width"]=o.borderWidth,this.label.css(o.style||{})),this.label.attr(u),this.label.added||this.label.add(y)}this.label.labelrank=i.plotSizeY,bw(this,"afterRender")}setOffset(y,i,o,l,d,u){let{alignOptions:f,axis:g,label:m,options:x,textAlign:_}=this,w=g.chart,C=this.getStackBox({xOffset:y,width:i,boxBottom:o,boxTop:l,defaultX:d,xAxis:u}),{verticalAlign:j}=f;if(m&&C){let L=m.getBBox(void 0,0),F=m.padding,$=bd(x.overflow,"justify")==="justify",B;f.x=x.x||0,f.y=x.y||0;let{x:G,y:X}=this.adjustStackPosition({labelBox:L,verticalAlign:j,textAlign:_});C.x-=G,C.y-=X,m.align(f,!1,C),(B=w.isInsidePlot(m.alignAttr.x+f.x+G,m.alignAttr.y+f.y+X))||($=!1),$&&UN.prototype.justifyDataLabel.call(g,m,f,m.alignAttr,L,C),m.attr({x:m.alignAttr.x,y:m.alignAttr.y,rotation:x.rotation,rotationOriginX:L.width*jv(x.textAlign||"center"),rotationOriginY:L.height/2}),bd(!$&&x.crop,!0)&&(B=Nv(m.x)&&Nv(m.y)&&w.isInsidePlot(m.x-F+(m.width||0),m.y)&&w.isInsidePlot(m.x+F,m.y)),m[B?"show":"hide"]()}bw(this,"afterSetOffset",{xOffset:y,width:i})}adjustStackPosition({labelBox:y,verticalAlign:i,textAlign:o}){return{x:y.width/2+y.width/2*(2*jv(o)-1),y:y.height/2*2*(1-jv(i))}}getStackBox(y){let i=this.axis,o=i.chart,{boxTop:l,defaultX:d,xOffset:u,width:f,boxBottom:g}=y,m=i.stacking.usePercentage?100:bd(l,this.total,0),x=i.toPixels(m),_=y.xAxis||o.xAxis[0],w=bd(d,_.translate(this.x))+u,C=Math.abs(x-i.toPixels(g||Nv(i.min)&&i.logarithmic&&i.logarithmic.lin2log(i.min)||0)),j=o.inverted,L=this.isNegative;return j?{x:(L?x:x-C)-o.plotLeft,y:_.height-w-f+_.top-o.plotTop,width:C,height:f}:{x:w+_.transB-o.plotLeft,y:(L?x-C:x)-o.plotTop,width:f,height:C}}},{getDeferredAnimation:GN}=jr,{series:{prototype:VN}}=or,{addEvent:kw,correctFloat:wd,defined:Sw,destroyObjectProperties:XN,fireEvent:YN,isNumber:Tv,objectEach:ua,pick:Av}=Qe;function qN(){let y=this.inverted;this.axes.forEach(i=>{var o;(o=i.stacking)!=null&&o.stacks&&i.hasVisibleSeries&&(i.stacking.oldStacks=i.stacking.stacks)}),this.series.forEach(i=>{var l;let o=((l=i.xAxis)==null?void 0:l.options)||{};i.options.stacking&&i.reserveSpace()&&(i.stackKey=[i.type,Av(i.options.stack,""),y?o.top:o.left,y?o.height:o.width].join(","))})}function KN(){var i;let y=this.stacking;if(y){let o=y.stacks;ua(o,(l,d)=>{XN(l),delete o[d]}),(i=y.stackTotalGroup)==null||i.destroy()}}function ZN(){this.stacking||(this.stacking=new iT(this))}function QN(y,i,o,l){return!Sw(y)||y.x!==i||l&&y.stackKey!==l?y={x:i,index:0,key:l,stackKey:l}:y.index++,y.key=[o,i,y.index].join(","),y}function JN(){let y,i=this,o=i.yAxis,l=i.stackKey||"",d=o.stacking.stacks,u=i.getColumn("x",!0),f=i.options.stacking,g=i[f+"Stacker"];g&&[l,"-"+l].forEach(m=>{var j;let x=u.length,_,w,C;for(;x--;)_=u[x],y=i.getStackIndicator(y,_,i.index,m),w=(j=d[m])==null?void 0:j[_],(C=w==null?void 0:w.points[y.key||""])&&g.call(i,C,w,x)})}function eT(y,i,o){let l=i.total?100/i.total:0;y[0]=wd(y[0]*l),y[1]=wd(y[1]*l),this.stackedYData[o]=y[1]}function tT(y){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?VN.setStackedPoints.call(this,y,"group"):y.stacking.resetStacks())}function rT(y,i){var me,xe;let o,l,d,u,f,g,m,x=i||this.options.stacking;if(!x||!this.reserveSpace()||({group:"xAxis"}[x]||"yAxis")!==y.coll)return;let _=this.getColumn("x",!0),w=this.getColumn(this.pointValKey||"y",!0),C=[],j=w.length,L=this.options,F=L.threshold||0,$=L.startFromThreshold?F:0,B=L.stack,G=i?`${this.type},${x}`:this.stackKey||"",X="-"+G,pe=this.negStacks,de=y.stacking,fe=de.stacks,ye=de.oldStacks;for(de.stacksTouched+=1,m=0;m<j;m++){let Ne=_[m]||0,Ae=w[m],We=Tv(Ae)&&Ae||0;g=(o=this.getStackIndicator(o,Ne,this.index)).key||"",fe[f=(l=pe&&We<($?0:F))?X:G]||(fe[f]={}),fe[f][Ne]||((me=ye[f])!=null&&me[Ne]?(fe[f][Ne]=ye[f][Ne],fe[f][Ne].total=null):fe[f][Ne]=new ww(y,y.options.stackLabels,!!l,Ne,B)),d=fe[f][Ne],Ae!==null?(d.points[g]=d.points[this.index]=[Av(d.cumulative,$)],Sw(d.cumulative)||(d.base=g),d.touched=de.stacksTouched,o.index>0&&this.singleStacks===!1&&(d.points[g][0]=d.points[this.index+","+Ne+",0"][0])):(delete d.points[g],delete d.points[this.index]);let Ge=d.total||0;x==="percent"?(u=l?G:X,Ge=pe&&((xe=fe[u])!=null&&xe[Ne])?(u=fe[u][Ne]).total=Math.max(u.total||0,Ge)+Math.abs(We):wd(Ge+Math.abs(We))):x==="group"?Tv(Ae)&&Ge++:Ge=wd(Ge+We),x==="group"?d.cumulative=(Ge||1)-1:d.cumulative=wd(Av(d.cumulative,$)+We),d.total=Ge,Ae!==null&&(d.points[g].push(d.cumulative),C[m]=d.cumulative,d.hasValidPoints=!0)}x==="percent"&&(de.usePercentage=!0),x!=="group"&&(this.stackedYData=C),de.oldStacks={}}class iT{constructor(i){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=i}buildStacks(){let i,o,l=this.axis,d=l.series,u=l.coll==="xAxis",f=l.options.reversedStacks,g=d.length;for(this.resetStacks(),this.usePercentage=!1,o=g;o--;)i=d[f?o:g-o-1],u&&i.setGroupedPoints(l),i.setStackedPoints(l);if(!u)for(o=0;o<g;o++)d[o].modifyStacks();YN(l,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,ua(this.stacks,i=>{ua(i,o=>{o.cumulative=o.total})}))}resetStacks(){ua(this.stacks,i=>{ua(i,(o,l)=>{Tv(o.touched)&&o.touched<this.stacksTouched?(o.destroy(),delete i[l]):(o.total=null,o.cumulative=null)})})}renderStackTotals(){var g;let i=this.axis,o=i.chart,l=o.renderer,d=this.stacks,u=GN(o,((g=i.options.stackLabels)==null?void 0:g.animation)||!1),f=this.stackTotalGroup=this.stackTotalGroup||l.g("stack-labels").attr({zIndex:6,opacity:0}).add();f.translate(o.plotLeft,o.plotTop),ua(d,m=>{ua(m,x=>{x.render(f)})}),f.animate({opacity:1},u)}}(D||(D={})).compose=function(y,i,o){let l=i.prototype,d=o.prototype;l.getStacks||(kw(y,"init",ZN),kw(y,"destroy",KN),l.getStacks=qN,d.getStackIndicator=QN,d.modifyStacks=JN,d.percentStacker=eT,d.setGroupedPoints=tT,d.setStackedPoints=rT)};let nT=D,{defined:sT,merge:_w,isObject:oT}=Qe;class Cw extends Si{drawGraph(){let i=this.options,o=(this.gappedPath||this.getGraphPath).call(this),l=this.chart.styledMode;[this,...this.zones].forEach((d,u)=>{let f,g=d.graph,m=g?"animate":"attr",x=d.dashStyle||i.dashStyle;g?(g.endX=this.preventGraphAnimation?null:o.xMap,g.animate({d:o})):o.length&&(d.graph=g=this.chart.renderer.path(o).addClass("highcharts-graph"+(u?` highcharts-zone-graph-${u-1} `:" ")+(u&&d.className||"")).attr({zIndex:1}).add(this.group)),g&&!l&&(f={stroke:!u&&i.lineColor||d.color||this.color||"#cccccc","stroke-width":i.lineWidth||0,fill:this.fillGraph&&this.color||"none"},x?f.dashstyle=x:i.linecap!=="square"&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),g[m](f).shadow(i.shadow&&_w({filterUnits:"userSpaceOnUse"},oT(i.shadow)?i.shadow:{}))),g&&(g.startX=o.xMap,g.isArea=o.isArea)})}getGraphPath(i,o,l){let d=this,u=d.options,f=[],g=[],m,x=u.step,_=(i=i||d.points).reversed;return _&&i.reverse(),(x={right:1,center:2}[x]||x&&3)&&_&&(x=4-x),(i=this.getValidPoints(i,!1,u.nullInteraction||!(u.connectNulls&&!o&&!l))).forEach(function(w,C){let j,L=w.plotX,F=w.plotY,$=i[C-1],B=w.isNull||typeof F!="number";(w.leftCliff||$!=null&&$.rightCliff)&&!l&&(m=!0),B&&!sT(o)&&C>0?m=!u.connectNulls:B&&!o?m=!0:(C===0||m?j=[["M",w.plotX,w.plotY]]:d.getPointSpline?j=[d.getPointSpline(i,w,C)]:x?(j=x===1?[["L",$.plotX,F]]:x===2?[["L",($.plotX+L)/2,$.plotY],["L",($.plotX+L)/2,F]]:[["L",L,$.plotY]]).push(["L",L,F]):j=[["L",L,F]],g.push(w.x),x&&(g.push(w.x),x===2&&g.push(w.x)),f.push.apply(f,j),m=!1)}),f.xMap=g,d.graphPath=f,f}}Cw.defaultOptions=_w(Si.defaultOptions,{legendSymbol:"lineMarker"}),or.registerSeriesType("line",Cw);let{seriesTypes:{line:Pv}}=or,{extend:aT,merge:lT,objectEach:cT,pick:uf}=Qe;class Ov extends Pv{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:i,options:o}=this;[this,...this.zones].forEach((l,d)=>{let u={},f=l.fillColor||o.fillColor,g=l.area,m=g?"animate":"attr";g?(g.endX=this.preventGraphAnimation?null:i.xMap,g.animate({d:i})):(u.zIndex=0,(g=l.area=this.chart.renderer.path(i).addClass("highcharts-area"+(d?` highcharts-zone-area-${d-1} `:" ")+(d&&l.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(u.fill=f||l.color||this.color,u["fill-opacity"]=f?1:o.fillOpacity??.75,g.css({pointerEvents:this.stickyTracking?"none":"auto"})),g[m](u),g.startX=i.xMap,g.shiftUnit=o.step?2:1})}getGraphPath(i){let o,l,d,u=Pv.prototype.getGraphPath,f=this.options,g=f.stacking,m=this.yAxis,x=[],_=[],w=this.index,C=m.stacking.stacks[this.stackKey],j=f.threshold,L=Math.round(m.getThreshold(f.threshold)),F=uf(f.connectNulls,g==="percent"),$=function(fe,ye,me){let xe=i[fe],Ne=g&&C[xe.x].points[w],Ae=xe[me+"Null"]||0,We=xe[me+"Cliff"]||0,Ge,rt,Je=!0;We||Ae?(Ge=(Ae?Ne[0]:Ne[1])+We,rt=Ne[0]+We,Je=!!Ae):!g&&i[ye]&&i[ye].isNull&&(Ge=rt=j),Ge!==void 0&&(_.push({plotX:o,plotY:Ge===null?L:m.getThreshold(Ge),isNull:Je,isCliff:!0}),x.push({plotX:o,plotY:rt===null?L:m.getThreshold(rt),doCurve:!1}))};i=i||this.points,g&&(i=this.getStackPoints(i));for(let fe=0,ye=i.length;fe<ye;++fe)g||(i[fe].leftCliff=i[fe].rightCliff=i[fe].leftNull=i[fe].rightNull=void 0),l=i[fe].isNull,o=uf(i[fe].rectPlotX,i[fe].plotX),d=g?uf(i[fe].yBottom,L):L,(!l||F)&&(F||$(fe,fe-1,"left"),l&&!g&&F||(_.push(i[fe]),x.push({x:fe,plotX:o,plotY:d})),F||$(fe,fe+1,"right"));let B=u.call(this,_,!0,!0);x.reversed=!0;let G=u.call(this,x,!0,!0),X=G[0];X&&X[0]==="M"&&(G[0]=["L",X[1],X[2]]);let pe=B.concat(G);pe.length&&pe.push(["Z"]);let de=u.call(this,_,!1,F);return this.chart.series.length>1&&g&&_.some(fe=>fe.isCliff)&&(pe.hasStackedCliffs=de.hasStackedCliffs=!0),pe.xMap=B.xMap,this.areaPath=pe,de}getStackPoints(i){let o=this,l=[],d=[],u=this.xAxis,f=this.yAxis,g=f.stacking.stacks[this.stackKey],m={},x=f.series,_=x.length,w=f.options.reversedStacks?1:-1,C=x.indexOf(o);if(i=i||this.points,this.options.stacking){for(let L=0;L<i.length;L++)i[L].leftNull=i[L].rightNull=void 0,m[i[L].x]=i[L];cT(g,function(L,F){L.total!==null&&d.push(F)}),d.sort(function(L,F){return L-F});let j=x.map(L=>L.visible);d.forEach(function(L,F){let $=0,B,G;if(m[L]&&!m[L].isNull)l.push(m[L]),[-1,1].forEach(function(X){let pe=X===1?"rightNull":"leftNull",de=g[d[F+X]],fe=0;if(de){let ye=C;for(;ye>=0&&ye<_;){let me=x[ye].index;!(B=de.points[me])&&(me===o.index?m[L][pe]=!0:j[ye]&&(G=g[L].points[me])&&(fe-=G[1]-G[0])),ye+=w}}m[L][X===1?"rightCliff":"leftCliff"]=fe});else{let X=C;for(;X>=0&&X<_;){let pe=x[X].index;if(B=g[L].points[pe]){$=B[1];break}X+=w}$=uf($,0),$=f.translate($,0,1,0,1),l.push({isNull:!0,plotX:u.translate(L,0,0,0,1),x:L,plotY:$,yBottom:$})}})}return l}}Ov.defaultOptions=lT(Pv.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),aT(Ov.prototype,{singleStacks:!1}),or.registerSeriesType("area",Ov);let{line:Ew}=or.seriesTypes,{merge:dT,pick:hf}=Qe;class Rv extends Ew{getPointSpline(i,o,l){let d,u,f,g,m=o.plotX||0,x=o.plotY||0,_=i[l-1],w=i[l+1];function C(L){return L&&!L.isNull&&L.doCurve!==!1&&!o.isCliff}if(C(_)&&C(w)){let L=_.plotX||0,F=_.plotY||0,$=w.plotX||0,B=w.plotY||0,G=0;d=(1.5*m+L)/2.5,u=(1.5*x+F)/2.5,f=(1.5*m+$)/2.5,g=(1.5*x+B)/2.5,f!==d&&(G=(g-u)*(f-m)/(f-d)+x-g),u+=G,g+=G,u>F&&u>x?(u=Math.max(F,x),g=2*x-u):u<F&&u<x&&(u=Math.min(F,x),g=2*x-u),g>B&&g>x?(g=Math.max(B,x),u=2*x-g):g<B&&g<x&&(g=Math.min(B,x),u=2*x-g),o.rightContX=f,o.rightContY=g,o.controlPoints={low:[d,u],high:[f,g]}}let j=["C",hf(_.rightContX,_.plotX,0),hf(_.rightContY,_.plotY,0),hf(d,m,0),hf(u,x,0),m,x];return _.rightContX=_.rightContY=void 0,j}}Rv.defaultOptions=dT(Ew.defaultOptions),or.registerSeriesType("spline",Rv);let Mw=Rv,{area:uT,area:{prototype:Lv}}=or.seriesTypes,{extend:hT,merge:fT}=Qe;class Iv extends Mw{}Iv.defaultOptions=fT(Mw.defaultOptions,uT.defaultOptions),hT(Iv.prototype,{getGraphPath:Lv.getGraphPath,getStackPoints:Lv.getStackPoints,drawGraph:Lv.drawGraph}),or.registerSeriesType("areaspline",Iv);let{animObject:pT}=jr,{parse:gT}=Wt,{noop:mT}=J,{clamp:ff,crisp:pf,defined:jw,extend:Nw,fireEvent:Tw,isArray:Aw,isNumber:gf,merge:Dv,pick:kd,objectEach:vT}=Qe;class mf extends Si{animate(i){let o,l,d=this,u=this.yAxis,f=u.pos,g=u.reversed,m=d.options,{clipOffset:x,inverted:_}=this.chart,w={},C=_?"translateX":"translateY";i&&x?(w.scaleY=.001,l=ff(u.toPixels(m.threshold||0),f,f+u.len),_?w.translateX=(l+=g?-Math.floor(x[0]):Math.ceil(x[2]))-u.len:w.translateY=l+=g?Math.ceil(x[0]):-Math.floor(x[2]),d.clipBox&&d.setClip(),d.group.attr(w)):(o=Number(d.group.attr(C)),d.group.animate({scaleY:1},Nw(pT(d.options.animation),{step:function(j,L){d.group&&(w[C]=o+L.pos*(f-o),d.group.attr(w))}})))}init(i,o){super.init.apply(this,arguments);let l=this;(i=l.chart).hasRendered&&i.series.forEach(function(d){d.type===l.type&&(d.isDirty=!0)})}getColumnMetrics(){var F,$;let i=this,o=i.options,l=i.xAxis,d=i.yAxis,u=l.options.reversedStacks,f=l.reversed&&!u||!l.reversed&&u,g={},m,x=0;o.grouping===!1?x=1:i.chart.series.forEach(function(B){let G,X=B.yAxis,pe=B.options;B.type===i.type&&B.reserveSpace()&&d.len===X.len&&d.pos===X.pos&&(pe.stacking&&pe.stacking!=="group"?(g[m=B.stackKey]===void 0&&(g[m]=x++),G=g[m]):pe.grouping!==!1&&(G=x++),B.columnIndex=G)});let _=Math.min(Math.abs(l.transA)*(!((F=l.brokenAxis)!=null&&F.hasBreaks)&&(($=l.ordinal)==null?void 0:$.slope)||o.pointRange||l.closestPointRange||l.tickInterval||1),l.len),w=_*o.groupPadding,C=(_-2*w)/(x||1),j=Math.min(o.maxPointWidth||l.len,kd(o.pointWidth,C*(1-2*o.pointPadding))),L=(i.columnIndex||0)+ +!!f;return i.columnMetrics={width:j,offset:(C-j)/2+(w+L*C-_/2)*(f?-1:1),paddedWidth:C,columnCount:x},i.columnMetrics}crispCol(i,o,l,d){let u=this.borderWidth,f=this.chart.inverted;return d=pf(o+d,u,f)-(o=pf(o,u,f)),this.options.crisp&&(l=pf(i+l,u)-(i=pf(i,u))),{x:i,y:o,width:l,height:d}}adjustForMissingColumns(i,o,l,d){var u;if(!l.isNull&&d.columnCount>1){let f=this.xAxis.series.filter(_=>_.visible).map(_=>_.index),g=0,m=0;vT((u=this.xAxis.stacking)==null?void 0:u.stacks,_=>{var L;let w=typeof l.x=="number"?(L=_[l.x.toString()])==null?void 0:L.points:void 0,C=w==null?void 0:w[this.index],j={};if(w&&Aw(C)){let F=this.index,$=Object.keys(w).filter(B=>!B.match(",")&&w[B]&&w[B].length>1).map(parseFloat).filter(B=>f.indexOf(B)!==-1).filter(B=>{let G=this.chart.series[B].options,X=G.stacking&&G.stack;if(jw(X)){if(gf(j[X]))return F===B&&(F=j[X]),!1;j[X]=B}return!0}).sort((B,G)=>G-B);g=$.indexOf(F),m=$.length}}),g=this.xAxis.reversed?m-1-g:g;let x=(m-1)*d.paddedWidth+o;i=(l.plotX||0)+x/2-o-g*d.paddedWidth}return i}translate(){let i=this,o=i.chart,l=i.options,d=i.dense=i.closestPointRange*i.xAxis.transA<2,u=i.borderWidth=kd(l.borderWidth,+!d),f=i.xAxis,g=i.yAxis,m=l.threshold,x=kd(l.minPointLength,5),_=i.getColumnMetrics(),w=_.width,C=i.pointXOffset=_.offset,j=i.dataMin,L=i.dataMax,F=i.translatedThreshold=g.getThreshold(m),$=i.barW=Math.max(w,1+2*u);l.pointPadding&&l.crisp&&($=Math.ceil($)),Si.prototype.translate.apply(i),i.points.forEach(function(B){let G=kd(B.yBottom,F),X=999+Math.abs(G),pe=B.plotX||0,de=ff(B.plotY,-X,g.len+X),fe,ye=Math.min(de,G),me=Math.max(de,G)-ye,xe=w,Ne=pe+C,Ae=$;x&&Math.abs(me)<x&&(me=x,fe=!g.reversed&&!B.negative||g.reversed&&B.negative,gf(m)&&gf(L)&&B.y===m&&L<=m&&(g.min||0)<m&&(j!==L||(g.max||0)<=m)&&(fe=!fe,B.negative=!B.negative),ye=Math.abs(ye-F)>x?G-x:F-(fe?x:0)),jw(B.options.pointWidth)&&(Ne-=Math.round(((xe=Ae=Math.ceil(B.options.pointWidth))-w)/2)),l.centerInCategory&&(Ne=i.adjustForMissingColumns(Ne,xe,B,_)),B.barX=Ne,B.pointWidth=xe,B.tooltipPos=o.inverted?[ff(g.len+g.pos-o.plotLeft-de,g.pos-o.plotLeft,g.len+g.pos-o.plotLeft),f.len+f.pos-o.plotTop-Ne-Ae/2,me]:[f.left-o.plotLeft+Ne+Ae/2,ff(de+g.pos-o.plotTop,g.pos-o.plotTop,g.len+g.pos-o.plotTop),me],B.shapeType=i.pointClass.prototype.shapeType||"roundedRect",B.shapeArgs=i.crispCol(Ne,ye,Ae,B.isNull?0:me)}),Tw(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(i,o){let l=this.options,d=this.pointAttrToOptions||{},u=d.stroke||"borderColor",f=d["stroke-width"]||"borderWidth",g,m,x,_=i&&i.color||this.color,w=i&&i[u]||l[u]||_,C=i&&i.options.dashStyle||l.dashStyle,j=i&&i[f]||l[f]||this[f]||0,L=i!=null&&i.isNull&&l.nullInteraction?0:(i==null?void 0:i.opacity)??l.opacity??1;i&&this.zones.length&&(m=i.getZone(),_=i.options.color||m&&(m.color||i.nonZonedColor)||this.color,m&&(w=m.borderColor||w,C=m.dashStyle||C,j=m.borderWidth||j)),o&&i&&(x=(g=Dv(l.states[o],i.options.states&&i.options.states[o]||{})).brightness,_=g.color||x!==void 0&&gT(_).brighten(g.brightness).get()||_,w=g[u]||w,j=g[f]||j,C=g.dashStyle||C,L=kd(g.opacity,L));let F={fill:_,stroke:w,"stroke-width":j,opacity:L};return C&&(F.dashstyle=C),F}drawPoints(i=this.points){let o,l=this,d=this.chart,u=l.options,f=u.nullInteraction,g=d.renderer,m=u.animationLimit||250;i.forEach(function(x){let _=x.plotY,w=x.graphic,C=!!w,j=w&&d.pointCount<m?"animate":"attr";gf(_)&&(x.y!==null||f)?(o=x.shapeArgs,w&&x.hasNewShapeType()&&(w=w.destroy()),l.enabledDataSorting&&(x.startXPos=l.xAxis.reversed?-(o&&o.width||0):l.xAxis.width),!w&&(x.graphic=w=g[x.shapeType](o).add(x.group||l.group),w&&l.enabledDataSorting&&d.hasRendered&&d.pointCount<m&&(w.attr({x:x.startXPos}),C=!0,j="animate")),w&&C&&w[j](Dv(o)),d.styledMode||w[j](l.pointAttribs(x,x.selected&&"select")).shadow(x.allowShadow!==!1&&u.shadow),w&&(w.addClass(x.getClassName(),!0),w.attr({visibility:x.visible?"inherit":"hidden"}))):w&&(x.graphic=w.destroy())})}drawTracker(i=this.points){let o,l=this,d=l.chart,u=d.pointer,f=function(g){u==null||u.normalize(g);let m=u==null?void 0:u.getPointFromEvent(g);u&&m&&l.options.enableMouseTracking&&(d.isInsidePlot(g.chartX-d.plotLeft,g.chartY-d.plotTop,{visiblePlotOnly:!0})||u!=null&&u.inClass(g.target,"highcharts-data-label"))&&(u.isDirectTouch=!0,m.onMouseOver(g))};i.forEach(function(g){o=Aw(g.dataLabels)?g.dataLabels:g.dataLabel?[g.dataLabel]:[],g.graphic&&(g.graphic.element.point=g),o.forEach(function(m){(m.div||m.element).point=g})}),l._hasTracking||(l.trackerGroups.forEach(function(g){l[g]&&(l[g].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(m){u==null||u.onTrackerMouseOut(m)}).on("touchstart",f),!d.styledMode&&l.options.cursor&&l[g].css({cursor:l.options.cursor}))}),l._hasTracking=!0),Tw(this,"afterDrawTracker")}remove(){let i=this,o=i.chart;o.hasRendered&&o.series.forEach(function(l){l.type===i.type&&(l.isDirty=!0)}),Si.prototype.remove.apply(i,arguments)}}mf.defaultOptions=Dv(Si.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Nw(mf.prototype,{directTouch:!0,getSymbol:mT,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),or.registerSeriesType("column",mf);let vf=mf,{getDeferredAnimation:xT}=jr,{format:yT}=sr,{defined:ha,extend:Pw,fireEvent:Bv,getAlignFactor:Ow,isArray:uo,isString:Sd,merge:_d,objectEach:bT,pick:Cd,pInt:wT,splat:Rw}=Qe;(function(y){function i(){return m(this).some(_=>_==null?void 0:_.enabled)}function o(_,w,C,j,L){var Ne;let{chart:F,enabledDataSorting:$}=this,B=this.isCartesian&&F.inverted,G=_.plotX,X=_.plotY,pe=C.rotation||0,de=ha(G)&&ha(X)&&F.isInsidePlot(G,Math.round(X),{inverted:B,paneCoordinates:!0,series:this}),fe=pe===0&&Cd(C.overflow,$?"none":"justify")==="justify",ye=this.visible&&_.visible!==!1&&ha(G)&&(_.series.forceDL||$&&!fe||de||Cd(C.inside,!!this.options.stacking)&&j&&F.isInsidePlot(G,B?j.x+1:j.y+j.height-1,{inverted:B,paneCoordinates:!0,series:this})),me=_.pos();if(ye&&me){var xe;let Ae=w.getBBox(),We=w.getBBox(void 0,0);if(j=Pw({x:me[0],y:Math.round(me[1]),width:0,height:0},j||{}),C.alignTo==="plotEdges"&&this.isCartesian&&(j[B?"x":"y"]=0,j[B?"width":"height"]=((Ne=this.yAxis)==null?void 0:Ne.len)||0),Pw(C,{width:Ae.width,height:Ae.height}),xe=j,$&&this.xAxis&&!fe&&this.setDataLabelStartPos(_,w,L,de,xe),w.align(_d(C,{width:We.width,height:We.height}),!1,j,!1),w.alignAttr.x+=Ow(C.align)*(We.width-Ae.width),w.alignAttr.y+=Ow(C.verticalAlign)*(We.height-Ae.height),w[w.placed?"animate":"attr"]({"text-align":w.alignAttr["text-align"]||"center",x:w.alignAttr.x+(Ae.width-We.width)/2,y:w.alignAttr.y+(Ae.height-We.height)/2,rotationOriginX:(w.width||0)/2,rotationOriginY:(w.height||0)/2}),fe&&j.height>=0)this.justifyDataLabel(w,C,w.alignAttr,Ae,j,L);else if(Cd(C.crop,!0)){let{x:Ge,y:rt}=w.alignAttr;ye=F.isInsidePlot(Ge,rt,{paneCoordinates:!0,series:this})&&F.isInsidePlot(Ge+Ae.width-1,rt+Ae.height-1,{paneCoordinates:!0,series:this})}C.shape&&!pe&&w[L?"attr":"animate"]({anchorX:me[0],anchorY:me[1]})}L&&$&&(w.placed=!1),ye||$&&!fe?(w.show(),w.placed=!0):(w.hide(),w.placed=!1)}function l(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function d(_){let w=this.hasRendered||0,C=this.initDataLabelsGroup().attr({opacity:+w});return!w&&C&&(this.visible&&C.show(),this.options.animation?C.animate({opacity:1},_):C.attr({opacity:1})),C}function u(_){var ye;let w;_=_||this.points;let C=this,j=C.chart,L=C.options,F=j.renderer,{backgroundColor:$,plotBackgroundColor:B}=j.options.chart,G=F.getContrast(Sd(B)&&B||Sd($)&&$||"#000000"),X=m(C),{animation:pe,defer:de}=X[0],fe=de?xT(j,pe,C):{defer:0,duration:0};Bv(this,"drawDataLabels"),(ye=C.hasDataLabels)!=null&&ye.call(C)&&(w=this.initDataLabels(fe),_.forEach(me=>{var We,Ge,rt;let xe=me.dataLabels||[],Ne=me.color||C.color;Rw(g(X,me.dlOptions||((We=me.options)==null?void 0:We.dataLabels))).forEach((Je,lt)=>{var Ht;let Ke=Je.enabled&&(me.visible||me.dataLabelOnHidden)&&(!me.isNull||me.dataLabelOnNull)&&function(Ar,bs){let an=bs.filter;if(an){let Xr=an.operator,$r=Ar[an.property],Vt=an.value;return Xr===">"&&$r>Vt||Xr==="<"&&$r<Vt||Xr===">="&&$r>=Vt||Xr==="<="&&$r<=Vt||Xr==="=="&&$r==Vt||Xr==="==="&&$r===Vt||Xr==="!="&&$r!=Vt||Xr==="!=="&&$r!==Vt||!1}return!0}(me,Je),{backgroundColor:ct,borderColor:wt,distance:jt,style:At={}}=Je,Vr,Ct,It,pt={},ht=xe[lt],ur=!ht,Dt;Ke&&(Ct=ha(Vr=Cd(Je[me.formatPrefix+"Format"],Je.format))?yT(Vr,me,j):(Je[me.formatPrefix+"Formatter"]||Je.formatter).call(me,Je),It=Je.rotation,!j.styledMode&&(At.color=Cd(Je.color,At.color,Sd(C.color)?C.color:void 0,"#000000"),At.color==="contrast"?(ct!=="none"&&(Dt=ct),me.contrastColor=F.getContrast(Dt!=="auto"&&Sd(Dt)&&Dt||(Sd(Ne)?Ne:"")),At.color=Dt||!ha(jt)&&Je.inside||0>wT(jt||0)||L.stacking?me.contrastColor:G):delete me.contrastColor,L.cursor&&(At.cursor=L.cursor)),pt={r:Je.borderRadius||0,rotation:It,padding:Je.padding,zIndex:1},j.styledMode||(pt.fill=ct==="auto"?me.color:ct,pt.stroke=wt==="auto"?me.color:wt,pt["stroke-width"]=Je.borderWidth),bT(pt,(Ar,bs)=>{Ar===void 0&&delete pt[bs]})),!ht||Ke&&ha(Ct)&&!!(ht.div||(Ht=ht.text)!=null&&Ht.foreignObject)==!!Je.useHTML&&(ht.rotation&&Je.rotation||ht.rotation===Je.rotation)||(ht=void 0,ur=!0),Ke&&ha(Ct)&&Ct!==""&&(ht?pt.text=Ct:(ht=F.label(Ct,0,0,Je.shape,void 0,void 0,Je.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+me.colorIndex+" "+(Je.className||"")+(Je.useHTML?" highcharts-tracker":"")),ht&&(ht.options=Je,ht.attr(pt),j.styledMode?At.width&&ht.css({width:At.width,textOverflow:At.textOverflow,whiteSpace:At.whiteSpace}):ht.css(At).shadow(Je.shadow),Bv(ht,"beforeAddingDataLabel",{labelOptions:Je,point:me}),ht.added||ht.add(w),C.alignDataLabel(me,ht,Je,void 0,ur),ht.isActive=!0,xe[lt]&&xe[lt]!==ht&&xe[lt].destroy(),xe[lt]=ht))});let Ae=xe.length;for(;Ae--;)(Ge=xe[Ae])!=null&&Ge.isActive?xe[Ae].isActive=!1:((rt=xe[Ae])==null||rt.destroy(),xe.splice(Ae,1));me.dataLabel=xe[0],me.dataLabels=xe})),Bv(this,"afterDrawDataLabels")}function f(_,w,C,j,L,F){let $=this.chart,B=w.align,G=w.verticalAlign,X=_.box?0:_.padding||0,pe=$.inverted?this.yAxis:this.xAxis,de=pe?pe.left-$.plotLeft:0,fe=$.inverted?this.xAxis:this.yAxis,ye=fe?fe.top-$.plotTop:0,{x:me=0,y:xe=0}=w,Ne,Ae;return(Ne=(C.x||0)+X+de)<0&&(B==="right"&&me>=0?(w.align="left",w.inside=!0):me-=Ne,Ae=!0),(Ne=(C.x||0)+j.width-X+de)>$.plotWidth&&(B==="left"&&me<=0?(w.align="right",w.inside=!0):me+=$.plotWidth-Ne,Ae=!0),(Ne=C.y+X+ye)<0&&(G==="bottom"&&xe>=0?(w.verticalAlign="top",w.inside=!0):xe-=Ne,Ae=!0),(Ne=(C.y||0)+j.height-X+ye)>$.plotHeight&&(G==="top"&&xe<=0?(w.verticalAlign="bottom",w.inside=!0):xe+=$.plotHeight-Ne,Ae=!0),Ae&&(w.x=me,w.y=xe,_.placed=!F,_.align(w,void 0,L)),Ae}function g(_,w){let C=[],j;if(uo(_)&&!uo(w))C=_.map(function(L){return _d(L,w)});else if(uo(w)&&!uo(_))C=w.map(function(L){return _d(_,L)});else if(uo(_)||uo(w)){if(uo(_)&&uo(w))for(j=Math.max(_.length,w.length);j--;)C[j]=_d(_[j],w[j])}else C=_d(_,w);return C}function m(_){var C,j;let w=_.chart.options.plotOptions;return Rw(g(g((C=w==null?void 0:w.series)==null?void 0:C.dataLabels,(j=w==null?void 0:w[_.type])==null?void 0:j.dataLabels),_.options.dataLabels))}function x(_,w,C,j,L){let F=this.chart,$=F.inverted,B=this.xAxis,G=B.reversed,X=(($?w.height:w.width)||0)/2,pe=_.pointWidth,de=pe?pe/2:0;w.startXPos=$?L.x:G?-X-de:B.width-X+de,w.startYPos=$?G?this.yAxis.height-X+de:-X-de:L.y,j?w.visibility==="hidden"&&(w.show(),w.attr({opacity:0}).animate({opacity:1})):w.attr({opacity:1}).animate({opacity:0},void 0,w.hide),F.hasRendered&&(C&&w.attr({x:w.startXPos,y:w.startYPos}),w.placed=!0)}y.compose=function(_){let w=_.prototype;w.initDataLabels||(w.initDataLabels=d,w.initDataLabelsGroup=l,w.alignDataLabel=o,w.drawDataLabels=u,w.justifyDataLabel=f,w.mergeArrays=g,w.setDataLabelStartPos=x,w.hasDataLabels=i)}})(R||(R={}));let xf=R,{composed:kT}=J,{series:Lw}=or,{merge:ST,pushUnique:_T}=Qe;(function(y){function i(o,l,d,u,f){var F,$;let{chart:g,options:m}=this,x=g.inverted,_=((F=this.xAxis)==null?void 0:F.len)||g.plotSizeX||0,w=(($=this.yAxis)==null?void 0:$.len)||g.plotSizeY||0,C=o.dlBox||o.shapeArgs,j=o.below??(o.plotY||0)>(this.translatedThreshold??w),L=d.inside??!!m.stacking;if(C){if(u=ST(C),d.overflow!=="allow"||d.crop!==!1||m.clip!==!1){u.y<0&&(u.height+=u.y,u.y=0);let B=u.y+u.height-w;B>0&&B<u.height-1&&(u.height-=B)}x&&(u={x:w-u.y-u.height,y:_-u.x-u.width,width:u.height,height:u.width}),L||(x?(u.x+=j?0:u.width,u.width=0):(u.y+=j?u.height:0,u.height=0))}d.align??(d.align=!x||L?"center":j?"right":"left"),d.verticalAlign??(d.verticalAlign=x||L?"middle":j?"top":"bottom"),Lw.prototype.alignDataLabel.call(this,o,l,d,u,f),d.inside&&o.contrastColor&&l.css({color:o.contrastColor})}y.compose=function(o){xf.compose(Lw),_T(kT,"ColumnDataLabel")&&(o.prototype.alignDataLabel=i)}})(I||(I={}));let CT=I,{extend:ET,merge:MT}=Qe;class $v extends vf{}$v.defaultOptions=MT(vf.defaultOptions,{}),ET($v.prototype,{inverted:!0}),or.registerSeriesType("bar",$v);let{column:jT,line:Iw}=or.seriesTypes,{addEvent:NT,extend:TT,merge:AT}=Qe;class yf extends Iw{applyJitter(){let i=this,o=this.options.jitter,l=this.points.length;o&&this.points.forEach(function(d,u){["x","y"].forEach(function(f,g){if(o[f]&&!d.isNull){let m=`plot${f.toUpperCase()}`,x=i[`${f}Axis`],_=o[f]*x.transA;if(x&&!x.logarithmic){let w=Math.max(0,(d[m]||0)-_),C=Math.min(x.len,(d[m]||0)+_);d[m]=w+(C-w)*function(j){let L=1e4*Math.sin(j);return L-Math.floor(L)}(u+g*l),f==="x"&&(d.clientX=d.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}yf.defaultOptions=AT(Iw.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),TT(yf.prototype,{drawTracker:jT.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),NT(yf,"afterTranslate",function(){this.applyJitter()}),or.registerSeriesType("scatter",yf);let{deg2rad:Dw}=J,{fireEvent:PT,isNumber:zv,pick:bf,relativeLength:OT}=Qe;(function(y){y.getCenter=function(){let i=this.options,o=this.chart,l=2*(i.slicedOffset||0),d=o.plotWidth-2*l,u=o.plotHeight-2*l,f=i.center,g=Math.min(d,u),m=i.thickness,x,_=i.size,w=i.innerSize||0,C,j;typeof _=="string"&&(_=parseFloat(_)),typeof w=="string"&&(w=parseFloat(w));let L=[bf(f==null?void 0:f[0],"50%"),bf(f==null?void 0:f[1],"50%"),bf(_&&_<0?void 0:i.size,"100%"),bf(w&&w<0?void 0:i.innerSize||0,"0%")];for(!o.angular||this instanceof Si||(L[3]=0),C=0;C<4;++C)j=L[C],x=C<2||C===2&&/%$/.test(j),L[C]=OT(j,[d,u,g,L[2]][C])+(x?l:0);return L[3]>L[2]&&(L[3]=L[2]),zv(m)&&2*m<L[2]&&m>0&&(L[3]=L[2]-2*m),PT(this,"afterGetCenter",{positions:L}),L},y.getStartAndEndRadians=function(i,o){let l=zv(i)?i:0,d=zv(o)&&o>l&&o-l<360?o:l+360;return{start:Dw*(l+-90),end:Dw*(d+-90)}}})(T||(T={}));let Bw=T,{setAnimation:RT}=jr,{addEvent:$w,defined:LT,extend:IT,isNumber:DT,pick:BT,relativeLength:$T}=Qe;class zw extends Z{getConnectorPath(i){let o=i.dataLabelPosition,l=i.options||{},d=l.connectorShape,u=this.connectorShapes[d]||d;return o&&u.call(this,{...o.computed,alignment:o.alignment},o.connectorPosition,l)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(i){let o=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(o.x,o.y,o.r+i,o.r+i,{innerR:o.r-1,start:o.start,end:o.end,borderRadius:o.borderRadius})}constructor(i,o,l){super(i,o,l),this.half=0,this.name??(this.name=i.chart.options.lang.pieSliceName);let d=u=>{this.slice(u.type==="select")};$w(this,"select",d),$w(this,"unselect",d)}isValid(){return DT(this.y)&&this.y>=0}setVisible(i,o=!0){i!==this.visible&&this.update({visible:i??!this.visible},o,void 0,!1)}slice(i,o,l){let d=this.series;RT(l,d.chart),o=BT(o,!0),this.sliced=this.options.sliced=i=LT(i)?i:!this.sliced,d.options.data[d.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}IT(zw.prototype,{connectorShapes:{fixedOffset:function(y,i,o){let l=i.breakAt,d=i.touchingSliceAt,u=o.softConnector?["C",y.x+(y.alignment==="left"?-5:5),y.y,2*l.x-d.x,2*l.y-d.y,l.x,l.y]:["L",l.x,l.y];return[["M",y.x,y.y],u,["L",d.x,d.y]]},straight:function(y,i){let o=i.touchingSliceAt;return[["M",y.x,y.y],["L",o.x,o.y]]},crookedLine:function(y,i,o){let{angle:l=this.angle||0,breakAt:d,touchingSliceAt:u}=i,{series:f}=this,[g,m,x]=f.center,_=x/2,{plotLeft:w,plotWidth:C}=f.chart,j=y.alignment==="left",{x:L,y:F}=y,$=d.x;if(o.crookDistance){let G=$T(o.crookDistance,1);$=j?g+_+(C+w-g-_)*(1-G):w+(g-_)*G}else $=g+(m-F)*Math.tan(l-Math.PI/2);let B=[["M",L,F]];return(j?$<=L&&$>=d.x:$>=L&&$<=d.x)&&B.push(["L",$,F]),B.push(["L",d.x,d.y],["L",u.x,u.y]),B}}});let{getStartAndEndRadians:zT}=Bw,{noop:Fw}=J,{clamp:FT,extend:WT,fireEvent:Ww,merge:Fv,pick:UT}=Qe;class Wv extends Si{animate(i){let o=this,l=o.points,d=o.startAngleRad;i||l.forEach(function(u){let f=u.graphic,g=u.shapeArgs;f&&g&&(f.attr({r:UT(u.startR,o.center&&o.center[3]/2),start:d,end:d}),f.animate({r:g.r,start:g.start,end:g.end},o.options.animation))})}drawEmpty(){let i,o,l=this.startAngleRad,d=this.endAngleRad,u=this.options;this.total===0&&this.center?(i=this.center[0],o=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(i,o,this.center[1]/2,0,l,d).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:kh.arc(i,o,this.center[2]/2,0,{start:l,end:d,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":u.borderWidth,fill:u.fillColor||"none",stroke:u.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let i=this.chart.renderer;this.points.forEach(function(o){o.graphic&&o.hasNewShapeType()&&(o.graphic=o.graphic.destroy()),o.graphic||(o.graphic=i[o.shapeType](o.shapeArgs).add(o.series.group),o.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(i,o,l,d){let u=this.center,f=this.radii?this.radii[l.index]||0:u[2]/2,g=d.dataLabelPosition,m=(g==null?void 0:g.distance)||0,x=Math.asin(FT((i-u[1])/(f+m),-1,1));return u[0]+Math.cos(x)*(f+m)*(o?-1:1)+(m>0?(o?-1:1)*(d.padding||0):0)}hasData(){return this.points.some(i=>i.visible)}redrawPoints(){let i,o,l,d,u=this,f=u.chart;this.drawEmpty(),u.group&&!f.styledMode&&u.group.shadow(u.options.shadow),u.points.forEach(function(g){let m={};o=g.graphic,!g.isNull&&o?(d=g.shapeArgs,i=g.getTranslate(),f.styledMode||(l=u.pointAttribs(g,g.selected&&"select")),g.delayedRendering?(o.setRadialReference(u.center).attr(d).attr(i),f.styledMode||o.attr(l).attr({"stroke-linejoin":"round"}),g.delayedRendering=!1):(o.setRadialReference(u.center),f.styledMode||Fv(!0,m,l),Fv(!0,m,d,i),o.animate(m)),o.attr({visibility:g.visible?"inherit":"hidden"}),o.addClass(g.getClassName(),!0)):o&&(g.graphic=o.destroy())})}sortByAngle(i,o){i.sort(function(l,d){return l.angle!==void 0&&(d.angle-l.angle)*o})}translate(i){Ww(this,"translate"),this.generatePoints();let o=this.options,l=o.slicedOffset,d=zT(o.startAngle,o.endAngle),u=this.startAngleRad=d.start,f=(this.endAngleRad=d.end)-u,g=this.points,m=o.ignoreHiddenPoint,x=g.length,_,w,C,j,L,F,$,B=0;for(i||(this.center=i=this.getCenter()),F=0;F<x;F++){$=g[F],_=u+B*f,$.isValid()&&(!m||$.visible)&&(B+=$.percentage/100),w=u+B*f;let G={x:i[0],y:i[1],r:i[2]/2,innerR:i[3]/2,start:Math.round(1e3*_)/1e3,end:Math.round(1e3*w)/1e3};$.shapeType="arc",$.shapeArgs=G,(C=(w+_)/2)>1.5*Math.PI?C-=2*Math.PI:C<-Math.PI/2&&(C+=2*Math.PI),$.slicedTranslation={translateX:Math.round(Math.cos(C)*l),translateY:Math.round(Math.sin(C)*l)},j=Math.cos(C)*i[2]/2,L=Math.sin(C)*i[2]/2,$.tooltipPos=[i[0]+.7*j,i[1]+.7*L],$.half=+(C<-Math.PI/2||C>Math.PI/2),$.angle=C}Ww(this,"afterTranslate")}updateTotals(){let i=this.points,o=i.length,l=this.options.ignoreHiddenPoint,d,u,f=0;for(d=0;d<o;d++)(u=i[d]).isValid()&&(!l||u.visible)&&(f+=u.y);for(d=0,this.total=f;d<o;d++)(u=i[d]).percentage=f>0&&(u.visible||!l)?u.y/f*100:0,u.total=f}}Wv.defaultOptions=Fv(Si.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),WT(Wv.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:vf.prototype.drawTracker,getCenter:Bw.getCenter,getSymbol:Fw,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:vf.prototype.pointAttribs,pointClass:zw,requireSorting:!1,searchPoint:Fw,trackerGroups:["group","dataLabelsGroup"]}),or.registerSeriesType("pie",Wv);let{composed:HT,noop:GT}=J,{distribute:VT}=us,{series:Uw}=or,{arrayMax:XT,clamp:Hw,defined:Gw,isNumber:YT,pick:qT,pushUnique:KT,relativeLength:Vw}=Qe;(function(y){let i={radialDistributionY:function(f,g){var m;return(((m=g.dataLabelPosition)==null?void 0:m.top)||0)+f.distributeBox.pos},radialDistributionX:function(f,g,m,x,_){let w=_.dataLabelPosition;return f.getX(m<((w==null?void 0:w.top)||0)+2||m>((w==null?void 0:w.bottom)||0)-2?x:m,g.half,g,_)},justify:function(f,g,m,x){var _;return x[0]+(f.half?-1:1)*(m+(((_=g.dataLabelPosition)==null?void 0:_.distance)||0))},alignToPlotEdges:function(f,g,m,x){let _=f.getBBox().width;return g?_+x:m-_-x},alignToConnectors:function(f,g,m,x){let _=0,w;return f.forEach(function(C){(w=C.dataLabel.getBBox().width)>_&&(_=w)}),g?_+x:m-_-x}};function o(f,g){let m=Math.PI/2,{start:x=0,end:_=0}=f.shapeArgs||{},w=f.angle||0;g>0&&x<m&&_>m&&w>m/2&&w<1.5*m&&(w=w<=m?Math.max(m/2,(x+m)/2):Math.min(1.5*m,(m+_)/2));let{center:C,options:j}=this,L=C[2]/2,F=Math.cos(w),$=Math.sin(w),B=C[0]+F*L,G=C[1]+$*L,X=Math.min((j.slicedOffset||0)+(j.borderWidth||0),g/5);return{natural:{x:B+F*g,y:G+$*g},computed:{},alignment:g<0?"center":f.half?"right":"left",connectorPosition:{angle:w,breakAt:{x:B+F*X,y:G+$*X},touchingSliceAt:{x:B,y:G}},distance:g}}function l(){var ye;let f=this,g=f.points,m=f.chart,x=m.plotWidth,_=m.plotHeight,w=m.plotLeft,C=Math.round(m.chartWidth/3),j=f.center,L=j[2]/2,F=j[1],$=[[],[]],B=[0,0,0,0],G=f.dataLabelPositioners,X,pe,de,fe=0;f.visible&&((ye=f.hasDataLabels)!=null&&ye.call(f))&&(g.forEach(me=>{(me.dataLabels||[]).forEach(xe=>{xe.shortened&&(xe.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),xe.shortened=!1)})}),Uw.prototype.drawDataLabels.apply(f),g.forEach(me=>{(me.dataLabels||[]).forEach((xe,Ne)=>{var rt;let Ae=j[2]/2,We=xe.options,Ge=Vw((We==null?void 0:We.distance)||0,Ae);Ne===0&&$[me.half].push(me),!Gw((rt=We==null?void 0:We.style)==null?void 0:rt.width)&&xe.getBBox().width>C&&(xe.css({width:Math.round(.7*C)+"px"}),xe.shortened=!0),xe.dataLabelPosition=this.getDataLabelPosition(me,Ge),fe=Math.max(fe,Ge)})}),$.forEach((me,xe)=>{let Ne=me.length,Ae=[],We,Ge,rt=0,Je;Ne&&(f.sortByAngle(me,xe-.5),fe>0&&(We=Math.max(0,F-L-fe),Ge=Math.min(F+L+fe,m.plotHeight),me.forEach(lt=>{(lt.dataLabels||[]).forEach(Ke=>{var wt;let ct=Ke.dataLabelPosition;ct&&ct.distance>0&&(ct.top=Math.max(0,F-L-ct.distance),ct.bottom=Math.min(F+L+ct.distance,m.plotHeight),rt=Ke.getBBox().height||21,Ke.lineHeight=m.renderer.fontMetrics(Ke.text||Ke).h+2*Ke.padding,lt.distributeBox={target:(((wt=Ke.dataLabelPosition)==null?void 0:wt.natural.y)||0)-ct.top+Ke.lineHeight/2,size:rt,rank:lt.y},Ae.push(lt.distributeBox))})}),VT(Ae,Je=Ge+rt-We,Je/5)),me.forEach(lt=>{(lt.dataLabels||[]).forEach(Ke=>{let ct=Ke.options||{},wt=lt.distributeBox,jt=Ke.dataLabelPosition,At=(jt==null?void 0:jt.natural.y)||0,Vr=ct.connectorPadding||0,Ct=Ke.lineHeight||21,It=(Ct-Ke.getBBox().height)/2,pt=0,ht=At,ur="inherit";if(jt){if(Ae&&Gw(wt)&&jt.distance>0&&(wt.pos===void 0?ur="hidden":(de=wt.size,ht=G.radialDistributionY(lt,Ke))),ct.justify)pt=G.justify(lt,Ke,L,j);else switch(ct.alignTo){case"connectors":pt=G.alignToConnectors(me,xe,x,w);break;case"plotEdges":pt=G.alignToPlotEdges(Ke,xe,x,w);break;default:pt=G.radialDistributionX(f,lt,ht-It,At,Ke)}if(jt.attribs={visibility:ur,align:jt.alignment},jt.posAttribs={x:pt+(ct.x||0)+({left:Vr,right:-Vr}[jt.alignment]||0),y:ht+(ct.y||0)-Ct/2},jt.computed.x=pt,jt.computed.y=ht-It,qT(ct.crop,!0)){let Dt;pt-(pe=Ke.getBBox().width)<Vr&&xe===1?(Dt=Math.round(pe-pt+Vr),B[3]=Math.max(Dt,B[3])):pt+pe>x-Vr&&xe===0&&(Dt=Math.round(pt+pe-x+Vr),B[1]=Math.max(Dt,B[1])),ht-de/2<0?B[0]=Math.max(Math.round(-ht+de/2),B[0]):ht+de/2>_&&(B[2]=Math.max(Math.round(ht+de/2-_),B[2])),jt.sideOverflow=Dt}}})}))}),(XT(B)===0||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),this.points.forEach(me=>{(me.dataLabels||[]).forEach(xe=>{var Ge;let{connectorColor:Ne,connectorWidth:Ae=1}=xe.options||{},We=xe.dataLabelPosition;if(YT(Ae)){let rt;X=xe.connector,We&&We.distance>0?(rt=!X,X||(xe.connector=X=m.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+me.colorIndex+(me.className?" "+me.className:"")).add(f.dataLabelsGroup)),m.styledMode||X.attr({"stroke-width":Ae,stroke:Ne||me.color||"#666666"}),X[rt?"attr":"animate"]({d:me.getConnectorPath(xe)}),X.attr({visibility:(Ge=We.attribs)==null?void 0:Ge.visibility})):X&&(xe.connector=X.destroy())}})})))}function d(){this.points.forEach(f=>{(f.dataLabels||[]).forEach(g=>{var x,_;let m=g.dataLabelPosition;m?(m.sideOverflow&&(g.css({width:Math.max(g.getBBox().width-m.sideOverflow,0)+"px",textOverflow:((_=(x=g.options)==null?void 0:x.style)==null?void 0:_.textOverflow)||"ellipsis"}),g.shortened=!0),g.attr(m.attribs),g[g.moved?"animate":"attr"](m.posAttribs),g.moved=!0):g&&g.attr({y:-9999})}),delete f.distributeBox},this)}function u(f){let g=this.center,m=this.options,x=m.center,_=m.minSize||80,w=_,C=m.size!==null;return!C&&(x[0]!==null?w=Math.max(g[2]-Math.max(f[1],f[3]),_):(w=Math.max(g[2]-f[1]-f[3],_),g[0]+=(f[3]-f[1])/2),x[1]!==null?w=Hw(w,_,g[2]-Math.max(f[0],f[2])):(w=Hw(w,_,g[2]-f[0]-f[2]),g[1]+=(f[0]-f[2])/2),w<g[2]?(g[2]=w,g[3]=Math.min(m.thickness?Math.max(0,w-2*m.thickness):Math.max(0,Vw(m.innerSize||0,w)),w),this.translate(g),this.drawDataLabels&&this.drawDataLabels()):C=!0),C}y.compose=function(f){if(xf.compose(Uw),KT(HT,"PieDataLabel")){let g=f.prototype;g.dataLabelPositioners=i,g.alignDataLabel=GT,g.drawDataLabels=l,g.getDataLabelPosition=o,g.placeDataLabels=d,g.verifyDataLabelOverflow=u}}})(O||(O={}));let ZT=O;(function(y){y.getCenterOfPoints=function(i){let o=i.reduce((l,d)=>(l.x+=d.x,l.y+=d.y,l),{x:0,y:0});return{x:o.x/i.length,y:o.y/i.length}},y.getDistanceBetweenPoints=function(i,o){return Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))},y.getAngleBetweenPoints=function(i,o){return Math.atan2(o.x-i.x,o.y-i.y)},y.pointInPolygon=function({x:i,y:o},l){let d=l.length,u,f,g=!1;for(u=0,f=d-1;u<d;f=u++){let[m,x]=l[u],[_,w]=l[f];x>o!=w>o&&i<(_-m)*(o-x)/(w-x)+m&&(g=!g)}return g}})(q||(q={}));let{pointInPolygon:QT}=q,{addEvent:JT,getAlignFactor:eA,fireEvent:Xw,objectEach:Yw,pick:tA}=Qe;function rA(y){let i=y.length,o=(_,w)=>!(w.x>=_.x+_.width||w.x+w.width<=_.x||w.y>=_.y+_.height||w.y+w.height<=_.y),l=(_,w)=>{for(let C of _)if(QT({x:C[0],y:C[1]},w))return!0;return!1},d,u,f,g,m,x=!1;for(let _=0;_<i;_++)(d=y[_])&&(d.oldOpacity=d.opacity,d.newOpacity=1,d.absoluteBox=function(w){var C,j;if(w&&(!w.alignAttr||w.placed)){let L=w.box?0:w.padding||0,F=w.alignAttr||{x:w.attr("x"),y:w.attr("y")},{height:$,polygon:B,width:G}=w.getBBox(),X=eA(w.alignValue)*G;return w.width=G,w.height=$,{x:F.x+(((C=w.parentGroup)==null?void 0:C.translateX)||0)+L-X,y:F.y+(((j=w.parentGroup)==null?void 0:j.translateY)||0)+L,width:G-2*L,height:$-2*L,polygon:B}}}(d));y.sort((_,w)=>(w.labelrank||0)-(_.labelrank||0));for(let _=0;_<i;++_){g=(u=y[_])&&u.absoluteBox;let w=g==null?void 0:g.polygon;for(let C=_+1;C<i;++C){m=(f=y[C])&&f.absoluteBox;let j=!1;if(g&&m&&u!==f&&u.newOpacity!==0&&f.newOpacity!==0&&u.visibility!=="hidden"&&f.visibility!=="hidden"){let L=m.polygon;if(w&&L&&w!==L?l(w,L)&&(j=!0):o(g,m)&&(j=!0),j){let F=u.labelrank<f.labelrank?u:f,$=F.text;F.newOpacity=0,$!=null&&$.element.querySelector("textPath")&&$.hide()}}}}for(let _ of y)qw(_,this)&&(x=!0);x&&Xw(this,"afterHideAllOverlappingLabels")}function qw(y,i){let o,l=!1;return y&&(o=y.newOpacity,y.oldOpacity!==o&&(y.hasClass("highcharts-data-label")?(y[o?"removeClass":"addClass"]("highcharts-data-label-hidden"),l=!0,y[y.isOld?"animate":"attr"]({opacity:o},void 0,function(){i.styledMode||y.css({pointerEvents:o?"auto":"none"})}),Xw(i,"afterHideOverlappingLabel")):y.attr({opacity:o})),y.isOld=!0),l}function iA(){var o;let y=this,i=[];for(let l of y.labelCollectors||[])i=i.concat(l());for(let l of y.yAxis||[])l.stacking&&l.options.stackLabels&&!l.options.stackLabels.allowOverlap&&Yw(l.stacking.stacks,d=>{Yw(d,u=>{u.label&&i.push(u.label)})});for(let l of y.series||[])if(l.visible&&((o=l.hasDataLabels)!=null&&o.call(l))){let d=u=>{for(let f of u)f.visible&&(f.dataLabels||[]).forEach(g=>{var x;let m=g.options||{};g.labelrank=tA(m.labelrank,f.labelrank,(x=f.shapeArgs)==null?void 0:x.height),m.allowOverlap??Number(m.distance)>0?(g.oldOpacity=g.opacity,g.newOpacity=1,qw(g,y)):i.push(g)})};d(l.nodes||[]),d(l.points)}this.hideOverlappingLabels(i)}let Kw={compose:function(y){let i=y.prototype;i.hideOverlappingLabels||(i.hideOverlappingLabels=rA,JT(y,"render",iA))}},{defaultOptions:nA}=Oi,{noop:Zw}=J,{addEvent:Qw,extend:sA,isObject:Jw,merge:oA,relativeLength:Uv}=Qe,aA={radius:0,scope:"stack",where:void 0},e1=Zw,t1=Zw;function lA(y,i,o,l,d={}){let u=e1(y,i,o,l,d),{brStart:f=!0,brEnd:g=!0,innerR:m=0,r:x=o,start:_=0,end:w=0}=d;if(d.open||!d.borderRadius)return u;let C=w-_,j=Math.sin(C/2),L=Math.max(Math.min(Uv(d.borderRadius||0,x-m),(x-m)/2,x*j/(1+j)),0),F=Math.min(L,C/Math.PI*2*m),$=u.length-1;for(;$--;)(f||$!==0&&$!==3)&&(g||$!==1&&$!==2)&&function(B,G,X){let pe,de,fe,ye=B[G],me=B[G+1];if(me[0]==="Z"&&(me=B[0]),(ye[0]==="M"||ye[0]==="L")&&me[0]==="A"?(pe=ye,de=me,fe=!0):ye[0]==="A"&&(me[0]==="M"||me[0]==="L")&&(pe=me,de=ye),pe&&de&&de.params){let xe=de[1],Ne=de[5],Ae=de.params,{start:We,end:Ge,cx:rt,cy:Je}=Ae,lt=Ne?xe-X:xe+X,Ke=lt?Math.asin(X/lt):0,ct=Ne?Ke:-Ke,wt=Math.cos(Ke)*lt;fe?(Ae.start=We+ct,pe[1]=rt+wt*Math.cos(We),pe[2]=Je+wt*Math.sin(We),B.splice(G+1,0,["A",X,X,0,0,1,rt+xe*Math.cos(Ae.start),Je+xe*Math.sin(Ae.start)])):(Ae.end=Ge-ct,de[6]=rt+xe*Math.cos(Ae.end),de[7]=Je+xe*Math.sin(Ae.end),B.splice(G+1,0,["A",X,X,0,0,1,rt+wt*Math.cos(Ge),Je+wt*Math.sin(Ge)])),de[4]=Math.abs(Ae.end-Ae.start)<Math.PI?0:1}}(u,$,$>1?F:L);return u}function cA(){var y,i;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:o,yAxis:l}=this,d=o.stacking==="percent",u=(i=(y=nA.plotOptions)==null?void 0:y[this.type])==null?void 0:i.borderRadius,f=Hv(o.borderRadius,Jw(u)?u:{}),g=l.options.reversed;for(let m of this.points){let{shapeArgs:x}=m;if(m.shapeType==="roundedRect"&&x){let{width:_=0,height:w=0,y:C=0}=x,j=C,L=w;if(f.scope==="stack"&&m.stackTotal){let G=l.translate(d?100:m.stackTotal,!1,!0,!1,!0),X=l.translate(o.threshold||0,!1,!0,!1,!0),pe=this.crispCol(0,Math.min(G,X),0,Math.abs(G-X));j=pe.y,L=pe.height}let F=(m.negative?-1:1)*(g?-1:1)==-1,$=f.where;!$&&this.is("waterfall")&&Math.abs((m.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&($="all"),$||($="end");let B=Math.min(Uv(f.radius,_),_/2,$==="all"?w/2:1/0)||0;$==="end"&&(F&&(j-=B),L+=B),sA(x,{brBoxHeight:L,brBoxY:j,r:B})}}}}function Hv(y,i){return Jw(y)||(y={radius:y||0}),oA(aA,i,y)}function dA(){let y=Hv(this.options.borderRadius);for(let i of this.points){let o=i.shapeArgs;o&&(o.borderRadius=Uv(y.radius,(o.r||0)-(o.innerR||0)))}}function uA(y,i,o,l,d={}){let u=t1(y,i,o,l,d),{r:f=0,brBoxHeight:g=l,brBoxY:m=i}=d,x=i-m,_=m+g-(i+l),w=x-f>-.1?0:f,C=_-f>-.1?0:f,j=Math.max(w&&x,0),L=Math.max(C&&_,0),F=[y+w,i],$=[y+o-w,i],B=[y+o,i+w],G=[y+o,i+l-C],X=[y+o-C,i+l],pe=[y+C,i+l],de=[y,i+l-C],fe=[y,i+w],ye=(me,xe)=>Math.sqrt(Math.pow(me,2)-Math.pow(xe,2));if(j){let me=ye(w,w-j);F[0]-=me,$[0]+=me,B[1]=fe[1]=i+w-j}if(l<w-j){let me=ye(w,w-j-l);B[0]=G[0]=y+o-w+me,X[0]=Math.min(B[0],X[0]),pe[0]=Math.max(G[0],pe[0]),de[0]=fe[0]=y+w-me,B[1]=fe[1]=i+l}if(L){let me=ye(C,C-L);X[0]+=me,pe[0]-=me,G[1]=de[1]=i+l-C+L}if(l<C-L){let me=ye(C,C-L-l);B[0]=G[0]=y+o-C+me,$[0]=Math.min(B[0],$[0]),F[0]=Math.max(G[0],F[0]),de[0]=fe[0]=y+C-me,G[1]=de[1]=i}return u.length=0,u.push(["M",...F],["L",...$],["A",w,w,0,0,1,...B],["L",...G],["A",C,C,0,0,1,...X],["L",...pe],["A",C,C,0,0,1,...de],["L",...fe],["A",w,w,0,0,1,...F],["Z"]),u}let{diffObjects:hA,extend:fA,find:pA,merge:gA,pick:wf,uniqueKey:mA}=Qe;(function(y){function i(l,d){let u=l.condition;(u.callback||function(){return this.chartWidth<=wf(u.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=wf(u.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=wf(u.minWidth,0)&&this.chartHeight>=wf(u.minHeight,0)}).call(this)&&d.push(l._id)}function o(l,d){let u=this.options.responsive,f=this.currentResponsive,g=[],m;!d&&u&&u.rules&&u.rules.forEach(w=>{w._id===void 0&&(w._id=mA()),this.matchResponsiveRule(w,g)},this);let x=gA(...g.map(w=>pA((u==null?void 0:u.rules)||[],C=>C._id===w)).map(w=>w==null?void 0:w.chartOptions));x.isResponsiveOptions=!0,g=g.toString()||void 0;let _=f==null?void 0:f.ruleIds;g!==_&&(f&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(f.undoOptions,l,!0),this.updatingResponsive=!1),g?((m=hA(x,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:g,mergedOptions:x,undoOptions:m},this.updatingResponsive||this.update(x,l,!0)):this.currentResponsive=void 0)}y.compose=function(l){let d=l.prototype;return d.matchResponsiveRule||fA(d,{matchResponsiveRule:i,setResponsive:o}),l}})(ae||(ae={}));let vA=ae;J.AST=Ut,J.Axis=xs,J.Chart=lo,J.Color=Wt,J.DataLabel=xf,J.DataTableCore=ki,J.Fx=Gr,J.HTMLElement=ps,J.Legend=cw,J.LegendSymbol=wn,J.OverlappingDataLabels=J.OverlappingDataLabels||Kw,J.PlotLineOrBand=kl,J.Point=Z,J.Pointer=kr,J.RendererRegistry=qi,J.Series=Si,J.SeriesRegistry=or,J.StackItem=ww,J.SVGElement=en,J.SVGRenderer=hl,J.Templating=sr,J.Tick=eo,J.Time=Uc,J.Tooltip=rf,J.animate=jr.animate,J.animObject=jr.animObject,J.chart=lo.chart,J.color=Wt.parse,J.dateFormat=sr.dateFormat,J.defaultOptions=Oi.defaultOptions,J.distribute=us.distribute,J.format=sr.format,J.getDeferredAnimation=jr.getDeferredAnimation,J.getOptions=Oi.getOptions,J.numberFormat=sr.numberFormat,J.seriesType=or.seriesType,J.setAnimation=jr.setAnimation,J.setOptions=Oi.setOptions,J.stop=jr.stop,J.time=Oi.defaultTime,J.timers=Gr.timers,{compose:function(y,i,o){let l=y.types.pie;if(!i.symbolCustomAttribs.includes("borderRadius")){let d=o.prototype.symbols;Qw(y,"afterColumnTranslate",cA,{order:9}),Qw(l,"afterTranslate",dA),i.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),e1=d.arc,t1=d.roundedRect,d.arc=lA,d.roundedRect=uA}},optionsToObject:Hv}.compose(J.Series,J.SVGElement,J.SVGRenderer),CT.compose(J.Series.types.column),xf.compose(J.Series),Gm.compose(J.Axis),ps.compose(J.SVGRenderer),cw.compose(J.Chart),bl.compose(J.Axis),Kw.compose(J.Chart),ZT.compose(J.Series.types.pie),kl.compose(J.Chart,J.Axis),kr.compose(J.Chart),vA.compose(J.Chart),yd.compose(J.Axis,J.Chart,J.Series),nT.compose(J.Axis,J.Chart,J.Series),rf.compose(J.Pointer),Qe.extend(J,Qe);let xA=J;return ce.default})())})(aj);var Rz=aj.exports;const lj=Tu(Rz);var cj={exports:{}};(function(e,t){(function(r,n){e.exports=n(r._Highcharts,r._Highcharts.Point,r._Highcharts.Axis,r._Highcharts.Color,r._Highcharts.SeriesRegistry,r._Highcharts.RendererRegistry,r._Highcharts.SVGRenderer,r._Highcharts.SVGElement,r._Highcharts.Templating,r._Highcharts.Chart,r._Highcharts.Series.types.column,r._Highcharts.Series,r._Highcharts.StackItem)})(typeof window>"u"?vi:window,(r,n,s,a,c,p,v,b,S,E,A,z,U)=>(()=>{let D,R,I,T;var O,q,ae,re,ce,J,we,Se,be={28:K=>{K.exports=b},184:K=>{K.exports=U},260:K=>{K.exports=n},448:K=>{K.exports=A},512:K=>{K.exports=c},532:K=>{K.exports=s},540:K=>{K.exports=v},608:K=>{K.exports=p},620:K=>{K.exports=a},820:K=>{K.exports=z},944:K=>{K.exports=r},960:K=>{K.exports=E},984:K=>{K.exports=S}},ve={};function je(K){var k=ve[K];if(k!==void 0)return k.exports;var N=ve[K]={exports:{}};return be[K](N,N.exports,je),N.exports}je.n=K=>{var k=K&&K.__esModule?()=>K.default:()=>K;return je.d(k,{a:k}),k},je.d=(K,k)=>{for(var N in k)je.o(k,N)&&!je.o(K,N)&&Object.defineProperty(K,N,{enumerable:!0,get:k[N]})},je.o=(K,k)=>Object.prototype.hasOwnProperty.call(K,k);var Fe={};je.d(Fe,{default:()=>uv});var Ye=je(944),ie=je.n(Ye),ge=je(260);let{tooltipFormatter:he}=je.n(ge)().prototype,{addEvent:Me,arrayMax:$e,arrayMin:Ie,correctFloat:Ee,defined:Ze,isArray:ot,isNumber:tt,isString:Ce,pick:Oe}=ie();(function(K){function k(te,V,Q){!this.isXAxis&&(this.series.forEach(function(Z){te==="compare"&&typeof V!="boolean"?Z.setCompare(V,!1):te!=="cumulative"||Ce(V)||Z.setCumulative(V,!1)}),Oe(Q,!0)&&this.chart.redraw())}function N(te){let V=this,{numberFormatter:Q}=V.series.chart,Z=function(le){te=te.replace("{point."+le+"}",(V[le]>0&&le==="change"?"+":"")+Q(V[le],Oe(V.series.tooltipOptions.changeDecimals,2)))};return Ze(V.change)&&Z("change"),Ze(V.cumulativeSum)&&Z("cumulativeSum"),he.apply(this,[te])}function P(){let te,V=this.options.compare;(V==="percent"||V==="value"||this.options.cumulative)&&(te=new ee(this),V==="percent"||V==="value"?te.initCompare(V):te.initCumulative()),this.dataModify=te}function W(te){let V=te.dataExtremes,Q=V.activeYData;if(this.dataModify&&V){let Z;this.options.compare?Z=[this.dataModify.modifyValue(V.dataMin),this.dataModify.modifyValue(V.dataMax)]:this.options.cumulative&&ot(Q)&&Q.length>=2&&(Z=ee.getCumulativeExtremes(Q)),Z&&(V.dataMin=Ie(Z),V.dataMax=$e(Z))}}function H(te,V){this.options.compare=this.userOptions.compare=te,this.update({},Oe(V,!0)),this.dataModify&&(te==="value"||te==="percent")?this.dataModify.initCompare(te):this.points.forEach(Q=>{delete Q.change})}function Y(){let te=this.getColumn(this.pointArrayMap&&(this.options.pointValKey||this.pointValKey)||"y",!0);if(this.xAxis&&te.length&&this.dataModify){let V=this.getColumn("x",!0),Q=this.dataTable.rowCount,Z=+(this.options.compareStart!==!0);for(let le=0;le<Q-Z;le++){let ue=te[le];if(tt(ue)&&ue!==0&&V[le+Z]>=(this.xAxis.min||0)){this.dataModify.compareValue=ue;break}}}}function ne(te,V){this.setModifier("compare",te,V)}function se(te,V){te=Oe(te,!1),this.options.cumulative=this.userOptions.cumulative=te,this.update({},Oe(V,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(Q=>{delete Q.cumulativeSum})}function oe(te,V){this.setModifier("cumulative",te,V)}K.compose=function(te,V,Q){let Z=V.prototype,le=Q.prototype,ue=te.prototype;return ue.setCompare||(ue.setCompare=H,ue.setCumulative=se,Me(te,"afterInit",P),Me(te,"afterGetExtremes",W),Me(te,"afterProcessData",Y)),Z.setCompare||(Z.setCompare=ne,Z.setModifier=k,Z.setCumulative=oe,le.tooltipFormatter=N),te};class ee{constructor(V){this.series=V}modifyValue(){return 0}static getCumulativeExtremes(V){let Q=1/0,Z=-1/0;return V.reduce((le,ue)=>{let ke=le+ue;return Q=Math.min(Q,ke,le),Z=Math.max(Z,ke,le),ke}),[Q,Z]}initCompare(V){this.modifyValue=function(Q,Z){Q===null&&(Q=0);let le=this.compareValue;if(Q!==void 0&&le!==void 0){if(V==="value"?Q-=le:Q=Q/le*100-100*(this.series.options.compareBase!==100),Z!==void 0){let ue=this.series.points[Z];ue&&(ue.change=Q)}return Q}return 0}}initCumulative(){this.modifyValue=function(V,Q){if(V===null&&(V=0),V!==void 0&&Q!==void 0){let Z=Q>0?this.series.points[Q-1]:null;Z&&Z.cumulativeSum&&(V=Ee(Z.cumulativeSum+V));let le=this.series.points[Q],ue=le.series.options.cumulativeStart,ke=le.x<=this.series.xAxis.max&&le.x>=this.series.xAxis.min;return le&&(!ue||ke?le.cumulativeSum=V:le.cumulativeSum=void 0),V}return 0}}}K.Additions=ee})(O||(O={}));let st=O;var ut=je(532),vt=je.n(ut);let{isTouchDevice:ft}=ie(),{addEvent:kt,merge:Qe,pick:Dr}=ie(),Wr=[];function Xi(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function li(){var H;let K,k,N,P=this.legend,W=this.navigator;if(W){K=P&&P.options,k=W.xAxis,N=W.yAxis;let{scrollbarHeight:Y,scrollButtonSize:ne}=W;this.inverted?(W.left=W.opposite?this.chartWidth-Y-W.height:this.spacing[3]+Y,W.top=this.plotTop+ne):(W.left=Dr(k.left,this.plotLeft+ne),W.top=W.navigatorOptions.top||this.chartHeight-W.height-Y-(((H=this.scrollbar)==null?void 0:H.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(K&&K.verticalAlign==="bottom"&&K.layout!=="proximate"&&K.enabled&&!K.floating?P.legendHeight+Dr(K.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),k&&N&&(this.inverted?k.options.left=N.options.left=W.left:k.options.top=N.options.top=W.top,k.setAxisSize(),N.setAxisSize())}}function Ur(K){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new D(this),Dr(K.redraw,!0)&&this.redraw(K.animation))}function Yi(){let K=this.options;(K.navigator.enabled||K.scrollbar.enabled)&&(this.scroller=this.navigator=new D(this))}function zc(){let K=this.options,k=K.navigator,N=K.rangeSelector;if((k&&k.enabled||N&&N.enabled)&&(!ft&&this.zooming.type==="x"||ft&&this.zooming.pinchType==="x"))return!1}function Ko(K){let k=K.navigator;if(k&&K.xAxis[0]){let N=K.xAxis[0].getExtremes();k.render(N.min,N.max)}}function Gg(K){let k=K.options.navigator||{},N=K.options.scrollbar||{};!this.navigator&&!this.scroller&&(k.enabled||N.enabled)&&(Qe(!0,this.options.navigator,k),Qe(!0,this.options.scrollbar,N),delete K.options.navigator,delete K.options.scrollbar)}let Vg={compose:function(K,k){if(ie().pushUnique(Wr,K)){let N=K.prototype;D=k,N.callbacks.push(Ko),kt(K,"afterAddSeries",Xi),kt(K,"afterSetChartSize",li),kt(K,"afterUpdate",Ur),kt(K,"beforeRender",Yi),kt(K,"beforeShowResetZoom",zc),kt(K,"update",Gg)}}},{isTouchDevice:Bn}=ie(),{addEvent:Yu,correctFloat:Za,defined:Fc,isNumber:qu,pick:Ku}=ie();function Xg(){this.navigatorAxis||(this.navigatorAxis=new Wc(this))}function Zu(K){let k,N=this.chart,P=N.options,W=P.navigator,H=this.navigatorAxis,Y=N.zooming.pinchType,ne=P.rangeSelector,se=N.zooming.type;if(this.isXAxis&&(W!=null&&W.enabled||ne!=null&&ne.enabled)){if(se==="y"&&K.trigger==="zoom")k=!1;else if((K.trigger==="zoom"&&se==="xy"||Bn&&Y==="xy")&&this.options.range){let oe=H.previousZoom;Fc(K.min)?H.previousZoom=[this.min,this.max]:oe&&(K.min=oe[0],K.max=oe[1],H.previousZoom=void 0)}}k!==void 0&&K.preventDefault()}class Wc{static compose(k){k.keepProps.includes("navigatorAxis")||(k.keepProps.push("navigatorAxis"),Yu(k,"init",Xg),Yu(k,"setExtremes",Zu))}constructor(k){this.axis=k}destroy(){this.axis=void 0}toFixedRange(k,N,P,W){let H=this.axis,Y=(H.pointRange||0)/2,ne=Ku(P,H.translate(k,!0,!H.horiz)),se=Ku(W,H.translate(N,!0,!H.horiz));return Fc(P)||(ne=Za(ne+Y)),Fc(W)||(se=Za(se-Y)),qu(ne)&&qu(se)||(ne=se=void 0),{min:ne,max:se}}}var nr=je(620),Uc=je.n(nr),Yg=je(512),ci=je.n(Yg);let{parse:qg}=Uc(),{seriesTypes:mn}=ci(),Zo={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:qg("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:mn.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{defined:Oi,isNumber:Kb,pick:Qa}=ie(),Kg={rect:function(K,k,N,P,W){return W!=null&&W.r?function(H,Y,ne,se,oe){let ee=(oe==null?void 0:oe.r)||0;return[["M",H+ee,Y],["L",H+ne-ee,Y],["A",ee,ee,0,0,1,H+ne,Y+ee],["L",H+ne,Y+se-ee],["A",ee,ee,0,0,1,H+ne-ee,Y+se],["L",H+ee,Y+se],["A",ee,ee,0,0,1,H,Y+se-ee],["L",H,Y+ee],["A",ee,ee,0,0,1,H+ee,Y],["Z"]]}(K,k,N,P,W):[["M",K,k],["L",K+N,k],["L",K+N,k+P],["L",K,k+P],["Z"]]}},{relativeLength:Zg}=ie(),Hr={"navigator-handle":function(K,k,N,P,W={}){let H=W.width?W.width/2:N,Y=Zg(W.borderRadius||0,Math.min(2*H,P));return[["M",-1.5,(P=W.height||P)/2-3.5],["L",-1.5,P/2+4.5],["M",.5,P/2-3.5],["L",.5,P/2+4.5],...Kg.rect(-H-1,.5,2*H+1,P,{r:Y})]}};var Qu=je(608),Hc=je.n(Qu);let{defined:Ja}=ie(),Wt={setFixedRange:function(K){let k=this.xAxis[0];Ja(k.dataMax)&&Ja(k.dataMin)&&K?this.fixedRange=Math.min(K,k.dataMax-k.dataMin):this.fixedRange=K}},{defaultOptions:Ju}=ie(),{composed:Qg}=ie(),{getRendererType:Gc}=Hc(),{setFixedRange:Jg}=Wt,{addEvent:Gr,extend:eh,pushUnique:em}=ie();function tm(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let rm={compose:function(K,k,N){Wc.compose(k),em(Qg,"Navigator")&&(K.prototype.setFixedRange=Jg,eh(Gc().prototype.symbols,Hr),eh(Ju,{navigator:Zo}),Gr(N,"afterUpdate",tm))}},{composed:Vc}=ie(),{addEvent:Qo,correctFloat:th,defined:cs,pick:el,pushUnique:rh}=ie();(function(K){let k;function N(Y){var oe,ee,te;let ne=el((oe=Y.options)==null?void 0:oe.min,Y.min),se=el((ee=Y.options)==null?void 0:ee.max,Y.max);return{axisMin:ne,axisMax:se,scrollMin:cs(Y.dataMin)?Math.min(ne,Y.min??1/0,Y.dataMin,Y.threshold??1/0):ne,scrollMax:((te=Y.treeGrid)==null?void 0:te.adjustedMax)??(cs(Y.dataMax)?Math.max(se,Y.max??-1/0,Y.dataMax,Y.threshold??-1/0):se)}}function P(){let Y=this.scrollbar,ne=Y&&!Y.options.opposite,se=this.horiz?2:ne?3:1;Y&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[se]+=Y.size+(Y.options.margin||0))}function W(){var ne,se;let Y=this;(se=(ne=Y.options)==null?void 0:ne.scrollbar)!=null&&se.enabled&&(Y.options.scrollbar.vertical=!Y.horiz,Y.options.startOnTick=Y.options.endOnTick=!1,Y.scrollbar=new k(Y.chart.renderer,Y.options.scrollbar,Y.chart),Qo(Y.scrollbar,"changed",function(oe){let ee,te,{axisMin:V,axisMax:Q,scrollMin:Z,scrollMax:le}=N(Y),ue=Y.toPixels(Z),ke=Y.toPixels(le)-ue;if(cs(V)&&cs(Q))if(Y.horiz&&!Y.reversed||!Y.horiz&&Y.reversed?(ee=Math.min(le,Y.toValue(ue+ke*this.to)),te=Math.max(Z,Y.toValue(ue+ke*this.from))):(ee=Math.min(le,Y.toValue(ue+ke*(1-this.from))),te=Math.max(Z,Y.toValue(ue+ke*(1-this.to)))),this.shouldUpdateExtremes(oe.DOMType)){let _e=oe.DOMType!=="mousemove"&&oe.DOMType!=="touchmove"&&void 0;Y.setExtremes(th(te),th(ee),!0,_e,oe)}else this.setRange(this.from,this.to)}))}function H(){let Y,ne,se,{scrollMin:oe,scrollMax:ee}=N(this),te=this.scrollbar,V=(this.axisTitleMargin||0)+(this.titleOffset||0),Q=this.chart.scrollbarsOffsets,Z=this.options.margin||0;if(te&&Q){if(this.horiz)this.opposite||(Q[1]+=V),te.position(this.left,this.top+this.height+2+Q[1]-(this.opposite?Z:0),this.width,this.height),this.opposite||(Q[1]+=Z),Y=1;else{let le;this.opposite&&(Q[0]+=V),le=te.options.opposite?this.left+this.width+2+Q[0]-(this.opposite?0:Z):this.opposite?0:Z,te.position(le,this.top,this.width,this.height),this.opposite&&(Q[0]+=Z),Y=0}if(Q[Y]+=te.size+(te.options.margin||0),isNaN(oe)||isNaN(ee)||!cs(this.min)||!cs(this.max)||cs(this.dataMin)&&this.dataMin===this.dataMax)te.setRange(0,1);else if(this.min===this.max){let le=this.pointRange/(this.dataMax+1);ne=le*this.min,se=le*(this.max+1),te.setRange(ne,se)}else ne=(this.toPixels(this.min)-this.toPixels(oe))/(this.toPixels(ee)-this.toPixels(oe)),se=(this.toPixels(this.max)-this.toPixels(oe))/(this.toPixels(ee)-this.toPixels(oe)),this.horiz&&!this.reversed||!this.horiz&&this.reversed?te.setRange(ne,se):te.setRange(1-se,1-ne)}}K.compose=function(Y,ne){rh(Vc,"Axis.Scrollbar")&&(k=ne,Qo(Y,"afterGetOffset",P),Qo(Y,"afterInit",W),Qo(Y,"afterRender",H))}})(q||(q={}));let jr=q,Jo={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:ih}=ie(),{composed:im}=ie(),{addEvent:nm,correctFloat:ds,crisp:ea,defined:nh,destroyObjectProperties:sh,extend:oh,fireEvent:ta,merge:tl,pick:$n,pushUnique:sm,removeEvent:Ut}=ie();class zn{static compose(k){jr.compose(k,zn),sm(im,"Scrollbar")&&oh(ih,{scrollbar:Jo})}static swapXY(k,N){return N&&k.forEach(P=>{let W,H=P.length;for(let Y=0;Y<H;Y+=2)typeof(W=P[Y+1])=="number"&&(P[Y+1]=P[Y+2],P[Y+2]=W)}),k}constructor(k,N,P){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(k,N,P)}addEvents(){let k=this.options.inverted?[1,0]:[0,1],N=this.scrollbarButtons,P=this.scrollbarGroup.element,W=this.track.element,H=this.mouseDownHandler.bind(this),Y=this.mouseMoveHandler.bind(this),ne=this.mouseUpHandler.bind(this),se=[[N[k[0]].element,"click",this.buttonToMinClick.bind(this)],[N[k[1]].element,"click",this.buttonToMaxClick.bind(this)],[W,"click",this.trackClick.bind(this)],[P,"mousedown",H],[P.ownerDocument,"mousemove",Y],[P.ownerDocument,"mouseup",ne],[P,"touchstart",H],[P.ownerDocument,"touchmove",Y],[P.ownerDocument,"touchend",ne]];se.forEach(function(oe){nm.apply(null,oe)}),this._events=se}buttonToMaxClick(k){let N=(this.to-this.from)*$n(this.options.step,.2);this.updatePosition(this.from+N,this.to+N),ta(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}buttonToMinClick(k){let N=ds(this.to-this.from)*$n(this.options.step,.2);this.updatePosition(ds(this.from-N),ds(this.to-N)),ta(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}cursorToScrollbarPosition(k){let N=this.options,P=N.minWidth>this.calculatedWidth?N.minWidth:0;return{chartX:(k.chartX-this.x-this.xOffset)/(this.barWidth-P),chartY:(k.chartY-this.y-this.yOffset)/(this.barWidth-P)}}destroy(){let k=this,N=k.chart.scroller;k.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(P){k[P]&&k[P].destroy&&(k[P]=k[P].destroy())}),N&&k===N.scrollbar&&(N.scrollbar=null,sh(N.scrollbarButtons))}drawScrollbarButton(k){let N=this.renderer,P=this.scrollbarButtons,W=this.options,H=this.size,Y=N.g().add(this.group);if(P.push(Y),W.buttonsEnabled){let ne=N.rect().addClass("highcharts-scrollbar-button").add(Y);this.chart.styledMode||ne.attr({stroke:W.buttonBorderColor,"stroke-width":W.buttonBorderWidth,fill:W.buttonBackgroundColor}),ne.attr(ne.crisp({x:-.5,y:-.5,width:H,height:H,r:W.buttonBorderRadius},ne.strokeWidth()));let se=N.path(zn.swapXY([["M",H/2+(k?-1:1),H/2-3],["L",H/2+(k?-1:1),H/2+3],["L",H/2+(k?2:-2),H/2]],W.vertical)).addClass("highcharts-scrollbar-arrow").add(P[k]);this.chart.styledMode||se.attr({fill:W.buttonArrowColor})}}init(k,N,P){this.scrollbarButtons=[],this.renderer=k,this.userOptions=N,this.options=tl(Jo,ih.scrollbar,N),this.options.margin=$n(this.options.margin,10),this.chart=P,this.size=$n(this.options.size,this.options.height),N.enabled&&(this.render(),this.addEvents())}mouseDownHandler(k){var W;let N=((W=this.chart.pointer)==null?void 0:W.normalize(k))||k,P=this.cursorToScrollbarPosition(N);this.chartX=P.chartX,this.chartY=P.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(k){var Y;let N,P=((Y=this.chart.pointer)==null?void 0:Y.normalize(k))||k,W=this.options.vertical?"chartY":"chartX",H=this.initPositions||[];this.grabbedCenter&&(!k.touches||k.touches[0][W]!==0)&&(N=this.cursorToScrollbarPosition(P)[W]-this[W],this.hasDragged=!0,this.updatePosition(H[0]+N,H[1]+N),this.hasDragged&&ta(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:k.type,DOMEvent:k}))}mouseUpHandler(k){this.hasDragged&&ta(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:k.type,DOMEvent:k}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(k,N,P,W){let{buttonsEnabled:H,margin:Y=0,vertical:ne}=this.options,se=this.rendered?"animate":"attr",oe=W,ee=0;this.group.show(),this.x=k,this.y=N+this.trackBorderWidth,this.width=P,this.height=W,this.xOffset=oe,this.yOffset=ee,ne?(this.width=this.yOffset=P=ee=this.size,this.xOffset=oe=0,this.yOffset=ee=H?this.size:0,this.barWidth=W-(H?2*P:0),this.x=k+=Y):(this.height=W=this.size,this.xOffset=oe=H?this.size:0,this.barWidth=P-(H?2*W:0),this.y=this.y+Y),this.group[se]({translateX:k,translateY:this.y}),this.track[se]({width:P,height:W}),this.scrollbarButtons[1][se]({translateX:ne?0:P-oe,translateY:ne?W-ee:0})}removeEvents(){this._events.forEach(function(k){Ut.apply(null,k)}),this._events.length=0}render(){let k=this.renderer,N=this.options,P=this.size,W=this.chart.styledMode,H=k.g("scrollbar").attr({zIndex:N.zIndex}).hide().add();this.group=H,this.track=k.rect().addClass("highcharts-scrollbar-track").attr({r:N.trackBorderRadius||0,height:P,width:P}).add(H),W||this.track.attr({fill:N.trackBackgroundColor,stroke:N.trackBorderColor,"stroke-width":N.trackBorderWidth});let Y=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-ea(0,Y),y:-ea(0,Y)}),this.scrollbarGroup=k.g().add(H),this.scrollbar=k.rect().addClass("highcharts-scrollbar-thumb").attr({height:P-Y,width:P-Y,r:N.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=k.path(zn.swapXY([["M",-3,P/4],["L",-3,2*P/3],["M",0,P/4],["L",0,2*P/3],["M",3,P/4],["L",3,2*P/3]],N.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),W||(this.scrollbar.attr({fill:N.barBackgroundColor,stroke:N.barBorderColor,"stroke-width":N.barBorderWidth}),this.scrollbarRifles.attr({stroke:N.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-ea(0,this.scrollbarStrokeWidth),-ea(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(k,N){let P,W,H=this.options,Y=H.vertical,ne=H.minWidth,se=this.barWidth,oe=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!nh(se))return;let ee=se*Math.min(N,1);P=Math.ceil(se*(k=Math.max(k,0))),this.calculatedWidth=W=ds(ee-P),W<ne&&(P=(se-ne+W)*k,W=ne);let te=Math.floor(P+this.xOffset+this.yOffset),V=W/2-.5;this.from=k,this.to=N,Y?(this.scrollbarGroup[oe]({translateY:te}),this.scrollbar[oe]({height:W}),this.scrollbarRifles[oe]({translateY:V}),this.scrollbarTop=te,this.scrollbarLeft=0):(this.scrollbarGroup[oe]({translateX:te}),this.scrollbar[oe]({width:W}),this.scrollbarRifles[oe]({translateX:V}),this.scrollbarLeft=te,this.scrollbarTop=0),W<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),H.showFull===!1&&(k<=0&&N>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(k){return $n(this.options.liveRedraw,ie().svg&&!ie().isTouchDevice&&!this.chart.boosted)||k==="mouseup"||k==="touchend"||!nh(k)}trackClick(k){var Y;let N=((Y=this.chart.pointer)==null?void 0:Y.normalize(k))||k,P=this.to-this.from,W=this.y+this.scrollbarTop,H=this.x+this.scrollbarLeft;this.options.vertical&&N.chartY>W||!this.options.vertical&&N.chartX>H?this.updatePosition(this.from+P,this.to+P):this.updatePosition(this.from-P,this.to-P),ta(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:k})}update(k){this.destroy(),this.init(this.chart.renderer,tl(!0,this.options,k),this.chart)}updatePosition(k,N){N>1&&(k=ds(1-ds(N-k)),N=1),k<0&&(N=ds(N-k),k=0),this.from=k,this.to=N}}zn.defaultOptions=Jo;var ah=je(540),om=je.n(ah);let{defaultOptions:Xc}=ie(),{isTouchDevice:am}=ie(),{prototype:{symbols:lh}}=om(),{addEvent:yr,clamp:ch,correctFloat:rl,defined:Fs,destroyObjectProperties:lm,erase:vn,extend:dh,find:uh,fireEvent:Ws,isArray:Yc,isNumber:sr,merge:qi,pick:di,removeEvent:il,splat:hh}=ie();function Us(K,...k){let N=[].filter.call(k,sr);if(N.length)return Math[K].apply(0,N)}class us{static compose(k,N,P){Vg.compose(k,us),rm.compose(k,N,P)}constructor(k){this.isDirty=!1,this.scrollbarHeight=0,this.init(k)}drawHandle(k,N,P,W){let H=this.navigatorOptions.handles.height;this.handles[N][W](P?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(k,10)+.5-H)}:{translateX:Math.round(this.left+parseInt(k,10)),translateY:Math.round(this.top+this.height/2-H/2-1)})}drawOutline(k,N,P,W){let H=this.navigatorOptions.maskInside,Y=this.outline.strokeWidth(),ne=Y/2,se=Y%2/2,oe=this.scrollButtonSize,ee=this.size,te=this.top,V=this.height,Q=te-ne,Z=te+V,le=this.left,ue,ke;P?(ue=te+N+se,N=te+k+se,ke=[["M",le+V,te-oe-se],["L",le+V,ue],["L",le,ue],["M",le,N],["L",le+V,N],["L",le+V,te+ee+oe]],H&&ke.push(["M",le+V,ue-ne],["L",le+V,N+ne])):(le-=oe,k+=le+oe-se,N+=le+oe-se,ke=[["M",le,Q],["L",k,Q],["L",k,Z],["M",N,Z],["L",N,Q],["L",le+ee+2*oe,Q]],H&&ke.push(["M",k-ne,Q],["L",N+ne,Q])),this.outline[W]({d:ke})}drawMasks(k,N,P,W){let H,Y,ne,se,oe=this.left,ee=this.top,te=this.height;P?(ne=[oe,oe,oe],se=[ee,ee+k,ee+N],Y=[te,te,te],H=[k,N-k,this.size-N]):(ne=[oe,oe+k,oe+N],se=[ee,ee,ee],Y=[k,N-k,this.size-N],H=[te,te,te]),this.shades.forEach((V,Q)=>{V[W]({x:ne[Q],y:se[Q],width:Y[Q],height:H[Q]})})}renderElements(){var oe;let k=this,N=k.navigatorOptions,P=N.maskInside,W=k.chart,H=W.inverted,Y=W.renderer,ne={cursor:H?"ns-resize":"ew-resize"},se=k.navigatorGroup??(k.navigatorGroup=Y.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!P,P,!P].forEach((ee,te)=>{let V=k.shades[te]??(k.shades[te]=Y.rect().addClass("highcharts-navigator-mask"+(te===1?"-inside":"-outside")).add(se));W.styledMode||(V.attr({fill:ee?N.maskFill:"rgba(0,0,0,0)"}),te===1&&V.css(ne))}),k.outline||(k.outline=Y.path().addClass("highcharts-navigator-outline").add(se)),W.styledMode||k.outline.attr({"stroke-width":N.outlineWidth,stroke:N.outlineColor}),(oe=N.handles)==null?void 0:oe.enabled){let ee=N.handles,{height:te,width:V}=ee;[0,1].forEach(Q=>{var le;let Z=ee.symbols[Q];if(k.handles[Q]&&k.handles[Q].symbolUrl===Z){if(!k.handles[Q].isImg&&k.handles[Q].symbolName!==Z){let ue=lh[Z].call(lh,-V/2-1,0,V,te);k.handles[Q].attr({d:ue}),k.handles[Q].symbolName=Z}}else(le=k.handles[Q])==null||le.destroy(),k.handles[Q]=Y.symbol(Z,-V/2-1,0,V,te,ee),k.handles[Q].attr({zIndex:7-Q}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][Q]).add(se),k.addMouseEvents();W.inverted&&k.handles[Q].attr({rotation:90,rotationOriginX:Math.floor(-V/2),rotationOriginY:(te+V)/2}),W.styledMode||k.handles[Q].attr({fill:ee.backgroundColor,stroke:ee.borderColor,"stroke-width":ee.lineWidth,width:ee.width,height:ee.height,x:-V/2-1,y:0}).css(ne)})}}update(k,N=!1){var H;let P=this.chart,W=P.options.chart.inverted!==((H=P.scrollbar)==null?void 0:H.options.vertical);if(qi(!0,P.options.navigator,k),this.navigatorOptions=P.options.navigator||{},this.setOpposite(),Fs(k.enabled)||W)return this.destroy(),this.navigatorEnabled=k.enabled||this.navigatorEnabled,this.init(P);if(this.navigatorEnabled&&(this.isDirty=!0,k.adaptToUpdatedData===!1&&this.baseSeries.forEach(Y=>{il(Y,"updatedData",this.updatedDataHandler)},this),k.adaptToUpdatedData&&this.baseSeries.forEach(Y=>{Y.eventsToUnbind.push(yr(Y,"updatedData",this.updatedDataHandler))},this),(k.series||k.baseSeries)&&this.setBaseSeries(void 0,!1),k.height||k.xAxis||k.yAxis)){this.height=k.height??this.height;let Y=this.getXAxisOffsets();this.xAxis.update({...k.xAxis,offsets:Y,[P.inverted?"width":"height"]:this.height,[P.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...k.yAxis,[P.inverted?"width":"height"]:this.height},!1)}N&&P.redraw()}render(k,N,P,W){let H=this.chart,Y=this.xAxis,ne=Y.pointRange||0,se=Y.navigatorAxis.fake?H.xAxis[0]:Y,oe=this.navigatorEnabled,ee=this.rendered,te=H.inverted,V=H.xAxis[0].minRange,Q=H.xAxis[0].options.maxRange,Z=this.scrollButtonSize,le,ue,ke,_e=this.scrollbarHeight,ze,Te;if(this.hasDragged&&!Fs(P))return;if(this.isDirty&&this.renderElements(),k=rl(k-ne/2),N=rl(N+ne/2),!sr(k)||!sr(N))if(ee)P=0,W=di(Y.width,se.width);else return;this.left=di(Y.left,H.plotLeft+Z+(te?H.plotWidth:0));let Pe=this.size=ze=di(Y.len,(te?H.plotHeight:H.plotWidth)-2*Z);le=te?_e:ze+2*Z,P=di(P,Y.toPixels(k,!0)),W=di(W,Y.toPixels(N,!0)),sr(P)&&Math.abs(P)!==1/0||(P=0,W=le);let Re=Y.toValue(P,!0),De=Y.toValue(W,!0),Ue=Math.abs(rl(De-Re));Ue<V?this.grabbedLeft?P=Y.toPixels(De-V-ne,!0):this.grabbedRight&&(W=Y.toPixels(Re+V+ne,!0)):Fs(Q)&&rl(Ue-ne)>Q&&(this.grabbedLeft?P=Y.toPixels(De-Q-ne,!0):this.grabbedRight&&(W=Y.toPixels(Re+Q+ne,!0))),this.zoomedMax=ch(Math.max(P,W),0,Pe),this.zoomedMin=ch(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(P,W),0,Pe),this.range=this.zoomedMax-this.zoomedMin,Pe=Math.round(this.zoomedMax);let Be=Math.round(this.zoomedMin);oe&&(this.navigatorGroup.attr({visibility:"inherit"}),Te=ee&&!this.hasDragged?"animate":"attr",this.drawMasks(Be,Pe,te,Te),this.drawOutline(Be,Pe,te,Te),this.navigatorOptions.handles.enabled&&(this.drawHandle(Be,0,te,Te),this.drawHandle(Pe,1,te,Te))),this.scrollbar&&(te?(ke=this.top-Z,ue=this.left-_e+(oe||!se.opposite?0:(se.titleOffset||0)+se.axisTitleMargin),_e=ze+2*Z):(ke=this.top+(oe?this.height:-_e),ue=this.left-Z),this.scrollbar.position(ue,ke,le,_e),this.scrollbar.setRange(this.zoomedMin/(ze||1),this.zoomedMax/(ze||1))),this.rendered=!0,this.isDirty=!1,Ws(this,"afterRender")}addMouseEvents(){let k=this,N=k.chart,P=N.container,W=[],H,Y;k.mouseMoveHandler=H=function(ne){k.onMouseMove(ne)},k.mouseUpHandler=Y=function(ne){k.onMouseUp(ne)},(W=k.getPartsEvents("mousedown")).push(yr(N.renderTo,"mousemove",H),yr(P.ownerDocument,"mouseup",Y),yr(N.renderTo,"touchmove",H),yr(P.ownerDocument,"touchend",Y)),W.concat(k.getPartsEvents("touchstart")),k.eventsToUnbind=W,k.series&&k.series[0]&&W.push(yr(k.series[0].xAxis,"foundExtremes",function(){N.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(k){let N=this,P=[];return["shades","handles"].forEach(function(W){N[W].forEach(function(H,Y){P.push(yr(H.element,k,function(ne){N[W+"Mousedown"](ne,Y)}))})}),P}shadesMousedown(k,N){var Z;k=((Z=this.chart.pointer)==null?void 0:Z.normalize(k))||k;let P=this.chart,W=this.xAxis,H=this.zoomedMin,Y=this.size,ne=this.range,se=this.left,oe=k.chartX,ee,te,V,Q;P.inverted&&(oe=k.chartY,se=this.top),N===1?(this.grabbedCenter=oe,this.fixedWidth=ne,this.dragOffset=oe-H):(Q=oe-se-ne/2,N===0?Q=Math.max(0,Q):N===2&&Q+ne>=Y&&(Q=Y-ne,this.reversedExtremes?(Q-=ne,te=this.getUnionExtremes().dataMin):ee=this.getUnionExtremes().dataMax),Q!==H&&(this.fixedWidth=ne,Fs((V=W.navigatorAxis.toFixedRange(Q,Q+ne,te,ee)).min)&&Ws(this,"setRange",{min:Math.min(V.min,V.max),max:Math.max(V.min,V.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(k,N){var Y;k=((Y=this.chart.pointer)==null?void 0:Y.normalize(k))||k;let P=this.chart,W=P.xAxis[0],H=this.reversedExtremes;N===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=H?W.min:W.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=H?W.max:W.min),P.setFixedRange(void 0)}onMouseMove(k){var ee;let N=this,P=N.chart,W=N.navigatorSize,H=N.range,Y=N.dragOffset,ne=P.inverted,se=N.left,oe;(!k.touches||k.touches[0].pageX!==0)&&(oe=(k=((ee=P.pointer)==null?void 0:ee.normalize(k))||k).chartX,ne&&(se=N.top,oe=k.chartY),N.grabbedLeft?(N.hasDragged=!0,N.render(0,0,oe-se,N.otherHandlePos)):N.grabbedRight?(N.hasDragged=!0,N.render(0,0,N.otherHandlePos,oe-se)):N.grabbedCenter&&(N.hasDragged=!0,oe<Y?oe=Y:oe>W+Y-H&&(oe=W+Y-H),N.render(0,0,oe-Y,oe-Y+H)),N.hasDragged&&N.scrollbar&&di(N.scrollbar.options.liveRedraw,!am&&!this.chart.boosted)&&(k.DOMType=k.type,setTimeout(function(){N.onMouseUp(k)},0)))}onMouseUp(k){let N,P,W,H,Y,ne,se=this.chart,oe=this.xAxis,ee=this.scrollbar,te=k.DOMEvent||k,V=se.inverted,Q=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!ee||!ee.hasDragged)||k.trigger==="scrollbar")&&(W=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?H=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(Y=this.fixedExtreme),this.zoomedMax===this.size&&(Y=this.reversedExtremes?W.dataMin:W.dataMax),this.zoomedMin===0&&(H=this.reversedExtremes?W.dataMax:W.dataMin),Fs((ne=oe.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,H,Y)).min)&&Ws(this,"setRange",{min:Math.min(ne.min,ne.max),max:Math.max(ne.min,ne.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:te}})),k.DOMType!=="mousemove"&&k.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&sr(this.zoomedMin)&&sr(this.zoomedMax)&&(P=Math.round(this.zoomedMin),N=Math.round(this.zoomedMax),this.shades&&this.drawMasks(P,N,V,Q),this.outline&&this.drawOutline(P,N,V,Q),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(P,0,V,Q),this.drawHandle(N,1,V,Q)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(k){k()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let k=this.baseSeries||[];this.navigatorEnabled&&k[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&k.forEach(function(N){il(N,"updatedData",this.updatedDataHandler)},this),k[0].xAxis&&il(k[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(k){var le,ue;let N=k.options,P=N.navigator||{},W=P.enabled,H=N.scrollbar||{},Y=H.enabled,ne=W&&P.height||0,se=Y&&H.height||0,oe=H.buttonsEnabled&&se||0;this.handles=[],this.shades=[],this.chart=k,this.setBaseSeries(),this.height=ne,this.scrollbarHeight=se,this.scrollButtonSize=oe,this.scrollbarEnabled=Y,this.navigatorEnabled=W,this.navigatorOptions=P,this.scrollbarOptions=H,this.setOpposite();let ee=this,te=ee.baseSeries,V=k.xAxis.length,Q=k.yAxis.length,Z=te&&te[0]&&te[0].xAxis||k.xAxis[0]||{options:{}};if(k.isDirtyBox=!0,ee.navigatorEnabled){let ke=this.getXAxisOffsets();ee.xAxis=new(vt())(k,qi({breaks:Z.options.breaks,ordinal:Z.options.ordinal,overscroll:Z.options.overscroll},P.xAxis,{type:"datetime",yAxis:(le=P.yAxis)==null?void 0:le.id,index:V,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:Z.options.ordinal?0:Z.options.minPadding,maxPadding:Z.options.ordinal?0:Z.options.maxPadding,zoomEnabled:!1},k.inverted?{offsets:ke,width:ne}:{offsets:ke,height:ne}),"xAxis"),ee.yAxis=new(vt())(k,qi(P.yAxis,{alignTicks:!1,offset:0,index:Q,isInternal:!0,reversed:di(P.yAxis&&P.yAxis.reversed,k.yAxis[0]&&k.yAxis[0].reversed,!1),zoomEnabled:!1},k.inverted?{width:ne}:{height:ne}),"yAxis"),te||P.series.data?ee.updateNavigatorSeries(!1):k.series.length===0&&(ee.unbindRedraw=yr(k,"beforeRedraw",function(){k.series.length>0&&!ee.series&&(ee.setBaseSeries(),ee.unbindRedraw())})),ee.reversedExtremes=k.inverted&&!ee.xAxis.reversed||!k.inverted&&ee.xAxis.reversed,ee.renderElements(),ee.addMouseEvents()}else ee.xAxis={chart:k,navigatorAxis:{fake:!0},translate:function(ke,_e){let ze=k.xAxis[0],Te=ze.getExtremes(),Pe=ze.len-2*oe,Re=Us("min",ze.options.min,Te.dataMin),De=Us("max",ze.options.max,Te.dataMax)-Re;return _e?ke*De/Pe+Re:Pe*(ke-Re)/De},toPixels:function(ke){return this.translate(ke)},toValue:function(ke){return this.translate(ke,!0)}},ee.xAxis.navigatorAxis.axis=ee.xAxis,ee.xAxis.navigatorAxis.toFixedRange=Wc.prototype.toFixedRange.bind(ee.xAxis.navigatorAxis);if((ue=k.options.scrollbar)!=null&&ue.enabled){let ke=qi(k.options.scrollbar,{vertical:k.inverted});sr(ke.margin)||(ke.margin=k.inverted?-3:3),k.scrollbar=ee.scrollbar=new zn(k.renderer,ke,k),yr(ee.scrollbar,"changed",function(_e){let ze=ee.size,Te=ze*this.to,Pe=ze*this.from;ee.hasDragged=ee.scrollbar.hasDragged,ee.render(0,0,Pe,Te),this.shouldUpdateExtremes(_e.DOMType)&&setTimeout(function(){ee.onMouseUp(_e)})})}ee.addBaseSeriesEvents(),ee.addChartEvents()}setOpposite(){let k=this.navigatorOptions,N=this.navigatorEnabled,P=this.chart;this.opposite=di(k.opposite,!!(!N&&P.inverted))}getUnionExtremes(k){let N,P=this.chart.xAxis[0],W=this.chart.time,H=this.xAxis,Y=H.options,ne=P.options;return k&&P.dataMin===null||(N={dataMin:di(W.parse(Y==null?void 0:Y.min),Us("min",W.parse(ne.min),P.dataMin,H.dataMin,H.min)),dataMax:di(W.parse(Y==null?void 0:Y.max),Us("max",W.parse(ne.max),P.dataMax,H.dataMax,H.max))}),N}setBaseSeries(k,N){let P=this.chart,W=this.baseSeries=[];k=k||P.options&&P.options.navigator.baseSeries||(P.series.length?uh(P.series,H=>!H.options.isInternal).index:0),(P.series||[]).forEach((H,Y)=>{!H.options.isInternal&&(H.options.showInNavigator||(Y===k||H.options.id===k)&&H.options.showInNavigator!==!1)&&W.push(H)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,N)}updateNavigatorSeries(k,N){var V,Q;let P=this,W=P.chart,H=P.baseSeries,Y={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:(V=this.navigatorOptions.xAxis)==null?void 0:V.id,yAxis:(Q=this.navigatorOptions.yAxis)==null?void 0:Q.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},ne=P.series=(P.series||[]).filter(Z=>{let le=Z.baseSeries;return!(0>H.indexOf(le))||(le&&(il(le,"updatedData",P.updatedDataHandler),delete le.navigatorSeries),Z.chart&&Z.destroy(),!1)}),se,oe,ee=P.navigatorOptions.series,te;H&&H.length&&H.forEach(Z=>{var _e;let le=Z.navigatorSeries,ue=dh({color:Z.color,visible:Z.visible},Yc(ee)?Xc.navigator.series:ee);if(le&&P.navigatorOptions.adaptToUpdatedData===!1)return;Y.name="Navigator "+H.length,te=(se=Z.options||{}).navigatorOptions||{},ue.dataLabels=hh(ue.dataLabels),(oe=qi(se,Y,ue,te)).pointRange=di(ue.pointRange,te.pointRange,Xc.plotOptions[oe.type||"line"].pointRange);let ke=te.data||ue.data;P.hasNavigatorData=P.hasNavigatorData||!!ke,oe.data=ke||((_e=se.data)==null?void 0:_e.slice(0)),le&&le.options?le.update(oe,N):(Z.navigatorSeries=W.initSeries(oe),W.setSortedData(),Z.navigatorSeries.baseSeries=Z,ne.push(Z.navigatorSeries))}),(ee.data&&!(H&&H.length)||Yc(ee))&&(P.hasNavigatorData=!1,(ee=hh(ee)).forEach((Z,le)=>{Y.name="Navigator "+(ne.length+1),(oe=qi(Xc.navigator.series,{color:W.series[le]&&!W.series[le].options.isInternal&&W.series[le].color||W.options.colors[le]||W.options.colors[0]},Y,Z)).data=Z.data,oe.data&&(P.hasNavigatorData=!0,ne.push(W.initSeries(oe)))})),k&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let k=this,N=k.baseSeries||[];N[0]&&N[0].xAxis&&N[0].eventsToUnbind.push(yr(N[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),N.forEach(P=>{P.eventsToUnbind.push(yr(P,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),P.eventsToUnbind.push(yr(P,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&P.xAxis&&P.eventsToUnbind.push(yr(P,"updatedData",this.updatedDataHandler)),P.eventsToUnbind.push(yr(P,"remove",function(){N&&vn(N,P),this.navigatorSeries&&k.series&&(vn(k.series,this.navigatorSeries),Fs(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(k){return this.baseSeries.reduce(function(N,P){return Math.min(N,P.getColumn("x")[0]??N)},k)}modifyNavigatorAxisExtremes(){let k=this.xAxis;if(k.getExtremes!==void 0){let N=this.getUnionExtremes(!0);N&&(N.dataMin!==k.min||N.dataMax!==k.max)&&(k.min=N.dataMin,k.max=N.dataMax)}}modifyBaseAxisExtremes(){var le;let k,N,P=this.chart.navigator,W=this.getExtremes(),H=W.min,Y=W.max,ne=W.dataMin,se=W.dataMax,oe=Y-H,ee=P.stickToMin,te=P.stickToMax,V=di((le=this.ordinal)==null?void 0:le.convertOverscroll(this.options.overscroll),0),Q=P.series&&P.series[0],Z=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(ee&&(k=(N=ne)+oe),te&&(k=se+V,ee||(N=Math.max(ne,k-oe,P.getBaseSeriesMin(Q&&Q.xData?Q.xData[0]:-Number.MAX_VALUE)))),Z&&(ee||te)&&sr(N)&&(this.min=this.userMin=N,this.max=this.userMax=k)),P.stickToMin=P.stickToMax=null}updatedDataHandler(){let k=this.chart.navigator,N=this.navigatorSeries,P=k.reversedExtremes?Math.round(k.zoomedMin)===0:Math.round(k.zoomedMax)>=Math.round(k.size);k.stickToMax=di(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,P),k.stickToMin=k.shouldStickToMin(this,k),N&&!k.hasNavigatorData&&(N.options.pointStart=this.getColumn("x")[0],N.setData(this.options.data,!1,null,!1))}shouldStickToMin(k,N){let P=N.getBaseSeriesMin(k.getColumn("x")[0]),W=k.xAxis,H=W.max,Y=W.min,ne=W.options.range;return!!(sr(H)&&sr(Y))&&(ne&&H-P>0?H-P<ne:Y<=P)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(yr(this.chart,"redraw",function(){let k=this.navigator,N=k&&(k.baseSeries&&k.baseSeries[0]&&k.baseSeries[0].xAxis||this.xAxis[0]);N&&k.render(N.min,N.max)}),yr(this.chart,"getMargins",function(){var P;let k=this.navigator,N=k.opposite?"plotTop":"marginBottom";this.inverted&&(N=k.opposite?"marginRight":"plotLeft"),this[N]=(this[N]||0)+(k.navigatorEnabled||!this.inverted?k.height+(((P=this.scrollbar)==null?void 0:P.options.margin)||0)+k.scrollbarHeight:0)+(k.navigatorOptions.margin||0)}),yr(us,"setRange",function(k){this.chart.xAxis[0].setExtremes(k.min,k.max,k.redraw,k.animation,k.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(vn(this.chart.xAxis,this.xAxis),vn(this.chart.axes,this.xAxis)),this.yAxis&&(vn(this.chart.yAxis,this.yAxis),vn(this.chart.axes,this.yAxis)),(this.series||[]).forEach(k=>{k.destroy&&k.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(k=>{this[k]&&this[k].destroy&&this[k].destroy(),this[k]=null}),[this.handles].forEach(k=>{lm(k)}),this.baseSeries.forEach(k=>{k.navigatorSeries=void 0}),this.navigatorEnabled=!1}}(function(K){K.setLength=function(k,N,P){return Array.isArray(k)?(k.length=N,k):k[P?"subarray":"slice"](0,N)},K.splice=function(k,N,P,W,H=[]){if(Array.isArray(k))return Array.isArray(H)||(H=Array.from(H)),{removed:k.splice(N,P,...H),array:k};let Y=Object.getPrototypeOf(k).constructor,ne=k[W?"subarray":"slice"](N,N+P),se=new Y(k.length-P+H.length);return se.set(k.subarray(0,N),0),se.set(H,N),se.set(k.subarray(N+P),N+H.length),{removed:ne,array:se}}})(ae||(ae={}));let{setLength:cm,splice:fh}=ae,{fireEvent:nl,objectEach:Hs,uniqueKey:Ki}=ie(),ph=class{constructor(K={}){this.autoId=!K.id,this.columns={},this.id=K.id||Ki(),this.modified=this,this.rowCount=0,this.versionTag=Ki();let k=0;Hs(K.columns||{},(N,P)=>{this.columns[P]=N.slice(),k=Math.max(k,N.length)}),this.applyRowCount(k)}applyRowCount(K){this.rowCount=K,Hs(this.columns,(k,N)=>{k.length!==K&&(this.columns[N]=cm(k,K))})}deleteRows(K,k=1){if(k>0&&K<this.rowCount){let N=0;Hs(this.columns,(P,W)=>{this.columns[W]=fh(P,K,k).array,N=P.length}),this.rowCount=N}nl(this,"afterDeleteRows",{rowIndex:K,rowCount:k}),this.versionTag=Ki()}getColumn(K,k){return this.columns[K]}getColumns(K,k){return(K||Object.keys(this.columns)).reduce((N,P)=>(N[P]=this.columns[P],N),{})}getRow(K,k){return(k||Object.keys(this.columns)).map(N=>{var P;return(P=this.columns[N])==null?void 0:P[K]})}setColumn(K,k=[],N=0,P){this.setColumns({[K]:k},N,P)}setColumns(K,k,N){let P=this.rowCount;Hs(K,(W,H)=>{this.columns[H]=W.slice(),P=W.length}),this.applyRowCount(P),N!=null&&N.silent||(nl(this,"afterSetColumns"),this.versionTag=Ki())}setRow(K,k=this.rowCount,N,P){let{columns:W}=this,H=N?this.rowCount+1:k+1;Hs(K,(Y,ne)=>{let se=W[ne]||(P==null?void 0:P.addColumns)!==!1&&Array(H);se&&(N?se=fh(se,k,0,!0,[Y]).array:se[k]=Y,W[ne]=se)}),H>this.rowCount&&this.applyRowCount(H),P!=null&&P.silent||(nl(this,"afterSetRows"),this.versionTag=Ki())}},{addEvent:Zi,correctFloat:sl,css:dm,defined:Qi,error:qc,isNumber:Kc,pick:Gs,timeUnits:gh,isString:Ji}=ie();(function(K){function k(V,Q,Z,le,ue=[],ke=0,_e){let ze={},Te=this.options.tickPixelInterval,Pe=this.chart.time,Re=[],De,Ue,Be,Xe,Le,et=0,qe=[],zt=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!ue||ue.length<3||Q===void 0)return Pe.getTimeTicks.apply(Pe,arguments);let it=ue.length;for(De=0;De<it;De++){if(Le=De&&ue[De-1]>Z,ue[De]<Q&&(et=De),De===it-1||ue[De+1]-ue[De]>5*ke||Le){if(ue[De]>zt){for(Ue=Pe.getTimeTicks(V,ue[et],ue[De],le);Ue.length&&Ue[0]<=zt;)Ue.shift();Ue.length&&(zt=Ue[Ue.length-1]),Re.push(qe.length),qe=qe.concat(Ue)}et=De+1}if(Le)break}if(Ue){if(Xe=Ue.info,_e&&Xe.unitRange<=gh.hour){for(et=1,De=qe.length-1;et<De;et++)Pe.dateFormat("%d",qe[et])!==Pe.dateFormat("%d",qe[et-1])&&(ze[qe[et]]="day",Be=!0);Be&&(ze[qe[0]]="day"),Xe.higherRanks=ze}Xe.segmentStarts=Re,qe.info=Xe}else qc(12,!1,this.chart);if(_e&&Qi(Te)){let at=qe.length,kr=[],Bt=[],mt,xt,Lt,mr,ki,Nr=at;for(;Nr--;)xt=this.translate(qe[Nr]),Lt&&(Bt[Nr]=Lt-xt),kr[Nr]=Lt=xt;for(Bt.sort((so,la)=>so-la),(mr=Bt[Math.floor(Bt.length/2)])<.6*Te&&(mr=null),Nr=qe[at-1]>Z?at-1:at,Lt=void 0;Nr--;)ki=Math.abs(Lt-(xt=kr[Nr])),Lt&&ki<.8*Te&&(mr===null||ki<.8*mr)?(ze[qe[Nr]]&&!ze[qe[Nr+1]]?(mt=Nr+1,Lt=xt):mt=Nr,qe.splice(mt,1)):Lt=xt}return qe}function N(V){let Q=this.ordinal.positions;if(!Q)return V;let Z=Q.length-1,le;return V<0?V=Q[0]:V>Z?V=Q[Z]:(Z=Math.floor(V),le=V-Z),le!==void 0&&Q[Z]!==void 0?Q[Z]+(le?le*(Q[Z+1]-Q[Z]):0):V}function P(V){let Q=this.ordinal,Z=this.old?this.old.min:this.min,le=this.old?this.old.transA:this.transA,ue=Q.getExtendedPositions();if(ue!=null&&ue.length){let ke=sl((V-Z)*le+this.minPixelPadding),_e=sl(Q.getIndexOfPoint(ke,ue)),ze=sl(_e%1);if(_e>=0&&_e<=ue.length-1){let Te=ue[Math.floor(_e)],Pe=ue[Math.ceil(_e)];return ue[Math.floor(_e)]+ze*(Pe-Te)}}return V}function W(V,Q){let Z=K.Additions.findIndexOf(V,Q,!0);if(V[Z]===Q)return Z;let le=(Q-V[Z])/(V[Z+1]-V[Z]);return Z+le}function H(){this.ordinal||(this.ordinal=new K.Additions(this))}function Y(){let{eventArgs:V,options:Q}=this;if(this.isXAxis&&Qi(Q.overscroll)&&Q.overscroll!==0&&Kc(this.max)&&Kc(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&((V==null?void 0:V.trigger)!=="pan"||this.isInternal)&&(V==null?void 0:V.trigger)!=="navigator")){let Z=this.ordinal.convertOverscroll(Q.overscroll);this.max+=Z,!this.isInternal&&Qi(this.userMin)&&(V==null?void 0:V.trigger)!=="mousewheel"&&(this.min+=Z)}}function ne(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function se(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function oe(V){var _e;let Q=this.xAxis[0],Z=Q.ordinal.convertOverscroll(Q.options.overscroll),le=V.originalEvent.chartX,ue=this.options.chart.panning,ke=!1;if((ue==null?void 0:ue.type)!=="y"&&Q.options.ordinal&&Q.series.length&&(!V.touches||V.touches.length<=1)){let ze,Te,Pe=this.mouseDownX,Re=Q.getExtremes(),De=Re.dataMin,Ue=Re.dataMax,Be=Re.min,Xe=Re.max,Le=this.hoverPoints,et=Q.closestPointRange||((_e=Q.ordinal)==null?void 0:_e.overscrollPointsRange),qe=Math.round((Pe-le)/(Q.translationSlope*(Q.ordinal.slope||et))),zt=Q.ordinal.getExtendedPositions(),it={ordinal:{positions:zt,extendedOrdinalPositions:zt}},at=Q.index2val,kr=Q.val2lin;if(Be<=De&&qe<=0||Xe>=Ue+Z&&qe>=0)return void V.preventDefault();it.ordinal.positions?Math.abs(qe)>1&&(Le&&Le.forEach(function(Bt){Bt.setState()}),Te=it.ordinal.positions,Z&&(Te=it.ordinal.positions=Te.concat(Q.ordinal.getOverscrollPositions())),Ue>Te[Te.length-1]&&Te.push(Ue),this.setFixedRange(Xe-Be),(ze=Q.navigatorAxis.toFixedRange(void 0,void 0,at.apply(it,[kr.apply(it,[Be,!0])+qe]),at.apply(it,[kr.apply(it,[Xe,!0])+qe]))).min>=Math.min(Te[0],Be)&&ze.max<=Math.max(Te[Te.length-1],Xe)+Z&&Q.setExtremes(ze.min,ze.max,!0,!1,{trigger:"pan"}),this.mouseDownX=le,dm(this.container,{cursor:"move"})):ke=!0}else ke=!0;ke||ue&&/y/.test(ue.type)?Z&&Kc(Q.dataMax)&&(Q.max=Q.dataMax+Z):V.preventDefault()}function ee(){let V=this.xAxis;V!=null&&V.options.ordinal&&(delete V.ordinal.index,delete V.ordinal.originalOrdinalRange)}function te(V,Q){var Te;let Z,le=this.ordinal,ue=le.positions,ke=le.slope,_e;if(!ue)return V;let ze=ue.length;if(ue[0]<=V&&ue[ze-1]>=V)Z=W(ue,V);else{if(_e=(Te=le.getExtendedPositions)==null?void 0:Te.call(le),!(_e!=null&&_e.length))return V;let Pe=_e.length;ke||(ke=(_e[Pe-1]-_e[0])/Pe);let Re=W(_e,ue[0]);if(V>=_e[0]&&V<=_e[Pe-1])Z=W(_e,V)-Re;else{if(!Q)return V;Z=V<_e[0]?-Re-(_e[0]-V)/ke:(V-_e[Pe-1])/ke+Pe-Re}}return Q?Z:ke*(Z||0)+le.offset}K.compose=function(V,Q,Z){let le=V.prototype;return le.ordinal2lin||(le.getTimeTicks=k,le.index2val=N,le.lin2val=P,le.val2lin=te,le.ordinal2lin=le.val2lin,Zi(V,"afterInit",H),Zi(V,"foundExtremes",Y),Zi(V,"afterSetScale",ne),Zi(V,"initialAxisTranslation",se),Zi(Z,"pan",oe),Zi(Z,"touchpan",oe),Zi(Q,"updatedData",ee)),V},K.Additions=class{constructor(V){this.index={},this.axis=V}beforeSetTickPositions(){var at;let V=this.axis,Q=V.ordinal,Z=V.getExtremes(),le=Z.min,ue=Z.max,ke=(at=V.brokenAxis)==null?void 0:at.hasBreaks,_e=V.options.ordinal,ze=V.options.overscroll&&V.ordinal.convertOverscroll(V.options.overscroll)||0,Te,Pe,Re,De,Ue,Be,Xe,Le=[],et=Number.MAX_VALUE,qe=!1,zt=!1,it=!1;if(_e||ke){let kr=0;if(V.series.forEach(function(Bt,mt){let xt=Bt.getColumn("x",!0);if(Pe=[],mt>0&&Bt.options.id!=="highcharts-navigator-series"&&xt.length>1&&(zt=kr!==xt[1]-xt[0]),kr=xt[1]-xt[0],Bt.boosted&&(it=Bt.boosted),Bt.reserveSpace()&&(Bt.takeOrdinalPosition!==!1||ke)&&(Te=(Le=Le.concat(xt)).length,Le.sort(function(Lt,mr){return Lt-mr}),et=Math.min(et,Gs(Bt.closestPointRange,et)),Te)){for(mt=0;mt<Te-1;)Le[mt]!==Le[mt+1]&&Pe.push(Le[mt+1]),mt++;Pe[0]!==Le[0]&&Pe.unshift(Le[0]),Le=Pe}}),V.ordinal.originalOrdinalRange||(V.ordinal.originalOrdinalRange=(Le.length-1)*et),zt&&it&&(Le.pop(),Le.shift()),(Te=Le.length)>2){for(Re=Le[1]-Le[0],Xe=Te-1;Xe--&&!qe;)Le[Xe+1]-Le[Xe]!==Re&&(qe=!0);!V.options.keepOrdinalPadding&&(Le[0]-le>Re||ue-ze-Le[Te-1]>Re)&&(qe=!0)}else V.options.overscroll&&(Te===2?et=Le[1]-Le[0]:Te===1?(et=ze,Le=[Le[0],Le[0]+et]):et=Q.overscrollPointsRange);qe||V.forceOrdinal?(V.options.overscroll&&(Q.overscrollPointsRange=et,Le=Le.concat(Q.getOverscrollPositions())),Q.positions=Le,De=V.ordinal2lin(Math.max(le,Le[0]),!0),Ue=Math.max(V.ordinal2lin(Math.min(ue,Le[Le.length-1]),!0),1),Q.slope=Be=(ue-le)/(Ue-De),Q.offset=le-De*Be):(Q.overscrollPointsRange=Gs(V.closestPointRange,Q.overscrollPointsRange),Q.positions=V.ordinal.slope=Q.offset=void 0)}V.isOrdinal=_e&&qe,Q.groupIntervalFactor=null}static findIndexOf(V,Q,Z){let le=0,ue=V.length-1,ke;for(;le<ue;)V[ke=Math.ceil((le+ue)/2)]<=Q?le=ke:ue=ke-1;return V[le]===Q||Z?le:-1}getExtendedPositions(V=!0){let Q=this,Z=Q.axis,le=Z.constructor.prototype,ue=Z.chart,ke=Z.series.reduce((De,Ue)=>{let Be=Ue.currentDataGrouping;return De+(Be?Be.count+Be.unitName:"raw")},""),_e=V?Z.ordinal.convertOverscroll(Z.options.overscroll):0,ze=Z.getExtremes(),Te,Pe,Re=Q.index;return Re||(Re=Q.index={}),!Re[ke]&&((Te={series:[],chart:ue,forceOrdinal:!1,getExtremes:function(){return{min:ze.dataMin,max:ze.dataMax+_e}},applyGrouping:le.applyGrouping,getGroupPixelWidth:le.getGroupPixelWidth,getTimeTicks:le.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:le.ordinal2lin,getIndexOfPoint:le.getIndexOfPoint,val2lin:le.val2lin}).ordinal.axis=Te,Z.series.forEach(De=>{var Be,Xe,Le;if(De.takeOrdinalPosition===!1)return;Pe={xAxis:Te,chart:ue,groupPixelWidth:De.groupPixelWidth,destroyGroupedData:ie().noop,getColumn:De.getColumn,applyGrouping:De.applyGrouping,getProcessedData:De.getProcessedData,reserveSpace:De.reserveSpace,visible:De.visible};let Ue=De.getColumn("x").concat(V?Q.getOverscrollPositions():[]);Pe.dataTable=new ph({columns:{x:Ue}}),Pe.options={...De.options,dataGrouping:De.currentDataGrouping?{firstAnchor:(Be=De.options.dataGrouping)==null?void 0:Be.firstAnchor,anchor:(Xe=De.options.dataGrouping)==null?void 0:Xe.anchor,lastAnchor:(Le=De.options.dataGrouping)==null?void 0:Le.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[De.currentDataGrouping.unitName,[De.currentDataGrouping.count]]]}:{enabled:!1}},Te.series.push(Pe),De.processData.apply(Pe)}),Te.applyGrouping({hasExtremesChanged:!0}),(Pe==null?void 0:Pe.closestPointRange)!==(Pe==null?void 0:Pe.basePointRange)&&Pe.currentDataGrouping&&(Te.forceOrdinal=!0),Z.ordinal.beforeSetTickPositions.apply({axis:Te}),!Z.ordinal.originalOrdinalRange&&Te.ordinal.originalOrdinalRange&&(Z.ordinal.originalOrdinalRange=Te.ordinal.originalOrdinalRange),Te.ordinal.positions&&(Re[ke]=Te.ordinal.positions)),Re[ke]}getGroupIntervalFactor(V,Q,Z){let le=Z.getColumn("x",!0),ue=le.length,ke=[],_e,ze,Te=this.groupIntervalFactor;if(!Te){for(ze=0;ze<ue-1;ze++)ke[ze]=le[ze+1]-le[ze];ke.sort(function(Pe,Re){return Pe-Re}),_e=ke[Math.floor(ue/2)],V=Math.max(V,le[0]),Q=Math.min(Q,le[ue-1]),this.groupIntervalFactor=Te=ue*_e/(Q-V)}return Te}getIndexOfPoint(V,Q){let Z=this.axis,le=Z.min,ue=Z.minPixelPadding;return W(Q,le)+sl((V-ue)/(Z.translationSlope*(this.slope||Z.closestPointRange||this.overscrollPointsRange)))}getOverscrollPositions(){let V=this.axis,Q=this.convertOverscroll(V.options.overscroll),Z=this.overscrollPointsRange,le=[],ue=V.dataMax;if(Qi(Z))for(;ue<V.dataMax+Q;)le.push(ue+=Z);return le}postProcessTickInterval(V){let Q=this.axis,Z=this.slope,le=Q.closestPointRange;return Z&&le?Q.options.breaks?le||V:V/(Z/le):V}convertOverscroll(V=0){let Q=this,Z=Q.axis,le=function(ue){return Gs(Q.originalOrdinalRange,Qi(Z.dataMax)&&Qi(Z.dataMin)?Z.dataMax-Z.dataMin:0)*ue};if(Ji(V)){let ue,ke=parseInt(V,10);if(Qi(Z.min)&&Qi(Z.max)&&Qi(Z.dataMin)&&Qi(Z.dataMax)&&((ue=Z.max-Z.min==Z.dataMax-Z.dataMin)||(this.originalOrdinalRange=Z.max-Z.min)),/%$/.test(V))return le(ke/100);if(/px/.test(V)){let _e=Math.min(ke,.9*Z.len)/Z.len;return le(_e/(ue?1-_e:1))}return 0}return V}}})(re||(re={}));let Zc=re,hs={lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"",rangeSelector:{allText:"All",allTitle:"View all",monthText:"{count}m",monthTitle:"View {count} {#eq count 1}month{else}months{/eq}",yearText:"{count}y",yearTitle:"View {count} {#eq count 1}year{else}years{/eq}",ytdText:"YTD",ytdTitle:"View year to date"}},rangeSelector:{allButtonsEnabled:!1,buttons:[{type:"month",count:1},{type:"month",count:3},{type:"month",count:6},{type:"ytd"},{type:"year",count:1},{type:"all"}],buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%[ebY]",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}},{defaultOptions:ol}=ie(),{composed:Qc}=ie(),{addEvent:Fn,defined:mh,extend:vh,isNumber:Vs,merge:xh,pick:al,pushUnique:Xs}=ie(),Ri=[];function ll(){let K,k,N=this.range,P=N.type,W=this.max,H=this.chart.time,Y=function(se,oe){let ee=H.toParts(se),te=ee.slice();P==="year"?te[0]+=oe:te[1]+=oe;let V=H.makeTime.apply(H,te),Q=H.toParts(V);return P==="month"&&ee[1]===Q[1]&&Math.abs(oe)===1&&(te[0]=ee[0],te[1]=ee[1],te[2]=0),(V=H.makeTime.apply(H,te))-se};Vs(N)?(K=W-N,k=N):N&&(K=W+Y(W,-(N.count||1)),this.chart&&this.chart.setFixedRange(W-K));let ne=al(this.dataMin,Number.MIN_VALUE);return Vs(K)||(K=ne),K<=ne&&(K=ne,k===void 0&&(k=Y(K,N.count)),this.newMax=Math.min(K+k,al(this.dataMax,Number.MAX_VALUE))),Vs(W)?!Vs(N)&&N&&N._offsetMin&&(K+=N._offsetMin):K=void 0,K}function um(){var K;(K=this.rangeSelector)==null||K.redrawElements()}function hm(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new R(this))}function fm(){let K=this.rangeSelector;if(K){Vs(K.deferredYTDClick)&&(K.clickButton(K.deferredYTDClick),delete K.deferredYTDClick);let k=K.options.verticalAlign;K.options.floating||(k==="bottom"?this.extraBottomMargin=!0:k==="top"&&(this.extraTopMargin=!0))}}function Jc(){let K,k=this.rangeSelector;if(!k)return;let N=this.xAxis[0].getExtremes(),P=this.legend,W=k&&k.options.verticalAlign;Vs(N.min)&&k.render(N.min,N.max),P.display&&W==="top"&&W===P.options.verticalAlign&&(K=xh(this.spacingBox),P.options.layout==="vertical"?K.y=this.plotTop:K.y+=k.getHeight(),P.group.placed=!1,P.align(K))}function gr(){for(let K=0,k=Ri.length;K<k;++K){let N=Ri[K];if(N[0]===this){N[1].forEach(P=>P()),Ri.splice(K,1);return}}}function en(){var k;let K=this.rangeSelector;if((k=K==null?void 0:K.options)!=null&&k.enabled){let N=K.getHeight(),P=K.options.verticalAlign;K.options.floating||(P==="bottom"?this.marginBottom+=N:P!=="middle"&&(this.plotTop+=N))}}function yh(K){let k=K.options.rangeSelector,N=this.extraBottomMargin,P=this.extraTopMargin,W=this.rangeSelector;if(k&&k.enabled&&!mh(W)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=W=new R(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,W){let H=k&&k.verticalAlign||W.options&&W.options.verticalAlign;W.options.floating||(H==="bottom"?this.extraBottomMargin=!0:H!=="middle"&&(this.extraTopMargin=!0)),(this.extraBottomMargin!==N||this.extraTopMargin!==P)&&(this.isDirtyBox=!0)}}let pm={compose:function(K,k,N){if(R=N,Xs(Qc,"RangeSelector")){let P=k.prototype;K.prototype.minFromRange=ll,Fn(k,"afterGetContainer",hm),Fn(k,"beforeRender",fm),Fn(k,"destroy",gr),Fn(k,"getMargins",en),Fn(k,"redraw",Jc),Fn(k,"update",yh),Fn(k,"beforeRedraw",um),P.callbacks.push(Jc),vh(ol,{rangeSelector:hs.rangeSelector}),vh(ol.lang,hs.lang)}}};var bh=je(28),Ys=je.n(bh),gm=je(984),qs=je.n(gm);let{defaultOptions:cl}=ie(),{format:Wn}=qs(),{addEvent:Li,createElement:ra,css:ui,defined:tn,destroyObjectProperties:wh,diffObjects:ed,discardElement:kh,extend:dl,fireEvent:Ks,isNumber:Br,isString:ia,merge:Un,objectEach:mm,pick:rn,splat:vm}=ie();function Sh(K){let k=W=>RegExp(`%[[a-zA-Z]*${W}`).test(K);if(ia(K)?K.indexOf("%L")!==-1:K.fractionalSecondDigits)return"text";let N=ia(K)?["a","A","d","e","w","b","B","m","o","y","Y"].some(k):K.dateStyle||K.day||K.month||K.year,P=ia(K)?["H","k","I","l","M","S"].some(k):K.timeStyle||K.hour||K.minute||K.second;return N&&P?"datetime-local":N?"date":P?"time":"text"}class fs{static compose(k,N){pm.compose(k,N,fs)}constructor(k){this.isDirty=!1,this.buttonOptions=[],this.initialButtonGroupWidth=0,this.maxButtonWidth=()=>{let N=0;return this.buttons.forEach(P=>{let W=P.getBBox();W.width>N&&(N=W.width)}),N},this.init(k)}clickButton(k,N){let P=this.chart,W=this.buttonOptions[k],H=P.xAxis[0],Y=P.scroller&&P.scroller.getUnionExtremes()||H||{},ne=W.type,se=W.dataGrouping,oe=Y.dataMin,ee=Y.dataMax,te,V=Br(H==null?void 0:H.max)?Math.round(Math.min(H.max,ee??H.max)):void 0,Q,Z=W._range,le,ue,ke,_e=!0;if(oe!==null&&ee!==null){if(this.setSelected(k),se&&(this.forcedDataGrouping=!0,vt().prototype.setDataGrouping.call(H||{chart:this.chart},se,!1),this.frozenStates=W.preserveDataGrouping),ne==="month"||ne==="year")H?(ue={range:W,max:V,chart:P,dataMin:oe,dataMax:ee},te=H.minFromRange.call(ue),Br(ue.newMax)&&(V=ue.newMax),_e=!1):Z=W;else if(Z)Br(V)&&(V=Math.min((te=Math.max(V-Z,oe))+Z,ee),_e=!1);else if(ne==="ytd")if(H)!H.hasData()||Br(ee)&&Br(oe)||(oe=Number.MAX_VALUE,ee=-Number.MAX_VALUE,P.series.forEach(ze=>{let Te=ze.getColumn("x");Te.length&&(oe=Math.min(Te[0],oe),ee=Math.max(Te[Te.length-1],ee))}),N=!1),Br(ee)&&Br(oe)&&(te=le=(ke=this.getYTDExtremes(ee,oe)).min,V=ke.max);else{this.deferredYTDClick=k;return}else ne==="all"&&H&&(P.navigator&&P.navigator.baseSeries[0]&&(P.navigator.baseSeries[0].xAxis.options.range=void 0),te=oe,V=ee);if(_e&&W._offsetMin&&tn(te)&&(te+=W._offsetMin),W._offsetMax&&tn(V)&&(V+=W._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=k+1),H)Br(te)&&Br(V)&&(H.setExtremes(te,V,rn(N,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:W}),P.setFixedRange(W._range));else{Q=vm(P.options.xAxis||{})[0];let ze=Li(P,"afterCreateAxes",function(){let Te=P.xAxis[0];Te.range=Te.options.range=Z,Te.min=Te.options.min=le});Li(P,"load",function(){let Te=P.xAxis[0];P.setFixedRange(W._range),Te.options.range=Q.range,Te.options.min=Q.min,ze()})}Ks(this,"afterBtnClick")}}setSelected(k){this.selected=this.options.selected=k}init(k){let N=this,P=k.options.rangeSelector,W=k.options.lang,H=P.buttons,Y=P.selected,ne=function(){let se=N.minInput,oe=N.maxInput;se&&se.blur&&Ks(se,"blur"),oe&&oe.blur&&Ks(oe,"blur")};N.chart=k,N.options=P,N.buttons=[],N.buttonOptions=H.map(se=>(se.type&&W.rangeSelector&&(se.text??(se.text=W.rangeSelector[`${se.type}Text`]),se.title??(se.title=W.rangeSelector[`${se.type}Title`])),se.text=Wn(se.text,{count:se.count||1}),se.title=Wn(se.title,{count:se.count||1}),se)),this.eventsToUnbind=[],this.eventsToUnbind.push(Li(k.container,"mousedown",ne)),this.eventsToUnbind.push(Li(k,"resize",ne)),H.forEach(N.computeButtonRange),Y!==void 0&&H[Y]&&this.clickButton(Y,!1),this.eventsToUnbind.push(Li(k,"load",function(){k.xAxis&&k.xAxis[0]&&Li(k.xAxis[0],"setExtremes",function(se){Br(this.max)&&Br(this.min)&&this.max-this.min!==k.fixedRange&&se.trigger!=="rangeSelectorButton"&&se.trigger!=="updatedData"&&N.forcedDataGrouping&&!N.frozenStates&&this.setDataGrouping(!1,!1)})})),this.createElements()}updateButtonStates(){let k=this,N=this.chart,P=this.dropdown,W=this.dropdownLabel,H=N.xAxis[0],Y=Math.round(H.max-H.min),ne=!H.hasVisibleSeries,se=24*36e5,oe=N.scroller&&N.scroller.getUnionExtremes()||H,ee=oe.dataMin,te=oe.dataMax,V=k.getYTDExtremes(te,ee),Q=V.min,Z=V.max,le=k.selected,ue=k.options.allButtonsEnabled,ke=Array(k.buttonOptions.length).fill(0),_e=Br(le),ze=k.buttons,Te=!1,Pe=null;k.buttonOptions.forEach((Re,De)=>{var mt;let Ue=Re._range,Be=Re.type,Xe=Re.count||1,Le=Re._offsetMax-Re._offsetMin,et=De===le,qe=Ue>te-ee,zt=Ue<H.minRange,it=!1,at=Ue===Y;if(et&&qe&&(Te=!0),H.isOrdinal&&((mt=H.ordinal)==null?void 0:mt.positions)&&Ue&&Y<Ue){let xt=H.ordinal.positions,Lt=Zc.Additions.findIndexOf(xt,H.min,!0),mr=Math.min(Zc.Additions.findIndexOf(xt,H.max,!0)+1,xt.length-1);xt[mr]-xt[Lt]>Ue&&(at=!0)}else(Be==="month"||Be==="year")&&Y+36e5>={month:28,year:365}[Be]*se*Xe-Le&&Y-36e5<={month:31,year:366}[Be]*se*Xe+Le?at=!0:Be==="ytd"?(at=Z-Q+Le===Y,it=!et):Be==="all"&&(at=H.max-H.min>=te-ee);let kr=!ue&&!(Te&&Be==="all")&&(qe||zt||ne),Bt=Te&&Be==="all"||!it&&at||et&&k.frozenStates;kr?ke[De]=3:Bt&&(!_e||De===le)&&(Pe=De)}),Pe!==null?(ke[Pe]=2,k.setSelected(Pe),this.dropdown&&(this.dropdown.selectedIndex=Pe+1)):(k.setSelected(),this.dropdown&&(this.dropdown.selectedIndex=-1),W&&(W.setState(0),W.attr({text:(cl.lang.rangeSelectorZoom||"")+" "})));for(let Re=0;Re<ke.length;Re++){let De=ke[Re],Ue=ze[Re];if(Ue.state!==De&&(Ue.setState(De),P)){P.options[Re+1].disabled=De===3,De===2&&(W&&(W.setState(2),W.attr({text:k.buttonOptions[Re].text+" "})),P.selectedIndex=Re+1);let Be=W.getBBox();ui(P,{width:`${Be.width}px`,height:`${Be.height}px`})}}}computeButtonRange(k){let N=k.type,P=k.count||1,W={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};W[N]?k._range=W[N]*P:(N==="month"||N==="year")&&(k._range=24*{month:30,year:365}[N]*36e5*P),k._offsetMin=rn(k.offsetMin,0),k._offsetMax=rn(k.offsetMax,0),k._range+=k._offsetMax-k._offsetMin}getInputValue(k){let N=k==="min"?this.minInput:this.maxInput,P=this.chart.options.rangeSelector,W=this.chart.time;return N?(N.type==="text"&&P.inputDateParser||this.defaultInputDateParser)(N.value,W.timezone==="UTC",W):0}setInputValue(k,N){let P=this.options,W=this.chart.time,H=k==="min"?this.minInput:this.maxInput,Y=k==="min"?this.minDateBox:this.maxDateBox;if(H){H.setAttribute("type",Sh(P.inputDateFormat||"%e %b %Y"));let ne=H.getAttribute("data-hc-time"),se=tn(ne)?Number(ne):void 0;if(tn(N)){let oe=se;tn(oe)&&H.setAttribute("data-hc-time-previous",oe),H.setAttribute("data-hc-time",N),se=N}H.value=W.dateFormat(this.inputTypeFormats[H.type]||P.inputEditDateFormat,se),Y&&Y.attr({text:W.dateFormat(P.inputDateFormat,se)})}}setInputExtremes(k,N,P){let W=k==="min"?this.minInput:this.maxInput;if(W){let H=this.inputTypeFormats[W.type],Y=this.chart.time;if(H){let ne=Y.dateFormat(H,N);W.min!==ne&&(W.min=ne);let se=Y.dateFormat(H,P);W.max!==se&&(W.max=se)}}}showInput(k){let N=k==="min"?this.minDateBox:this.maxDateBox,P=k==="min"?this.minInput:this.maxInput;if(P&&N&&this.inputGroup){let W=P.type==="text",{translateX:H=0,translateY:Y=0}=this.inputGroup,{x:ne=0,width:se=0,height:oe=0}=N,{inputBoxWidth:ee}=this.options;ui(P,{width:W?se+(ee?-2:20)+"px":"auto",height:oe-2+"px",border:"2px solid silver"}),W&&ee?ui(P,{left:H+ne+"px",top:Y+"px"}):ui(P,{left:Math.min(Math.round(ne+H-(P.offsetWidth-se)/2),this.chart.chartWidth-P.offsetWidth)+"px",top:Y-(P.offsetHeight-oe)/2+"px"})}}hideInput(k){let N=k==="min"?this.minInput:this.maxInput;N&&ui(N,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(k,N,P){return(P==null?void 0:P.parse(k))||0}drawInput(k){let{chart:N,div:P,inputGroup:W}=this,H=this,Y=N.renderer.style||{},ne=N.renderer,se=N.options.rangeSelector,oe=cl.lang,ee=k==="min";function te(ke){var Xe;let{maxInput:_e,minInput:ze}=H,Te=N.xAxis[0],Pe=((Xe=N.scroller)==null?void 0:Xe.getUnionExtremes())||Te,Re=Pe.dataMin,De=Pe.dataMax,Ue=N.xAxis[0].getExtremes()[ke],Be=H.getInputValue(ke);Br(Be)&&Be!==Ue&&(ee&&_e&&Br(Re)?Be>Number(_e.getAttribute("data-hc-time"))?Be=void 0:Be<Re&&(Be=Re):ze&&Br(De)&&(Be<Number(ze.getAttribute("data-hc-time"))?Be=void 0:Be>De&&(Be=De)),Be!==void 0&&Te.setExtremes(ee?Be:Te.min,ee?Te.max:Be,void 0,void 0,{trigger:"rangeSelectorInput"}))}let V=oe[ee?"rangeSelectorFrom":"rangeSelectorTo"]||"",Q=ne.label(V,0).addClass("highcharts-range-label").attr({padding:2*!!V,height:V?se.inputBoxHeight:0}).add(W),Z=ne.label("",0).addClass("highcharts-range-input").attr({padding:2,width:se.inputBoxWidth,height:se.inputBoxHeight,"text-align":"center"}).on("click",function(){H.showInput(k),H[k+"Input"].focus()});N.styledMode||Z.attr({stroke:se.inputBoxBorderColor,"stroke-width":1}),Z.add(W);let le=ra("input",{name:k,className:"highcharts-range-selector"},void 0,P);le.setAttribute("type",Sh(se.inputDateFormat||"%e %b %Y")),N.styledMode||(Q.css(Un(Y,se.labelStyle)),Z.css(Un({color:"#333333"},Y,se.inputStyle)),ui(le,dl({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:Y.fontSize,fontFamily:Y.fontFamily,top:"-9999em"},se.inputStyle))),le.onfocus=()=>{H.showInput(k)},le.onblur=()=>{le===ie().doc.activeElement&&te(k),H.hideInput(k),H.setInputValue(k),le.blur()};let ue=!1;return le.onchange=()=>{ue||(te(k),H.hideInput(k),le.blur())},le.onkeypress=ke=>{ke.keyCode===13&&te(k)},le.onkeydown=ke=>{ue=!0,(ke.key==="ArrowUp"||ke.key==="ArrowDown"||ke.key==="Tab")&&te(k)},le.onkeyup=()=>{ue=!1},{dateBox:Z,input:le,label:Q}}getPosition(){let k=this.chart,N=k.options.rangeSelector,P=N.verticalAlign==="top"?k.plotTop-k.axisOffset[0]:0;return{buttonTop:P+N.buttonPosition.y,inputTop:P+N.inputPosition.y-10}}getYTDExtremes(k,N){let P=this.chart.time,W=P.toParts(k)[0];return{max:k,min:Math.max(N,P.makeTime(W,0))}}createElements(){var se;let k=this.chart,N=k.renderer,P=k.container,W=k.options,H=W.rangeSelector,Y=H.inputEnabled,ne=rn((se=W.chart.style)==null?void 0:se.zIndex,0)+1;H.enabled!==!1&&(this.group=N.g("range-selector-group").attr({zIndex:7}).add(),this.div=ra("div",void 0,{position:"relative",height:0,zIndex:ne}),this.buttonOptions.length&&this.renderButtons(),P.parentNode&&P.parentNode.insertBefore(this.div,P),Y&&this.createInputs())}createInputs(){this.inputGroup=this.chart.renderer.g("input-group").add(this.group);let k=this.drawInput("min");this.minDateBox=k.dateBox,this.minLabel=k.label,this.minInput=k.input;let N=this.drawInput("max");this.maxDateBox=N.dateBox,this.maxLabel=N.label,this.maxInput=N.input}render(k,N){var H,Y;if(this.options.enabled===!1)return;let P=this.chart,W=P.options.rangeSelector;if(W.inputEnabled){this.inputGroup||this.createInputs(),this.setInputValue("min",k),this.setInputValue("max",N),this.chart.styledMode||((H=this.maxLabel)==null||H.css(W.labelStyle),(Y=this.minLabel)==null||Y.css(W.labelStyle));let ne=P.scroller&&P.scroller.getUnionExtremes()||P.xAxis[0]||{};if(tn(ne.dataMin)&&tn(ne.dataMax)){let se=P.xAxis[0].minRange||0;this.setInputExtremes("min",ne.dataMin,Math.min(ne.dataMax,this.getInputValue("max"))-se),this.setInputExtremes("max",Math.max(ne.dataMin,this.getInputValue("min"))+se,ne.dataMax)}if(this.inputGroup){let se=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(oe=>{if(oe){let{width:ee}=oe.getBBox();ee&&(oe.attr({x:se}),se+=ee+W.inputSpacing)}})}}else this.inputGroup&&(this.inputGroup.destroy(),delete this.inputGroup);!this.chart.styledMode&&this.zoomText&&this.zoomText.css(W.labelStyle),this.alignElements(),this.updateButtonStates()}renderButtons(){var V;var k;let{chart:N,options:P}=this,W=cl.lang,H=N.renderer,Y=Un(P.buttonTheme),ne=Y&&Y.states;delete Y.width,delete Y.states,this.buttonGroup=H.g("range-selector-buttons").add(this.group);let se=this.dropdown=ra("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),oe=(V=N.userOptions.rangeSelector)==null?void 0:V.buttonTheme;this.dropdownLabel=H.button("",0,0,()=>{},Un(Y,{"stroke-width":rn(Y["stroke-width"],0),width:"auto",paddingLeft:rn(P.buttonTheme.paddingLeft,oe==null?void 0:oe.padding,8),paddingRight:rn(P.buttonTheme.paddingRight,oe==null?void 0:oe.padding,8)}),ne&&ne.hover,ne&&ne.select,ne&&ne.disabled).hide().add(this.group),Li(se,"touchstart",()=>{se.style.fontSize="16px"});let ee=ie().isMS?"mouseover":"mouseenter",te=ie().isMS?"mouseout":"mouseleave";Li(se,ee,()=>{Ks(this.dropdownLabel.element,ee)}),Li(se,te,()=>{Ks(this.dropdownLabel.element,te)}),Li(se,"change",()=>{Ks(this.buttons[se.selectedIndex-1].element,"click")}),this.zoomText=H.label(W.rangeSelectorZoom||"",0).attr({padding:P.buttonTheme.padding,height:P.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(P.labelStyle),(k=P.buttonTheme)["stroke-width"]??(k["stroke-width"]=0)),ra("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,se),this.createButtons()}createButtons(){let{options:k}=this,N=Un(k.buttonTheme),P=N&&N.states,W=N.width||28;delete N.width,delete N.states,this.buttonOptions.forEach((H,Y)=>{this.createButton(H,Y,W,P)})}createButton(k,N,P,W){let{dropdown:H,buttons:Y,chart:ne,options:se}=this,oe=ne.renderer,ee=Un(se.buttonTheme);H==null||H.add(ra("option",{textContent:k.title||k.text}),N+2),Y[N]=oe.button(k.text??"",0,0,te=>{let V,Q=k.events&&k.events.click;Q&&(V=Q.call(k,te)),V!==!1&&this.clickButton(N),this.isActive=!0},ee,W&&W.hover,W&&W.select,W&&W.disabled).attr({"text-align":"center",width:P}).add(this.buttonGroup),k.title&&Y[N].attr("title",k.title)}alignElements(){var le;let{buttonGroup:k,buttons:N,chart:P,group:W,inputGroup:H,options:Y,zoomText:ne}=this,se=P.options,oe=se.exporting&&se.exporting.enabled!==!1&&se.navigation&&se.navigation.buttonOptions,{buttonPosition:ee,inputPosition:te,verticalAlign:V}=Y,Q=(ue,ke,_e)=>oe&&this.titleCollision(P)&&V==="top"&&_e&&ke.y-ue.getBBox().height-12<(oe.y||0)+(oe.height||0)+P.spacing[0]?-40:0,Z=P.plotLeft;if(W&&ee&&te){let ue=ee.x-P.spacing[3];if(k){if(this.positionButtons(),!this.initialButtonGroupWidth){let Be=0;ne&&(Be+=ne.getBBox().width+5),N.forEach((Xe,Le)=>{Be+=Xe.width||0,Le!==N.length-1&&(Be+=Y.buttonSpacing)}),this.initialButtonGroupWidth=Be}Z-=P.spacing[3];let Ue=Q(k,ee,ee.align==="right"||te.align==="right");this.alignButtonGroup(Ue),(le=this.buttonGroup)!=null&&le.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),W.placed=k.placed=P.hasLoaded}let ke=0;Y.inputEnabled&&H&&(ke=Q(H,te,ee.align==="right"||te.align==="right"),te.align==="left"?ue=Z:te.align==="right"&&(ue=-Math.max(P.axisOffset[1],-ke)),H.align({y:te.y,width:H.getBBox().width,align:te.align,x:te.x+ue-2},!0,P.spacingBox),H.placed=P.hasLoaded),this.handleCollision(ke),W.align({verticalAlign:V},!0,P.spacingBox);let _e=W.alignAttr.translateY,ze=W.getBBox().height+20,Te=0;if(V==="bottom"){let Ue=P.legend&&P.legend.options;Te=_e-(ze=ze+(Ue&&Ue.verticalAlign==="bottom"&&Ue.enabled&&!Ue.floating?P.legend.legendHeight+rn(Ue.margin,10):0)-20)-(Y.floating?0:Y.y)-(P.titleOffset?P.titleOffset[2]:0)-10}V==="top"?(Y.floating&&(Te=0),P.titleOffset&&P.titleOffset[0]&&(Te=P.titleOffset[0]),Te+=P.margin[0]-P.spacing[0]||0):V==="middle"&&(te.y===ee.y?Te=_e:(te.y||ee.y)&&(te.y<0||ee.y<0?Te-=Math.min(te.y,ee.y):Te=_e-ze)),W.translate(Y.x,Y.y+Math.floor(Te));let{minInput:Pe,maxInput:Re,dropdown:De}=this;Y.inputEnabled&&Pe&&Re&&(Pe.style.marginTop=W.translateY+"px",Re.style.marginTop=W.translateY+"px"),De&&(De.style.marginTop=W.translateY+"px")}}redrawElements(){var W,H,Y,ne,se;let k=this.chart,{inputBoxHeight:N,inputBoxBorderColor:P}=this.options;if((W=this.maxDateBox)==null||W.attr({height:N}),(H=this.minDateBox)==null||H.attr({height:N}),k.styledMode||((Y=this.maxDateBox)==null||Y.attr({stroke:P}),(ne=this.minDateBox)==null||ne.attr({stroke:P})),this.isDirty){this.isDirty=!1,this.isCollapsed=void 0;let oe=this.options.buttons??[],ee=Math.min(oe.length,this.buttonOptions.length),{dropdown:te,options:V}=this,Q=Un(V.buttonTheme),Z=Q&&Q.states,le=Q.width||28;if(oe.length<this.buttonOptions.length)for(let ue=this.buttonOptions.length-1;ue>=oe.length;ue--){let ke=this.buttons.pop();ke==null||ke.destroy(),(se=this.dropdown)==null||se.options.remove(ue+1)}for(let ue=ee-1;ue>=0;ue--)if(Object.keys(ed(oe[ue],this.buttonOptions[ue])).length!==0){let ke=oe[ue];this.buttons[ue].destroy(),te==null||te.options.remove(ue+1),this.createButton(ke,ue,le,Z),this.computeButtonRange(ke)}if(oe.length>this.buttonOptions.length)for(let ue=this.buttonOptions.length;ue<oe.length;ue++)this.createButton(oe[ue],ue,le,Z),this.computeButtonRange(oe[ue]);this.buttonOptions=this.options.buttons??[],tn(this.options.selected)&&this.buttons.length&&this.clickButton(this.options.selected,!1)}}alignButtonGroup(k,N){let{chart:P,options:W,buttonGroup:H,dropdown:Y,dropdownLabel:ne}=this,{buttonPosition:se}=W,oe=P.plotLeft-P.spacing[3],ee=se.x-P.spacing[3],te=P.plotLeft;se.align==="right"?(ee+=k-oe,this.hasVisibleDropdown&&(te=P.chartWidth+k-this.maxButtonWidth()-20)):se.align==="center"&&(ee-=oe/2,this.hasVisibleDropdown&&(te=P.chartWidth/2-this.maxButtonWidth())),Y&&ui(Y,{left:te+"px",top:(H==null?void 0:H.translateY)+"px"}),ne==null||ne.attr({x:te}),H&&H.align({y:se.y,width:rn(N,this.initialButtonGroupWidth),align:se.align,x:ee},!0,P.spacingBox)}positionButtons(){let{buttons:k,chart:N,options:P,zoomText:W}=this,H=N.hasLoaded?"animate":"attr",{buttonPosition:Y}=P,ne=N.plotLeft,se=ne;W&&W.visibility!=="hidden"&&(W[H]({x:rn(ne+Y.x,ne)}),se+=Y.x+W.getBBox().width+5);for(let oe=0,ee=this.buttonOptions.length;oe<ee;++oe)k[oe].visibility!=="hidden"?(k[oe][H]({x:se}),se+=(k[oe].width||0)+P.buttonSpacing):k[oe][H]({x:ne})}handleCollision(k){let{chart:N,buttonGroup:P,inputGroup:W,initialButtonGroupWidth:H}=this,{buttonPosition:Y,dropdown:ne,inputPosition:se}=this.options,oe=()=>{W&&P&&W.attr({translateX:W.alignAttr.translateX+(N.axisOffset[1]>=-k?0:-k),translateY:W.alignAttr.translateY+P.getBBox().height+10})};W&&P?se.align===Y.align?(oe(),H>N.plotWidth+k-20?this.collapseButtons():this.expandButtons()):H-k+W.getBBox().width>N.plotWidth?ne==="responsive"?this.collapseButtons():oe():this.expandButtons():P&&ne==="responsive"&&(H>N.plotWidth?this.collapseButtons():this.expandButtons()),P&&(ne==="always"&&this.collapseButtons(),ne==="never"&&this.expandButtons()),this.alignButtonGroup(k)}collapseButtons(){let{buttons:k,zoomText:N}=this;this.isCollapsed!==!0&&(this.isCollapsed=!0,N.hide(),k.forEach(P=>void P.hide()),this.showDropdown())}expandButtons(){let{buttons:k,zoomText:N}=this;this.isCollapsed!==!1&&(this.isCollapsed=!1,this.hideDropdown(),N.show(),k.forEach(P=>void P.show()),this.positionButtons())}showDropdown(){let{buttonGroup:k,dropdownLabel:N,dropdown:P}=this;k&&P&&(N.show(),ui(P,{visibility:"inherit"}),this.hasVisibleDropdown=!0)}hideDropdown(){let{dropdown:k}=this;k&&(this.dropdownLabel.hide(),ui(k,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let k=this.options,N=this.group,P=k.inputPosition,W=k.buttonPosition,H=k.y,Y=W.y,ne=P.y,se=0;if(k.height)return k.height;this.alignElements(),se=N?N.getBBox(!0).height+13+H:0;let oe=Math.min(ne,Y);return(ne<0&&Y<0||ne>0&&Y>0)&&(se+=Math.abs(oe)),se}titleCollision(k){return!(k.options.title.text||k.options.subtitle.text)}update(k,N=!0){let P=this.chart;if(Un(!0,this.options,k),this.options.selected&&this.options.selected>=this.options.buttons.length&&(this.options.selected=void 0,P.options.rangeSelector.selected=void 0),tn(k.enabled))return this.destroy(),this.init(P);this.isDirty=!!k.buttons,N&&this.render()}destroy(){let k=this,N=k.minInput,P=k.maxInput;k.eventsToUnbind&&(k.eventsToUnbind.forEach(W=>W()),k.eventsToUnbind=void 0),wh(k.buttons),N&&(N.onfocus=N.onblur=N.onchange=null),P&&(P.onfocus=P.onblur=P.onchange=null),mm(k,function(W,H){W&&H!=="chart"&&(W instanceof Ys()?W.destroy():W instanceof window.HTMLElement&&kh(W),delete k[H]),W!==fs.prototype[H]&&(k[H]=null)},this),this.buttons=[]}}dl(fs.prototype,{inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}});var xm=je(960),_h=je.n(xm);let{format:ym}=qs(),{getOptions:td}=ie(),{setFixedRange:Zs}=Wt,{addEvent:Hn,clamp:Ch,crisp:Eh,defined:rd,extend:bm,find:id,isNumber:nn,isString:ul,merge:xn,pick:yn,splat:nd}=ie();function Qs(K,k,N){return K==="xAxis"?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:K==="yAxis"?{labels:{y:-2},opposite:N.opposite??k.opposite??!0,showLastLabel:!!(k.categories||k.type==="category"),title:{text:void 0}}:{}}function Gn(K,k){var N;if(K==="xAxis"){let P=yn((N=k.navigator)==null?void 0:N.enabled,Zo.enabled,!0),W={type:"datetime",categories:void 0};return P&&(W.startOnTick=!1,W.endOnTick=!1),W}return{}}class sd extends _h(){init(k,N){var se,oe;let P=td(),W=k.xAxis,H=k.yAxis,Y=yn((se=k.navigator)==null?void 0:se.enabled,Zo.enabled,!0);k.xAxis=k.yAxis=void 0;let ne=xn({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:Y},scrollbar:{enabled:yn(Jo.enabled,!0)},rangeSelector:{enabled:yn(hs.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:yn((oe=P.tooltip)==null?void 0:oe.split,!0),crosshairs:!0},legend:{enabled:!1}},k,{isStock:!0});k.xAxis=W,k.yAxis=H,ne.xAxis=nd(k.xAxis||{}).map(ee=>xn(Qs("xAxis",ee,P.xAxis),ee,Gn("xAxis",k))),ne.yAxis=nd(k.yAxis||{}).map(ee=>xn(Qs("yAxis",ee,P.yAxis),ee)),super.init(ne,N)}createAxis(k,N){return N.axis=xn(Qs(k,N.axis,td()[k]),N.axis,Gn(k,this.userOptions)),super.createAxis(k,N)}}Hn(_h(),"update",function(K){let k=K.options;"scrollbar"in k&&this.navigator&&(xn(!0,this.options.scrollbar,k.scrollbar),this.navigator.update({enabled:!!this.navigator.navigatorEnabled}),delete k.scrollbar)}),function(K){function k(oe){var Lt,mr,ki,Nr;if(!((mr=(Lt=this.crosshair)==null?void 0:Lt.label)!=null&&mr.enabled&&this.cross&&nn(this.min)&&nn(this.max)))return;let ee=this.chart,te=this.logarithmic,V=this.crosshair.label,Q=this.horiz,Z=this.opposite,le=this.left,ue=this.top,ke=this.width,_e=this.options.tickPosition==="inside",ze=this.crosshair.snap!==!1,Te=oe.e||((ki=this.cross)==null?void 0:ki.e),Pe=oe.point,Re=this.crossLabel,De,Ue,Be=V.format,Xe="",Le,et=0,qe=this.min,zt=this.max;te&&(qe=te.lin2log(this.min),zt=te.lin2log(this.max));let it=Q?"center":Z?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center";!Re&&(Re=this.crossLabel=ee.renderer.label("",0,void 0,V.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(Pe!=null&&Pe.series?Pe.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:V.align||it,padding:yn(V.padding,8),r:yn(V.borderRadius,3),zIndex:2}).add(this.labelGroup),ee.styledMode||Re.attr({fill:V.backgroundColor||((Nr=Pe==null?void 0:Pe.series)==null?void 0:Nr.color)||"#666666",stroke:V.borderColor||"","stroke-width":V.borderWidth||0}).css(bm({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},V.style||{}))),Q?(De=ze?(Pe.plotX||0)+le:Te.chartX,Ue=ue+(Z?0:this.height)):(De=le+this.offset+(Z?ke:0),Ue=ze?(Pe.plotY||0)+ue:Te.chartY),Be||V.formatter||(this.dateTime&&(Xe="%b %d, %Y"),Be="{value"+(Xe?":"+Xe:"")+"}");let at=ze?this.isXAxis?Pe.x:Pe.y:this.toValue(Q?Te.chartX:Te.chartY),kr=Pe!=null&&Pe.series?Pe.series.isPointInside(Pe):nn(at)&&at>qe&&at<zt,Bt="";Be?Bt=ym(Be,{value:at},ee):V.formatter&&nn(at)&&(Bt=V.formatter.call(this,at)),Re.attr({text:Bt,x:De,y:Ue,visibility:kr?"inherit":"hidden"});let mt=Re.getBBox();!nn(Re.x)||Q||Z||(De=Re.x-mt.width/2),nn(Re.y)&&(Q?(_e&&!Z||!_e&&Z)&&(Ue=Re.y-mt.height):Ue=Re.y-mt.height/2),Le=Q?{left:le,right:le+this.width}:{left:this.labelAlign==="left"?le:0,right:this.labelAlign==="right"?le+this.width:ee.chartWidth};let xt=Re.translateX||0;xt<Le.left&&(et=Le.left-xt),xt+mt.width>=Le.right&&(et=-(xt+mt.width-Le.right)),Re.attr({x:Math.max(0,De+et),y:Math.max(0,Ue),anchorX:Q?De:this.opposite?0:ee.chartWidth,anchorY:Q?this.opposite?ee.chartHeight:0:Ue+mt.height/2})}function N(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function P(oe){let ee=this.chart,te=this.options,V=ee._labelPanes=ee._labelPanes||{},Q=te.labels;if(ee.options.isStock&&this.coll==="yAxis"){let Z=te.top+","+te.height;!V[Z]&&Q.enabled&&(Q.distance===15&&this.side===1&&(Q.distance=0),Q.align===void 0&&(Q.align="right"),V[Z]=this,oe.align="right",oe.preventDefault())}}function W(){let oe=this.chart,ee=this.options&&this.options.top+","+this.options.height;ee&&oe._labelPanes&&oe._labelPanes[ee]===this&&delete oe._labelPanes[ee]}function H(oe){let ee=this,te=ee.isLinked&&!ee.series&&ee.linkedParent?ee.linkedParent.series:ee.series,{chart:V,horiz:Q}=ee,Z=V.renderer,le=[],{acrossPanes:ue=!0,force:ke,translatedValue:_e,value:ze}=oe,Te=(ee.isXAxis?V.yAxis:V.xAxis)||[];function Pe(Be,Xe,Le){le.push(["M",Q?Be:Xe,Q?Xe:Be],["L",Q?Be:Le,Q?Le:Be])}let Re=[],De,Ue;if(V.options.isStock&&(ee.coll==="xAxis"||ee.coll==="yAxis")){for(let Be of(oe.preventDefault(),Re=(Xe=>{let Le=Xe==="xAxis"?"yAxis":"xAxis",et=ee.options[Le];return ue&&!ee.options.isInternal?Te.filter(qe=>!qe.options.isInternal):nn(et)?[V[Le][et]]:ul(et)?[V.get(et)]:te.map(qe=>qe[Le])})(ee.coll),Te))if(!Be.options.isInternal){let Xe=Be.isXAxis?"yAxis":"xAxis";ee===(rd(Be.options[Xe])&&V[Xe][Be.options[Xe]])&&Re.push(Be)}for(let Be of(De=Re.length?[]:[ee.isXAxis?V.yAxis[0]:V.xAxis[0]],Re))De.indexOf(Be)!==-1||id(De,Xe=>Xe.pos===Be.pos&&Xe.len===Be.len)||De.push(Be);if(nn(Ue=yn(_e,ee.translate(ze||0,void 0,void 0,oe.old)))){let Be,Xe=Q?Ue+ee.pos:ee.pos+ee.len-Ue;if(ke!=="pass"&&(Xe<ee.pos||Xe>ee.pos+ee.len)&&(ke?Xe=Ch(Xe,ee.pos,ee.pos+ee.len):Be=!0),!Be){let Le=Q?"top":"left",et=Q?"height":"width";if(!ue&&(ee.options[Le]||ee.options[et]))Pe(Xe,ee[Le],ee[Le]+ee[et]);else for(let qe of De)Pe(Xe,qe.pos,qe.pos+qe.len)}}oe.path=le.length>0?Z.crispPolyLine(le,oe.lineWidth||1):void 0}}function Y(oe){if(this.chart.options.isStock){let ee;this.is("column")||this.is("columnrange")?ee={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(ee={marker:{enabled:!1,radius:2}}),ee&&(oe.plotOptions[this.type]=xn(oe.plotOptions[this.type],ee))}}function ne(){let oe=this.chart,ee=this.options.dataGrouping;return this.allowDG!==!1&&ee&&yn(ee.enabled,oe.options.isStock)}function se(oe,ee){for(let te=0;te<oe.length;te+=2){let V=oe[te],Q=oe[te+1];rd(V[1])&&V[1]===Q[1]&&(V[1]=Q[1]=Eh(V[1],ee)),rd(V[2])&&V[2]===Q[2]&&(V[2]=Q[2]=Eh(V[2],ee))}return oe}K.compose=function(oe,ee,te,V){let Q=te.prototype;Q.forceCropping||(Hn(ee,"afterDrawCrosshair",k),Hn(ee,"afterHideCrosshair",N),Hn(ee,"autoLabelAlign",P),Hn(ee,"destroy",W),Hn(ee,"getPlotLinePath",H),oe.prototype.setFixedRange=Zs,Q.forceCropping=ne,Hn(te,"setOptions",Y),V.prototype.crispPolyLine=se)},K.stockChart=function(oe,ee,te){return new K(oe,ee,te)}}(sd||(sd={}));let Vn=sd,{column:{prototype:{pointClass:wm}}}=ci().seriesTypes,{column:Xn}=ci().seriesTypes,{crisp:Js,extend:Mh,merge:od}=ie(),{defaultOptions:ad}=ie();class ld extends Xn{extendStem(k,N,P){let W=k[0],H=k[1];typeof W[2]=="number"&&(W[2]=Math.max(P+N,W[2])),typeof H[2]=="number"&&(H[2]=Math.min(P-N,H[2]))}getPointPath(k,N){let P=N.strokeWidth(),W=k.series,H=Js(k.plotX||0,P),Y=Math.round(k.shapeArgs.width/2),ne=[["M",H,Math.round(k.yBottom)],["L",H,Math.round(k.plotHigh)]];if(k.close!==null){let se=Js(k.plotClose,P);ne.push(["M",H,se],["L",H+Y,se]),W.extendStem(ne,P/2,se)}return ne}drawSinglePoint(k){let N=k.series,P=N.chart,W,H=k.graphic;k.plotY!==void 0&&(H||(k.graphic=H=P.renderer.path().add(N.group)),P.styledMode||H.attr(N.pointAttribs(k,k.selected&&"select")),W=N.getPointPath(k,H),H[H?"animate":"attr"]({d:W}).addClass(k.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(k,N){let P=super.pointAttribs.call(this,k,N);return delete P.fill,P}toYData(k){return[k.high,k.low,k.close]}translate(){let k=this,N=k.yAxis,P=this.pointArrayMap&&this.pointArrayMap.slice()||[],W=P.map(H=>`plot${H.charAt(0).toUpperCase()+H.slice(1)}`);W.push("yBottom"),P.push("low"),super.translate.apply(k),k.points.forEach(function(H){P.forEach(function(Y,ne){let se=H[Y];se!==null&&(k.dataModify&&(se=k.dataModify.modifyValue(se)),H[W[ne]]=N.toPixels(se,!0))}),H.tooltipPos[1]=H.plotHigh+N.pos-k.chart.plotTop})}}ld.defaultOptions=od(Xn.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),Mh(ld.prototype,{pointClass:class extends wm{},animate:null,directTouch:!1,keysAffectYAxis:["low","high"],pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),Mh(ad.lang,{stockOpen:"Open",stockHigh:"High",stockLow:"Low",stockClose:"Close"}),ci().registerSeriesType("hlc",ld);let{seriesTypes:{hlc:km}}=ci();class Sm extends km.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){let k=super.getZone();return this.resolveUpColor(),k}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}let{composed:hl}=ie(),{hlc:jh}=ci().seriesTypes,{addEvent:Nh,crisp:Th,extend:bn,merge:_m,pushUnique:Ah}=ie();function Cm(K){let k=K.options,N=k.dataGrouping;N&&k.useOhlcData&&k.id!=="highcharts-navigator-series"&&(N.approximation="ohlc")}function Em(K){let k=K.options;k.useOhlcData&&k.id!=="highcharts-navigator-series"&&bn(this,{pointValKey:sn.prototype.pointValKey,pointArrayMap:sn.prototype.pointArrayMap,toYData:sn.prototype.toYData})}class sn extends jh{static compose(k,...N){Ah(hl,"OHLCSeries")&&(Nh(k,"afterSetOptions",Cm),Nh(k,"init",Em))}getPointPath(k,N){let P=super.getPointPath(k,N),W=N.strokeWidth(),H=Th(k.plotX||0,W),Y=Math.round(k.shapeArgs.width/2);if(k.open!==null){let ne=Th(k.plotOpen,W);P.push(["M",H,ne],["L",H-Y,ne]),super.extendStem(P,W/2,ne)}return P}pointAttribs(k,N){let P=super.pointAttribs.call(this,k,N),W=this.options;return delete P.fill,!k.options.color&&W.upColor&&k.open<k.close&&(P.stroke=W.upColor),P}toYData(k){return[k.open,k.high,k.low,k.close]}}sn.defaultOptions=_m(jh.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>{series.chart.options.lang.stockOpen}: {point.open}<br/>{series.chart.options.lang.stockHigh}: {point.high}<br/>{series.chart.options.lang.stockLow}: {point.low}<br/>{series.chart.options.lang.stockClose}: {point.close}<br/>'}}),bn(sn.prototype,{pointClass:Sm,pointArrayMap:["open","high","low","close"]}),ci().registerSeriesType("ohlc",sn);let{column:Mm,ohlc:cd}=ci().seriesTypes,{crisp:fl,merge:jm}=ie();class ps extends cd{pointAttribs(k,N){let P=Mm.prototype.pointAttribs.call(this,k,N),W=this.options,H=k.open<k.close,Y=W.lineColor||this.color,ne=k.color||this.color;if(P["stroke-width"]=W.lineWidth,P.fill=k.options.color||H&&W.upColor||ne,P.stroke=k.options.lineColor||H&&W.upLineColor||Y,N){let se=W.states[N];P.fill=se.color||P.fill,P.stroke=se.lineColor||P.stroke,P["stroke-width"]=se.lineWidth||P["stroke-width"]}return P}drawPoints(){let k=this.points,N=this.chart,P=this.yAxis.reversed;for(let W of k){let H=W.graphic,Y,ne,se,oe,ee,te,V,Q,Z,le=!H;if(W.plotY!==void 0){H||(W.graphic=H=N.renderer.path().add(this.group)),this.chart.styledMode||H.attr(this.pointAttribs(W,W.selected&&"select")).shadow(this.options.shadow);let ue=H.strokeWidth();V=fl(W.plotX||0,ue),se=Math.min(Y=W.plotOpen,ne=W.plotClose),oe=Math.max(Y,ne),Z=Math.round(W.shapeArgs.width/2),ee=P?oe!==W.yBottom:Math.round(se)!==Math.round(W.plotHigh||0),te=P?Math.round(se)!==Math.round(W.plotHigh||0):oe!==W.yBottom,se=fl(se,ue),oe=fl(oe,ue),(Q=[]).push(["M",V-Z,oe],["L",V-Z,se],["L",V+Z,se],["L",V+Z,oe],["Z"],["M",V,se],["L",V,ee?Math.round(P?W.yBottom:W.plotHigh):se],["M",V,oe],["L",V,te?Math.round(P?W.plotHigh:W.yBottom):oe]),H[le?"attr":"animate"]({d:Q}).addClass(W.getClassName(),!0)}}}}ps.defaultOptions=jm(cd.defaultOptions,{tooltip:cd.defaultOptions.tooltip},{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),ci().registerSeriesType("candlestick",ps);let{column:{prototype:{pointClass:gs}}}=ci().seriesTypes,{isNumber:Nm}=ie(),Tm=class extends gs{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return Nm(this.y)||this.y===void 0}hasNewShapeType(){let K=this.options.shape||this.series.options.shape;return this.graphic&&K&&K!==this.graphic.symbolKey}};(function(K){let k=[];function N(W,H,Y,ne,se){let oe=se&&se.anchorX||W,ee=se&&se.anchorY||H,te=this.circle(oe-1,ee-1,2,2);return te.push(["M",oe,ee],["L",W,H+ne],["L",W,H],["L",W+Y,H],["L",W+Y,H+ne],["L",W,H+ne],["Z"]),te}function P(W,H){W[H+"pin"]=function(Y,ne,se,oe,ee){let te,V=ee&&ee.anchorX,Q=ee&&ee.anchorY;if(H==="circle"&&oe>se&&(Y-=Math.round((oe-se)/2),se=oe),te=W[H](Y,ne,se,oe,ee),V&&Q){let Z=V;if(H==="circle")Z=Y+se/2;else{let ue=te[0],ke=te[1];ue[0]==="M"&&ke[0]==="L"&&(Z=(ue[1]+ke[1])/2)}let le=ne>Q?ne:ne+oe;te.push(["M",Z,le],["L",V,Q]),te=te.concat(W.circle(V-1,Q-1,2,2))}return te}}K.compose=function(W){if(k.indexOf(W)===-1){k.push(W);let Y=W.prototype.symbols;Y.flag=N,P(Y,"circle"),P(Y,"square")}let H=Hc().getRendererType();k.indexOf(H)&&k.push(H)}})(ce||(ce={}));let Am=ce;var Pm=je(448),Om=je.n(Pm),pl=je(820),dd=je.n(pl);let{composed:Rm}=ie(),{prototype:gl}=Om(),{prototype:ud}=dd(),{defined:hd,pushUnique:Ph,stableSort:na}=ie();(function(K){function k(P){return ud.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,P)}function N(){var Be,Xe;gl.translate.apply(this);let P=this,W=P.options,H=P.chart,Y=P.points,ne=W.onSeries,se=ne&&H.get(ne),oe=se&&se.options.step,ee=se&&se.points,te=H.inverted,V=P.xAxis,Q=P.yAxis,Z=Y.length-1,le,ue,ke=W.onKey||"y",_e=ee&&ee.length,ze=0,Te,Pe,Re,De,Ue;if(se&&se.visible&&_e){for(ze=(se.pointXOffset||0)+(se.barW||0)/2,De=se.currentDataGrouping,Pe=ee[_e-1].x+(De?De.totalRange:0),na(Y,(Le,et)=>Le.x-et.x),ke="plot"+ke[0].toUpperCase()+ke.substr(1);_e--&&Y[Z];)if(Te=ee[_e],(le=Y[Z]).y=Te.y,Te.x<=le.x&&Te[ke]!==void 0){if(le.x<=Pe&&(le.plotY=Te[ke],Te.x<le.x&&!oe&&(Re=ee[_e+1]))&&Re[ke]!==void 0)if(hd(le.plotX)&&se.is("spline")){let Le=[Te.plotX||0,Te.plotY||0],et=[Re.plotX||0,Re.plotY||0],qe=((Be=Te.controlPoints)==null?void 0:Be.high)||Le,zt=((Xe=Re.controlPoints)==null?void 0:Xe.low)||et,it=(mt,xt)=>Math.pow(1-mt,3)*Le[xt]+3*(1-mt)*(1-mt)*mt*qe[xt]+3*(1-mt)*mt*mt*zt[xt]+mt*mt*mt*et[xt],at=0,kr=1,Bt;for(let mt=0;mt<100;mt++){let xt=(at+kr)/2,Lt=it(xt,0);if(Lt===null)break;if(.25>Math.abs(Lt-le.plotX)){Bt=xt;break}Lt<le.plotX?at=xt:kr=xt}hd(Bt)&&(le.plotY=it(Bt,1),le.y=Q.toValue(le.plotY,!0))}else Ue=(le.x-Te.x)/(Re.x-Te.x),le.plotY+=Ue*(Re[ke]-Te[ke]),le.y+=Ue*(Re.y-Te.y);if(Z--,_e++,Z<0)break}}Y.forEach((Le,et)=>{let qe;Le.plotX+=ze,(Le.plotY===void 0||te)&&(Le.plotX>=0&&Le.plotX<=V.len?te?(Le.plotY=V.translate(Le.x,0,1,0,1),Le.plotX=hd(Le.y)?Q.translate(Le.y,0,0,0,1):0):Le.plotY=(V.opposite?0:P.yAxis.len)+V.offset:Le.shapeArgs={}),(ue=Y[et-1])&&ue.plotX===Le.plotX&&(ue.stackIndex===void 0&&(ue.stackIndex=0),qe=ue.stackIndex+1),Le.stackIndex=qe}),this.onSeries=se}K.compose=function(P){if(Ph(Rm,"OnSeries")){let W=P.prototype;W.getPlotBox=k,W.translate=N}return P},K.getPlotBox=k,K.translate=N})(J||(J={}));let Lm=J,{noop:ml}=ie(),{distribute:Im}=ie(),{series:Oh,seriesTypes:{column:Ii}}=ci(),{addEvent:eo,defined:Dm,extend:Rh,isNumber:Bm,merge:vl,objectEach:$m,wrap:zm}=ie();class ms extends Ii{animate(k){k&&this.setClip()}drawPoints(){let k,N,P,W,H,Y,ne,se,oe,ee,te,V=this.points,Q=this.chart,Z=Q.renderer,le=Q.inverted,ue=this.options,ke=ue.y,_e=this.yAxis,ze={},Te=[],Pe=Bm(ue.borderRadius)?ue.borderRadius:0;for(W=V.length;W--;)H=V[W],ee=(le?H.plotY:H.plotX)>this.xAxis.len,k=H.plotX,ne=H.stackIndex,P=H.options.shape||ue.shape,(N=H.plotY)!==void 0&&(N=H.plotY+ke-(ne!==void 0&&ne*ue.stackDistance)),H.anchorX=ne?void 0:H.plotX,se=ne?void 0:H.plotY,te=P!=="flag",Y=H.graphic,N!==void 0&&k>=0&&!ee?(Y&&H.hasNewShapeType()&&(Y=Y.destroy()),Y||(Y=H.graphic=Z.label("",0,void 0,P,void 0,void 0,ue.useHTML).addClass("highcharts-point").add(this.markerGroup),H.graphic.div&&(H.graphic.div.point=H),Y.isNew=!0),Y.attr({align:te?"center":"left",width:ue.width,height:ue.height,"text-align":ue.textAlign,r:Pe}),Q.styledMode||Y.attr(this.pointAttribs(H)).css(vl(ue.style,H.style)).shadow(ue.shadow),k>0&&(k-=Y.strokeWidth()%2),oe={y:N,anchorY:se},ue.allowOverlapX&&(oe.x=k,oe.anchorX=H.anchorX),Y.attr({text:H.options.title??ue.title??"A"})[Y.isNew?"attr":"animate"](oe),ue.allowOverlapX||(ze[H.plotX]?ze[H.plotX].size=Math.max(ze[H.plotX].size,Y.width||0):ze[H.plotX]={align:.5*!!te,size:Y.width||0,target:k,anchorX:k}),H.tooltipPos=[k,N+_e.pos-Q.plotTop]):Y&&(H.graphic=Y.destroy());if(!ue.allowOverlapX){let Re=100;for(let De of($m(ze,function(Ue){Ue.plotX=Ue.anchorX,Te.push(Ue),Re=Math.max(Ue.size,Re)}),Im(Te,le?_e.len:this.xAxis.len,Re),V)){let Ue=De.plotX,Be=De.graphic,Xe=Be&&ze[Ue];Xe&&Be&&(Dm(Xe.pos)?Be[Be.isNew?"attr":"animate"]({x:Xe.pos+(Xe.align||0)*Xe.size,anchorX:De.anchorX}).show().isNew=!1:Be.hide().isNew=!0)}}ue.useHTML&&this.markerGroup&&zm(this.markerGroup,"on",function(Re){return Ys().prototype.on.apply(Re.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})}drawTracker(){let k=this.points;for(let N of(super.drawTracker(),k)){let P=N.graphic;P&&(N.unbindMouseOver&&N.unbindMouseOver(),N.unbindMouseOver=eo(P.element,"mouseover",function(){for(let W of(N.stackIndex>0&&!N.raised&&(N._y=P.y,P.attr({y:N._y-8}),N.raised=!0),k))W!==N&&W.raised&&W.graphic&&(W.graphic.attr({y:W._y}),W.raised=!1)}))}}pointAttribs(k,N){let P=this.options,W=k&&k.color||this.color,H=P.lineColor,Y=k&&k.lineWidth,ne=k&&k.fillColor||P.fillColor;return N&&(ne=P.states[N].fillColor,H=P.states[N].lineColor,Y=P.states[N].lineWidth),{fill:ne||W,stroke:H||W,"stroke-width":Y||P.lineWidth||0}}setClip(){Oh.prototype.setClip.apply(this,arguments),this.options.clip!==!1&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}ms.compose=Am.compose,ms.defaultOptions=vl(Ii.defaultOptions,{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold"}}),Lm.compose(ms),Rh(ms.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:Tm,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:ml,init:Oh.prototype.init}),ci().registerSeriesType("flags",ms);var Fm=je(184),fd=je.n(Fm);let{addEvent:br,find:$t,fireEvent:Lh,isArray:Ih,isNumber:wr,pick:vs}=ie();(function(K){function k(){this.brokenAxis!==void 0&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function N(){var ee;Object.keys(((ee=this.options.breaks)==null?void 0:ee[0])||{}).length&&(this.options.ordinal=!1)}function P(){let ee=this.brokenAxis;if(ee!=null&&ee.hasBreaks){let te=this.tickPositions,V=this.tickPositions.info,Q=[];for(let Z=0;Z<te.length;Z++)ee.isInAnyBreak(te[Z])||Q.push(te[Z]);this.tickPositions=Q,this.tickPositions.info=V}}function W(){this.brokenAxis||(this.brokenAxis=new oe(this))}function H(){var le,ue;let{isDirty:ee,options:{connectNulls:te},points:V,xAxis:Q,yAxis:Z}=this;if(ee){let ke=V.length;for(;ke--;){let _e=V[ke],ze=(_e.y!==null||te!==!1)&&(((le=Q==null?void 0:Q.brokenAxis)==null?void 0:le.isInAnyBreak(_e.x,!0))||((ue=Z==null?void 0:Z.brokenAxis)==null?void 0:ue.isInAnyBreak(_e.y,!0)));_e.visible=!ze&&_e.options.visible!==!1}}}function Y(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,vs(this.pointArrayMap,["y"]))}function ne(ee,te){var ke;let V,Q,Z,le=this,ue=le.points;if((ke=ee==null?void 0:ee.brokenAxis)!=null&&ke.hasBreaks){let _e=ee.brokenAxis;te.forEach(function(ze){V=(_e==null?void 0:_e.breakArray)||[],Q=ee.isXAxis?ee.min:vs(le.options.threshold,ee.min),ue.forEach(function(Te){Z=Te["stack"+ze.toUpperCase()]??Te[ze],V.forEach(function(Pe){if(wr(Q)&&wr(Z)){let Re="";Q<Pe.from&&Z>Pe.to||Q>Pe.from&&Z<Pe.from?Re="pointBreak":(Q<Pe.from&&Z>Pe.from&&Z<Pe.to||Q>Pe.from&&Z>Pe.to&&Z<Pe.from)&&(Re="pointInBreak"),Re&&Lh(ee,Re,{point:Te,brk:Pe})}})})})}}function se(){let ee=this.currentDataGrouping,te=ee==null?void 0:ee.gapSize,V=this.points.slice(),Q=this.yAxis,Z=this.options.gapSize,le=V.length-1;if(Z&&le>0){let ue,ke;for(this.options.gapUnit!=="value"&&(Z*=this.basePointRange),te&&te>Z&&te>=this.basePointRange&&(Z=te);le--;)if(ke&&ke.visible!==!1||(ke=V[le+1]),ue=V[le],ke.visible!==!1&&ue.visible!==!1){if(ke.x-ue.x>Z){let _e=(ue.x+ke.x)/2;V.splice(le+1,0,{isNull:!0,x:_e}),Q.stacking&&this.options.stacking&&((Q.stacking.stacks[this.stackKey][_e]=new(fd())(Q,Q.options.stackLabels,!1,_e,this.stack)).total=0)}ke=ue}}return this.getGraphPath(V)}K.compose=function(ee,te){if(!ee.keepProps.includes("brokenAxis")){ee.keepProps.push("brokenAxis"),br(ee,"init",W),br(ee,"afterInit",k),br(ee,"afterSetTickPositions",P),br(ee,"afterSetOptions",N);let V=te.prototype;V.drawBreaks=ne,V.gappedPath=se,br(te,"afterGeneratePoints",H),br(te,"afterRender",Y)}return ee};class oe{static isInBreak(te,V){let Q=te.repeat||1/0,Z=te.from,le=te.to-te.from,ue=V>=Z?(V-Z)%Q:Q-(Z-V)%Q;return te.inclusive?ue<=le:ue<le&&ue!==0}static lin2Val(te){let V=this.min||0,Q=this.brokenAxis,Z=Q==null?void 0:Q.breakArray;if(!(Z!=null&&Z.length)||!wr(te))return te;let le=te;if(te>V)for(let ue of Z){if(ue.from>le)break;(ue.to<=le&&ue.to>V||oe.isInBreak(ue,le))&&(le+=ue.len)}else if(te<V)for(let ue of Z){if(ue.from>V)break;(ue.from>=le&&ue.from<V||oe.isInBreak(ue,le))&&(le-=ue.len)}return le}static val2Lin(te){let V=this.min||0,Q=this.brokenAxis,Z=Q==null?void 0:Q.breakArray;if(!(Z!=null&&Z.length)||!wr(te))return te;let le=te;if(te>V)for(let ue of Z)if(ue.to<=te&&ue.to>V)le-=ue.len;else{if(ue.from>te)break;if(oe.isInBreak(ue,te)){le-=te-ue.from;break}}else if(te<V)for(let ue of Z)if(ue.from>=te&&ue.from<V)le+=ue.len;else{if(ue.from>V)break;if(oe.isInBreak(ue,te)){le+=ue.to-te;break}}return le}constructor(te){this.axis=te}findBreakAt(te,V){return $t(V,function(Q){return Q.from<te&&te<Q.to})}isInAnyBreak(te,V){let Q=this.axis,Z=Q.options.breaks||[],le=Z.length,ue,ke,_e;if(le&&wr(te)){for(;le--;)oe.isInBreak(Z[le],te)&&(ue=!0,ke||(ke=vs(Z[le].showPoints,!Q.isXAxis)));_e=ue&&V?ue&&!ke:ue}return _e}setBreaks(te,V){let Q=this,Z=Q.axis,le=Z.chart.time,ue=Ih(te)&&!!Object.keys((te==null?void 0:te[0])||{}).length;Z.isDirty=(Q.hasBreaks??!1)!==ue,Q.hasBreaks=ue,te==null||te.forEach(ke=>{ke.from=le.parse(ke.from)||0,ke.to=le.parse(ke.to)||0}),te!==Z.options.breaks&&(Z.options.breaks=Z.userOptions.breaks=te),Z.forceRedraw=!0,Z.series.forEach(function(ke){ke.isDirty=!0}),ue||Z.val2lin!==oe.val2Lin||(delete Z.val2lin,delete Z.lin2val),ue&&(Z.userOptions.ordinal=!1,Z.lin2val=oe.lin2Val,Z.val2lin=oe.val2Lin,Z.setExtremes=function(ke,_e,ze,Te,Pe){var Re;if(Q.hasBreaks&&!((Re=Z.treeGrid)!=null&&Re.tree)){let De,Ue=this.brokenAxis.breakArray||[];for(;De=Q.findBreakAt(ke,Ue);)ke=De.to;for(;De=Q.findBreakAt(_e,Ue);)_e=De.from;_e<ke&&(_e=ke)}Z.constructor.prototype.setExtremes.call(this,ke,_e,ze,Te,Pe)},Z.setAxisTranslation=function(){var ke;if(Z.constructor.prototype.setAxisTranslation.call(this),Q.unitLength=void 0,Q.hasBreaks){let _e=Z.options.breaks||[],ze=[],Te=[],Pe=Z.pointRangePadding??0,Re=0,De,Ue,Be=Z.userMin??Z.min,Xe=Z.userMax??Z.max,Le=Z.dataMin??Be,et=Z.dataMax??Xe,qe,zt;wr(Z.threshold)&&(Le=Math.min(Le??Z.threshold,Z.threshold),et=Math.max(et??Z.threshold,Z.threshold)),(ke=Z.treeGrid)!=null&&ke.tree||_e.forEach(function(it){Ue=it.repeat||1/0,wr(Be)&&wr(Xe)&&(oe.isInBreak(it,Be)&&(Be+=it.to%Ue-Be%Ue),oe.isInBreak(it,Xe)&&(Xe-=Xe%Ue-it.from%Ue))}),wr(Le)&&wr(et)&&_e.forEach(function(it){for(qe=it.from,Ue=it.repeat||1/0;qe-Ue>Le;)qe-=Ue;for(;qe<Le;)qe+=Ue;for(zt=qe;zt<et;zt+=Ue)ze.push({value:zt,move:"in"}),ze.push({value:zt+it.to-it.from,move:"out",size:it.breakSize})}),ze.sort(function(it,at){return it.value===at.value?(it.move!=="in")-(at.move!=="in"):it.value-at.value}),De=0,qe=Le,ze.forEach(it=>{(De+=it.move==="in"?1:-1)===1&&it.move==="in"&&(qe=it.value),De===0&&wr(qe)&&(Te.push({from:qe,to:it.value,len:it.value-qe-(it.size||0)}),wr(Be)&&wr(Xe)&&qe<Xe&&it.value>Be&&(Re+=it.value-qe-(it.size||0)))}),Q.breakArray=Te,wr(Be)&&wr(Xe)&&wr(Z.min)&&(Q.unitLength=Xe-Be-Re+Pe,Lh(Z,"afterBreaks"),Z.staticScale?Z.transA=Z.staticScale:Q.unitLength&&(Z.transA*=(Xe-Z.min+Pe)/Q.unitLength),Pe&&(Z.minPixelPadding=Z.transA*(Z.minPointOffset||0)),Z.min=Be,Z.max=Xe)}}),vs(V,!0)&&Z.chart.redraw()}}K.Additions=oe})(we||(we={}));let Gt=we,to=ie();to.BrokenAxis=to.BrokenAxis||Gt,to.BrokenAxis.compose(to.Axis,to.Series);let ei={},{arrayMax:Dh,arrayMin:dt,correctFloat:Bh,extend:xl,isNumber:on}=ie();function sa(K){let k=K.length,N=bt(K);return on(N)&&k&&(N=Bh(N/k)),N}function bt(K){let k=K.length,N;if(!k&&K.hasNulls)N=null;else if(k)for(N=0;k--;)N+=K[k];return N}let oa={average:sa,averages:function(){let K=[];return[].forEach.call(arguments,function(k){K.push(sa(k))}),K[0]===void 0?void 0:K},close:function(K){return K.length?K[K.length-1]:K.hasNulls?null:void 0},high:function(K){return K.length?Dh(K):K.hasNulls?null:void 0},hlc:function(K,k,N){if(K=ei.high(K),k=ei.low(k),N=ei.close(N),on(K)||on(k)||on(N))return[K,k,N]},low:function(K){return K.length?dt(K):K.hasNulls?null:void 0},ohlc:function(K,k,N,P){if(K=ei.open(K),k=ei.high(k),N=ei.low(N),P=ei.close(P),on(K)||on(k)||on(N)||on(P))return[K,k,N,P]},open:function(K){return K.length?K[0]:K.hasNulls?null:void 0},range:function(K,k){return K=ei.low(K),k=ei.high(k),on(K)||on(k)?[K,k]:K===null&&k===null?null:void 0},sum:bt};xl(ei,oa);let ro={common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%[AebHMSL]","%[AebHMSL]","-%[HMSL]"],second:["%[AebHMS]","%[AebHMS]","-%[HMS]"],minute:["%[AebHM]","%[AebHM]","-%[HM]"],hour:["%[AebHM]","%[AebHM]","-%[HM]"],day:["%[AebY]","%[Aeb]","-%[AebY]"],week:["%v %[AebY]","%[Aeb]","-%[AebY]"],month:["%[BY]","%[B]","-%[BY]"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]},{addEvent:$h,extend:Wm,merge:zh,pick:xs}=ie();function Fh(K){let k=this,N=k.series;N.forEach(function(P){P.groupPixelWidth=void 0}),N.forEach(function(P){P.groupPixelWidth=k.getGroupPixelWidth&&k.getGroupPixelWidth(),P.groupPixelWidth&&(P.hasProcessed=!0),P.applyGrouping(!!K.hasExtremesChanged)})}function Um(){let K=this.series,k=K.length,N=0,P=!1,W,H;for(;k--;)(H=K[k].options.dataGrouping)&&(N=Math.max(N,xs(H.groupPixelWidth,ro.common.groupPixelWidth)),W=(K[k].dataTable.modified||K[k].dataTable).rowCount,(K[k].groupPixelWidth||W>this.chart.plotSizeX/N||W&&H.forced)&&(P=!0));return P?N:0}function Hm(){this.series.forEach(function(K){K.hasProcessed=!1})}function yl(K,k){let N;if(k=xs(k,!0),K||(K={forced:!1,units:null}),this instanceof I)for(N=this.series.length;N--;)this.series[N].update({dataGrouping:K},!1);else this.chart.options.series.forEach(function(P){P.dataGrouping=typeof K=="boolean"?K:zh(K,P.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),k&&this.chart.redraw()}let Gm={compose:function(K){I=K;let k=K.prototype;k.applyGrouping||($h(K,"afterSetScale",Hm),$h(K,"postProcessData",Fh),Wm(k,{applyGrouping:Fh,getGroupPixelWidth:Um,setDataGrouping:yl}))}},{addEvent:Wh,getMagnitude:Vm,normalizeTickInterval:Xm,timeUnits:bl}=ie();(function(K){function k(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function N(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new P(this))}K.compose=function(W){return W.keepProps.includes("dateTime")||(W.keepProps.push("dateTime"),W.prototype.getTimeTicks=k,Wh(W,"afterSetType",N)),W};class P{constructor(H){this.axis=H}normalizeTimeTickInterval(H,Y){let ne=Y||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],se=ne[ne.length-1],oe=bl[se[0]],ee=se[1],te;for(te=0;te<ne.length&&(oe=bl[(se=ne[te])[0]],ee=se[1],!ne[te+1]||!(H<=(oe*ee[ee.length-1]+bl[ne[te+1][0]])/2));te++);oe===bl.year&&H<5*oe&&(ee=[1,2,5]);let V=Xm(H/oe,ee,se[0]==="year"?Math.max(Vm(H/oe),1):1);return{unitRange:oe,count:V,unitName:se[0]}}getXDateFormat(H,Y){let{axis:ne}=this,se=ne.chart.time;return ne.closestPointRange?se.getDateFormat(ne.closestPointRange,H,ne.options.startOfWeek,Y)||se.resolveDTLFormat(Y.year).main:se.resolveDTLFormat(Y.day).main}}K.Additions=P})(Se||(Se={}));let Ym=Se,{series:{prototype:Uh}}=ci(),{addEvent:wl,defined:aa,error:Hh,extend:Gh,isNumber:bi,merge:wi,pick:qm,splat:Km}=ie(),Zm=Uh.generatePoints;function Vh(K){var k,N,P;let W,H,Y=this.chart,ne=this.options.dataGrouping,se=this.allowDG!==!1&&ne&&qm(ne.enabled,Y.options.isStock),oe=this.reserveSpace(),ee=this.currentDataGrouping,te,V,Q=!1;se&&!this.requireSorting&&(this.requireSorting=Q=!0);let Z=(k=this,N=K,!!(k.isCartesian&&!k.isDirty&&!k.xAxis.isDirty&&!k.yAxis.isDirty&&!N)||!se);if(Q&&(this.requireSorting=!1),Z)return;this.destroyGroupedData();let le=ne.groupAll?this.dataTable:this.dataTable.modified||this.dataTable,ue=this.getColumn("x",!ne.groupAll),ke=Y.plotSizeX,_e=this.xAxis,ze=_e.getExtremes(),Te=_e.options.ordinal,Pe=this.groupPixelWidth;if(Pe&&ue&&le.rowCount&&ke&&bi(ze.min)){H=!0,this.isDirty=!0,this.points=null;let Re=ze.min,De=ze.max,Ue=Te&&_e.ordinal&&_e.ordinal.getGroupIntervalFactor(Re,De,this)||1,Be=Pe*(De-Re)/ke*Ue,Xe=_e.getTimeTicks(Ym.Additions.prototype.normalizeTimeTickInterval(Be,ne.units||ro.units),Math.min(Re,ue[0]),Math.max(De,ue[ue.length-1]),_e.options.startOfWeek,ue,this.closestPointRange),Le=Uh.groupData.apply(this,[le,Xe,ne.approximation]),et=Le.modified,qe=et.getColumn("x",!0),zt=0;for(ne!=null&&ne.smoothed&&et.rowCount&&(ne.firstAnchor="firstPoint",ne.anchor="middle",ne.lastAnchor="lastPoint",Hh(32,!1,Y,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),W=1;W<Xe.length;W++)Xe.info.segmentStarts&&Xe.info.segmentStarts.indexOf(W)!==-1||(zt=Math.max(Xe[W]-Xe[W-1],zt));(te=Xe.info).gapSize=zt,this.closestPointRange=Xe.info.totalRange,this.groupMap=Le.groupMap,this.currentDataGrouping=te,function(it,at,kr){let Bt=it.options.dataGrouping,mt=it.currentDataGrouping&&it.currentDataGrouping.gapSize,xt=it.getColumn("x");if(!(Bt&&xt.length&&mt&&it.groupMap))return;let Lt=at.length-1,mr=Bt.anchor,ki=Bt.firstAnchor,Nr=Bt.lastAnchor,so=at.length-1,la=0;if(ki&&xt[0]>=at[0]){let wn;la++;let md=it.groupMap[0].start,nf=it.groupMap[0].length;bi(md)&&bi(nf)&&(wn=md+(nf-1)),at[0]={start:at[0],middle:at[0]+.5*mt,end:at[0]+mt,firstPoint:xt[0],lastPoint:wn&&xt[wn]}[ki]}if(Lt>0&&Nr&&mt&&at[Lt]>=kr-mt){so--;let wn=it.groupMap[it.groupMap.length-1].start;at[Lt]={start:at[Lt],middle:at[Lt]+.5*mt,end:at[Lt]+mt,firstPoint:wn&&xt[wn],lastPoint:xt[xt.length-1]}[Nr]}if(mr&&mr!=="start"){let wn=mt*{middle:.5,end:1}[mr];for(;so>=la;)at[so]+=wn,so--}}(this,qe||[],De),oe&&qe&&(aa((P=qe)[0])&&bi(_e.min)&&bi(_e.dataMin)&&P[0]<_e.min&&((!aa(_e.options.min)&&_e.min<=_e.dataMin||_e.min===_e.dataMin)&&(_e.min=Math.min(P[0],_e.min)),_e.dataMin=Math.min(P[0],_e.dataMin)),aa(P[P.length-1])&&bi(_e.max)&&bi(_e.dataMax)&&P[P.length-1]>_e.max&&((!aa(_e.options.max)&&bi(_e.dataMax)&&_e.max>=_e.dataMax||_e.max===_e.dataMax)&&(_e.max=Math.max(P[P.length-1],_e.max)),_e.dataMax=Math.max(P[P.length-1],_e.dataMax))),ne.groupAll&&(this.allGroupedTable=et,qe=(et=(V=this.cropData(et,_e.min||0,_e.max||0)).modified).getColumn("x"),this.cropStart=V.start),this.dataTable.modified=et}else this.groupMap=void 0,this.currentDataGrouping=void 0;this.hasGroupedData=H,this.preventGraphAnimation=(ee&&ee.totalRange)!==(te&&te.totalRange)}function Xh(){this.groupedData&&(this.groupedData.forEach(function(K,k){K&&(this.groupedData[k]=K.destroy?K.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedTable)}function Qm(){Zm.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function kl(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function Yh(K,k,N){let P=K.getColumn("x",!0)||[],W=K.getColumn("y",!0),H=this,Y=H.data,ne=H.options&&H.options.data,se=[],oe=new ph,ee=[],te=K.rowCount,V=!!W,Q=[],Z=H.pointArrayMap,le=Z&&Z.length,ue=["x"].concat(Z||["y"]),ke=(Z||["y"]).map(()=>[]),_e=this.options.dataGrouping&&this.options.dataGrouping.groupAll,ze,Te,Pe,Re=0,De=0,Ue=typeof N=="function"?N:N&&ei[N]?ei[N]:ei[H.getDGApproximation&&H.getDGApproximation()||"average"];if(le){let Le=Z.length;for(;Le--;)Q.push([])}else Q.push([]);let Be=le||1;for(let Le=0;Le<=te;Le++)if(!(P[Le]<k[0])){for(;k[Re+1]!==void 0&&P[Le]>=k[Re+1]||Le===te;){if(ze=k[Re],H.dataGroupInfo={start:_e?De:H.cropStart+De,length:Q[0].length,groupStart:ze},Pe=Ue.apply(H,Q),H.pointClass&&!aa(H.dataGroupInfo.options)&&(H.dataGroupInfo.options=wi(H.pointClass.prototype.optionsToObject.call({series:H},H.options.data[H.cropStart+De])),ue.forEach(function(et){delete H.dataGroupInfo.options[et]})),Pe!==void 0){se.push(ze);let et=Km(Pe);for(let qe=0;qe<et.length;qe++)ke[qe].push(et[qe]);ee.push(H.dataGroupInfo)}De=Le;for(let et=0;et<Be;et++)Q[et].length=0,Q[et].hasNulls=!1;if(Re+=1,Le===te)break}if(Le===te)break;if(Z){let et,qe=_e?Le:H.cropStart+Le,zt=Y&&Y[qe]||H.pointClass.prototype.applyOptions.apply({series:H},[ne[qe]]);for(let it=0;it<le;it++)bi(et=zt[Z[it]])?Q[it].push(et):et===null&&(Q[it].hasNulls=!0)}else bi(Te=V?W[Le]:null)?Q[0].push(Te):Te===null&&(Q[0].hasNulls=!0)}let Xe={x:se};return(Z||["y"]).forEach((Le,et)=>{Xe[Le]=ke[et]}),oe.setColumns(Xe),{groupMap:ee,modified:oe}}function qh(K){let k=K.options,N=this.type,P=this.chart.options.plotOptions,W=this.useCommonDataGrouping&&ro.common,H=ro.seriesSpecific,Y=ie().defaultOptions.plotOptions[N].dataGrouping;if(P&&(H[N]||W)){let ne=this.chart.rangeSelector;Y||(Y=wi(ro.common,H[N])),k.dataGrouping=wi(W,Y,P.series&&P.series.dataGrouping,P[N].dataGrouping,this.userOptions.dataGrouping,!k.isInternal&&ne&&bi(ne.selected)&&ne.buttonOptions[ne.selected].dataGrouping)}}let Kh={compose:function(K){let k=K.prototype;k.applyGrouping||(wl(K.prototype.pointClass,"update",function(){if(this.dataGroup)return Hh(24,!1,this.series.chart),!1}),wl(K,"afterSetOptions",qh),wl(K,"destroy",Xh),Gh(k,{applyGrouping:Vh,destroyGroupedData:Xh,generatePoints:Qm,getDGApproximation:kl,groupData:Yh}))},groupData:Yh},{format:Jm}=qs(),{composed:Zh}=ie(),{addEvent:ev,extend:tv,isNumber:rv,pick:io,pushUnique:Qh}=ie();function iv(K){var ue;let k=this.chart,N=k.time,P=K.point,W=P.series,H=W.options,Y=W.tooltipOptions,ne=H.dataGrouping,se=W.xAxis,oe=Y.xDateFormat||"",ee,te,V,Q,Z,le=Y[K.isFooter?"footerFormat":"headerFormat"];if(se&&se.options.type==="datetime"&&ne&&rv(P.key)){te=W.currentDataGrouping,V=ne.dateTimeLabelFormats||ro.common.dateTimeLabelFormats,te?(Q=V[te.unitName],te.count===1?oe=Q[0]:(oe=Q[1],ee=Q[2])):!oe&&V&&se.dateTime&&(oe=se.dateTime.getXDateFormat(P.x,Y.dateTimeLabelFormats));let ke=io((ue=W.groupMap)==null?void 0:ue[P.index].groupStart,P.key),_e=ke+((te==null?void 0:te.totalRange)||0)-1;Z=N.dateFormat(oe,ke),ee&&(Z+=N.dateFormat(ee,_e)),W.chart.styledMode&&(le=this.styledModeFormat(le)),K.text=Jm(le,{point:tv(P,{key:Z}),series:W},k),K.preventDefault()}}let nv={compose:function(K,k,N){Gm.compose(K),Kh.compose(k),N&&Qh(Zh,"DataGrouping")&&ev(N,"headerFormatter",iv)},groupData:Kh.groupData},Di=ie();Di.dataGrouping=Di.dataGrouping||{},Di.dataGrouping.approximationDefaults=Di.dataGrouping.approximationDefaults||oa,Di.dataGrouping.approximations=Di.dataGrouping.approximations||ei,nv.compose(Di.Axis,Di.Series,Di.Tooltip);let{defined:sv,isNumber:Jh,pick:ov}=ie(),{addEvent:ef,isObject:pd,pick:av,defined:no,merge:lv}=ie(),{getAssignedAxis:Sl}={getAssignedAxis:function(K){return K.filter(k=>{let N=k.axis.getExtremes(),P=N.min,W=N.max,H=ov(k.axis.minPointOffset,0);return Jh(P)&&Jh(W)&&k.value>=P-H&&k.value<=W+H&&!k.axis.options.isInternal})[0]}},tf=[],gd={enabled:!0,sensitivity:1.1},rf=K=>(pd(K)||(K={enabled:K??!0}),lv(gd,K)),cv=function(K,k,N,P,W,H,Y){let ne=av(Y.type,K.zooming.type,""),se=[];ne==="x"?se=N:ne==="y"?se=P:ne==="xy"&&(se=K.axes);let oe=K.transform({axes:se,to:{x:W-5,y:H-5,width:10,height:10},from:{x:W-5*k,y:H-5*k,width:10*k,height:10*k},trigger:"mousewheel"});return oe&&(no(T)&&clearTimeout(T),T=setTimeout(()=>{var ee;(ee=K.pointer)==null||ee.drop()},400)),oe};function dv(){let K=rf(this.zooming.mouseWheel);K.enabled&&ef(this.container,"wheel",k=>{var W,H;k=((W=this.pointer)==null?void 0:W.normalize(k))||k;let{pointer:N}=this,P=N&&!N.inClass(k.target,"highcharts-no-mousewheel");if(this.isInsidePlot(k.chartX-this.plotLeft,k.chartY-this.plotTop)&&P){let Y=K.sensitivity||1.1,ne=k.detail||(k.deltaY||0)/120,se=Sl(N.getCoordinates(k).xAxis),oe=Sl(N.getCoordinates(k).yAxis);cv(this,Math.pow(Y,ne),se?[se.axis]:this.xAxis,oe?[oe.axis]:this.yAxis,k.chartX,k.chartY,K)&&((H=k.preventDefault)==null||H.call(k))}})}/**
* @license Highcharts JS v12.4.0 (2025-09-04)
* @module highcharts/modules/mouse-wheel-zoom
* @requires highcharts
*
* Mousewheel zoom module
*
* (c) 2023 Askel Eirik Johansson
*
* License: www.highcharts.com/license
*/let _l=ie();_l.MouseWheelZoom=_l.MouseWheelZoom||{compose:function(K){tf.indexOf(K)===-1&&(tf.push(K),ef(K,"afterGetContainer",dv))}},_l.MouseWheelZoom.compose(_l.Chart);let Mt=ie();Mt.Navigator=Mt.Navigator||us,Mt.OrdinalAxis=Mt.OrdinalAxis||Zc,Mt.RangeSelector=Mt.RangeSelector||fs,Mt.Scrollbar=Mt.Scrollbar||zn,Mt.stockChart=Mt.stockChart||Vn.stockChart,Mt.StockChart=Mt.StockChart||Mt.stockChart,Mt.extend(Mt.StockChart,Vn),st.compose(Mt.Series,Mt.Axis,Mt.Point),ms.compose(Mt.Renderer),sn.compose(Mt.Series),Mt.Navigator.compose(Mt.Chart,Mt.Axis,Mt.Series),Mt.OrdinalAxis.compose(Mt.Axis,Mt.Series,Mt.Chart),Mt.RangeSelector.compose(Mt.Axis,Mt.Chart),Mt.Scrollbar.compose(Mt.Axis),Mt.StockChart.compose(Mt.Chart,Mt.Axis,Mt.Series,Mt.SVGRenderer);let uv=ie();return Fe.default})())})(cj);var Lz=cj.exports;const _S=Tu(Lz);try{const e=_S.default||_S;typeof window<"u"&&typeof e=="function"&&e(lj)}catch(e){console.error("Failed to initialize Highcharts Stock module:",e)}function Iz({data:e,onMatchClick:t}){const r=M.useMemo(()=>{const n=[];let s=1500;return e.forEach((a,c)=>{let p=s;const v=a.rating,b=Math.max(p,v)+5,S=Math.min(p,v)-5;a.isReset?n.push({x:c,open:p,high:b,low:S,close:v,color:"#6b7280",lineColor:"#4b5563",upColor:"#6b7280",upLineColor:"#4b5563"}):n.push([c,p,b,S,v]),s=v}),{chart:{type:"candlestick",backgroundColor:"transparent",height:350,spacingBottom:15,spacingTop:10,style:{fontFamily:"Lato, sans-serif"}},credits:{enabled:!1},exporting:{enabled:!0},navigator:{enabled:!1},scrollbar:{enabled:!1},rangeSelector:{enabled:!1},title:null,subtitle:null,xAxis:{type:"linear",title:{text:"Match #",style:{fontSize:"11px",color:"#9ca3af",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"}},labels:{style:{color:"#6b7280",fontSize:"10px"},formatter:function(){return String(this.value+1)}},lineColor:"#374151",tickColor:"#374151",gridLineColor:"#1f2937",gridLineWidth:1,min:e.length>0?0:void 0,max:e.length>0?Math.max(0,e.length-1):void 0,plotLines:[],accessibility:{rangeDescription:"Range: Match 1 to "+e.length}},yAxis:{title:{text:"Rating",style:{fontSize:"11px",color:"#9ca3af",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"}},labels:{style:{color:"#6b7280",fontSize:"10px"}},gridLineColor:"#1f2937",gridLineWidth:1,lineColor:"#374151",opposite:!1,accessibility:{description:"Rating value"}},legend:{enabled:!1},plotOptions:{candlestick:{color:"#ef4444",upColor:"#22c55e",lineColor:"#ef4444",upLineColor:"#22c55e",dataLabels:{enabled:!1}},series:{cursor:"pointer",point:{events:{click:function(){const a=e[this.x];t&&a&&!a.isReset&&t(a.matchId)}}}}},tooltip:{shared:!0,useHTML:!0,backgroundColor:"rgba(15, 20, 30, 0.95)",borderColor:"rgba(234, 179, 8, 0.5)",borderRadius:8,borderWidth:1,shadow:{color:"rgba(0, 0, 0, 0.5)",offsetX:0,offsetY:4,opacity:.5,width:10},style:{color:"#e5e7eb",fontFamily:"Lato, sans-serif"},formatter:function(){var S,E;if(!this.points||this.points.length===0)return"";const a=e[this.x];if(!a)return"";if(a.isReset){let A=1500;for(let U=this.x-1;U>=0;U--)if(e[U]&&!((S=e[U])!=null&&S.isReset)){A=((E=e[U])==null?void 0:E.rating)||1500;break}const z=A-a.rating;return`<div class="p-2 min-w-[200px]">
              <div style="font-family: 'Cinzel', serif; font-weight: bold; color: #9ca3af; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid #4b5563; padding-bottom: 4px; margin-bottom: 4px;"> Season Reset</div>
              <div style="font-size: 12px; color: #d1d5db;">
                <div style="display: flex; justify-content: space-between;"><span>Previous Rating:</span> <b>${A.toFixed(0)}</b></div>
                <div style="display: flex; justify-content: space-between;"><span>Reset to:</span> <b>${a.rating.toFixed(0)}</b></div>
                ${z>0?`<div style="color: #ef4444; font-weight: bold; margin-top: 4px;">Rating Drop: -${z.toFixed(0)}</div>`:""}
                <div style="margin-top: 6px; font-size: 10px; color: #9ca3af; font-style: italic;">New season begins at 1500</div>
              </div>
            </div>`}const c=a.change>=0?"#22c55e":"#ef4444",p=a.change>=0?"+":"",v=a.won?"VICTORY":"DEFEAT",b=a.won?"#22c55e":"#ef4444";return`<div class="p-2 min-w-[200px]">
            <div style="font-family: 'Cinzel', serif; font-weight: bold; color: ${b}; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid ${b}40; padding-bottom: 4px; margin-bottom: 4px;">${v}</div>
            <div style="font-size: 12px; color: #d1d5db;">
              <div style="margin-bottom: 4px;">vs <span style="font-weight: bold; color: #fff;">${a.opponentName}</span></div>
              <div style="display: flex; justify-content: space-between;"><span>Rating:</span> <b>${a.rating.toFixed(0)}</b></div>
              <div style="display: flex; justify-content: space-between; color: ${c};"><span>Change:</span> <b>${p}${a.change.toFixed(1)}</b></div>
              ${a.eventTitle?`<div style="margin-top: 6px; font-size: 10px; color: #ca8a04; border-top: 1px solid #ca8a0440; padding-top: 4px;">${a.eventTitle}</div>`:""}
            </div>
          </div>`}},series:[{name:"Rating Progress",data:n,type:"candlestick"}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:280},xAxis:{labels:{enabled:!1}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"}}}]}}},[e,t]);return h.jsx("div",{className:"w-full overflow-hidden",children:h.jsx(Oz,{highcharts:lj,options:r,constructorType:"chart"})})}const Ud=20;function CS(e,t=0){return e.toLocaleString(void 0,{maximumFractionDigits:t,minimumFractionDigits:t})}function Dz(){const{id:e}=KC(),t=e?parseInt(e):NaN,[r,n]=M.useState(1),{openMatch:s}=Gb(),[a,c]=M.useState([]),{players:p,loading:v}=bg(),[b,S]=M.useState([]),[E,A]=M.useState(!0),[z,U]=M.useState([]),[D,R]=M.useState([]),[I,T]=M.useState(null);M.useEffect(()=>{let be=!0;return(async()=>{const ve=await $u();be&&U(ve)})(),()=>{be=!1}},[]),M.useEffect(()=>{let be=!0;return(async()=>{const ve=await $c();be&&R(ve)})(),()=>{be=!1}},[]),M.useEffect(()=>{let be=!0;return(async()=>{A(!0);const ve=await C5();be&&(S(ve),A(!1))})(),()=>{be=!1}},[]),M.useEffect(()=>{if(isNaN(t))return;let be=!0;return(async()=>{const ve=await Ve.from("rating_events").select("*").eq("player_id",t).eq("event_type","match").not("match_id","is",null).order("id",{ascending:!0});be&&!ve.error&&ve.data&&c(ve.data)})(),()=>{be=!1}},[t,b]);const O=M.useMemo(()=>isNaN(t)?void 0:p.find(be=>be.id===t),[p,t]);fn(O?`Player - ${O.name}`:"Player");const q=M.useMemo(()=>O?[...p].sort((ve,je)=>(je.rating??0)-(ve.rating??0)).findIndex(ve=>ve.id===O.id)+1:null,[p,O]),ae=M.useMemo(()=>isNaN(t)?[]:b.filter(ve=>ve.player1_id===t||ve.player2_id===t).sort((ve,je)=>je.id-ve.id),[b,t]),re=M.useMemo(()=>I===null?ae:ae.filter(be=>be.season_id===I),[ae,I]),ce=M.useMemo(()=>{let be=0,ve=0;const je=[];for(const Ye of ae){if(!Ye.winner_id)continue;const ie=Ye.winner_id===t,ge=Ye.player1_id===t,he=ge?Ye.player2_id:Ye.player1_id,Me=p.find(Ze=>Ze.id===he),$e=ge?Ye.player1_score:Ye.player2_score,Ie=ge?Ye.player2_score:Ye.player1_score,Ee=ge?Ye.rating_change_p1:Ye.rating_change_p2;ie?(be++,je.length<10&&je.push({result:"W",matchId:Ye.id,opponentName:(Me==null?void 0:Me.name)||"Unknown",score:`${$e??"?"}-${Ie??"?"}`,ratingChange:Ee??null})):(ve++,je.length<10&&je.push({result:"L",matchId:Ye.id,opponentName:(Me==null?void 0:Me.name)||"Unknown",score:`${$e??"?"}-${Ie??"?"}`,ratingChange:Ee??null}))}const Fe=be+ve>0?be/(be+ve)*100:0;return{w:be,l:ve,winRate:Fe,recentForm:je}},[ae,t,p]),J=M.useMemo(()=>{if(!O)return[];if(a.length>0){const ie=a.filter(Ie=>Ie.match_id).map(Ie=>{let Ee="Unknown";if(Ie.opponent_id){const Ze=p.find(ot=>ot.id===Ie.opponent_id);Ee=(Ze==null?void 0:Ze.name)||`Player ${Ie.opponent_id}`}return{eventId:Ie.id,rating:Ie.rating,change:Ie.rating_change||0,won:Ie.result===1,matchId:Ie.match_id||0,opponentName:Ee,eventTitle:null,isReset:!1,seasonId:Ie.season_id}}),ge=new Map;for(const Ie of ie){const Ee=Ie.matchId?ge.get(Ie.matchId):void 0;(!Ee||Ee&&Ie.eventId>Ee.eventId)&&Ie.matchId&&ge.set(Ie.matchId,Ie)}let he=Array.from(ge.values());he.sort((Ie,Ee)=>Ie.eventId-Ee.eventId);const Me=he.length;if(he=he.slice(-Me),he.length===0)return[];const $e=[];for(let Ie=0;Ie<he.length;Ie++){const Ee=he[Ie],Ze=Ie>0?he[Ie-1]:null;Ze&&Ze.seasonId!==Ee.seasonId&&$e.push({matchNum:$e.length+1,rating:1500,change:0,won:!1,matchId:0,opponentName:"Season Reset",eventTitle:null,isReset:!0}),$e.push({matchNum:$e.length+1,rating:Ee.rating,change:Ee.change,won:Ee.won,matchId:Ee.matchId,opponentName:Ee.opponentName,eventTitle:Ee.eventTitle,isReset:!1})}return $e}const be=ae.length;let ve=[...ae].slice(0,be).reverse();if(ve.length===0)return[];let je=O.rating??1500;for(const ie of ve){if(!ie.winner_id)continue;const ge=ie.player1_id===t?ie.rating_change_p1||0:ie.rating_change_p2||0;je-=ge}const Fe=[];let Ye=je;return ve.forEach((ie,ge)=>{if(!ie.winner_id)return;const he=ie.player1_id===t?ie.rating_change_p1||0:ie.rating_change_p2||0,Me=ie.winner_id===t,$e=ie.player1_id===t?ie.player2_id:ie.player1_id,Ie=p.find(Ze=>Ze.id===$e),Ee=ie.event_id?z.find(Ze=>Ze.id===ie.event_id):null;Ye+=he,Fe.push({matchNum:ge+1,rating:Ye,change:he,won:Me,matchId:ie.id,opponentName:(Ie==null?void 0:Ie.name)||`Player ${$e}`,eventTitle:(Ee==null?void 0:Ee.title)||null,isReset:!1})}),Fe},[ae,t,O,p,z,a]),we=Math.ceil(re.length/Ud),Se=M.useMemo(()=>{const be=(r-1)*Ud,ve=be+Ud;return re.slice(be,ve)},[re,r]);return M.useEffect(()=>{n(1)},[I]),h.jsxs("section",{className:"space-y-8",children:[h.jsx("div",{className:"flex items-center justify-between border-b border-primary/30 pb-4",children:h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs(Mr,{className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center gap-1 font-heading uppercase tracking-wider",to:"/players",children:[h.jsx("span",{children:""})," Back to Roster"]})})}),v&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),!O&&!v&&h.jsx("div",{className:"text-center py-12 text-muted-foreground font-heading text-xl",children:"Player not found."}),O&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-primary/50 bg-card/80 backdrop-blur-md shadow-[0_0_20px_rgba(0,0,0,0.5)]",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:h.jsx(UE,{size:200})}),h.jsx("div",{className:"absolute top-0 left-0 w-2 h-full bg-primary/60"}),h.jsxs("div",{className:"p-6 md:p-8 flex flex-col md:flex-row gap-8 items-center md:items-start relative z-10",children:[h.jsxs("div",{className:"shrink-0 relative group",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/30 rounded-full blur-xl opacity-50 group-hover:opacity-80 transition-opacity"}),h.jsx(Rs,{name:O.name,twitter:O.twitter,size:128,className:"h-32 w-32 md:h-40 md:w-40 border-4 border-primary/50 shadow-2xl relative z-10"})]}),h.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-black text-primary drop-shadow-[0_0_10px_rgba(234,179,8,0.5)] tracking-wide uppercase",children:O.name}),O.twitter&&h.jsxs("a",{href:`https://twitter.com/${O.twitter.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-lg text-muted-foreground hover:text-primary transition-colors font-body inline-flex items-center gap-1",children:["@",O.twitter.replace("@","")]})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 pt-4 border-t border-border/30",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Rating"}),h.jsx("div",{className:"text-3xl font-bold text-foreground",children:CS(O.rating??0,0)})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Rank"}),h.jsxs("div",{className:"text-3xl font-bold text-foreground",children:["#",q,q&&q<=10&&h.jsx("span",{className:"ml-2 text-xs align-top bg-yellow-500/20 text-yellow-500 border border-yellow-500/30 px-1.5 py-0.5 rounded font-heading",children:"Top 10"})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Win Rate"}),h.jsxs("div",{className:"text-3xl font-bold text-foreground",children:[ce.winRate.toFixed(1),"%",h.jsxs("span",{className:"text-sm font-normal text-muted-foreground ml-1",children:["(",ce.w,"W - ",ce.l,"L)"]})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Peak"}),h.jsx("div",{className:"text-3xl font-bold text-foreground",children:CS(O.peak_rating??0,0)})]})]})]})]}),h.jsx("div",{className:"px-6 pb-6 md:px-8 md:pb-8 relative z-10",children:h.jsx("div",{className:"border-t border-border/30 pt-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Badges"})}),h.jsx("div",{className:"flex items-center justify-center py-8 bg-background/40 rounded-lg border border-border/50",children:h.jsx("span",{className:"text-sm text-muted-foreground italic",children:"No badges earned yet."})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"text-xs font-heading uppercase tracking-widest text-muted-foreground",children:"Recent Form"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Last 10 matches"})]}),ce.recentForm.length===0?h.jsx("div",{className:"flex items-center justify-center py-8 bg-background/40 rounded-lg border border-border/50",children:h.jsx("span",{className:"text-sm text-muted-foreground italic",children:"No recent matches recorded."})}):h.jsx("div",{className:"flex gap-1.5 flex-1",children:ce.recentForm.map((be,ve)=>h.jsxs("div",{className:"relative group flex-1",children:[h.jsx("button",{onClick:()=>s(be.matchId),className:`w-full aspect-square rounded border-2 flex items-center justify-center font-bold shadow-md transition-all hover:scale-110 hover:shadow-lg cursor-pointer ${be.result==="W"?"bg-green-500/20 border-green-500/60 text-green-400 hover:bg-green-500/30":"bg-red-500/20 border-red-500/60 text-red-400 hover:bg-red-500/30"}`,children:h.jsx("div",{className:"text-base font-bold",children:be.result})}),h.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-popover border border-border rounded-lg shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 whitespace-nowrap",children:[h.jsx("div",{className:"text-xs font-heading font-bold text-foreground",children:be.opponentName}),h.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:["Score: ",h.jsx("span",{className:"font-bold text-foreground",children:be.score})]}),be.ratingChange!==null&&h.jsxs("div",{className:`text-xs font-bold mt-0.5 ${be.ratingChange>=0?"text-green-400":"text-red-400"}`,children:[be.ratingChange>=0?"+":"",Math.round(be.ratingChange)]}),h.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-border"})]})]},ve))})]})]})})})]}),J.length>0&&h.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-primary/30 bg-card/80 backdrop-blur-md shadow-lg",children:[h.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary/60"}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"p-2 rounded-lg bg-primary/10 border border-primary/30",children:h.jsx(s3,{size:20,className:"text-primary"})}),h.jsx("h3",{className:"font-heading uppercase tracking-wider text-lg text-foreground",children:"Rating History"})]}),h.jsx(Iz,{data:J,onMatchClick:s})]})]}),h.jsxs(pr,{className:"bg-card/50 backdrop-blur-sm border-border/50",children:[h.jsx(qr,{className:"border-b border-border/30 pb-4",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[h.jsxs(Kr,{className:"font-heading uppercase tracking-wider text-lg flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),"Battle Log"]}),h.jsx("div",{className:"w-full md:w-64",children:h.jsx(Cs,{value:I===null?"all":String(I),onValueChange:be=>{T(be==="all"?null:parseInt(be,10))},placeholder:"Select season...",searchPlaceholder:"Search seasons...",options:[{value:"all",label:"All seasons"},...D.filter(be=>be.status==="active").map(be=>({value:String(be.id),label:`${be.name} (Active)`})),...D.filter(be=>be.status==="archived").sort((be,ve)=>be.id-ve.id).map(be=>({value:String(be.id),label:`${be.name} (Archived)`}))]})})]})}),h.jsxs(xr,{className:"p-0",children:[h.jsx("div",{className:"divide-y divide-border/30",children:Se.map(be=>{const ve=be.player1_id===t?be.player2_id:be.player1_id,je=p.find(Me=>Me.id===ve),Fe=be.winner_id===t,Ye=be.player1_id===t?be.rating_change_p1:be.rating_change_p2,ie=be.event_id?z.find(Me=>Me.id===be.event_id):null,ge=be.player1_id===t?be.player1_score??"?":be.player2_score??"?",he=be.player1_id===t?be.player2_score??"?":be.player1_score??"?";return h.jsxs("div",{className:"p-4 hover:bg-muted/20 transition-colors group",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:`text-xs font-bold uppercase px-1.5 py-0.5 rounded border ${Fe?"bg-green-500/10 text-green-500 border-green-500/30":"bg-red-500/10 text-red-500 border-red-500/30"}`,children:Fe?"Victory":"Defeat"}),h.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:ie?ie.title:"Match #"+be.id})]}),h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[je?h.jsx(Mr,{to:`/players/${ve}`,className:"shrink-0 relative",children:h.jsx(Rs,{name:je.name,twitter:je.twitter,size:40,className:"h-10 w-10 border border-border group-hover:border-primary transition-colors"})}):h.jsx("div",{className:"h-10 w-10 bg-muted rounded-full"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"VS"}),je?h.jsx(Mr,{to:`/players/${ve}`,className:"font-heading font-bold text-sm truncate hover:text-primary block",children:je.name}):h.jsx("span",{className:"text-sm text-muted-foreground",children:"Unknown"})]})]}),h.jsxs("div",{className:"text-right shrink-0",children:[h.jsxs("div",{className:"font-heading font-black text-xl",children:[h.jsx("span",{className:Fe?"text-green-500":"text-muted-foreground",children:ge}),h.jsx("span",{className:"text-muted-foreground mx-1",children:"-"}),h.jsx("span",{className:Fe?"text-muted-foreground":"text-green-500",children:he})]}),h.jsx("div",{className:"text-xs font-bold",children:Ye!=null?h.jsxs("span",{className:Ye>=0?"text-green-500":"text-red-500",children:[Ye>0?"+":"",Ye.toFixed(1)]}):h.jsx("span",{className:"text-muted-foreground",children:"-"})})]})]}),h.jsx("button",{onClick:()=>s(be.id),className:"w-full mt-3 text-xs text-center py-1.5 border border-border/50 rounded hover:bg-primary/10 hover:text-primary hover:border-primary/50 transition-colors uppercase tracking-wider font-bold opacity-0 group-hover:opacity-100",children:"View Details"})]},be.id)})}),re.length>Ud&&h.jsx("div",{className:"p-4 border-t border-border/30",children:h.jsx(pb,{currentPage:r,totalPages:we,onPageChange:n,itemsPerPage:Ud,totalItems:re.length})})]})]})]})]})}const dj=M.createContext(void 0);function Bz({children:e}){const[t,r]=M.useState(null),[n,s]=M.useState(!0),[a,c]=M.useState(!1);M.useEffect(()=>{let v=!0;(async()=>{var E;const{data:S}=await Ve.auth.getSession();if(v){if(r(S.session),(E=S.session)!=null&&E.user){const A=S.session.user.app_metadata;v&&c((A==null?void 0:A.role)==="admin")}else c(!1);s(!1)}})();const{data:b}=Ve.auth.onAuthStateChange(async(S,E)=>{if(r(E),E!=null&&E.user){const A=E.user.app_metadata;c((A==null?void 0:A.role)==="admin")}else c(!1);E&&window.location.hash.includes("access_token")&&(window.location.hash="#/")});return()=>{v=!1,b.subscription.unsubscribe()}},[]);const p=M.useMemo(()=>({session:t,loading:n,isAdmin:a,async signInWithGithub(){await Ve.auth.signInWithOAuth({provider:"github",options:{redirectTo:"https://ofc.horseface.no/",skipBrowserRedirect:!1}})},async signInWithTwitter(){await Ve.auth.signInWithOAuth({provider:"twitter",options:{redirectTo:"https://ofc.horseface.no/",skipBrowserRedirect:!1}})},async signOut(){await Ve.auth.signOut()}}),[t,n,a]);return h.jsx(dj.Provider,{value:p,children:e})}function Vb(){const e=M.useContext(dj);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}var uj={exports:{}},hj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=M;function $z(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zz=typeof Object.is=="function"?Object.is:$z,Fz=Ec.useState,Wz=Ec.useEffect,Uz=Ec.useLayoutEffect,Hz=Ec.useDebugValue;function Gz(e,t){var r=t(),n=Fz({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return Uz(function(){s.value=r,s.getSnapshot=t,Wx(s)&&a({inst:s})},[e,r,t]),Wz(function(){return Wx(s)&&a({inst:s}),e(function(){Wx(s)&&a({inst:s})})},[e]),Hz(r),r}function Wx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zz(e,r)}catch{return!0}}function Vz(e,t){return t()}var Xz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vz:Gz;hj.useSyncExternalStore=Ec.useSyncExternalStore!==void 0?Ec.useSyncExternalStore:Xz;uj.exports=hj;var Yz=uj.exports;function qz(){return Yz.useSyncExternalStore(Kz,()=>!0,()=>!1)}function Kz(){return()=>{}}var Xb="Avatar",[Zz]=Vo(Xb),[Qz,fj]=Zz(Xb),pj=M.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=M.useState("idle");return h.jsx(Qz,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:h.jsx(yt.span,{...n,ref:t})})});pj.displayName=Xb;var gj="AvatarImage",mj=M.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,c=fj(gj,r),p=Jz(n,a),v=Ls(b=>{s(b),c.onImageLoadingStatusChange(b)});return Ir(()=>{p!=="idle"&&v(p)},[p,v]),p==="loaded"?h.jsx(yt.img,{...a,ref:t,src:n}):null});mj.displayName=gj;var vj="AvatarFallback",xj=M.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=fj(vj,r),[c,p]=M.useState(n===void 0);return M.useEffect(()=>{if(n!==void 0){const v=window.setTimeout(()=>p(!0),n);return()=>window.clearTimeout(v)}},[n]),c&&a.imageLoadingStatus!=="loaded"?h.jsx(yt.span,{...s,ref:t}):null});xj.displayName=vj;function ES(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Jz(e,{referrerPolicy:t,crossOrigin:r}){const n=qz(),s=M.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[c,p]=M.useState(()=>ES(a,e));return Ir(()=>{p(ES(a,e))},[a,e]),Ir(()=>{const v=E=>()=>{p(E)};if(!a)return;const b=v("loaded"),S=v("error");return a.addEventListener("load",b),a.addEventListener("error",S),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",b),a.removeEventListener("error",S)}},[a,r,t]),c}var yj=pj,bj=mj,wj=xj;const kj=M.forwardRef(({className:e,...t},r)=>h.jsx(yj,{ref:r,className:gt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));kj.displayName=yj.displayName;const Sj=M.forwardRef(({className:e,lazy:t=!0,twitterHandle:r,onError:n,...s},a)=>{const[c,p]=M.useState(!1),v=b=>{r&&VL(r),n==null||n(b)};return h.jsx(bj,{ref:a,className:gt("aspect-square h-full w-full transition-opacity duration-300",c?"opacity-100":"opacity-0",e),loading:t?"lazy":"eager",onLoad:()=>p(!0),onError:v,...s})});Sj.displayName=bj.displayName;const _j=M.forwardRef(({className:e,...t},r)=>h.jsx(wj,{ref:r,className:gt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));_j.displayName=wj.displayName;function eF(){var T,O,q,ae,re;fn("Login");const{signInWithGithub:e,signInWithTwitter:t,signOut:r,session:n}=Vb(),[s,a]=M.useState(!1),[c,p]=M.useState(""),[v,b]=M.useState(""),[S,E]=M.useState(!1),[A,z]=M.useState(null),U=async ce=>{ce.preventDefault(),E(!0),z(null);const{error:J}=await Ve.auth.signInWithPassword({email:c,password:v});J&&z(J.message),E(!1)},D=(O=(T=n==null?void 0:n.user)==null?void 0:T.user_metadata)==null?void 0:O.avatar_url,R=(ae=(q=n==null?void 0:n.user)==null?void 0:q.user_metadata)==null?void 0:ae.full_name,I=((re=n==null?void 0:n.user)==null?void 0:re.email)??void 0;return h.jsx("section",{className:"mx-auto max-w-md p-4 pt-20",children:h.jsxs(pr,{className:"bg-card/80 backdrop-blur-xl border-border/60 shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent"}),h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),h.jsxs(qr,{className:"text-center pb-2 relative z-10",children:[h.jsx(Kr,{className:"font-heading text-3xl font-bold tracking-wide text-primary drop-shadow-md",children:"Welcome Warrior"}),h.jsx(pi,{className:"font-body text-lg",children:"Sign in to continue your legend"})]}),h.jsx(xr,{className:"relative z-10 pt-6",children:n?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-background/50 border border-border/40",children:[h.jsxs(kj,{className:"h-16 w-16 border-2 border-primary shadow-[0_0_15px_rgba(var(--primary-rgb),0.3)]",children:[h.jsx(Sj,{src:D}),h.jsx(_j,{className:"font-heading font-bold text-xl bg-primary/20 text-primary",children:(R==null?void 0:R.slice(0,2).toUpperCase())||(I==null?void 0:I.slice(0,2).toUpperCase())||"U"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"font-heading font-bold text-xl leading-tight text-foreground",children:R||"Signed in"}),I&&h.jsx("p",{className:"text-sm font-mono text-muted-foreground",children:I})]})]}),h.jsx(_t,{variant:"secondary",onClick:r,className:"w-full font-heading uppercase tracking-wider font-bold hover:bg-destructive hover:text-destructive-foreground transition-colors",children:"Sign out"})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid gap-3",children:[h.jsxs(_t,{onClick:e,className:"w-full bg-[#24292e] hover:bg-[#24292e]/90 text-white font-bold border border-white/10 shadow-lg transition-all hover:scale-[1.02]",variant:"default",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"mr-2 h-5 w-5",children:h.jsx("path",{d:"M12 .5C5.73.5.9 5.33.9 11.6c0 4.87 3.16 9 7.54 10.45.55.1.76-.24.76-.53 0-.26-.01-1.1-.02-1.99-3.07.67-3.72-1.3-3.72-1.3-.5-1.28-1.22-1.62-1.22-1.62-.99-.67.08-.66.08-.66 1.1.08 1.67 1.13 1.67 1.13.98 1.67 2.58 1.19 3.21.91.1-.71.38-1.19.69-1.46-2.45-.28-5.02-1.23-5.02-5.47 0-1.21.43-2.2 1.13-2.98-.11-.28-.49-1.41.11-2.94 0 0 .92-.3 3.01 1.14A10.5 10.5 0 0 1 12 6.84c.93 0 1.86.13 2.73.38 2.09-1.44 3.01-1.14 3.01-1.14.6 1.53.22 2.66.11 2.94.7.78 1.13 1.77 1.13 2.98 0 4.25-2.58 5.19-5.04 5.46.39.34.73 1.01.73 2.03 0 1.46-.01 2.64-.01 3 0 .29.2.63.77.52A10.72 10.72 0 0 0 23.1 11.6C23.1 5.33 18.27.5 12 .5Z"})}),"Sign in with GitHub"]}),h.jsxs(_t,{onClick:t,className:"w-full bg-black hover:bg-black/80 text-white font-bold border border-white/10 shadow-lg transition-all hover:scale-[1.02]",variant:"outline",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"mr-2 h-4 w-4",children:h.jsx("path",{d:"M18.244 2H21l-6.356 7.27L22 22h-6.9l-4.8-6.263L4.7 22H2l6.78-7.757L2 2h7l4.3 5.7L18.244 2Zm-2.412 18h2.23L8.258 4H5.9l9.932 16Z"})}),"Sign in with X (Twitter)"]})]}),s?h.jsx("div",{className:"pt-4 border-t border-border/40 animate-in slide-in-from-top-2 fade-in duration-300",children:h.jsxs("form",{onSubmit:U,className:"space-y-4",children:[h.jsx("div",{className:"space-y-2",children:h.jsx(Zr,{type:"email",placeholder:"Email",value:c,onChange:ce=>p(ce.target.value),required:!0,disabled:S,className:"bg-background/50 border-primary/30 focus:ring-primary/50 font-body"})}),h.jsx("div",{className:"space-y-2",children:h.jsx(Zr,{type:"password",placeholder:"Password",value:v,onChange:ce=>b(ce.target.value),required:!0,disabled:S,className:"bg-background/50 border-primary/30 focus:ring-primary/50 font-body"})}),A&&h.jsx("p",{className:"text-xs font-bold text-destructive bg-destructive/10 p-2 rounded border border-destructive/20",children:A}),h.jsx(_t,{type:"submit",className:"w-full font-heading uppercase tracking-wider font-bold shadow-[0_0_15px_rgba(var(--primary-rgb),0.3)] hover:shadow-[0_0_25px_rgba(var(--primary-rgb),0.5)] transition-all",size:"sm",disabled:S,children:S?"Signing in...":"Sign in with Email"}),h.jsx("button",{type:"button",onClick:()=>a(!1),className:"w-full text-xs text-muted-foreground hover:text-primary transition-colors font-bold uppercase tracking-wider mt-2",children:"Cancel"})]})}):h.jsxs("div",{className:"relative pt-4",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t border-border/40"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("button",{onClick:()=>a(!0),className:"bg-background px-2 text-muted-foreground hover:text-primary transition-colors font-bold tracking-wider",children:"Or continue with email"})})]})]})})]})})}function tF(){return fn("Not Found"),h.jsx("div",{className:"container py-20 flex justify-center",children:h.jsxs("div",{className:"max-w-md w-full bg-card/80 backdrop-blur-xl border border-destructive/60 shadow-[0_0_50px_rgba(239,68,68,0.2)] rounded-lg p-8 text-center relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-destructive to-transparent"}),h.jsx("h2",{className:"text-4xl font-heading font-bold text-destructive mb-4",children:"404"}),h.jsx("p",{className:"text-xl font-heading font-bold text-foreground mb-2",children:"Page Not Found"}),h.jsx("p",{className:"text-muted-foreground font-body",children:"The stage you are looking for does not exist."}),h.jsx("div",{className:"mt-8",children:h.jsx("a",{href:"/",className:"inline-block px-6 py-2 bg-primary/10 border border-primary/50 text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 font-heading font-bold uppercase tracking-wider rounded-sm",children:"Return to Arena"})})]})})}async function Cj(e,t="Full recalculation",r){try{const{data:n,error:s}=await Ve.from("players").select("id, name").order("id");if(s)throw s;if(!n||n.length===0)throw new Error("No players found");let a=Ve.from("matches").select("id, player1_id, player2_id, winner_id, season_id").not("winner_id","is",null);r!==void 0&&(a=a.eq("season_id",r));const{data:c,error:p}=await a.order("id");if(p)throw p;if(!c||c.length===0){if(r!==void 0){const{error:I}=await Ve.from("rating_events").delete().eq("season_id",r);I&&console.warn("Failed to delete old rating events:",I)}const R=await MS(r);return R.success||console.warn("Failed to sync player ratings:",R.error),e==null||e({totalMatches:0,processedMatches:0,currentMatch:0,status:"complete"}),{success:!0,eventsCreated:0}}if(r!==void 0){const{error:R}=await Ve.from("rating_events").delete().eq("season_id",r);if(R)throw R}const v=await jj(n.map(R=>({id:R.id})),c.map(R=>({id:R.id,player1_id:R.player1_id,player2_id:R.player2_id,winner_id:R.winner_id})),c.length,R=>{const I=c[Math.min(R.processedMatches,c.length-1)];I&&(e==null||e({totalMatches:c.length,processedMatches:R.processedMatches,currentMatch:I.id,status:"running"}))}),b=new Map;c.forEach(R=>{b.set(R.id,R.season_id)});const S=v.map(R=>({...R,reason:null,season_id:b.get(R.match_id)||0})),E=50;for(let R=0;R<S.length;R+=E){const I=S.slice(R,R+E),{error:T}=await Ve.from("rating_events").insert(I);if(T)throw T;await new Promise(O=>setTimeout(O,100))}console.log(" Syncing player ratings from events...");const A=await MS(r);if(A.success?console.log(" Player ratings synced successfully"):console.warn("Failed to sync player ratings:",A.error),r===0){const R=new Set;if(c.forEach(I=>{R.add(I.player1_id),R.add(I.player2_id)}),R.size>0){const{error:I}=await Ve.from("players").update({has_played_this_season:!0}).in("id",Array.from(R));I?console.warn("Failed to mark players as having played:",I):console.log(` Marked ${R.size} players as active this season`)}}const z=new Map;S.forEach(R=>{if(!R.match_id)return;const I=z.get(R.match_id)||{},T=c.find(O=>O.id===R.match_id);T&&(R.player_id===T.player1_id?I.rating_change_p1=R.rating_change||0:R.player_id===T.player2_id&&(I.rating_change_p2=R.rating_change||0),z.set(R.match_id,I))});const U=Array.from(z.entries()).map(([R,I])=>({id:R,...I}));let D=0;for(let R=0;R<U.length;R++){const I=U[R];if(!I)continue;const{id:T,rating_change_p1:O,rating_change_p2:q}=I,ae={};if(O!==void 0&&(ae.rating_change_p1=O??null),q!==void 0&&(ae.rating_change_p2=q??null),Object.keys(ae).length===0)continue;const{error:re}=await Ve.from("matches").update(ae).eq("id",T);re?console.warn(` Failed to update match ${T}:`,re):D++,R%50===0&&(console.log(`   Updated ${D} / ${U.length} matches`),await new Promise(ce=>setTimeout(ce,25)))}return console.log(" Matches updated"),e==null||e({totalMatches:c.length,processedMatches:c.length,currentMatch:0,status:"complete"}),console.log(` Recalculation complete! Created ${S.length} match events`),{success:!0,eventsCreated:S.length}}catch(n){return console.error("Rating recalculation failed:",n),e==null||e({totalMatches:0,processedMatches:0,currentMatch:0,status:"error"}),{success:!1,error:n instanceof Error?n.message:String(n),eventsCreated:0}}}async function Ej(e){try{e==null||e("Updating ratings..."),console.log(" Clearing existing rating events...");const{error:t}=await Ve.from("rating_events").delete().eq("season_id",0);if(t)throw console.error("Failed to clear rating events:",t),new Error(`Failed to clear existing ratings: ${t.message}`);console.log(" Cleared all existing rating events"),await new Promise(n=>setTimeout(n,100));const r=await Cj(void 0,"Auto-update after match result",0);return r.success&&(e==null||e("Ratings updated successfully")),r}catch(t){return console.error("Failed to update ratings:",t),{success:!1}}}async function Yb(e){try{const{data:t,error:r}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id").eq("id",e).single();if(r||!t)return{canRollback:!1,reason:"Match not found"};if(!t.winner_id)return{canRollback:!1,reason:"Cannot rollback upcoming matches"};const{data:n,error:s}=await Ve.from("matches").select("id").gt("id",e).not("winner_id","is",null).or(`player1_id.eq.${t.player1_id},player2_id.eq.${t.player1_id}`).limit(1);if(s)return console.error("Error checking player1 matches:",s),{canRollback:!1,reason:"Error checking match history"};const a=n&&n.length>0,{data:c,error:p}=await Ve.from("matches").select("id").gt("id",e).not("winner_id","is",null).or(`player1_id.eq.${t.player2_id},player2_id.eq.${t.player2_id}`).limit(1);if(p)return console.error("Error checking player2 matches:",p),{canRollback:!1,reason:"Error checking match history"};const v=c&&c.length>0;if(a||v){let b="Cannot rollback: ";return a&&v?b+="both players have played matches afterwards":a?b+="player 1 has played matches afterwards":b+="player 2 has played matches afterwards",{canRollback:!1,reason:b,player1HasLaterMatches:a,player2HasLaterMatches:v}}return{canRollback:!0,player1HasLaterMatches:!1,player2HasLaterMatches:!1}}catch(t){return console.error("Error checking rollback eligibility:",t),{canRollback:!1,reason:t instanceof Error?t.message:"Unknown error"}}}async function Mj(e,t){try{t==null||t("Checking if match can be rolled back...");const r=await Yb(e);if(!r.canRollback)return{success:!1,error:r.reason||"Cannot rollback this match"};t==null||t("Removing rating events for match...");const{error:n}=await Ve.from("rating_events").delete().eq("match_id",e);if(n)throw console.error("Failed to delete rating events for match:",n),new Error(`Failed to delete rating events for match: ${n.message}`);t==null||t("Reverting match to upcoming...");const{error:s}=await Ve.from("matches").update({winner_id:null,player1_score:null,player2_score:null,rating_change_p1:null,rating_change_p2:null}).eq("id",e);if(s)throw console.error("Failed to revert match:",s),new Error(`Failed to revert match: ${s.message}`);console.log(` Reverted match ${e} to upcoming`),t==null||t("Recalculating ratings...");const a=await Ej(c=>{t==null||t(c)});return a.success?(t==null||t("Match rolled back successfully (match reverted to upcoming)"),{success:!0}):{success:!1,error:`Match deleted but rating update failed: ${a.error}`}}catch(r){return console.error("Failed to rollback match:",r),{success:!1,error:r instanceof Error?r.message:String(r)}}}async function jj(e,t,r,n){return new Promise((s,a)=>{const c=new Worker(new URL("/assets/ratingWorker-RzEzWG7K.js",import.meta.url),{type:"module"}),p=()=>{c.terminate()};c.onmessage=v=>{const b=v.data;if(b.type==="progress"){n==null||n(b),(b.processedMatches===0||b.processedMatches%50===0)&&console.log(`   Worker processed ${Math.min(b.processedMatches,r)} / ${r} matches`);return}if(b.type==="result"){p(),s(b.events);return}b.type==="error"&&(p(),a(new Error(b.error)))},c.onerror=v=>{p(),a(new Error(v.message||"Worker encountered an error"))},c.postMessage({players:e,matches:t})})}async function MS(e){try{const{data:t,error:r}=await Ve.from("players").select("id");if(r||!t)return{success:!1,error:`Failed to fetch players: ${r==null?void 0:r.message}`};const n=[];for(const a of t){let c=Ve.from("rating_events").select("rating, rd, volatility, created_at, event_type").eq("player_id",a.id);e!==void 0&&(c=c.eq("season_id",e));const{data:p,error:v}=await c.order("id",{ascending:!1});if(v){console.warn(`Failed to fetch events for player ${a.id}:`,v);continue}if(!p||p.length===0)continue;const b=p[0],S=p.filter(z=>z.event_type==="match").length,E=p.reduce((z,U)=>U.rating>((z==null?void 0:z.rating)||0)?U:z,null),A=p.find(z=>z.event_type==="match");n.push({id:a.id,rating:(b==null?void 0:b.rating)??null,rd:(b==null?void 0:b.rd)??null,volatility:(b==null?void 0:b.volatility)??null,matches_played:S,last_match_date:(A==null?void 0:A.created_at)??null,peak_rating:(E==null?void 0:E.rating)??null,peak_rating_date:(E==null?void 0:E.created_at)??null})}const s=20;for(let a=0;a<n.length;a+=s){const c=n.slice(a,a+s);for(const p of c){const{error:v}=await Ve.from("players").update({rating:p.rating,rd:p.rd,volatility:p.volatility,matches_played:p.matches_played,last_match_date:p.last_match_date,peak_rating:p.peak_rating,peak_rating_date:p.peak_rating_date}).eq("id",p.id);v&&console.warn(`Failed to update player ${p.id}:`,v)}await new Promise(p=>setTimeout(p,50))}return console.log(` Updated ${n.length} players from rating events`),{success:!0}}catch(t){return console.error("Failed to sync player ratings:",t),{success:!1,error:t instanceof Error?t.message:String(t)}}}async function Nj(e,t){return Ej(t)}async function rF(e,t){try{console.log(` Starting rating calculation for season ${e}...`),t==null||t({totalMatches:0,processedMatches:0,currentMatch:0,status:"running"});const{data:r,error:n}=await Ve.from("seasons").select("*").eq("id",e).single();if(n||!r)throw new Error(`Season ${e} not found`);console.log(` Found season: ${r.name}`),console.log(` Fetching matches for season ${e}...`);const{data:s,error:a}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id").eq("season_id",e).not("winner_id","is",null).order("id");if(a)throw a;if(!s||s.length===0)return console.log(" No completed matches found for this season"),{success:!0,eventsCreated:0};console.log(` Found ${s.length} matches`);const c=new Set;s.forEach(U=>{c.add(U.player1_id),c.add(U.player2_id),c.add(U.winner_id)});const{data:p,error:v}=await Ve.from("players").select("id").in("id",Array.from(c));if(v)throw v;if(!p||p.length===0)throw new Error("No players found for this season");console.log(` Processing ${p.length} players`);const{count:b}=await Ve.from("rating_events").select("*",{count:"exact",head:!0}).eq("season_id",e).eq("event_type","match");if((b||0)>0){console.log(` Found ${b} existing match events for this season - deleting them...`);const{error:U}=await Ve.from("rating_events").delete().eq("season_id",e).eq("event_type","match");if(U)throw U;console.log(" Deleted existing match events")}console.log(` Processing ${s.length} matches with worker...`);const E=(await jj(p.map(U=>({id:U.id})),s.map(U=>({id:U.id,player1_id:U.player1_id,player2_id:U.player2_id,winner_id:U.winner_id})),s.length,U=>{const D=s[Math.min(U.processedMatches,s.length-1)];D&&(t==null||t({totalMatches:s.length,processedMatches:U.processedMatches,currentMatch:D.id,status:"running"}))})).map(U=>({...U,season_id:e,reason:null}));console.log(` Worker produced ${E.length} match events`);const A=50;console.log(` Inserting ${E.length} events in batches...`);for(let U=0;U<E.length;U+=A){const D=E.slice(U,U+A),R=Math.floor(U/A)+1,I=Math.ceil(E.length/A),{error:T}=await Ve.from("rating_events").insert(D);if(T)throw T;await new Promise(O=>setTimeout(O,100))}console.log(" All match events inserted"),console.log(" Creating final snapshots...");const z=[];for(const U of p){const{data:D}=await Ve.from("rating_events").select("rating, rd, volatility").eq("player_id",U.id).eq("season_id",e).order("id",{ascending:!1}).limit(1).single();if(D){const R=s.filter(I=>(I.player1_id===U.id||I.player2_id===U.id)&&I.winner_id).length;z.push({season_id:e,player_id:U.id,final_rating:D.rating,final_rd:D.rd,final_volatility:D.volatility,matches_played_count:R,peak_rating:null,peak_rating_date:null,final_rank:null})}}if(z.length>0){z.sort((R,I)=>I.final_rating-R.final_rating);const{count:U}=await Ve.from("season_player_snapshots").select("*",{count:"exact",head:!0}).eq("season_id",e);if((U||0)>0){console.log(` Deleting ${U} existing snapshots...`);const{error:R}=await Ve.from("season_player_snapshots").delete().eq("season_id",e);if(R)throw R}const{error:D}=await Ve.from("season_player_snapshots").insert(z);if(D)throw D;console.log(` Created ${z.length} season snapshots`)}return t==null||t({totalMatches:s.length,processedMatches:s.length,currentMatch:0,status:"complete"}),console.log(` Season ${e} rating calculation complete! Created ${E.length} match events`),{success:!0,eventsCreated:E.length}}catch(r){return console.error(" Season rating calculation failed:",r),t==null||t({totalMatches:0,processedMatches:0,currentMatch:0,status:"error"}),{success:!1,error:r instanceof Error?r.message:String(r),eventsCreated:0}}}var Ux="rovingFocusGroup.onEntryFocus",iF={bubbles:!1,cancelable:!0},Xu="RovingFocusGroup",[f0,Tj,nF]=VE(Xu),[sF,Aj]=Vo(Xu,[nF]),[oF,aF]=sF(Xu),Pj=M.forwardRef((e,t)=>h.jsx(f0.Provider,{scope:e.__scopeRovingFocusGroup,children:h.jsx(f0.Slot,{scope:e.__scopeRovingFocusGroup,children:h.jsx(lF,{...e,ref:t})})}));Pj.displayName=Xu;var lF=M.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:v,onEntryFocus:b,preventScrollOnEntryFocus:S=!1,...E}=e,A=M.useRef(null),z=ir(t,A),U=Cb(a),[D,R]=Sc({prop:c,defaultProp:p??null,onChange:v,caller:Xu}),[I,T]=M.useState(!1),O=Ls(b),q=Tj(r),ae=M.useRef(!1),[re,ce]=M.useState(0);return M.useEffect(()=>{const J=A.current;if(J)return J.addEventListener(Ux,O),()=>J.removeEventListener(Ux,O)},[O]),h.jsx(oF,{scope:r,orientation:n,dir:U,loop:s,currentTabStopId:D,onItemFocus:M.useCallback(J=>R(J),[R]),onItemShiftTab:M.useCallback(()=>T(!0),[]),onFocusableItemAdd:M.useCallback(()=>ce(J=>J+1),[]),onFocusableItemRemove:M.useCallback(()=>ce(J=>J-1),[]),children:h.jsx(yt.div,{tabIndex:I||re===0?-1:0,"data-orientation":n,...E,ref:z,style:{outline:"none",...e.style},onMouseDown:Nt(e.onMouseDown,()=>{ae.current=!0}),onFocus:Nt(e.onFocus,J=>{const we=!ae.current;if(J.target===J.currentTarget&&we&&!I){const Se=new CustomEvent(Ux,iF);if(J.currentTarget.dispatchEvent(Se),!Se.defaultPrevented){const be=q().filter(ie=>ie.focusable),ve=be.find(ie=>ie.active),je=be.find(ie=>ie.id===D),Ye=[ve,je,...be].filter(Boolean).map(ie=>ie.ref.current);Lj(Ye,S)}}ae.current=!1}),onBlur:Nt(e.onBlur,()=>T(!1))})})}),Oj="RovingFocusGroupItem",Rj=M.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:c,...p}=e,v=mi(),b=a||v,S=aF(Oj,r),E=S.currentTabStopId===b,A=Tj(r),{onFocusableItemAdd:z,onFocusableItemRemove:U,currentTabStopId:D}=S;return M.useEffect(()=>{if(n)return z(),()=>U()},[n,z,U]),h.jsx(f0.ItemSlot,{scope:r,id:b,focusable:n,active:s,children:h.jsx(yt.span,{tabIndex:E?0:-1,"data-orientation":S.orientation,...p,ref:t,onMouseDown:Nt(e.onMouseDown,R=>{n?S.onItemFocus(b):R.preventDefault()}),onFocus:Nt(e.onFocus,()=>S.onItemFocus(b)),onKeyDown:Nt(e.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){S.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const I=uF(R,S.orientation,S.dir);if(I!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let O=A().filter(q=>q.focusable).map(q=>q.ref.current);if(I==="last")O.reverse();else if(I==="prev"||I==="next"){I==="prev"&&O.reverse();const q=O.indexOf(R.currentTarget);O=S.loop?hF(O,q+1):O.slice(q+1)}setTimeout(()=>Lj(O))}}),children:typeof c=="function"?c({isCurrentTabStop:E,hasTabStop:D!=null}):c})})});Rj.displayName=Oj;var cF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function uF(e,t,r){const n=dF(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return cF[n]}function Lj(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function hF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var fF=Pj,pF=Rj,zg="Tabs",[gF]=Vo(zg,[Aj]),Ij=Aj(),[mF,qb]=gF(zg),Dj=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:c="horizontal",dir:p,activationMode:v="automatic",...b}=e,S=Cb(p),[E,A]=Sc({prop:n,onChange:s,defaultProp:a??"",caller:zg});return h.jsx(mF,{scope:r,baseId:mi(),value:E,onValueChange:A,orientation:c,dir:S,activationMode:v,children:h.jsx(yt.div,{dir:S,"data-orientation":c,...b,ref:t})})});Dj.displayName=zg;var Bj="TabsList",$j=M.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=qb(Bj,r),c=Ij(r);return h.jsx(fF,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:n,children:h.jsx(yt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});$j.displayName=Bj;var zj="TabsTrigger",Fj=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,c=qb(zj,r),p=Ij(r),v=Hj(c.baseId,n),b=Gj(c.baseId,n),S=n===c.value;return h.jsx(pF,{asChild:!0,...p,focusable:!s,active:S,children:h.jsx(yt.button,{type:"button",role:"tab","aria-selected":S,"aria-controls":b,"data-state":S?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:v,...a,ref:t,onMouseDown:Nt(e.onMouseDown,E=>{!s&&E.button===0&&E.ctrlKey===!1?c.onValueChange(n):E.preventDefault()}),onKeyDown:Nt(e.onKeyDown,E=>{[" ","Enter"].includes(E.key)&&c.onValueChange(n)}),onFocus:Nt(e.onFocus,()=>{const E=c.activationMode!=="manual";!S&&!s&&E&&c.onValueChange(n)})})})});Fj.displayName=zj;var Wj="TabsContent",Uj=M.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...c}=e,p=qb(Wj,r),v=Hj(p.baseId,n),b=Gj(p.baseId,n),S=n===p.value,E=M.useRef(S);return M.useEffect(()=>{const A=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(A)},[]),h.jsx(Ka,{present:s||S,children:({present:A})=>h.jsx(yt.div,{"data-state":S?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":v,hidden:!A,id:b,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:E.current?"0s":void 0},children:A&&a})})});Uj.displayName=Wj;function Hj(e,t){return`${e}-trigger-${t}`}function Gj(e,t){return`${e}-content-${t}`}var vF=Dj,Vj=$j,Xj=Fj,Yj=Uj;const xF=vF,qj=M.forwardRef(({className:e,...t},r)=>h.jsx(Vj,{ref:r,className:gt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));qj.displayName=Vj.displayName;const wa=M.forwardRef(({className:e,...t},r)=>h.jsx(Xj,{ref:r,className:gt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));wa.displayName=Xj.displayName;const ka=M.forwardRef(({className:e,...t},r)=>h.jsx(Yj,{ref:r,className:gt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ka.displayName=Yj.displayName;var yF="Label",Kj=M.forwardRef((e,t)=>h.jsx(yt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Kj.displayName=yF;var Zj=Kj;const bF=fE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Cr=M.forwardRef(({className:e,...t},r)=>h.jsx(Zj,{ref:r,className:gt(bF(),e),...t}));Cr.displayName=Zj.displayName;const Fg=M.forwardRef(({className:e,...t},r)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:r,className:gt("w-full caption-bottom text-sm",e),...t})}));Fg.displayName="Table";const Wg=M.forwardRef(({className:e,...t},r)=>h.jsx("thead",{ref:r,className:gt("[&_tr]:border-b",e),...t}));Wg.displayName="TableHeader";const Ug=M.forwardRef(({className:e,...t},r)=>h.jsx("tbody",{ref:r,className:gt("[&_tr:last-child]:border-0",e),...t}));Ug.displayName="TableBody";const wF=M.forwardRef(({className:e,...t},r)=>h.jsx("tfoot",{ref:r,className:gt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));wF.displayName="TableFooter";const os=M.forwardRef(({className:e,...t},r)=>h.jsx("tr",{ref:r,className:gt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));os.displayName="TableRow";const oi=M.forwardRef(({className:e,...t},r)=>h.jsx("th",{ref:r,className:gt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));oi.displayName="TableHead";const Rr=M.forwardRef(({className:e,...t},r)=>h.jsx("td",{ref:r,className:gt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Rr.displayName="TableCell";const kF=M.forwardRef(({className:e,...t},r)=>h.jsx("caption",{ref:r,className:gt("mt-4 text-sm text-muted-foreground",e),...t}));kF.displayName="TableCaption";function SF({id:e,title:t,description:r,variant:n="default",onClose:s}){return M.useEffect(()=>{const a=setTimeout(()=>{s()},5e3);return()=>clearTimeout(a)},[s]),h.jsxs("div",{className:gt("pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-4 pr-8 shadow-lg transition-all",n==="destructive"&&"border-destructive bg-destructive text-destructive-foreground",n==="success"&&"border-green-500 bg-green-500/10 text-green-600 dark:text-green-400",n==="default"&&"border bg-background"),children:[h.jsxs("div",{className:"grid gap-1",children:[t&&h.jsx("div",{className:"text-sm font-semibold",children:t}),r&&h.jsx("div",{className:"text-sm opacity-90",children:r})]}),h.jsx("button",{onClick:s,className:"absolute right-2 top-2 rounded-md p-1 opacity-70 transition-opacity hover:opacity-100",children:h.jsx(_b,{className:"h-4 w-4"})})]})}function _F({children:e}){return h.jsx("div",{className:"fixed bottom-0 right-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",children:e})}let CF=0,jS=null,Bl=null;function EF(){return Bl||(Bl=document.createElement("div"),Bl.id="toast-container",document.body.appendChild(Bl),jS=UC(Bl)),{container:Bl,root:jS}}const Yp=new Map;let qp=null;function MF(){const[,e]=M.useReducer(r=>r+1,0);M.useEffect(()=>(qp=e,()=>{qp=null}),[]);const t=r=>{Yp.delete(r),e()};return h.jsx(_F,{children:Array.from(Yp.entries()).map(([r,n])=>h.jsx(SF,{id:r,...n,onClose:()=>t(r)},r))})}function jF(e){const t=`toast-${++CF}`;Yp.set(t,e);const{root:r}=EF();return r.render(h.jsx(MF,{})),{id:t,dismiss:()=>{Yp.delete(t),qp&&qp()}}}function Hg(){return{toast:jF}}function NF(){const{toast:e}=Hg(),[t,r]=M.useState([]),[n,s]=M.useState(!0),[a,c]=M.useState(!1),[p,v]=M.useState(!1),[b,S]=M.useState(null),[E,A]=M.useState({name:"",twitter:""}),[z,U]=M.useState(!1),[D,R]=M.useState(null),[I,T]=M.useState("");M.useEffect(()=>{O()},[]);const O=async(we=!1)=>{we?c(!0):s(!0);const{data:Se,error:be}=await Ve.from("players").select("*").order("name");be?(console.error("Error loading players:",be),R(be.message),e({variant:"destructive",title:"Error loading players",description:be.message})):r(Se||[]),s(!1),c(!1)},q=()=>{S(null),A({name:"",twitter:""}),R(null),v(!0)},ae=we=>{S(we),A({name:we.name,twitter:we.twitter||""}),R(null),v(!0)},re=async we=>{we.preventDefault(),U(!0),R(null);try{if(b){const{error:Se}=await Ve.from("players").update({name:E.name,twitter:E.twitter||null}).eq("id",b.id);if(Se)throw Se;e({variant:"success",title:"Player updated",description:`${E.name} has been updated successfully.`})}else{const{error:Se}=await Ve.from("players").insert({name:E.name,twitter:E.twitter||null,rating:1500,rd:350,volatility:.06});if(Se)throw Se;e({variant:"success",title:"Player created",description:`${E.name} has been created successfully.`})}v(!1),O(!0)}catch(Se){R(Se.message),e({variant:"destructive",title:"Error",description:Se.message})}finally{U(!1)}},ce=async we=>{if(!confirm(`Are you sure you want to delete ${we.name}? This will also delete all their matches.`))return;const{error:Se}=await Ve.from("players").delete().eq("id",we.id);Se?e({variant:"destructive",title:"Error deleting player",description:Se.message}):(e({variant:"success",title:"Player deleted",description:`${we.name} has been deleted.`}),O(!0))},J=t.filter(we=>{var Se;return we.name.toLowerCase().includes(I.toLowerCase())||((Se=we.twitter)==null?void 0:Se.toLowerCase().includes(I.toLowerCase()))});return h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsx(qr,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Kr,{className:"font-heading text-2xl text-primary",children:"Player Management"}),h.jsx(pi,{children:"Create, edit, and delete players"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(_t,{onClick:()=>O(!0),variant:"outline",size:"icon",disabled:a,className:"bg-background/50 border-primary/30 hover:bg-primary/20",children:h.jsx(wg,{className:`h-4 w-4 ${a?"animate-spin":""}`})}),h.jsxs(_t,{onClick:q,className:"font-heading font-bold uppercase tracking-wider",children:[h.jsx(kb,{className:"h-4 w-4 mr-2"}),"New Player"]})]})]})}),h.jsxs(xr,{className:"space-y-4",children:[h.jsx(Zr,{placeholder:"Search players...",value:I,onChange:we=>T(we.target.value),className:"max-w-sm bg-background/50 border-primary/30 focus:ring-primary/50 font-heading font-bold"}),n?h.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),"Loading..."]}):h.jsx("div",{className:"rounded-md border border-border/40 overflow-hidden",children:h.jsxs(Fg,{children:[h.jsx(Wg,{className:"bg-muted/50",children:h.jsxs(os,{className:"hover:bg-transparent border-border/40",children:[h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Name"}),h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Twitter"}),h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Rating"}),h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Matches"}),h.jsx(oi,{className:"text-right font-heading font-bold text-primary",children:"Actions"})]})}),h.jsx(Ug,{children:J.length===0?h.jsx(os,{children:h.jsx(Rr,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No players found"})}):J.map(we=>h.jsxs(os,{className:"hover:bg-primary/5 border-border/40 transition-colors",children:[h.jsx(Rr,{className:"font-heading font-bold text-lg",children:we.name}),h.jsx(Rr,{className:"font-mono text-sm text-muted-foreground",children:we.twitter||"-"}),h.jsx(Rr,{className:"font-mono font-bold text-primary",children:Math.round(we.rating??0)}),h.jsx(Rr,{className:"font-mono text-muted-foreground",children:we.matches_played||0}),h.jsxs(Rr,{className:"text-right space-x-2",children:[h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>ae(we),className:"hover:bg-primary/20 hover:text-primary",children:h.jsx(wb,{className:"h-4 w-4"})}),h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>ce(we),className:"hover:bg-destructive/20 hover:text-destructive",children:h.jsx(Sb,{className:"h-4 w-4"})})]})]},we.id))})]})})]}),h.jsx(_c,{open:p,onOpenChange:v,children:h.jsxs(Wa,{className:"bg-card/90 backdrop-blur-xl border-primary/20",children:[h.jsxs(Ua,{children:[h.jsx(Ha,{className:"font-heading text-2xl text-primary",children:b?"Edit Player":"Create Player"}),h.jsx(Gu,{children:b?"Update player information":"Add a new player to the system"})]}),h.jsxs("form",{onSubmit:re,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"name",className:"font-bold uppercase tracking-wider text-xs",children:"Name *"}),h.jsx(Zr,{id:"name",value:E.name,onChange:we=>A({...E,name:we.target.value}),required:!0,placeholder:"Player name",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"twitter",className:"font-bold uppercase tracking-wider text-xs",children:"Twitter Handle"}),h.jsx(Zr,{id:"twitter",value:E.twitter,onChange:we=>A({...E,twitter:we.target.value}),placeholder:"@username",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),D&&h.jsx("div",{className:"text-sm text-destructive font-bold bg-destructive/10 p-2 rounded border border-destructive/20",children:D})]}),h.jsxs(Hu,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>v(!1),className:"font-bold uppercase tracking-wider",children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:z,className:"font-heading font-bold uppercase tracking-wider",children:z?"Saving...":b?"Update":"Create"})]})]})]})})]})}const Qj=M.forwardRef(({className:e,...t},r)=>h.jsx("textarea",{className:gt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Qj.displayName="Textarea";function TF(){const{toast:e}=Hg(),[t,r]=M.useState([]),[n,s]=M.useState([]),[a,c]=M.useState(null),[p,v]=M.useState(!0),[b,S]=M.useState(!1),[E,A]=M.useState(!1),[z,U]=M.useState(null),[D,R]=M.useState({title:"",event_date:"",stream_url:"",vod_link:"",description:""}),[I,T]=M.useState(!1),[O,q]=M.useState(null);M.useEffect(()=>{re(),ae()},[]);const ae=async()=>{const ve=await $c();s(ve);const je=ve.find(Fe=>Fe.status==="active");je&&c(je.id)},re=async(ve=!1)=>{ve?S(!0):v(!0);const{data:je,error:Fe}=await Ve.from("events").select("*").order("event_date",{ascending:!1});Fe?(console.error("Error loading events:",Fe),q(Fe.message),e({variant:"destructive",title:"Error loading events",description:Fe.message})):r(je||[]),v(!1),S(!1)},ce=()=>{U(null),R({title:"",event_date:"",stream_url:"",vod_link:"",description:""}),q(null),A(!0)},J=ve=>{U(ve);const je=new Date(ve.event_date).toISOString().slice(0,16);R({title:ve.title,event_date:je,stream_url:ve.stream_url||"",vod_link:ve.vod_link||"",description:ve.description||""}),q(null),A(!0)},we=async ve=>{ve.preventDefault(),T(!0),q(null);try{if(!D.event_date)throw new Error("Event date and time are required.");const je={title:D.title,event_date:new Date(D.event_date).toISOString(),stream_url:D.stream_url||null,vod_link:D.vod_link||null,description:D.description||null};if(z){const{error:Fe}=await Ve.from("events").update(je).eq("id",z.id);if(Fe)throw Fe;e({variant:"success",title:"Event updated",description:`${D.title} has been updated successfully.`})}else{const{error:Fe}=await Ve.from("events").insert(je);if(Fe)throw Fe;e({variant:"success",title:"Event created",description:`${D.title} has been created successfully.`})}A(!1),re(!0)}catch(je){q(je.message),e({variant:"destructive",title:"Error",description:je.message})}finally{T(!1)}},Se=async ve=>{if(!confirm(`Are you sure you want to delete "${ve.title}"? Matches will be kept but unlinked from this event.`))return;const{error:je}=await Ve.from("events").delete().eq("id",ve.id);je?e({variant:"destructive",title:"Error deleting event",description:je.message}):(e({variant:"success",title:"Event deleted",description:`${ve.title} has been deleted.`}),re(!0))},be=ve=>new Date(ve).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsx(qr,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Kr,{className:"font-heading text-2xl text-primary",children:"Event Management"}),h.jsx(pi,{children:"Create, edit, and delete events"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(_t,{onClick:()=>re(!0),variant:"outline",size:"icon",disabled:b,className:"bg-background/50 border-primary/30 hover:bg-primary/20",children:h.jsx(wg,{className:`h-4 w-4 ${b?"animate-spin":""}`})}),h.jsxs(_t,{onClick:ce,className:"font-heading font-bold uppercase tracking-wider",children:[h.jsx(kb,{className:"h-4 w-4 mr-2"}),"New Event"]})]})]})}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-background/30 p-2 rounded-lg border border-border/30 w-fit",children:[h.jsx("label",{className:"text-sm font-bold uppercase tracking-wider text-muted-foreground px-2",children:"Season:"}),h.jsxs(Lg,{value:(a==null?void 0:a.toString())??"",onValueChange:ve=>c(parseInt(ve)),children:[h.jsx(Fu,{className:"w-48 bg-transparent border-none focus:ring-0 font-heading font-bold text-primary",children:h.jsx(Ig,{})}),h.jsxs(Wu,{children:[n.filter(ve=>ve.status==="active").map(ve=>h.jsxs(Ns,{value:ve.id.toString(),children:[ve.name," (Active)"]},ve.id)),n.filter(ve=>ve.status==="archived").sort((ve,je)=>ve.id-je.id).map(ve=>h.jsxs(Ns,{value:ve.id.toString(),children:[ve.name," (Archived)"]},ve.id))]})]})]}),p?h.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),"Loading..."]}):h.jsx("div",{className:"rounded-md border border-border/40 overflow-hidden",children:h.jsxs(Fg,{children:[h.jsx(Wg,{className:"bg-muted/50",children:h.jsxs(os,{className:"hover:bg-transparent border-border/40",children:[h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Title"}),h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Date"}),h.jsx(oi,{className:"font-heading font-bold text-primary",children:"Description"}),h.jsx(oi,{className:"text-right font-heading font-bold text-primary",children:"Actions"})]})}),h.jsx(Ug,{children:t.length===0?h.jsx(os,{children:h.jsx(Rr,{colSpan:4,className:"text-center text-muted-foreground py-8",children:"No events found"})}):t.map(ve=>h.jsxs(os,{className:"hover:bg-primary/5 border-border/40 transition-colors",children:[h.jsx(Rr,{className:"font-medium",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(R5,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"font-heading font-bold",children:ve.title})]})}),h.jsx(Rr,{className:"font-mono text-sm text-muted-foreground",children:be(ve.event_date)}),h.jsx(Rr,{className:"max-w-xs truncate text-muted-foreground italic",children:ve.description||"-"}),h.jsxs(Rr,{className:"text-right space-x-2",children:[h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>J(ve),className:"hover:bg-primary/20 hover:text-primary",children:h.jsx(wb,{className:"h-4 w-4"})}),h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>Se(ve),className:"hover:bg-destructive/20 hover:text-destructive",children:h.jsx(Sb,{className:"h-4 w-4"})})]})]},ve.id))})]})})]}),h.jsx(_c,{open:E,onOpenChange:A,children:h.jsxs(Wa,{className:"max-w-2xl bg-card/90 backdrop-blur-xl border-primary/20",children:[h.jsxs(Ua,{children:[h.jsx(Ha,{className:"font-heading text-2xl text-primary",children:z?"Edit Event":"Create Event"}),h.jsx(Gu,{children:z?"Update event information":"Add a new event to the system"})]}),h.jsxs("form",{onSubmit:we,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"title",className:"font-bold uppercase tracking-wider text-xs",children:"Title *"}),h.jsx(Zr,{id:"title",value:D.title,onChange:ve=>R({...D,title:ve.target.value}),required:!0,placeholder:"Event title",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"event_date",className:"font-bold uppercase tracking-wider text-xs",children:"Date & Time *"}),h.jsx("input",{id:"event_date",type:"datetime-local",className:"flex h-9 w-full rounded-md border border-primary/30 bg-background/50 px-3 py-1 text-sm text-foreground shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [color-scheme:dark]",value:D.event_date,onChange:ve=>R({...D,event_date:ve.target.value}),min:new Date().toISOString().slice(0,16),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"stream_url",className:"font-bold uppercase tracking-wider text-xs",children:"Stream URL"}),h.jsx(Zr,{id:"stream_url",type:"url",value:D.stream_url,onChange:ve=>R({...D,stream_url:ve.target.value}),placeholder:"https://twitch.tv/...",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"vod_link",className:"font-bold uppercase tracking-wider text-xs",children:"VOD Link"}),h.jsx(Zr,{id:"vod_link",type:"url",value:D.vod_link,onChange:ve=>R({...D,vod_link:ve.target.value}),placeholder:"https://youtube.com/...",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"description",className:"font-bold uppercase tracking-wider text-xs",children:"Description"}),h.jsx(Qj,{id:"description",value:D.description,onChange:ve=>R({...D,description:ve.target.value}),placeholder:"Event description",rows:3,className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),O&&h.jsx("div",{className:"text-sm text-destructive font-bold bg-destructive/10 p-2 rounded border border-destructive/20",children:O})]}),h.jsxs(Hu,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>A(!1),className:"font-bold uppercase tracking-wider",children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:I,className:"font-heading font-bold uppercase tracking-wider",children:I?"Saving...":z?"Update":"Create"})]})]})]})})]})}function AF(){const{toast:e}=Hg(),[t,r]=M.useState([]),[n,s]=M.useState([]),[a,c]=M.useState([]),[p,v]=M.useState([]),[b,S]=M.useState(null),[E,A]=M.useState(!0),[z,U]=M.useState(!1),[D,R]=M.useState(!1),[I,T]=M.useState(null),[O,q]=M.useState({player1_id:"",player2_id:"",winner_id:"",player1_score:"",player2_score:"",event_id:"",match_order:"0",vod_link:""}),[ae,re]=M.useState(!1),[ce,J]=M.useState(null),[we,Se]=M.useState("all"),[be,ve]=M.useState(new Map),[je,Fe]=M.useState(new Set);M.useEffect(()=>{ie(),Ye()},[]);const Ye=async()=>{const Ce=await $c();v(Ce);const Oe=Ce.find(st=>st.status==="active");Oe&&S(Oe.id)},ie=async(Ce=!1,Oe=b)=>{Ce?U(!0):A(!0);let st=Ve.from("matches").select("*").order("id",{ascending:!1}).limit(100);Oe!=null&&(st=st.eq("season_id",Oe));const[ut,vt,ft]=await Promise.all([st,Ve.from("players").select("*").order("name"),Ve.from("events").select("*").order("event_date",{ascending:!1})]);ut.error?(console.error("Error loading matches:",ut.error),e({variant:"destructive",title:"Error loading matches",description:ut.error.message})):r(ut.data||[]),vt.error?console.error("Error loading players:",vt.error):s(vt.data||[]),ft.error?console.error("Error loading events:",ft.error):c(ft.data||[]),A(!1),U(!1)};M.useEffect(()=>{b!==null&&ie(!1,b)},[b]);const ge=Ce=>{var Oe;return((Oe=n.find(st=>st.id===Ce))==null?void 0:Oe.name)||"Unknown"},he=Ce=>{var Oe;return Ce?((Oe=a.find(st=>st.id===Ce))==null?void 0:Oe.title)||"Unknown":"-"},Me=()=>{T(null),q({player1_id:"",player2_id:"",winner_id:"none",player1_score:"",player2_score:"",event_id:"none",match_order:"0",vod_link:""}),J(null),R(!0)},$e=Ce=>{T(Ce),q({player1_id:String(Ce.player1_id),player2_id:String(Ce.player2_id),winner_id:Ce.winner_id?String(Ce.winner_id):"none",player1_score:Ce.player1_score!==void 0&&Ce.player1_score!==null?String(Ce.player1_score):"",player2_score:Ce.player2_score!==void 0&&Ce.player2_score!==null?String(Ce.player2_score):"",event_id:Ce.event_id?String(Ce.event_id):"none",match_order:Ce.match_order?String(Ce.match_order):"0",vod_link:Ce.vod_link||""}),J(null),R(!0)},Ie=async Ce=>{Ce.preventDefault(),re(!0),J(null);try{if(O.player1_id===O.player2_id)throw new Error("Player 1 and Player 2 must be different");if(O.winner_id&&O.winner_id!=="none"&&O.winner_id!==O.player1_id&&O.winner_id!==O.player2_id)throw new Error("Winner must be one of the two players");const Oe=O.winner_id&&O.winner_id!=="none"?parseInt(O.winner_id):null,st=O.player1_score!==""?parseInt(O.player1_score):null,ut=O.player2_score!==""?parseInt(O.player2_score):null;if((Oe!==null||st!==null||ut!==null)&&(Oe===null||st===null||ut===null))throw new Error("To complete a match, enter both scores and select a winner");const ft={player1_id:parseInt(O.player1_id),player2_id:parseInt(O.player2_id),winner_id:Oe,player1_score:st,player2_score:ut,event_id:O.event_id&&O.event_id!=="none"?parseInt(O.event_id):null,match_order:O.match_order?parseInt(O.match_order):0,vod_link:O.vod_link||null,season_id:b??0},kt=ft.winner_id!==null,Qe=(I==null?void 0:I.winner_id)!==null,Dr=I&&Qe&&kt&&(I.winner_id!==ft.winner_id||I.player1_score!==ft.player1_score||I.player2_score!==ft.player2_score),Wr=!I&&kt,Xi=Dr||Wr||I&&kt;let li=null;if(I){const{error:Ur}=await Ve.from("matches").update(ft).eq("id",I.id);if(Ur)throw Ur;kt&&!Qe&&await Ve.from("players").update({has_played_this_season:!0}).in("id",[ft.player1_id,ft.player2_id]),e({title:"Match updated",description:kt?"Match updated. Calculating ratings...":"Match has been updated successfully."}),Xi&&(li=I.id)}else{const{data:Ur,error:Yi}=await Ve.from("matches").insert(ft).select();if(Yi)throw Yi;Wr&&await Ve.from("players").update({has_played_this_season:!0}).in("id",[ft.player1_id,ft.player2_id]),e({title:"Match created",description:Wr?"Match created. Calculating ratings...":"Match has been created successfully."}),Wr&&Ur&&Ur[0]&&(li=Ur[0].id)}if(R(!1),ie(!0),li){const Ur=await Nj(li);Ur.success?(e({variant:"success",title:"Ratings updated",description:"Player ratings have been calculated."}),await ie(!0)):e({variant:"destructive",title:"Rating update failed",description:Ur.error||"Failed to update ratings."})}}catch(Oe){J(Oe.message),e({variant:"destructive",title:"Error",description:Oe.message})}finally{re(!1)}},Ee=async Ce=>{if(!confirm("Are you sure you want to delete this match?"))return;const{error:Oe}=await Ve.from("matches").delete().eq("id",Ce.id);Oe?e({variant:"destructive",title:"Error deleting match",description:Oe.message}):(e({variant:"success",title:"Match deleted",description:"Match has been deleted."}),ie(!0))},Ze=async Ce=>{Fe(st=>new Set(st).add(Ce));const Oe=await Yb(Ce);return ve(st=>new Map(st).set(Ce,Oe.canRollback)),Fe(st=>{const ut=new Set(st);return ut.delete(Ce),ut}),Oe},ot=async Ce=>{const Oe=await Ze(Ce.id);if(!Oe.canRollback){e({variant:"destructive",title:"Cannot rollback match",description:Oe.reason||"This match cannot be rolled back"});return}const st=ge(Ce.player1_id),ut=ge(Ce.player2_id);if(!confirm(`Rollback match "${st} vs ${ut}"?

This will revert the match to an upcoming state and recalculate all ratings.`))return;re(!0);const vt=await Mj(Ce.id);vt.success?(e({variant:"success",title:"Match rolled back",description:"The match was reverted to upcoming and ratings have been recalculated."}),ie(!0)):e({variant:"destructive",title:"Rollback failed",description:vt.error||"Failed to rollback match"}),re(!1)},tt=we==="all"?t:t.filter(Ce=>Ce.event_id===parseInt(we));return h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(qr,{className:"border-b border-border/30 bg-muted/20",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs(Kr,{className:"font-heading uppercase tracking-widest text-xl flex items-center gap-2",children:[h.jsx("span",{className:"text-primary",children:""})," Match Management"]}),h.jsx(pi,{className:"font-body",children:"Create, edit, and delete matches"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(_t,{onClick:()=>ie(!0),variant:"outline",size:"icon",disabled:z,className:"border-primary/30 hover:bg-primary/10 hover:text-primary transition-colors",children:h.jsx(wg,{className:`h-4 w-4 ${z?"animate-spin":""}`})}),h.jsxs(_t,{onClick:Me,className:"bg-primary text-primary-foreground hover:bg-primary/90 font-heading uppercase tracking-wider font-bold",children:[h.jsx(kb,{className:"h-4 w-4 mr-2"}),"New Match"]})]})]})}),h.jsxs(xr,{className:"space-y-6 p-6",children:[h.jsxs("div",{className:"flex gap-4 flex-wrap bg-card/50 p-4 rounded-lg border border-border/30",children:[h.jsxs(Lg,{value:(b==null?void 0:b.toString())??"",onValueChange:Ce=>S(Ce==="0"?0:parseInt(Ce,10)),children:[h.jsx(Fu,{className:"w-full sm:w-64 bg-background/50 border-primary/30 focus:ring-primary/50",children:h.jsx(Ig,{placeholder:"Select a season"})}),h.jsxs(Wu,{children:[p.filter(Ce=>Ce.status==="active").map(Ce=>h.jsxs(Ns,{value:Ce.id.toString(),children:[Ce.name," (Active)"]},Ce.id)),p.filter(Ce=>Ce.status==="archived").sort((Ce,Oe)=>Ce.id-Oe.id).map(Ce=>h.jsxs(Ns,{value:Ce.id.toString(),children:[Ce.name," (Archived)"]},Ce.id))]})]}),h.jsx(Cs,{value:we,onValueChange:Se,options:[{value:"all",label:"All Events"},{value:"0",label:"No Event"},...a.map(Ce=>({value:String(Ce.id),label:Ce.title}))],placeholder:"Filter by event",searchPlaceholder:"Search events...",className:"w-[250px]"})]}),E?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):h.jsx("div",{className:"rounded-md border border-border/30 overflow-hidden",children:h.jsxs(Fg,{children:[h.jsx(Wg,{className:"bg-muted/30",children:h.jsxs(os,{className:"hover:bg-transparent border-b border-border/30",children:[h.jsx(oi,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Player 1"}),h.jsx(oi,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Player 2"}),h.jsx(oi,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Score"}),h.jsx(oi,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Winner"}),h.jsx(oi,{className:"font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Event"}),h.jsx(oi,{className:"text-right font-heading uppercase tracking-wider text-xs font-bold text-muted-foreground",children:"Actions"})]})}),h.jsx(Ug,{children:tt.length===0?h.jsx(os,{children:h.jsx(Rr,{colSpan:6,className:"text-center text-muted-foreground py-8 italic",children:"No matches found"})}):tt.map(Ce=>h.jsxs(os,{className:"hover:bg-primary/5 transition-colors border-b border-border/20 last:border-0",children:[h.jsx(Rr,{className:"font-medium",children:ge(Ce.player1_id)}),h.jsx(Rr,{className:"font-medium",children:ge(Ce.player2_id)}),h.jsxs(Rr,{className:"font-mono",children:[Ce.player1_score??"?"," - ",Ce.player2_score??"?"]}),h.jsx(Rr,{children:Ce.winner_id?h.jsx("span",{className:"text-green-500 font-bold",children:ge(Ce.winner_id)}):h.jsx("span",{className:"text-muted-foreground italic",children:"Upcoming"})}),h.jsx(Rr,{className:"text-muted-foreground",children:he(Ce.event_id)}),h.jsxs(Rr,{className:"text-right space-x-2",children:[h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>$e(Ce),className:"hover:text-primary hover:bg-primary/10",children:h.jsx(wb,{className:"h-4 w-4"})}),Ce.winner_id&&h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>ot(Ce),disabled:ae,title:"Rollback match",className:"hover:text-yellow-500 hover:bg-yellow-500/10",children:h.jsx(HE,{className:"h-4 w-4"})}),h.jsx(_t,{variant:"ghost",size:"sm",onClick:()=>Ee(Ce),className:"hover:text-red-500 hover:bg-red-500/10",children:h.jsx(Sb,{className:"h-4 w-4"})})]})]},Ce.id))})]})})]}),h.jsx(_c,{open:D,onOpenChange:R,children:h.jsxs(Wa,{className:"max-w-2xl bg-card/95 backdrop-blur-xl border-primary/50",children:[h.jsxs(Ua,{children:[h.jsx(Ha,{className:"font-heading uppercase tracking-widest text-xl text-primary",children:I?"Edit Battle":"New Battle"}),h.jsx(Gu,{children:I?"Update match information":"Add a new match to the system"})]}),h.jsxs("form",{onSubmit:Ie,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player1_id",className:"font-heading uppercase text-xs tracking-wider",children:"Player 1 *"}),h.jsx(Cs,{value:O.player1_id,onValueChange:Ce=>q({...O,player1_id:Ce}),options:n.map(Ce=>({value:String(Ce.id),label:Ce.name})),placeholder:"Select player 1",searchPlaceholder:"Search players..."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player2_id",className:"font-heading uppercase text-xs tracking-wider",children:"Player 2 *"}),h.jsx(Cs,{value:O.player2_id,onValueChange:Ce=>q({...O,player2_id:Ce}),options:n.map(Ce=>({value:String(Ce.id),label:Ce.name})),placeholder:"Select player 2",searchPlaceholder:"Search players..."})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player1_score",className:"font-heading uppercase text-xs tracking-wider",children:"Player 1 Score"}),h.jsx(Zr,{id:"player1_score",type:"number",min:"0",value:O.player1_score,onChange:Ce=>q({...O,player1_score:Ce.target.value}),placeholder:"Leave empty for upcoming",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"player2_score",className:"font-heading uppercase text-xs tracking-wider",children:"Player 2 Score"}),h.jsx(Zr,{id:"player2_score",type:"number",min:"0",value:O.player2_score,onChange:Ce=>q({...O,player2_score:Ce.target.value}),placeholder:"Leave empty for upcoming",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"winner_id",className:"font-heading uppercase text-xs tracking-wider",children:"Winner (leave empty for upcoming match)"}),h.jsx(Cs,{value:O.winner_id,onValueChange:Ce=>q({...O,winner_id:Ce}),options:[{value:"none",label:"No winner (upcoming)"},...O.player1_id?[{value:O.player1_id,label:ge(parseInt(O.player1_id))}]:[],...O.player2_id?[{value:O.player2_id,label:ge(parseInt(O.player2_id))}]:[]],placeholder:"Select winner",searchPlaceholder:"Search..."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"event_id",className:"font-heading uppercase text-xs tracking-wider",children:"Event"}),h.jsx(Cs,{value:O.event_id,onValueChange:Ce=>q({...O,event_id:Ce}),options:[{value:"none",label:"No event"},...a.map(Ce=>({value:String(Ce.id),label:Ce.title}))],placeholder:"Select event",searchPlaceholder:"Search events..."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"match_order",className:"font-heading uppercase text-xs tracking-wider",children:"Match Order"}),h.jsx(Zr,{id:"match_order",type:"number",min:"0",value:O.match_order,onChange:Ce=>q({...O,match_order:Ce.target.value}),className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{htmlFor:"vod_link",className:"font-heading uppercase text-xs tracking-wider",children:"VOD Link"}),h.jsx(Zr,{id:"vod_link",type:"url",value:O.vod_link,onChange:Ce=>q({...O,vod_link:Ce.target.value}),placeholder:"https://youtube.com/...",className:"bg-background/50 border-primary/30 focus:ring-primary/50"})]}),ce&&h.jsx("div",{className:"text-sm text-destructive font-bold",children:ce})]}),h.jsxs(Hu,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>R(!1),children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:ae,className:"bg-primary text-primary-foreground hover:bg-primary/90 font-heading uppercase tracking-wider font-bold",children:ae?"Saving...":I?"Update":"Create"})]})]})]})})]})}function PF(){const{toast:e}=Hg(),[t,r]=M.useState([]),[n,s]=M.useState(""),[a,c]=M.useState([]),[p,v]=M.useState([]),[b,S]=M.useState(!1),[E,A]=M.useState(!1),[z,U]=M.useState(!1),[D,R]=M.useState(null),[I,T]=M.useState({player1_score:"",player2_score:"",winner_id:""}),[O,q]=M.useState(!1),[ae,re]=M.useState(null);M.useEffect(()=>{ce(),J()},[]),M.useEffect(()=>{n&&we()},[n]);const ce=async()=>{const{data:ge,error:he}=await Ve.from("events").select("*").order("event_date",{ascending:!1});he?(console.error("Error loading events:",he),e({variant:"destructive",title:"Error loading events",description:he.message})):(r(ge||[]),ge&&ge.length>0&&!n&&s(String(ge[0].id)))},J=async()=>{const{data:ge,error:he}=await Ve.from("players").select("*").order("name");he?console.error("Error loading players:",he):v(ge||[])},we=async(ge=!1)=>{if(!n)return;ge?A(!0):S(!0);const{data:he,error:Me}=await Ve.from("matches").select("*").eq("event_id",parseInt(n)).order("match_order");Me?(console.error("Error loading matches:",Me),e({variant:"destructive",title:"Error loading matches",description:Me.message})):c(he||[]),S(!1),A(!1)},Se=ge=>{var he;return((he=p.find(Me=>Me.id===ge))==null?void 0:he.name)||"Unknown"},be=ge=>{R(ge),T({player1_score:ge.player1_score!==void 0&&ge.player1_score!==null?String(ge.player1_score):"",player2_score:ge.player2_score!==void 0&&ge.player2_score!==null?String(ge.player2_score):"",winner_id:ge.winner_id?String(ge.winner_id):""}),re(null),U(!0)},ve=async ge=>{if(ge.preventDefault(),!!D){q(!0),re(null);try{const he=I.player1_score!==""?parseInt(I.player1_score):null,Me=I.player2_score!==""?parseInt(I.player2_score):null,$e=I.winner_id?parseInt(I.winner_id):null,Ie=he!==null||Me!==null||$e!==null;if(Ie){if(he===null||Me===null||$e===null)throw new Error("To complete a match, enter both scores and select a winner");if($e!==D.player1_id&&$e!==D.player2_id)throw new Error("Winner must be one of the two players")}const Ze=D.winner_id!==null&&Ie&&(D.winner_id!==$e||(D.player1_score??null)!==he||(D.player2_score??null)!==Me),{error:ot}=await Ve.from("matches").update({player1_score:he,player2_score:Me,winner_id:$e}).eq("id",D.id);if(ot)throw ot;if(Ie&&await Ve.from("players").update({has_played_this_season:!0}).in("id",[D.player1_id,D.player2_id]),e({title:"Score updated",description:Ie?"Match updated. Calculating ratings...":"Match kept as upcoming."}),U(!1),we(!0),Ie){const tt=await Nj(D.id);tt.success?(e({variant:"success",title:"Ratings updated",description:"Player ratings have been calculated."}),await we(!0)):e({variant:"destructive",title:"Rating update failed",description:tt.error||"Failed to update ratings."})}}catch(he){re(he.message),e({variant:"destructive",title:"Error",description:he.message})}finally{q(!1)}}},je=async ge=>{const he=await Yb(ge.id);if(!he.canRollback){e({variant:"destructive",title:"Cannot rollback match",description:he.reason||"This match cannot be rolled back"});return}const Me=Se(ge.player1_id),$e=Se(ge.player2_id);if(!confirm(`Rollback match "${Me} vs ${$e}"?

This will revert the match to an upcoming state and recalculate all ratings.`))return;q(!0);const Ie=await Mj(ge.id);Ie.success?(e({variant:"success",title:"Match rolled back",description:"The match was reverted to upcoming and ratings have been recalculated."}),we(!0)):e({variant:"destructive",title:"Rollback failed",description:Ie.error||"Failed to rollback match"}),q(!1)},Fe=t.find(ge=>ge.id===parseInt(n)),Ye=a.filter(ge=>ge.winner_id!==null),ie=a.filter(ge=>ge.winner_id===null);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsx(qr,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Kr,{className:"font-heading text-2xl text-primary",children:"Event Dashboard"}),h.jsx(pi,{children:"Register scores for matches within an event"})]}),n&&h.jsx(_t,{onClick:()=>we(!0),variant:"outline",size:"icon",disabled:E,className:"bg-background/50 border-primary/30 hover:bg-primary/20",children:h.jsx(wg,{className:`h-4 w-4 ${E?"animate-spin":""}`})})]})}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{className:"font-bold uppercase tracking-wider text-xs text-muted-foreground",children:"Select Event"}),h.jsx(Cs,{value:n,onValueChange:s,options:t.map(ge=>({value:String(ge.id),label:`${ge.title} - ${new Date(ge.event_date).toLocaleDateString()}`})),placeholder:"Choose an event",searchPlaceholder:"Search events...",className:"w-full"})]}),Fe&&h.jsxs("div",{className:"p-4 bg-background/30 rounded-lg border border-border/30",children:[h.jsx("h3",{className:"font-heading font-bold text-xl text-primary mb-2",children:Fe.title}),h.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:new Date(Fe.event_date).toLocaleString()}),Fe.description&&h.jsx("p",{className:"text-sm mt-2 italic text-muted-foreground",children:Fe.description}),h.jsxs("div",{className:"flex gap-4 mt-3 text-sm font-bold uppercase tracking-wider",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Vk,{className:"h-4 w-4 text-green-500"}),h.jsxs("span",{children:[Ye.length," completed"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Xk,{className:"h-4 w-4 text-orange-500"}),h.jsxs("span",{children:[ie.length," upcoming"]})]})]})]})]})]}),n&&!b&&h.jsxs(h.Fragment,{children:[ie.length>0&&h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(qr,{children:[h.jsxs(Kr,{className:"flex items-center gap-2 font-heading text-xl text-orange-500",children:[h.jsx(Xk,{className:"h-5 w-5"}),"Upcoming Matches"]}),h.jsx(pi,{children:"Click to register scores"})]}),h.jsx(xr,{children:h.jsx("div",{className:"space-y-3",children:ie.map(ge=>h.jsxs("div",{className:"flex items-center justify-between p-4 border border-border/40 rounded-lg hover:bg-primary/5 hover:border-primary/30 cursor-pointer transition-all group",onClick:()=>be(ge),children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-sm text-muted-foreground font-mono bg-background/50 px-2 py-1 rounded",children:["#",ge.match_order||0]}),h.jsxs("div",{className:"font-heading font-bold text-lg group-hover:text-primary transition-colors",children:[Se(ge.player1_id)," ",h.jsx("span",{className:"text-muted-foreground text-sm mx-1",children:"VS"})," ",Se(ge.player2_id)]})]}),h.jsx(_t,{size:"sm",variant:"outline",className:"font-bold uppercase tracking-wider text-xs bg-background/50 border-primary/30 group-hover:bg-primary group-hover:text-primary-foreground",children:"Register Score"})]},ge.id))})})]}),Ye.length>0&&h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(qr,{children:[h.jsxs(Kr,{className:"flex items-center gap-2 font-heading text-xl text-green-500",children:[h.jsx(Vk,{className:"h-5 w-5"}),"Completed Matches"]}),h.jsx(pi,{children:"Click to edit scores"})]}),h.jsx(xr,{children:h.jsx("div",{className:"space-y-3",children:Ye.map(ge=>h.jsxs("div",{className:"flex items-center justify-between p-4 border border-border/40 rounded-lg hover:bg-primary/5 hover:border-primary/30 transition-all group",children:[h.jsxs("div",{className:"flex items-center gap-4 flex-1 cursor-pointer",onClick:()=>be(ge),children:[h.jsxs("div",{className:"text-sm text-muted-foreground font-mono bg-background/50 px-2 py-1 rounded",children:["#",ge.match_order||0]}),h.jsxs("div",{className:"flex items-center gap-4 font-heading text-lg",children:[h.jsx("span",{className:`${ge.winner_id===ge.player1_id?"text-primary font-bold drop-shadow-[0_0_5px_rgba(var(--primary-rgb),0.5)]":"text-muted-foreground"}`,children:Se(ge.player1_id)}),h.jsxs("span",{className:"text-muted-foreground font-mono text-sm bg-background/30 px-2 py-1 rounded border border-border/30",children:[ge.player1_score??"?"," - ",ge.player2_score??"?"]}),h.jsx("span",{className:`${ge.winner_id===ge.player2_id?"text-primary font-bold drop-shadow-[0_0_5px_rgba(var(--primary-rgb),0.5)]":"text-muted-foreground"}`,children:Se(ge.player2_id)})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 px-3 py-1 rounded-full border border-yellow-500/20",children:[h.jsx(UE,{className:"h-3 w-3 text-yellow-500"}),h.jsx("span",{className:"font-bold text-sm text-yellow-500 uppercase tracking-wider",children:Se(ge.winner_id)})]}),h.jsx(_t,{size:"sm",variant:"ghost",onClick:he=>{he.stopPropagation(),je(ge)},disabled:O,title:"Rollback match (only if both players have no matches afterwards)",className:"hover:bg-destructive/20 hover:text-destructive",children:h.jsx(HE,{className:"h-4 w-4"})})]})]},ge.id))})})]}),a.length===0&&h.jsx(pr,{className:"bg-card/50 border-border/50",children:h.jsx(xr,{className:"py-12 text-center text-muted-foreground italic",children:"No matches found for this event. Create matches in the Match Management section."})})]}),b&&h.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),"Loading matches..."]}),h.jsx(_c,{open:z,onOpenChange:U,children:h.jsxs(Wa,{className:"bg-card/90 backdrop-blur-xl border-primary/20",children:[h.jsxs(Ua,{children:[h.jsx(Ha,{className:"font-heading text-2xl text-primary",children:"Register Match Score"}),h.jsx(Gu,{children:D&&h.jsxs("span",{className:"font-heading font-bold text-lg text-foreground",children:[Se(D.player1_id)," ",h.jsx("span",{className:"text-muted-foreground text-sm mx-1",children:"VS"})," ",Se(D.player2_id)]})})]}),D&&h.jsxs("form",{onSubmit:ve,children:[h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs(Cr,{className:"font-bold uppercase tracking-wider text-xs",children:[Se(D.player1_id)," Score *"]}),h.jsx(Zr,{type:"number",min:"0",value:I.player1_score,onChange:ge=>T({...I,player1_score:ge.target.value}),className:"bg-background/50 border-primary/30 focus:ring-primary/50 text-center font-mono text-lg font-bold"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs(Cr,{className:"font-bold uppercase tracking-wider text-xs",children:[Se(D.player2_id)," Score *"]}),h.jsx(Zr,{type:"number",min:"0",value:I.player2_score,onChange:ge=>T({...I,player2_score:ge.target.value}),className:"bg-background/50 border-primary/30 focus:ring-primary/50 text-center font-mono text-lg font-bold"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Cr,{className:"font-bold uppercase tracking-wider text-xs",children:"Winner *"}),h.jsx(Cs,{value:I.winner_id,onValueChange:ge=>T({...I,winner_id:ge}),options:[{value:String(D.player1_id),label:Se(D.player1_id)},{value:String(D.player2_id),label:Se(D.player2_id)}],placeholder:"Select winner",searchPlaceholder:"Search players...",className:"w-full"})]}),ae&&h.jsx("div",{className:"text-sm text-destructive font-bold bg-destructive/10 p-2 rounded border border-destructive/20",children:ae})]}),h.jsxs(Hu,{children:[h.jsx(_t,{type:"button",variant:"ghost",onClick:()=>U(!1),className:"font-bold uppercase tracking-wider",children:"Cancel"}),h.jsx(_t,{type:"submit",disabled:O,className:"font-heading font-bold uppercase tracking-wider",children:O?"Saving...":"Save Score"})]})]})]})})]})}function OF(){fn("Admin");const{session:e,isAdmin:t,loading:r}=Vb(),[n,s]=M.useState(null),[a,c]=M.useState([]),[p,v]=M.useState(!0),[b,S]=M.useState("Season Complete"),[E,A]=M.useState(!1),[z,U]=M.useState(null),[D,R]=M.useState(null),[I,T]=M.useState(!1),[O,q]=M.useState(null),[ae,re]=M.useState(null),[ce,J]=M.useState({totalMatches:0,processedMatches:0,currentMatch:0,status:"idle"}),[we,Se]=M.useState(null);M.useEffect(()=>{be()},[]);const be=async()=>{v(!0);try{const ie=await y$(),ge=await $c();s(ie),c(ge)}catch(ie){console.error("Failed to load seasons:",ie)}finally{v(!1)}},ve=async()=>{if(!n){alert("No active season found");return}const ie=`Season ${a.filter(Me=>Me.status==="archived").length+1}`,ge=` Archive "${n.name}" and start "${ie}"?

This will:
 Create snapshots of all current player standings
 Mark current season as archived
 Reset all players' ratings
 Create a new active season

This action cannot be undone!`;if(!confirm(ge))return;A(!0),U(null);const he=await b$(ie,Me=>{console.log("Archive progress:",Me)});U(he),A(!1),he.success&&await be()},je=async ie=>{const ge=a.find($e=>$e.id===ie);if(!ge){alert("Season not found");return}const he=` Restore "${ge.name}" as the active season?

This will:
 Archive the current active season with all its matches
 Restore player ratings from ${ge.name}'s snapshots
 Make ${ge.name} the current active season for new matches

This action cannot be undone!`;if(!confirm(he))return;R(ie),T(!0),q(null);const Me=await k$(ie,$e=>{console.log("Activate progress:",$e)});q(Me),T(!1),Me.success&&await be()},Fe=async ie=>{const ge=a.find(Ie=>Ie.id===ie);if(!ge){alert("Season not found");return}const he=ie===0,Me=he?` Recalculate ratings for "${ge.name}"?

This will:
 Recalculate all matches in the current season
 Update player ratings and standings
 Preserve all match history

Existing rating data will be recalculated. Continue?`:` Calculate ratings for "${ge.name}"?

This will:
 Create rating events from scratch for all matches in this season
 Calculate final player ratings and standings
 Create snapshots of the final leaderboard
 Recalculate all rating changes for matches

Existing rating data will be recalculated. Continue?`;if(!confirm(Me))return;re(ie),J({totalMatches:0,processedMatches:0,currentMatch:0,status:"running"}),Se(null);const $e=he?await Cj(Ie=>{J(Ie)},"Recalculate active season",0):await rF(ie,Ie=>{J(Ie)});Se($e)},Ye=()=>ce.totalMatches===0?0:Math.round(ce.processedMatches/ce.totalMatches*100);return r?h.jsx("div",{className:"container py-8",children:h.jsx("div",{className:"text-center",children:"Loading..."})}):e?t?h.jsxs("div",{className:"container py-8 space-y-8",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary/80 to-primary/50 drop-shadow-sm",children:"Admin Dashboard"}),h.jsx("p",{className:"text-muted-foreground font-body text-lg",children:"Manage the arena and its combatants."})]}),h.jsxs(xF,{defaultValue:"dashboard",className:"space-y-6",children:[h.jsxs(qj,{className:"bg-card/40 backdrop-blur-sm border border-border/40 p-1 h-auto flex-wrap justify-start gap-2",children:[h.jsx(wa,{value:"dashboard",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Event Dashboard"}),h.jsx(wa,{value:"events",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Events"}),h.jsx(wa,{value:"matches",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Matches"}),h.jsx(wa,{value:"players",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Players"}),h.jsx(wa,{value:"seasons",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Seasons"}),h.jsx(wa,{value:"tools",className:"font-heading font-bold uppercase tracking-wider data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:"Tools"})]}),h.jsxs("div",{className:"bg-card/30 backdrop-blur-md border border-border/40 rounded-lg p-6 shadow-xl relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),h.jsx(ka,{value:"dashboard",className:"m-0",children:h.jsx(PF,{})}),h.jsx(ka,{value:"events",className:"m-0",children:h.jsx(TF,{})}),h.jsx(ka,{value:"matches",className:"m-0",children:h.jsx(AF,{})}),h.jsx(ka,{value:"players",className:"m-0",children:h.jsx(NF,{})}),h.jsxs(ka,{value:"seasons",className:"space-y-6 m-0",children:[h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(qr,{children:[h.jsx(Kr,{className:"font-heading text-2xl text-primary",children:"Active Season"}),h.jsx(pi,{children:"Current season where matches are being recorded"})]}),h.jsx(xr,{className:"space-y-4",children:p?h.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):n?h.jsx("div",{className:"space-y-3",children:h.jsxs("div",{className:"p-4 bg-primary/10 border border-primary/20 rounded-lg flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-lg font-heading font-bold text-primary",children:n.name}),h.jsxs("p",{className:"text-xs text-muted-foreground uppercase tracking-wider font-bold",children:["Started: ",new Date(n.start_date).toLocaleDateString()]})]}),h.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)] animate-pulse"})]})}):h.jsx("p",{className:"text-sm text-destructive font-bold",children:"No active season found!"})})]}),h.jsxs(pr,{className:"border-amber-500/30 bg-amber-500/5",children:[h.jsxs(qr,{children:[h.jsxs(Kr,{className:"flex items-center gap-2 font-heading text-xl text-amber-500",children:[h.jsx(W5,{className:"h-5 w-5"}),"Archive Season & Start New"]}),h.jsx(pi,{children:"End the current season, create snapshots, and reset for a new season"})]}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:[h.jsx("p",{className:"text-sm text-amber-500 font-bold uppercase tracking-wider mb-2",children:" This will:"}),h.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside font-medium",children:[h.jsx("li",{children:"Create final standings snapshots for all active players"}),h.jsx("li",{children:"Archive the current season permanently"}),h.jsx("li",{children:"Reset all player ratings to NULL (inactive)"}),h.jsx("li",{children:"Create a new active season for fresh matches"})]})]}),h.jsx(_t,{onClick:ve,disabled:E||!n,size:"lg",className:"w-full font-heading font-bold uppercase tracking-wider bg-amber-600 hover:bg-amber-700 text-white",children:E?"Archiving Season...":"Archive Season & Start New"}),z&&!z.success&&h.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive rounded-lg",children:[h.jsx("p",{className:"text-destructive font-bold uppercase tracking-wider text-xs",children:"Error"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:z.error})]}),z&&z.success&&h.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[h.jsx("p",{className:"text-green-500 font-bold uppercase tracking-wider text-xs",children:" Season Archived!"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Season has been archived and a new active season created."})]})]})]}),h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(qr,{children:[h.jsx(Kr,{className:"font-heading text-2xl",children:"Season History"}),h.jsx(pi,{children:'Previously archived seasons. Click "Activate" to restore a season as the current active season.'})]}),h.jsxs(xr,{children:[p?h.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):a.filter(ie=>ie.status==="archived").length>0?h.jsx("div",{className:"space-y-3",children:a.filter(ie=>ie.status==="archived").sort((ie,ge)=>ge.id-ie.id).map(ie=>h.jsx("div",{className:"p-4 bg-background/50 border border-border/40 rounded-lg hover:border-primary/30 transition-colors",children:h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-heading font-bold text-lg",children:ie.name}),h.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[new Date(ie.start_date).toLocaleDateString(),ie.end_date&&` - ${new Date(ie.end_date).toLocaleDateString()}`]}),ie.description&&h.jsx("p",{className:"text-xs text-muted-foreground mt-1 italic",children:ie.description})]}),h.jsx(_t,{onClick:()=>je(ie.id),disabled:I&&D===ie.id,size:"sm",variant:"outline",className:"font-bold uppercase tracking-wider text-xs",children:I&&D===ie.id?"Activating...":"Activate"})]})},ie.id))}):h.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No archived seasons yet"}),O&&!O.success&&h.jsxs("div",{className:"mt-4 p-4 bg-destructive/10 border border-destructive rounded-lg",children:[h.jsx("p",{className:"text-destructive font-bold uppercase tracking-wider text-xs",children:"Error"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:O.error})]}),O&&O.success&&h.jsxs("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[h.jsx("p",{className:"text-green-500 font-bold uppercase tracking-wider text-xs",children:" Season Activated!"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Season has been restored as the active season and player ratings have been restored."})]})]})]})]}),h.jsx(ka,{value:"tools",className:"space-y-6 m-0",children:h.jsxs(pr,{className:"bg-card/50 border-border/50",children:[h.jsxs(qr,{children:[h.jsx(Kr,{className:"font-heading text-2xl",children:"Calculate Season Ratings"}),h.jsx(pi,{children:"Calculate ratings for seasons. Select the active season to recalculate current season, or archived seasons to retroactively calculate."})]}),h.jsxs(xr,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-bold uppercase tracking-wider text-muted-foreground",children:"Select Season"}),h.jsxs(Lg,{value:ae!==null?ae.toString():"",onValueChange:ie=>{const ge=ie?parseInt(ie):null;re(ge)},children:[h.jsx(Fu,{className:"w-full bg-background/50 border-primary/30",children:h.jsx(Ig,{placeholder:"Choose a season..."})}),h.jsx(Wu,{children:a.sort((ie,ge)=>ie.id===0?-1:ge.id===0?1:ie.id-ge.id).map(ie=>h.jsxs(Ns,{value:ie.id.toString(),children:[ie.name," ",ie.status==="active"?"(Active)":""]},ie.id))})]})]}),h.jsx(_t,{onClick:()=>ae!==null&&Fe(ae),disabled:ae===null||ce.status==="running",size:"lg",className:"w-full font-heading font-bold uppercase tracking-wider",children:ce.status==="running"?"Calculating...":"Calculate Season Ratings"}),ce.status==="running"&&h.jsxs("div",{className:"space-y-2 p-4 bg-background/30 rounded-lg border border-border/30",children:[h.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase tracking-wider text-muted-foreground",children:[h.jsxs("span",{children:["Processing match ",ce.currentMatch]}),h.jsxs("span",{children:[ce.processedMatches," / ",ce.totalMatches]})]}),h.jsx("div",{className:"w-full bg-secondary/50 rounded-full h-2.5 overflow-hidden",children:h.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-300 shadow-[0_0_10px_rgba(var(--primary-rgb),0.5)]",style:{width:`${Ye()}%`}})}),h.jsxs("div",{className:"text-center text-sm font-bold text-primary",children:[Ye(),"%"]})]}),we&&!we.success&&h.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive rounded-lg",children:[h.jsx("p",{className:"text-destructive font-bold uppercase tracking-wider text-xs",children:"Error"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:we.error})]}),we&&we.success&&h.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500 rounded-lg",children:[h.jsx("p",{className:"text-green-500 font-bold uppercase tracking-wider text-xs",children:" Success!"}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created ",we.eventsCreated," rating events and snapshots for this season."]})]})]})]})})]})]})]}):h.jsx("div",{className:"container py-8",children:h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs(pr,{children:[h.jsxs(qr,{children:[h.jsx(Kr,{children:"Access Denied"}),h.jsx(pi,{children:"You don't have admin privileges. Please contact an administrator."})]}),h.jsxs(xr,{children:[h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your user ID: ",h.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:e.user.id})]}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"To grant yourself admin access, run this SQL in Supabase Studio:"}),h.jsx("pre",{className:"bg-muted p-3 rounded mt-2 text-xs overflow-x-auto",children:`UPDATE auth.users
SET raw_app_meta_data = COALESCE(raw_app_meta_data, '{}'::jsonb) || jsonb_build_object('role', 'admin')
WHERE id = '${e.user.id}';`}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Then refresh this page."})]})]})})}):h.jsx(eE,{to:"/login",replace:!0})}function NS(){fn("Upcoming Matches");const[e,t]=M.useState([]),[r,n]=M.useState([]),[s,a]=M.useState([]),[c,p]=M.useState(!0);M.useEffect(()=>{let S=!0;return(async()=>{const[E,A,z]=await Promise.all([bb(),E5(),_5()]);S&&(t(E),n(A),a(z),p(!1))})(),()=>{S=!1}},[]);const v=M.useMemo(()=>{if(!e.length||!r.length)return[];const S=new Map(e.map(E=>[E.id,E]));return r.map(E=>({...E,matches:s.filter(A=>A.event_id===E.id).map(A=>({...A,player1:S.get(A.player1_id),player2:S.get(A.player2_id)})).sort((A,z)=>(A.match_order??0)-(z.match_order??0))}))},[e,r,s]),b=S=>{const E=new Date(S);return E.setHours(E.getHours()+3),E.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})};return c?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Upcoming Matches"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]}):v.length===0?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Upcoming Matches"}),h.jsx(pr,{children:h.jsx(xr,{className:"pt-6",children:h.jsx("p",{className:"text-muted-foreground",children:"No upcoming events scheduled."})})})]}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-primary/30 pb-4",children:[h.jsx("h1",{className:"text-4xl font-heading font-bold text-primary drop-shadow-[0_0_10px_rgba(234,179,8,0.3)] uppercase tracking-widest",children:"Upcoming Battles"}),h.jsx("div",{className:"h-1 w-24 bg-primary/50 rounded-full"})]}),v.map(S=>h.jsxs(pr,{className:"bg-card/80 backdrop-blur-md border-border/60 shadow-lg overflow-hidden group",children:[h.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary/50 group-hover:bg-primary transition-colors"}),h.jsx(qr,{className:"bg-muted/30 border-b border-border/30 pb-4",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{children:[h.jsxs(Kr,{className:"font-heading text-2xl text-foreground tracking-wide flex items-center gap-3",children:[S.title,h.jsx("span",{className:"text-xs font-body font-normal text-muted-foreground px-2 py-0.5 border border-border rounded uppercase tracking-wider",children:"Event"})]}),h.jsxs(pi,{className:"font-body text-base mt-1 flex items-center gap-2",children:[h.jsx("span",{className:"text-primary",children:""})," ",b(S.event_date)]}),S.description&&h.jsxs("p",{className:"text-sm text-muted-foreground mt-3 italic border-l-2 border-primary/30 pl-3",children:['"',S.description,'"']})]}),S.stream_url&&h.jsx("a",{href:S.stream_url,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 bg-primary/10 border border-primary/50 text-primary hover:bg-primary hover:text-primary-foreground transition-all duration-300 text-sm font-heading font-bold uppercase tracking-wider rounded-sm shadow-[0_0_10px_rgba(234,179,8,0.1)] hover:shadow-[0_0_15px_rgba(234,179,8,0.4)]",children:"Watch Stream"})]})}),h.jsx(xr,{className:"pt-6",children:S.matches.length===0?h.jsx("div",{className:"text-center py-8 text-muted-foreground italic font-body",children:"No battles scheduled for this event yet."}):h.jsx("div",{className:"space-y-4",children:S.matches.map((E,A)=>{const{player1:z,player2:U}=E;if(!z||!U)return h.jsxs("div",{className:"p-4 border border-destructive/30 bg-destructive/10 rounded text-destructive text-center font-heading",children:["Match ",A+1,": Player data missing"]},E.id);const D=Ez(z,U);return h.jsxs("div",{className:"relative p-4 border border-border/40 bg-background/40 rounded-sm hover:border-primary/50 transition-colors group/match",children:[h.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-background px-2 text-xs font-heading font-bold text-muted-foreground uppercase tracking-widest border border-border/30 rounded-full",children:["Match ",A+1]}),h.jsxs("div",{className:"flex items-center justify-between gap-4 mt-2",children:[h.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[h.jsxs(Mr,{to:`/players/${z.id}`,className:"relative shrink-0 group/p1",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-md opacity-0 group-hover/p1:opacity-100 transition-opacity"}),h.jsx(Rs,{name:z.name,twitter:z.twitter,size:56,className:"h-14 w-14 border-2 border-border group-hover/p1:border-primary transition-colors relative z-10"})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx(Mr,{to:`/players/${z.id}`,className:"hover:text-primary transition-colors block",children:h.jsx("div",{className:"font-heading font-bold text-lg leading-tight truncate",children:z.name})}),h.jsxs("div",{className:"text-xs font-body text-muted-foreground uppercase tracking-wider mt-0.5",children:["Rating: ",h.jsx("span",{className:"text-foreground font-bold",children:z.rating===null?"Unrated":Math.round(z.rating)})]}),h.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs font-bold",children:[h.jsxs("span",{className:"text-green-500 drop-shadow-[0_0_5px_rgba(34,197,94,0.3)]",children:["+",ic(D.player1.winRatingChange)]}),h.jsx("span",{className:"text-red-500 drop-shadow-[0_0_5px_rgba(239,68,68,0.3)]",children:ic(D.player1.loseRatingChange)})]})]})]}),h.jsx("div",{className:"font-heading font-black text-2xl text-primary/20 shrink-0 px-4 select-none group-hover/match:text-primary/40 transition-colors italic",children:"VS"}),h.jsxs("div",{className:"flex items-center gap-4 flex-1 flex-row-reverse text-right",children:[h.jsxs(Mr,{to:`/players/${U.id}`,className:"relative shrink-0 group/p2",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-md opacity-0 group-hover/p2:opacity-100 transition-opacity"}),h.jsx(Rs,{name:U.name,twitter:U.twitter,size:56,className:"h-14 w-14 border-2 border-border group-hover/p2:border-primary transition-colors relative z-10"})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx(Mr,{to:`/players/${U.id}`,className:"hover:text-primary transition-colors block",children:h.jsx("div",{className:"font-heading font-bold text-lg leading-tight truncate",children:U.name})}),h.jsxs("div",{className:"text-xs font-body text-muted-foreground uppercase tracking-wider mt-0.5",children:["Rating: ",h.jsx("span",{className:"text-foreground font-bold",children:U.rating===null?"Unrated":Math.round(U.rating)})]}),h.jsxs("div",{className:"flex items-center justify-end gap-3 mt-1 text-xs font-bold",children:[h.jsxs("span",{className:"text-green-500 drop-shadow-[0_0_5px_rgba(34,197,94,0.3)]",children:["+",ic(D.player2.winRatingChange)]}),h.jsx("span",{className:"text-red-500 drop-shadow-[0_0_5px_rgba(239,68,68,0.3)]",children:ic(D.player2.loseRatingChange)})]})]})]})]})]},E.id)})})})]},S.id))]})}const Jj=M.createContext(void 0);function RF(){return typeof window>"u"?"light":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function TS(e){const t=document.documentElement,r=e==="system"?RF():e;t.classList.remove("light","dark"),r==="dark"?t.classList.add("dark"):t.classList.add("light")}function LF({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme"}){const[n,s]=M.useState(()=>typeof window>"u"?t:window.localStorage.getItem(r)??t);M.useEffect(()=>{TS(n);try{window.localStorage.setItem(r,n)}catch{}},[n,r]),M.useEffect(()=>{if(n!=="system"||typeof window>"u")return;const c=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>TS("system");try{c.addEventListener("change",p)}catch{c.addListener(p)}return()=>{try{c.removeEventListener("change",p)}catch{c.removeListener(p)}}},[n]);const a=M.useMemo(()=>({theme:n,setTheme:s}),[n]);return h.jsx(Jj.Provider,{value:a,children:e})}function IF(){const e=M.useContext(Jj);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}function DF(){const{theme:e,setTheme:t}=IF(),r=e==="system"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e,n=r==="light"?"dark":"light",s=r==="light"?"Switch to dark":"Switch to light";return h.jsx("div",{className:"flex items-center gap-1",children:h.jsxs(_t,{variant:"ghost",size:"icon","aria-label":s,title:s,onClick:()=>t(n),className:"relative h-10 w-10",children:[h.jsx(r3,{className:"absolute h-6 w-6 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),h.jsx(q5,{className:"absolute h-6 w-6 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]})})}function BF({matchId:e,open:t,onOpenChange:r}){const{players:n,matches:s}=bg(),[a,c]=M.useState(null),[p,v]=M.useState(null),[b,S]=M.useState({}),[E,A]=M.useState(null),[z,U]=M.useState(!1),D=M.useMemo(()=>s.find(J=>J.id===e),[s,e]),R=M.useMemo(()=>D||E,[D,E]),I=n.find(J=>J.id===(R==null?void 0:R.player1_id)),T=n.find(J=>J.id===(R==null?void 0:R.player2_id));M.useEffect(()=>{if(!e||D)return;let J=!0;return U(!0),(async()=>{try{const{data:we,error:Se}=await Ve.from("matches").select("id, player1_id, player2_id, winner_id, player1_score, player2_score, rating_change_p1, rating_change_p2, event_id, match_order, vod_link, season_id").eq("id",e).single();if(!J)return;if(Se){console.warn("Failed to fetch match from server:",Se),A(null),U(!1);return}we&&(console.log("Fetched match from server:",we),A(we)),U(!1)}catch(we){if(!J)return;console.warn("Error fetching match from server:",we),A(null),U(!1)}})(),()=>{J=!1}},[e,D]),M.useEffect(()=>{let J=!0;return R!=null&&R.id?((async()=>{try{const{data:we,error:Se}=await Ve.from("rating_events").select("player_id, rating, rating_change, event_type").eq("match_id",R.id);if(!J)return;if(Se){console.warn("Failed to fetch rating events for match",R.id,Se),S({});return}const be={};for(const ve of we??[])(ve==null?void 0:ve.event_type)!=="match"||typeof(ve==null?void 0:ve.player_id)!="number"||(be[ve.player_id]={rating:typeof ve.rating=="number"?ve.rating:ve.rating??null,rating_change:typeof ve.rating_change=="number"?ve.rating_change:ve.rating_change??null});S(be)}catch(we){if(!J)return;console.warn("Failed to load rating events for match",R.id,we),S({})}})(),()=>{J=!1}):(S({}),()=>{J=!1})},[R==null?void 0:R.id]);const O=M.useMemo(()=>{if(!R)return{p1:null,p2:null};const J=(ve,je)=>{if(!ve)return null;const Fe=s.filter(he=>he.id>R.id&&(he.player1_id===ve.id||he.player2_id===ve.id));let Ye=ve.rating??1500;for(const he of Fe){const Me=he.player1_id===ve.id?he.rating_change_p1??0:he.rating_change_p2??0;Ye-=Me}const ie=je??null,ge=ie!==null?Ye-ie:null;return{ratingAfter:Number.isFinite(Ye)?Ye:null,ratingBefore:ge!==null&&Number.isFinite(ge)?ge:null,ratingChange:ie}},we=(ve,je)=>{if(!ve)return null;const Fe=b[ve.id];if(!Fe)return null;const Ye=Fe.rating_change??je??null,ie=Fe.rating??null,ge=Ye!==null&&ie!==null?ie-Ye:null;return{ratingAfter:ie,ratingBefore:ge,ratingChange:Ye}},Se=J(I,R.rating_change_p1??null),be=J(T,R.rating_change_p2??null);return{p1:we(I,R.rating_change_p1??null)??Se,p2:we(T,R.rating_change_p2??null)??be}},[R,I,T,s,b]),q=O.p1,ae=O.p2,re=(q==null?void 0:q.ratingChange)??(R==null?void 0:R.rating_change_p1)??null,ce=(ae==null?void 0:ae.ratingChange)??(R==null?void 0:R.rating_change_p2)??null;return M.useEffect(()=>{if(!(R!=null&&R.event_id)){c(null);return}let J=!0;return(async()=>{const we=await $u();if(!J)return;const Se=we.find(be=>be.id===R.event_id);c((Se==null?void 0:Se.title)??null)})(),()=>{J=!1}},[R==null?void 0:R.event_id]),M.useEffect(()=>{if(!(R!=null&&R.season_id)){v(null);return}let J=!0;return(async()=>{try{const{data:we,error:Se}=await Ve.from("seasons").select("name").eq("id",R.season_id).single();if(!J)return;if(Se){console.warn("Failed to fetch season",Se),v(null);return}v((we==null?void 0:we.name)??null)}catch(we){if(!J)return;console.warn("Failed to load season",we),v(null)}})(),()=>{J=!1}},[R==null?void 0:R.season_id]),R?h.jsx(_c,{open:t,onOpenChange:r,children:h.jsxs(Wa,{className:"max-w-4xl bg-card/90 backdrop-blur-xl border-primary/50 shadow-[0_0_50px_rgba(0,0,0,0.5)] p-0 overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent"}),h.jsx(Ua,{className:"sr-only",children:h.jsx(Ha,{children:"Match Details"})}),h.jsxs("div",{className:"relative p-6 md:p-10 space-y-8",children:[h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-primary/10 via-background/50 to-background pointer-events-none"}),h.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-8 items-center",children:[h.jsx("div",{className:"flex flex-col items-center gap-6 order-2 md:order-1",children:I&&h.jsxs(h.Fragment,{children:[h.jsxs(Mr,{className:"group flex flex-col items-center",to:`/players/${I.id}`,onClick:()=>r(!1),children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/30 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),h.jsx(Rs,{name:I.name,twitter:I.twitter,size:120,className:`h-24 w-24 md:h-32 md:w-32 mx-auto border-4 transition-all duration-300 ${R.winner_id===R.player1_id?"border-yellow-500 shadow-[0_0_20px_rgba(234,179,8,0.5)]":"border-border group-hover:border-primary"}`})]}),h.jsx("div",{className:"font-heading font-bold text-2xl mt-4 group-hover:text-primary transition-colors text-center tracking-wide",children:I.name})]}),h.jsx("div",{className:`w-full max-w-xs rounded-lg border p-4 backdrop-blur-sm transition-colors ${R.winner_id===R.player1_id?"border-yellow-500/50 bg-yellow-500/5":"border-border/50 bg-card/30"}`,children:h.jsxs("div",{className:"text-center space-y-3",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-6xl font-heading font-black mb-1 drop-shadow-lg",style:{color:R.winner_id===R.player1_id?"#eab308":"hsl(var(--muted-foreground))"},children:R.player1_score??"?"}),R.winner_id===R.player1_id&&h.jsx("div",{className:"text-sm font-heading font-bold text-yellow-500 uppercase tracking-widest",children:"Victory"})]}),re!==null&&h.jsxs("div",{className:"pt-3 border-t border-border/30 space-y-2",children:[h.jsx("div",{className:"text-xs text-muted-foreground font-heading uppercase tracking-widest",children:"Rating Change"}),h.jsxs("div",{className:"inline-flex items-center gap-2 text-xl font-bold font-mono",children:[(re??0)>=0?h.jsx(rc,{size:20,className:"text-green-500"}):h.jsx(tc,{size:20,className:"text-red-500"}),h.jsx("span",{className:(re??0)>=0?"text-green-500":"text-red-500",children:Math.abs(re??0).toFixed(1)})]}),q&&q.ratingBefore!==null&&q.ratingAfter!==null&&h.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground font-mono",children:[h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(q.ratingBefore)}),h.jsx("span",{className:(re??0)>=0?"text-green-500":"text-red-500",children:""}),h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(q.ratingAfter)})]})]})]})})]})}),h.jsx("div",{className:"flex flex-col items-center justify-center order-1 md:order-2 py-4 md:py-0",children:h.jsx("div",{className:"text-5xl md:text-7xl font-heading font-black text-transparent bg-clip-text bg-gradient-to-b from-yellow-300 to-yellow-700 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)] italic pr-2",children:"VS"})}),h.jsx("div",{className:"flex flex-col items-center gap-6 order-3",children:T&&h.jsxs(h.Fragment,{children:[h.jsxs(Mr,{className:"group flex flex-col items-center",to:`/players/${T.id}`,onClick:()=>r(!1),children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-primary/30 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),h.jsx(Rs,{name:T.name,twitter:T.twitter,size:120,className:`h-24 w-24 md:h-32 md:w-32 mx-auto border-4 transition-all duration-300 ${R.winner_id===R.player2_id?"border-yellow-500 shadow-[0_0_20px_rgba(234,179,8,0.5)]":"border-border group-hover:border-primary"}`})]}),h.jsx("div",{className:"font-heading font-bold text-2xl mt-4 group-hover:text-primary transition-colors text-center tracking-wide",children:T.name})]}),h.jsx("div",{className:`w-full max-w-xs rounded-lg border p-4 backdrop-blur-sm transition-colors ${R.winner_id===R.player2_id?"border-yellow-500/50 bg-yellow-500/5":"border-border/50 bg-card/30"}`,children:h.jsxs("div",{className:"text-center space-y-3",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-6xl font-heading font-black mb-1 drop-shadow-lg",style:{color:R.winner_id===R.player2_id?"#eab308":"hsl(var(--muted-foreground))"},children:R.player2_score??"?"}),R.winner_id===R.player2_id&&h.jsx("div",{className:"text-sm font-heading font-bold text-yellow-500 uppercase tracking-widest",children:"Victory"})]}),ce!==null&&h.jsxs("div",{className:"pt-3 border-t border-border/30 space-y-2",children:[h.jsx("div",{className:"text-xs text-muted-foreground font-heading uppercase tracking-widest",children:"Rating Change"}),h.jsxs("div",{className:"inline-flex items-center gap-2 text-xl font-bold font-mono",children:[(ce??0)>=0?h.jsx(rc,{size:20,className:"text-green-500"}):h.jsx(tc,{size:20,className:"text-red-500"}),h.jsx("span",{className:(ce??0)>=0?"text-green-500":"text-red-500",children:Math.abs(ce??0).toFixed(1)})]}),ae&&ae.ratingBefore!==null&&ae.ratingAfter!==null&&h.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground font-mono",children:[h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(ae.ratingBefore)}),h.jsx("span",{className:(ce??0)>=0?"text-green-500":"text-red-500",children:""}),h.jsx("span",{className:"font-semibold text-foreground",children:Math.round(ae.ratingAfter)})]})]})]})})]})})]}),(R.event_id||R.vod_link||p)&&h.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-6 pt-6 border-t border-border/30 flex-wrap",children:[p&&h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-muted/20 border border-border/30",children:[h.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-heading",children:"Season"}),h.jsx("span",{className:"font-bold text-sm",children:p})]}),R.event_id&&h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-muted/20 border border-border/30",children:[h.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider font-heading",children:"Event"}),h.jsx(Mr,{className:"text-primary hover:text-primary/80 hover:underline font-bold text-sm transition-colors",to:`/events/${R.event_id}`,onClick:()=>r(!1),children:a??"Loading..."})]}),R.vod_link&&h.jsxs("a",{href:R.vod_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-white font-heading font-bold text-sm uppercase tracking-wider transition-colors shadow-lg hover:shadow-red-600/20",children:[R.vod_link.includes("youtube.com")||R.vod_link.includes("youtu.be")?h.jsx(GE,{className:"h-4 w-4"}):R.vod_link.includes("twitch.tv")?h.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})}):h.jsx(WE,{className:"h-4 w-4"}),"Watch Battle"]})]})]})]})}):h.jsx(_c,{open:t,onOpenChange:r,children:h.jsxs(Wa,{children:[h.jsx(Ua,{children:h.jsx(Ha,{children:"Match Not Found"})}),z?h.jsx("p",{className:"text-muted-foreground text-sm",children:"Fetching match data from server..."}):h.jsx("p",{className:"text-muted-foreground text-sm",children:"The match you're looking for doesn't exist."})]})})}function $F(){const{session:e,loading:t,signOut:r}=Vb(),[n,s]=M.useState(!1),{matchId:a,closeMatch:c}=Gb();return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"min-h-screen bg-background text-foreground font-body selection:bg-primary selection:text-primary-foreground",children:[h.jsx("nav",{className:"border-b border-border/60 bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:h.jsxs("div",{className:"container flex items-center gap-4 md:gap-8 py-3 md:py-4 flex-wrap",children:[h.jsx(po,{to:"/",className:"shrink-0 group",children:h.jsx("div",{className:"bg-red-800 px-4 py-2 rounded-md shadow-lg group-hover:shadow-xl transition-all group-hover:scale-105 border border-red-700",children:h.jsx("span",{className:"font-heading font-black text-xl tracking-widest text-white",children:"OFC"})})}),h.jsxs("div",{className:"hidden md:flex gap-6 text-sm font-heading font-bold tracking-wider uppercase",children:[h.jsx(po,{to:"/rankings",className:({isActive:p})=>`transition-colors hover:text-primary ${p?"text-primary drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]":"text-muted-foreground"}`,children:"Rankings"}),h.jsx(po,{to:"/matches",className:({isActive:p})=>`transition-colors hover:text-primary ${p?"text-primary drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]":"text-muted-foreground"}`,children:"Matches"}),h.jsx(po,{to:"/events",className:({isActive:p})=>`transition-colors hover:text-primary ${p?"text-primary drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]":"text-muted-foreground"}`,children:"Events"})]}),h.jsxs("div",{className:"ml-auto flex items-center gap-2 md:gap-4 min-w-0",children:[t?h.jsx("div",{className:"h-8 w-24 animate-pulse rounded-md bg-muted","aria-hidden":!0}):e?h.jsx(_t,{variant:"ghost",size:"sm",onClick:r,className:"font-heading uppercase tracking-wider hover:text-primary hover:bg-primary/10",children:"Sign out"}):h.jsx(_t,{asChild:!0,variant:"outline",size:"sm",className:"font-heading uppercase tracking-wider border-primary/50 hover:border-primary hover:bg-primary/10 text-primary",children:h.jsx(po,{to:"/login",children:"Login"})}),h.jsx(DF,{}),h.jsx("button",{type:"button","aria-label":"Toggle menu","aria-expanded":n,className:"inline-flex h-9 w-9 items-center justify-center rounded-md hover:bg-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring md:hidden text-primary",onClick:()=>s(p=>!p),children:n?h.jsx(_b,{className:"h-5 w-5"}):h.jsx(X5,{className:"h-5 w-5"})})]}),h.jsx("div",{className:`${n?"block":"hidden"} w-full md:hidden border-t border-border/50 mt-2`,onClick:()=>s(!1),children:h.jsxs("div",{className:"flex flex-col gap-2 pt-4 pb-3 text-sm font-heading font-bold tracking-wider uppercase",children:[h.jsx(po,{to:"/rankings",className:({isActive:p})=>p?"text-primary pl-2 border-l-2 border-primary":"text-muted-foreground pl-2 border-l-2 border-transparent",children:"Rankings"}),h.jsx(po,{to:"/matches",className:({isActive:p})=>p?"text-primary pl-2 border-l-2 border-primary":"text-muted-foreground pl-2 border-l-2 border-transparent",children:"Matches"}),h.jsx(po,{to:"/events",className:({isActive:p})=>p?"text-primary pl-2 border-l-2 border-primary":"text-muted-foreground pl-2 border-l-2 border-transparent",children:"Events"})]})})]})}),h.jsx("main",{className:"container py-8 md:py-12",children:h.jsxs(LR,{children:[h.jsx(Bi,{path:"/",element:h.jsx(NS,{})}),h.jsx(Bi,{path:"/rankings",element:h.jsx(S$,{})}),h.jsx(Bi,{path:"/players",element:h.jsx(eE,{to:"/rankings",replace:!0})}),h.jsx(Bi,{path:"/players/:id",element:h.jsx(Dz,{})}),h.jsx(Bi,{path:"/matches",element:h.jsx(jz,{})}),h.jsx(Bi,{path:"/events",element:h.jsx(Nz,{})}),h.jsx(Bi,{path:"/events/:id",element:h.jsx(Tz,{})}),h.jsx(Bi,{path:"/upcoming",element:h.jsx(NS,{})}),h.jsx(Bi,{path:"/profile",element:h.jsx(Az,{})}),h.jsx(Bi,{path:"/login",element:h.jsx(eF,{})}),h.jsx(Bi,{path:"/admin",element:h.jsx(OF,{})}),h.jsx(Bi,{path:"*",element:h.jsx(tF,{})})]})})]}),h.jsx(BF,{matchId:a,open:a!==null,onOpenChange:p=>!p&&c()})]})}function zF(){return h.jsx(Mz,{children:h.jsx($F,{})})}Hx.createRoot(document.getElementById("root")).render(h.jsx(Jn.StrictMode,{children:h.jsx(Bz,{children:h.jsx(LF,{defaultTheme:"dark",storageKey:"scelo-theme",children:h.jsx(HR,{children:h.jsx(zF,{})})})})}));
