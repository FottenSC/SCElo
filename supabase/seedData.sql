
CREATE TEMPORARY TABLE seedData(
  player1 varchar(128),
  player2 varchar(128),
  player1Score INT,
  player2Score INT,
  winner varchar(128)
);


INSERT INTO seeddata (player1, player2, player1score, player2score, winner) 
VALUES
  ('X-Ray','Goatreich',5,2,'X-Ray'),
  ('Jumpie','TadlosSC',5,4,'Jumpie'),
  ('Hajin','Yangin',5,1,'Hajin'),
  ('Horken','X-Ray',5,0,'Horken'),
  ('TotemGenbu','Kellerak',5,3,'TotemGenbu'),
  ('TaokakaMeow','The Arpeggiator',5,2,'TaokakaMeow'),
  ('Freemard','DarthSeppius',5,2,'Freemard'),
  ('Hajin','Momotehk',5,4,'Hajin'),
  ('Mental','Aby',5,4,'Mental'),
  ('GasparSC','Jumpie',5,0,'GasparSC'),
  ('Ganondeurf','Athena',5,4,'Ganondeurf'),
  ('Yangin','TotemGenbu',5,4,'Yangin'),
  ('Mental','Jumpie',5,3,'Mental'),
  ('Aby','Baddy',5,2,'Aby'),
  ('X-Ray','Samurai',5,0,'X-Ray'),
  ('Momotehk','TadlosSC',5,1,'Momotehk'),
  ('TaokakaMeow','GasparSC',5,3,'TaokakaMeow'),
  ('Athena','DarthSeppius',5,2,'Athena'),
  ('X-Ray','TotemGenbu',5,2,'X-Ray'),
  ('Kellerak','Zollith',5,1,'Kellerak'),
  ('Freemard','Sett',5,1,'Freemard'),
  ('WorldBranstar','Rosa',5,3,'WorldBranstar'),
  ('Jumpie','Metabee',5,2,'Jumpie'),
  ('TadlosSC','Samurai',5,0,'TadlosSC'),
  ('SomethingRefined','Afflatus Misery',5,3,'SomethingRefined'),
  ('Scarlet','DarthSeppius',5,4,'Scarlet'),
  ('Scarlet','TadlosSC',5,1,'Scarlet'),
  ('Rosa','Lyonide',10,0,'Rosa'),
  ('SomethingRefined','TadlosSC',5,0,'SomethingRefined'),
  ('Afflatus Misery','Patrick',10,9,'Afflatus Misery'),
  ('Aby','Afflatus Misery',10,6,'Aby'),
  ('Scarlet','Nashley',5,1,'Scarlet'),
  ('DarthSeppius','MonkeyKing',5,3,'DarthSeppius'),
  ('Ssylus','WorldBranstar',5,1,'Ssylus'),
  ('Momotehk','Junky',5,0,'Momotehk'),
  ('Zollith','Jumpie',5,1,'Zollith'),
  ('Ssylus','Fotten',10,2,'Ssylus'),
  ('Scarlet','Afflatus Misery',5,0,'Scarlet'),
  ('Fanlee','DarthSeppius',10,3,'Fanlee'),
  ('Lyonide','Scarlet',5,4,'Lyonide'),
  ('Freemard','Aby',5,1,'Freemard'),
  ('Ssylus','Noobycide',5,3,'Ssylus'),
  ('Ganondeurf','WorldBranstar',10,7,'Ganondeurf'),
  ('MonkeyKing','X-Ray',5,3,'MonkeyKing'),
  ('TadlosSC','Afflatus Misery',5,4,'TadlosSC'),
  ('WorldBranstar','JabberJayjay',5,4,'WorldBranstar'),
  ('Scarlet','AutobahnAlpha',5,1,'Scarlet'),
  ('Mental','The Arpeggiator',5,3,'Mental'),
  ('Freemard','LozKias',5,2,'Freemard'),
  ('Ssylus','DarthSeppius',5,1,'Ssylus'),
  ('The Arpeggiator','Momotehk',5,2,'The Arpeggiator'),
  ('Scarlet','X-Ray',5,2,'Scarlet'),
  ('Kellerak','JabberJayjay',5,3,'Kellerak'),
  ('Freemard','Lyonide',5,2,'Freemard'),
  ('Ozhora','Jumpie',5,4,'Ozhora'),
  ('LEV77','Fotten',5,4,'LEV77'),
  ('Volty','X-Ray',5,2,'Volty'),
  ('Kellerak','SpartanTigra',5,2,'Kellerak'),
  ('WorldBranstar','Patrick',5,3,'WorldBranstar'),
  ('Rosa','Raziel',5,4,'Rosa'),
  ('Habaduba','Ganondeurf',5,3,'Habaduba'),
  ('X-Ray','Junky',5,3,'X-Ray'),
  ('GasparSC','Jumpie',5,1,'GasparSC'),
  ('Zollith','Aby',5,2,'Zollith'),
  ('WorldBranstar','Necrologen',5,3,'WorldBranstar'),
  ('Sett','Lyonide',5,3,'Sett'),
  ('Momotehk','X-Ray',5,3,'Momotehk'),
  ('Kellerak','The Arpeggiator',5,1,'Kellerak'),
  ('Mental','Afflatus Misery',5,3,'Mental'),
  ('Lyonide','LEV77',5,2,'Lyonide'),
  ('Volty','Jumpie',5,2,'Volty'),
  ('Lars','FateKuru',5,0,'Lars'),
  ('SomethingRefined','Horken',5,1,'SomethingRefined'),
  ('Yin','Ssylus',5,1,'Yin'),
  ('Jumpie','Junky',5,0,'Jumpie'),
  ('Aby','SpartanTigra',5,0,'Aby'),
  ('Fotten','VileMuffin',5,4,'Fotten'),
  ('SomethingRefined','Volty',5,4,'SomethingRefined'),
  ('TadlosSC','X-Ray',5,1,'TadlosSC'),
  ('Mental','Kellerak',5,4,'Mental'),
  ('Ganondeurf','Baddy',5,1,'Ganondeurf'),
  ('VileMuffin','TaokakaMeow',5,1,'VileMuffin'),
  ('Patrick','Frieden',5,1,'Patrick'),
  ('Momotehk','Jumpie',5,4,'Momotehk'),
  ('X-Ray','SomethingRefined',5,4,'X-Ray'),
  ('Freemard','Sett',5,3,'Freemard'),
  ('Valhanya','Kellerak',5,1,'Valhanya'),
  ('Fotten','Lyonide',5,4,'Fotten'),
  ('ZER0','TadlosSC',5,3,'ZER0'),
  ('Patrick','Volty',5,3,'Patrick'),
  ('Ganondeurf','Ssylus',5,4,'Ganondeurf'),
  ('Sekirei','SpartanTigra',5,1,'Sekirei'),
  ('Mental','WorldBranstar',5,4,'Mental'),
  ('Sonder','SomethingRefined',5,1,'Sonder'),
  ('Ssylus','Blade of Flame',5,2,'Ssylus'),
  ('Freemard','Fotten',5,2,'Freemard'),
  ('Sonder','Patrick',5,2,'Sonder'),
  ('Jumpie','X-Ray',5,2,'Jumpie'),
  ('Junky','SiloZen',5,2,'Junky'),
  ('Ganondeurf','DarthSeppius',5,2,'Ganondeurf'),
  ('Kellerak','SpartanTigra',5,4,'Kellerak'),
  ('Stray','The Arpeggiator',5,4,'Stray'),
  ('TadlosSC','TapiocaKing',5,1,'TadlosSC'),
  ('Ssylus','Habaduba',5,0,'Ssylus'),
  ('Freemard','Zollith',5,1,'Freemard'),
  ('The Arpeggiator','Jumpie',5,0,'The Arpeggiator'),
  ('Sett','Lyonide',5,2,'Sett'),
  ('WorldBranstar','SpartanTigra',5,3,'WorldBranstar'),
  ('Fotten','Mental',5,3,'Fotten'),
  ('Aby','Afflatus Misery',5,3,'Aby'),
  ('GasparSC','TadlosSC',5,0,'GasparSC'),
  ('D3xus','Ssylus',5,2,'D3xus'),
  ('DarthSeppius','Habaduba',5,4,'DarthSeppius'),
  ('Fotten','Darxy',5,0,'Fotten'),
  ('Rosa','Sekirei',5,2,'Rosa'),
  ('TadlosSC','Jumpie',5,2,'TadlosSC'),
  ('LozKias','Lyonide',5,3,'LozKias'),
  ('WorldBranstar','Kellerak',5,0,'WorldBranstar'),
  ('TaokakaMeow','Aby',5,3,'TaokakaMeow'),
  ('Freemard','SHeF-87',5,0,'Freemard'),
  ('Sonder','Horken',5,2,'Sonder'),
  ('Domitto','Ganondeurf',5,4,'Domitto'),
  ('Lyonide','Kellerak',5,3,'Lyonide'),
  ('Aby','Iona Rose',5,1,'Aby'),
  ('D3xus','DarthSeppius',5,1,'D3xus'),
  ('Hazu','VileMuffin',5,2,'Hazu'),
  ('Afflatus Misery','Unicorn',5,4,'Afflatus Misery');





INSERT INTO players(name)
SELECT DISTINCT Name
  FROM (
    SELECT Player1 as Name FROM seedData
    UNION SELECT  Player2 FROM seedData
  ) AS T
WHERE 
  NOT EXISTS(
    SELECT *
    FROM players AS P
    where
      P.Name = T.Name
  );


--Remove previous seedData
DELETE FROM matches as m 
WHERE m.is_fake_data = true;

INSERT INTO matches(
  player1_id, player1_score,
  player2_id, player2_score, 
  winner_id, is_fake_data
)
SELECT --S.*, 
  P1.id as player1ID, S.player1Score,
  P2.id as player2ID, S.player2Score,
  W.id as winnerID, 
  true as isFakeData
FROM seedData as S
INNER JOIN players AS P1
  ON P1.name = S.player1
INNER JOIN players AS P2
  ON P2.name = S.player2
INNER JOIN players AS W
  ON W.name = S.winner;

